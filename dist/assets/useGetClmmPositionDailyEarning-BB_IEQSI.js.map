{"version":3,"file":"useGetClmmPositionDailyEarning-BB_IEQSI.js","sources":["../../src/hooks/position/useGetClmmPositionDailyEarning.ts"],"sourcesContent":["import { ClmmPositionDailyEarningPath } from '@/apis/path'\nimport { aprProcessing } from '@/utils/api-data-utils'\nimport { useFetch } from '@cetus/hooks'\nimport { formatCurrency } from '@cetus/utils'\nimport { d } from '@cetusprotocol/common-sdk'\n\nexport default function useGetClmmPositionDailyEarning() {\n  const { fetchByApi } = useFetch()\n  const getClmmPositionDailyEarning = async (position_id: string, currentPoolTvl: string) => {\n    try {\n      const res = await fetchByApi(ClmmPositionDailyEarningPath, 'GET', {\n        position_id\n      })\n      if (res?.FeeA) {\n        const { FeeA, FeeB, Mining } = res\n        const { dailyExpansionFactorUSD: dailyExpansionFactorUSDFeeA } = FeeA\n        const { dailyExpansionFactorUSD: dailyExpansionFactorUSDFeeB } = FeeB\n        let dailyExpansionFactorUSDMining = d(0)\n        Mining.forEach((item: any) => {\n          dailyExpansionFactorUSDMining = d(item.dailyExpansionFactorUSD).add(dailyExpansionFactorUSDMining)\n        })\n        const totalDailyExpansionFactorUSD = d(dailyExpansionFactorUSDFeeA)\n          .add(d(dailyExpansionFactorUSDFeeB))\n          .add(dailyExpansionFactorUSDMining)\n          .toString()\n\n        if (currentPoolTvl !== undefined && d(currentPoolTvl).gt(0)) {\n          const apr = d(totalDailyExpansionFactorUSD).div(d(currentPoolTvl)).mul(365).toString()\n          const aprDisplay = aprProcessing(apr, true)\n          const dailyEarnUSDDisplay = formatCurrency(totalDailyExpansionFactorUSD, 2)\n\n          return { apr, aprDisplay, totalDailyExpansionFactorUSD, dailyEarnUSDDisplay, originResult: res }\n        }\n      }\n    } catch (error) {\n      console.log('ðŸš€ðŸš€ðŸš€ ~ useGetClmmPositionDailyEarning.ts:35 ~ getClmmPositionDailyEarning ~ error:', error)\n      throw error\n    }\n  }\n  return { getClmmPositionDailyEarning }\n}\n"],"names":["useGetClmmPositionDailyEarning","fetchByApi","useFetch","position_id","currentPoolTvl","res","ClmmPositionDailyEarningPath","FeeA","FeeB","Mining","dailyExpansionFactorUSDFeeA","dailyExpansionFactorUSDFeeB","dailyExpansionFactorUSDMining","d","item","totalDailyExpansionFactorUSD","apr","aprDisplay","aprProcessing","dailyEarnUSDDisplay","formatCurrency","error"],"mappings":"wKAMA,SAAwBA,GAAiC,CACvD,KAAM,CAAE,WAAAC,CAAA,EAAeC,EAAA,EAgCvB,MAAO,CAAE,4BA/B2B,MAAOC,EAAqBC,IAA2B,CACzF,GAAI,CACF,MAAMC,EAAM,MAAMJ,EAAWK,EAA8B,MAAO,CAChE,YAAAH,CAAA,CACD,EACD,GAAIE,GAAA,MAAAA,EAAK,KAAM,CACb,KAAM,CAAE,KAAAE,EAAM,KAAAC,EAAM,OAAAC,CAAA,EAAWJ,EACzB,CAAE,wBAAyBK,CAAA,EAAgCH,EAC3D,CAAE,wBAAyBI,CAAA,EAAgCH,EACjE,IAAII,EAAgCC,EAAE,CAAC,EACvCJ,EAAO,QAASK,GAAc,CAC5BF,EAAgCC,EAAEC,EAAK,uBAAuB,EAAE,IAAIF,CAA6B,CACnG,CAAC,EACD,MAAMG,EAA+BF,EAAEH,CAA2B,EAC/D,IAAIG,EAAEF,CAA2B,CAAC,EAClC,IAAIC,CAA6B,EACjC,SAAA,EAEH,GAAIR,IAAmB,QAAaS,EAAET,CAAc,EAAE,GAAG,CAAC,EAAG,CAC3D,MAAMY,EAAMH,EAAEE,CAA4B,EAAE,IAAIF,EAAET,CAAc,CAAC,EAAE,IAAI,GAAG,EAAE,SAAA,EACtEa,EAAaC,EAAcF,EAAK,EAAI,EACpCG,EAAsBC,EAAeL,EAA8B,CAAC,EAE1E,MAAO,CAAE,IAAAC,EAAK,WAAAC,EAAY,6BAAAF,EAA8B,oBAAAI,EAAqB,aAAcd,CAAA,CAC7F,CACF,CACF,OAASgB,EAAO,CACd,cAAQ,IAAI,uFAAwFA,CAAK,EACnGA,CACR,CACF,CACS,CACX"}