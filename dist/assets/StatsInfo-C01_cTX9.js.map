{"version":3,"file":"StatsInfo-C01_cTX9.js","sources":["../../../utils/src/assertion.ts","../../src/hooks/dlmm/useDlmmGetAllBinWithPool.ts","../../src/hooks/dlmm/useGetDlmmRelatedPools.ts","../../src/hooks/dlmm/useDlmmHelper.ts","../../src/components/liquidity/dlmm/StatsInfo.tsx"],"sourcesContent":["export function isFunction(value: any) {\n  return typeof value === 'function'\n}\n\nexport function isNumeric(value: any) {\n  return value != null && value - parseFloat(value) + 1 >= 0\n}\n\nexport function isEmptyObj(value: any) {\n  return Object.keys(value).length === 0\n}\n","import { formatBinPriceFromLamport } from '@/utils/dlmm'\nimport { useSdk } from '@cetus/sdk-factory'\nimport { BinAmount, GetPoolBinInfoOption } from '@cetusprotocol/dlmm-sdk'\n\nexport default function useDlmmGetAllBinWithPool() {\n  const dlmmSdk = useSdk('dlmm')\n  // 从合约拿到所有bin信息r\n  const getBinsInfoByPool = async (option: GetPoolBinInfoOption, baseDecimal: number, quoteDecimal: number) => {\n    const res = await dlmmSdk!.Pool.getPoolBinInfo(option)\n    console.log('getBinsInfoByPool res', res)\n    const allBinObj = Object.fromEntries(\n      res?.map((item: BinAmount) => [\n        String(item.bin_id),\n        {\n          ...item,\n          price: formatBinPriceFromLamport(item.price_per_lamport, baseDecimal, quoteDecimal)\n        }\n      ])\n    )\n    // setPoolAllBinObj(allBinObj as Record<string, ChartBinItem>)\n    return {\n      allBinObj,\n      binList: [...res]\n    }\n  }\n\n  return {\n    getBinsInfoByPool\n  }\n}\n","import useDlmmLiquidityStore from '@/store/dlmm'\nimport { DLMMPoolApiInfo, PoolApiInfo } from '@/types'\nimport { useFetch } from '@cetus/hooks'\nimport useQueryParams from '@cetus/hooks/src/useQueryParams'\nimport { useGetToken } from '@cetus/hooks/src/useToken'\nimport { Token } from '@cetus/types'\nimport { d, isAvailableObject } from '@cetus/utils'\nimport { maxBy } from 'lodash-es'\nimport { useEffect, useState } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport useGetDlmmPools from '../pool/useGetDlmmPools'\nimport useGetDlmmContractPoolInfo from './useGetDlmmContractPoolInfo'\n\nfunction useGetDlmmRelatedPools() {\n  const { tab, poolId, from, to, fee } = useQueryParams()\n  const [relatedPoolList, setRelatedPoolList] = useState<Partial<PoolApiInfo>[]>([])\n  const { dlmmApiPoolInfo, setDlmmApiPoolInfo, setDlmmApiPoolInfoLoading, setNetError } = useDlmmLiquidityStore()\n  const navigate = useNavigate()\n  const { fetchTokenInfo } = useGetToken()\n  const { getDlmmPools } = useGetDlmmPools()\n  const { fetchByApi } = useFetch()\n  const { getDlmmContractPoolInfo } = useGetDlmmContractPoolInfo()\n\n  /**\n   * 获取当前token对的相关池子列表\n   * Get the related pool list of the current token pair\n   * @param param0 poolAddress: 池子地址 / poolAddress: poolAddress\n   * @param param1 from: 代币A coin_type / from: tokenA coin_type\n   * @param param2 to: 代币B coin_type / to: tokenB coin_type\n   */\n  const getList = async ({ poolId, from, to }: { poolId?: string; from?: string; to?: string }) => {\n    console.log('🚀🚀🚀 ~ useGetRelatedPools.ts:148 ~ getList ~ getList:')\n    try {\n      setDlmmApiPoolInfoLoading(true)\n      let res, pool: DLMMPoolApiInfo | undefined\n      if (poolId && poolId !== 'undefined') {\n        console.log('🚀🚀🚀 ~ useGetRelatedPools.ts:32 ~ getList ~ poolId:', poolId)\n        const _res = await getDlmmPools({ pools: [poolId], display_all_pools: true })\n        console.log('🚀🚀🚀 ~ useGetRelatedPools.ts:52 ~ getList ~ _res:', _res)\n        if (_res && _res.list && _res.list.length) {\n          pool = _res.list[0]\n          res = await getDlmmPools({\n            coin_type: `${pool?.displayTokenA?.coin_type},${pool?.displayTokenB?.coin_type}`,\n            is_vaults: false,\n            display_all_pools: true,\n            has_mining: true,\n            has_farming: true,\n            no_incentives: true,\n            order_by: '-vol',\n            offset: 0\n          })\n        } else if (dlmmApiPoolInfo && isAvailableObject(dlmmApiPoolInfo)) {\n          pool = dlmmApiPoolInfo\n          res = { list: relatedPoolList }\n        } else {\n          pool = { poolId, displayTokenA: undefined, displayTokenB: undefined }\n          res = { list: [] }\n        }\n        setDlmmApiPoolInfoLoading(false)\n      } else if (from && to && from !== 'undefined' && to !== 'undefined' && from !== to) {\n        const _res = await getDlmmPools({\n          coin_type: `${from},${to}`,\n          is_vaults: false,\n          display_all_pools: true,\n          has_mining: true,\n          has_farming: true,\n          no_incentives: true,\n          order_by: '-vol',\n          offset: 0\n        })\n        console.log(res, pool, 'setDlmmApiPoolInfoLoading')\n        if (_res && _res.list && _res.list.length) {\n          if (fee && fee !== 'undefined') {\n            const _pool = _res?.list?.find(item => d(item?.feeRate).eq(fee))\n            if (_pool) {\n              if (tab) {\n                navigate(`/dlmm?tab=${tab}&poolId=${_pool?.poolAddress}`)\n              } else {\n                navigate(`/dlmm?poolId=${_pool?.poolAddress}`)\n              }\n            } else {\n              const _pool = maxBy(_res?.list, item => Number(item?.tvl || '0'))\n              if (tab) {\n                navigate(`/dlmm?tab=${tab}&poolId=${_pool?.poolId}`)\n              } else {\n                navigate(`/dlmm?poolId=${_pool?.poolId}`)\n              }\n            }\n          } else {\n            let _pool = maxBy(_res?.list, item => Number(item?.tvl || '0'))\n\n            if (!_pool) {\n              _pool = maxBy(_res?.list, item => Number(item?.object?.liquidity || '0'))\n              if (!_pool) {\n                _pool = _res?.list[0]\n              }\n            }\n            if (tab) {\n              navigate(`/dlmm?tab=${tab}&poolId=${_pool?.poolId}`)\n            } else {\n              navigate(`/dlmm?poolId=${_pool?.poolId}`)\n            }\n          }\n        } else {\n          const tokenMap = await fetchTokenInfo([from, to].filter(Boolean))\n          const _displayTokenA = (tokenMap as Map<string, Token>)?.get(from)\n          const _displayTokenB = (tokenMap as Map<string, Token>)?.get(to)\n          pool = { poolAddress: undefined, displayTokenA: _displayTokenA, displayTokenB: _displayTokenB }\n          res = { list: [] }\n          setDlmmApiPoolInfoLoading(false)\n        }\n      } else {\n        if ((!from || from === 'undefined') && to && to !== 'undefined') {\n          const _displayTokenB = await fetchTokenInfo(to)\n          pool = { poolAddress: undefined, displayTokenA: undefined, displayTokenB: _displayTokenB as Token }\n        }\n        if ((!to || to === 'undefined') && from && from !== 'undefined') {\n          const _displayTokenA = await fetchTokenInfo(from)\n          pool = { poolAddress: undefined, displayTokenA: _displayTokenA as Token, displayTokenB: undefined }\n        }\n\n        res = { list: [] }\n        setDlmmApiPoolInfoLoading(false)\n      }\n      if (res) {\n        console.log(res, pool, 'res, pool')\n        setNetError(false)\n        setRelatedPoolList(res?.list)\n        if (pool) {\n          if (pool?.poolAddress && poolId) {\n            if (pool?.poolAddress === poolId) {\n              setDlmmApiPoolInfo(pool as any)\n            }\n          } else {\n            if (poolId) {\n              await getDlmmContractPoolInfo(poolId)\n            } else {\n              setDlmmApiPoolInfo(pool as any)\n            }\n          }\n        }\n      }\n\n      setDlmmApiPoolInfoLoading(false)\n    } catch (error) {\n      if ((error as any)?.list && (error as any)?.list?.length === 1) {\n        setNetError(true)\n        const _pool = (error as any)?.list[0]\n        console.log((error as any)?.list, 'setApiPoolInfo')\n\n        setDlmmApiPoolInfo(_pool)\n\n        setRelatedPoolList([])\n      }\n    } finally {\n      setDlmmApiPoolInfoLoading(false)\n    }\n  }\n\n  useEffect(() => {\n    if (poolId && poolId === 'undefined') return\n    if (!poolId && poolId === undefined && !from && !to) return\n    getList({ poolId, from, to })\n    // getDlmmContractPoolInfo(poolId)\n  }, [poolId, from, to])\n\n  return {\n    getList,\n    relatedPoolList\n  }\n}\n\nexport default useGetDlmmRelatedPools\n","import { RangePriceType } from '@/store/dlmm/addDlmmLiquidity'\nimport { getRelatedDisplayChartPrice } from '@/utils/dlmm'\nimport { Token } from '@cetus/types'\nimport { d } from '@cetusprotocol/common-sdk'\nimport { BinUtils } from '@cetusprotocol/dlmm-sdk'\n\nexport const adjustReferBinId = (minBinId: number, maxBinId: number, inputBinId: number, isInputMin: boolean, referBinId?: number) => {\n  if (isInputMin) {\n    if (referBinId && inputBinId > referBinId) {\n      let _binId = inputBinId + 48\n      if (_binId < minBinId) {\n        _binId = minBinId\n      }\n      if (_binId > maxBinId) {\n        _binId = maxBinId\n      }\n      return _binId\n    }\n  } else {\n    if (referBinId && inputBinId < referBinId) {\n      let _binId = inputBinId - 48\n      if (_binId < minBinId) {\n        _binId = minBinId\n      }\n      if (_binId > maxBinId) {\n        _binId = maxBinId\n      }\n      return _binId\n    }\n  }\n  return referBinId\n}\n\nexport function useMinMaxBinIdByAmount(isAutoFill: boolean, fromToken?: Token, tokenA?: Token, fromAmount?: string, toAmount?: string) {\n  /**\n   * 根据numBinsNum和activeId计算最小和最大binId\n   * @param numBinsNum\n   * @param activeId\n   * @returns { minBinId, maxBinId }\n   */\n  const formatMinMaxBinId = (numBinsNum: number, activeId: number) => {\n    if (!fromToken) return\n    let minBinId\n    let maxBinId\n    if (!isAutoFill) {\n      const coinAmountA = fromToken?.coin_type === tokenA?.coin_type ? fromAmount : toAmount\n      const coinAmountB = fromToken?.coin_type === tokenA?.coin_type ? toAmount : fromAmount\n\n      const isInputAmountA = d(coinAmountA || 0).gt(0)\n      const isInputAmountB = d(coinAmountB || 0).gt(0)\n\n      if (isInputAmountA && !isInputAmountB) {\n        minBinId = activeId\n        maxBinId = minBinId + numBinsNum - 1\n        return { minBinId, maxBinId }\n      } else if (!isInputAmountA && isInputAmountB) {\n        maxBinId = activeId\n        minBinId = maxBinId - numBinsNum + 1\n        return { minBinId, maxBinId }\n      }\n    }\n\n    let leftBins: number\n    let rightBins: number\n\n    if (numBinsNum % 2 === 1) {\n      // 奇数情况：active bin在中间，左右各分配 (numBins-1)/2 个bins\n      const half = Math.floor((numBinsNum - 1) / 2)\n      leftBins = half\n      rightBins = half\n    } else {\n      // 偶数情况：active bin右偏，左侧比右侧多1个bin\n      const half = numBinsNum / 2\n      leftBins = half\n      rightBins = half - 1\n    }\n\n    // 计算最小和最大binId\n    minBinId = activeId - leftBins\n    maxBinId = activeId + rightBins\n\n    return { minBinId, maxBinId }\n  }\n  return { formatMinMaxBinId }\n}\n\nexport function useMinMaxPriceData(tokenA?: Token, tokenB?: Token, binStep?: number) {\n  const buildPriceData = (binId: number, isMin: boolean): RangePriceType | undefined => {\n    if (!tokenA || !tokenB || !binStep) return\n    const price = BinUtils.getPriceFromBinId(binId, binStep, tokenA.decimals, tokenB.decimals)\n    const [displayPrice, reversePrice, displayReversePrice] = getRelatedDisplayChartPrice(price)\n    return {\n      tokenA,\n      tokenB,\n      binId,\n      price,\n      displayPrice,\n      reversePrice,\n      displayReversePrice,\n      type: isMin ? 'lower' : 'upper',\n      actionSource: 'user',\n      triggerFrom: 'input'\n    }\n  }\n\n  const formatMinMaxPriceData = (minBinId: number, maxBinId: number) => {\n    if (!tokenA || !tokenB || !binStep) return\n\n    const minPriceData = buildPriceData(minBinId, true)\n    const maxPriceData = buildPriceData(maxBinId, false)\n\n    return { minPriceData, maxPriceData }\n  }\n  return { formatMinMaxPriceData, buildPriceData }\n}\n","import useWindowWidth from '@cetus/hooks/src/useWindowWidth'\nimport { HTextLabelBox, VTextLabelBox } from '@cetus/ui-kit'\n\ninterface StatsInfoProps {\n  label: string\n  value: string | JSX.Element\n  loading?: boolean\n}\n\nfunction StatsInfo({ label, value, loading }: StatsInfoProps) {\n  const { isApp } = useWindowWidth()\n  return isApp ? (\n    <HTextLabelBox\n      label={label}\n      value={value}\n      labelStyle={{ fontSize: '12px' }}\n      valueStyle={{ fontSize: '14px', h: '14px', fontWeight: '500' }}\n      isLoading={loading}\n      skeletonStyle={{ valueW: '60px' }}\n    />\n  ) : (\n    <VTextLabelBox\n      wrapStyle={{\n        gap: '8px',\n        alignItems: 'flex-end'\n      }}\n      titleStyle={{\n        fontSize: '12px'\n      }}\n      valueStyle={{\n        fontSize: '14px',\n        fontWeight: '500'\n      }}\n      title={label}\n      value={value}\n      isLoading={loading}\n      skeletonStyle={{ valueW: '60px', valueH: '14px' }}\n    />\n  )\n}\n\nexport default StatsInfo\n"],"names":["isEmptyObj","value","useDlmmGetAllBinWithPool","dlmmSdk","useSdk","option","baseDecimal","quoteDecimal","res","item","formatBinPriceFromLamport","useGetDlmmRelatedPools","tab","poolId","from","to","fee","useQueryParams","relatedPoolList","setRelatedPoolList","useState","dlmmApiPoolInfo","setDlmmApiPoolInfo","setDlmmApiPoolInfoLoading","setNetError","useDlmmLiquidityStore","navigate","useNavigate","fetchTokenInfo","useGetToken","getDlmmPools","useGetDlmmPools","useFetch","getDlmmContractPoolInfo","useGetDlmmContractPoolInfo","getList","pool","_res","_a","_b","isAvailableObject","_pool","_c","d","maxBy","tokenMap","_displayTokenA","_displayTokenB","error","_d","useEffect","adjustReferBinId","minBinId","maxBinId","inputBinId","isInputMin","referBinId","_binId","useMinMaxBinIdByAmount","isAutoFill","fromToken","tokenA","fromAmount","toAmount","numBinsNum","activeId","coinAmountA","coinAmountB","isInputAmountA","isInputAmountB","leftBins","rightBins","half","useMinMaxPriceData","tokenB","binStep","buildPriceData","binId","isMin","price","BinUtils","displayPrice","reversePrice","displayReversePrice","getRelatedDisplayChartPrice","minPriceData","maxPriceData","StatsInfo","label","loading","isApp","useWindowWidth","jsx","HTextLabelBox","VTextLabelBox"],"mappings":"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"}