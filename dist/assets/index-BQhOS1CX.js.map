{"version":3,"mappings":"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","names":["flashGreen","keyframes","flashRed","green","red","CoinBaseData","isApp","useWindowWidth","coinBvPrice","coinBvPriceLoading","coinDetail","coinDetailLoading","coinMarketData","coinMarketDataLoading","useProStore","priceAnimation","setPriceAnimation","useState","priceParts","setPriceParts","prevPriceRef","useRef","preCoinType","animationTimeoutRef","fdv","useMemo","d","marketCap","findChangedRange","prevStr","currentStr","firstChangeIndex","i","changedIndices","useEffect","currentPrice","prevPrice","prevNum","currentNum","formatUSDPrice","prev","renderAnimatedPrice","formattedPrice","jsxs","Box","char","index","jsx","HStack","VTextLabelBox","VStack","CetusTooltip","Text","Icon","Skeleton","formatNumberWithKMB","TokenDisclaimerModal","isOpen","onClose","website","setProceedTokenDisclaimerObj","isChecked","setIsChecked","handleContinue","addressObj","Modal","ModalOverlay","ModalContent","ModalHeader","Heading","ModalCloseButton","ModalBody","CheckBox","Button","CoinDetailData","getExplorerUrl","useExplorer","isOpenTokenDisclaimer","setIsOpenTokenDisclaimer","proceedTokenDisclaimerObj","ref","React","isOverflowed","setIsOverflowed","el","HTextLabelBox","AddressCopyLink","CoinProgressData","marketData","buysRatio","buysVolRatio","buyersRatio","Progress","ProModeCoinInfo","handleToggleDirect","whiteTokenList","onCoinSelect","defaultTab","currentTab","setCurrentTab","showTokenInfo","coinAuditCheckData","coinAuditCheckLoading","_a","getMarketData","labelValue","tabList","CoinHeader","tab","isActive","data","CoinAuditCheck","LimitPriceChart","lazy","n","module","ProModeTradeTab","__vitePreload","ProChart","ProModeAndChart","isChangeDirect","tokenA","tokenB","connect","disconnect","useWebSocket","isShowTradeChart","useGlobalStore","getCoinRelatedData","useProData","isProMode","setCurrentProTab","currentProTab","currentProTabUpdateWith","setShowTokenInfo","setAnotherTokenInfo","setNotChangeToken","coinBvPriceUnit","isCoinSelect","resetProData","isMounted","setIsMounted","from","useQueryParams","params_from","to","pay","target","useParams","useDebounceEffect","isInit","fixCoinType","oneIsUndefined","ntoken","getHighWeightToken","newShowInfo","a","b","size","useDocumentSize","Stack","Suspense"],"ignoreList":[],"sources":["../../src/components/common/proModeAndChart/CoinBaseData.tsx","../../src/components/common/proModeAndChart/TokenDisclaimerModal.tsx","../../src/components/common/proModeAndChart/CoinDetailData.tsx","../../src/components/common/proModeAndChart/CoinProgressData.tsx","../../src/components/common/proModeAndChart/ProModeCoinInfo.tsx","../../src/components/common/proModeAndChart/index.tsx"],"sourcesContent":["import useProStore from '@/store/pro'\nimport { CetusTooltip } from '@cetus/design'\nimport useWindowWidth from '@cetus/hooks/src/useWindowWidth'\nimport { Icon, VTextLabelBox } from '@cetus/ui-kit'\nimport { d, formatNumberWithKMB, formatUSDPrice } from '@cetus/utils'\nimport { Box, HStack, Skeleton, Text, VStack } from '@chakra-ui/react'\nimport { keyframes } from '@emotion/react'\nimport { useEffect, useMemo, useRef, useState } from 'react'\n\nconst flashGreen = keyframes`\n  0% { background-color: rgba(104,255,216,0.1); }\n  50% { background-color: rgba(104,255,216,0.3); }\n  100% { background-color: transparent; }\n`\n\nconst flashRed = keyframes`\n  0% { background-color: rgba(255,80,115,0.1); }\n  50% { background-color: rgba(255,80,115,0.3); }\n  100% { background-color: transparent; }\n`\n\nconst green = '#68FFD8'\nconst red = '#FF5073'\n\nconst CoinBaseData = () => {\n  const { isApp } = useWindowWidth()\n  const { coinBvPrice, coinBvPriceLoading, coinDetail, coinDetailLoading, coinMarketData, coinMarketDataLoading } = useProStore()\n\n  // 价格变化动画状态\n  const [priceAnimation, setPriceAnimation] = useState<'green' | 'red' | null>(null)\n  const [priceParts, setPriceParts] = useState<{ value: string; changedParts: number[] }>({ value: '', changedParts: [] })\n  const prevPriceRef = useRef<string | null>(null)\n  const preCoinType = useRef<string | null>(null)\n  const animationTimeoutRef = useRef<NodeJS.Timeout | null>(null)\n\n  const fdv = useMemo(() => {\n    if (coinBvPrice?.price && coinDetail?.totalSupply) {\n      return d(coinBvPrice?.price).mul(coinDetail?.totalSupply).toString()\n    }\n    return '0'\n  }, [coinBvPrice?.price, coinDetail?.totalSupply])\n\n  const marketCap = useMemo(() => {\n    if (coinBvPrice?.price && coinDetail?.cirSupply) {\n      return d(coinBvPrice?.price).mul(coinDetail?.cirSupply).toString()\n    }\n    return '0'\n  }, [coinBvPrice?.price, coinDetail?.cirSupply])\n\n  // 改进的变化范围检测函数\n  const findChangedRange = (prevStr: string, currentStr: string) => {\n    let firstChangeIndex = -1\n    let lastChangeIndex = -1\n\n    // 找出第一个变化的字符\n    for (let i = 0; i < Math.max(prevStr.length, currentStr.length); i++) {\n      if (prevStr[i] !== currentStr[i]) {\n        firstChangeIndex = i\n        break\n      }\n    }\n\n    // 如果没有找到变化，返回空数组\n    if (firstChangeIndex === -1) return []\n\n    // 从第一个变化位置开始，标记后面所有字符为变化\n    const changedIndices = []\n    for (let i = firstChangeIndex; i < currentStr.length; i++) {\n      changedIndices.push(i)\n    }\n\n    return changedIndices\n  }\n\n  // 价格变化效果处理\n  useEffect(() => {\n    if (!coinBvPrice?.price || coinBvPriceLoading) return\n\n    const currentPrice = coinBvPrice.price\n    const prevPrice = prevPriceRef.current\n\n    // 清除之前的动画定时器\n    if (animationTimeoutRef.current) {\n      clearTimeout(animationTimeoutRef.current)\n      animationTimeoutRef.current = null\n    }\n\n    // 只有当价格确实变化时才触发动画\n    if (prevPrice && prevPrice !== currentPrice) {\n      const prevNum = parseFloat(prevPrice)\n      const currentNum = parseFloat(currentPrice)\n\n      // 格式化价格（包含千位分隔符）\n      const prevStr = formatUSDPrice(prevPrice)\n      const currentStr = formatUSDPrice(currentPrice)\n\n      // 找出变化的范围（从第一个变化字符到末尾）\n      const changedIndices = findChangedRange(prevStr, currentStr)\n\n      setPriceParts({\n        value: currentStr,\n        changedParts: changedIndices\n      })\n\n      // 设置动画类型\n      if (preCoinType.current !== coinBvPrice?.coinType) {\n        setPriceAnimation(null)\n      } else {\n        if (currentNum > prevNum) {\n          setPriceAnimation('green')\n        } else if (currentNum < prevNum) {\n          setPriceAnimation('red')\n        }\n      }\n\n      // 1秒后清除动画效果\n      animationTimeoutRef.current = setTimeout(() => {\n        setPriceAnimation(null)\n        setPriceParts(prev => ({ ...prev, changedParts: [] }))\n      }, 1000)\n    } else {\n      // 价格没有变化，直接更新显示\n      setPriceParts({\n        value: formatUSDPrice(currentPrice),\n        changedParts: []\n      })\n      setPriceAnimation(null)\n    }\n\n    prevPriceRef.current = currentPrice\n    preCoinType.current = coinBvPrice?.coinType\n  }, [coinBvPrice?.price, coinBvPriceLoading])\n\n  // 组件卸载时清除定时器\n  useEffect(() => {\n    return () => {\n      if (animationTimeoutRef.current) {\n        clearTimeout(animationTimeoutRef.current)\n      }\n    }\n  }, [])\n\n  // 渲染带效果的价格\n  const renderAnimatedPrice = () => {\n    if (coinBvPrice?.price === '0') return '-'\n\n    const formattedPrice = priceParts.value || formatUSDPrice(coinBvPrice?.price)\n\n    if (!priceAnimation || priceParts.changedParts.length === 0) {\n      return `$${formattedPrice}`\n    }\n\n    return (\n      <Box as=\"span\" display=\"inline-block\" animation={`${priceAnimation === 'green' ? flashGreen : flashRed} 2s ease-out`}>\n        $\n        {formattedPrice.split('').map((char, index) => (\n          <Box\n            as=\"span\"\n            key={index}\n            color={priceParts.changedParts.includes(index) ? (priceAnimation === 'green' ? green : red) : 'inherit'}\n            transition=\"color 0.3s ease\"\n          >\n            {char}\n          </Box>\n        ))}\n      </Box>\n    )\n  }\n\n  return (\n    <HStack w=\"100%\" flexWrap=\"wrap\" sx={{ '>div': { w: 'calc((100% - 16px) / 3)', mt: '20px', gap: '8px' } }}>\n      <VTextLabelBox\n        wrapStyle={{\n          alignItems: 'flex-start'\n        }}\n        titleStyle={{\n          fontSize: '12px',\n          color: 'primary_gray'\n        }}\n        title=\"Price USD\"\n        value={renderAnimatedPrice()}\n        isLoading={coinBvPriceLoading}\n      />\n      <VTextLabelBox\n        wrapStyle={{\n          alignItems: 'center'\n        }}\n        titleStyle={{\n          fontSize: '12px',\n          color: 'primary_gray'\n        }}\n        title=\"Liquidity\"\n        value={coinMarketData?.liquidityInUsd || '--'}\n        isLoading={coinMarketDataLoading}\n      />\n      <VStack align=\"flex-end\" w=\"calc((100% - 16px) / 3)\">\n        <CetusTooltip\n          placement=\"top\"\n          tooltip={\n            <Text fontSize=\"12px\" lineHeight=\"20px\" maxW=\"280px\">\n              FDV(Fully Diluted Valuation) = Total Supply × Price\n            </Text>\n          }\n        >\n          <HStack gap=\"0px\">\n            <Text fontSize=\"12px\" color=\"primary_gray\">\n              FDV\n            </Text>\n            <Icon svgW=\"18px\" svgH=\"18px\" xlinkHref=\"#icon-icon_tips\" />\n          </HStack>\n        </CetusTooltip>\n        <Skeleton isLoaded={!coinDetailLoading && !coinBvPriceLoading}>\n          <Text color=\"text_caption\">${formatNumberWithKMB(fdv, 2)}</Text>\n        </Skeleton>\n      </VStack>\n      <VTextLabelBox\n        wrapStyle={{\n          alignItems: 'flex-start'\n        }}\n        titleStyle={{\n          fontSize: '12px',\n          color: 'primary_gray'\n        }}\n        title=\"Market Cap\"\n        value={`$${formatNumberWithKMB(marketCap, 2)}`}\n        isLoading={coinDetailLoading}\n      />\n      <VTextLabelBox\n        wrapStyle={{\n          alignItems: isApp ? 'center' : 'center'\n        }}\n        titleStyle={{\n          fontSize: '12px',\n          color: 'primary_gray'\n        }}\n        title=\"Total Supply\"\n        value={coinDetail?.totalSupplyDisplay || '--'}\n        isLoading={coinDetailLoading}\n      />\n      <VStack align=\"flex-end\" w=\"calc((100% - 16px) / 3)\">\n        <CetusTooltip\n          placement=\"top\"\n          tooltip={\n            <Text fontSize=\"12px\" lineHeight=\"20px\" maxW=\"280px\">\n              Circulating Supply refers to the number of tokens that are currently available to the public and circulating in the market.\n            </Text>\n          }\n        >\n          <HStack gap=\"0px\">\n            <Text fontSize=\"12px\" color=\"primary_gray\">\n              Circ. Supply\n            </Text>\n            <Icon svgW=\"18px\" svgH=\"18px\" xlinkHref=\"#icon-icon_tips\" />\n          </HStack>\n        </CetusTooltip>\n        <Skeleton isLoaded={!coinDetailLoading}>\n          <Text color=\"text_caption\">{coinDetail?.cirSupplyDisplay || '--'}</Text>\n        </Skeleton>\n      </VStack>\n    </HStack>\n  )\n}\n\nexport default CoinBaseData\n","import useProStore from '@/store/pro'\nimport { CheckBox } from '@cetus/ui-kit'\nimport { Button, Heading, HStack, Modal, ModalBody, ModalCloseButton, ModalContent, ModalHeader, ModalOverlay, Text, VStack } from '@chakra-ui/react'\nimport { useState } from 'react'\ntype TermConditionsProps = {\n  website: string\n  isOpen: boolean\n  onClose: () => void\n}\nexport default function TokenDisclaimerModal({ isOpen, onClose, website }: TermConditionsProps) {\n  const { setProceedTokenDisclaimerObj } = useProStore()\n  const [isChecked, setIsChecked] = useState(false)\n  const handleContinue = () => {\n    const addressObj = {\n      [website]: true\n    }\n    setProceedTokenDisclaimerObj(addressObj)\n    window.open(website)\n    onClose()\n  }\n\n  return (\n    <Modal autoFocus={false} closeOnOverlayClick={false} returnFocusOnClose={false} isOpen={isOpen} onClose={onClose} isCentered>\n      <ModalOverlay />\n      <ModalContent>\n        {/* 标题 */}\n        <ModalHeader>\n          <Heading fontWeight=\"500\" fontSize=\"16px\">\n            You're leaving the Cetus Website\n          </Heading>\n        </ModalHeader>\n        <ModalCloseButton />\n        <ModalBody p={{ base: '8px 12px !important', lg: '8px 12px !important' }}>\n          <VStack w=\"100%\" userSelect=\"none\" p={{ base: '0', lg: '0 8px' }}>\n            <Text fontSize=\"14px\" lineHeight=\"20px\" color=\"text_caption\">\n              By clicking “Process”, you will be redirected to a third party website. Please do your own research before actually interacting with it.\n            </Text>\n            <HStack w=\"100%\" justify=\"center\">\n              <Text\n                textAlign=\"center\"\n                w=\"80%\"\n                h=\"40px\"\n                borderRadius=\"8px\"\n                lineHeight=\"40px\"\n                bg=\"primary_opacity.10\"\n                fontSize=\"14px\"\n                color=\"primary_gray\"\n                margin=\"12px 0\"\n              >\n                {website}\n              </Text>\n            </HStack>\n            <HStack w=\"100%\" justify=\"center\">\n              <CheckBox\n                checked={isChecked}\n                onClick={() => {\n                  setIsChecked(!isChecked)\n                }}\n              />\n              <Text fontSize=\"14px\" color=\"primary_gray\">\n                l understand, do not show me this disclaimer again\n              </Text>\n            </HStack>\n            <HStack w=\"100%\" justify=\"space-between\" mt=\"20px\" mb=\"8px\">\n              <Button variant=\"outline\" fontWeight=\"500\" fontSize=\"14px\" w=\"50%\" onClick={onClose}>\n                Close\n              </Button>\n              <Button isDisabled={!isChecked} fontWeight=\"500\" fontSize=\"14px\" w=\"50%\" onClick={handleContinue}>\n                Proceed\n              </Button>\n            </HStack>\n          </VStack>\n        </ModalBody>\n      </ModalContent>\n    </Modal>\n  )\n}\n","import useProStore from '@/store/pro'\nimport { AddressCopyLink, CetusTooltip } from '@cetus/design'\nimport useExplorer from '@cetus/hooks/src/useExplorer'\nimport useWindowWidth from '@cetus/hooks/src/useWindowWidth'\nimport { HTextLabelBox } from '@cetus/ui-kit'\nimport { Text, VStack } from '@chakra-ui/react'\nimport React, { useState } from 'react'\nimport TokenDisclaimerModal from './TokenDisclaimerModal'\n\nconst CoinDetailData = () => {\n  const { getExplorerUrl } = useExplorer()\n  const { isApp } = useWindowWidth()\n  const [isOpenTokenDisclaimer, setIsOpenTokenDisclaimer] = useState(false)\n  const { proceedTokenDisclaimerObj, coinDetail, coinDetailLoading } = useProStore()\n  const ref = React.useRef<HTMLDivElement>(null)\n  const [isOverflowed, setIsOverflowed] = React.useState(false)\n\n  React.useEffect(() => {\n    const el = ref.current\n    if (el) {\n      setIsOverflowed(el.scrollWidth > el.clientWidth)\n    }\n  }, [coinDetail?.website])\n  return (\n    <VStack gap=\"12px\" w=\"100%\" align=\"flex-start\" sx={{ div: { lineHeight: '20px', h: '20px' } }}>\n      <Text color=\"text_caption\" fontSize=\"16px\">\n        Coin Info\n      </Text>\n      <HTextLabelBox\n        label=\"Creator\"\n        isLoading={coinDetailLoading}\n        labelStyle={{\n          fontSize: '14px',\n          justifyContent: 'space-between',\n          whiteSpace: 'nowrap',\n          color: 'primary_gray'\n        }}\n        value={\n          <AddressCopyLink\n            address={coinDetail?.creator || ''}\n            fontSize=\"14px\"\n            showLink={false}\n            color=\"text_caption\"\n            onClickLink={() => window.open(getExplorerUrl(coinDetail?.creator || '--', 'account'))}\n          />\n        }\n        valueStyle={{\n          fontSize: '14px'\n        }}\n        skeletonStyle={{\n          valueH: '16px !important'\n        }}\n      />\n      <HTextLabelBox\n        label=\"Creation Time\"\n        isLoading={coinDetailLoading}\n        labelStyle={{\n          whiteSpace: 'nowrap',\n          fontSize: '14px',\n          color: 'primary_gray'\n        }}\n        value={coinDetail?.cratedTime || '--'}\n        valueStyle={{\n          fontSize: '14px'\n        }}\n        skeletonStyle={{\n          valueH: '16px !important'\n        }}\n      />\n      <HTextLabelBox\n        label=\"Package ID\"\n        isLoading={coinDetailLoading}\n        labelStyle={{\n          whiteSpace: 'nowrap',\n          fontSize: '14px',\n          color: 'primary_gray'\n        }}\n        value={\n          <AddressCopyLink\n            address={coinDetail?.packageId || ''}\n            fontSize=\"14px\"\n            showLink={false}\n            color=\"text_caption\"\n            onClickLink={() => window.open(getExplorerUrl(coinDetail?.packageId || '', 'package'))}\n          />\n        }\n        valueStyle={{\n          fontSize: '14px'\n        }}\n        skeletonStyle={{\n          valueH: '16px !important'\n        }}\n      />\n      <HTextLabelBox\n        label=\"Coin Type\"\n        isLoading={coinDetailLoading}\n        labelStyle={{\n          whiteSpace: 'nowrap',\n          fontSize: '14px',\n          color: 'primary_gray'\n        }}\n        value={\n          <AddressCopyLink\n            address={coinDetail?.coinType || '--'}\n            fontSize=\"14px\"\n            showLink={false}\n            color=\"text_caption\"\n            onClickLink={() => window.open(getExplorerUrl(coinDetail?.coinType || '--', 'coin'))}\n          />\n        }\n        valueStyle={{\n          fontSize: '14px'\n        }}\n        skeletonStyle={{\n          valueH: '16px !important'\n        }}\n      />\n      <HTextLabelBox\n        label=\"Decimals\"\n        isLoading={coinDetailLoading}\n        labelStyle={{\n          whiteSpace: 'nowrap',\n          fontSize: '14px',\n          color: 'primary_gray'\n        }}\n        value={coinDetail?.decimals === undefined ? '--' : coinDetail?.decimals.toString()}\n        valueStyle={{\n          fontSize: '14px'\n        }}\n        skeletonStyle={{\n          valueH: '16px !important'\n        }}\n      />\n      {coinDetail?.website && (\n        <HTextLabelBox\n          label=\"Website\"\n          isLoading={coinDetailLoading}\n          labelStyle={{\n            whiteSpace: 'nowrap',\n            fontSize: '14px',\n            color: 'primary_gray'\n          }}\n          value={\n            <CetusTooltip\n              placement=\"top\"\n              showTooltip={isOverflowed}\n              tooltip={\n                <Text fontSize=\"12px\" lineHeight=\"20px\" color=\"text_caption\">\n                  {coinDetail?.website}\n                </Text>\n              }\n            >\n              <Text\n                ref={ref}\n                height=\"18px\"\n                cursor=\"pointer\"\n                maxWidth={{ base: '220px', lg: '220px' }}\n                whiteSpace=\"nowrap\"\n                overflow=\"hidden\"\n                textOverflow=\"ellipsis\"\n                sx={{ _hover: { borderBottom: '1px solid' } }}\n                color=\"text_caption\"\n                // onClick={() => window.open(coinDetail?.website)}\n                // TODO proceedTokenDisclaimerObj需要放到indexDB\n                onClick={() => {\n                  console.log('🚀 ~ CoinDetailData ~ proceedTokenDisclaimerObj:', proceedTokenDisclaimerObj)\n                  // && proceedTokenDisclaimerObj?.[coinDetail?.website] 不区分地址 只弹一次\n                  if (coinDetail?.website && proceedTokenDisclaimerObj && Object.keys(proceedTokenDisclaimerObj).length >= 1) {\n                    window.open(coinDetail?.website)\n                  } else {\n                    setIsOpenTokenDisclaimer(true)\n                  }\n                }}\n              >\n                {coinDetail?.website || '--'}\n              </Text>\n            </CetusTooltip>\n          }\n          valueStyle={{\n            fontSize: '14px'\n          }}\n          skeletonStyle={{\n            valueH: '16px !important'\n          }}\n        />\n      )}\n      {isOpenTokenDisclaimer && (\n        <TokenDisclaimerModal website={coinDetail?.website || ''} isOpen={isOpenTokenDisclaimer} onClose={() => setIsOpenTokenDisclaimer(false)} />\n      )}\n    </VStack>\n  )\n}\n\nexport default CoinDetailData\n","import useProStore from '@/store/pro'\nimport useWindowWidth from '@cetus/hooks/src/useWindowWidth'\nimport { VTextLabelBox } from '@cetus/ui-kit'\nimport { d } from '@cetus/utils'\nimport { HStack, Progress, VStack } from '@chakra-ui/react'\nimport { useMemo } from 'react'\n\nconst CoinProgressData = ({ marketData }: { marketData: any }) => {\n  const { isApp } = useWindowWidth()\n  const { coinMarketDataLoading } = useProStore()\n\n  const buysRatio = useMemo(() => {\n    if (marketData?.buys && marketData?.sells) {\n      return !Number(marketData?.buys) ? '0' : d(marketData?.buys).div(d(marketData?.buys).plus(marketData?.sells)).mul(100).toString()\n    }\n    return 0\n  }, [marketData?.buys, marketData?.sells])\n\n  const buysVolRatio = useMemo(() => {\n    if (marketData?.buyVolume && marketData?.sellVolume) {\n      return !Number(marketData?.buyVolume)\n        ? '0'\n        : d(marketData?.buyVolume).div(d(marketData?.buyVolume).plus(marketData?.sellVolume)).mul(100).toString()\n    }\n    return 0\n  }, [marketData?.buyVolume, marketData?.sellVolume])\n\n  const buyersRatio = useMemo(() => {\n    if (marketData?.buyers && marketData?.sellers) {\n      return !Number(marketData?.buyers) ? '0' : d(marketData?.buyers).div(d(marketData?.buyers).plus(marketData?.sellers)).mul(100).toString()\n    }\n    return 0\n  }, [marketData?.buyers, marketData?.sellers])\n\n  return (\n    <VStack w=\"100%\" align=\"flex-start\" mt=\"16px\" gap=\"20px\">\n      <HStack w=\"100%\" align=\"flex-start\" justify=\"space-between\">\n        <VTextLabelBox\n          wrapStyle={{\n            alignItems: 'flex-start',\n            w: '40%',\n            gap: '8px'\n          }}\n          titleStyle={{\n            color: 'primary_gray'\n          }}\n          title=\"Txns\"\n          value={marketData?.txn}\n          isLoading={coinMarketDataLoading}\n        />\n        <VStack w=\"60%\">\n          <HStack w=\"100%\">\n            <VTextLabelBox\n              wrapStyle={{\n                alignItems: 'flex-start',\n                w: '50%',\n                gap: '8px'\n              }}\n              titleStyle={{\n                color: 'primary_gray'\n              }}\n              title=\"Buys\"\n              value={marketData?.buysDisplay}\n              isLoading={coinMarketDataLoading}\n            />\n            <VTextLabelBox\n              wrapStyle={{\n                alignItems: 'flex-end',\n                w: '50%',\n                gap: '8px'\n              }}\n              titleStyle={{\n                color: 'primary_gray'\n              }}\n              title=\"Sells\"\n              value={marketData?.sellsDisplay}\n              isLoading={coinMarketDataLoading}\n            />\n          </HStack>\n          <Progress\n            h=\"4px\"\n            w=\"100%\"\n            mt=\"-4px\"\n            value={Number(buysRatio)}\n            bg={\n              coinMarketDataLoading || (Number(marketData?.buys) == 0 && Number(marketData?.sells) == 0)\n                ? 'card_bg'\n                : Number(marketData?.sells) === 0\n                  ? 'primary_green'\n                  : 'primary_red'\n            }\n            sx={{\n              'div[role=\"progressbar\"]': {\n                bg: 'primary_green'\n              }\n            }}\n          />\n        </VStack>\n      </HStack>\n      <HStack w=\"100%\" align=\"flex-start\" justify=\"space-between\">\n        <VTextLabelBox\n          wrapStyle={{\n            alignItems: 'flex-start',\n            w: '40%',\n            gap: '8px'\n          }}\n          titleStyle={{\n            color: 'primary_gray'\n          }}\n          title=\"Volume\"\n          value={marketData?.volume}\n          isLoading={coinMarketDataLoading}\n        />\n        <VStack w=\"60%\">\n          <HStack w=\"100%\" justify=\"space-between\">\n            <VTextLabelBox\n              wrapStyle={{\n                alignItems: 'flex-start',\n                w: '50%',\n                gap: '8px'\n              }}\n              titleStyle={{\n                color: 'primary_gray'\n              }}\n              title=\"Buy VOL\"\n              value={marketData?.buyVolumeDisplay}\n              isLoading={coinMarketDataLoading}\n            />\n            <VTextLabelBox\n              wrapStyle={{\n                alignItems: 'flex-end',\n                w: '50%',\n                gap: '8px'\n              }}\n              titleStyle={{\n                color: 'primary_gray'\n              }}\n              title=\"Sell VOL\"\n              value={marketData?.sellVolumeDisplay}\n              isLoading={coinMarketDataLoading}\n            />\n          </HStack>\n          <Progress\n            h=\"4px\"\n            w=\"100%\"\n            mt=\"-4px\"\n            value={Number(buysVolRatio)}\n            bg={\n              coinMarketDataLoading || (Number(marketData?.buyVolume) === 0 && Number(marketData?.sellVolume) === 0)\n                ? 'card_bg'\n                : Number(marketData?.sellVolume) === 0\n                  ? 'primary_green'\n                  : 'primary_red'\n            }\n            sx={{\n              'div[role=\"progressbar\"]': {\n                bg: 'primary_green'\n              }\n            }}\n          />\n        </VStack>\n      </HStack>\n      <HStack w=\"100%\" align=\"flex-start\" justify=\"space-between\">\n        <VTextLabelBox\n          wrapStyle={{\n            alignItems: 'flex-start',\n            w: '40%',\n            gap: '8px'\n          }}\n          titleStyle={{\n            color: 'primary_gray'\n          }}\n          title=\"Makers\"\n          value={marketData?.markers}\n          isLoading={coinMarketDataLoading}\n        />\n        <VStack w=\"60%\">\n          <HStack w=\"100%\">\n            <VTextLabelBox\n              wrapStyle={{\n                alignItems: 'flex-start',\n                w: '50%',\n                gap: '8px'\n              }}\n              titleStyle={{\n                color: 'primary_gray'\n              }}\n              title=\"Buyers\"\n              value={marketData?.buyersDisplay}\n              isLoading={coinMarketDataLoading}\n            />\n            <VTextLabelBox\n              wrapStyle={{\n                alignItems: 'flex-end',\n                w: '50%',\n                gap: '8px'\n              }}\n              titleStyle={{\n                color: 'primary_gray'\n              }}\n              title=\"Sellers\"\n              value={marketData?.sellersDisplay}\n              isLoading={coinMarketDataLoading}\n            />\n          </HStack>\n          <Progress\n            h=\"4px\"\n            w=\"100%\"\n            mt=\"-4px\"\n            value={Number(buyersRatio)}\n            bg={\n              coinMarketDataLoading || (Number(marketData?.buyers) === 0 && Number(marketData?.sellers) === 0)\n                ? 'card_bg'\n                : Number(marketData?.sellers) === 0\n                  ? 'primary_green'\n                  : 'primary_red'\n            }\n            sx={{\n              'div[role=\"progressbar\"]': {\n                bg: 'primary_green'\n              }\n            }}\n          />\n        </VStack>\n      </HStack>\n    </VStack>\n  )\n}\n\nexport default CoinProgressData\n","import useProStore from '@/store/pro'\nimport useWindowWidth from '@cetus/hooks/src/useWindowWidth'\nimport { Box, HStack, Skeleton, Text, VStack } from '@chakra-ui/react'\nimport { useEffect, useMemo, useState } from 'react'\nimport CoinAuditCheck from './CoinAuditCheck'\nimport CoinBaseData from './CoinBaseData'\nimport CoinDetailData from './CoinDetailData'\nimport CoinHeader from './CoinHeader'\nimport CoinProgressData from './CoinProgressData'\n\nconst ProModeCoinInfo = ({\n  handleToggleDirect,\n  whiteTokenList,\n  onCoinSelect\n}: {\n  handleToggleDirect: () => void\n  onCoinSelect: (item: any) => void\n  whiteTokenList?: any\n}) => {\n  const { isApp } = useWindowWidth()\n  const defaultTab = { label: '24H', value: '', labelValue: 'hour24' }\n  const [currentTab, setCurrentTab] = useState(defaultTab)\n  const { showTokenInfo, coinMarketData, coinMarketDataLoading, coinAuditCheckData, coinAuditCheckLoading } = useProStore()\n  useEffect(() => {\n    setCurrentTab(defaultTab)\n  }, [showTokenInfo?.coin_type])\n  const marketData = useMemo(() => {\n    return coinMarketData?.market?.[currentTab?.labelValue] || {}\n  }, [coinMarketData, currentTab?.labelValue])\n\n  const getMarketData = (labelValue: string) => {\n    return coinMarketData?.market?.[labelValue]\n  }\n\n  const tabList = [\n    {\n      label: '30M',\n      labelValue: 'm30',\n      value: '+2.12%'\n    },\n    {\n      label: '1H',\n      labelValue: 'hour1',\n      value: '+2.12%'\n    },\n    {\n      label: '4H',\n      labelValue: 'hour4',\n      value: '+2.12%'\n    },\n    {\n      label: '24H',\n      labelValue: 'hour24',\n      value: '+2.12%'\n    }\n  ]\n  return (\n    <VStack w={{ base: '100%', lg: '340px' }} align=\"flex-start\">\n      <CoinHeader whiteTokenList={whiteTokenList} onCoinSelect={onCoinSelect} handleToggleDirect={handleToggleDirect} h5ShowIcon={false} />\n      <CoinBaseData />\n      <Box h=\"1px\" w=\"100%\" bg=\"border\" m=\"12px 0\" />\n      <HStack gap=\"0\" p=\"4px\" justify=\"space-between\" w=\"100%\" bg=\"bg_secondary\" borderRadius=\"12px\" border=\"1px solid\" borderColor=\"border\">\n        {tabList?.map((tab, index) => {\n          const isActive = tab?.label == currentTab?.label\n          const data = getMarketData(tab.labelValue)\n          return (\n            <VStack\n              w=\"25%\"\n              borderRadius=\"8px\"\n              align=\"center\"\n              justify=\"center\"\n              key={`${tab.label}#${index}`}\n              cursor=\"pointer\"\n              p=\"8px\"\n              bg={isActive ? 'card_bg' : 'none'}\n              onClick={() => setCurrentTab(tab)}\n            >\n              <Text\n                fontSize=\"12px\"\n                whiteSpace=\"nowrap\"\n                color={isActive ? 'text_caption' : 'primary_gray'}\n                _hover={{ color: isApp ? 'none' : 'text_caption' }}\n              >\n                {tab.label}\n              </Text>\n              <Skeleton isLoaded={!coinMarketDataLoading} w=\"80%\">\n                <Text\n                  whiteSpace=\"nowrap\"\n                  color={data?.priceChange?.includes('-') ? 'primary_red' : data?.priceChange === '0%' ? 'text_caption' : 'primary_green'}\n                  textAlign=\"center\"\n                >\n                  {data?.priceChange}\n                </Text>\n              </Skeleton>\n            </VStack>\n          )\n        })}\n      </HStack>\n      <CoinProgressData marketData={marketData} />\n      <Box h=\"1px\" w=\"100%\" bg=\"border\" m=\"12px 0\" />\n      <CoinDetailData />\n      <Box h=\"1px\" w=\"100%\" bg=\"border\" m=\"12px 0\" />\n      <CoinAuditCheck coinAuditCheckData={coinAuditCheckData} coinAuditCheckLoading={coinAuditCheckLoading} />\n    </VStack>\n  )\n}\n\nexport default ProModeCoinInfo\n","import useProData from '@/hooks/pro/useProData.ts'\n// import { LimitPriceChart } from '@/components/limit/LimitPriceChart.tsx'\n// import { SwapTrade } from '@/components/swap'\nimport useWebSocket from '@/hooks/common/useWebSocket'\nimport useGlobalStore from '@/store/common/global.ts'\nimport useProStore from '@/store/pro/index.ts'\nimport { getHighWeightToken } from '@/utils/pro'\nimport useDocumentSize from '@cetus/hooks/src/useDocumentSize.ts'\nimport useQueryParams from '@cetus/hooks/src/useQueryParams'\nimport useWindowWidth from '@cetus/hooks/src/useWindowWidth.ts'\nimport { Token } from '@cetus/types'\nimport { fixCoinType } from '@cetusprotocol/common-sdk'\nimport { Box, Stack, VStack } from '@chakra-ui/react'\nimport { useDebounceEffect } from 'ahooks'\nimport { lazy, Suspense, useEffect, useMemo, useState } from 'react'\nimport { useParams } from 'react-router-dom'\nimport ProModeCoinInfo from './ProModeCoinInfo.tsx'\n\nconst LimitPriceChart = lazy(() => import('../../limit/LimitPriceChart.tsx').then(module => ({ default: module.LimitPriceChart })))\nconst ProModeTradeTab = lazy(() => import('./ProModeTradeTab/index.tsx').then(module => ({ default: module.ProModeTradeTab })))\nconst ProChart = lazy(() => import('../../chart/ProChart.tsx'))\n\ntype ProModeAndChartProps = {\n  tokenA?: Token\n  tokenB?: Token\n  isChangeDirect: boolean\n  onCoinSelect: (item: any) => void\n  handleToggleDirect: () => void\n  whiteTokenList?: any\n}\nfunction ProModeAndChart({ isChangeDirect, tokenA, tokenB, handleToggleDirect, whiteTokenList, onCoinSelect }: ProModeAndChartProps) {\n  const { connect, disconnect, state } = useWebSocket({\n    url: 'wss://ws-api.suivision.xyz/ws',\n    autoConnect: false // 手动控制连接\n  })\n  useEffect(() => {\n    // 初始化 WebSocket 连接\n    connect()\n\n    return () => {\n      // 应用卸载时断开连接\n      disconnect()\n    }\n  }, [])\n  const { isShowTradeChart } = useGlobalStore()\n  const { getCoinRelatedData } = useProData()\n  const {\n    isProMode,\n    setCurrentProTab,\n    currentProTab,\n    currentProTabUpdateWith,\n    showTokenInfo,\n    setShowTokenInfo,\n    setAnotherTokenInfo,\n    setNotChangeToken,\n    coinBvPriceUnit,\n    isCoinSelect,\n    resetProData\n  } = useProStore()\n  const [isMounted, setIsMounted] = useState(false)\n  const { from } = useQueryParams()\n  const { from: params_from, to, pay, target } = useParams()\n\n  useEffect(() => {\n    setIsMounted(true)\n  }, [])\n\n  useDebounceEffect(() => {\n    // if ((currentProTabUpdateWith && showTokenInfo?.coin_type) || (!tokenA?.coin_type && !tokenB?.coin_type)) return\n    if (showTokenInfo?.coin_type == tokenA?.coin_type || showTokenInfo?.coin_type == tokenB?.coin_type || (!tokenA?.coin_type && !tokenB?.coin_type))\n      return\n\n    if (isCoinSelect && ((!tokenA?.coin_type && tokenB?.coin_type) || (!tokenB?.coin_type && tokenA?.coin_type))) {\n      setNotChangeToken(true)\n    }\n\n    const isInit = !params_from && !to && !pay && !target\n\n    if (\n      tokenA?.coin_type &&\n      tokenB?.coin_type &&\n      params_from &&\n      to &&\n      fixCoinType(tokenA?.coin_type) !== fixCoinType(params_from) &&\n      fixCoinType(tokenA?.coin_type) !== fixCoinType(to)\n    )\n      return\n    if (\n      tokenA?.coin_type &&\n      tokenB?.coin_type &&\n      params_from &&\n      to &&\n      fixCoinType(tokenB?.coin_type) !== fixCoinType(params_from) &&\n      fixCoinType(tokenB?.coin_type) !== fixCoinType(to)\n    )\n      return\n\n    if (isInit && tokenA?.coin_type !== showTokenInfo?.coin_type) {\n      setCurrentProTab('Buy')\n    }\n\n    const oneIsUndefined =\n      !!((!params_from || params_from === 'undefined') && to) ||\n      !!(params_from && (!to || to === 'undefined')) ||\n      !!(pay && (!target || target === 'undefined')) ||\n      !!((!pay || pay === 'undefined') && target)\n\n    if (tokenA?.coin_type && tokenB?.coin_type) {\n      if (from === 'pro') {\n        setShowTokenInfo(tokenB)\n        setAnotherTokenInfo(tokenA)\n        setNotChangeToken(false)\n        setCurrentProTab('Buy')\n        return\n      }\n      const ntoken = !oneIsUndefined && !isInit ? (currentProTab === 'Buy' ? tokenB : tokenA) : getHighWeightToken(tokenA, tokenB)\n      setShowTokenInfo(ntoken)\n      setAnotherTokenInfo(ntoken?.coin_type === tokenA?.coin_type ? tokenB : tokenA)\n      setNotChangeToken(false)\n      setCurrentProTab(fixCoinType(ntoken?.coin_type) === fixCoinType(tokenA?.coin_type) ? 'Sell' : 'Buy')\n    } else if (tokenA?.coin_type || tokenB?.coin_type) {\n      const newShowInfo = tokenA?.coin_type ? tokenA : tokenB\n      setShowTokenInfo(newShowInfo)\n      setAnotherTokenInfo(tokenA?.coin_type ? tokenB : tokenA)\n      setNotChangeToken(true)\n      setCurrentProTab(tokenA?.coin_type ? 'Sell' : 'Buy')\n    }\n  }, [tokenA?.coin_type, tokenB?.coin_type])\n\n  useEffect(() => {\n    if (isMounted && showTokenInfo?.coin_type && isProMode) {\n      getCoinRelatedData(showTokenInfo?.coin_type)\n    }\n  }, [showTokenInfo?.coin_type, isProMode, isMounted])\n\n  const { a, b } = useMemo(() => {\n    return {\n      a: params_from || pay || '',\n      b: to || target || ''\n    }\n  }, [params_from, to, pay, target])\n\n  // 刷新浏览器时根据地址栏设置currentProTab默认值\n  // useEffect(() => {\n  //   if (!currentProTab && showTokenInfo?.coin_type) {\n  //     if (showTokenInfo?.coin_type === a) {\n  //       setCurrentProTab('Sell')\n  //     } else {\n  //       setCurrentProTab('Buy')\n  //     }\n  //   }\n  // }, [currentProTab, showTokenInfo?.coin_type, a, b])\n\n  useEffect(() => {\n    return () => {\n      resetProData()\n    }\n  }, [])\n\n  const { isApp } = useWindowWidth()\n  const { size } = useDocumentSize()\n\n  return (\n    <Stack\n      h={{ base: 'unset', lg: isProMode ? size?.h - 174 : 'unset' }}\n      minH={{ base: 'unset', lg: isProMode ? '700px' : 'unset' }}\n      w={{ base: '100%', lg: isProMode ? 'calc(100% - 380px)' : 'calc(100% - 470px)' }}\n      flexDir={{ base: 'column', lg: 'row' }}\n      gap=\"0px\"\n      align=\"flex-start\"\n      justify=\"center\"\n      position=\"sticky\"\n      top=\"92px\"\n      mt={isProMode ? '8px' : '0'}\n    >\n      {isProMode && (\n        <Box\n          h={{ base: 'unset', lg: '100%' }}\n          overflowY={{ base: 'unset', lg: 'auto' }}\n          css={{\n            '&::-webkit-scrollbar': { display: 'none' },\n            scrollbarWidth: 'none'\n          }}\n        >\n          <ProModeCoinInfo whiteTokenList={whiteTokenList} onCoinSelect={onCoinSelect} handleToggleDirect={handleToggleDirect} />\n        </Box>\n      )}\n\n      {/* Middle Section */}\n      <VStack\n        h={{ base: 'unset', lg: '100%' }}\n        overflowY={{ base: 'unset', lg: 'auto' }}\n        w={{ base: '100%', lg: isProMode ? 'calc(100% - 340px)' : '100%' }}\n        p={{ base: '0px', lg: isProMode ? '0 20px' : '0 20px 0 0' }}\n        flexGrow={1}\n        css={{\n          '&::-webkit-scrollbar': { display: 'none' },\n          scrollbarWidth: 'none'\n        }}\n      >\n        {!isApp && isShowTradeChart && !isProMode && (\n          <VStack w=\"100%\">\n            <Suspense fallback={<div />}>\n              <LimitPriceChart isChangeDirect={isChangeDirect} baseToken={tokenA} quoteToken={tokenB} />\n            </Suspense>\n          </VStack>\n        )}\n\n        {!isApp && isProMode && (\n          <ProChart\n            whiteTokenList={whiteTokenList}\n            onCoinSelect={onCoinSelect}\n            handleToggleDirect={handleToggleDirect}\n            token={showTokenInfo}\n            tokenPriceUnit={coinBvPriceUnit}\n          />\n        )}\n\n        {isProMode && (\n          <VStack w=\"100%\">\n            <Suspense fallback={<div />}>\n              <ProModeTradeTab />\n            </Suspense>\n          </VStack>\n        )}\n      </VStack>\n\n      {/* Footer for mobile */}\n      {/* {isApp && isProMode && (\n        <HStack w=\"100%\" justify=\"center\" mt=\"20px\">\n          <Text fontSize=\"12px\">Powered by</Text>\n          <Image w=\"20px\" src=\"/images/img_suivision@2x.png\" />\n          <Text fontSize=\"12px\">SuiVision</Text>\n        </HStack>\n      )} */}\n    </Stack>\n  )\n}\n\nexport default ProModeAndChart\n"],"file":"assets/index-BQhOS1CX.js"}