{"version":3,"file":"FilterTable-BGLmuqfJ.js","sources":["../../src/components/common/proModeAndChart/tokenDropSelect/FilterTable.tsx"],"sourcesContent":["import useProStore from '@/store/pro'\nimport { CetusTooltip, useTokenSelect } from '@cetus/design'\nimport SingleTokenInfo from '@cetus/design/src/components/common/SingleTokenInfo'\nimport useWindowWidth from '@cetus/hooks/src/useWindowWidth'\nimport useTokenSelectStore from '@cetus/stores/src/useTokenSelectStore'\nimport { Icon, Table } from '@cetus/ui-kit'\nimport { toLongCoinType } from '@cetus/utils'\nimport { Center, HStack, Skeleton, Text, VStack } from '@chakra-ui/react'\nimport { useEffect, useState } from 'react'\n\nfunction FilterTable({\n  isShowDelete,\n  isLoading,\n  data,\n  onRowClick\n}: {\n  isShowDelete: boolean\n  isLoading: boolean\n  data: any\n  onRowClick: (item: any) => void\n}) {\n  const { isApp } = useWindowWidth()\n  const { userCollectObj, userCollectList } = useTokenSelectStore()\n  const { delUserCollectToken, addUserCollectToken, delImportTokenList } = useTokenSelect()\n  const { proTokenMap, proTokenStatsMap } = useProStore()\n  const [pageLoading, setPageLoading] = useState(false)\n  useEffect(() => {\n    changeIsLoading(isLoading)\n  }, [isLoading])\n\n  const changeIsLoading = (loading: boolean) => {\n    setPageLoading(loading)\n  }\n  return (\n    <VStack w=\"100%\" position=\"relative\" gap=\"16px\">\n      <Table\n        // rowKey=\"coin_type\"\n        columns={getColumns({\n          proTokenStatsMap,\n          proTokenMap,\n          isApp,\n          userCollectObj,\n          userCollectList,\n          delUserCollectToken,\n          addUserCollectToken,\n          delImportTokenList,\n          changeIsLoading,\n          isShowDelete\n        })}\n        dataSource={data}\n        skeletonLength={3}\n        loading={isLoading || pageLoading}\n        isFlexStart={true}\n        trPadding=\"8px\"\n        onRowClick={(item: any) => {\n          onRowClick(item)\n        }}\n        rowStyle={{\n          h: '40px',\n          cursor: 'pointer'\n        }}\n      />\n    </VStack>\n  )\n}\n\nconst getColumns = ({\n  proTokenStatsMap,\n  proTokenMap,\n  isApp,\n  userCollectObj,\n  userCollectList,\n  delUserCollectToken,\n  addUserCollectToken,\n  delImportTokenList,\n  changeIsLoading,\n  isShowDelete\n}: {\n  proTokenStatsMap: any\n  proTokenMap: any\n  isApp: boolean\n  userCollectObj: any\n  userCollectList: any\n  delUserCollectToken: (token: any) => void\n  addUserCollectToken: (token: any) => void\n  delImportTokenList: (token: any) => void\n  changeIsLoading: (loading: boolean) => void\n  isShowDelete?: boolean\n}) => {\n  return [\n    {\n      title: (\n        <Text color=\"primary_gray\" fontSize=\"12px\">\n          Token\n        </Text>\n      ),\n      key: 'token',\n      render: (item: any) => {\n        // const tokenInfo = item?.coin_type ? item : proTokenMap?.get(item?.coinType)\n        const tokenInfo = item\n        return (\n          <HStack mr=\"-16px\" justify=\"flex-start\" sx={{ minW: 'unset', p: { margin: '0' } }}>\n            <Skeleton isLoaded={!!tokenInfo}>\n              <SingleTokenInfo\n                warningIcon={{ isNeedShow: tokenInfo?.isNotBv ? true : false }}\n                token={tokenInfo}\n                nameEllipsesDecimals={10}\n                symbolEllipsesDecimals={8}\n                imgBoxStyle={{ w: '24px', h: '24px' }}\n                symbolFontSize=\"14px\"\n              />\n            </Skeleton>\n          </HStack>\n        )\n      }\n    },\n    {\n      title: (\n        <Text textAlign=\"right\" color=\"primary_gray\" fontSize=\"12px\">\n          Price / 24H%\n        </Text>\n      ),\n      key: 'price24h',\n      render: (item: any) => {\n        const price = item?.coinType && item?.price ? item?.price : proTokenStatsMap?.get(item?.coin_type || item?.coinType)?.price || '--'\n        const priceChange = item?.priceChange ? item?.priceChange : proTokenStatsMap?.get(item?.coin_type || item?.coinType)?.priceChange || '--'\n        return (\n          <VStack align=\"flex-end\" gap=\"0\">\n            <Text fontSize=\"12px\" color=\"text_caption\">\n              {price}\n            </Text>\n            <Text\n              fontSize=\"12px\"\n              color={priceChange == '--' || Number(priceChange) === 0 ? 'text_caption' : priceChange?.includes('-') ? 'primary_red' : 'primary_green'}\n            >\n              {priceChange}\n            </Text>\n          </VStack>\n        )\n      }\n    },\n    {\n      title: (\n        <Text textAlign=\"right\" color=\"primary_gray\" fontSize=\"12px\">\n          VOL(24H)\n        </Text>\n      ),\n      key: 'vol24h',\n      render: (item: any) => {\n        const vol = item?.vol ? item?.vol : proTokenStatsMap?.get(item?.coin_type || item?.coinType)?.vol || '--'\n        return (\n          <HStack justify=\"flex-end\">\n            <Text fontSize=\"12px\" color=\"text_caption\">\n              {vol}\n            </Text>\n          </HStack>\n        )\n      }\n    },\n    {\n      title: <></>,\n      key: 'action',\n      render: (item: any) => (\n        <HStack justify=\"flex-end\" gap=\"4px\" mr=\"-2px\">\n          {item?.coin_type && userCollectObj[toLongCoinType(item?.coin_type)] ? (\n            <CetusTooltip showTooltip={isApp ? false : true} placement=\"top\" tooltip={<Text fontSize=\"12px\">Remove from Watchlisit</Text>}>\n              <Center>\n                <Icon\n                  xlinkHref=\"#icon-icon_star_sel\"\n                  svgFill=\"primary\"\n                  svgHover=\"primary\"\n                  onClick={e => {\n                    e.stopPropagation()\n                    if (item?.coin_type) {\n                      delUserCollectToken(item)\n                    }\n                  }}\n                />\n              </Center>\n            </CetusTooltip>\n          ) : (\n            <CetusTooltip showTooltip={isApp ? false : true} placement=\"top\" tooltip={<Text fontSize=\"12px\">Add to Watchlisit</Text>}>\n              <Center>\n                <Icon\n                  xlinkHref=\"#icon-icon_star\"\n                  variant=\"primary\"\n                  cursor={userCollectList?.length >= 100 ? 'not-allowed' : 'pointer'}\n                  onClick={e => {\n                    e.stopPropagation()\n                    if (item?.coin_type && userCollectList?.length < 100) {\n                      addUserCollectToken(item)\n                    }\n                  }}\n                />\n              </Center>\n            </CetusTooltip>\n          )}\n          {isShowDelete && (\n            <CetusTooltip showTooltip={isApp ? false : true} placement=\"top\" tooltip={<Text fontSize=\"12px\">Remove</Text>}>\n              <Center>\n                <Icon\n                  xlinkHref=\"#icon-icon_del\"\n                  svgHover=\"primary\"\n                  onClick={e => {\n                    e.stopPropagation()\n                    changeIsLoading(true)\n                    delImportTokenList([item])\n                  }}\n                />\n              </Center>\n            </CetusTooltip>\n          )}\n        </HStack>\n      )\n    }\n  ]\n}\nexport default FilterTable\n"],"names":["FilterTable","isShowDelete","isLoading","data","onRowClick","isApp","useWindowWidth","userCollectObj","userCollectList","useTokenSelectStore","delUserCollectToken","addUserCollectToken","delImportTokenList","useTokenSelect","proTokenMap","proTokenStatsMap","useProStore","pageLoading","setPageLoading","useState","useEffect","changeIsLoading","loading","VStack","jsx","Table","getColumns","item","Text","tokenInfo","HStack","Skeleton","SingleTokenInfo","price","_a","priceChange","_b","jsxs","vol","Fragment","toLongCoinType","CetusTooltip","Center","Icon","e"],"mappings":"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"}