import{i as E,ax as s,ay as T,aP as p,aQ as S,aR as F,aS as v,n as b,b as O,af as A}from"./index-ihcskjKt.js";import"./cross-CbhIs7DK.js";import"./vendor-CBmAETR3.js";import{u as C}from"./useGetPoolList-BxNmDN4c.js";import{u as _}from"./useWrapPoolData-CzWcfmSl.js";const y=(t,c)=>({poolListLength:"",setPoolListLength:o=>{t(()=>({poolListLength:o}))},poolRefreshStatus:"pending",setPoolRefreshStatus:o=>{t(()=>({poolRefreshStatus:o}))},isWatchList:void 0,setIsWatchList:o=>{t(()=>({isWatchList:o})),s.setItem(v,o)},isAllPools:!1,setIsAllPools:o=>{t(()=>({isAllPools:o})),s.setItem(F,o)},isIncentivizedOnly:!1,setIsIncentivizedOnly:o=>{t(()=>({isIncentivizedOnly:o})),s.setItem(S,o)},poolFavoriteIds:[],setPoolFavoriteId:o=>{const n=[...c().poolFavoriteIds,o];t(()=>({poolFavoriteIds:n})),s.setItem(p,n)},setPoolFavoriteIds:o=>{t(()=>({poolFavoriteIds:o})),s.setItem(p,o)},poolFavoriteIdsChange:!1,setPoolFavoriteIdsChange:o=>{t(()=>({poolFavoriteIdsChange:o}))},showClmmPositionList:!0,setShowClmmPositionList:o=>{t(()=>({showClmmPositionList:o}))},showDlmmPositionList:!0,setShowDlmmPositionList:o=>{t(()=>({showDlmmPositionList:o}))},selectCoinList:[],setSelectCoinList:o=>{t(()=>({selectCoinList:o})),s.setItem(T,o)},isExpandAllPosition:!1,setIsExpandAllPosition:o=>{t(()=>({isExpandAllPosition:o}))},isExpendPositionMap:{},setIsExpendPosition:(o,n)=>{t(()=>{const I={...c().isExpendPositionMap};return o.forEach(f=>{I[f]=n}),{isExpendPositionMap:I}})},clearIsExpendPositionMap:()=>{t(()=>({isExpendPositionMap:{}}))},resetPoolFilterParams:()=>{t(()=>({isWatchList:void 0,isAllPools:!1,isIncentivizedOnly:!1}))}}),i=E(y);s.getItem(p).then(t=>{console.log("ðŸš€ ~ file: store/pool/index.ts.ts ~ savedPoolFavoriteList:",t),(t==null?void 0:t.length)>0&&i.getState().setPoolFavoriteIds(t)});s.getItem(v).then(t=>{console.log("ðŸš€ ~ VariousTokensTable isWatchList:",t),typeof t=="boolean"?i.getState().setIsWatchList(t):i.getState().setIsWatchList(!1)});s.getItem(F).then(t=>{console.log("ðŸš€ ~ VariousTokensTable isAllPools:",t),typeof t=="boolean"&&i.getState().setIsAllPools(t)});s.getItem(S).then(t=>{console.log("ðŸš€ ~ VariousTokensTable isIncentivizedOnly:",t),typeof t=="boolean"&&i.getState().setIsIncentivizedOnly(t)});s.getItem(T).then(t=>{console.log("ðŸš€ ~ VariousTokensTable poolSelectCoinList:",t),t&&t.length>0&&i.getState().setSelectCoinList(t)});function B(){const{fetchByApi:t}=b(),{getLocalJsonPoolList:c,wrapGetPoolParams:o}=C(),{wrapPoolDataV2:n}=_(),{poolFavoriteIds:l,setPoolFavoriteId:I,setPoolFavoriteIds:f,setPoolFavoriteIdsChange:d}=i(),{successTsToast:g,failedTsToast:w}=O();return{addFavorites:a=>{const r={linkLabel:"",getShowInfo:()=>({toastTitleText:l.length>=100?"Watchlist exceeds the maximum limit":"Added to Watchlist"})};l.length>=100?w(r):(I(a),d(!0),g(r))},removeFavorites:a=>{const r=l==null?void 0:l.filter(P=>P!==a);f(r),d(!0),g({linkLabel:"",getShowInfo:()=>({toastTitleText:"Removed from Watchlist"})})},getFavoritePoolList:async a=>{var m,u,L;const{needLocalData:r=!0}=a,h=(a==null?void 0:a.pools)||[],P=o(a);if(h.length>0)try{const e=await t(A,"POST",P);if(e!=null&&e.data)return console.log("ðŸš€ ~ getFavoritePoolList ~ res?.data:",e==null?void 0:e.data),{list:(u=(m=e==null?void 0:e.data)==null?void 0:m.list)==null?void 0:u.map(x=>n(x)),total:(L=e==null?void 0:e.data)==null?void 0:L.total}}catch(e){if(console.log("ðŸš€ ~ getFavoritePoolList ~ error:",e),r)return await c(a)}return{list:[],total:0}}}}export{B as a,i as u};
//# sourceMappingURL=useFavoritePool-D10BRIh4.js.map
