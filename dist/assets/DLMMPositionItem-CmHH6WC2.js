import{r,j as e,V as h,H as a,T as i,m as n}from"./vendor-CBmAETR3.js";import{F as M}from"./CoinPairInfo-CDiS7h0Q.js";import{u as B,s as d,M as E,P as F}from"./PositionItemContent-Cx-1mfww.js";import{u as I}from"./usePositionList-5SlPZsY2.js";import{k as Y,l as O,u as W,B as q,d as H}from"./index-ihcskjKt.js";import{u as V}from"./index-BgZD3vRA.js";import{T as R}from"./TableSortTh-CJhvMpou.js";function ee({poolInfo:c,priceDirect:D}){var A;const l=["380px","100px","130px","170px","160px","106px"],y=[{label:"APR",value:"apr"},{label:"Liquidity",value:"liquidity"},{label:"Claimable Yield",value:"yield"},{label:"Est. Daily Yield",value:"dailyEarn"},{label:"Actions",value:"actions"}],w=y.reduce((s,t)=>(s[t.value]=t,s),{}),{coinPriceObj:z}=Y(),{getPositionSortList:m}=B(),{dlmmPosRewardsData:N,dlmmPosFeeData:G}=I(),[p,v]=r.useState("desc"),[x,T]=r.useState({label:"",value:""}),S=s=>{(s==null?void 0:s.value)===x.value?v(t=>t==="desc"?"asc":"desc"):(v("desc"),T(s))},[b,_]=r.useState([]),[k,g]=r.useState(!0),[u,C]=r.useState([]),P=r.useCallback(async()=>{g(!0);try{const s=await m(x.value,p,c.list);_(s),C(s),g(!1)}catch{g(!1)}},[x.value,p,c==null?void 0:c.list,m]);V(()=>{O(c)&&P()},[P],{wait:300});const L=s=>b.some(t=>H(t[s]).gt(0)),f=r.useMemo(()=>L("totalMiningAmount"),[b]),j=r.useMemo(()=>L("totalFarmingAmount"),[b]),{isApp:o}=W();return e.jsxs(h,{gap:"12px",w:"100%",children:[!o&&e.jsxs(a,{w:"100%",p:"0 16px",justify:"space-between",children:[e.jsx(i,{w:l[0],minW:{base:"unset",lg:l[0]},children:"Price Range"}),y.map((s,t)=>s.value!=="rewards"||f||j?e.jsxs(a,{gap:"4px",w:l[t+1],justify:"flex-end",children:[!d,!d,f&&s.value==="yield"&&e.jsx(E,{}),j&&s.value==="yield"&&e.jsx(M,{}),s.value=="actions"&&e.jsx(i,{children:s.label}),s.value==="apr"&&d&&e.jsx(R,{labelInfo:w[s.value],sortRule:p,sortBy:x,clickSort:S,tooltip:{content:s.value==="apr"?e.jsx("span",{children:"APR based on the daily yield accrued by this position. Past performance is not indicative of future results. Calculations are an estimate and only for reference."}):""}}),s.value!=="apr"&&s.value!=="actions"&&e.jsx(R,{labelInfo:w[s.value],sortRule:p,sortBy:x,clickSort:S,defaultShowSortIcon:!0,tooltip:{content:s.value==="apr"?e.jsx("span",{children:"APR based on the daily yield accrued by this position. Past performance is not indicative of future results. Calculations are an estimate and only for reference."}):""}})]},s.value):null)]}),e.jsx(h,{w:"100%",maxH:"440px",overflow:"auto",gap:"12px",children:k&&(u==null?void 0:u.length)===0?(A=c.list)==null?void 0:A.map((s,t)=>e.jsx(q,{w:"100%",bg:"position_bg",border:"none",p:{base:"16px 8px 12px",lg:"20px 16px "},borderRadius:"16px",children:e.jsx(a,{w:"100%",justify:"space-between",flexDirection:{base:"column",lg:"row"},children:e.jsxs(h,{w:"100%",align:"flex-start",gap:"12px",children:[o&&e.jsxs(a,{flexDirection:{base:"column",lg:"row"},w:{base:"100%",lg:"unset"},children:[e.jsxs(a,{w:{base:"100%",lg:"unset"},justify:{base:"space-between",lg:"flex-start"},children:[e.jsx(i,{color:"primary_gray",fontSize:{base:"14px",lg:"12px"},children:"NFT ID"}),e.jsx(n,{isLoaded:!1,h:"14px"})]}),e.jsxs(a,{w:{base:"100%",lg:"unset"},justify:{base:"space-between",lg:"flex-start"},children:[e.jsx(i,{color:"primary_gray",fontSize:{base:"14px",lg:"12px"},ml:{base:"0",lg:"8px"},children:"Address"}),e.jsx(n,{isLoaded:!1,h:"14px"})]})]}),e.jsxs(a,{w:"100%",justify:"space-between",flexDirection:{base:"column",lg:"row"},gap:{base:"12px",lg:"8px"},children:[e.jsxs(a,{w:{base:"100%",lg:l[0]},justify:{base:"space-between",lg:"flex-start"},children:[o&&e.jsx(i,{color:"primary_gray",whiteSpace:"nowrap",children:"Price Range"}),e.jsx(n,{isLoaded:!1,h:"14px",w:{base:"96px",lg:"40%"}})]}),e.jsxs(a,{w:{base:"100%",lg:l[1]},justify:{base:"space-between",lg:"flex-end"},children:[o&&d&&e.jsx(a,{gap:"2px",children:e.jsx(i,{color:"primary_gray",children:"APR"})}),e.jsx(n,{isLoaded:!1,h:"14px"})]}),e.jsxs(a,{m:"-12px 0",w:{base:"100%",lg:l[2]},justify:{base:"space-between",lg:"flex-end"},children:[o&&e.jsx(i,{color:"primary_gray",children:"Liquidity"}),e.jsx(n,{isLoaded:!1,h:"14px"})]}),e.jsxs(a,{w:{base:"100%",lg:l[3]},justify:{base:"space-between",lg:"flex-end"},children:[o&&e.jsx(i,{color:"primary_gray",children:"Claimable Yield"}),e.jsx(n,{isLoaded:!1,h:"14px"})]}),e.jsxs(a,{w:{base:"100%",lg:l[4]},justify:{base:"space-between",lg:"flex-end"},children:[o&&e.jsx(i,{color:"primary_gray",children:"Est. Daily Yield"}),e.jsx(n,{isLoaded:!1,h:"14px"})]}),!d,!d,e.jsx(a,{w:{base:"100%",lg:l[5]},justify:{base:"space-between",lg:"flex-end"},children:e.jsx(n,{isLoaded:!1,h:{base:"20px",lg:"14px"},w:{base:"100%",lg:"96px"}})})]})]})})},t)):u.map(s=>e.jsx(F,{poolType:"dlmm",positionInfo:s,positionItemWidth:l,priceDirect:D,showMiningIcon:f,showFarmingIcon:j},s==null?void 0:s.id))})]})}export{ee as D};
//# sourceMappingURL=DLMMPositionItem-CmHH6WC2.js.map
