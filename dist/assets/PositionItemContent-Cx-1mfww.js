import{j as s,H as n,C as Ee,T as x,B as H,r as g,ac as es,P as Fe,x as qe,W as Ye,y as Ge,A as Re,V as W,w as ke,m as f,l as Qe}from"./vendor-CBmAETR3.js";import{u as ss}from"./CoinPairInfo-CDiS7h0Q.js";import{C as me,c as ce,f as ls,Q as Le,a as rs,M as as,d,v as Ne,ad as Te,ai as A,p as se,k as cs,u as je,A as pe,E as Be,av as Ve,cS as le,l as ze,I as be,aO as Oe,B as Je}from"./index-ihcskjKt.js";import{u as ye,b as ts,c as Ke,a as He,j as Ue}from"./usePositionList-5SlPZsY2.js";import{u as xs}from"./useAccountBalance-D7pkS3C9.js";import{T as ds}from"./cross-CbhIs7DK.js";import{u as is}from"./useTransaction-BEUdFaaa.js";import{u as ms,a as ns,b as us}from"./detail-BQ6q8Dje.js";import{u as gs}from"./usePosRemove-CKs7-Z6Q.js";import{u as Xe}from"./index-BgZD3vRA.js";import{u as Ze}from"./useInterval-FApnpfRj.js";import{T as De}from"./TooltipIcon-CBgjM1b2.js";import{H as Pe}from"./HiddenDotted-9cZ5UVdD.js";import{u as fe,S as Me}from"./StatusPosition-CmUwds3p.js";import{u as ps}from"./useGetClmmPositionDailyEarning-BB_IEQSI.js";import{u as hs}from"./detail-BpvHUFYz.js";import{u as bs}from"./usePosClaimFeeAndReward-R-HkZji1.js";import{L as js,B as ys}from"./LiquidityValueBlock-DS5y0rnC.js";import{P as ws}from"./PositionPriceRangeBar-B3Gr2ilx.js";const he=!0,Ks=e=>s.jsx(n,{w:"16px",h:"16px",onClick:u=>{ce(u)},...e,children:s.jsx(me,{placement:"top",tooltip:s.jsx(x,{fontSize:"12px",children:"Mining rewards available"}),children:s.jsx(Ee,{children:s.jsx(Ss,{})})})}),Ss=e=>{const{active:u,animate:b,onMouseOver:k,onMouseOut:_}=ss();return s.jsx(H,{as:"div",w:"20px",h:"20px",pos:"relative",cursor:"pointer",onMouseEnter:k,onMouseLeave:_,...e,children:s.jsxs(H,{as:"div",className:"mining_composition",children:[s.jsx(H,{as:"div",className:`mining_class3 mining_bg3 ${u&&b?"mining_ani3":""} `}),s.jsx(H,{as:"div",className:`mining_class2 mining_bg2 ${u&&b?"mining_ani2":""} `}),s.jsx(H,{as:"div",className:`mining_class1 mining_bg1 ${u&&b?"mining_ani1":""} `})]})})};function _s(){const e=ls("dlmm"),{setDlmmPosBaseListLoading:u,setDlmmPosBaseList:b}=ye(),{wrapDlmmPosBaseInfo:k}=ts(),{getPosDlmmRelatedData:_}=Ke();return{getDlmmPositionBaseList:async p=>{console.log("ðŸš€ðŸš€ðŸš€ ~ useGetDlmmPositionList.ts:9 ~ getDlmmPositionBaseList ~ account:",p),u(!0);try{const c=await(e==null?void 0:e.Position.getOwnerPositionList(p)),h=[];for(const w of c){const j=await k(w);!(j!=null&&j.displayTokenA)||!(j!=null&&j.displayTokenB)||j&&h.push(j)}b(h),_(h),console.log("ðŸš€ðŸš€ðŸš€ ~ useGetDlmmPositionList.ts:23 ~ getDlmmPositionBaseList ~ dlmmPosBaseList:",c,h)}catch(c){console.log("ðŸš€ðŸš€ðŸš€ ~ useGetDlmmPositionList.ts:13 ~ getDlmmPositionBaseList ~ error:",c)}finally{u(!1)}}}}function Xs(){const[e,u]=g.useState(!1),{getTokenAmountValue:b}=Le(),{posPoolsRelatedData:k,posLiquidityData:_,posFeeData:l,farmsPosRewardsData:p,posRewardsData:c,posApiPoolData:h,poolRangeObj:w,setPosBaseList:j,posAprMap:v}=He(),{dlmmPosRewardsData:Y,setDlmmPosBaseList:C,dlmmPosFeeData:$,dlmmPosLiquidityData:G,dlmmAprMap:F}=ye(),{mevProtect:T,transactionMode:I,maxCapForGas:L,customGasPrice:U}=rs(),{getCloseTsPayloadAll:B}=gs(),{signAndExecuteTransaction:re,transactionConfirmation:ee}=is(),{fetchAccountBalance:M}=xs(),{getPositionBaseList:R}=Ke(),{currentAccount:E}=as(),{getDlmmPosClosePositionPayload:z}=ms(),{getDlmmPositionBaseList:ae}=_s(),Q=async()=>{await R(E==null?void 0:E.address)},ne=async P=>{console.log("ðŸš€ ~ toCloseAllAction ~ closeAllPositionList:",P),u(!0);const J=P.filter(S=>S.posType=="clmm").map(S=>S),N=P.filter(S=>S.posType=="dlmm").map(S=>S);try{const S=N.map(i=>{const r=Y[i.id];return{dlmmPool:i.dlmmPool,positionId:i.id,rewardCoins:(r==null?void 0:r.map(t=>t.coin_address))||[],coinTypeA:i.coinTypeA,coinTypeB:i.coinTypeB}}),V=J.map(i=>{var ie,we,Se,_e,Ce;const r=!!(i!=null&&i.vestData),a=_[i==null?void 0:i.posId],t=c[i==null?void 0:i.posId],m=h[i.clmmPool],O=!t||(t==null?void 0:t.length)==0?(ie=(m==null?void 0:m.miningRewardList)||[])==null?void 0:ie.reduce((ge,$e)=>(ge.push($e.coinType),ge),[]):(t||[]).map(ge=>ge.coin_address);console.log("ðŸš€ ~ paramsList ~ rewarderCoinTypes:",i,h,m,t,O);const D=Ne(a==null?void 0:a.displayCoinAmountA,void 0,!0),xe=Ne(a==null?void 0:a.displayCoinAmountB,void 0,!0),ue=i.isReverse,[y,te]=ue?[d(xe).mul(Te.pow(10,(we=i.displayTokenB)==null?void 0:we.decimals)).toString(),d(D).mul(Te.pow(10,(Se=i.displayTokenA)==null?void 0:Se.decimals)).toString()]:[d(D).mul(Te.pow(10,(_e=i.displayTokenA)==null?void 0:_e.decimals)).toString(),d(xe).mul(Te.pow(10,(Ce=i.displayTokenB)==null?void 0:Ce.decimals)).toString()],de={posId:i.posType==="farms"?i.id:i.posId,poolAddress:i.clmmPool,coinTypeA:i.coinTypeA,coinTypeB:i.coinTypeB,amountA:y,amountB:te,liquidity:i.liquidity,lowerTick:i.lowerTick,upperTick:i.upperTick,posType:i.posType,rewarderCoinTypes:O,isVestingPos:r};return i.posType==="farms"&&(de.farmsPoolId=i.farmsPool,de.farmsPosId=i.id),de});console.log("ðŸš€ ~ toRemove ~ paramsList:",V);const Z={getShowInfo:i=>{const r=i==="success";return{modalDescriptionText:r?"":"Close all positions",toastTitleText:r?"Close all positions successful":"Close all positions",toastDescriptionContent:r?"":void 0}}};ee(Z);let K=new ds;S.forEach(i=>{K=z(i,K)});const X=await B(V,K);console.log("ðŸš€ ~ toCloseAllAction ~ txb:",{clmmRes:X,txb:K});const q=await re(K,Z,{useMev:T,useFastMode:I==="Fast Mode",maxCapForGas:L,customGasPrice:U,msafeParams:X==null?void 0:X.msafeParams});console.log("ðŸš€ ~ toClaim ~ res:",q),q&&(M(),j([]),C([]),Q(),ae(E==null?void 0:E.address))}catch(S){console.error("ðŸš€ ~ toClaim ~ error:",S)}finally{u(!1)}};return{getPositionSortList:g.useCallback(async(P,J,N)=>{var K,X,q,i;if(!(N!=null&&N.length))return[];const S=(r=[])=>r.map(a=>{var t;return{...a,amountUSD:b((t=a==null?void 0:a.token)==null?void 0:t.coin_type,a==null?void 0:a.display_amount_owed)}}).filter(a=>d(a.display_amount_owed).gt(0)),V=[];for(let r=0;r<N.length;r++){const a=N[r],t=a.posType==="dlmm",m=t?a.id:a.posId,O=t?G[m]:_[m],D=b((K=a.displayTokenA)==null?void 0:K.coin_type,O==null?void 0:O.displayCoinAmountA),xe=b((X=a.displayTokenB)==null?void 0:X.coin_type,O==null?void 0:O.displayCoinAmountB),ue=d(D).plus(xe).toString(),y=t?$[m]:l[m],te=b((q=a.displayTokenA)==null?void 0:q.coin_type,y==null?void 0:y.displayFeeOwedA),de=b((i=a.displayTokenB)==null?void 0:i.coin_type,y==null?void 0:y.displayFeeOwedB),ie=d(te).plus(de).toString(),we=S(t?Y[m]:c[m]),Se=t?[]:S(p[a.id]),_e=[...we,...Se].reduce((ve,Ae)=>ve.plus(Ae.amountUSD),d(0)).toString(),Ce=we.reduce((ve,Ae)=>ve.plus(Ae.display_amount_owed),d(0)).toString(),ge=Se.reduce((ve,Ae)=>ve.plus(Ae.display_amount_owed),d(0)).toString(),$e=d(ie).plus(_e).toString();let We="--";m&&(We=t?F==null?void 0:F[m]:v==null?void 0:v[m]),V.push({...a,apr:We,totalLiquidity:ue,totalYield:$e,totalFee:ie,totalRewards:_e,totalMiningAmount:Ce,totalFarmingAmount:ge})}const Z={apr:(r,a)=>{var O,D;const t=d(A(((O=r.apr)==null?void 0:O.replace(/[%<]/g,""))??0)),m=d(A(((D=a.apr)==null?void 0:D.replace(/[%<]/g,""))??0));return console.log(t.toNumber(),m.toNumber(),r,a,"aprA, aprB"),J==="asc"?t.minus(m).toNumber():m.minus(t).toNumber()},liquidity:(r,a)=>{const t=d(A(r.totalLiquidity)),m=d(A(a.totalLiquidity));return J==="asc"?t.minus(m).toNumber():m.minus(t).toNumber()},fees:(r,a)=>{const t=d(A(r.totalFee)),m=d(A(a.totalFee));return J==="asc"?t.minus(m).toNumber():m.minus(t).toNumber()},rewards:(r,a)=>{const t=d(A(r.totalRewards)),m=d(A(a.totalRewards));return J==="asc"?t.minus(m).toNumber():m.minus(t).toNumber()},yield:(r,a)=>{const t=d(A(r.totalYield)),m=d(A(a.totalYield));return J==="asc"?t.minus(m).toNumber():m.minus(t).toNumber()},dailyEarn:(r,a)=>{var O,D;const t=d(A(((O=r.apr)==null?void 0:O.replace(/[%<]/g,""))??0)),m=d(A(((D=a.apr)==null?void 0:D.replace(/[%<]/g,""))??0));return J==="asc"?t.minus(m).toNumber():m.minus(t).toNumber()}};return Z[P]&&V.sort(Z[P]),V},[_,l,c,p,v,F,G,$,Y,b]),toCloseAllAction:ne,isRemoveLoading:e}}function oe({positionInfo:e,dailyEarnUSD:u,dailyEarnOriginResult:b,hasRewards:k}){return s.jsx(n,{children:s.jsx(x,{color:"text_caption",children:u})})}function Ie({positionInfo:e,hasRewards:u}){var q,i;const{getTokenAmountValue:b}=Le(),{posRewardsData:k,posRewardsDataLoading:_,posApiPoolData:l,farmsPosRewardsData:p,farmsPosRewardsDataLoading:c,posFeeData:h,currentPosBaseInfoLoading:w,posFeeDataLoading:j,posPoolsOriginalData:v}=He(),{dlmmPosPoolsRelatedData:Y,dlmmPosPoolsOriginalData:C,dlmmPosFeeData:$,dlmmPosRewardsData:G,dlmmPosLiquidityData:F}=ye(),T=g.useMemo(()=>(e==null?void 0:e.posType)==="dlmm",[e==null?void 0:e.posType]),I=g.useMemo(()=>T?C==null?void 0:C[e==null?void 0:e.dlmmPool]:v[e==null?void 0:e.clmmPool],[v,C,T,e==null?void 0:e.clmmPool,e==null?void 0:e.dlmmPool]),L=T?$[e==null?void 0:e.id]:h[e==null?void 0:e.posId],U=b((q=e==null?void 0:e.displayTokenA)==null?void 0:q.coin_type,L==null?void 0:L.displayFeeOwedA,"--"),B=b((i=e==null?void 0:e.displayTokenB)==null?void 0:i.coin_type,L==null?void 0:L.displayFeeOwedB,"--"),re=g.useMemo(()=>U!=="--"&&B!=="--"?se(d(U).plus(B).toString(),2):"$--",[U,B]),{coinPriceObj:ee}=cs(),M=T?G[e==null?void 0:e.id]:k[e==null?void 0:e.posId],R=g.useMemo(()=>{const r=M==null?void 0:M.map(a=>{var m;const t=b((m=a==null?void 0:a.token)==null?void 0:m.coin_type,a==null?void 0:a.display_amount_owed,"--");return{...a,amountUSD:t}});return r&&r.length>0?r.filter(a=>d(a.display_amount_owed).gt(0)):[]},[e,M,ee]),E=T?[]:p[e==null?void 0:e.id],z=g.useMemo(()=>{const r=E==null?void 0:E.map(a=>{var m;const t=b((m=a==null?void 0:a.token)==null?void 0:m.coin_type,a==null?void 0:a.display_amount_owed,"--");return{...a,amountUSD:t}});return r&&r.length>0?r.filter(a=>d(a.display_amount_owed).gt(0)):[]},[e,E,ee]),ae=g.useMemo(()=>{let r;const a=R.concat(z);return(a==null?void 0:a.length)>0?(a.forEach(t=>{const m=t==null?void 0:t.amountUSD;r=m=="--"||r=="--"?"--":d(r).plus(m).toString()}),r=="--"?"$--":se(r,2)):"$0"},[R,z]),Q=g.useMemo(()=>{let r=d(0);U!=="--"&&(r=r.add(U)),B!=="--"&&(r=r.add(B));const a=R.concat(z);return(a==null?void 0:a.length)>0&&a.forEach(t=>{const m=t==null?void 0:t.amountUSD;r=m!=="--"?d(r).add(m):r}),`${se(r.toString(),2)}`},[U,B,R,z]),[ne,o]=g.useState("--"),{calculatePendingYield:P}=bs();g.useEffect(()=>{if(!j&&!_)if(T){const{total:r}=P([e],{},{},{},$,G);o(r)}else{const{total:r}=P([e],h,k,p);o(r)}},[w,j,_,h,k,e,p,T,$,G]);const{toClaimPosition:J,isClaimLoading:N}=fe(),S=()=>{J(e,I,(z==null?void 0:z.length)>0)},{isApp:V}=je(),{isOpen:Z,onClose:K,onOpen:X}=es();return Q==="$0"?s.jsx(n,{children:s.jsx(x,{color:"text_caption",children:Q})}):s.jsxs(Fe,{isLazy:!0,trigger:V?"click":"hover",isOpen:Z,onClose:K,onOpen:V?()=>{}:X,autoFocus:!1,returnFocusOnClose:!1,gutter:4,modifiers:[{name:"preventOverflow",options:{padding:8}}],children:[s.jsx(qe,{children:s.jsx(H,{as:"button",onClick:r=>{V&&(r.stopPropagation(),X())},children:s.jsx(n,{children:s.jsx(x,{color:"text_caption",borderBottom:"1px dotted",borderColor:"primary_gray",children:Q})})})}),s.jsx(Ye,{children:s.jsx(Ge,{w:"fit-content",maxW:"320px",children:s.jsx(Re,{p:"8px",fontSize:"sm",w:"fit-content",children:s.jsxs(W,{bg:"bg_secondary",borderRadius:"8px",minW:"240px",p:"16px 12px 12px",children:[s.jsxs(W,{w:"100%",children:[s.jsxs(n,{w:"100%",justify:"space-between",children:[s.jsx(x,{children:"Claimable Fees"}),s.jsx(x,{color:"text_caption",children:re})]}),s.jsxs(W,{w:"100%",bg:"card_bg",gap:"0",borderRadius:"8px",children:[s.jsxs(n,{w:"100%",justify:"space-between",p:"12px 8px",children:[s.jsx(pe,{token:e==null?void 0:e.displayTokenA,imgBoxStyle:{w:"20px",h:"20px"},haveName:!1,symbolFontSize:"12px",warningIcon:{iconW:"10px",iconH:"10px"}}),s.jsxs(W,{align:"flex-end",gap:"4px",children:[s.jsx(x,{fontSize:"12px",color:"text_caption",children:Be(L==null?void 0:L.displayFeeOwedA)}),s.jsx(x,{fontSize:"12px",children:se(U,2)})]})]}),s.jsxs(n,{w:"100%",justify:"space-between",p:"0 8px 12px",children:[s.jsx(pe,{token:e==null?void 0:e.displayTokenB,imgBoxStyle:{w:"20px",h:"20px"},haveName:!1,symbolFontSize:"12px",warningIcon:{iconW:"10px",iconH:"10px"}}),s.jsxs(W,{align:"flex-end",gap:"4px",children:[s.jsx(x,{fontSize:"12px",color:"text_caption",children:Be(L==null?void 0:L.displayFeeOwedB)}),s.jsx(x,{fontSize:"12px",children:se(B,2)})]})]})]})]}),u&&s.jsx(H,{w:"100%",h:"1px",bg:"card_bg",m:"4px 0"}),u&&s.jsxs(W,{w:"100%",children:[s.jsxs(n,{w:"100%",justify:"space-between",children:[s.jsx(x,{children:"Claimable Rewards"}),s.jsx(x,{color:"text_caption",children:ae})]}),s.jsxs(W,{w:"100%",align:"flex-start",bg:"card_bg",gap:"0",borderRadius:"8px",children:[R==null?void 0:R.map((r,a)=>{var t;return s.jsxs(n,{w:"100%",justify:"space-between",p:a%2===0?"12px 8px":"0 8px 12px",children:[s.jsx(pe,{token:r==null?void 0:r.token,imgBoxStyle:{w:"20px",h:"20px"},haveName:!1,symbolFontSize:"12px",warningIcon:{iconW:"10px",iconH:"10px"}}),s.jsxs(W,{align:"flex-end",gap:"4px",children:[s.jsx(x,{fontSize:"12px",color:"text_caption",children:Be(r==null?void 0:r.display_amount_owed)}),s.jsxs(x,{fontSize:"12px",children:[" ",se(r==null?void 0:r.amountUSD,2)]})]})]},(t=r==null?void 0:r.token)==null?void 0:t.coin_type)}),z==null?void 0:z.map((r,a)=>{var t;return s.jsxs(n,{w:"100%",justify:"space-between",p:a%2===0?"12px 8px":"0 8px 12px",children:[s.jsx(pe,{token:r==null?void 0:r.token,imgBoxStyle:{w:"20px",h:"20px"},haveName:!1,symbolFontSize:"12px",warningIcon:{iconW:"10px",iconH:"10px"}}),s.jsxs(W,{align:"flex-end",gap:"4px",children:[s.jsx(x,{fontSize:"12px",color:"text_caption",children:Be(r==null?void 0:r.display_amount_owed)}),s.jsxs(x,{fontSize:"12px",children:[" ",se(r==null?void 0:r.amountUSD,2)]})]})]},(t=r==null?void 0:r.token)==null?void 0:t.coin_type)})]})]}),s.jsx(ke,{h:"28px",w:"100%",borderRadius:"8px",mt:"4px",fontSize:"14px",fontWeight:"500",isDisabled:Number(ne)===0||j||_||N,isLoading:N||j||_,onClick:r=>{r.stopPropagation(),S(),K()},children:"Claim All"})]})})})})]})}function vs({positionInfo:e,tokenName:u,priceDirect:b,isShowIcon:k}){const{getPosIsActive:_}=Ue(),{posPoolsRelatedData:l,posPoolsOriginalData:p}=He(),c=l[e==null?void 0:e.posId],h=g.useMemo(()=>{var $;return _(e,($=p==null?void 0:p[(e==null?void 0:e.clmmPool)||""])==null?void 0:$.current_sqrt_price)},[e,p]),{isApp:w}=je(),j=g.useMemo(()=>c==null?void 0:c.minPriceOrigin,[c]),v=g.useMemo(()=>c==null?void 0:c.maxPriceOrigin,[c]),Y=g.useMemo(()=>c==null?void 0:c.currentPriceOrigin,[c]),{getExplorerUrl:C}=Ve();return s.jsxs(W,{align:{base:"flex-end",lg:"flex-start"},gap:{base:"4px",lg:"8px"},w:"100%",maxW:"100%",children:[s.jsxs(n,{justify:{base:"flex-end",lg:"flex-start"},maxW:"100%",w:{base:"100%",lg:"unset"},borderRadius:"12px",pr:{base:"0",lg:"16px"},children:[s.jsx(f,{isLoaded:!!(c!=null&&c.minPrice)&&!!(c!=null&&c.maxPrice),borderRadius:"4px",children:b?s.jsx(x,{lineHeight:"1",fontSize:"14px",color:"text_caption",textAlign:{base:"right",lg:"left"},whiteSpace:{base:"wrap",lg:"nowrap"},children:`${isNaN(Number(c==null?void 0:c.minPrice))?c==null?void 0:c.minPrice:le(A(c==null?void 0:c.minPrice))} - ${isNaN(Number(c==null?void 0:c.maxPrice))?c==null?void 0:c.maxPrice:le(A(c==null?void 0:c.maxPrice))}`}):s.jsx(x,{lineHeight:"1",fontSize:"14px",color:"text_caption",textAlign:{base:"right",lg:"left"},whiteSpace:{base:"wrap",lg:"nowrap"},children:`${isNaN(Number(c==null?void 0:c.minPriceResever))?c==null?void 0:c.minPriceResever:le(A(c==null?void 0:c.minPriceResever))} - ${isNaN(Number(c==null?void 0:c.maxPriceResever))?c==null?void 0:c.maxPriceResever:le(A(c==null?void 0:c.maxPriceResever))}`})}),!w&&s.jsx(Me,{isActive:h,isLoading:!ze(e)||!ze(p==null?void 0:p[(e==null?void 0:e.clmmPool)||""])}),k&&!w&&s.jsx(n,{onClick:$=>ce($),children:s.jsx(me,{placement:"top",maxW:"unset",tooltip:s.jsxs(n,{flexDirection:{base:"column",lg:"row"},w:{base:"100%",lg:"unset"},children:[s.jsxs(n,{w:{base:"100%",lg:"unset"},justify:{base:"space-between",lg:"flex-start"},children:[s.jsx(x,{fontSize:{base:"14px",lg:"12px"},children:"ID"}),s.jsx(f,{isLoaded:!!u,children:s.jsx(x,{whiteSpace:"nowrap",fontWeight:"500",fontSize:{base:"14px",lg:"12px"},color:"text_caption",children:u==null?void 0:u.split("|")[1]})})]}),s.jsxs(n,{w:{base:"100%",lg:"unset"},justify:{base:"space-between",lg:"flex-start"},children:[s.jsx(x,{fontSize:{base:"14px",lg:"12px"},ml:{base:"0",lg:"8px"},children:"Address"}),s.jsx(Oe,{fontWeight:"500",color:"text_caption",address:e==null?void 0:e.id,showLink:!1,fontSize:{base:"14px",lg:"12px"},onClickLink:()=>{window.open(C(e==null?void 0:e.id,"nftAddress"),"_blank")}})]})]}),children:s.jsx(Ee,{border:"1px solid",borderColor:"border",borderRadius:"50%",children:s.jsx(be,{xlinkHref:"#icon-icon_info",width:"16px",height:"16px"})})})})]}),s.jsxs(n,{children:[w&&s.jsx(Me,{isActive:h,isLoading:!ze(e)||!ze(p==null?void 0:p[(e==null?void 0:e.clmmPool)||""])}),s.jsx(ws,{minPrice:j,maxPrice:v,currPrice:Y,isActive:h,priceDirect:b})]})]})}function As({positionInfo:e,positionItemWidth:u=[],priceDirect:b,showMiningIcon:k,showFarmingIcon:_}){var xe,ue;const{isApp:l}=je(),{getExplorerUrl:p}=Ve(),{getClmmPosName:c}=Ue(),h=Qe(),{setCurrentPosDetailTab:w}=hs(),{setPosAprMap:j,posPoolsOriginalData:v,posPoolsRelatedData:Y,posApiPoolData:C,poolRangeObj:$,posLiquidityData:G,posRewardsData:F,posFeeData:T,farmsPosRewardsData:I}=He();Y[e==null?void 0:e.posId],C[e==null?void 0:e.clmmPool];const L=g.useMemo(()=>{var y;if(e!=null&&e.tokenName)return e==null?void 0:e.tokenName;{const te=(y=v==null?void 0:v[e==null?void 0:e.clmmPool])==null?void 0:y.index;return c(Number(e==null?void 0:e.index),te)}},[e==null?void 0:e.tokenName,e==null?void 0:e.index,e==null?void 0:e.clmmPool,v]),U=y=>{console.log("ðŸš€ ~ PoolItem ~ poolInfo:",e),y?(w(y),h(`/position-detail/${e==null?void 0:e.id}/${y}`)):h(`/position-detail/${e==null?void 0:e.id}`)},[B,re]=g.useState(!1),{getTokenAmountValue:ee}=Le(),M=G[e==null?void 0:e.posId],R=ee((xe=e==null?void 0:e.displayTokenA)==null?void 0:xe.coin_type,M==null?void 0:M.displayCoinAmountA),E=ee((ue=e==null?void 0:e.displayTokenB)==null?void 0:ue.coin_type,M==null?void 0:M.displayCoinAmountB),z=g.useMemo(()=>d(R).plus(E).toString(),[R,E]),{isClaimLoading:ae}=fe(),[Q,ne]=g.useState(null),[o,P]=g.useState(null),{getPosIsActive:J}=Ue(),N=g.useMemo(()=>{var y;return J(e,(y=v==null?void 0:v[(e==null?void 0:e.clmmPool)||""])==null?void 0:y.current_sqrt_price)},[e,v]),S=T[e==null?void 0:e.id]||T[e==null?void 0:e.posId],V=F[e==null?void 0:e.id]||F[e==null?void 0:e.posId],Z=I[e==null?void 0:e.id];g.useMemo(()=>ae||(!S||d(S==null?void 0:S.feeOwedA).eq(0)&&d(S==null?void 0:S.feeOwedB).eq(0))&&(!Z||(Z==null?void 0:Z.every(y=>d(y==null?void 0:y.display_amount_owed).eq(0))))&&(!V||(V==null?void 0:V.every(y=>d(y==null?void 0:y.display_amount_owed).eq(0)))||(Q=="$0"||!Q)&&(o=="$0"||!o||!k&&!_)),[ae,Q,o,k,_,V]);const{getClmmPositionDailyEarning:K}=ps(),[X,q]=g.useState(null),[i,r]=g.useState(!0),[a,t]=g.useState(null),[m,O]=g.useState(null),D=async()=>{try{const y=await K(e==null?void 0:e.posId,z);if(y){const{aprDisplay:te,dailyEarnUSDDisplay:de,originResult:ie}=y;q(te),j({[e==null?void 0:e.posId]:N?te:"0%"}),t(de),O(ie)}else q("--"),t("--");r(!1)}catch{r(!1)}finally{r(!1)}};return Xe(()=>{e!=null&&e.posId&&(z&&d(z).gt(0)?D():(q("--"),t("--"),r(!1)))},[e==null?void 0:e.posId],{wait:1e3}),Ze({interval:60*1e3,callback:()=>{X!==null&&D()}}),s.jsx(Je,{onMouseEnter:()=>{setTimeout(()=>{re(!0)},40)},onMouseLeave:()=>{setTimeout(()=>{re(!1)},80)},w:"100%",bg:"position_bg",border:"none",p:{base:"16px 8px 12px",lg:"20px 16px "},borderRadius:"16px",onClick:y=>{ce(y),U()},cursor:"pointer",children:s.jsx(n,{w:"100%",justify:"space-between",flexDirection:{base:"column",lg:"row"},children:s.jsxs(W,{w:"100%",align:"flex-start",gap:"14px",children:[l&&s.jsxs(n,{flexDirection:{base:"column",lg:"row"},w:{base:"100%",lg:"unset"},gap:"12px",children:[s.jsxs(n,{w:{base:"100%",lg:"unset"},justify:{base:"space-between",lg:"flex-start"},children:[s.jsx(x,{color:"primary_gray",fontSize:{base:"14px",lg:"12px"},children:"NFT ID"}),s.jsx(f,{isLoaded:!!L,children:s.jsx(x,{fontWeight:"500",fontSize:{base:"14px",lg:"12px"},color:"text_caption",children:L==null?void 0:L.split("|")[1]})})]}),s.jsxs(n,{w:{base:"100%",lg:"unset"},justify:{base:"space-between",lg:"flex-start"},children:[s.jsx(x,{color:"primary_gray",fontSize:{base:"14px",lg:"12px"},ml:{base:"0",lg:"8px"},children:"Address"}),s.jsx(H,{h:"14px",children:s.jsx(Oe,{fontWeight:"500",color:"text_caption",address:e==null?void 0:e.id,showLink:!1,fontSize:{base:"14px",lg:"12px"},onClickLink:()=>{window.open(p(e==null?void 0:e.id,"nftAddress"),"_blank")}})})]})]}),s.jsxs(n,{w:"100%",justify:"space-between",flexDirection:{base:"column",lg:"row"},gap:{base:"14px",lg:"8px"},children:[s.jsxs(n,{minW:{base:"unset",lg:u[0]},w:{base:"100%",lg:u[0]},justify:{base:"space-between",lg:"flex-end"},children:[l&&s.jsx(x,{color:"primary_gray",whiteSpace:"nowrap",children:"Price Range"}),s.jsx(vs,{positionInfo:e,tokenName:L,priceDirect:b,isShowIcon:B})]}),s.jsxs(n,{w:{base:"100%",lg:u[1]},justify:{base:"space-between",lg:"flex-end"},children:[l&&he&&s.jsxs(n,{gap:"2px",children:[s.jsx(x,{color:"primary_gray",children:"APR"}),s.jsx(H,{h:"14px",mt:"-6px",children:s.jsx(De,{tooltipCon:s.jsxs("span",{children:["APR based on the past 24h historical trade fees and emissions. Only positions in range earn yield. Past performance is not indicative of future results. ",s.jsx("br",{}),"Calculations are an estimate and only for reference."]})})})]}),s.jsx(f,{isLoaded:!i,h:"14px",children:s.jsx(x,{color:"text_caption",children:N?X:"0%"})})]}),s.jsxs(n,{m:"-12px 0",w:{base:"100%",lg:u[2]},justify:{base:"space-between",lg:"flex-end"},children:[l&&s.jsx(x,{color:"primary_gray",children:"Liquidity"}),s.jsx(Pe,{children:s.jsx(js,{positionInfo:e,fontSize:"14px",isPosList:!0})})]}),s.jsxs(n,{w:{base:"100%",lg:u[3]},justify:{base:"space-between",lg:"flex-end"},children:[l&&s.jsx(x,{color:"primary_gray",children:"Claimable Yield"}),s.jsx(Ie,{positionInfo:e,hasRewards:k||_||!1})]}),s.jsxs(n,{w:{base:"100%",lg:u[4]},justify:{base:"space-between",lg:"flex-end"},children:[l&&s.jsx(x,{color:"primary_gray",children:"Est. Daily Yield"}),s.jsx(f,{isLoaded:!i,h:"14px",children:s.jsx(oe,{positionInfo:e,dailyEarnUSD:N?a:"$0",dailyEarnOriginResult:N?m:null,hasRewards:k||_||!1})})]}),!he,!he,s.jsxs(n,{w:{base:"100%",lg:u[5]},justify:{base:"space-between",lg:"flex-start"},flexDir:{base:"row",lg:"row-reverse"},children:[(e==null?void 0:e.posType)!=="burn"&&s.jsx(H,{w:{base:"calc((100vw - 32px )/ 2)",lg:"32px"},sx:{button:{w:"100%"}},children:s.jsx(me,{placement:"top",tooltip:s.jsx(x,{fontSize:"12px",lineHeight:"20px",color:"text_caption",children:"Add"}),showTooltip:!l,children:s.jsxs(ke,{variant:"outline",fontSize:"12px",bg:"primary_opacity.10",h:"32px",borderRadius:"8px",onClick:y=>{ce(y),U("increase")},children:[!l&&s.jsx(be,{xlinkHref:"#icon-a-icon_add1",svgFill:"primary",svgHover:"primary",fontSize:"14px"}),l&&s.jsx(x,{color:"primary",fontSize:"12px",children:"Increase"})]})})}),(e==null?void 0:e.posType)!=="burn"&&s.jsx(H,{w:{base:"calc((100vw - 32px )/ 2)",lg:"32px"},sx:{button:{w:"100%"}},children:s.jsx(me,{placement:"top",tooltip:s.jsx(x,{fontSize:"12px",lineHeight:"20px",color:"text_caption",children:"Remove"}),showTooltip:!l,children:s.jsxs(ke,{variant:"outline",fontSize:"12px",bg:"primary_opacity.10",h:"32px",borderRadius:"8px",onClick:y=>{ce(y),U("remove")},children:[!l&&s.jsx(be,{xlinkHref:"#icon-tx_remove",svgFill:"text_paragraph",svgHover:"text_paragraph",fontSize:"14px"}),l&&s.jsx(x,{color:"primary",fontSize:"12px",children:"Remove"})]})})})]})]})]})})})}function ks({positionInfo:e,tokenName:u,priceDirect:b,isShowIcon:k}){const{dlmmPosPoolsRelatedData:_}=ye(),l=_[e==null?void 0:e.id],p=(l==null?void 0:l.currentStatus)=="Active",{isApp:c}=je(),h=g.useMemo(()=>A(b?(l==null?void 0:l.minPrice)??"0":(l==null?void 0:l.minPriceResever)??"0"),[l,b]),w=g.useMemo(()=>A(b?(l==null?void 0:l.maxPrice)??"0":(l==null?void 0:l.maxPriceResever)??"0"),[l,b]),j=g.useMemo(()=>A(b?(l==null?void 0:l.currentPrice)??"0":(l==null?void 0:l.currentPriceReverse)??"0"),[l,b]),[v,Y]=g.useState(0),C=g.useRef(null);g.useEffect(()=>{const T=()=>{C.current&&Y(C.current.offsetWidth)},I=new ResizeObserver(T);return C.current&&I.observe(C.current),()=>{C.current&&I.unobserve(C.current)}},[h,w,j]);const $=g.useMemo(()=>{if(w==="âˆž")return"0px";if(j&&h&&w&&v!==void 0){if(d(j).lt(w)&&d(j).gt(h)){const T=d(j).sub(h).div(d(w).sub(d(h))).toString();return`${d(T).mul(100).toFixed(2)}%`}if(d(h).eq(w)&&d(h).eq(j))return"50%";if(d(j).lt(h))return"-6px";if(d(j).gt(w))return"calc(100% + 6px)";if(d(j).eq(h)&&d(j).lt(w))return"0px";if(d(j).eq(w)&&d(j).gt(h))return"calc(100% - 1px)"}return"0px"},[j,h,w,v,l]),{getExplorerUrl:G}=Ve(),F=g.useMemo(()=>h===w,[h,w]);return s.jsxs(W,{align:{base:"flex-end",lg:"flex-start"},gap:{base:"4px",lg:"8px"},w:"100%",maxW:"100%",children:[s.jsxs(n,{justify:{base:"flex-end",lg:"flex-start"},maxW:"100%",w:{base:"100%",lg:"unset"},borderRadius:"12px",pr:{base:"0",lg:"16px"},flexWrap:"nowrap",children:[s.jsx(f,{isLoaded:!!(l!=null&&l.minPrice)&&!!(l!=null&&l.maxPrice),borderRadius:"4px",children:b?s.jsx(x,{lineHeight:"1",fontSize:"14px",color:"text_caption",textAlign:"right",whiteSpace:{base:"wrap",lg:"nowrap"},children:F?`${isNaN(Number(l==null?void 0:l.minPrice))?l==null?void 0:l.minPrice:le(A(l==null?void 0:l.minPrice))}`:`${isNaN(Number(l==null?void 0:l.minPrice))?l==null?void 0:l.minPrice:le(A(l==null?void 0:l.minPrice))} - ${isNaN(Number(l==null?void 0:l.maxPrice))?l==null?void 0:l.maxPrice:le(A(l==null?void 0:l.maxPrice))}`}):s.jsx(x,{lineHeight:"1",fontSize:"14px",color:"text_caption",textAlign:"right",whiteSpace:{base:"wrap",lg:"nowrap"},children:F?`${isNaN(Number(l==null?void 0:l.minPriceResever))?l==null?void 0:l.minPriceResever:le(A(l==null?void 0:l.minPriceResever))}`:`${isNaN(Number(l==null?void 0:l.minPriceResever))?l==null?void 0:l.minPriceResever:le(A(l==null?void 0:l.minPriceResever))} - ${isNaN(Number(l==null?void 0:l.maxPriceResever))?l==null?void 0:l.maxPriceResever:le(A(l==null?void 0:l.maxPriceResever))}`})}),!c&&s.jsx(Me,{isActive:p,isLoading:(l==null?void 0:l.currentStatus)==""}),k&&!c&&s.jsx(n,{onClick:T=>ce(T),children:s.jsx(me,{placement:"top",maxW:"400px",tooltip:s.jsxs(n,{flexDirection:{base:"column",lg:"row"},w:{base:"100%",lg:"unset"},children:[s.jsxs(n,{w:{base:"100%",lg:"unset"},justify:{base:"space-between",lg:"flex-start"},children:[s.jsx(x,{fontSize:{base:"14px",lg:"12px"},children:"ID"}),s.jsx(f,{isLoaded:!!u,children:s.jsx(x,{fontWeight:"500",fontSize:{base:"14px",lg:"12px"},color:"text_caption",children:u})})]}),s.jsxs(n,{w:{base:"100%",lg:"unset"},justify:{base:"space-between",lg:"flex-start"},children:[s.jsx(x,{fontSize:{base:"14px",lg:"12px"},ml:{base:"0",lg:"8px"},children:"Address"}),s.jsx(Oe,{fontWeight:"500",color:"text_caption",address:e==null?void 0:e.id,showLink:!1,fontSize:{base:"14px",lg:"12px"},onClickLink:()=>{window.open(G(e==null?void 0:e.id,"nftAddress"),"_blank")}})]})]}),children:s.jsx(Ee,{border:"1px solid",borderColor:"border",borderRadius:"50%",children:s.jsx(be,{xlinkHref:"#icon-icon_info",width:"16px",height:"16px"})})})})]}),s.jsxs(n,{children:[c&&s.jsx(Me,{isActive:p,isLoading:(l==null?void 0:l.currentStatus)==""}),s.jsx(f,{h:"6px",isLoaded:!!(l!=null&&l.currentPrice),borderRadius:"4px",children:s.jsx(H,{w:"88px",h:"6px",bgImage:w==="âˆž"?"none":"url('/images/img_inactive_bg@2x.png')",bgSize:"88px 6px",children:s.jsx(H,{w:w==="âˆž"?"88px":"56px",h:w==="âˆž"?"2px":"6px",position:"relative",ref:C,background:w==="âˆž"?"linear-gradient(135deg, #68FFD8 0%, #0091FF 100%)":p?"url('/images/img_range@2x.png')":"none",ml:w==="âˆž"?"0px":"16px",bgSize:"100% 6px",bgPosition:"center",bgRepeat:"no-repeat",children:w!=="âˆž"&&s.jsx(H,{w:"2px",h:"8px",bg:"#fff",borderRadius:"8px",position:"absolute",top:"50%",left:$,transform:"translateY(-50%)",zIndex:"5"})})})})]})]})}const Ls=({positionInfo:e,haveTooltip:u=!0,isPosList:b=!1,...k})=>{var v,Y;const{getTokenAmountValue:_}=Le(),{dlmmPosLiquidityData:l}=ye(),p=l[e==null?void 0:e.id],c=_((v=e==null?void 0:e.displayTokenA)==null?void 0:v.coin_type,p==null?void 0:p.displayCoinAmountA,"--"),h=_((Y=e==null?void 0:e.displayTokenB)==null?void 0:Y.coin_type,p==null?void 0:p.displayCoinAmountB,"--"),w=g.useMemo(()=>c!=="--"&&h!=="--"?se(d(c).plus(h).toString(),2):"$--",[c,h]),{isApp:j}=je();return s.jsxs(n,{gap:"4px",children:[(e==null?void 0:e.posType)=="burn"&&s.jsx(ys,{}),s.jsx(H,{p:"12px 0",onClick:C=>ce(C),children:s.jsxs(Fe,{isLazy:!0,trigger:j?"click":"hover",placement:"top-start",children:[s.jsx(qe,{children:s.jsx(Ee,{as:"button",cursor:u?"help":"text",children:s.jsx(f,{isLoaded:!!w&&!!l,children:s.jsx(x,{color:"text_caption",fontSize:"16px",textDecoration:b||!u?"none":"underline dotted",textUnderlineOffset:"3px",...k,children:w})})})}),u&&s.jsx(Ye,{children:s.jsx(Ge,{zIndex:"2",minW:"unset",w:"unset",p:"4px ",children:s.jsx(Re,{borderRadius:"12px",p:"8px",children:s.jsxs(W,{align:"flex-start",minW:"200px",children:[s.jsxs(n,{w:"100%",justify:"space-between",borderBottom:"1px solid",borderColor:"border",pb:"8px",sx:{_last:{borderBottom:"none",pb:"0px"}},children:[s.jsx(pe,{token:e==null?void 0:e.displayTokenA,imgBoxStyle:{w:"20px",h:"20px"},haveName:!1,symbolFontSize:"12px",warningIcon:{iconW:"10px",iconH:"10px"}}),s.jsxs(W,{align:"flex-end",gap:"4px",children:[s.jsx(x,{fontSize:"12px",color:"text_caption",children:Ne(p==null?void 0:p.displayCoinAmountA)}),s.jsx(x,{fontSize:"12px",children:se(c,2)})]})]}),s.jsxs(n,{w:"100%",justify:"space-between",children:[s.jsx(pe,{token:e==null?void 0:e.displayTokenB,imgBoxStyle:{w:"20px",h:"20px"},haveName:!1,symbolFontSize:"12px",warningIcon:{iconW:"10px",iconH:"10px"}}),s.jsxs(W,{align:"flex-end",gap:"4px",children:[s.jsx(x,{fontSize:"12px",color:"text_caption",children:Ne(p==null?void 0:p.displayCoinAmountB)}),s.jsx(x,{fontSize:"12px",children:se(h,2)})]})]})]})})})})]})})]})};function Cs({positionInfo:e,positionItemWidth:u=[],priceDirect:b,showMiningIcon:k,showFarmingIcon:_}){var q,i;const{isApp:l}=je(),{getExplorerUrl:p}=Ve(),c=Qe(),{setCurrentPosDetailTab:h}=ns(),{dlmmPosPoolsRelatedData:w,dlmmPosPoolsOriginalData:j,dlmmPosFeeData:v,dlmmPosRewardsData:Y,dlmmPosLiquidityData:C,setDlmmAprMap:$}=ye(),G=w[e==null?void 0:e.id],F=g.useMemo(()=>e==null?void 0:e.tokenName,[e==null?void 0:e.tokenName]),T=r=>{console.log("ðŸš€ ~ PoolItem ~ poolInfo:",e,r),h(r||"increase"),c(`/dlmm-position-detail/${e==null?void 0:e.id}`)},[I,L]=g.useState(!1),{getTokenAmountValue:U}=Le(),B=C[e==null?void 0:e.id],re=U((q=e==null?void 0:e.displayTokenA)==null?void 0:q.coin_type,B==null?void 0:B.displayCoinAmountA),ee=U((i=e==null?void 0:e.displayTokenB)==null?void 0:i.coin_type,B==null?void 0:B.displayCoinAmountB),M=g.useMemo(()=>d(re).plus(ee).toString(),[re,ee]),{getDlmmPositionDailyEarning:R}=us(),[E,z]=g.useState(null),[ae,Q]=g.useState(!0),[ne,o]=g.useState(null),[P,J]=g.useState(null),N=(G==null?void 0:G.currentStatus)==="Active",S=async()=>{try{const r=await R(e==null?void 0:e.id,M);if(r){const{aprDisplay:a,dailyEarnUSDDisplay:t,originResult:m}=r;console.log("ðŸš€ðŸš€ðŸš€ ~ PositionItemContent.tsx:117 ~ handleGetPositionApr ~ originResult:",m),z(a),$({[e==null?void 0:e.id]:N?a:"0%"}),o(t),J(m)}else z("--"),o("--");Q(!1)}catch{Q(!1)}finally{Q(!1)}};Xe(()=>{e!=null&&e.id&&(M&&d(M).gt(0)?S():B!==void 0&&(z("--"),o("--"),Q(!1)))},[e==null?void 0:e.id,M],{wait:1e3}),Ze({interval:60*1e3,callback:()=>{E!==null&&S()}});const[V,Z]=g.useState(null),[K,X]=g.useState(null);return s.jsx(Je,{onMouseEnter:()=>{setTimeout(()=>{L(!0)},40)},onMouseLeave:()=>{setTimeout(()=>{L(!1)},80)},w:"100%",bg:"position_bg",border:"none",p:{base:"16px 8px 12px",lg:"20px 16px "},borderRadius:"16px",onClick:()=>T(),cursor:"pointer",children:s.jsx(n,{w:"100%",justify:"space-between",flexDirection:{base:"column",lg:"row"},children:s.jsxs(W,{w:"100%",align:"flex-start",gap:"12px",children:[l&&s.jsxs(n,{flexDirection:{base:"column",lg:"row"},w:{base:"100%",lg:"unset"},children:[s.jsxs(n,{w:{base:"100%",lg:"unset"},justify:{base:"space-between",lg:"flex-start"},children:[s.jsx(x,{color:"primary_gray",fontSize:{base:"14px",lg:"12px"},children:"NFT ID"}),s.jsx(f,{isLoaded:!!F,children:s.jsx(x,{fontWeight:"500",fontSize:{base:"14px",lg:"12px"},color:"text_caption",children:F})})]}),s.jsxs(n,{w:{base:"100%",lg:"unset"},justify:{base:"space-between",lg:"flex-start"},children:[s.jsx(x,{color:"primary_gray",fontSize:{base:"14px",lg:"12px"},ml:{base:"0",lg:"8px"},children:"Address"}),s.jsx(Oe,{fontWeight:"500",color:"text_caption",address:e==null?void 0:e.id,showLink:!1,fontSize:{base:"14px",lg:"12px"},onClickLink:()=>{window.open(p(e==null?void 0:e.id,"nftAddress"),"_blank")}})]})]}),s.jsxs(n,{w:"100%",justify:"space-between",flexDirection:{base:"column",lg:"row"},gap:{base:"12px",lg:"8px"},children:[s.jsxs(n,{w:{base:"100%",lg:u[0]},justify:{base:"space-between",lg:"flex-end"},children:[l&&s.jsx(x,{color:"primary_gray",whiteSpace:"nowrap",children:"Price Range"}),s.jsx(ks,{positionInfo:e,tokenName:F,priceDirect:b,isShowIcon:I})]}),s.jsxs(n,{w:{base:"100%",lg:u[1]},justify:{base:"space-between",lg:"flex-end"},children:[l&&he&&s.jsxs(n,{gap:"2px",children:[s.jsx(x,{color:"primary_gray",children:"APR"}),s.jsx(De,{tooltipCon:s.jsxs("span",{children:["APR based on the past 24h historical trade fees and emissions. Only positions in range earn yield. Past performance is not indicative of future results. ",s.jsx("br",{}),"Calculations are an estimate and only for reference."]})})]}),s.jsx(f,{isLoaded:!ae&&B!==void 0,h:"14px",children:s.jsx(x,{color:"text_caption",children:N?E:"0%"})})]}),s.jsxs(n,{m:"-12px 0",w:{base:"100%",lg:u[2]},justify:{base:"space-between",lg:"flex-end"},children:[l&&s.jsx(x,{color:"primary_gray",children:"Liquidity"}),s.jsx(Pe,{children:s.jsx(Ls,{positionInfo:e,fontSize:"14px",isPosList:!0})})]}),s.jsxs(n,{w:{base:"100%",lg:u[3]},justify:{base:"space-between",lg:"flex-end"},children:[l&&s.jsx(x,{color:"primary_gray",children:"Claimable Yield"}),s.jsx(Ie,{positionInfo:e,hasRewards:k||_||!1})]}),s.jsxs(n,{w:{base:"100%",lg:u[4]},justify:{base:"space-between",lg:"flex-end"},children:[l&&s.jsx(x,{color:"primary_gray",children:"Est. Daily Yield"}),s.jsx(f,{isLoaded:!ae&&B!==void 0,h:"14px",children:s.jsx(oe,{positionInfo:e,dailyEarnUSD:N?ne:"$0",dailyEarnOriginResult:N?P:null,hasRewards:k||_||!1})})]}),!he,!he,s.jsxs(n,{w:{base:"100%",lg:u[5]},justify:{base:"space-between",lg:"flex-start"},flexDir:{base:"row",lg:"row-reverse"},children:[(e==null?void 0:e.posType)!=="burn"&&s.jsx(H,{w:{base:"calc((100vw - 32px )/ 2)",lg:"32px"},sx:{button:{w:"100%"}},children:s.jsx(me,{placement:"top",tooltip:s.jsx(x,{fontSize:"12px",lineHeight:"20px",color:"text_caption",children:"Add"}),showTooltip:!l,children:s.jsxs(ke,{variant:"outline",fontSize:"12px",bg:"primary_opacity.10",h:"32px",borderRadius:"8px",onClick:r=>{ce(r),T("increase")},children:[!l&&s.jsx(be,{xlinkHref:"#icon-a-icon_add1",svgFill:"primary",svgHover:"primary",fontSize:"14px"}),l&&s.jsx(x,{color:"primary",fontSize:"12px",children:"Increase"})]})})}),(e==null?void 0:e.posType)!=="burn"&&s.jsx(H,{w:{base:"calc((100vw - 32px )/ 2)",lg:"32px"},sx:{button:{w:"100%"}},children:s.jsx(me,{placement:"top",tooltip:s.jsx(x,{fontSize:"12px",lineHeight:"20px",color:"text_caption",children:"Remove"}),showTooltip:!l,children:s.jsxs(ke,{variant:"outline",fontSize:"12px",bg:"primary_opacity.10",h:"32px",borderRadius:"8px",onClick:r=>{ce(r),T("remove")},children:[!l&&s.jsx(be,{xlinkHref:"#icon-tx_remove",svgFill:"text_paragraph",svgHover:"text_paragraph",fontSize:"14px"}),l&&s.jsx(x,{color:"primary",fontSize:"12px",children:"Remove"})]})})})]})]})]})})})}function Zs({poolType:e,positionInfo:u,...b}){return e==="dlmm"?s.jsx(Cs,{positionInfo:u,...b}):s.jsx(As,{positionInfo:u,...b})}export{Ss as M,Zs as P,Ks as a,he as s,Xs as u};
//# sourceMappingURL=PositionItemContent-Cx-1mfww.js.map
