{"version":3,"file":"index-bm2g2Qch.js","sources":["../../../../node_modules/.pnpm/@safe-global+safe-apps-sdk@9.1.0_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@safe-global/safe-apps-sdk/dist/cjs/version.js","../../../../node_modules/.pnpm/@safe-global+safe-apps-sdk@9.1.0_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@safe-global/safe-apps-sdk/dist/cjs/communication/utils.js","../../../../node_modules/.pnpm/@safe-global+safe-apps-sdk@9.1.0_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@safe-global/safe-apps-sdk/dist/cjs/communication/messageFormatter.js","../../../../node_modules/.pnpm/@safe-global+safe-apps-sdk@9.1.0_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@safe-global/safe-apps-sdk/dist/cjs/communication/methods.js","../../../../node_modules/.pnpm/@safe-global+safe-apps-sdk@9.1.0_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@safe-global/safe-apps-sdk/dist/cjs/communication/index.js","../../../../node_modules/.pnpm/@safe-global+safe-apps-sdk@9.1.0_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@safe-global/safe-apps-sdk/dist/cjs/types/sdk.js","../../../../node_modules/.pnpm/@safe-global+safe-apps-sdk@9.1.0_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@safe-global/safe-apps-sdk/dist/cjs/types/rpc.js","../../../../node_modules/.pnpm/@safe-global+safe-apps-sdk@9.1.0_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@safe-global/safe-apps-sdk/dist/cjs/types/gateway.js","../../../../node_modules/.pnpm/@safe-global+safe-apps-sdk@9.1.0_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@safe-global/safe-apps-sdk/dist/cjs/types/messaging.js","../../../../node_modules/.pnpm/@safe-global+safe-apps-sdk@9.1.0_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@safe-global/safe-apps-sdk/dist/cjs/types/index.js","../../../../node_modules/.pnpm/@safe-global+safe-apps-sdk@9.1.0_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@safe-global/safe-apps-sdk/dist/cjs/txs/index.js","../../../../node_modules/.pnpm/@safe-global+safe-apps-sdk@9.1.0_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@safe-global/safe-apps-sdk/dist/cjs/eth/constants.js","../../../../node_modules/.pnpm/@safe-global+safe-apps-sdk@9.1.0_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@safe-global/safe-apps-sdk/dist/cjs/eth/index.js","../../../../node_modules/.pnpm/@safe-global+safe-apps-sdk@9.1.0_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@safe-global/safe-apps-sdk/dist/cjs/safe/signatures.js","../../../../node_modules/.pnpm/@safe-global+safe-apps-sdk@9.1.0_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@safe-global/safe-apps-sdk/dist/cjs/types/permissions.js","../../../../node_modules/.pnpm/@safe-global+safe-apps-sdk@9.1.0_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@safe-global/safe-apps-sdk/dist/cjs/wallet/index.js","../../../../node_modules/.pnpm/@safe-global+safe-apps-sdk@9.1.0_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@safe-global/safe-apps-sdk/dist/cjs/decorators/requirePermissions.js","../../../../node_modules/.pnpm/@safe-global+safe-apps-sdk@9.1.0_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@safe-global/safe-apps-sdk/dist/cjs/safe/index.js","../../../../node_modules/.pnpm/@safe-global+safe-apps-sdk@9.1.0_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@safe-global/safe-apps-sdk/dist/cjs/sdk.js","../../../../node_modules/.pnpm/@safe-global+safe-apps-sdk@9.1.0_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@safe-global/safe-apps-sdk/dist/cjs/index.js","../../../../node_modules/.pnpm/@safe-global+safe-apps-provider@0.18.6_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@safe-global/safe-apps-provider/dist/utils.js","../../../../node_modules/.pnpm/@safe-global+safe-apps-provider@0.18.6_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@safe-global/safe-apps-provider/dist/provider.js","../../../../node_modules/.pnpm/@safe-global+safe-apps-provider@0.18.6_bufferutil@4.0.9_typescript@5.9.3_utf-8-validate@5.0.10_zod@4.1.12/node_modules/@safe-global/safe-apps-provider/dist/index.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getSDKVersion = void 0;\nconst getSDKVersion = () => '9.1.0';\nexports.getSDKVersion = getSDKVersion;\n//# sourceMappingURL=version.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateRequestId = void 0;\n// i.e. 0-255 -> '00'-'ff'\nconst dec2hex = (dec) => dec.toString(16).padStart(2, '0');\nconst generateId = (len) => {\n    const arr = new Uint8Array((len || 40) / 2);\n    window.crypto.getRandomValues(arr);\n    return Array.from(arr, dec2hex).join('');\n};\nconst generateRequestId = () => {\n    if (typeof window !== 'undefined') {\n        return generateId(10);\n    }\n    return new Date().getTime().toString(36);\n};\nexports.generateRequestId = generateRequestId;\n//# sourceMappingURL=utils.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MessageFormatter = void 0;\nconst version_js_1 = require(\"../version.js\");\nconst utils_js_1 = require(\"./utils.js\");\nclass MessageFormatter {\n}\nexports.MessageFormatter = MessageFormatter;\nMessageFormatter.makeRequest = (method, params) => {\n    const id = (0, utils_js_1.generateRequestId)();\n    return {\n        id,\n        method,\n        params,\n        env: {\n            sdkVersion: (0, version_js_1.getSDKVersion)(),\n        },\n    };\n};\nMessageFormatter.makeResponse = (id, data, version) => ({\n    id,\n    success: true,\n    version,\n    data,\n});\nMessageFormatter.makeErrorResponse = (id, error, version) => ({\n    id,\n    success: false,\n    error,\n    version,\n});\n//# sourceMappingURL=messageFormatter.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RestrictedMethods = exports.Methods = void 0;\nvar Methods;\n(function (Methods) {\n    Methods[\"sendTransactions\"] = \"sendTransactions\";\n    Methods[\"rpcCall\"] = \"rpcCall\";\n    Methods[\"getChainInfo\"] = \"getChainInfo\";\n    Methods[\"getSafeInfo\"] = \"getSafeInfo\";\n    Methods[\"getTxBySafeTxHash\"] = \"getTxBySafeTxHash\";\n    Methods[\"getSafeBalances\"] = \"getSafeBalances\";\n    Methods[\"signMessage\"] = \"signMessage\";\n    Methods[\"signTypedMessage\"] = \"signTypedMessage\";\n    Methods[\"getEnvironmentInfo\"] = \"getEnvironmentInfo\";\n    Methods[\"getOffChainSignature\"] = \"getOffChainSignature\";\n    Methods[\"requestAddressBook\"] = \"requestAddressBook\";\n    Methods[\"wallet_getPermissions\"] = \"wallet_getPermissions\";\n    Methods[\"wallet_requestPermissions\"] = \"wallet_requestPermissions\";\n})(Methods || (exports.Methods = Methods = {}));\nvar RestrictedMethods;\n(function (RestrictedMethods) {\n    RestrictedMethods[\"requestAddressBook\"] = \"requestAddressBook\";\n})(RestrictedMethods || (exports.RestrictedMethods = RestrictedMethods = {}));\n//# sourceMappingURL=methods.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst messageFormatter_js_1 = require(\"./messageFormatter.js\");\nclass PostMessageCommunicator {\n    constructor(allowedOrigins = null, debugMode = false) {\n        this.allowedOrigins = null;\n        this.callbacks = new Map();\n        this.debugMode = false;\n        this.isServer = typeof window === 'undefined';\n        this.isValidMessage = ({ origin, data, source }) => {\n            const emptyOrMalformed = !data;\n            const sentFromParentEl = !this.isServer && source === window.parent;\n            const majorVersionNumber = typeof data.version !== 'undefined' && parseInt(data.version.split('.')[0]);\n            const allowedSDKVersion = typeof majorVersionNumber === 'number' && majorVersionNumber >= 1;\n            let validOrigin = true;\n            if (Array.isArray(this.allowedOrigins)) {\n                validOrigin = this.allowedOrigins.find((regExp) => regExp.test(origin)) !== undefined;\n            }\n            return !emptyOrMalformed && sentFromParentEl && allowedSDKVersion && validOrigin;\n        };\n        this.logIncomingMessage = (msg) => {\n            console.info(`Safe Apps SDK v1: A message was received from origin ${msg.origin}. `, msg.data);\n        };\n        this.onParentMessage = (msg) => {\n            if (this.isValidMessage(msg)) {\n                this.debugMode && this.logIncomingMessage(msg);\n                this.handleIncomingMessage(msg.data);\n            }\n        };\n        this.handleIncomingMessage = (payload) => {\n            const { id } = payload;\n            const cb = this.callbacks.get(id);\n            if (cb) {\n                cb(payload);\n                this.callbacks.delete(id);\n            }\n        };\n        this.send = (method, params) => {\n            const request = messageFormatter_js_1.MessageFormatter.makeRequest(method, params);\n            if (this.isServer) {\n                throw new Error(\"Window doesn't exist\");\n            }\n            window.parent.postMessage(request, '*');\n            return new Promise((resolve, reject) => {\n                this.callbacks.set(request.id, (response) => {\n                    if (!response.success) {\n                        reject(new Error(response.error));\n                        return;\n                    }\n                    resolve(response);\n                });\n            });\n        };\n        this.allowedOrigins = allowedOrigins;\n        this.debugMode = debugMode;\n        if (!this.isServer) {\n            window.addEventListener('message', this.onParentMessage);\n        }\n    }\n}\nexports.default = PostMessageCommunicator;\n__exportStar(require(\"./methods.js\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isObjectEIP712TypedData = void 0;\nconst isObjectEIP712TypedData = (obj) => {\n    return typeof obj === 'object' && obj != null && 'domain' in obj && 'types' in obj && 'message' in obj;\n};\nexports.isObjectEIP712TypedData = isObjectEIP712TypedData;\n//# sourceMappingURL=sdk.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=rpc.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TransferDirection = exports.TransactionStatus = exports.TokenType = exports.Operation = void 0;\nvar safe_gateway_typescript_sdk_1 = require(\"@safe-global/safe-gateway-typescript-sdk\");\nObject.defineProperty(exports, \"Operation\", { enumerable: true, get: function () { return safe_gateway_typescript_sdk_1.Operation; } });\nObject.defineProperty(exports, \"TokenType\", { enumerable: true, get: function () { return safe_gateway_typescript_sdk_1.TokenType; } });\nObject.defineProperty(exports, \"TransactionStatus\", { enumerable: true, get: function () { return safe_gateway_typescript_sdk_1.TransactionStatus; } });\nObject.defineProperty(exports, \"TransferDirection\", { enumerable: true, get: function () { return safe_gateway_typescript_sdk_1.TransferDirection; } });\n//# sourceMappingURL=gateway.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst methods_js_1 = require(\"../communication/methods.js\");\n//# sourceMappingURL=messaging.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./sdk.js\"), exports);\n__exportStar(require(\"./rpc.js\"), exports);\n__exportStar(require(\"./gateway.js\"), exports);\n__exportStar(require(\"./messaging.js\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TXs = void 0;\nconst methods_js_1 = require(\"../communication/methods.js\");\nconst index_js_1 = require(\"../types/index.js\");\nclass TXs {\n    constructor(communicator) {\n        this.communicator = communicator;\n    }\n    async getBySafeTxHash(safeTxHash) {\n        if (!safeTxHash) {\n            throw new Error('Invalid safeTxHash');\n        }\n        const response = await this.communicator.send(methods_js_1.Methods.getTxBySafeTxHash, { safeTxHash });\n        return response.data;\n    }\n    async signMessage(message) {\n        const messagePayload = {\n            message,\n        };\n        const response = await this.communicator.send(methods_js_1.Methods.signMessage, messagePayload);\n        return response.data;\n    }\n    async signTypedMessage(typedData) {\n        if (!(0, index_js_1.isObjectEIP712TypedData)(typedData)) {\n            throw new Error('Invalid typed data');\n        }\n        const response = await this.communicator.send(methods_js_1.Methods.signTypedMessage, { typedData });\n        return response.data;\n    }\n    async send({ txs, params }) {\n        if (!txs || !txs.length) {\n            throw new Error('No transactions were passed');\n        }\n        const messagePayload = {\n            txs,\n            params,\n        };\n        const response = await this.communicator.send(methods_js_1.Methods.sendTransactions, messagePayload);\n        return response.data;\n    }\n}\nexports.TXs = TXs;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RPC_CALLS = void 0;\nexports.RPC_CALLS = {\n    eth_call: 'eth_call',\n    eth_gasPrice: 'eth_gasPrice',\n    eth_getLogs: 'eth_getLogs',\n    eth_getBalance: 'eth_getBalance',\n    eth_getCode: 'eth_getCode',\n    eth_getBlockByHash: 'eth_getBlockByHash',\n    eth_getBlockByNumber: 'eth_getBlockByNumber',\n    eth_getStorageAt: 'eth_getStorageAt',\n    eth_getTransactionByHash: 'eth_getTransactionByHash',\n    eth_getTransactionReceipt: 'eth_getTransactionReceipt',\n    eth_getTransactionCount: 'eth_getTransactionCount',\n    eth_estimateGas: 'eth_estimateGas',\n    safe_setSettings: 'safe_setSettings',\n};\n//# sourceMappingURL=constants.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Eth = void 0;\nconst constants_js_1 = require(\"../eth/constants.js\");\nconst methods_js_1 = require(\"../communication/methods.js\");\nconst inputFormatters = {\n    defaultBlockParam: (arg = 'latest') => arg,\n    returnFullTxObjectParam: (arg = false) => arg,\n    blockNumberToHex: (arg) => Number.isInteger(arg) ? `0x${arg.toString(16)}` : arg,\n};\nclass Eth {\n    constructor(communicator) {\n        this.communicator = communicator;\n        this.call = this.buildRequest({\n            call: constants_js_1.RPC_CALLS.eth_call,\n            formatters: [null, inputFormatters.defaultBlockParam],\n        });\n        this.getBalance = this.buildRequest({\n            call: constants_js_1.RPC_CALLS.eth_getBalance,\n            formatters: [null, inputFormatters.defaultBlockParam],\n        });\n        this.getCode = this.buildRequest({\n            call: constants_js_1.RPC_CALLS.eth_getCode,\n            formatters: [null, inputFormatters.defaultBlockParam],\n        });\n        this.getStorageAt = this.buildRequest({\n            call: constants_js_1.RPC_CALLS.eth_getStorageAt,\n            formatters: [null, inputFormatters.blockNumberToHex, inputFormatters.defaultBlockParam],\n        });\n        this.getPastLogs = this.buildRequest({\n            call: constants_js_1.RPC_CALLS.eth_getLogs,\n        });\n        this.getBlockByHash = this.buildRequest({\n            call: constants_js_1.RPC_CALLS.eth_getBlockByHash,\n            formatters: [null, inputFormatters.returnFullTxObjectParam],\n        });\n        this.getBlockByNumber = this.buildRequest({\n            call: constants_js_1.RPC_CALLS.eth_getBlockByNumber,\n            formatters: [inputFormatters.blockNumberToHex, inputFormatters.returnFullTxObjectParam],\n        });\n        this.getTransactionByHash = this.buildRequest({\n            call: constants_js_1.RPC_CALLS.eth_getTransactionByHash,\n        });\n        this.getTransactionReceipt = this.buildRequest({\n            call: constants_js_1.RPC_CALLS.eth_getTransactionReceipt,\n        });\n        this.getTransactionCount = this.buildRequest({\n            call: constants_js_1.RPC_CALLS.eth_getTransactionCount,\n            formatters: [null, inputFormatters.defaultBlockParam],\n        });\n        this.getGasPrice = this.buildRequest({\n            call: constants_js_1.RPC_CALLS.eth_gasPrice,\n        });\n        this.getEstimateGas = (transaction) => this.buildRequest({\n            call: constants_js_1.RPC_CALLS.eth_estimateGas,\n        })([transaction]);\n        this.setSafeSettings = this.buildRequest({\n            call: constants_js_1.RPC_CALLS.safe_setSettings,\n        });\n    }\n    buildRequest(args) {\n        const { call, formatters } = args;\n        return async (params) => {\n            if (formatters && Array.isArray(params)) {\n                formatters.forEach((formatter, i) => {\n                    if (formatter) {\n                        params[i] = formatter(params[i]);\n                    }\n                });\n            }\n            const payload = {\n                call,\n                params: params || [],\n            };\n            const response = await this.communicator.send(methods_js_1.Methods.rpcCall, payload);\n            return response.data;\n        };\n    }\n}\nexports.Eth = Eth;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MAGIC_VALUE_BYTES = exports.MAGIC_VALUE = void 0;\nconst MAGIC_VALUE = '0x1626ba7e';\nexports.MAGIC_VALUE = MAGIC_VALUE;\nconst MAGIC_VALUE_BYTES = '0x20c13b0b';\nexports.MAGIC_VALUE_BYTES = MAGIC_VALUE_BYTES;\n//# sourceMappingURL=signatures.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PermissionsError = exports.PERMISSIONS_REQUEST_REJECTED = void 0;\nexports.PERMISSIONS_REQUEST_REJECTED = 4001;\nclass PermissionsError extends Error {\n    constructor(message, code, data) {\n        super(message);\n        this.code = code;\n        this.data = data;\n        // Should adjust prototype manually because how TS handles the type extension compilation\n        // https://github.com/Microsoft/TypeScript/wiki/Breaking-Changes#extending-built-ins-like-error-array-and-map-may-no-longer-work\n        Object.setPrototypeOf(this, PermissionsError.prototype);\n    }\n}\nexports.PermissionsError = PermissionsError;\n//# sourceMappingURL=permissions.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Wallet = void 0;\nconst methods_js_1 = require(\"../communication/methods.js\");\nconst permissions_js_1 = require(\"../types/permissions.js\");\nclass Wallet {\n    constructor(communicator) {\n        this.communicator = communicator;\n    }\n    async getPermissions() {\n        const response = await this.communicator.send(methods_js_1.Methods.wallet_getPermissions, undefined);\n        return response.data;\n    }\n    async requestPermissions(permissions) {\n        if (!this.isPermissionRequestValid(permissions)) {\n            throw new permissions_js_1.PermissionsError('Permissions request is invalid', permissions_js_1.PERMISSIONS_REQUEST_REJECTED);\n        }\n        try {\n            const response = await this.communicator.send(methods_js_1.Methods.wallet_requestPermissions, permissions);\n            return response.data;\n        }\n        catch {\n            throw new permissions_js_1.PermissionsError('Permissions rejected', permissions_js_1.PERMISSIONS_REQUEST_REJECTED);\n        }\n    }\n    isPermissionRequestValid(permissions) {\n        return permissions.every((pr) => {\n            if (typeof pr === 'object') {\n                return Object.keys(pr).every((method) => {\n                    if (Object.values(methods_js_1.RestrictedMethods).includes(method)) {\n                        return true;\n                    }\n                    return false;\n                });\n            }\n            return false;\n        });\n    }\n}\nexports.Wallet = Wallet;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst index_js_1 = require(\"../wallet/index.js\");\nconst permissions_js_1 = require(\"../types/permissions.js\");\nconst hasPermission = (required, permissions) => permissions.some((permission) => permission.parentCapability === required);\nconst requirePermission = () => (_, propertyKey, descriptor) => {\n    const originalMethod = descriptor.value;\n    descriptor.value = async function () {\n        // @ts-expect-error accessing private property from decorator. 'this' context is the class instance\n        const wallet = new index_js_1.Wallet(this.communicator);\n        let currentPermissions = await wallet.getPermissions();\n        if (!hasPermission(propertyKey, currentPermissions)) {\n            currentPermissions = await wallet.requestPermissions([{ [propertyKey]: {} }]);\n        }\n        if (!hasPermission(propertyKey, currentPermissions)) {\n            throw new permissions_js_1.PermissionsError('Permissions rejected', permissions_js_1.PERMISSIONS_REQUEST_REJECTED);\n        }\n        return originalMethod.apply(this);\n    };\n    return descriptor;\n};\nexports.default = requirePermission;\n//# sourceMappingURL=requirePermissions.js.map","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Safe = void 0;\nconst viem_1 = require(\"viem\");\nconst signatures_js_1 = require(\"./signatures.js\");\nconst methods_js_1 = require(\"../communication/methods.js\");\nconst constants_js_1 = require(\"../eth/constants.js\");\nconst index_js_1 = require(\"../types/index.js\");\nconst requirePermissions_js_1 = __importDefault(require(\"../decorators/requirePermissions.js\"));\nclass Safe {\n    constructor(communicator) {\n        this.communicator = communicator;\n    }\n    async getChainInfo() {\n        const response = await this.communicator.send(methods_js_1.Methods.getChainInfo, undefined);\n        return response.data;\n    }\n    async getInfo() {\n        const response = await this.communicator.send(methods_js_1.Methods.getSafeInfo, undefined);\n        return response.data;\n    }\n    // There is a possibility that this method will change because we may add pagination to the endpoint\n    async experimental_getBalances({ currency = 'usd' } = {}) {\n        const response = await this.communicator.send(methods_js_1.Methods.getSafeBalances, {\n            currency,\n        });\n        return response.data;\n    }\n    async check1271Signature(messageHash, signature = '0x') {\n        const safeInfo = await this.getInfo();\n        const encodedIsValidSignatureCall = (0, viem_1.encodeFunctionData)({\n            abi: [\n                {\n                    constant: false,\n                    inputs: [\n                        {\n                            name: '_dataHash',\n                            type: 'bytes32',\n                        },\n                        {\n                            name: '_signature',\n                            type: 'bytes',\n                        },\n                    ],\n                    name: 'isValidSignature',\n                    outputs: [\n                        {\n                            name: '',\n                            type: 'bytes4',\n                        },\n                    ],\n                    payable: false,\n                    stateMutability: 'nonpayable',\n                    type: 'function',\n                },\n            ],\n            functionName: 'isValidSignature',\n            args: [messageHash, signature],\n        });\n        const payload = {\n            call: constants_js_1.RPC_CALLS.eth_call,\n            params: [\n                {\n                    to: safeInfo.safeAddress,\n                    data: encodedIsValidSignatureCall,\n                },\n                'latest',\n            ],\n        };\n        try {\n            const response = await this.communicator.send(methods_js_1.Methods.rpcCall, payload);\n            return response.data.slice(0, 10).toLowerCase() === signatures_js_1.MAGIC_VALUE;\n        }\n        catch (err) {\n            return false;\n        }\n    }\n    async check1271SignatureBytes(messageHash, signature = '0x') {\n        const safeInfo = await this.getInfo();\n        const encodedIsValidSignatureCall = (0, viem_1.encodeFunctionData)({\n            abi: [\n                {\n                    constant: false,\n                    inputs: [\n                        {\n                            name: '_data',\n                            type: 'bytes',\n                        },\n                        {\n                            name: '_signature',\n                            type: 'bytes',\n                        },\n                    ],\n                    name: 'isValidSignature',\n                    outputs: [\n                        {\n                            name: '',\n                            type: 'bytes4',\n                        },\n                    ],\n                    payable: false,\n                    stateMutability: 'nonpayable',\n                    type: 'function',\n                },\n            ],\n            functionName: 'isValidSignature',\n            args: [messageHash, signature],\n        });\n        const payload = {\n            call: constants_js_1.RPC_CALLS.eth_call,\n            params: [\n                {\n                    to: safeInfo.safeAddress,\n                    data: encodedIsValidSignatureCall,\n                },\n                'latest',\n            ],\n        };\n        try {\n            const response = await this.communicator.send(methods_js_1.Methods.rpcCall, payload);\n            return response.data.slice(0, 10).toLowerCase() === signatures_js_1.MAGIC_VALUE_BYTES;\n        }\n        catch (err) {\n            return false;\n        }\n    }\n    calculateMessageHash(message) {\n        return (0, viem_1.hashMessage)(message);\n    }\n    calculateTypedMessageHash(typedMessage) {\n        const chainId = typeof typedMessage.domain.chainId === 'object'\n            ? typedMessage.domain.chainId.toNumber()\n            : Number(typedMessage.domain.chainId);\n        let primaryType = typedMessage.primaryType;\n        if (!primaryType) {\n            const fields = Object.values(typedMessage.types);\n            // We try to infer primaryType (simplified ether's version)\n            const primaryTypes = Object.keys(typedMessage.types).filter((typeName) => fields.every((dataTypes) => dataTypes.every(({ type }) => type.replace('[', '').replace(']', '') !== typeName)));\n            if (primaryTypes.length === 0 || primaryTypes.length > 1)\n                throw new Error('Please specify primaryType');\n            primaryType = primaryTypes[0];\n        }\n        return (0, viem_1.hashTypedData)({\n            message: typedMessage.message,\n            domain: {\n                ...typedMessage.domain,\n                chainId,\n                verifyingContract: typedMessage.domain.verifyingContract,\n                salt: typedMessage.domain.salt,\n            },\n            types: typedMessage.types,\n            primaryType,\n        });\n    }\n    async getOffChainSignature(messageHash) {\n        const response = await this.communicator.send(methods_js_1.Methods.getOffChainSignature, messageHash);\n        return response.data;\n    }\n    async isMessageSigned(message, signature = '0x') {\n        let check;\n        if (typeof message === 'string') {\n            check = async () => {\n                const messageHash = this.calculateMessageHash(message);\n                const messageHashSigned = await this.isMessageHashSigned(messageHash, signature);\n                return messageHashSigned;\n            };\n        }\n        if ((0, index_js_1.isObjectEIP712TypedData)(message)) {\n            check = async () => {\n                const messageHash = this.calculateTypedMessageHash(message);\n                const messageHashSigned = await this.isMessageHashSigned(messageHash, signature);\n                return messageHashSigned;\n            };\n        }\n        if (check) {\n            const isValid = await check();\n            return isValid;\n        }\n        throw new Error('Invalid message type');\n    }\n    async isMessageHashSigned(messageHash, signature = '0x') {\n        const checks = [this.check1271Signature.bind(this), this.check1271SignatureBytes.bind(this)];\n        for (const check of checks) {\n            const isValid = await check(messageHash, signature);\n            if (isValid) {\n                return true;\n            }\n        }\n        return false;\n    }\n    async getEnvironmentInfo() {\n        const response = await this.communicator.send(methods_js_1.Methods.getEnvironmentInfo, undefined);\n        return response.data;\n    }\n    async requestAddressBook() {\n        const response = await this.communicator.send(methods_js_1.Methods.requestAddressBook, undefined);\n        return response.data;\n    }\n}\nexports.Safe = Safe;\n__decorate([\n    (0, requirePermissions_js_1.default)()\n], Safe.prototype, \"requestAddressBook\", null);\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst index_js_1 = __importDefault(require(\"./communication/index.js\"));\nconst index_js_2 = require(\"./txs/index.js\");\nconst index_js_3 = require(\"./eth/index.js\");\nconst index_js_4 = require(\"./safe/index.js\");\nconst index_js_5 = require(\"./wallet/index.js\");\nclass SafeAppsSDK {\n    constructor(opts = {}) {\n        const { allowedDomains = null, debug = false } = opts;\n        this.communicator = new index_js_1.default(allowedDomains, debug);\n        this.eth = new index_js_3.Eth(this.communicator);\n        this.txs = new index_js_2.TXs(this.communicator);\n        this.safe = new index_js_4.Safe(this.communicator);\n        this.wallet = new index_js_5.Wallet(this.communicator);\n    }\n}\nexports.default = SafeAppsSDK;\n//# sourceMappingURL=sdk.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getSDKVersion = void 0;\nconst sdk_js_1 = __importDefault(require(\"./sdk.js\"));\nexports.default = sdk_js_1.default;\n__exportStar(require(\"./sdk.js\"), exports);\n__exportStar(require(\"./types/index.js\"), exports);\n__exportStar(require(\"./communication/methods.js\"), exports);\n__exportStar(require(\"./communication/messageFormatter.js\"), exports);\nvar version_js_1 = require(\"./version.js\");\nObject.defineProperty(exports, \"getSDKVersion\", { enumerable: true, get: function () { return version_js_1.getSDKVersion; } });\n__exportStar(require(\"./eth/constants.js\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.numberToHex = exports.getLowerCase = void 0;\nfunction getLowerCase(value) {\n    if (value) {\n        return value.toLowerCase();\n    }\n    return value;\n}\nexports.getLowerCase = getLowerCase;\nfunction numberToHex(value) {\n    return `0x${value.toString(16)}`;\n}\nexports.numberToHex = numberToHex;\n//# sourceMappingURL=utils.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SafeAppProvider = void 0;\nconst safe_apps_sdk_1 = require(\"@safe-global/safe-apps-sdk\");\nconst events_1 = require(\"events\");\nconst utils_1 = require(\"./utils\");\n// The API is based on Ethereum JavaScript API Provider Standard. Link: https://eips.ethereum.org/EIPS/eip-1193\nclass SafeAppProvider extends events_1.EventEmitter {\n    constructor(safe, sdk) {\n        super();\n        this.submittedTxs = new Map();\n        this.safe = safe;\n        this.sdk = sdk;\n    }\n    async connect() {\n        this.emit('connect', { chainId: this.chainId });\n        return;\n    }\n    async disconnect() {\n        return;\n    }\n    get chainId() {\n        return this.safe.chainId;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    async request(request) {\n        const { method, params = [] } = request;\n        switch (method) {\n            case 'eth_accounts':\n                return [this.safe.safeAddress];\n            case 'net_version':\n            case 'eth_chainId':\n                return (0, utils_1.numberToHex)(this.chainId);\n            case 'personal_sign': {\n                const [message, address] = params;\n                if (this.safe.safeAddress.toLowerCase() !== address.toLowerCase()) {\n                    throw new Error('The address or message hash is invalid');\n                }\n                const response = await this.sdk.txs.signMessage(message);\n                const signature = 'signature' in response ? response.signature : undefined;\n                return signature || '0x';\n            }\n            case 'eth_sign': {\n                const [address, messageHash] = params;\n                if (this.safe.safeAddress.toLowerCase() !== address.toLowerCase() || !messageHash.startsWith('0x')) {\n                    throw new Error('The address or message hash is invalid');\n                }\n                const response = await this.sdk.txs.signMessage(messageHash);\n                const signature = 'signature' in response ? response.signature : undefined;\n                return signature || '0x';\n            }\n            case 'eth_signTypedData':\n            case 'eth_signTypedData_v4': {\n                const [address, typedData] = params;\n                const parsedTypedData = typeof typedData === 'string' ? JSON.parse(typedData) : typedData;\n                if (this.safe.safeAddress.toLowerCase() !== address.toLowerCase()) {\n                    throw new Error('The address is invalid');\n                }\n                const response = await this.sdk.txs.signTypedMessage(parsedTypedData);\n                const signature = 'signature' in response ? response.signature : undefined;\n                return signature || '0x';\n            }\n            case 'eth_sendTransaction':\n                // `value` or `data` can be explicitly set as `undefined` for example in Viem. The spread will overwrite the fallback value.\n                const tx = {\n                    ...params[0],\n                    value: params[0].value || '0',\n                    data: params[0].data || '0x',\n                };\n                // Some ethereum libraries might pass the gas as a hex-encoded string\n                // We need to convert it to a number because the SDK expects a number and our backend only supports\n                // Decimal numbers\n                if (typeof tx.gas === 'string' && tx.gas.startsWith('0x')) {\n                    tx.gas = parseInt(tx.gas, 16);\n                }\n                const resp = await this.sdk.txs.send({\n                    txs: [tx],\n                    params: { safeTxGas: tx.gas },\n                });\n                // Store fake transaction\n                this.submittedTxs.set(resp.safeTxHash, {\n                    from: this.safe.safeAddress,\n                    hash: resp.safeTxHash,\n                    gas: 0,\n                    gasPrice: '0x00',\n                    nonce: 0,\n                    input: tx.data,\n                    value: tx.value,\n                    to: tx.to,\n                    blockHash: null,\n                    blockNumber: null,\n                    transactionIndex: null,\n                });\n                return resp.safeTxHash;\n            case 'eth_blockNumber':\n                const block = await this.sdk.eth.getBlockByNumber(['latest']);\n                return block.number;\n            case 'eth_getBalance':\n                return this.sdk.eth.getBalance([(0, utils_1.getLowerCase)(params[0]), params[1]]);\n            case 'eth_getCode':\n                return this.sdk.eth.getCode([(0, utils_1.getLowerCase)(params[0]), params[1]]);\n            case 'eth_getTransactionCount':\n                return this.sdk.eth.getTransactionCount([(0, utils_1.getLowerCase)(params[0]), params[1]]);\n            case 'eth_getStorageAt':\n                return this.sdk.eth.getStorageAt([(0, utils_1.getLowerCase)(params[0]), params[1], params[2]]);\n            case 'eth_getBlockByNumber':\n                return this.sdk.eth.getBlockByNumber([params[0], params[1]]);\n            case 'eth_getBlockByHash':\n                return this.sdk.eth.getBlockByHash([params[0], params[1]]);\n            case 'eth_getTransactionByHash':\n                let txHash = params[0];\n                try {\n                    const resp = await this.sdk.txs.getBySafeTxHash(txHash);\n                    txHash = resp.txHash || txHash;\n                }\n                catch (e) { }\n                // Use fake transaction if we don't have a real tx hash\n                if (this.submittedTxs.has(txHash)) {\n                    return this.submittedTxs.get(txHash);\n                }\n                return this.sdk.eth.getTransactionByHash([txHash]).then((tx) => {\n                    // We set the tx hash to the one requested, as some provider assert this\n                    if (tx) {\n                        tx.hash = params[0];\n                    }\n                    return tx;\n                });\n            case 'eth_getTransactionReceipt': {\n                let txHash = params[0];\n                try {\n                    const resp = await this.sdk.txs.getBySafeTxHash(txHash);\n                    txHash = resp.txHash || txHash;\n                }\n                catch (e) { }\n                return this.sdk.eth.getTransactionReceipt([txHash]).then((tx) => {\n                    // We set the tx hash to the one requested, as some provider assert this\n                    if (tx) {\n                        tx.transactionHash = params[0];\n                    }\n                    return tx;\n                });\n            }\n            case 'eth_estimateGas': {\n                return this.sdk.eth.getEstimateGas(params[0]);\n            }\n            case 'eth_call': {\n                return this.sdk.eth.call([params[0], params[1]]);\n            }\n            case 'eth_getLogs':\n                return this.sdk.eth.getPastLogs([params[0]]);\n            case 'eth_gasPrice':\n                return this.sdk.eth.getGasPrice();\n            case 'wallet_getPermissions':\n                return this.sdk.wallet.getPermissions();\n            case 'wallet_requestPermissions':\n                return this.sdk.wallet.requestPermissions(params[0]);\n            case 'safe_setSettings':\n                return this.sdk.eth.setSafeSettings([params[0]]);\n            case 'wallet_sendCalls': {\n                const { from, calls, chainId } = params[0];\n                if (chainId !== (0, utils_1.numberToHex)(this.chainId)) {\n                    throw new Error(`Safe is not on chain ${chainId}`);\n                }\n                if (from !== this.safe.safeAddress) {\n                    throw Error('Invalid from address');\n                }\n                const txs = calls.map((call, i) => {\n                    if (!call.to) {\n                        throw new Error(`Invalid call #${i}: missing \"to\" field`);\n                    }\n                    return {\n                        to: call.to,\n                        data: call.data ?? '0x',\n                        value: call.value ?? (0, utils_1.numberToHex)(0),\n                    };\n                });\n                const { safeTxHash } = await this.sdk.txs.send({ txs });\n                const result = {\n                    id: safeTxHash,\n                };\n                return result;\n            }\n            case 'wallet_getCallsStatus': {\n                const safeTxHash = params[0];\n                const CallStatus = {\n                    [safe_apps_sdk_1.TransactionStatus.AWAITING_CONFIRMATIONS]: 100,\n                    [safe_apps_sdk_1.TransactionStatus.AWAITING_EXECUTION]: 100,\n                    [safe_apps_sdk_1.TransactionStatus.SUCCESS]: 200,\n                    [safe_apps_sdk_1.TransactionStatus.CANCELLED]: 400,\n                    [safe_apps_sdk_1.TransactionStatus.FAILED]: 500,\n                };\n                const tx = await this.sdk.txs.getBySafeTxHash(safeTxHash);\n                const result = {\n                    version: '1.0',\n                    id: safeTxHash,\n                    chainId: (0, utils_1.numberToHex)(this.chainId),\n                    status: CallStatus[tx.txStatus],\n                };\n                // Transaction is queued\n                if (!tx.txHash) {\n                    return result;\n                }\n                // If transaction is executing, receipt is null\n                const receipt = await this.sdk.eth.getTransactionReceipt([tx.txHash]);\n                if (!receipt) {\n                    return result;\n                }\n                const calls = tx.txData?.dataDecoded?.method !== 'multiSend'\n                    ? 1\n                    : // Number of batched transactions\n                        tx.txData.dataDecoded.parameters?.[0].valueDecoded?.length ?? 1;\n                // Typed as number; is hex\n                const blockNumber = Number(receipt.blockNumber);\n                const gasUsed = Number(receipt.gasUsed);\n                result.receipts = Array(calls).fill({\n                    logs: receipt.logs,\n                    status: (0, utils_1.numberToHex)(tx.txStatus === safe_apps_sdk_1.TransactionStatus.SUCCESS ? 1 : 0),\n                    blockHash: receipt.blockHash,\n                    blockNumber: (0, utils_1.numberToHex)(blockNumber),\n                    gasUsed: (0, utils_1.numberToHex)(gasUsed),\n                    transactionHash: tx.txHash,\n                });\n                return result;\n            }\n            case 'wallet_showCallsStatus': {\n                // Cannot open transaction details page via SDK\n                throw new Error(`\"${request.method}\" not supported`);\n            }\n            case 'wallet_getCapabilities': {\n                return {\n                    [(0, utils_1.numberToHex)(this.chainId)]: {\n                        atomicBatch: {\n                            supported: true,\n                        },\n                    },\n                };\n            }\n            default:\n                throw Error(`\"${request.method}\" not implemented`);\n        }\n    }\n    // this method is needed for ethers v4\n    // https://github.com/ethers-io/ethers.js/blob/427e16826eb15d52d25c4f01027f8db22b74b76c/src.ts/providers/web3-provider.ts#L41-L55\n    send(request, callback) {\n        if (!request)\n            callback('Undefined request');\n        this.request(request)\n            .then((result) => callback(null, { jsonrpc: '2.0', id: request.id, result }))\n            .catch((error) => callback(error, null));\n    }\n}\nexports.SafeAppProvider = SafeAppProvider;\n//# sourceMappingURL=provider.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SafeAppProvider = void 0;\nvar provider_1 = require(\"./provider\");\nObject.defineProperty(exports, \"SafeAppProvider\", { enumerable: true, get: function () { return provider_1.SafeAppProvider; } });\n//# sourceMappingURL=index.js.map"],"names":["version","getSDKVersion","utils","dec2hex","dec","generateId","len","arr","generateRequestId","messageFormatter","version_js_1","require$$0","utils_js_1","require$$1","MessageFormatter","method","params","id","data","error","methods","Methods","RestrictedMethods","__createBinding","this","o","m","k","k2","desc","__exportStar","exports","p","messageFormatter_js_1","PostMessageCommunicator","allowedOrigins","debugMode","origin","source","emptyOrMalformed","sentFromParentEl","majorVersionNumber","allowedSDKVersion","validOrigin","regExp","msg","payload","cb","request","resolve","reject","response","sdk","isObjectEIP712TypedData","obj","rpc","safe_gateway_typescript_sdk_1","messaging","require$$2","require$$3","txs","methods_js_1","index_js_1","TXs","communicator","safeTxHash","message","messagePayload","typedData","constants","eth","constants_js_1","inputFormatters","arg","Eth","transaction","args","call","formatters","formatter","signatures","MAGIC_VALUE","MAGIC_VALUE_BYTES","permissions","PermissionsError","code","wallet","permissions_js_1","Wallet","pr","requirePermissions","hasPermission","required","permission","requirePermission","_","propertyKey","descriptor","originalMethod","currentPermissions","__decorate","decorators","target","key","c","r","d","i","__importDefault","mod","safe","viem_1","signatures_js_1","require$$4","requirePermissions_js_1","require$$5","Safe","currency","messageHash","signature","safeInfo","encodedIsValidSignatureCall","typedMessage","chainId","primaryType","fields","primaryTypes","typeName","dataTypes","type","check","checks","index_js_2","index_js_3","index_js_4","index_js_5","SafeAppsSDK","opts","allowedDomains","debug","sdk_js_1","getLowerCase","value","numberToHex","provider","safe_apps_sdk_1","events_1","utils_1","SafeAppProvider","address","parsedTypedData","tx","resp","txHash","from","calls","CallStatus","result","receipt","_b","_a","_d","_c","blockNumber","gasUsed","callback","provider_1"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22]}