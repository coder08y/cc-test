import{r as l,j as e,V as n,C as P,H as a,Y as C,m as g,T as c,B as H}from"./vendor-CBmAETR3.js";import{M as z,B as w,u as T}from"./index-ihcskjKt.js";import"./cross-CbhIs7DK.js";import{P as E}from"./Table-CmEnXJpd.js";import{N as h}from"./NoData-BFX9XpKb.js";import{u as W,C as _,O as k,P as R,F as v,E as Y,S as M,L as N}from"./useGetLimitOrderHistory-rZ7WzPDR.js";function J(){const{currentAccount:s,onWalletModal:t}=z(),{myOrderList:x,orderListLoading:j}=W(),o=10,[p,i]=l.useState([]),[m,S]=l.useState(0),[u,b]=l.useState(1);return l.useEffect(()=>{if((x==null?void 0:x.length)>0){S(x==null?void 0:x.length);const r=(u-1)*o,d=r+o;i(x.slice(r,d))}},[u,x]),e.jsx(n,{w:"100%",children:s!=null&&s.address?j?e.jsx(w,{p:{base:"12px",lg:"20px 16px"},borderRadius:"16px",children:e.jsx(n,{gap:"20px",sx:{">div":{borderBottom:"1px solid",borderColor:"border",pb:"20px",_last:{borderBottom:"none",pb:"0px"}}},children:[{},{}].map((r,d)=>e.jsx(F,{},d))})}):x.length===0?e.jsx(h,{type:"nodata",text:"You don't have any open orders yet.",borderRadius:"16px"}):e.jsxs(w,{borderRadius:"16px",p:{base:"12px",lg:"20px 16px"},h:(p==null?void 0:p.length)>8?"927px":"unset",overflowY:"auto",children:[e.jsx(n,{gap:"20px",sx:{">div":{borderBottom:"1px solid",borderColor:"border",pb:"20px",_last:{borderBottom:"none",pb:"0px"}}},children:p==null?void 0:p.map(r=>e.jsx(V,{orderInfo:r},r==null?void 0:r.order_id))}),!j&&(x==null?void 0:x.length)>o&&e.jsx(P,{mt:"12px",children:e.jsx(E,{total:m,size:o,currentPage:u,onChange:b})})]}):e.jsx(h,{type:"nowallet",onboard:()=>t(!0),borderRadius:"16px"})})}const V=({orderInfo:s})=>{const{isApp:t}=T();return e.jsxs(n,{w:"100%",gap:"16px",children:[e.jsxs(a,{w:"100%",justify:"space-between",children:[e.jsx(_,{info:s,imgSize:"28px"}),!t&&e.jsx(k,{orderInfo:s})]}),e.jsxs(a,{w:"100%",justify:"space-between",children:[e.jsx(c,{children:"Price"}),e.jsx(R,{info:s})]}),e.jsxs(a,{w:"100%",justify:"space-between",children:[e.jsx(c,{children:"Filled Size"}),e.jsx(v,{info:s})]}),e.jsxs(a,{w:"100%",justify:"space-between",children:[e.jsx(c,{children:"Expiry"}),e.jsx(Y,{info:s})]}),t&&e.jsx(k,{orderInfo:s})]})},F=()=>e.jsxs(n,{w:"100%",gap:"12px",align:"flex-start",children:[e.jsx(a,{w:"100%",gap:"0",justify:"space-between",children:e.jsxs(a,{gap:"0",children:[e.jsxs(a,{gap:"0px",mr:"8px",align:"flex-start",children:[e.jsx(C,{size:"8"}),e.jsx(C,{size:"8"})]}),e.jsx(g,{height:"4",width:"100px"})]})}),e.jsxs(a,{w:"100%",justify:"space-between",children:[e.jsx(g,{height:"4",width:"180px"}),e.jsx(g,{height:"4",width:"150px"})]}),e.jsxs(a,{w:"100%",justify:"space-between",children:[e.jsx(g,{height:"4",width:"180px"}),e.jsx(g,{height:"4",width:"150px"})]})]});function K(s){const{historyOrderList:t,historyOrderLoading:x}=s,{currentAccount:j,onWalletModal:o}=z(),p=10,[i,m]=l.useState([]),[S,u]=l.useState(0),[b,r]=l.useState(1);return l.useEffect(()=>{if((t==null?void 0:t.length)>0){u(t==null?void 0:t.length);const d=(b-1)*p,B=d+p;m(t.slice(d,B))}},[b,t]),e.jsx(n,{w:"100%",children:j!=null&&j.address?x?e.jsx(w,{p:{base:"12px",lg:"20px 16px"},borderRadius:"16px",children:e.jsx(n,{gap:"20px",sx:{">div":{borderBottom:"1px solid",borderColor:"border",pb:"20px",_last:{borderBottom:"none",pb:"0px"}}},children:[{},{}].map((d,B)=>e.jsx(F,{},B))})}):t.length===0?e.jsx(h,{type:"nodata",text:"You don't have any order history.",borderRadius:"16px"}):e.jsxs(w,{borderRadius:"16px",p:{base:"12px",lg:"20px 16px"},h:(i==null?void 0:i.length)>8?"927px":"unset",overflowY:"auto",children:[e.jsx(n,{gap:"20px",sx:{">div":{borderBottom:"1px solid",borderColor:"border",pb:"20px",_last:{borderBottom:"none",pb:"0px"}}},children:i==null?void 0:i.map(d=>e.jsx(A,{historyInfo:d},d==null?void 0:d.order_id))}),!x&&(t==null?void 0:t.length)>p&&e.jsx(P,{mt:"12px",children:e.jsx(E,{total:S,size:p,currentPage:b,onChange:r})})]}):e.jsx(h,{type:"nowallet",onboard:()=>o(!0),borderRadius:"16px"})})}const A=({historyInfo:s})=>{const[t,x]=l.useState({});return e.jsxs(n,{w:"100%",gap:"16px",children:[e.jsx(a,{w:"100%",justify:"space-between",children:e.jsx(_,{info:s,imgSize:"28px"})}),e.jsxs(a,{w:"100%",justify:"space-between",children:[e.jsx(c,{children:"Limit Price"}),e.jsx(R,{info:s})]}),e.jsxs(a,{w:"100%",justify:"space-between",children:[e.jsx(c,{children:"Expiry"}),e.jsx(Y,{info:s})]}),e.jsxs(a,{w:"100%",justify:"space-between",children:[e.jsx(c,{children:"Filled Size"}),e.jsx(v,{info:s})]}),e.jsxs(a,{w:"100%",justify:"space-between",children:[e.jsx(c,{children:"Status"}),e.jsx(H,{cursor:"pointer",onClick:()=>{t[s==null?void 0:s.order_id]?t[s==null?void 0:s.order_id]=!1:t[s==null?void 0:s.order_id]=!0,x({...t})},children:e.jsx(M,{historyInfo:s,openExpendItemObj:t})})]}),t[s==null?void 0:s.order_id]&&e.jsx(N,{historyInfo:s,p:"0",border:"none",type:"card"})]})};export{K as H,J as O};
//# sourceMappingURL=HistoryCard-C0fGDlSz.js.map
