import{r as M,j as p,F as Un,n as Ns,T as Mn,i as ve,H as jn,C as me,X as _i,B as we,Z as Qn,W as Cs,V as _e,aJ as Ps}from"./vendor-CBmAETR3.js";import{T as wn}from"./useWrapPoolData-CMGMCXwG.js";import{i as ki,m as It,g as mt,aX as Wt,d as B,n as bi,f as Ms,fw as js,E as he,u as Ae,fx as $s,ai as Et,w as Is,I as $n,fy as pr,B as zs,cS as Bs,aT as Ds,v as $e}from"./index-BpSfzecM.js";import{w as In}from"./cross-DJ28FxNa.js";import{g as Os}from"./usePosClaimFeeAndReward-COsUjXqP.js";import{u as an}from"./index-CqgM3rES.js";import{g as _n}from"./utils-CMHkC_9A.js";import{n as Si}from"./usePositionList-heG2hQcx.js";import{a1 as zt,a2 as gr,a3 as Fs,a4 as mr,a5 as Ls,a6 as Ai,a7 as Ri,a8 as Ti,a9 as ke,aa as Hs}from"./generateCategoricalChart-CmRMqbFo.js";import{R as Ws,X as qs,Y as Xs}from"./YAxis-DLEZvSSr.js";import{A as Vs}from"./AreaChart-DBMzOkAF.js";import{A as Gs}from"./Area-Bqahw1_r.js";import{k as Ys}from"./dlmm-DdxfaipV.js";import{u as Zs}from"./usePreviousValue-Da-o2xpb.js";import{H as Ks}from"./HTextLabelBox-D0r99Smv.js";import{V as Us}from"./VTextLabelBox-CuuDZpMe.js";var yr=180/Math.PI,zn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ei(t,e,n,r,i,s){var o,u,a;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(a=t*n+e*r)&&(n-=t*a,r-=e*a),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,a/=u),t*r<e*n&&(t=-t,e=-e,a=-a,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*yr,skewX:Math.atan(a)*yr,scaleX:o,scaleY:u}}var Ie;function Qs(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?zn:Ei(e.a,e.b,e.c,e.d,e.e,e.f)}function Js(t){return t==null||(Ie||(Ie=document.createElementNS("http://www.w3.org/2000/svg","g")),Ie.setAttribute("transform",t),!(t=Ie.transform.baseVal.consolidate()))?zn:(t=t.matrix,Ei(t.a,t.b,t.c,t.d,t.e,t.f))}function Ni(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function s(c,h,m,f,l,w){if(c!==m||h!==f){var x=l.push("translate(",null,e,null,n);w.push({i:x-4,x:zt(c,m)},{i:x-2,x:zt(h,f)})}else(m||f)&&l.push("translate("+m+e+f+n)}function o(c,h,m,f){c!==h?(c-h>180?h+=360:h-c>180&&(c+=360),f.push({i:m.push(i(m)+"rotate(",null,r)-2,x:zt(c,h)})):h&&m.push(i(m)+"rotate("+h+r)}function u(c,h,m,f){c!==h?f.push({i:m.push(i(m)+"skewX(",null,r)-2,x:zt(c,h)}):h&&m.push(i(m)+"skewX("+h+r)}function a(c,h,m,f,l,w){if(c!==m||h!==f){var x=l.push(i(l)+"scale(",null,",",null,")");w.push({i:x-4,x:zt(c,m)},{i:x-2,x:zt(h,f)})}else(m!==1||f!==1)&&l.push(i(l)+"scale("+m+","+f+")")}return function(c,h){var m=[],f=[];return c=t(c),h=t(h),s(c.translateX,c.translateY,h.translateX,h.translateY,m,f),o(c.rotate,h.rotate,m,f),u(c.skewX,h.skewX,m,f),a(c.scaleX,c.scaleY,h.scaleX,h.scaleY,m,f),c=h=null,function(l){for(var w=-1,x=f.length,d;++w<x;)m[(d=f[w]).i]=d.x(l);return m.join("")}}}var to=Ni(Qs,"px, ","px)","deg)"),eo=Ni(Js,", ",")",")"),no=1e-12;function xr(t){return((t=Math.exp(t))+1/t)/2}function ro(t){return((t=Math.exp(t))-1/t)/2}function io(t){return((t=Math.exp(2*t))-1)/(t+1)}const so=function t(e,n,r){function i(s,o){var u=s[0],a=s[1],c=s[2],h=o[0],m=o[1],f=o[2],l=h-u,w=m-a,x=l*l+w*w,d,g;if(x<no)g=Math.log(f/c)/e,d=function(R){return[u+R*l,a+R*w,c*Math.exp(e*R*g)]};else{var _=Math.sqrt(x),v=(f*f-c*c+r*x)/(2*c*n*_),b=(f*f-c*c-r*x)/(2*f*n*_),T=Math.log(Math.sqrt(v*v+1)-v),k=Math.log(Math.sqrt(b*b+1)-b);g=(k-T)/e,d=function(R){var I=R*g,D=xr(T),O=c/(n*_)*(D*io(e*I+T)-ro(T));return[u+O*l,a+O*w,c*D/xr(e*I+T)]}}return d.duration=g*1e3*e/Math.SQRT2,d}return i.rho=function(s){var o=Math.max(.001,+s),u=o*o,a=u*u;return t(o,u,a)},i}(Math.SQRT2,2,4),oo=(t,e)=>({lowerTickData:{},setLowerTickData:n=>{t(()=>({lowerTickData:n}))},upperTickData:{},setUpperTickData:n=>{t(()=>({upperTickData:n}))},tickDataLoading:!0,setTickDataLoading:n=>{t(()=>({tickDataLoading:n}))}}),Ci=ki(oo);function ao(t,e,n){const r=Math.abs(t)%e;return r?t>0?r>e/2||n&&e<=2?t+e-r:t-r:r>e/2?t-e+r:t+r:n?t+e:t}function co(){const{lowerTickData:t,setLowerTickData:e,upperTickData:n,setUpperTickData:r}=Ci(),{contractPoolInfo:i}=an(),s=(l,w,x)=>{const d=x.tokenA.decimals,g=x.tokenB.decimals;let _;Math.abs(l)==Math.abs(It.getMinIndex(Number(x.tickSpacing)))?_=w==="lower"?"0":"∞":(_=mt.tickIndexToPrice(l,d,g).toString(),console.log("🚀 ~ handleSetTickData ~ price:",_));const v=_==="∞"?"∞":Wt(_,6);console.log("🚀 ~ handleSetTickData ~ displayPrice:",v);const b=_n(_),T=b==="∞"?"∞":Wt(b,6),k={id:w,tokenA:x.tokenA,tokenB:x.tokenB,tick:l,price:_,displayPrice:v,reversePrice:b,displayReversePrice:T,tickSpacing:x.tickSpacing||i&&i.tickSpacing,pool:x.poolAddress};w==="lower"?e({...k}):r({...k})},o=(l,w,x)=>{s(l,"lower",x),s(w,"upper",x)},u=(l,w)=>{console.log("🚀 ~ file: usePriceRange.ts:55 ~ handleActionPrice ~ tickData:",l),console.log("🚀 ~ file: usePriceRange.ts:55 ~ handleActionPrice ~ action:",w);const x=l==null?void 0:l.tokenA,d=l==null?void 0:l.tokenB,g=l.tick,_=l.tickSpacing;if(!x||!d||!_)return;const v=w==="Add"?B(g).add(_).toNumber():B(g).sub(_).toNumber();if(B(v).gt(It.getMaxIndex(Number(l.tickSpacing)))||B(v).lt(It.getMinIndex(Number(l.tickSpacing))))return;const b=mt.tickIndexToPrice(v,x.decimals,d.decimals).toString();console.log(b,"🚀 ~ file: usePriceRange.ts:69 ~ handleActionPrice ~ price:");const T=b==="∞"?"∞":Wt(b,6);if(console.log("🚀 ~ file: usePriceRange.ts:71 ~ handleActionPrice ~ displayPrice:",l,T),T===l.displayPrice)u({...l,tick:v},w);else{const k=_n(b),R=k==="∞"?"∞":Wt(k,6),I={...l,tick:v,price:b,displayPrice:T,reversePrice:k,displayReversePrice:R};l.id==="lower"?(console.log("🚀 ~ file: usePriceRange.ts:55 ~ handleActionPrice ~ lower newData:",I),e({...I})):(console.log("🚀 ~ file: usePriceRange.ts:55 ~ handleActionPrice ~ upper newData:",I),r({...I}))}},a=l=>{u(l,"Add")},c=l=>{u(l,"Sub")},h=l=>{const w={...t,tick:It.getMinIndex(Number(l.tickSpacing)),price:"0",displayPrice:"0",reversePrice:"∞",displayReversePrice:"∞"};console.log("🚀 ~ file: usePriceRange.ts:115 ~ handleSetFullRange ~ lowerData:",w),e(w);const x={...n,tick:It.getMaxIndex(Number(l.tickSpacing)),price:"∞",displayPrice:"∞",reversePrice:"0",displayReversePrice:"0"};console.log("🚀 ~ file: usePriceRange.ts:115 ~ handleSetFullRange ~ upperData:",x),r(x)},m=(l,w,x)=>{console.log("🚀🚀🚀 ~ usePriceRange.ts:206 ~ setTickDataBasedOnPrice ~ setTickDataBasedOnPrice:",m);const d=l.tokenA,g=l.tokenB;if(!d||!g)return;let _,v="";if(w==="∞"||w==="Infinity")_=It.getMaxIndex(Number(l.tickSpacing)),v="∞";else if(B(w).equals(0))_=It.getMinIndex(Number(l.tickSpacing)),v="0";else if(B(w).gt(0)){const I=mt.priceToTickIndex(B(w),d.decimals,g.decimals),D=!(x&&l.id==="lower"||!x&&l.id==="upper");_=ao(Number(I),Number(l.tickSpacing),typeof x=="boolean"?D:void 0),v=mt.tickIndexToPrice(Number(_),d.decimals,g.decimals).toString()}const b=v==="∞"?"∞":Wt(v,6);console.log("🚀 ~ setTickDataBasedOnPrice ~ displayPrice:",b);const T=_n(v),k=T==="∞"?"∞":Wt(T,6),R={...l,tick:_,price:v,displayPrice:b,reversePrice:T,displayReversePrice:k};l.id==="lower"?e({...R}):r({...R})};return{handleSetTickData:s,handleAddPrice:a,handleSubPrice:c,handleSetFullRange:h,handleInitTickData:o,setTickDataBasedOnPrice:m,handleResetRange:()=>{e({}),r({})}}}const uo=(t,e)=>({formatPriceData:[],setFormatPriceData:n=>{t(()=>({formatPriceData:n,formatPriceDataIsLoading:!1}))},formatPriceDataIsLoading:!0,setFormatPriceDataIsLoading:n=>{t(()=>({formatPriceDataIsLoading:n}))},ticksPool:{},setTicksPool:n=>{t(()=>({ticksPool:n}))}}),cn=ki(uo);function lo(t,e,n){let r=0;return t==null?void 0:t.map((i,s)=>{var a;r=(a=B(i==null?void 0:i.liquidityNet))==null?void 0:a.plus(r).toNumber();const o=mt.tickIndexToPrice(i==null?void 0:i.tick,e.decimals,n.decimals);return{liquidityActive:r,liquidityNet:i==null?void 0:i.liquidityNet,tick:i==null?void 0:i.tick,price0:o.toString()}})}const fo=(t,e)=>(t||t===0)&&e&&wn[e]?Math.floor(t/wn[e])*wn[e]:void 0,vr=t=>{const e=[300200,300060];return t.filter(r=>!((r==null?void 0:r.tick)===3e5&&B(r==null?void 0:r.liquidityNet).abs().gt("14673429775904769391107872693404")||e.includes(r==null?void 0:r.tick)&&B(r==null?void 0:r.liquidityNet).abs().gt("14673429775904769391107872693404")))};function ho(){const{fetchByApi:t}=bi(),e=Ms("clmm"),{setFormatPriceData:n,setFormatPriceDataIsLoading:r,setTicksPool:i}=cn(),s=async c=>{var w;console.log("🚀 ~ getTicks ~ params:",c);const{poolAddress:h,tokenA:m,tokenB:f,tickSpacing:l}=c;try{const d=await t("/router_v3/ticks","GET",{address:h,orderBy:"index",limit:1e3});console.log("🚀 ~ getTicks11111 ~ res:",d);const g=(w=d==null?void 0:d.list)==null?void 0:w.sort((b,T)=>b.index-T.index);console.log("🚀 ~ getTicks11111 ~ list:",g);const _=g.map(b=>({tick:b.index,sqrtPrice:b.sqrt_price,liquidityNet:b.liquidity_net,liquidityGross:b.liquidity_gross}));console.log("🚀 ~ getTicks11111 ~ tickList:",_);const v=vr(_);return console.log("🚀 ~ getTicks ~ filterData:",v),{ticks:v,address:d==null?void 0:d.address,ticksPoolInfo:d==null?void 0:d.pool}}catch(x){console.log("🚀 ~ getTicks ~ error:",x);const d=await e.Pool.fetchTicks({pool_id:h,coin_type_a:m.coin_type,coin_type_b:f.coin_type});console.log("🚀 ~ getTicks ~ error list:",d);const g=[];if(d&&(d==null?void 0:d.length)>0){const v=Os(d);v==null||v.forEach(b=>{g.push({tick:Number(b.index),liquidityNet:B(b.liquidityNet.toString()).toString(),liquidityGross:b.liquidityGross.toString(),id:b.objectId})})}console.log("🚀 ~ getTicks ~ error result:",g);const _=vr(g);return console.log("🚀 ~ getTicks ~ error filterData:",_),{ticks:_,address:h}}},o=c=>{const{tokenA:h,tokenB:m,tickSpacing:f,currentTickIndex:l,feeRate:w,ticks:x,ticksPool:d}=c;if(!w||!f)return;const g=(d==null?void 0:d.current_tick_index)||l,_=fo(g,w),v=JSON.parse(JSON.stringify(x)).sort((T,k)=>T-k),b=lo(v,h,m);return console.log("🚀 ~ getProcessedAsPrice ~ ticksProcessed:",b),{activeTick:_,data:b}},u=c=>{if(!c||!(c!=null&&c.length))return[];const h=[];for(let m=0;m<c.length;m++){const f=c[m],l={depth:parseFloat(f.liquidityActive.toString()),price:parseFloat(f.price0)};l.depth>=0&&h.push(l)}return h},a=async c=>{const{tokenA:h,tokenB:m}=c;r(!0);try{console.log("Test Depth Data###🚀 ~ getFormattedData ~ params:",c);const f=await s(c);console.log("Test Depth Data###🚀 ~ getFormattedData ~ ticks:",f);const l=o({...c,ticks:(f==null?void 0:f.ticks)||[],ticksPool:f==null?void 0:f.ticksPoolInfo});console.log("Test Depth Data###🚀 ~ getFormattedData ~ priceData:",l);const w=u(l==null?void 0:l.data);console.log("Test Depth Data###🚀 ~ getFormattedData ~ formatPriceData:",w);const x=f!=null&&f.ticksPoolInfo?f==null?void 0:f.ticksPoolInfo:{current_sqrt_price:"",current_tick_index:c.currentTickIndex,id:c.poolAddress,liquidity:c.liquidity},d=mt.tickIndexToPrice(x.current_tick_index,h.decimals,m.decimals).toString();x.price=d,x.reversePrice=B(1).div(d).toString(),i({...x}),n(w)}catch(f){console.log("Test Depth Data###🚀 ~ getFormattedData ~ error:",f),i({}),n([])}};return M.useEffect(()=>()=>{r(!0),n([])},[]),{getFormattedData:a}}const po="/assets/no_chart_data@2x-DOXoFnuQ.png";function go({isFrom:t,text:e}){return p.jsxs(Un,{bg:"bg_secondary",w:"100%",h:t=="position"?"unset":"100%",direction:"column",justify:"center",align:"center",borderRadius:"12px",children:[p.jsx(Ns,{src:po,w:"100px",h:"100px"}),p.jsx(Mn,{mt:"20px",textAlign:"center",children:e||"There is no liquidity data."})]})}function mo(t){return t}var yo=3,wr=1e-6;function xo(t){return"translate("+t+",0)"}function vo(t){return e=>+t(e)}function wo(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function _o(){return!this.__axis}function ko(t,e){var n=[],r=null,i=null,s=6,o=6,u=3,a=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=1,h="y",m=xo;function f(l){var w=r??(e.ticks?e.ticks.apply(e,n):e.domain()),x=i??(e.tickFormat?e.tickFormat.apply(e,n):mo),d=Math.max(s,0)+u,g=e.range(),_=+g[0]+a,v=+g[g.length-1]+a,b=(e.bandwidth?wo:vo)(e.copy(),a),T=l.selection?l.selection():l,k=T.selectAll(".domain").data([null]),R=T.selectAll(".tick").data(w,e).order(),I=R.exit(),D=R.enter().append("g").attr("class","tick"),O=R.select("line"),z=R.select("text");k=k.merge(k.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),R=R.merge(D),O=O.merge(D.append("line").attr("stroke","currentColor").attr(h+"2",c*s)),z=z.merge(D.append("text").attr("fill","currentColor").attr(h,c*d).attr("dy","0.71em")),l!==T&&(k=k.transition(l),R=R.transition(l),O=O.transition(l),z=z.transition(l),I=I.transition(l).attr("opacity",wr).attr("transform",function(L){return isFinite(L=b(L))?m(L+a):this.getAttribute("transform")}),D.attr("opacity",wr).attr("transform",function(L){var F=this.parentNode.__axis;return m((F&&isFinite(F=F(L))?F:b(L))+a)})),I.remove(),k.attr("d",o?"M"+_+","+c*o+"V"+a+"H"+v+"V"+c*o:"M"+_+","+a+"H"+v),R.attr("opacity",1).attr("transform",function(L){return m(b(L)+a)}),O.attr(h+"2",c*s),z.attr(h,c*d).text(x),T.filter(_o).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),T.each(function(){this.__axis=b})}return f.scale=function(l){return arguments.length?(e=l,f):e},f.ticks=function(){return n=Array.from(arguments),f},f.tickArguments=function(l){return arguments.length?(n=l==null?[]:Array.from(l),f):n.slice()},f.tickValues=function(l){return arguments.length?(r=l==null?null:Array.from(l),f):r&&r.slice()},f.tickFormat=function(l){return arguments.length?(i=l,f):i},f.tickSize=function(l){return arguments.length?(s=o=+l,f):s},f.tickSizeInner=function(l){return arguments.length?(s=+l,f):s},f.tickSizeOuter=function(l){return arguments.length?(o=+l,f):o},f.tickPadding=function(l){return arguments.length?(u=+l,f):u},f.offset=function(l){return arguments.length?(a=+l,f):a},f}function bo(t){return ko(yo,t)}var So={value:()=>{}};function un(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Le(n)}function Le(t){this._=t}function Ao(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Le.prototype=un.prototype={constructor:Le,on:function(t,e){var n=this._,r=Ao(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=Ro(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=_r(n[i],t.name,e);else if(e==null)for(i in n)n[i]=_r(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Le(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function Ro(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function _r(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=So,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Bn="http://www.w3.org/1999/xhtml";const kr={svg:"http://www.w3.org/2000/svg",xhtml:Bn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ln(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),kr.hasOwnProperty(e)?{space:kr[e],local:t}:t}function To(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Bn&&e.documentElement.namespaceURI===Bn?e.createElement(t):e.createElementNS(n,t)}}function Eo(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Pi(t){var e=ln(t);return(e.local?Eo:To)(e)}function No(){}function Jn(t){return t==null?No:function(){return this.querySelector(t)}}function Co(t){typeof t!="function"&&(t=Jn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,u=r[i]=new Array(o),a,c,h=0;h<o;++h)(a=s[h])&&(c=t.call(a,a.__data__,h,s))&&("__data__"in a&&(c.__data__=a.__data__),u[h]=c);return new gt(r,this._parents)}function Po(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Mo(){return[]}function Mi(t){return t==null?Mo:function(){return this.querySelectorAll(t)}}function jo(t){return function(){return Po(t.apply(this,arguments))}}function $o(t){typeof t=="function"?t=jo(t):t=Mi(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],u=o.length,a,c=0;c<u;++c)(a=o[c])&&(r.push(t.call(a,a.__data__,c,o)),i.push(a));return new gt(r,i)}function ji(t){return function(){return this.matches(t)}}function $i(t){return function(e){return e.matches(t)}}var Io=Array.prototype.find;function zo(t){return function(){return Io.call(this.children,t)}}function Bo(){return this.firstElementChild}function Do(t){return this.select(t==null?Bo:zo(typeof t=="function"?t:$i(t)))}var Oo=Array.prototype.filter;function Fo(){return Array.from(this.children)}function Lo(t){return function(){return Oo.call(this.children,t)}}function Ho(t){return this.selectAll(t==null?Fo:Lo(typeof t=="function"?t:$i(t)))}function Wo(t){typeof t!="function"&&(t=ji(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,u=r[i]=[],a,c=0;c<o;++c)(a=s[c])&&t.call(a,a.__data__,c,s)&&u.push(a);return new gt(r,this._parents)}function Ii(t){return new Array(t.length)}function qo(){return new gt(this._enter||this._groups.map(Ii),this._parents)}function Ue(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Ue.prototype={constructor:Ue,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Xo(t){return function(){return t}}function Vo(t,e,n,r,i,s){for(var o=0,u,a=e.length,c=s.length;o<c;++o)(u=e[o])?(u.__data__=s[o],r[o]=u):n[o]=new Ue(t,s[o]);for(;o<a;++o)(u=e[o])&&(i[o]=u)}function Go(t,e,n,r,i,s,o){var u,a,c=new Map,h=e.length,m=s.length,f=new Array(h),l;for(u=0;u<h;++u)(a=e[u])&&(f[u]=l=o.call(a,a.__data__,u,e)+"",c.has(l)?i[u]=a:c.set(l,a));for(u=0;u<m;++u)l=o.call(t,s[u],u,s)+"",(a=c.get(l))?(r[u]=a,a.__data__=s[u],c.delete(l)):n[u]=new Ue(t,s[u]);for(u=0;u<h;++u)(a=e[u])&&c.get(f[u])===a&&(i[u]=a)}function Yo(t){return t.__data__}function Zo(t,e){if(!arguments.length)return Array.from(this,Yo);var n=e?Go:Vo,r=this._parents,i=this._groups;typeof t!="function"&&(t=Xo(t));for(var s=i.length,o=new Array(s),u=new Array(s),a=new Array(s),c=0;c<s;++c){var h=r[c],m=i[c],f=m.length,l=Ko(t.call(h,h&&h.__data__,c,r)),w=l.length,x=u[c]=new Array(w),d=o[c]=new Array(w),g=a[c]=new Array(f);n(h,m,x,d,g,l,e);for(var _=0,v=0,b,T;_<w;++_)if(b=x[_]){for(_>=v&&(v=_+1);!(T=d[v])&&++v<w;);b._next=T||null}}return o=new gt(o,r),o._enter=u,o._exit=a,o}function Ko(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Uo(){return new gt(this._exit||this._groups.map(Ii),this._parents)}function Qo(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function Jo(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,o=Math.min(i,s),u=new Array(i),a=0;a<o;++a)for(var c=n[a],h=r[a],m=c.length,f=u[a]=new Array(m),l,w=0;w<m;++w)(l=c[w]||h[w])&&(f[w]=l);for(;a<i;++a)u[a]=n[a];return new gt(u,this._parents)}function ta(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function ea(t){t||(t=na);function e(m,f){return m&&f?t(m.__data__,f.__data__):!m-!f}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],u=o.length,a=i[s]=new Array(u),c,h=0;h<u;++h)(c=o[h])&&(a[h]=c);a.sort(e)}return new gt(i,this._parents).order()}function na(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function ra(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function ia(){return Array.from(this)}function sa(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function oa(){let t=0;for(const e of this)++t;return t}function aa(){return!this.node()}function ca(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,u;s<o;++s)(u=i[s])&&t.call(u,u.__data__,s,i);return this}function ua(t){return function(){this.removeAttribute(t)}}function la(t){return function(){this.removeAttributeNS(t.space,t.local)}}function fa(t,e){return function(){this.setAttribute(t,e)}}function ha(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function da(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function pa(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function ga(t,e){var n=ln(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?la:ua:typeof e=="function"?n.local?pa:da:n.local?ha:fa)(n,e))}function zi(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ma(t){return function(){this.style.removeProperty(t)}}function ya(t,e,n){return function(){this.style.setProperty(t,e,n)}}function xa(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function va(t,e,n){return arguments.length>1?this.each((e==null?ma:typeof e=="function"?xa:ya)(t,e,n??"")):Zt(this.node(),t)}function Zt(t,e){return t.style.getPropertyValue(e)||zi(t).getComputedStyle(t,null).getPropertyValue(e)}function wa(t){return function(){delete this[t]}}function _a(t,e){return function(){this[t]=e}}function ka(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function ba(t,e){return arguments.length>1?this.each((e==null?wa:typeof e=="function"?ka:_a)(t,e)):this.node()[t]}function Bi(t){return t.trim().split(/^|\s+/)}function tr(t){return t.classList||new Di(t)}function Di(t){this._node=t,this._names=Bi(t.getAttribute("class")||"")}Di.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Oi(t,e){for(var n=tr(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Fi(t,e){for(var n=tr(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Sa(t){return function(){Oi(this,t)}}function Aa(t){return function(){Fi(this,t)}}function Ra(t,e){return function(){(e.apply(this,arguments)?Oi:Fi)(this,t)}}function Ta(t,e){var n=Bi(t+"");if(arguments.length<2){for(var r=tr(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Ra:e?Sa:Aa)(n,e))}function Ea(){this.textContent=""}function Na(t){return function(){this.textContent=t}}function Ca(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Pa(t){return arguments.length?this.each(t==null?Ea:(typeof t=="function"?Ca:Na)(t)):this.node().textContent}function Ma(){this.innerHTML=""}function ja(t){return function(){this.innerHTML=t}}function $a(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Ia(t){return arguments.length?this.each(t==null?Ma:(typeof t=="function"?$a:ja)(t)):this.node().innerHTML}function za(){this.nextSibling&&this.parentNode.appendChild(this)}function Ba(){return this.each(za)}function Da(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Oa(){return this.each(Da)}function Fa(t){var e=typeof t=="function"?t:Pi(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function La(){return null}function Ha(t,e){var n=typeof t=="function"?t:Pi(t),r=e==null?La:typeof e=="function"?e:Jn(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Wa(){var t=this.parentNode;t&&t.removeChild(this)}function qa(){return this.each(Wa)}function Xa(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Va(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ga(t){return this.select(t?Va:Xa)}function Ya(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Za(t){return function(e){t.call(this,e,this.__data__)}}function Ka(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Ua(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function Qa(t,e,n){return function(){var r=this.__on,i,s=Za(e);if(r){for(var o=0,u=r.length;o<u;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function Ja(t,e,n){var r=Ka(t+""),i,s=r.length,o;if(arguments.length<2){var u=this.node().__on;if(u){for(var a=0,c=u.length,h;a<c;++a)for(i=0,h=u[a];i<s;++i)if((o=r[i]).type===h.type&&o.name===h.name)return h.value}return}for(u=e?Qa:Ua,i=0;i<s;++i)this.each(u(r[i],e,n));return this}function Li(t,e,n){var r=zi(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function tc(t,e){return function(){return Li(this,t,e)}}function ec(t,e){return function(){return Li(this,t,e.apply(this,arguments))}}function nc(t,e){return this.each((typeof e=="function"?ec:tc)(t,e))}function*rc(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var Hi=[null];function gt(t,e){this._groups=t,this._parents=e}function Re(){return new gt([[document.documentElement]],Hi)}function ic(){return this}gt.prototype=Re.prototype={constructor:gt,select:Co,selectAll:$o,selectChild:Do,selectChildren:Ho,filter:Wo,data:Zo,enter:qo,exit:Uo,join:Qo,merge:Jo,selection:ic,order:ta,sort:ea,call:ra,nodes:ia,node:sa,size:oa,empty:aa,each:ca,attr:ga,style:va,property:ba,classed:Ta,text:Pa,html:Ia,raise:Ba,lower:Oa,append:Fa,insert:Ha,remove:qa,clone:Ga,datum:Ya,on:Ja,dispatch:nc,[Symbol.iterator]:rc};function U(t){return typeof t=="string"?new gt([[document.querySelector(t)]],[document.documentElement]):new gt([[t]],Hi)}function sc(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Rt(t,e){if(t=sc(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const Dn={capture:!0,passive:!1};function On(t){t.preventDefault(),t.stopImmediatePropagation()}function Wi(t){var e=t.document.documentElement,n=U(t).on("dragstart.drag",On,Dn);"onselectstart"in e?n.on("selectstart.drag",On,Dn):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function qi(t,e){var n=t.document.documentElement,r=U(t).on("dragstart.drag",null);e&&(r.on("click.drag",On,Dn),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var Kt=0,de=0,ae=0,Xi=1e3,Qe,pe,Je=0,Ft=0,fn=0,be=typeof performance=="object"&&performance.now?performance:Date,Vi=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function er(){return Ft||(Vi(oc),Ft=be.now()+fn)}function oc(){Ft=0}function tn(){this._call=this._time=this._next=null}tn.prototype=Gi.prototype={constructor:tn,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?er():+n)+(e==null?0:+e),!this._next&&pe!==this&&(pe?pe._next=this:Qe=this,pe=this),this._call=t,this._time=n,Fn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Fn())}};function Gi(t,e,n){var r=new tn;return r.restart(t,e,n),r}function ac(){er(),++Kt;for(var t=Qe,e;t;)(e=Ft-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Kt}function br(){Ft=(Je=be.now())+fn,Kt=de=0;try{ac()}finally{Kt=0,uc(),Ft=0}}function cc(){var t=be.now(),e=t-Je;e>Xi&&(fn-=e,Je=t)}function uc(){for(var t,e=Qe,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Qe=n);pe=t,Fn(r)}function Fn(t){if(!Kt){de&&(de=clearTimeout(de));var e=t-Ft;e>24?(t<1/0&&(de=setTimeout(br,t-be.now()-fn)),ae&&(ae=clearInterval(ae))):(ae||(Je=be.now(),ae=setInterval(cc,Xi)),Kt=1,Vi(br))}}function Sr(t,e,n){var r=new tn;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var lc=un("start","end","cancel","interrupt"),fc=[],Yi=0,Ar=1,Ln=2,He=3,Rr=4,Hn=5,We=6;function hn(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;hc(t,n,{name:e,index:r,group:i,on:lc,tween:fc,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Yi})}function nr(t,e){var n=wt(t,e);if(n.state>Yi)throw new Error("too late; already scheduled");return n}function bt(t,e){var n=wt(t,e);if(n.state>He)throw new Error("too late; already running");return n}function wt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function hc(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Gi(s,0,n.time);function s(c){n.state=Ar,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var h,m,f,l;if(n.state!==Ar)return a();for(h in r)if(l=r[h],l.name===n.name){if(l.state===He)return Sr(o);l.state===Rr?(l.state=We,l.timer.stop(),l.on.call("interrupt",t,t.__data__,l.index,l.group),delete r[h]):+h<e&&(l.state=We,l.timer.stop(),l.on.call("cancel",t,t.__data__,l.index,l.group),delete r[h])}if(Sr(function(){n.state===He&&(n.state=Rr,n.timer.restart(u,n.delay,n.time),u(c))}),n.state=Ln,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Ln){for(n.state=He,i=new Array(f=n.tween.length),h=0,m=-1;h<f;++h)(l=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(i[++m]=l);i.length=m+1}}function u(c){for(var h=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(a),n.state=Hn,1),m=-1,f=i.length;++m<f;)i[m].call(t,h);n.state===Hn&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){n.state=We,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function Yt(t,e){var n=t.__transition,r,i,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>Ln&&r.state<Hn,r.state=We,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function dc(t){return this.each(function(){Yt(this,t)})}function pc(t,e){var n,r;return function(){var i=bt(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,u=r.length;o<u;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function gc(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=bt(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var u={name:e,value:n},a=0,c=i.length;a<c;++a)if(i[a].name===e){i[a]=u;break}a===c&&i.push(u)}s.tween=i}}function mc(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=wt(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?pc:gc)(n,t,e))}function rr(t,e,n){var r=t._id;return t.each(function(){var i=bt(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return wt(i,r).value[e]}}function Zi(t,e){var n;return(typeof e=="number"?zt:e instanceof mr?gr:(n=mr(e))?(e=n,gr):Fs)(t,e)}function yc(t){return function(){this.removeAttribute(t)}}function xc(t){return function(){this.removeAttributeNS(t.space,t.local)}}function vc(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function wc(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function _c(t,e,n){var r,i,s;return function(){var o,u=n(this),a;return u==null?void this.removeAttribute(t):(o=this.getAttribute(t),a=u+"",o===a?null:o===r&&a===i?s:(i=a,s=e(r=o,u)))}}function kc(t,e,n){var r,i,s;return function(){var o,u=n(this),a;return u==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),a=u+"",o===a?null:o===r&&a===i?s:(i=a,s=e(r=o,u)))}}function bc(t,e){var n=ln(t),r=n==="transform"?eo:Zi;return this.attrTween(t,typeof e=="function"?(n.local?kc:_c)(n,r,rr(this,"attr."+t,e)):e==null?(n.local?xc:yc)(n):(n.local?wc:vc)(n,r,e))}function Sc(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Ac(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Rc(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&Ac(t,s)),n}return i._value=e,i}function Tc(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&Sc(t,s)),n}return i._value=e,i}function Ec(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=ln(t);return this.tween(n,(r.local?Rc:Tc)(r,e))}function Nc(t,e){return function(){nr(this,t).delay=+e.apply(this,arguments)}}function Cc(t,e){return e=+e,function(){nr(this,t).delay=e}}function Pc(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Nc:Cc)(e,t)):wt(this.node(),e).delay}function Mc(t,e){return function(){bt(this,t).duration=+e.apply(this,arguments)}}function jc(t,e){return e=+e,function(){bt(this,t).duration=e}}function $c(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Mc:jc)(e,t)):wt(this.node(),e).duration}function Ic(t,e){if(typeof e!="function")throw new Error;return function(){bt(this,t).ease=e}}function zc(t){var e=this._id;return arguments.length?this.each(Ic(e,t)):wt(this.node(),e).ease}function Bc(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;bt(this,t).ease=n}}function Dc(t){if(typeof t!="function")throw new Error;return this.each(Bc(this._id,t))}function Oc(t){typeof t!="function"&&(t=ji(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,u=r[i]=[],a,c=0;c<o;++c)(a=s[c])&&t.call(a,a.__data__,c,s)&&u.push(a);return new Ct(r,this._parents,this._name,this._id)}function Fc(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),u=0;u<s;++u)for(var a=e[u],c=n[u],h=a.length,m=o[u]=new Array(h),f,l=0;l<h;++l)(f=a[l]||c[l])&&(m[l]=f);for(;u<r;++u)o[u]=e[u];return new Ct(o,this._parents,this._name,this._id)}function Lc(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Hc(t,e,n){var r,i,s=Lc(e)?nr:bt;return function(){var o=s(this,t),u=o.on;u!==r&&(i=(r=u).copy()).on(e,n),o.on=i}}function Wc(t,e){var n=this._id;return arguments.length<2?wt(this.node(),n).on.on(t):this.each(Hc(n,t,e))}function qc(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Xc(){return this.on("end.remove",qc(this._id))}function Vc(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Jn(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var u=r[o],a=u.length,c=s[o]=new Array(a),h,m,f=0;f<a;++f)(h=u[f])&&(m=t.call(h,h.__data__,f,u))&&("__data__"in h&&(m.__data__=h.__data__),c[f]=m,hn(c[f],e,n,f,c,wt(h,n)));return new Ct(s,this._parents,e,n)}function Gc(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Mi(t));for(var r=this._groups,i=r.length,s=[],o=[],u=0;u<i;++u)for(var a=r[u],c=a.length,h,m=0;m<c;++m)if(h=a[m]){for(var f=t.call(h,h.__data__,m,a),l,w=wt(h,n),x=0,d=f.length;x<d;++x)(l=f[x])&&hn(l,e,n,x,f,w);s.push(f),o.push(h)}return new Ct(s,o,e,n)}var Yc=Re.prototype.constructor;function Zc(){return new Yc(this._groups,this._parents)}function Kc(t,e){var n,r,i;return function(){var s=Zt(this,t),o=(this.style.removeProperty(t),Zt(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function Ki(t){return function(){this.style.removeProperty(t)}}function Uc(t,e,n){var r,i=n+"",s;return function(){var o=Zt(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function Qc(t,e,n){var r,i,s;return function(){var o=Zt(this,t),u=n(this),a=u+"";return u==null&&(a=u=(this.style.removeProperty(t),Zt(this,t))),o===a?null:o===r&&a===i?s:(i=a,s=e(r=o,u))}}function Jc(t,e){var n,r,i,s="style."+e,o="end."+s,u;return function(){var a=bt(this,t),c=a.on,h=a.value[s]==null?u||(u=Ki(e)):void 0;(c!==n||i!==h)&&(r=(n=c).copy()).on(o,i=h),a.on=r}}function tu(t,e,n){var r=(t+="")=="transform"?to:Zi;return e==null?this.styleTween(t,Kc(t,r)).on("end.style."+t,Ki(t)):typeof e=="function"?this.styleTween(t,Qc(t,r,rr(this,"style."+t,e))).each(Jc(this._id,t)):this.styleTween(t,Uc(t,r,e),n).on("end.style."+t,null)}function eu(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function nu(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&eu(t,o,n)),r}return s._value=e,s}function ru(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,nu(t,e,n??""))}function iu(t){return function(){this.textContent=t}}function su(t){return function(){var e=t(this);this.textContent=e??""}}function ou(t){return this.tween("text",typeof t=="function"?su(rr(this,"text",t)):iu(t==null?"":t+""))}function au(t){return function(e){this.textContent=t.call(this,e)}}function cu(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&au(i)),e}return r._value=t,r}function uu(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,cu(t))}function lu(){for(var t=this._name,e=this._id,n=Ui(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],u=o.length,a,c=0;c<u;++c)if(a=o[c]){var h=wt(a,e);hn(a,t,n,c,o,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Ct(r,this._parents,t,n)}function fu(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var u={value:o},a={value:function(){--i===0&&s()}};n.each(function(){var c=bt(this,r),h=c.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(u),e._.interrupt.push(u),e._.end.push(a)),c.on=e}),i===0&&s()})}var hu=0;function Ct(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Ui(){return++hu}var St=Re.prototype;Ct.prototype={constructor:Ct,select:Vc,selectAll:Gc,selectChild:St.selectChild,selectChildren:St.selectChildren,filter:Oc,merge:Fc,selection:Zc,transition:lu,call:St.call,nodes:St.nodes,node:St.node,size:St.size,empty:St.empty,each:St.each,on:Wc,attr:bc,attrTween:Ec,style:tu,styleTween:ru,text:ou,textTween:uu,remove:Xc,tween:mc,delay:Pc,duration:$c,ease:zc,easeVarying:Dc,end:fu,[Symbol.iterator]:St[Symbol.iterator]};function du(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var pu={time:null,delay:0,duration:250,ease:du};function gu(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function mu(t){var e,n;t instanceof Ct?(e=t._id,t=t._name):(e=Ui(),(n=pu).time=er(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],u=o.length,a,c=0;c<u;++c)(a=o[c])&&hn(a,t,e,c,o,n||gu(a,e));return new Ct(r,this._parents,t,e)}Re.prototype.interrupt=dc;Re.prototype.transition=mu;const kn=t=>()=>t;function yu(t,{sourceEvent:e,target:n,selection:r,mode:i,dispatch:s}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:s}})}function xu(t){t.stopImmediatePropagation()}function bn(t){t.preventDefault(),t.stopImmediatePropagation()}var Tr={name:"drag"},Sn={name:"space"},qt={name:"handle"},Xt={name:"center"};const{abs:Er,max:ct,min:ut}=Math;function Nr(t){return[+t[0],+t[1]]}function Cr(t){return[Nr(t[0]),Nr(t[1])]}var qe={name:"x",handles:["w","e"].map(en),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Xe={name:"y",handles:["n","s"].map(en),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},At={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Pr={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Mr={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},vu={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},wu={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function en(t){return{type:t}}function _u(t){return!t.ctrlKey&&!t.button}function ku(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function bu(){return navigator.maxTouchPoints||"ontouchstart"in this}function An(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Su(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Au(){return Qi(qe)}function Ru(){return Qi(Xe)}function Qi(t){var e=ku,n=_u,r=bu,i=!0,s=un("start","brush","end"),o=6,u;function a(d){var g=d.property("__brush",x).selectAll(".overlay").data([en("overlay")]);g.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",At.overlay).merge(g).each(function(){var v=An(this).extent;U(this).attr("x",v[0][0]).attr("y",v[0][1]).attr("width",v[1][0]-v[0][0]).attr("height",v[1][1]-v[0][1])}),d.selectAll(".selection").data([en("selection")]).enter().append("rect").attr("class","selection").attr("cursor",At.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var _=d.selectAll(".handle").data(t.handles,function(v){return v.type});_.exit().remove(),_.enter().append("rect").attr("class",function(v){return"handle handle--"+v.type}).attr("cursor",function(v){return At[v.type]}),d.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",f).filter(r).on("touchstart.brush",f).on("touchmove.brush",l).on("touchend.brush touchcancel.brush",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}a.move=function(d,g,_){d.tween?d.on("start.brush",function(v){h(this,arguments).beforestart().start(v)}).on("interrupt.brush end.brush",function(v){h(this,arguments).end(v)}).tween("brush",function(){var v=this,b=v.__brush,T=h(v,arguments),k=b.selection,R=t.input(typeof g=="function"?g.apply(this,arguments):g,b.extent),I=Ls(k,R);function D(O){b.selection=O===1&&R===null?null:I(O),c.call(v),T.brush()}return k!==null&&R!==null?D:D(1)}):d.each(function(){var v=this,b=arguments,T=v.__brush,k=t.input(typeof g=="function"?g.apply(v,b):g,T.extent),R=h(v,b).beforestart();Yt(v),T.selection=k===null?null:k,c.call(v),R.start(_).brush(_).end(_)})},a.clear=function(d,g){a.move(d,null,g)};function c(){var d=U(this),g=An(this).selection;g?(d.selectAll(".selection").style("display",null).attr("x",g[0][0]).attr("y",g[0][1]).attr("width",g[1][0]-g[0][0]).attr("height",g[1][1]-g[0][1]),d.selectAll(".handle").style("display",null).attr("x",function(_){return _.type[_.type.length-1]==="e"?g[1][0]-o/2:g[0][0]-o/2}).attr("y",function(_){return _.type[0]==="s"?g[1][1]-o/2:g[0][1]-o/2}).attr("width",function(_){return _.type==="n"||_.type==="s"?g[1][0]-g[0][0]+o:o}).attr("height",function(_){return _.type==="e"||_.type==="w"?g[1][1]-g[0][1]+o:o})):d.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function h(d,g,_){var v=d.__brush.emitter;return v&&(!_||!v.clean)?v:new m(d,g,_)}function m(d,g,_){this.that=d,this.args=g,this.state=d.__brush,this.active=0,this.clean=_}m.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(d,g){return this.starting?(this.starting=!1,this.emit("start",d,g)):this.emit("brush",d),this},brush:function(d,g){return this.emit("brush",d,g),this},end:function(d,g){return--this.active===0&&(delete this.state.emitter,this.emit("end",d,g)),this},emit:function(d,g,_){var v=U(this.that).datum();s.call(d,this.that,new yu(d,{sourceEvent:g,target:a,selection:t.output(this.state.selection),mode:_,dispatch:s}),v)}};function f(d){if(u&&!d.touches||!n.apply(this,arguments))return;var g=this,_=d.target.__data__.type,v=(i&&d.metaKey?_="overlay":_)==="selection"?Tr:i&&d.altKey?Xt:qt,b=t===Xe?null:vu[_],T=t===qe?null:wu[_],k=An(g),R=k.extent,I=k.selection,D=R[0][0],O,z,L=R[0][1],F,y,P=R[1][0],S,E,j=R[1][1],A,C,N=0,$=0,G,X=b&&T&&i&&d.shiftKey,Q,V,q=Array.from(d.touches||[d],H=>{const nt=H.identifier;return H=Rt(H,g),H.point0=H.slice(),H.identifier=nt,H});Yt(g);var K=h(g,arguments,!0).beforestart();if(_==="overlay"){I&&(G=!0);const H=[q[0],q[1]||q[0]];k.selection=I=[[O=t===Xe?D:ut(H[0][0],H[1][0]),F=t===qe?L:ut(H[0][1],H[1][1])],[S=t===Xe?P:ct(H[0][0],H[1][0]),A=t===qe?j:ct(H[0][1],H[1][1])]],q.length>1&&ht(d)}else O=I[0][0],F=I[0][1],S=I[1][0],A=I[1][1];z=O,y=F,E=S,C=A;var it=U(g).attr("pointer-events","none"),et=it.selectAll(".overlay").attr("cursor",At[_]);if(d.touches)K.moved=st,K.ended=jt;else{var ft=U(d.view).on("mousemove.brush",st,!0).on("mouseup.brush",jt,!0);i&&ft.on("keydown.brush",Lt,!0).on("keyup.brush",Ee,!0),Wi(d.view)}c.call(g),K.start(d,v.name);function st(H){for(const nt of H.changedTouches||[H])for(const Pt of q)Pt.identifier===nt.identifier&&(Pt.cur=Rt(nt,g));if(X&&!Q&&!V&&q.length===1){const nt=q[0];Er(nt.cur[0]-nt[0])>Er(nt.cur[1]-nt[1])?V=!0:Q=!0}for(const nt of q)nt.cur&&(nt[0]=nt.cur[0],nt[1]=nt.cur[1]);G=!0,bn(H),ht(H)}function ht(H){const nt=q[0],Pt=nt.point0;var xt;switch(N=nt[0]-Pt[0],$=nt[1]-Pt[1],v){case Sn:case Tr:{b&&(N=ct(D-O,ut(P-S,N)),z=O+N,E=S+N),T&&($=ct(L-F,ut(j-A,$)),y=F+$,C=A+$);break}case qt:{q[1]?(b&&(z=ct(D,ut(P,q[0][0])),E=ct(D,ut(P,q[1][0])),b=1),T&&(y=ct(L,ut(j,q[0][1])),C=ct(L,ut(j,q[1][1])),T=1)):(b<0?(N=ct(D-O,ut(P-O,N)),z=O+N,E=S):b>0&&(N=ct(D-S,ut(P-S,N)),z=O,E=S+N),T<0?($=ct(L-F,ut(j-F,$)),y=F+$,C=A):T>0&&($=ct(L-A,ut(j-A,$)),y=F,C=A+$));break}case Xt:{b&&(z=ct(D,ut(P,O-N*b)),E=ct(D,ut(P,S+N*b))),T&&(y=ct(L,ut(j,F-$*T)),C=ct(L,ut(j,A+$*T)));break}}E<z&&(b*=-1,xt=O,O=S,S=xt,xt=z,z=E,E=xt,_ in Pr&&et.attr("cursor",At[_=Pr[_]])),C<y&&(T*=-1,xt=F,F=A,A=xt,xt=y,y=C,C=xt,_ in Mr&&et.attr("cursor",At[_=Mr[_]])),k.selection&&(I=k.selection),Q&&(z=I[0][0],E=I[1][0]),V&&(y=I[0][1],C=I[1][1]),(I[0][0]!==z||I[0][1]!==y||I[1][0]!==E||I[1][1]!==C)&&(k.selection=[[z,y],[E,C]],c.call(g),K.brush(H,v.name))}function jt(H){if(xu(H),H.touches){if(H.touches.length)return;u&&clearTimeout(u),u=setTimeout(function(){u=null},500)}else qi(H.view,G),ft.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);it.attr("pointer-events","all"),et.attr("cursor",At.overlay),k.selection&&(I=k.selection),Su(I)&&(k.selection=null,c.call(g)),K.end(H,v.name)}function Lt(H){switch(H.keyCode){case 16:{X=b&&T;break}case 18:{v===qt&&(b&&(S=E-N*b,O=z+N*b),T&&(A=C-$*T,F=y+$*T),v=Xt,ht(H));break}case 32:{(v===qt||v===Xt)&&(b<0?S=E-N:b>0&&(O=z-N),T<0?A=C-$:T>0&&(F=y-$),v=Sn,et.attr("cursor",At.selection),ht(H));break}default:return}bn(H)}function Ee(H){switch(H.keyCode){case 16:{X&&(Q=V=X=!1,ht(H));break}case 18:{v===Xt&&(b<0?S=E:b>0&&(O=z),T<0?A=C:T>0&&(F=y),v=qt,ht(H));break}case 32:{v===Sn&&(H.altKey?(b&&(S=E-N*b,O=z+N*b),T&&(A=C-$*T,F=y+$*T),v=Xt):(b<0?S=E:b>0&&(O=z),T<0?A=C:T>0&&(F=y),v=qt),et.attr("cursor",At[_]),ht(H));break}default:return}bn(H)}}function l(d){h(this,arguments).moved(d)}function w(d){h(this,arguments).ended(d)}function x(){var d=this.__brush||{selection:null};return d.extent=Cr(e.apply(this,arguments)),d.dim=t,d}return a.extent=function(d){return arguments.length?(e=typeof d=="function"?d:kn(Cr(d)),a):e},a.filter=function(d){return arguments.length?(n=typeof d=="function"?d:kn(!!d),a):n},a.touchable=function(d){return arguments.length?(r=typeof d=="function"?d:kn(!!d),a):r},a.handleSize=function(d){return arguments.length?(o=+d,a):o},a.keyModifiers=function(d){return arguments.length?(i=!!d,a):i},a.on=function(){var d=s.on.apply(s,arguments);return d===s?a:d},a}const ze=t=>()=>t;function Tu(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Nt(t,e,n){this.k=t,this.x=e,this.y=n}Nt.prototype={constructor:Nt,scale:function(t){return t===1?this:new Nt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Nt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ir=new Nt(1,0,0);Nt.prototype;function Rn(t){t.stopImmediatePropagation()}function ce(t){t.preventDefault(),t.stopImmediatePropagation()}function Eu(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Nu(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function jr(){return this.__zoom||ir}function Cu(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Pu(){return navigator.maxTouchPoints||"ontouchstart"in this}function Mu(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function ju(){var t=Eu,e=Nu,n=Mu,r=Cu,i=Pu,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],u=250,a=so,c=un("start","zoom","end"),h,m,f,l=500,w=150,x=0,d=10;function g(y){y.property("__zoom",jr).on("wheel.zoom",I,{passive:!1}).on("mousedown.zoom",D).on("dblclick.zoom",O).filter(i).on("touchstart.zoom",z).on("touchmove.zoom",L).on("touchend.zoom touchcancel.zoom",F).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(y,P,S,E){var j=y.selection?y.selection():y;j.property("__zoom",jr),y!==j?T(y,P,S,E):j.interrupt().each(function(){k(this,arguments).event(E).start().zoom(null,typeof P=="function"?P.apply(this,arguments):P).end()})},g.scaleBy=function(y,P,S,E){g.scaleTo(y,function(){var j=this.__zoom.k,A=typeof P=="function"?P.apply(this,arguments):P;return j*A},S,E)},g.scaleTo=function(y,P,S,E){g.transform(y,function(){var j=e.apply(this,arguments),A=this.__zoom,C=S==null?b(j):typeof S=="function"?S.apply(this,arguments):S,N=A.invert(C),$=typeof P=="function"?P.apply(this,arguments):P;return n(v(_(A,$),C,N),j,o)},S,E)},g.translateBy=function(y,P,S,E){g.transform(y,function(){return n(this.__zoom.translate(typeof P=="function"?P.apply(this,arguments):P,typeof S=="function"?S.apply(this,arguments):S),e.apply(this,arguments),o)},null,E)},g.translateTo=function(y,P,S,E,j){g.transform(y,function(){var A=e.apply(this,arguments),C=this.__zoom,N=E==null?b(A):typeof E=="function"?E.apply(this,arguments):E;return n(ir.translate(N[0],N[1]).scale(C.k).translate(typeof P=="function"?-P.apply(this,arguments):-P,typeof S=="function"?-S.apply(this,arguments):-S),A,o)},E,j)};function _(y,P){return P=Math.max(s[0],Math.min(s[1],P)),P===y.k?y:new Nt(P,y.x,y.y)}function v(y,P,S){var E=P[0]-S[0]*y.k,j=P[1]-S[1]*y.k;return E===y.x&&j===y.y?y:new Nt(y.k,E,j)}function b(y){return[(+y[0][0]+ +y[1][0])/2,(+y[0][1]+ +y[1][1])/2]}function T(y,P,S,E){y.on("start.zoom",function(){k(this,arguments).event(E).start()}).on("interrupt.zoom end.zoom",function(){k(this,arguments).event(E).end()}).tween("zoom",function(){var j=this,A=arguments,C=k(j,A).event(E),N=e.apply(j,A),$=S==null?b(N):typeof S=="function"?S.apply(j,A):S,G=Math.max(N[1][0]-N[0][0],N[1][1]-N[0][1]),X=j.__zoom,Q=typeof P=="function"?P.apply(j,A):P,V=a(X.invert($).concat(G/X.k),Q.invert($).concat(G/Q.k));return function(q){if(q===1)q=Q;else{var K=V(q),it=G/K[2];q=new Nt(it,$[0]-K[0]*it,$[1]-K[1]*it)}C.zoom(null,q)}})}function k(y,P,S){return!S&&y.__zooming||new R(y,P)}function R(y,P){this.that=y,this.args=P,this.active=0,this.sourceEvent=null,this.extent=e.apply(y,P),this.taps=0}R.prototype={event:function(y){return y&&(this.sourceEvent=y),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(y,P){return this.mouse&&y!=="mouse"&&(this.mouse[1]=P.invert(this.mouse[0])),this.touch0&&y!=="touch"&&(this.touch0[1]=P.invert(this.touch0[0])),this.touch1&&y!=="touch"&&(this.touch1[1]=P.invert(this.touch1[0])),this.that.__zoom=P,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(y){var P=U(this.that).datum();c.call(y,this.that,new Tu(y,{sourceEvent:this.sourceEvent,target:g,transform:this.that.__zoom,dispatch:c}),P)}};function I(y,...P){if(!t.apply(this,arguments))return;var S=k(this,P).event(y),E=this.__zoom,j=Math.max(s[0],Math.min(s[1],E.k*Math.pow(2,r.apply(this,arguments)))),A=Rt(y);if(S.wheel)(S.mouse[0][0]!==A[0]||S.mouse[0][1]!==A[1])&&(S.mouse[1]=E.invert(S.mouse[0]=A)),clearTimeout(S.wheel);else{if(E.k===j)return;S.mouse=[A,E.invert(A)],Yt(this),S.start()}ce(y),S.wheel=setTimeout(C,w),S.zoom("mouse",n(v(_(E,j),S.mouse[0],S.mouse[1]),S.extent,o));function C(){S.wheel=null,S.end()}}function D(y,...P){if(f||!t.apply(this,arguments))return;var S=y.currentTarget,E=k(this,P,!0).event(y),j=U(y.view).on("mousemove.zoom",$,!0).on("mouseup.zoom",G,!0),A=Rt(y,S),C=y.clientX,N=y.clientY;Wi(y.view),Rn(y),E.mouse=[A,this.__zoom.invert(A)],Yt(this),E.start();function $(X){if(ce(X),!E.moved){var Q=X.clientX-C,V=X.clientY-N;E.moved=Q*Q+V*V>x}E.event(X).zoom("mouse",n(v(E.that.__zoom,E.mouse[0]=Rt(X,S),E.mouse[1]),E.extent,o))}function G(X){j.on("mousemove.zoom mouseup.zoom",null),qi(X.view,E.moved),ce(X),E.event(X).end()}}function O(y,...P){if(t.apply(this,arguments)){var S=this.__zoom,E=Rt(y.changedTouches?y.changedTouches[0]:y,this),j=S.invert(E),A=S.k*(y.shiftKey?.5:2),C=n(v(_(S,A),E,j),e.apply(this,P),o);ce(y),u>0?U(this).transition().duration(u).call(T,C,E,y):U(this).call(g.transform,C,E,y)}}function z(y,...P){if(t.apply(this,arguments)){var S=y.touches,E=S.length,j=k(this,P,y.changedTouches.length===E).event(y),A,C,N,$;for(Rn(y),C=0;C<E;++C)N=S[C],$=Rt(N,this),$=[$,this.__zoom.invert($),N.identifier],j.touch0?!j.touch1&&j.touch0[2]!==$[2]&&(j.touch1=$,j.taps=0):(j.touch0=$,A=!0,j.taps=1+!!h);h&&(h=clearTimeout(h)),A&&(j.taps<2&&(m=$[0],h=setTimeout(function(){h=null},l)),Yt(this),j.start())}}function L(y,...P){if(this.__zooming){var S=k(this,P).event(y),E=y.changedTouches,j=E.length,A,C,N,$;for(ce(y),A=0;A<j;++A)C=E[A],N=Rt(C,this),S.touch0&&S.touch0[2]===C.identifier?S.touch0[0]=N:S.touch1&&S.touch1[2]===C.identifier&&(S.touch1[0]=N);if(C=S.that.__zoom,S.touch1){var G=S.touch0[0],X=S.touch0[1],Q=S.touch1[0],V=S.touch1[1],q=(q=Q[0]-G[0])*q+(q=Q[1]-G[1])*q,K=(K=V[0]-X[0])*K+(K=V[1]-X[1])*K;C=_(C,Math.sqrt(q/K)),N=[(G[0]+Q[0])/2,(G[1]+Q[1])/2],$=[(X[0]+V[0])/2,(X[1]+V[1])/2]}else if(S.touch0)N=S.touch0[0],$=S.touch0[1];else return;S.zoom("touch",n(v(C,N,$),S.extent,o))}}function F(y,...P){if(this.__zooming){var S=k(this,P).event(y),E=y.changedTouches,j=E.length,A,C;for(Rn(y),f&&clearTimeout(f),f=setTimeout(function(){f=null},l),A=0;A<j;++A)C=E[A],S.touch0&&S.touch0[2]===C.identifier?delete S.touch0:S.touch1&&S.touch1[2]===C.identifier&&delete S.touch1;if(S.touch1&&!S.touch0&&(S.touch0=S.touch1,delete S.touch1),S.touch0)S.touch0[1]=this.__zoom.invert(S.touch0[0]);else if(S.end(),S.taps===2&&(C=Rt(C,this),Math.hypot(m[0]-C[0],m[1]-C[1])<d)){var N=U(this).on("dblclick.zoom");N&&N.apply(this,arguments)}}}return g.wheelDelta=function(y){return arguments.length?(r=typeof y=="function"?y:ze(+y),g):r},g.filter=function(y){return arguments.length?(t=typeof y=="function"?y:ze(!!y),g):t},g.touchable=function(y){return arguments.length?(i=typeof y=="function"?y:ze(!!y),g):i},g.extent=function(y){return arguments.length?(e=typeof y=="function"?y:ze([[+y[0][0],+y[0][1]],[+y[1][0],+y[1][1]]]),g):e},g.scaleExtent=function(y){return arguments.length?(s[0]=+y[0],s[1]=+y[1],g):[s[0],s[1]]},g.translateExtent=function(y){return arguments.length?(o[0][0]=+y[0][0],o[1][0]=+y[1][0],o[0][1]=+y[0][1],o[1][1]=+y[1][1],g):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},g.constrain=function(y){return arguments.length?(n=y,g):n},g.duration=function(y){return arguments.length?(u=+y,g):u},g.interpolate=function(y){return arguments.length?(a=y,g):a},g.on=function(){var y=c.on.apply(c,arguments);return y===c?g:y},g.clickDistance=function(y){return arguments.length?(x=(y=+y)*y,g):Math.sqrt(x)},g.tapDistance=function(y){return arguments.length?(d=+y,g):d},g}var dt=function(){return dt=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},dt.apply(this,arguments)};function nn(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var tt="-ms-",ye="-moz-",Z="-webkit-",Ji="comm",dn="rule",sr="decl",$u="@import",ts="@keyframes",Iu="@layer",es=Math.abs,or=String.fromCharCode,Wn=Object.assign;function zu(t,e){return ot(t,0)^45?(((e<<2^ot(t,0))<<2^ot(t,1))<<2^ot(t,2))<<2^ot(t,3):0}function ns(t){return t.trim()}function Tt(t,e){return(t=e.exec(t))?t[0]:t}function W(t,e,n){return t.replace(e,n)}function Ve(t,e,n){return t.indexOf(e,n)}function ot(t,e){return t.charCodeAt(e)|0}function Ut(t,e,n){return t.slice(e,n)}function kt(t){return t.length}function rs(t){return t.length}function ge(t,e){return e.push(t),t}function Bu(t,e){return t.map(e).join("")}function $r(t,e){return t.filter(function(n){return!Tt(n,e)})}var pn=1,Qt=1,is=0,yt=0,rt=0,ne="";function gn(t,e,n,r,i,s,o,u){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:pn,column:Qt,length:o,return:"",siblings:u}}function Mt(t,e){return Wn(gn("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Vt(t){for(;t.root;)t=Mt(t.root,{children:[t]});ge(t,t.siblings)}function Du(){return rt}function Ou(){return rt=yt>0?ot(ne,--yt):0,Qt--,rt===10&&(Qt=1,pn--),rt}function vt(){return rt=yt<is?ot(ne,yt++):0,Qt++,rt===10&&(Qt=1,pn++),rt}function Dt(){return ot(ne,yt)}function Ge(){return yt}function mn(t,e){return Ut(ne,t,e)}function qn(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Fu(t){return pn=Qt=1,is=kt(ne=t),yt=0,[]}function Lu(t){return ne="",t}function Tn(t){return ns(mn(yt-1,Xn(t===91?t+2:t===40?t+1:t)))}function Hu(t){for(;(rt=Dt())&&rt<33;)vt();return qn(t)>2||qn(rt)>3?"":" "}function Wu(t,e){for(;--e&&vt()&&!(rt<48||rt>102||rt>57&&rt<65||rt>70&&rt<97););return mn(t,Ge()+(e<6&&Dt()==32&&vt()==32))}function Xn(t){for(;vt();)switch(rt){case t:return yt;case 34:case 39:t!==34&&t!==39&&Xn(rt);break;case 40:t===41&&Xn(t);break;case 92:vt();break}return yt}function qu(t,e){for(;vt()&&t+rt!==57;)if(t+rt===84&&Dt()===47)break;return"/*"+mn(e,yt-1)+"*"+or(t===47?t:vt())}function Xu(t){for(;!qn(Dt());)vt();return mn(t,yt)}function Vu(t){return Lu(Ye("",null,null,null,[""],t=Fu(t),0,[0],t))}function Ye(t,e,n,r,i,s,o,u,a){for(var c=0,h=0,m=o,f=0,l=0,w=0,x=1,d=1,g=1,_=0,v="",b=i,T=s,k=r,R=v;d;)switch(w=_,_=vt()){case 40:if(w!=108&&ot(R,m-1)==58){Ve(R+=W(Tn(_),"&","&\f"),"&\f",es(c?u[c-1]:0))!=-1&&(g=-1);break}case 34:case 39:case 91:R+=Tn(_);break;case 9:case 10:case 13:case 32:R+=Hu(w);break;case 92:R+=Wu(Ge()-1,7);continue;case 47:switch(Dt()){case 42:case 47:ge(Gu(qu(vt(),Ge()),e,n,a),a);break;default:R+="/"}break;case 123*x:u[c++]=kt(R)*g;case 125*x:case 59:case 0:switch(_){case 0:case 125:d=0;case 59+h:g==-1&&(R=W(R,/\f/g,"")),l>0&&kt(R)-m&&ge(l>32?zr(R+";",r,n,m-1,a):zr(W(R," ","")+";",r,n,m-2,a),a);break;case 59:R+=";";default:if(ge(k=Ir(R,e,n,c,h,i,u,v,b=[],T=[],m,s),s),_===123)if(h===0)Ye(R,e,k,k,b,s,m,u,T);else switch(f===99&&ot(R,3)===110?100:f){case 100:case 108:case 109:case 115:Ye(t,k,k,r&&ge(Ir(t,k,k,0,0,i,u,v,i,b=[],m,T),T),i,T,m,u,r?b:T);break;default:Ye(R,k,k,k,[""],T,0,u,T)}}c=h=l=0,x=g=1,v=R="",m=o;break;case 58:m=1+kt(R),l=w;default:if(x<1){if(_==123)--x;else if(_==125&&x++==0&&Ou()==125)continue}switch(R+=or(_),_*x){case 38:g=h>0?1:(R+="\f",-1);break;case 44:u[c++]=(kt(R)-1)*g,g=1;break;case 64:Dt()===45&&(R+=Tn(vt())),f=Dt(),h=m=kt(v=R+=Xu(Ge())),_++;break;case 45:w===45&&kt(R)==2&&(x=0)}}return s}function Ir(t,e,n,r,i,s,o,u,a,c,h,m){for(var f=i-1,l=i===0?s:[""],w=rs(l),x=0,d=0,g=0;x<r;++x)for(var _=0,v=Ut(t,f+1,f=es(d=o[x])),b=t;_<w;++_)(b=ns(d>0?l[_]+" "+v:W(v,/&\f/g,l[_])))&&(a[g++]=b);return gn(t,e,n,i===0?dn:u,a,c,h,m)}function Gu(t,e,n,r){return gn(t,e,n,Ji,or(Du()),Ut(t,2,-2),0,r)}function zr(t,e,n,r,i){return gn(t,e,n,sr,Ut(t,0,r),Ut(t,r+1,-1),r,i)}function ss(t,e,n){switch(zu(t,e)){case 5103:return Z+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Z+t+t;case 4789:return ye+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Z+t+ye+t+tt+t+t;case 5936:switch(ot(t,e+11)){case 114:return Z+t+tt+W(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Z+t+tt+W(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Z+t+tt+W(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Z+t+tt+t+t;case 6165:return Z+t+tt+"flex-"+t+t;case 5187:return Z+t+W(t,/(\w+).+(:[^]+)/,Z+"box-$1$2"+tt+"flex-$1$2")+t;case 5443:return Z+t+tt+"flex-item-"+W(t,/flex-|-self/g,"")+(Tt(t,/flex-|baseline/)?"":tt+"grid-row-"+W(t,/flex-|-self/g,""))+t;case 4675:return Z+t+tt+"flex-line-pack"+W(t,/align-content|flex-|-self/g,"")+t;case 5548:return Z+t+tt+W(t,"shrink","negative")+t;case 5292:return Z+t+tt+W(t,"basis","preferred-size")+t;case 6060:return Z+"box-"+W(t,"-grow","")+Z+t+tt+W(t,"grow","positive")+t;case 4554:return Z+W(t,/([^-])(transform)/g,"$1"+Z+"$2")+t;case 6187:return W(W(W(t,/(zoom-|grab)/,Z+"$1"),/(image-set)/,Z+"$1"),t,"")+t;case 5495:case 3959:return W(t,/(image-set\([^]*)/,Z+"$1$`$1");case 4968:return W(W(t,/(.+:)(flex-)?(.*)/,Z+"box-pack:$3"+tt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Z+t+t;case 4200:if(!Tt(t,/flex-|baseline/))return tt+"grid-column-align"+Ut(t,e)+t;break;case 2592:case 3360:return tt+W(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,Tt(r.props,/grid-\w+-end/)})?~Ve(t+(n=n[e].value),"span",0)?t:tt+W(t,"-start","")+t+tt+"grid-row-span:"+(~Ve(n,"span",0)?Tt(n,/\d+/):+Tt(n,/\d+/)-+Tt(t,/\d+/))+";":tt+W(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return Tt(r.props,/grid-\w+-start/)})?t:tt+W(W(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return W(t,/(.+)-inline(.+)/,Z+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(kt(t)-1-e>6)switch(ot(t,e+1)){case 109:if(ot(t,e+4)!==45)break;case 102:return W(t,/(.+:)(.+)-([^]+)/,"$1"+Z+"$2-$3$1"+ye+(ot(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Ve(t,"stretch",0)?ss(W(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return W(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,u,a,c){return tt+i+":"+s+c+(o?tt+i+"-span:"+(u?a:+a-+s)+c:"")+t});case 4949:if(ot(t,e+6)===121)return W(t,":",":"+Z)+t;break;case 6444:switch(ot(t,ot(t,14)===45?18:11)){case 120:return W(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Z+(ot(t,14)===45?"inline-":"")+"box$3$1"+Z+"$2$3$1"+tt+"$2box$3")+t;case 100:return W(t,":",":"+tt)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return W(t,"scroll-","scroll-snap-")+t}return t}function rn(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function Yu(t,e,n,r){switch(t.type){case Iu:if(t.children.length)break;case $u:case sr:return t.return=t.return||t.value;case Ji:return"";case ts:return t.return=t.value+"{"+rn(t.children,r)+"}";case dn:if(!kt(t.value=t.props.join(",")))return""}return kt(n=rn(t.children,r))?t.return=t.value+"{"+n+"}":""}function Zu(t){var e=rs(t);return function(n,r,i,s){for(var o="",u=0;u<e;u++)o+=t[u](n,r,i,s)||"";return o}}function Ku(t){return function(e){e.root||(e=e.return)&&t(e)}}function Uu(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case sr:t.return=ss(t.value,t.length,n);return;case ts:return rn([Mt(t,{value:W(t.value,"@","@"+Z)})],r);case dn:if(t.length)return Bu(n=t.props,function(i){switch(Tt(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Vt(Mt(t,{props:[W(i,/:(read-\w+)/,":"+ye+"$1")]})),Vt(Mt(t,{props:[i]})),Wn(t,{props:$r(n,r)});break;case"::placeholder":Vt(Mt(t,{props:[W(i,/:(plac\w+)/,":"+Z+"input-$1")]})),Vt(Mt(t,{props:[W(i,/:(plac\w+)/,":"+ye+"$1")]})),Vt(Mt(t,{props:[W(i,/:(plac\w+)/,tt+"input-$1")]})),Vt(Mt(t,{props:[i]})),Wn(t,{props:$r(n,r)});break}return""})}}var Qu={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},pt={},Jt=typeof In<"u"&&pt!==void 0&&(pt.REACT_APP_SC_ATTR||pt.SC_ATTR)||"data-styled",os="active",as="data-styled-version",yn="6.1.19",ar=`/*!sc*/
`,sn=typeof window<"u"&&typeof document<"u",Ju=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof In<"u"&&pt!==void 0&&pt.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&pt.REACT_APP_SC_DISABLE_SPEEDY!==""?pt.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&pt.REACT_APP_SC_DISABLE_SPEEDY:typeof In<"u"&&pt!==void 0&&pt.SC_DISABLE_SPEEDY!==void 0&&pt.SC_DISABLE_SPEEDY!==""&&pt.SC_DISABLE_SPEEDY!=="false"&&pt.SC_DISABLE_SPEEDY),xn=Object.freeze([]),te=Object.freeze({});function tl(t,e,n){return n===void 0&&(n=te),t.theme!==n.theme&&t.theme||e||n.theme}var cs=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),el=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,nl=/(^-|-$)/g;function Br(t){return t.replace(el,"-").replace(nl,"")}var rl=/(a)(d)/gi,Be=52,Dr=function(t){return String.fromCharCode(t+(t>25?39:97))};function Vn(t){var e,n="";for(e=Math.abs(t);e>Be;e=e/Be|0)n=Dr(e%Be)+n;return(Dr(e%Be)+n).replace(rl,"$1-$2")}var En,us=5381,Gt=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},ls=function(t){return Gt(us,t)};function il(t){return Vn(ls(t)>>>0)}function sl(t){return t.displayName||t.name||"Component"}function Nn(t){return typeof t=="string"&&!0}var fs=typeof Symbol=="function"&&Symbol.for,hs=fs?Symbol.for("react.memo"):60115,ol=fs?Symbol.for("react.forward_ref"):60112,al={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},cl={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ds={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ul=((En={})[ol]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},En[hs]=ds,En);function Or(t){return("type"in(e=t)&&e.type.$$typeof)===hs?ds:"$$typeof"in t?ul[t.$$typeof]:al;var e}var ll=Object.defineProperty,fl=Object.getOwnPropertyNames,Fr=Object.getOwnPropertySymbols,hl=Object.getOwnPropertyDescriptor,dl=Object.getPrototypeOf,Lr=Object.prototype;function ps(t,e,n){if(typeof e!="string"){if(Lr){var r=dl(e);r&&r!==Lr&&ps(t,r,n)}var i=fl(e);Fr&&(i=i.concat(Fr(e)));for(var s=Or(t),o=Or(e),u=0;u<i.length;++u){var a=i[u];if(!(a in cl||n&&n[a]||o&&a in o||s&&a in s)){var c=hl(e,a);try{ll(t,a,c)}catch{}}}}return t}function ee(t){return typeof t=="function"}function cr(t){return typeof t=="object"&&"styledComponentId"in t}function Bt(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function Hr(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function Se(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function Gn(t,e,n){if(n===void 0&&(n=!1),!n&&!Se(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=Gn(t[r],e[r]);else if(Se(e))for(var r in e)t[r]=Gn(t[r],e[r]);return t}function ur(t,e){Object.defineProperty(t,"toString",{value:e})}function Te(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var pl=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw Te(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var u=this.indexOfGroup(e+1),a=(o=0,n.length);o<a;o++)this.tag.insertRule(u,n[o])&&(this.groupSizes[e]++,u++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(ar);return n},t}(),Ze=new Map,on=new Map,Ke=1,De=function(t){if(Ze.has(t))return Ze.get(t);for(;on.has(Ke);)Ke++;var e=Ke++;return Ze.set(t,e),on.set(e,t),e},gl=function(t,e){Ke=e+1,Ze.set(t,e),on.set(e,t)},ml="style[".concat(Jt,"][").concat(as,'="').concat(yn,'"]'),yl=new RegExp("^".concat(Jt,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),xl=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},vl=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(ar),i=[],s=0,o=r.length;s<o;s++){var u=r[s].trim();if(u){var a=u.match(yl);if(a){var c=0|parseInt(a[1],10),h=a[2];c!==0&&(gl(h,c),xl(t,h,a[3]),t.getTag().insertRules(c,i)),i.length=0}else i.push(u)}}},Wr=function(t){for(var e=document.querySelectorAll(ml),n=0,r=e.length;n<r;n++){var i=e[n];i&&i.getAttribute(Jt)!==os&&(vl(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function wl(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var gs=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(u){var a=Array.from(u.querySelectorAll("style[".concat(Jt,"]")));return a[a.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(Jt,os),r.setAttribute(as,yn);var o=wl();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},_l=function(){function t(e){this.element=gs(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw Te(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),kl=function(){function t(e){this.element=gs(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),bl=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),qr=sn,Sl={isServer:!sn,useCSSOMInjection:!Ju},ms=function(){function t(e,n,r){e===void 0&&(e=te),n===void 0&&(n={});var i=this;this.options=dt(dt({},Sl),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&sn&&qr&&(qr=!1,Wr(this)),ur(this,function(){return function(s){for(var o=s.getTag(),u=o.length,a="",c=function(m){var f=function(g){return on.get(g)}(m);if(f===void 0)return"continue";var l=s.names.get(f),w=o.getGroup(m);if(l===void 0||!l.size||w.length===0)return"continue";var x="".concat(Jt,".g").concat(m,'[id="').concat(f,'"]'),d="";l!==void 0&&l.forEach(function(g){g.length>0&&(d+="".concat(g,","))}),a+="".concat(w).concat(x,'{content:"').concat(d,'"}').concat(ar)},h=0;h<u;h++)c(h);return a}(i)})}return t.registerId=function(e){return De(e)},t.prototype.rehydrate=function(){!this.server&&sn&&Wr(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(dt(dt({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new bl(i):r?new _l(i):new kl(i)}(this.options),new pl(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(De(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(De(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(De(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),Al=/&/g,Rl=/^\s*\/\/.*$/gm;function ys(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=ys(n.children,e)),n})}function Tl(t){var e,n,r,i=te,s=i.options,o=s===void 0?te:s,u=i.plugins,a=u===void 0?xn:u,c=function(f,l,w){return w.startsWith(n)&&w.endsWith(n)&&w.replaceAll(n,"").length>0?".".concat(e):f},h=a.slice();h.push(function(f){f.type===dn&&f.value.includes("&")&&(f.props[0]=f.props[0].replace(Al,n).replace(r,c))}),o.prefix&&h.push(Uu),h.push(Yu);var m=function(f,l,w,x){l===void 0&&(l=""),w===void 0&&(w=""),x===void 0&&(x="&"),e=x,n=l,r=new RegExp("\\".concat(n,"\\b"),"g");var d=f.replace(Rl,""),g=Vu(w||l?"".concat(w," ").concat(l," { ").concat(d," }"):d);o.namespace&&(g=ys(g,o.namespace));var _=[];return rn(g,Zu(h.concat(Ku(function(v){return _.push(v)})))),_};return m.hash=a.length?a.reduce(function(f,l){return l.name||Te(15),Gt(f,l.name)},us).toString():"",m}var El=new ms,Yn=Tl(),xs=ve.createContext({shouldForwardProp:void 0,styleSheet:El,stylis:Yn});xs.Consumer;ve.createContext(void 0);function Xr(){return M.useContext(xs)}var Nl=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=Yn);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,ur(this,function(){throw Te(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=Yn),this.name+e.hash},t}(),Cl=function(t){return t>="A"&&t<="Z"};function Vr(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;Cl(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var vs=function(t){return t==null||t===!1||t===""},ws=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!vs(s)&&(Array.isArray(s)&&s.isCss||ee(s)?r.push("".concat(Vr(i),":"),s,";"):Se(s)?r.push.apply(r,nn(nn(["".concat(i," {")],ws(s),!1),["}"],!1)):r.push("".concat(Vr(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in Qu||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Ot(t,e,n,r){if(vs(t))return[];if(cr(t))return[".".concat(t.styledComponentId)];if(ee(t)){if(!ee(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return Ot(i,e,n,r)}var s;return t instanceof Nl?n?(t.inject(n,r),[t.getName(r)]):[t]:Se(t)?ws(t):Array.isArray(t)?Array.prototype.concat.apply(xn,t.map(function(o){return Ot(o,e,n,r)})):[t.toString()]}function Pl(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(ee(n)&&!cr(n))return!1}return!0}var Ml=ls(yn),jl=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&Pl(e),this.componentId=n,this.baseHash=Gt(Ml,n),this.baseStyle=r,ms.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Bt(i,this.staticRulesId);else{var s=Hr(Ot(this.rules,e,n,r)),o=Vn(Gt(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var u=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,u)}i=Bt(i,o),this.staticRulesId=o}else{for(var a=Gt(this.baseHash,r.hash),c="",h=0;h<this.rules.length;h++){var m=this.rules[h];if(typeof m=="string")c+=m;else if(m){var f=Hr(Ot(m,e,n,r));a=Gt(a,f+h),c+=f}}if(c){var l=Vn(a>>>0);n.hasNameForId(this.componentId,l)||n.insertRules(this.componentId,l,r(c,".".concat(l),void 0,this.componentId)),i=Bt(i,l)}}return i},t}(),_s=ve.createContext(void 0);_s.Consumer;var Cn={};function $l(t,e,n){var r=cr(t),i=t,s=!Nn(t),o=e.attrs,u=o===void 0?xn:o,a=e.componentId,c=a===void 0?function(b,T){var k=typeof b!="string"?"sc":Br(b);Cn[k]=(Cn[k]||0)+1;var R="".concat(k,"-").concat(il(yn+k+Cn[k]));return T?"".concat(T,"-").concat(R):R}(e.displayName,e.parentComponentId):a,h=e.displayName,m=h===void 0?function(b){return Nn(b)?"styled.".concat(b):"Styled(".concat(sl(b),")")}(t):h,f=e.displayName&&e.componentId?"".concat(Br(e.displayName),"-").concat(e.componentId):e.componentId||c,l=r&&i.attrs?i.attrs.concat(u).filter(Boolean):u,w=e.shouldForwardProp;if(r&&i.shouldForwardProp){var x=i.shouldForwardProp;if(e.shouldForwardProp){var d=e.shouldForwardProp;w=function(b,T){return x(b,T)&&d(b,T)}}else w=x}var g=new jl(n,f,r?i.componentStyle:void 0);function _(b,T){return function(k,R,I){var D=k.attrs,O=k.componentStyle,z=k.defaultProps,L=k.foldedComponentIds,F=k.styledComponentId,y=k.target,P=ve.useContext(_s),S=Xr(),E=k.shouldForwardProp||S.shouldForwardProp,j=tl(R,P,z)||te,A=function(Q,V,q){for(var K,it=dt(dt({},V),{className:void 0,theme:q}),et=0;et<Q.length;et+=1){var ft=ee(K=Q[et])?K(it):K;for(var st in ft)it[st]=st==="className"?Bt(it[st],ft[st]):st==="style"?dt(dt({},it[st]),ft[st]):ft[st]}return V.className&&(it.className=Bt(it.className,V.className)),it}(D,R,j),C=A.as||y,N={};for(var $ in A)A[$]===void 0||$[0]==="$"||$==="as"||$==="theme"&&A.theme===j||($==="forwardedAs"?N.as=A.forwardedAs:E&&!E($,C)||(N[$]=A[$]));var G=function(Q,V){var q=Xr(),K=Q.generateAndInjectStyles(V,q.styleSheet,q.stylis);return K}(O,A),X=Bt(L,F);return G&&(X+=" "+G),A.className&&(X+=" "+A.className),N[Nn(C)&&!cs.has(C)?"class":"className"]=X,I&&(N.ref=I),M.createElement(C,N)}(v,b,T)}_.displayName=m;var v=ve.forwardRef(_);return v.attrs=l,v.componentStyle=g,v.displayName=m,v.shouldForwardProp=w,v.foldedComponentIds=r?Bt(i.foldedComponentIds,i.styledComponentId):"",v.styledComponentId=f,v.target=r?i.target:t,Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(b){this._foldedDefaultProps=r?function(T){for(var k=[],R=1;R<arguments.length;R++)k[R-1]=arguments[R];for(var I=0,D=k;I<D.length;I++)Gn(T,D[I],!0);return T}({},i.defaultProps,b):b}}),ur(v,function(){return".".concat(v.styledComponentId)}),s&&ps(v,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),v}function Gr(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var Yr=function(t){return Object.assign(t,{isCss:!0})};function Il(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ee(t)||Se(t))return Yr(Ot(Gr(xn,nn([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?Ot(r):Yr(Ot(Gr(r,e)))}function Zn(t,e,n){if(n===void 0&&(n=te),!e)throw Te(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,Il.apply(void 0,nn([i],s,!1)))};return r.attrs=function(i){return Zn(t,e,dt(dt({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return Zn(t,e,dt(dt({},n),i))},r}var ks=function(t){return Zn($l,t)},lt=ks;cs.forEach(function(t){lt[t]=ks(t)});const zl=lt.path`
  opacity: ${({opacity:t})=>t||1};
  stroke: none; /* 移除stroke，避免出现线条 */
  fill: ${({fill:t})=>t??"#ff0000"};
`,Bl=({series:t,xScale:e,yScale:n,xValue:r,yValue:i,fill:s,opacity:o})=>{const u=M.useMemo(()=>{const a=t.sort((m,f)=>m.price0-f.price0);(a==null?void 0:a.length)===2&&a[1].depth==0&&(a[1].depth=a[0].depth,a[1].activeLiquidity=a[0].activeLiquidity);const h=(a[0].price0!==1e-10&&(a==null?void 0:a.length)>1?[{...a[0],price0:a[0].price0-Math.pow(10,-9),price:a[0].price0-Math.pow(10,-9),activeLiquidity:0,depth:0},...a]:a).filter(m=>{const f=r(m),l=i(m);return isFinite(f)&&isFinite(l)&&f>=0});if(h.length!==0)return Ai().curve(Ri).x0(e(0)).x1(m=>{const f=r(m),l=e(f);return Math.max(0,Math.min(l,e.range()[0]))}).y(m=>{const f=i(m),l=n(f);return Math.max(n.range()[1],Math.min(l,n.range()[0]))})(h)},[t,e,r,n,i]);return M.useMemo(()=>p.jsx(zl,{opacity:o,fill:s||void 0,d:u||void 0}),[u,o,s])},Dl=({yScale:t,width:e,height:n,axisLabelPaneWidth:r,min:i,max:s})=>{const u=(()=>{const a=s-i,c=5,h=[];for(let l=0;l<c;l++){const w=l/(c-1);h.push(i+w*a)}const m=8;if(h.filter(l=>{const w=t(l);return w>=m&&w<=n-m}).length<4){const w=[];for(let d=0;d<7;d++){const g=d/6;w.push(i+g*a)}return w.filter(d=>{const g=t(d);return g>=m&&g<=n-m}).length>=4?w:h}return h})();return p.jsx("g",{children:u.map((a,c)=>{const h=t(a),m=8;return h>=m&&h<=n-m?p.jsx("g",{children:p.jsx("text",{x:r+10,y:h,fontSize:"12px",fill:"#909CA4",textAnchor:"start",alignmentBaseline:"middle",children:js(String(a))})},`tick-${c}`):null})})},Zr=({color:t,size:e=6})=>{const n=e/3;return p.jsx("polygon",{points:`0 0, ${e} ${e}, 0 ${e}`,transform:`translate(${n}, ${n}) rotate(-45) translate(-${n}, -${n})`,fill:t,stroke:t,strokeWidth:"4",strokeLinejoin:"round"})},Kr=20,Ur=2,Qr=(t,e)=>[e(t[1]),e(t[0])],Jr=(t,e)=>[e.invert(t[1]),e.invert(t[0])],ti=(t,e)=>{if(!t||!e)return"";const n=(B(e).lt(t)?-1:1)*((Math.max(Number(e),Number(t))-Math.min(Number(e),Number(t)))/Number(t))*100;return Number(t)?`${Ti(Math.abs(n)>1?".2~s":".2~f")(n)}%`:""},ue=t=>t[0]<t[1]?t:[t[1],t[0]],Ol=({id:t,yScale:e,interactive:n,brushExtent:r,setBrushExtent:i,hideHandles:s,width:o,height:u,currentPrice:a})=>{const c=M.useRef(null),h=M.useRef(null),[m,f]=M.useState(r),l=M.useRef(!1);M.useEffect(()=>{l.current||f(r)},[r]),M.useEffect(()=>{if(!c.current)return;const T=ue(r);Qr(T,e),h.current=Ru().extent([[0,Ur],[o,u-Ur]]).handleSize(30).filter(()=>n).filter(k=>{const R=k.target;return R.classList.contains("selection")||R.classList.contains("handle")}).on("brush",k=>{const{selection:R}=k;if(l.current=!0,!R){f(null);return}const I=ue(Jr(R,e));f(I)}).on("end",k=>{const{selection:R,mode:I}=k;if(console.log("1009##🚀 ~ Brush ~ selection:",R),!R){f(null),l.current=!1;return}if(R!=null&&R.includes(NaN)||R!=null&&R.includes(1/0)||R!=null&&R.includes(-1/0)){console.warn("Invalid selection values detected:",R),l.current=!1;return}const D=ue(Jr(R,e)),O=m[0]>1e-4?1e-4:m[0]*.01;!m||Math.abs(D[0]-m[0])>O||Math.abs(D[1]-m[1])>O?(console.log("🚀 ~ Brush ~ significant change detected:",{old:T,new:D}),i(D,I)):console.log("🚀 ~ Brush ~ no significant change, skipping update"),f(D),l.current=!1}),h.current(U(c.current)),U(c.current).selectAll(".overlay").attr("cursor","default"),U(c.current).selectAll(".selection").attr("stroke","none").attr("fill-opacity","0.15").attr("fill",`url(#${t}-gradient-selection)`).attr("cursor","grab")},[r,t,u,n,e,o,i]),M.useEffect(()=>{!c.current||!h.current||h.current.move(U(c.current),ue(Qr(r,e)))},[r,e]);const w=ue(m??r),x=e(w[1])<Kr,d=e(w[0])>u-Kr,g=e(w[0])<0||e(w[1])<0,_=e(w[0])>u||e(w[1])>u,v=e(w[0])>=0&&e(w[0])<=u,b=e(w[1])>=0&&e(w[1])<=u;return M.useMemo(()=>p.jsxs(p.Fragment,{children:[p.jsxs("defs",{children:[p.jsxs("linearGradient",{id:`${t}-gradient-selection`,x1:"0%",y1:"100%",x2:"100%",y2:"100%",children:[p.jsx("stop",{stopColor:"#3B82F6"}),p.jsx("stop",{stopColor:"#3B82F6",offset:"1"})]}),p.jsx("clipPath",{id:`${t}-brush-clip`,children:p.jsx("rect",{x:0,y:"0",width:o,height:u})})]}),p.jsx("g",{ref:c,clipPath:`url(#${t}-brush-clip)`}),!s&&p.jsxs(p.Fragment,{children:[b?p.jsx("g",{transform:`translate(0, ${Math.max(0,e(w[1]))})`,cursor:n?"ns-resize":"default",pointerEvents:"none",children:p.jsxs("g",{children:[p.jsx("line",{x1:0,y1:0,x2:o,y2:0,stroke:"#3EC6FF",strokeWidth:2}),a&&p.jsxs("g",{children:[p.jsx("rect",{x:0,y:-8,width:60,height:16,fill:"#374151",rx:8}),p.jsx("text",{x:30,y:0,fill:"#fff",fontSize:10,textAnchor:"middle",alignmentBaseline:"middle",children:ti(a,w[1])})]}),p.jsx("rect",{x:o/2-8,y:-4,width:16,height:8,fill:"#3EC6FF",rx:2}),p.jsx("path",{d:`M ${o/2-3} 1.2 L ${o/2} -1.2 L ${o/2+3} 1.2`,stroke:"#000",strokeWidth:1,fill:"none"})]})}):null,v?p.jsx("g",{transform:`translate(0, ${e(w[0])})`,cursor:n?"ns-resize":"default",pointerEvents:"none",children:p.jsxs("g",{children:[p.jsx("line",{x1:0,y1:0,x2:o,y2:0,stroke:"#3EFFDD",strokeWidth:2}),a&&p.jsxs("g",{children:[p.jsx("rect",{x:0,y:-8,width:60,height:16,fill:"#374151",rx:8}),p.jsx("text",{x:30,y:0,fill:"#fff",fontSize:10,textAnchor:"middle",alignmentBaseline:"middle",children:ti(a,w[0])})]}),p.jsx("rect",{x:o/2-8,y:-4,width:16,height:8,fill:"#3EFFDD",rx:2}),p.jsx("path",{d:`M ${o/2-3} -1.2 L ${o/2} 1.2 L ${o/2+3} -1.2`,stroke:"#000",strokeWidth:1,fill:"none"})]})}):null,g&&p.jsxs("g",{transform:"translate(18, 16) scale(1,-1)",children:[p.jsx(Zr,{color:"rgba(59, 130, 246, 1)"}),p.jsx("text",{x:14,y:-3,fill:"rgba(59, 130, 246, 1)",fontSize:10,alignmentBaseline:"middle",transform:"scale(1,-1)",children:"Out of view"})]}),_&&p.jsxs("g",{transform:`translate(18, ${u-16}) `,children:[p.jsx(Zr,{color:"rgba(59, 130, 246, 1)"}),!g&&p.jsx("text",{x:14,y:5,fill:"rgba(59, 130, 246, 1)",fontSize:10,alignmentBaseline:"middle",children:"Out of view"})]})]})]}),[t,o,u,w,s,b,e,x,n,v,d,g,_,a])},Pn=({value:t,yScale:e,width:n,height:r,axisLabelPaneWidth:i,color:s,strokeWidth:o,strokeDasharray:u,showPriceLabel:a=!0,showTriangle:c=!1})=>{const h=e(t),m=Math.max(0,Math.min(h,r));return p.jsxs("g",{children:[p.jsx("line",{x1:i,y1:m,x2:n-i,y2:m,stroke:s,strokeWidth:o,strokeDasharray:u,pointerEvents:"none"}),a&&p.jsx("text",{x:n-i+10,y:m-5,fontSize:"12px",fill:s,textAnchor:"start",children:he(t,4)}),c&&p.jsx("circle",{cx:i+4,cy:m,fill:"#fff",r:"4"})]})},Fl=({data:t,current:e,quoteCurrency:n,baseCurrency:r,isMobile:i=!1})=>{const[s,o]=M.useState(null),[u,a]=M.useState(null);return!s||!u?null:p.jsxs("div",{style:{position:"fixed",left:u.x+10,top:u.y-10,backgroundColor:"rgba(0, 0, 0, 0.9)",color:"white",padding:"8px 12px",borderRadius:"6px",fontSize:"12px",pointerEvents:"none",zIndex:1e3,maxWidth:"200px"},children:[p.jsxs("div",{style:{fontWeight:"bold",marginBottom:"4px"},children:["Price: ",he(s.price0,6)]}),p.jsxs("div",{style:{marginBottom:"2px"},children:["Liquidity: ",he(s.activeLiquidity,0)]}),p.jsxs("div",{style:{marginBottom:"2px"},children:[r==null?void 0:r.symbol,": ",he(s.amount0Locked||0,4)]}),p.jsxs("div",{children:[n==null?void 0:n.symbol,": ",he(s.amount1Locked||0,4)]})]})},Oe=t=>t.activeLiquidity||t.depth,le=t=>t.price0||t.price;function ei({id:t="ActiveLiquidityChart",quoteCurrency:e,baseCurrency:n,data:{series:r,current:i,min:s,max:o},dimensions:{width:u,height:a,contentWidth:c,axisLabelPaneWidth:h},brushDomain:m,onBrushDomainChange:f,disableBrush:l=!1,disableRightAxis:w=!1,disableBrushInteraction:x=!1,showDiffIndicators:d=!1,isMobile:g=!1,barColor:_="#8884d8",hideLiquidityBars:v=!1,dashedMarkerLine:b,currentPrice:T,showTriangle:k=!1,isFullRange:R=!1,isBrushInstance:I=!1}){const D=M.useRef(null),[O,z]=M.useState(m||[s||0,o||1]),[L,F]=M.useState(!1),y=M.useMemo(()=>!r||r.length===0?[]:r.map(j=>{const A=Oe(j),C=le(j);let N=C;return C<1e-10?N=1e-10:C>1e10&&(N=1e10),{...j,price0:N,activeLiquidity:A>0?A:0}}).filter(j=>{const A=Oe(j),C=le(j);return A>=0&&isFinite(C)&&isFinite(A)}).sort((j,A)=>le(j)-le(A)),[r,s,o]),P=M.useMemo(()=>{const E=Math.max(...y.map(Oe)),j=(o||1)-(s||0),A=ke().domain([0,E]).range([c,0]),C=ke().domain([s||0,o||1]).range([a,0]);return{xScale:A,yScale:C,maxLiquidity:E,priceRange:j}},[y,s,o,a,c]);M.useEffect(()=>{m&&!L&&z(m)},[m,L]);const S=(E,j)=>{F(j==="drag"),z(E),f(E,j)};return p.jsxs("div",{style:{width:u,height:a,position:"relative"},children:[R&&p.jsx("div",{style:{width:`${u-53}px`,height:"100%",background:"rgba(59,130,246,0.15)",position:"absolute",left:"0px",top:"0px"}}),p.jsxs("svg",{ref:D,width:u,height:a,style:{overflow:"hidden",display:"block"},viewBox:`0 0 ${u} ${a}`,children:[I&&p.jsx("defs",{children:p.jsx("clipPath",{id:`${t}-chart-clip`,children:p.jsx("rect",{x:"0",y:"0",width:I?u-53:u,height:a})})}),p.jsx("rect",{width:u,height:a,fill:"transparent"}),p.jsx("g",{clipPath:`url(#${t}-chart-clip)`,children:!v&&P&&y.length>0&&p.jsx(Bl,{series:y,xScale:P.xScale,yScale:P.yScale,xValue:Oe,yValue:le,fill:"#185880",opacity:1})}),p.jsx("g",{clipPath:`url(#${t}-chart-clip)`,children:m&&d&&p.jsxs(p.Fragment,{children:[p.jsx(Pn,{value:m[0],yScale:P.yScale,width:u,height:a,axisLabelPaneWidth:h,color:"var(--chakra-colors-text_caption)",strokeWidth:2,strokeDasharray:"4,3"}),p.jsx(Pn,{value:m[1],yScale:P.yScale,width:u,height:a,axisLabelPaneWidth:h,color:"var(--chakra-colors-text_caption)",strokeWidth:2,strokeDasharray:"4,3"})]})}),i&&p.jsx("g",{clipPath:`url(#${t}-chart-clip)`,children:p.jsx(Pn,{value:i,yScale:P.yScale,width:u,height:a,axisLabelPaneWidth:h,color:"#ccc",strokeWidth:1,strokeDasharray:"4,3",showPriceLabel:!1})}),!l&&P&&p.jsx("g",{clipPath:`url(#${t}-chart-clip)`,children:p.jsx(Ol,{id:t,yScale:P.yScale,interactive:!x,brushExtent:O,setBrushExtent:S,width:u,height:a,currentPrice:T})}),!w&&p.jsx(Dl,{yScale:P.yScale,width:u,height:a,axisLabelPaneWidth:h,min:s||0,max:o||1})]}),p.jsx(Fl,{data:y,current:i,quoteCurrency:e,baseCurrency:n,isMobile:g})]})}const lr=64,bs=452+lr,Ss=68,As=12,Ll=200,Hl=28,Wl=bs-Ss-As-lr,ni={rightAxisWidth:lr,chartContainerWidth:bs,liquidityChartWidth:Ss,interChartPadding:As,chartHeight:Ll,bottomAxisHeight:Hl,loadedPriceChartWidth:Wl},ri={chartContainerWidth:290,loadedPriceChartWidth:290};function ql(t){const{isApp:e}=Ae();return e?{...ni,chartContainerWidth:t?t-12:ri.chartContainerWidth,loadedPriceChartWidth:t?t-12:ri.loadedPriceChartWidth}:ni}function Xl(){const{fetchByApi:t}=bi(),[e,n]=M.useState([]),[r,i]=M.useState(!1);return{poolPriceData:e,getPoolPriceData:async(o,u,a,c,h)=>{try{i(!0);const m=await t(`${$s}?pool=${o}&period=${u}`,"GET"),f=m==null?void 0:m.showReverse,l=m==null?void 0:m.list,w=l==null?void 0:l.map(x=>{const d=c==null?void 0:c.decimals,g=h==null?void 0:h.decimals,_=mt.tickIndexToPrice(x==null?void 0:x.open,d,g).toNumber(),v=mt.tickIndexToPrice(x==null?void 0:x.close,d,g).toNumber(),b=mt.tickIndexToPrice(x==null?void 0:x.high,d,g).toNumber(),T=mt.tickIndexToPrice(x==null?void 0:x.low,d,g).toNumber();return{close:a?v:B(1).div(v).toNumber(),open:a?_:B(1).div(_).toNumber(),high:a?b:B(1).div(b).toNumber(),low:a?T:B(1).div(T).toNumber(),timestamp:B(x==null?void 0:x.timestamp).mul(1e3).toNumber()}});n(w)}catch(m){console.log("🚀 ~ getPoolPriceData ~ error:",m)}i(!1)},poolPriceDataLoading:r}}const Vl=[{label:"1D",key:"24H"},{label:"7D",key:"7D"},{label:"30D",key:"30D"}],ii=0,si=180,oi=80,Gl=.15,Fe=12;function Yl({quoteCurrency:t,baseCurrency:e,poolId:n,currentPrice:r,priceLower:i,priceUpper:s,setMinPrice:o,setMaxPrice:u,disableBrushInteraction:a=!1,isSorted:c,setFallbackRangePrices:h,isReverse:m,dashedMarkerLine:f}){var Pt,xt,fr;const{isApp:l}=Ae(),w=M.useRef(null),x=ql((Pt=w.current)==null?void 0:Pt.clientWidth),{setCurrentRange:d}=an(),{recommendRangesInfo:g}=Si(),[_,v]=M.useState("30D"),[b,T]=M.useState(1),[k,R]=M.useState(),[I,D]=M.useState(r),[O,z]=M.useState(!1),[L,F]=M.useState(0),[y,P]=M.useState(1),[S,E]=M.useState(null),j=M.useRef(null),[A,C]=M.useState(null),{poolPriceData:N,poolPriceDataLoading:$,getPoolPriceData:G}=Xl(),X=M.useCallback(Y=>{if(!j.current||!(N!=null&&N.length)||!k)return;const J=j.current.getBoundingClientRect(),_t=Y.clientX-J.left,Ne=Y.clientY-J.top,vn=J.width,Ce=J.height,re=0,Pe=x.rightAxisWidth+x.liquidityChartWidth+20,ie=vn-re-Pe,Ht=_t-re;if(Ht<0||Ht>ie){E(null);return}const $t=Math.round(Ht/ie*(N.length-1));if($t>=0&&$t<N.length){const se=N[$t].close,hr=k[1]-k[0],Me=(se-k[0])/hr,oe=Ce*(1-Me),dr=Ce*Gl;if(Math.abs(Ne-oe)<dr){const Rs=window.innerWidth,Ts=Y.clientX+si>Rs?Y.clientX-si-Fe:Y.clientX+Fe,Es=Y.clientY-oi<0?Y.clientY+Fe:Y.clientY-oi-Fe;E({x:Ts,y:Es,data:N[$t]}),C({x:_t,y:oe,price:se})}else E(null),C(null)}else E(null),C(null)},[N,k,x.rightAxisWidth,x.liquidityChartWidth]);M.useEffect(()=>{G(n,_,c,e,t)},[n,c]),M.useEffect(()=>{const Y=()=>{E(null),C(null)};return window.addEventListener("scroll",Y,!0),window.addEventListener("resize",Y),()=>{window.removeEventListener("scroll",Y,!0),window.removeEventListener("resize",Y)}},[]);const Q=M.useCallback(Y=>{v(Y.key),G(n,Y.key,c,e,t)},[G,n,c,e,t]),{formatPriceData:V,ticksPool:q,formatPriceDataIsLoading:K}=cn(),it=M.useMemo(()=>!(V&&!K&&!$),[V,K,$]),et=M.useMemo(()=>{let Y;return c?Y=V==null?void 0:V.map(J=>({...J,price:Number(J==null?void 0:J.price)})):Y=V==null?void 0:V.map(J=>{var _t;return{...J,price:(_t=B(1).div(J==null?void 0:J.price))==null?void 0:_t.toNumber()}}),Y},[c,V]);M.useMemo(()=>!K&&!(et!=null&&et.length),[et==null?void 0:et.length,K]);const ft=M.useMemo(()=>!(N!=null&&N.length),[N==null?void 0:N.length]),st=c?Et(i==null?void 0:i.displayPrice):Et(i==null?void 0:i.displayReversePrice),ht=c?Et(s==null?void 0:s.displayPrice):Et(s==null?void 0:s.displayReversePrice),jt=st==="∞"||ht==="∞",Lt=M.useMemo(()=>{if(!N||N.length===0)return{min:0,max:1};const Y=Math.min(...N.map(je=>je.close)),J=Math.max(...N.map(je=>je.close)),_t=r||1,Ne=.3,vn=_t*(1-Ne),Ce=_t*(1+Ne),re=jt?0:B(ht).minus(st).div(4).toNumber(),Pe=Math.min(Y,B(st==="∞"?vn:B(st).minus(re)).toNumber()),ie=Math.max(J,B(ht==="∞"?Ce:B(ht).plus(re)).toNumber()),Ht=(ie-Pe)*.1,$t=Math.max(0,Pe-Ht),se=ie+Ht,Me=(se-$t)/y,oe=($t+se)/2+L;return{min:Math.max(0,oe-Me/2),max:oe+Me/2}},[N,r,L,y,st,ht,jt]);M.useEffect(()=>{Lt&&R([Lt.min,Lt.max])},[Lt]);const Ee=!N||N.length<ii||!it&&!et||!it&&et&&et.length<ii;M.useEffect(()=>{Ee&&!a&&i===void 0&&s===void 0&&h()},[Ee,a,i,s,h]);const H=()=>{T(Y=>{const J=Y/1.2;return P(J),J})},nt=()=>{T(Y=>{const J=Y*1.2;return P(J),J})};return p.jsxs("div",{ref:w,style:{display:"flex",flexDirection:"column",gap:"16px",paddingTop:l?"16px":"0px"},onMouseEnter:()=>z(!0),onMouseLeave:()=>z(!1),children:[p.jsxs("div",{className:"relative",style:{height:x.chartHeight+x.bottomAxisHeight,width:"100%",position:"relative"},children:[!ft&&p.jsxs(jn,{w:"100%",justify:"flex-end",position:"absolute",gap:{base:"4px",lg:"8px"},...l?{top:"-36px",right:0}:{bottom:"-36px",right:"calc(50% - 90px)"},children:[p.jsx(Is,{type:"outlineTab",tabList:Vl,currentTab:_,handleChangeTab:Q,wrapStyle:{h:"28px",p:"3px",border:"1px solid",borderColor:"border",borderRadius:"8px",gap:"4px",zIndex:"99"},itemStyle:{h:"20px",p:"4px 12px",fontSize:"12px",borderRadius:"4px",gap:"4px"}}),p.jsxs(jn,{gap:"0",h:"28px",borderRadius:"8px",border:"1px solid",borderColor:"border",bg:"bg_nine",flexDir:{base:"row-reverse",lg:"row"},children:[p.jsx(me,{w:"28px",h:"26px",children:p.jsx($n,{xlinkHref:"#icon-a-icon_zoomout",onClick:nt})}),p.jsx(_i,{orientation:"vertical",h:"16px"}),p.jsx(me,{w:"28px",h:"26px",children:p.jsx($n,{xlinkHref:"#icon-a-icon_zoomin",onClick:H})})]})]}),!$&&!ft&&p.jsx(we,{w:"100%",h:x.chartHeight+x.bottomAxisHeight,overflow:"hidden",children:p.jsx(Ws,{width:"100%",height:"100%",children:p.jsxs(Vs,{data:N,margin:{top:0,left:0,right:x.rightAxisWidth+x.liquidityChartWidth+20,bottom:0},children:[p.jsx(qs,{dataKey:"timestamp",fontSize:"12px",axisLine:{stroke:"#2B3239",strokeWidth:2},tickLine:!1,tick:{fill:"#909CA4"},minTickGap:25,tickFormatter:Y=>{const J=new Date(Y);return pr(J,_==="24H"?"timeOnly":"day")}}),p.jsx(Xs,{domain:k?[k[0],k[1]]:void 0,hide:!0,allowDataOverflow:!0}),p.jsx(Gs,{type:"monotone",dataKey:"close",stroke:"#75C8FF",strokeWidth:2,fill:"url(#priceAreaGradient)",fillOpacity:.3,dot:!1,isAnimationActive:!1}),p.jsx("defs",{children:p.jsxs("linearGradient",{id:"priceAreaGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[p.jsx("stop",{offset:"0%",stopColor:"#75C8FF",stopOpacity:.6}),p.jsx("stop",{offset:"100%",stopColor:"#68FFD8",stopOpacity:0})]})})]})})}),!$&&!ft&&k&&p.jsx("div",{style:{position:"absolute",right:0,top:0,width:x.liquidityChartWidth+x.rightAxisWidth,height:x.chartHeight+x.bottomAxisHeight,pointerEvents:"auto",zIndex:2},children:p.jsx(ei,{data:{series:et,current:r??((xt=N[N.length-1])==null?void 0:xt.close),min:k[0],max:k[1]},disableBrush:!0,disableRightAxis:!1,disableBrushInteraction:!0,showDiffIndicators:!1,showTriangle:!1,dimensions:{width:x.liquidityChartWidth+x.rightAxisWidth,height:x.chartHeight,contentWidth:x.liquidityChartWidth,axisLabelPaneWidth:x.rightAxisWidth},onBrushDomainChange:()=>{},quoteCurrency:t,baseCurrency:e,isMobile:l})}),A&&p.jsx("div",{style:{position:"absolute",left:`${A.x}px`,top:`${A.y}px`,width:"8px",height:"8px",backgroundColor:"#75C8FF",border:"2px solid white",borderRadius:"50%",transform:"translate(-50%, -50%)",zIndex:4,pointerEvents:"none",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"}}),A&&p.jsx("div",{style:{position:"absolute",left:`${A.x}px`,top:"0px",width:"1px",height:`${x.chartHeight}px`,opacity:.5,zIndex:3,pointerEvents:"none",borderLeft:"1px dashed #75C8FF",backgroundColor:"transparent"}}),!$&&!ft&&k&&p.jsx("div",{ref:j,style:{position:"absolute",left:0,top:0,width:"100%",height:x.chartHeight,pointerEvents:"auto",zIndex:3,overflow:"hidden"},onMouseMove:X,onMouseLeave:()=>{E(null),C(null)},children:p.jsx(ei,{data:{series:et,current:r??((fr=N[N.length-1])==null?void 0:fr.close),min:k[0],max:k[1]},disableRightAxis:!0,disableBrushInteraction:a,showDiffIndicators:!1,hideLiquidityBars:!0,dimensions:{width:x.chartContainerWidth,height:x.chartHeight,contentWidth:x.chartContainerWidth,axisLabelPaneWidth:0},brushDomain:[Number(st),Number(ht)],onBrushDomainChange:(Y,J)=>{if(Y[0]<0)return;const _t=s!==void 0&&i!==void 0&&i.displayPrice>=0&&s.displayPrice>=0;!J&&_t||(o(Y[0]),u(Y[1]))},quoteCurrency:t,baseCurrency:e,isMobile:l,dashedMarkerLine:f,currentPrice:r,showTriangle:!0,disableBrush:jt,isFullRange:jt,isBrushInstance:!0})}),!$&&ft&&p.jsx(we,{w:"100%",h:x.chartHeight+20+"px",position:"absolute",top:"0px",left:"0",zIndex:99999999,children:p.jsx(go,{isFrom:"liquidity",text:ft?"Historical price data unavailable.":"There is no liquidity data."})}),it&&p.jsx(me,{w:"100%",h:x.chartHeight+x.bottomAxisHeight,position:"absolute",top:"0",left:"0",zIndex:99999999,children:p.jsx(Qn,{})})]}),S&&p.jsx(Cs,{children:p.jsx(zs,{position:"fixed",left:`${S.x}px`,top:`${S.y}px`,zIndex:99999999,fontSize:"12px",p:"8px 12px",borderRadius:"12px",pointerEvents:"none",transition:"all 0.1s ease",w:"auto",children:p.jsxs(_e,{align:"flex-start",spacing:"4px",children:[p.jsx(Mn,{color:"text_secondary",fontSize:"12px",children:pr(new Date(S.data.timestamp),_==="24H"?"second":"hour")}),p.jsxs(Mn,{color:"text_secondary",fontWeight:"500",fontSize:"12px",children:["Price: ",Bs(S.data.close)]})]})})})]})}var Kn=(t=>(t.LOWEST="100",t.LOW="500",t.MEDIUM="2500",t.HIGH="10000",t))(Kn||{}),at=(t=>(t.LOWER="LOWER",t.UPPER="UPPER",t))(at||{});const Zl={100:{initialMin:.99,initialMax:1.01,min:1e-5,max:1.5},500:{initialMin:.8,initialMax:1.25,min:1e-5,max:1.5},2500:{initialMin:.5,initialMax:1.5,min:1e-5,max:20},1e4:{initialMin:.5,initialMax:1.5,min:1e-5,max:20}},Kl=lt.path`
  opacity: ${({opacity:t})=>t||1}};
  stroke: ${({fill:t,theme:e})=>t??e.colors.failure};
  fill: ${({fill:t,theme:e})=>t??e.colors.failure};
`,Ul=({series:t,xScale:e,yScale:n,xValue:r,yValue:i,fill:s,opacity:o})=>{const u=M.useMemo(()=>{var v,b,T,k,R,I,D,O;const a=e.domain(),c=n.domain(),h=Number(((v=t==null?void 0:t[0])==null?void 0:v.price)||0)===Number(((b=t==null?void 0:t[1])==null?void 0:b.price)||0),m=Number(((T=t==null?void 0:t[h?1:0])==null?void 0:T.price)||0)>Number(((k=t==null?void 0:t[h?2:1])==null?void 0:k.price)||0),f=[...t];(f==null?void 0:f.length)>1&&(f[t.length-1]={...f[t.length-1],depth:f[t.length-2].depth});const l=B(a[1]).add(B(a[1]).sub(a[0]).div(100)).toNumber(),w=f.findIndex(({price:z})=>m?Number(z)<=l:Number(z)>=l),x=B(a[1]).sub(a[0]).div(100);m?w>=0&&((R=f[w-1])!=null&&R.depth)&&f.splice(w,0,{...f[w-1],price:B(a[1]).add(x).toNumber()}):w>=0&&((I=f[w])!=null&&I.depth)&&f.splice(w,0,{...f[w],price:l});const d=B(a[0]).add(B(a[1]).sub(a[0]).div(100)).toNumber(),g=f.findIndex(({price:z})=>m?Number(z)<=d:Number(z)>=d);m?g>=0&&((D=f[g])!=null&&D.depth)&&f.splice(g,0,{...f[g],price:d>0?d:0}):(g-1>=0&&((O=f[g-1])!=null&&O.depth)&&f.splice(g,0,{...f[g-1],price:d>0?d:0}),g===w&&f.splice(g+1,0,{...f[g+1],price:d>0?B(d).add(B(d).div(1e6)).toNumber():0}));const _=isNaN(c[1])?ke().domain([0,Math.max(...f.map(z=>z.depth))]).range([200,0]):n;return Ai().curve(Ri).x(z=>e(r(z))).y1(z=>_(i(z))).y0(_(0))(f.filter(z=>{const L=e(r(z));return _(i(z)),L>=0&&L<=window.innerWidth}))??void 0},[s,t,e,r,n,i]);return M.useMemo(()=>p.jsx(Kl,{fill:s,d:u,opacity:o}),[u])},Ql=lt.g`
  line {
    display: none;
  }
  text {
    transform: translateY(5px);
    font-family: 'Inter';
    font-size: 12px;
  }
`,Jl=({axisGenerator:t,isPosition:e})=>{const{colorMode:n}=Ps(),r=i=>{e?i&&U(i).call(t).call(s=>s.selectAll(".tick").remove()).call(s=>s.select(".domain").attr("d","M0 0 L658 0 Z").attr("stroke","#2A3238")):i&&U(i).call(t).call(s=>s.select(".domain").attr("d","M0 0 L658 0 Z").attr("stroke","#2A3238"))};return p.jsx("g",{ref:r,style:{color:n=="light"?"#000":"#909CA4",opacity:n=="light"?"0.5":"1"}})},tf=({xScale:t,innerHeight:e,offset:n=0,isPosition:r=!1})=>M.useMemo(()=>p.jsx(Ql,{transform:`translate(0, ${e+n})`,children:p.jsx(Jl,{axisGenerator:bo(t).ticks(5).tickSize(0),isPosition:r})}),[e,n,t,r]),ai=t=>["M 0 0",`v ${t}`,"m 1 0","V 0","M 0 1","h 10","q 2 0, 2 2","v 22","q 0 2 -2 2","h -10","z"].join(" "),ci=()=>["m 4 8","v 12","M 0 0","m 8 8","v 12","z"].join(" "),ui=({color:t,size:e=10,margin:n=10})=>p.jsx("polygon",{points:`0 0, ${e} ${e}, 0 ${e}`,transform:` translate(${e+n}, ${n}) rotate(45) `,fill:t,stroke:t,strokeWidth:"4",strokeLinejoin:"round"}),xe={colors:{background:"var(--chakra-colors-card_bg)",secondary:"#30D4B7",leftHandle:"#30D4B7",rightHandle:"#6297EA"}},li=lt.path`
  cursor: ew-resize;
  pointer-events: none;

  stroke-width: 3;
  stroke: ${({color:t})=>t};
  fill: ${({color:t})=>t};
`,fi=lt.path`
  cursor: ew-resize;
  pointer-events: none;

  stroke-width: 1.5;
  stroke: #fff;
  opacity: ${xe.colors.background};
  fill: ${xe.colors.background};
`,hi=lt.g`
  opacity: ${({visible:t})=>t?"1":"0"};
  transition: opacity 300ms;
`,di=lt.rect`
  fill: #192128;
`,pi=lt.rect`
  fill: #0f0f0f;
  stroke: #2a3238;
  stroke-width: 1;
`,gi=lt.rect`
  fill: #0f0f0f;
  stroke: #2a3238;
  stroke-width: 1;
`,mi=lt.text`
  text-anchor: middle;
  font-size: 13px;
  fill: #fff;
`,yi=20,xi=2,ef=(t,e,n)=>{const r=t.map(s=>n(s).toFixed(11)),i=e.map(s=>n(s).toFixed(11));return r.every((s,o)=>s===i[o])},fe=t=>t[0]<t[1]?t:[t[1],t[0]],nf=({id:t,xScale:e,interactive:n,brushLabelValue:r,brushExtent:i,setBrushExtent:s,innerWidth:o,innerHeight:u,westHandleColor:a,eastHandleColor:c,readonly:h,isSorted:m,isFullRange:f})=>{const l=M.useRef(null),w=M.useRef(null),[x,d]=M.useState(i),[g,_]=M.useState(!1),[v,b]=M.useState(!1),T=Zs(i),k=M.useRef(!1);M.useEffect(()=>{k.current||d(i)},[i]),M.useEffect(()=>{if(!l.current)return;const P=fe(i);w.current=Au().extent([[Math.max(0+xi,e(0)),0],[o-xi,u]]).handleSize(30).filter(()=>n).on("brush",S=>{const{selection:E}=S;if(k.current=!0,!E){d(null);return}const j=fe(E.map(e.invert));d(j)}).on("end",S=>{const{selection:E,mode:j}=S;if(!E){d(null),k.current=!1;return}const A=E;if(A!=null&&A.includes(NaN)||A!=null&&A.includes(1/0)||A!=null&&A.includes(-1/0)){console.warn("Invalid selection values detected:",E),k.current=!1;return}const C=fe(E.map(e.invert)),N=x[0]>1e-4?1e-4:x[0]*.01;!x||Math.abs(C[0]-x[0])>N||Math.abs(C[1]-x[1])>N?(console.log("🚀 ~ RangeChart Brush ~ significant change detected:",{old:P,new:C}),s(C,j)):console.log("🚀 ~ RangeChart Brush ~ no significant change, skipping update"),d(C),k.current=!1}),w.current(U(l.current)),T&&ef(i,T,e)&&U(l.current).transition().call(w.current.move,i.map(e)),U(l.current).selectAll(".selection").attr("stroke","none").attr("fill","rgba(118, 200, 255, 0.4)")},[i,t,u,o,n,T,e,s]),M.useEffect(()=>{!l.current||!w.current||w.current.move(U(l.current),fe(i).map(e))},[i,e]),M.useEffect(()=>{_(!0);const P=setTimeout(()=>_(!1),1500);return()=>clearTimeout(P)},[x]);const R=fe(x??i),I=e(R[0])>yi,D=e(R[1])>o-yi,O=e(R[0])<0||e(R[1])<0,z=e(R[0])>o||e(R[1])>o,L=e(R[0])>=0&&e(R[0])<=o,F=e(R[1])>=0&&e(R[1])<=o,{isApp:y}=Ae();return M.useMemo(()=>p.jsxs(p.Fragment,{children:[p.jsxs("defs",{children:[p.jsxs("linearGradient",{id:`${t}-gradient-selection`,x1:"0%",y1:"100%",x2:"100%",y2:"100%",children:[p.jsx("stop",{stopColor:a}),p.jsx("stop",{stopColor:c,offset:"1"})]}),p.jsx("clipPath",{id:`${t}-brush-clip`,children:p.jsx("rect",{x:"0",y:"0",width:o,height:u})})]}),p.jsx("g",{ref:l,clipPath:`url(#${t}-brush-clip)`,onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1)}),R&&p.jsxs(p.Fragment,{children:[!h&&L?p.jsxs("g",{transform:`translate(${Math.max(0,e(R[0]))}, 0), scale(${I?"-1":"1"}, 1)`,children:[p.jsxs("g",{children:[p.jsx(li,{color:xe.colors.leftHandle,d:ai(u)}),p.jsx(fi,{d:ci()})]}),p.jsxs(hi,{transform:`translate(${y?"10 35":"50,0"}), scale(${I?"1":"-1"}, 1)`,visible:g||v,children:[p.jsx(di,{y:"0",x:"-30",height:"28",width:"60",rx:"8"}),m?p.jsx(pi,{y:"0",x:"-30",height:"28",width:"60",rx:"8"}):p.jsx(gi,{y:"0",x:"-30",height:"28",width:"60",rx:"8"}),p.jsx(mi,{transform:"scale(-1, 1)",y:"15",dominantBaseline:"middle",children:f?"0":r("w",R[0])})]})]}):null,!h&&F?p.jsxs("g",{transform:`translate(${e(R[1])}, 0), scale(${D?"-1":"1"}, 1)`,children:[p.jsxs("g",{children:[p.jsx(li,{color:xe.colors.rightHandle,d:ai(u)}),p.jsx(fi,{d:ci()})]}),p.jsxs(hi,{transform:`translate(${y?"10 35":"50,0"}), scale(${D?"-1":"1"}, 1)`,visible:g||v,children:[p.jsx(di,{y:"0",x:"-30",height:"28",width:"60",rx:"8"}),m?p.jsx(gi,{y:"0",x:"-30",height:"28",width:"60",rx:"8"}):p.jsx(pi,{y:"0",x:"-30",height:"28",width:"60",rx:"8"}),p.jsx(mi,{y:"15",dominantBaseline:"middle",children:f?"∞":r("e",R[1])})]})]}):null,O&&p.jsx(ui,{color:a}),z&&p.jsx("g",{transform:`translate(${o}, 0) scale(-1, 1)`,children:p.jsx(ui,{color:c})})]})]}),[r,c,F,D,I,v,t,xe,u,o,R,z,g,O,a,L,e,y])},rf=lt.line`
  opacity: 0.7;
  stroke-width: 1;
  stroke: var(--chakra-colors-text_caption);
  fill: none;
`,sf=({value:t,xScale:e,innerHeight:n})=>M.useMemo(()=>p.jsx(rf,{x1:e(t),y1:"0",x2:e(t),y2:n,strokeDasharray:"4,3"}),[t,e,n]);lt.line`
  opacity: 1;
  stroke-width: 2;
  stroke: #fff;
  fill: none;
`;const of=({value:t,xScale:e,innerHeight:n})=>M.useMemo(()=>p.jsxs("g",{children:[p.jsx("circle",{cx:e(Number(t)),cy:"4",fill:"#fff",r:"4"}),p.jsx("line",{x1:e(Number(t)),y1:"0",x2:e(t),y2:n,stroke:"#fff",strokeWidth:2})]}),[t,e,n]);lt.div`
  display: grid;
  grid-template-columns: repeat(${({count:t})=>t.toString()}, 1fr);
  grid-gap: 6px;

  position: absolute;
  top: -18px;
  right: 0;
`;const af=lt.rect`
  fill: transparent;
  cursor: grab;

  &:active {
    cursor: grabbing;
  }
`;function cf({svg:t,xScale:e,setZoom:n,width:r,height:i,resetBrush:s,showResetButton:o,zoomLevels:u,isPosition:a,handleClickRefresh:c,currentRange:h,isApp:m}){const f=M.useRef(),{setCurrentRange:l}=an(),{recommendRangesInfo:w}=Si(),[x,d,g,_]=M.useMemo(()=>[()=>{t&&f.current&&U(t).transition().call(f.current.scaleBy,2)},()=>t&&f.current&&U(t).transition().call(f.current.scaleBy,.5),()=>t&&f.current&&U(t).transition().call(f.current.scaleTo,1),()=>t&&f.current&&U(t).call(f.current.transform,ir.translate(0,0).scale(1)).transition().call(f.current.scaleTo,1)],[t]),v=Ds(n,300);return M.useEffect(()=>{t&&(f.current=ju().scaleExtent([0,1/0]).extent([[0,0],[r,i]]).on("zoom",({transform:b})=>{v(b)}),U(t).call(f.current))},[i,r,n,t,f,u.max,u.min]),M.useEffect(()=>{g()},[g,u]),M.useEffect(()=>{_()},[h]),p.jsx(Un,{w:"100%",p:"0px",align:"center",opacity:a?0:1,sx:{"@media screen and (max-width: 960px)":{flexDirection:"column",w:"100%",alignItems:a?"flex-start":"flex-end"}},children:p.jsxs(jn,{justify:{base:"flex-start",lg:"flex-end"},flex:"1",position:"absolute",right:"0px",top:{base:"-5px",lg:"-46px"},flexDir:{base:"row-reverse",lg:"row"},gap:"0",h:"28px",borderRadius:"8px",border:"1px solid",borderColor:"border",bg:"bg_nine",children:[p.jsx(vi,{type:"Add",onClick:()=>{console.log("start zoom in"),x()}}),p.jsx(_i,{orientation:"vertical",h:"16px"}),p.jsx(vi,{type:"Sub",onClick:d})]})})}function vi(t){const{type:e,onClick:n}=t;return p.jsx(me,{w:"28px",h:"26px",children:p.jsx($n,{xlinkHref:e==="Add"?"#icon-a-icon_zoomout":"#icon-a-icon_zoomin",onClick:n})})}const uf=t=>t.price,wi=t=>t.depth;function lf({id:t="liquidityChartRangeInput",data:{series:e,current:n},ticksAtLimit:r,styles:i,dimensions:{width:s,height:o},margins:u,interactive:a=!0,brushDomain:c,brushLabels:h,onBrushDomainChange:m,handleClickRefresh:f,zoomLevels:l,showZoomButtons:w=!0,isPosition:x=!1,hideBrush:d=!1,isReverse:g=!1,isSorted:_=!0,readonly:v=!1,dashedMarkerLine:b=[],currentRange:T="",constantPrice:k,isApp:R}){const I=M.useRef(null),[D,O]=M.useState(null),[z,L]=M.useMemo(()=>[o-u.top-u.bottom,s-u.left-u.right],[s,o,u]),{xScale:F,yScale:y}=M.useMemo(()=>{let j=[k*l.initialMin,k*l.initialMax];if(c&&String(c==null?void 0:c[0])!=="∞"&&String(c==null?void 0:c[1])!=="∞")if((c==null?void 0:c[0])===(c==null?void 0:c[1]))j=[Number(c==null?void 0:c[0])-(c==null?void 0:c[0])*.01,Number(c==null?void 0:c[0])+(c==null?void 0:c[0])*.01];else{const C=Ys(c);x?B(k).lt(c[0])?j=[B(k).minus(C).toNumber(),B(c[1]).plus(C).toNumber()]:B(k).gt(c[1])?j=[B(c[0]).minus(C).toNumber(),B(k).plus(B(C).mul(1.5)).toNumber()]:j=[B(c[0]).minus(C).toNumber(),B(c[1]).plus(C).toNumber()]:j=[B(c[0]).minus(C).toNumber(),B(c[1]).plus(C).toNumber()]}else Number(k)-k*2>0?j=[Math.max(B(0).add(B(k).div(10)).toNumber(),B(k).minus(B(k).mul(2)).toNumber()),B(k).add(B(k).mul(2)).toNumber()]:j=[0,B(k).mul(2).toNumber()];const A={xScale:ke().domain(j).range([0,L]),yScale:ke().domain([0,Hs(e,wi)]).range([z,0])};if(D){const C=D.rescaleX(A.xScale);A.xScale.domain(C.domain())}return A},[k,l.initialMin,l.initialMax,L,e,z,D,c]);M.useEffect(()=>{O(null)},[l,T]),M.useEffect(()=>{c||m(F.domain(),void 0)},[c,m,F]);const[P,S]=M.useState(void 0);return M.useEffect(()=>{S(I.current)},[I.current]),p.jsxs(_e,{w:"100%",h:"100%",sx:{"@media screen and (max-width: 1000px)":{display:"block"}},children:[!x&&P&&p.jsx(cf,{svg:P,xScale:F,setZoom:O,width:L,height:o,resetBrush:()=>{m([k*l.initialMin,k*l.initialMax],"reset")},showResetButton:!!(r[at.LOWER]||r[at.UPPER]),zoomLevels:l,isPosition:x,currentRange:T,handleClickRefresh:f,isApp:R}),p.jsxs("svg",{width:"100%",height:"245px",style:{overflow:"visible"},children:[p.jsxs("defs",{children:[p.jsxs("linearGradient",{id:"green-gradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[p.jsx("stop",{offset:"5%",stopColor:"var(--chakra-colors-range_chart_bg)",stopOpacity:1}),p.jsx("stop",{offset:"100%",stopColor:"var(--chakra-colors-range_chart_bg)",stopOpacity:1})]}),p.jsxs("linearGradient",{id:"red-gradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[p.jsx("stop",{offset:"5%",stopColor:"var(--chakra-colors-range_chart_bg)",stopOpacity:1}),p.jsx("stop",{offset:"100%",stopColor:"var(--chakra-colors-range_chart_bg)",stopOpacity:1})]})]}),p.jsxs("defs",{children:[p.jsx("clipPath",{id:`${t}-chart-clip`,children:p.jsx("rect",{x:"0",y:"0",width:L,height:o})}),c&&p.jsx("mask",{id:`${t}-chart-area-mask`,children:p.jsx("rect",{fill:"red",x:F(c[0]),y:"0",width:F(c[1])-F(c[0]),height:z})})]}),p.jsxs("g",{transform:`translate(${u.left},${u.top})`,children:[p.jsxs("g",{clipPath:`url(#${t}-chart-clip)`,children:[p.jsx(Ul,{series:e,xScale:F,yScale:y,xValue:uf,yValue:wi,opacity:1,fill:"#195780"}),p.jsx(of,{value:n,xScale:F,innerHeight:z}),b==null?void 0:b.map((E,j)=>p.jsx(sf,{value:Number(Et(E)),xScale:F,innerHeight:z},E+j)),p.jsx(tf,{xScale:F,innerHeight:z,isPosition:x})]}),p.jsx(af,{className:"zoom-overlay",width:L,height:o,ref:I}),p.jsx(nf,{id:t,xScale:F,interactive:a,brushLabelValue:h,brushExtent:c??F.domain(),innerWidth:L,innerHeight:z,setBrushExtent:m,westHandleColor:i.brush.handle.west,eastHandleColor:i.brush.handle.east,readonly:v,isSorted:_,isFullRange:!c})]})]})]})}const ff=M.forwardRef(function({isFrom:e,isSorted:n,contractPoolInfo:r,currencyA:i,currencyB:s,feeAmount:o,ticksAtLimit:u,price:a,priceLower:c,priceUpper:h,onLeftRangeInput:m,onRightRangeInput:f,onBothRangeInput:l,handleClickRefresh:w,interactive:x,readonly:d,zoomLevel:g,isPosition:_,hideBrush:v,isReverse:b,dashedMarkerLine:T,currentRange:k},R){const{formatPriceData:I,ticksPool:D,formatPriceDataIsLoading:O}=cn(),z=M.useMemo(()=>!(I&&!O),[I]),L=M.useMemo(()=>{let N;return n?N=I:N=I==null?void 0:I.map($=>{var G;return{...$,price:(G=B(1).div($==null?void 0:$.price))==null?void 0:G.toString()}}),N},[n,I]),F=M.useMemo(()=>n?D==null?void 0:D.price:D==null?void 0:D.reversePrice,[D==null?void 0:D.id,n]),y=M.useCallback((N,$)=>{if(!$)return;const G=Number(N[0]),X=Number(N[1]),Q=(!u[n?at.LOWER:at.UPPER]||$==="handle"||$==="reset")&&G>=0,V=(!u[n?at.UPPER:at.LOWER]||$==="reset")&&X>0&&X<1e35;if(Q&&V){const q=parseFloat(G.toFixed(20)),K=parseFloat(X.toFixed(20));q>=0&&K>0&&q<K&&l({leftTypedValue:B(G).toString(),rightTypedValue:B(X).toString()})}else Q?m(B(G).toString()):V&&f(B(X).toString())},[n,l,m,f,u]),P=M.useMemo(()=>{const N=n?Et(c==null?void 0:c.price):Et(c==null?void 0:c.reversePrice),$=n?Et(h==null?void 0:h.price):Et(h==null?void 0:h.reversePrice);if($!=="∞")return N&&$?[Number(N),Number($)]:void 0},[n,c==null?void 0:c.displayPrice,h==null?void 0:h.displayPrice,a]),S=M.useCallback((N,$)=>{if(!a)return"";if(N==="w"&&(u[n?at.LOWER:at.UPPER]||!P))return"0";if(N==="e"&&(u[n?at.UPPER:at.LOWER]||!P))return"∞";const G=(B($).lt(a)?-1:1)*((Math.max(Number($),Number(a))-Math.min(Number($),Number(a)))/Number(a))*100;return Number(a)?`${Ti(Math.abs(G)>1?".2~s":".2~f")(G)}%`:""},[n,a,u,P]),E=!i||!s||L===void 0&&!z,j=M.useRef(null),{isApp:A,windowWidth:C}=Ae();return p.jsx(_e,{w:"100%",h:"100%",flex:1,gap:"14px",position:"relative",ref:j,children:E||z||!L||!a?p.jsx(we,{h:"100%",pt:e=="position"?"30px":"150px",children:p.jsx(Qn,{})}):p.jsx(Un,{w:"100%",h:"100%",position:"relative",justify:"center",align:"center",pt:A&&e!=="position"?"40px":"0px",children:p.jsx(lf,{data:{series:L,current:a},dimensions:{width:e=="position"?A?300:270:A?C-40:498,height:e=="position"?146:A?200:230},margins:{top:10,right:20,bottom:e=="position"?50:20,left:10},styles:{area:{selection:"var(--chakra-colors-text_caption)"},brush:{handle:{west:"#30D4B7",east:"#6297EA"}}},interactive:x&&!!(L!=null&&L.length),brushLabels:S,brushDomain:P,onBrushDomainChange:y,zoomLevels:g??Zl[o??Kn.MEDIUM],ticksAtLimit:u,isPosition:e==="position",hideBrush:v,isReverse:b,isSorted:n,readonly:d,dashedMarkerLine:T,handleClickRefresh:w,currentRange:k,constantPrice:F,isApp:A},`${o??Kn.MEDIUM}`)})})}),hf=443636,df=-443636,Cf=M.forwardRef(function(e,n){const{handleClickRefresh:r,minPriceData:i,maxPriceData:s,direct:o,readonly:u,isFrom:a,dashedMarkerLine:c,currentRange:h,liquidityChartTab:m}=e,{contractPoolInfo:f,apiPoolInfo:l,currentPriceData:w}=an(),{lowerTickData:x,upperTickData:d}=Ci(),{setTickDataBasedOnPrice:g}=co(),{formatPriceDataIsLoading:_,ticksPool:v,formatPriceData:b}=cn();M.useMemo(()=>f==null?void 0:f.tickSpacing,[f==null?void 0:f.tickSpacing]);const T="100",k=M.useMemo(()=>Number(T)&&(f!=null&&f.tickSpacing)?{[at.LOWER]:mt.getInitializeTickIndex(hf,Number(f==null?void 0:f.tickSpacing)),[at.UPPER]:mt.getInitializeTickIndex(df,Number(f==null?void 0:f.tickSpacing))}:{[at.LOWER]:void 0,[at.UPPER]:void 0},[T]),R=M.useMemo(()=>({[at.LOWER]:x.tick===k.LOWER,[at.UPPER]:(d==null?void 0:d.tick)===k.UPPER}),[k,x,d,T]),I=!0,D=void 0,O=({leftTypedValue:A,rightTypedValue:C})=>{$e(A,6)!==(o?x==null?void 0:x.displayPrice:d==null?void 0:d.displayReversePrice)&&g(o?x:d,o?A:B(1).div(A).toString()),$e(C,6)!==(o?d==null?void 0:d.displayPrice:x.displayReversePrice)&&g(o?d:x,o?C:B(1).div(C).toString())},z=A=>{console.log("🚀 ~ file: LiquidityRangeChart.tsx:88 ~ onLeftRangeInput ~ typedValue:",A)},L=A=>{console.log("🚀 ~ file: LiquidityRangeChart.tsx:96 ~ onRightRangeInput ~ typedValue:",A)},F=M.useRef(null);M.useImperativeHandle(n,()=>{var A;return{depthChartRefreshData:(A=F.current)==null?void 0:A.depthChartRefreshData}});const{getFormattedData:y}=ho(),[P,S]=M.useState(!0);M.useEffect(()=>{f!=null&&f.poolAddress&&(f==null?void 0:f.poolAddress)===(l==null?void 0:l.poolAddress)&&y({poolAddress:f==null?void 0:f.poolAddress,tokenA:l==null?void 0:l.tokenA,tokenB:l==null?void 0:l.tokenB,tickSpacing:f==null?void 0:f.tickSpacing,currentTickIndex:f==null?void 0:f.current_tick_index,liquidity:f==null?void 0:f.liquidity,feeRate:B(l==null?void 0:l.feeRate).mul(100).toString()||(f==null?void 0:f.fee_rate)})},[f==null?void 0:f.poolAddress,l==null?void 0:l.poolAddress]),M.useEffect(()=>{a==="position"&&!_&&(b==null?void 0:b.length)>0&&S(!1)},[a,_,b==null?void 0:b.length]);const E=A=>{A!==void 0&&$e(A,6)!==(o?x==null?void 0:x.displayPrice:d==null?void 0:d.displayReversePrice)&&g(o?x:d,o?A:B(1).div(A).toString())},j=A=>{A!==void 0&&$e(A,6)!==(o?d==null?void 0:d.displayPrice:x.displayReversePrice)&&g(o?d:x,o?A:B(1).div(A).toString())};return p.jsxs(_e,{w:"100%",h:"100%",position:"relative",children:[u&&p.jsx(we,{w:"100%",h:"100%",position:"absolute",left:"0px",top:"0px",bg:"rgba(0,0,0,0)",zIndex:"99999"}),(!P&&a==="position"||!_&&a!=="position")&&(i!=null&&i.id)&&(s!=null&&s.id)?p.jsx(_e,{w:"100%",h:"100%",gap:"0px",children:m==="prices"?p.jsx(we,{position:"relative",zIndex:1e3,w:"100%",h:"100%",pt:"16px",children:p.jsx(Yl,{isSorted:o,isReverse:!!(l!=null&&l.isReverse),quoteCurrency:l==null?void 0:l.tokenB,baseCurrency:l==null?void 0:l.tokenA,poolId:(l==null?void 0:l.poolAddress)||"",currentPrice:o?w.currentPrice:w.reverseCurrentPrice,priceLower:i,priceUpper:s,setMinPrice:E,setMaxPrice:j,setFallbackRangePrices:()=>{},dashedMarkerLine:c==null?void 0:c.filter(A=>A!=="-")})}):p.jsx(ff,{isFrom:a,ref:F,isSorted:o,contractPoolInfo:f,currencyA:l==null?void 0:l.tokenA,currencyB:l==null?void 0:l.tokenB,feeAmount:T,ticksAtLimit:R,price:o?w.currentPrice:w.reverseCurrentPrice,priceLower:i,priceUpper:s,interactive:I,zoomLevel:D,isReverse:l==null?void 0:l.isReverse,readonly:u,dashedMarkerLine:c==null?void 0:c.filter(A=>A!=="-"),onBothRangeInput:O,onLeftRangeInput:z,onRightRangeInput:L,handleClickRefresh:r,currentRange:h})}):p.jsx(me,{w:"100%",h:"100%",mt:"20px",children:p.jsx(Qn,{})})]})});function Pf({label:t,value:e,loading:n}){const{isApp:r}=Ae();return r?p.jsx(Ks,{label:t,value:e,labelStyle:{fontSize:"12px"},valueStyle:{fontSize:"14px",h:"14px",fontWeight:"500"},isLoading:n,skeletonStyle:{valueW:"60px"}}):p.jsx(Us,{wrapStyle:{gap:"8px",alignItems:"flex-end"},titleStyle:{fontSize:"12px"},valueStyle:{fontSize:"14px",fontWeight:"500"},title:t,value:e,isLoading:n,skeletonStyle:{valueW:"60px",valueH:"14px"}})}export{Cf as L,po as N,Pf as S,ho as a,co as b,Ci as u};
