import{i as v,ax as e,ay as T,az as d,aA as S,aB as p,aC as F,n as w,f as M,b as k,aD as y}from"./index-ihcskjKt.js";import"./cross-CbhIs7DK.js";import"./vendor-CBmAETR3.js";import{u as A}from"./useGetDlmmPoolList-x-FGvX6E.js";import{u as C}from"./useWrapPoolData-CzWcfmSl.js";import{a as W}from"./utils-GUDa3Y46.js";const x=(t,c)=>({dlmmPoolRefreshStatus:"pending",setDlmmPoolRefreshStatus:o=>{t(()=>({dlmmPoolRefreshStatus:o}))},isDlmmWatchList:void 0,setIsDlmmWatchList:o=>{t(()=>({isDlmmWatchList:o})),e.setItem(F,o)},isDlmmAllPools:!1,setIsDlmmAllPools:o=>{t(()=>({isDlmmAllPools:o})),e.setItem(p,o)},isDlmmIncentivizedOnly:!1,setIsDlmmIncentivizedOnly:o=>{t(()=>({isDlmmIncentivizedOnly:o})),e.setItem(S,o)},dlmmPoolFavoriteIds:[],setDlmmPoolFavoriteId:o=>{const a=[...c().dlmmPoolFavoriteIds,o];t(()=>({dlmmPoolFavoriteIds:a})),e.setItem(d,a)},setDlmmPoolFavoriteIds:o=>{t(()=>({dlmmPoolFavoriteIds:o})),e.setItem(d,o)},dlmmPoolFavoriteIdsChange:!1,setDlmmPoolFavoriteIdsChange:o=>{t(()=>({dlmmPoolFavoriteIdsChange:o}))},dlmmPoolListIsLoading:!0,setDlmmPoolListIsLoading:o=>{t(()=>({dlmmPoolListIsLoading:o}))},selectCoinList:[],setSelectCoinList:o=>{t(()=>({selectCoinList:o})),e.setItem(T,o)},dlmmPoolList:[],setDlmmPoolList:o=>{t(()=>({dlmmPoolList:o}))},dlmmPoolListLength:"",setDlmmPoolListLength:o=>{t(()=>({dlmmPoolListLength:o}))},tutorialOpen:!1,setTutorialOpen:o=>{t(()=>({tutorialOpen:o}))},resetPoolFilterParams:()=>{t(()=>({isDlmmWatchList:void 0,isDlmmAllPools:!1,isDlmmIncentivizedOnly:!1}))}}),n=v(x);e.getItem(d).then(t=>{console.log("ðŸš€ ~ file: store/pool/index.ts.ts ~ savedPoolFavoriteList:",t),(t==null?void 0:t.length)>0&&n.getState().setDlmmPoolFavoriteIds(t==null?void 0:t.filter(Boolean))});e.getItem(F).then(t=>{console.log("ðŸš€ ~ VariousTokensTable isWatchList:",t),typeof t=="boolean"?n.getState().setIsDlmmWatchList(t):n.getState().setIsDlmmWatchList(!1)});e.getItem(p).then(t=>{console.log("ðŸš€ ~ VariousTokensTable isAllPools:",t),typeof t=="boolean"&&n.getState().setIsDlmmAllPools(t)});e.getItem(S).then(t=>{console.log("ðŸš€ ~ VariousTokensTable isIncentivizedOnly:",t),typeof t=="boolean"&&n.getState().setIsDlmmIncentivizedOnly(t)});e.getItem(T).then(t=>{console.log("ðŸš€ ~ VariousTokensTable poolSelectCoinList:",t),t&&t.length>0&&n.getState().setSelectCoinList(t)});function Y(){const{fetchByApi:t}=w();M("dlmm");const{getLocalJsonPoolList:c}=A(),{wrapDLmmPoolData:o}=C(),{dlmmPoolFavoriteIds:a,setDlmmPoolFavoriteId:O,setDlmmPoolFavoriteIds:_,setDlmmPoolFavoriteIdsChange:g}=n(),{successTsToast:P,failedTsToast:b}=k();return{addFavorites:l=>{const i={linkLabel:"",getShowInfo:()=>({toastTitleText:a.length>=100?"Watchlist exceeds the maximum limit":"Added to Watchlist"})};a.length>=100?b(i):(O(l),g(!0),P(i))},removeFavorites:l=>{const i=a==null?void 0:a.filter(r=>r!==l);_(i),g(!0),P({linkLabel:"",getShowInfo:()=>({toastTitleText:"Removed from Watchlist"})})},getFavoritePoolList:async l=>{var D,u,L,h;const{needLocalData:i=!0}=l,I=(l==null?void 0:l.pools)||[],r=W(l);if(I.length>0)try{const s=await t(y,"POST",r);if((D=s==null?void 0:s.data)!=null&&D.list){const m=(L=(u=s==null?void 0:s.data)==null?void 0:u.list)==null?void 0:L.map(f=>o(f));return{list:m==null?void 0:m.map(f=>({...f,showTokenName:!0})),total:(h=s==null?void 0:s.data)==null?void 0:h.total}}}catch{if(i){const m=await c(l,!1);return console.log("ðŸš€ ~ getFavoritePoolList ~ localList:",m),{list:m.list,total:m.total}}}return{list:[],total:0}}}}export{Y as a,n as u};
//# sourceMappingURL=useFavoriteDlmmPool-Kbo6eRe5.js.map
