{"version":3,"file":"useCreatePoolHelper-5n00jG70.js","sources":["../../src/hooks/create-pool/useCreatePoolHelper.ts"],"sourcesContent":["import { FeeTier } from '@/components/selectPool/type'\nimport usePosAdd from '@/hooks/position/usePosAdd'\nimport { MsafeTransactionSubType, PreCreateDLMMRes, preCreateRes } from '@/types'\nimport { getFeeTierList } from '@/utils/clmm'\nimport { getBaseFeeList } from '@/utils/dlmm'\nimport { getReversePrice } from '@/utils/pool'\nimport { clmmDefaultFeeOptions, dlmmDefaultFeeOptions } from '@cetus/design/src/components/common/feeSelect/config'\nimport { useSdk } from '@cetus/sdk-factory'\nimport { Token } from '@cetus/types'\nimport { amountToBN, d } from '@cetus/utils'\nimport { getNearestTickByTick, TickMath, TickUtil } from '@cetusprotocol/common-sdk'\nimport { Transaction } from '@mysten/sui/transactions'\nimport { useMemo } from 'react'\nimport useGetDlmmPoolList from '../pool/useGetDlmmPoolList'\nimport useGetPoolList from '../pool/useGetPoolList'\nimport useWrapPoolData from '../pool/useWrapPoolData'\n\nexport default function useCreatePoolHelper() {\n  const clmmSdk = useSdk('clmm')\n  const dlmmSdk = useSdk('dlmm')\n  const { preAdd } = usePosAdd()\n  const { getPoolList } = useGetPoolList()\n  const { getDlmmPoolList } = useGetDlmmPoolList()\n  const { wrapDLmmPoolData } = useWrapPoolData()\n  const slippage = 0.05\n\n  /**\n   * èŽ·å–fee tier list\n   * @param baseCoinType\n   * @param quoteCoinType\n   * @returns\n   */\n  const fetchFeeTierList = async (baseCoinType: string, quoteCoinType: string) => {\n    try {\n      if (baseCoinType && quoteCoinType) {\n        const res = await getPoolList({\n          coin_type: `${baseCoinType},${quoteCoinType}`,\n          is_vaults: false,\n          display_all_pools: true,\n          has_mining: true,\n          has_farming: true,\n          no_incentives: true,\n          order_by: '-vol',\n          offset: 0\n        })\n        if (res && res.list && res.list.length > 0) {\n          const feeTierList = getFeeTierList(res.list) as FeeTier[]\n          const result = clmmDefaultFeeOptions?.map(item => {\n            const _pool = feeTierList.find(feeTier => feeTier.feeRate === item.feeRate)\n            return {\n              ...item,\n              title: _pool?.title || item.title,\n              poolAddress: _pool?.poolAddress,\n              liquidity: _pool?.liquidity,\n              tvl: _pool?.tvl\n            }\n          })\n\n          const feeIndex = result.findIndex((ele: any) => ele.feeDisplay === '0.001%' && !ele.poolAddress)\n          return result.filter((ele, index) => Number(index) !== feeIndex)\n        } else {\n          return clmmDefaultFeeOptions.filter(ele => ele.feeDisplay !== '0.001%')\n        }\n      }\n    } catch (error) {\n      console.log('ðŸš€ ~ fetchFeeTierList ~ fetchFeeTierList:', error)\n    }\n    return [...clmmDefaultFeeOptions]\n  }\n\n  // åˆ›å»ºæ± å­é¢„è®¡ç®—\n  const preAddPool = (params: {\n    realTokenA: Token\n    realTokenB: Token\n    needReverse: boolean\n    price: string\n    tickSpacing: number\n    minPrice: string\n    maxPrice: string\n    amount: string\n    amountCoinType: string\n  }): preCreateRes => {\n    const { tickSpacing, price, minPrice, maxPrice, amount, amountCoinType, realTokenA, realTokenB, needReverse } = params\n    const currentSqrtPrice = TickMath.priceToSqrtPriceX64(d(price), realTokenA.decimals, realTokenB.decimals).toString()\n\n    const currTick = TickMath.priceToTickIndex(d(price), realTokenA.decimals, realTokenB.decimals).toString()\n\n    const decimalsA = realTokenA.decimals\n    const decimalsB = realTokenB.decimals\n\n    let lowerTick, upperTick\n    if (minPrice === '0' && maxPrice === 'âˆž') {\n      lowerTick = TickUtil.getMinIndex(tickSpacing)\n      upperTick = TickUtil.getMaxIndex(tickSpacing)\n    } else {\n      const min = !needReverse ? minPrice : getReversePrice(maxPrice)\n      const max = !needReverse ? maxPrice : getReversePrice(minPrice)\n      const realMintTick = TickMath.priceToTickIndex(d(min), realTokenA.decimals, realTokenB.decimals).toString()\n      console.log('ðŸš€ ~ file: useCreatePoolHelper.ts:103 ~ useCreatePoolHelper ~ realMintTick:', realMintTick)\n\n      lowerTick = getNearestTickByTick(TickMath.priceToTickIndex(d(min), decimalsA, decimalsB), tickSpacing)\n      upperTick = getNearestTickByTick(TickMath.priceToTickIndex(d(max), decimalsA, decimalsB), tickSpacing)\n    }\n\n    console.log('ðŸš€ ~ file: useCreatePoolHelper.ts:87 ~ useCreatePoolHelper ~ params:', {\n      ...params,\n      currentSqrtPrice,\n      lowerTick,\n      upperTick,\n      currTick\n    })\n\n    const isTokenA = amountCoinType === realTokenA?.coin_type\n    const amountBN = amountToBN(amount, isTokenA ? decimalsA : decimalsB).toString()\n    const res = preAdd({\n      amount: amountBN,\n      tokenA: realTokenA,\n      tokenB: realTokenB,\n      isTokenA,\n      lowerTick,\n      upperTick,\n      curSqrtPrice: currentSqrtPrice,\n      isReverse: needReverse,\n      roundUp: true\n    })\n    console.log('ðŸš€ -----------------------------------------------------------------------ðŸš€')\n    console.log('ðŸš€ ~ file: useCreatePoolHelper.ts:128 ~ useCreatePoolHelper ~ res:', res)\n    console.log('ðŸš€ -----------------------------------------------------------------------ðŸš€')\n\n    return {\n      ...res,\n      currentSqrtPrice,\n      fixAmountA: isTokenA,\n      lowerTick,\n      upperTick,\n      tickSpacing,\n      coinTypeA: realTokenA.coin_type,\n      coinTypeB: realTokenB.coin_type\n    }\n  }\n\n  /**\n   * èŽ·å–åˆ›å»ºCLMMæ± å­tx\n   * @param params\n   * @returns\n   */\n  const getCreatePoolTxPayload = async (params: preCreateRes) => {\n    console.log('ðŸš€ ~ file: useCreatePoolHelper.ts:140 ~ getCreatePoolTxPayload ~ params:', params)\n    const { tickSpacing, currentSqrtPrice, fixAmountA, coinAmountAOrigin, coinAmountBOrigin, lowerTick, upperTick, coinTypeA, coinTypeB } = params\n\n    const metaDataA: any = await clmmSdk!.FullClient.fetchCoinMetadataId(coinTypeA)\n    const metaDataB: any = await clmmSdk!.FullClient.fetchCoinMetadataId(coinTypeB)\n\n    const parameter = {\n      tick_spacing: tickSpacing,\n      initialize_sqrt_price: currentSqrtPrice,\n      uri: '',\n      fix_amount_a: fixAmountA,\n      amount_a: coinAmountAOrigin,\n      amount_b: coinAmountBOrigin,\n      tick_lower: lowerTick,\n      tick_upper: upperTick,\n      coin_type_a: coinTypeA,\n      coin_type_b: coinTypeB\n      // metadata_a: metaDataA,\n      // metadata_b: metaDataB\n    }\n\n    const tx = await clmmSdk!.Pool.createPoolPayload(parameter)\n\n    return {\n      tx,\n      msafeParams: {\n        action: MsafeTransactionSubType.CreatePool,\n        txbParams: parameter\n      }\n    }\n  }\n\n  /**\n   * èŽ·å–åˆ›å»ºDLMMæ± å­tx\n   * @param params\n   * @returns\n   */\n  const getCreateDLMMPoolTxPayload = async (params: PreCreateDLMMRes) => {\n    console.log('ðŸš€ ~ file: useCreatePoolHelper.ts:140 ~ getCreatePoolTxPayload ~ params:', params)\n    const { active_id, lower_bin_id, upper_bin_id, bin_step, bin_infos, tokenA, tokenB, base_factor } = params\n    const tx = new Transaction()\n    const pool_id = await dlmmSdk?.Pool.createPoolPayload(\n      {\n        active_id,\n        bin_step,\n        coin_type_a: tokenA?.coin_type,\n        coin_type_b: tokenB?.coin_type,\n        base_factor\n      },\n      tx\n    )\n\n    return { pool_id, tx }\n  }\n\n  /**\n   * èŽ·å–dlmm base fee and bin step\n   */\n  const getBinStepConfigs = async (baseCoinType: string, quoteCoinType: string) => {\n    try {\n      if (baseCoinType && quoteCoinType) {\n        const res = await getDlmmPoolList({\n          coin_type: `${baseCoinType},${quoteCoinType}`,\n          is_vaults: false,\n          display_all_pools: true,\n          has_mining: true,\n          has_farming: true,\n          no_incentives: true,\n          order_by: '-vol',\n          offset: 0\n        })\n        if (res && res.list && res.list.length > 0) {\n          const pools = res?.list?.[0]?.pools?.map(item => wrapDLmmPoolData(item))\n          const feeList = getBaseFeeList(pools)\n          return dlmmDefaultFeeOptions?.map(item => {\n            const title = feeList?.find(l => l.fee + '' === item.fee)?.title || item.title\n            return {\n              ...item,\n              title,\n              poolAddress: feeList?.find(l => l.fee + '' === item.fee)?.poolAddress\n            }\n          })\n        } else {\n          return dlmmDefaultFeeOptions\n        }\n      }\n    } catch (error) {\n      return dlmmDefaultFeeOptions\n    }\n    return dlmmDefaultFeeOptions\n  }\n\n  return {\n    preAddPool,\n    fetchFeeTierList,\n    getCreatePoolTxPayload,\n    getBinStepConfigs,\n    getCreateDLMMPoolTxPayload\n  }\n}\n\nexport function useShowPriceWarn(isFull: boolean, currTick?: number, minTick?: number, maxTick?: number) {\n  const showInputPriceWarn = useMemo(() => {\n    if (isFull) {\n      return false\n    }\n    try {\n      if (currTick !== undefined && minTick !== undefined && maxTick !== undefined) {\n        return d(currTick).lt(minTick) || d(currTick).gt(maxTick)\n      }\n    } catch (error) {\n      //\n    }\n\n    return false\n  }, [maxTick, currTick, minTick, isFull])\n\n  const showPriceRangeWarn = useMemo(() => {\n    if (isFull) {\n      return false\n    }\n    try {\n      if (minTick !== undefined && maxTick !== undefined) {\n        return d(minTick).gt(maxTick)\n      }\n    } catch (error) {\n      //\n    }\n\n    return false\n  }, [maxTick, minTick, isFull])\n\n  return {\n    showInputPriceWarn,\n    showPriceRangeWarn\n  }\n}\n\nexport function useShowDlmmPriceWarn(currBinId?: number, minBinId?: number, maxBinId?: number) {\n  const showInputPriceWarn = useMemo(() => {\n    try {\n      if (\n        currBinId !== undefined &&\n        minBinId !== undefined &&\n        maxBinId !== undefined &&\n        Number.isFinite(minBinId) &&\n        Number.isFinite(maxBinId) &&\n        Number.isFinite(currBinId)\n      ) {\n        return d(currBinId).lt(minBinId) || d(currBinId).gt(maxBinId)\n      }\n    } catch (error) {\n      //\n    }\n\n    return false\n  }, [currBinId, minBinId, maxBinId])\n\n  const showPriceRangeWarn = useMemo(() => {\n    try {\n      if (minBinId !== undefined && maxBinId !== undefined && Number.isFinite(minBinId) && Number.isFinite(maxBinId)) {\n        return d(minBinId).gt(maxBinId)\n      }\n    } catch (error) {\n      //\n    }\n\n    return false\n  }, [minBinId, maxBinId])\n\n  return {\n    showInputPriceWarn,\n    showPriceRangeWarn\n  }\n}\n"],"names":["useCreatePoolHelper","clmmSdk","useSdk","dlmmSdk","preAdd","usePosAdd","getPoolList","useGetPoolList","getDlmmPoolList","useGetDlmmPoolList","wrapDLmmPoolData","useWrapPoolData","params","tickSpacing","price","minPrice","maxPrice","amount","amountCoinType","realTokenA","realTokenB","needReverse","currentSqrtPrice","TickMath","d","currTick","decimalsA","decimalsB","lowerTick","upperTick","TickUtil","min","getReversePrice","max","realMintTick","getNearestTickByTick","isTokenA","amountBN","amountToBN","res","baseCoinType","quoteCoinType","feeTierList","getFeeTierList","result","_a","clmmDefaultFeeOptions","item","_pool","feeTier","feeIndex","ele","index","error","fixAmountA","coinAmountAOrigin","coinAmountBOrigin","coinTypeA","coinTypeB","parameter","MsafeTransactionSubType","pools","_c","_b","feeList","getBaseFeeList","_d","dlmmDefaultFeeOptions","title","l","active_id","lower_bin_id","upper_bin_id","bin_step","bin_infos","tokenA","tokenB","base_factor","tx","Transaction","useShowPriceWarn","isFull","minTick","maxTick","showInputPriceWarn","useMemo","showPriceRangeWarn","useShowDlmmPriceWarn","currBinId","minBinId","maxBinId"],"mappings":"8gBAiBA,SAAwBA,IAAsB,CAC5C,MAAMC,EAAUC,EAAO,MAAM,EACvBC,EAAUD,EAAO,MAAM,EACvB,CAAE,OAAAE,CAAA,EAAWC,EAAA,EACb,CAAE,YAAAC,CAAA,EAAgBC,EAAA,EAClB,CAAE,gBAAAC,CAAA,EAAoBC,EAAA,EACtB,CAAE,iBAAAC,CAAA,EAAqBC,EAAA,EAwN7B,MAAO,CACL,WAzKkBC,GAUA,CAClB,KAAM,CAAE,YAAAC,EAAa,MAAAC,EAAO,SAAAC,EAAU,SAAAC,EAAU,OAAAC,EAAQ,eAAAC,EAAgB,WAAAC,EAAY,WAAAC,EAAY,YAAAC,CAAA,EAAgBT,EAC1GU,EAAmBC,EAAS,oBAAoBC,EAAEV,CAAK,EAAGK,EAAW,SAAUC,EAAW,QAAQ,EAAE,SAAA,EAEpGK,EAAWF,EAAS,iBAAiBC,EAAEV,CAAK,EAAGK,EAAW,SAAUC,EAAW,QAAQ,EAAE,SAAA,EAEzFM,EAAYP,EAAW,SACvBQ,EAAYP,EAAW,SAE7B,IAAIQ,EAAWC,EACf,GAAId,IAAa,KAAOC,IAAa,IACnCY,EAAYE,EAAS,YAAYjB,CAAW,EAC5CgB,EAAYC,EAAS,YAAYjB,CAAW,MACvC,CACL,MAAMkB,EAAOV,EAAyBW,EAAgBhB,CAAQ,EAAnCD,EACrBkB,EAAOZ,EAAyBW,EAAgBjB,CAAQ,EAAnCC,EACrBkB,EAAeX,EAAS,iBAAiBC,EAAEO,CAAG,EAAGZ,EAAW,SAAUC,EAAW,QAAQ,EAAE,SAAA,EACjG,QAAQ,IAAI,8EAA+Ec,CAAY,EAEvGN,EAAYO,EAAqBZ,EAAS,iBAAiBC,EAAEO,CAAG,EAAGL,EAAWC,CAAS,EAAGd,CAAW,EACrGgB,EAAYM,EAAqBZ,EAAS,iBAAiBC,EAAES,CAAG,EAAGP,EAAWC,CAAS,EAAGd,CAAW,CACvG,CAEA,QAAQ,IAAI,uEAAwE,CAClF,GAAGD,EACH,iBAAAU,EACA,UAAAM,EACA,UAAAC,EACA,SAAAJ,CAAA,CACD,EAED,MAAMW,EAAWlB,KAAmBC,GAAA,YAAAA,EAAY,WAC1CkB,EAAWC,EAAWrB,EAAQmB,EAAWV,EAAYC,CAAS,EAAE,SAAA,EAChEY,EAAMnC,EAAO,CACjB,OAAQiC,EACR,OAAQlB,EACR,OAAQC,EACR,SAAAgB,EACA,UAAAR,EACA,UAAAC,EACA,aAAcP,EACd,UAAWD,EACX,QAAS,EAAA,CACV,EACD,eAAQ,IAAI,8EAA8E,EAC1F,QAAQ,IAAI,qEAAsEkB,CAAG,EACrF,QAAQ,IAAI,8EAA8E,EAEnF,CACL,GAAGA,EACH,iBAAAjB,EACA,WAAYc,EACZ,UAAAR,EACA,UAAAC,EACA,YAAAhB,EACA,UAAWM,EAAW,UACtB,UAAWC,EAAW,SAAA,CAE1B,EAsGE,iBAjNuB,MAAOoB,EAAsBC,IAA0B,OAC9E,GAAI,CACF,GAAID,GAAgBC,EAAe,CACjC,MAAMF,EAAM,MAAMjC,EAAY,CAC5B,UAAW,GAAGkC,CAAY,IAAIC,CAAa,GAC3C,UAAW,GACX,kBAAmB,GACnB,WAAY,GACZ,YAAa,GACb,cAAe,GACf,SAAU,OACV,OAAQ,CAAA,CACT,EACD,GAAIF,GAAOA,EAAI,MAAQA,EAAI,KAAK,OAAS,EAAG,CAC1C,MAAMG,EAAcC,EAAeJ,EAAI,IAAI,EACrCK,GAASC,EAAAC,IAAA,YAAAD,EAAuB,IAAIE,GAAQ,CAChD,MAAMC,EAAQN,EAAY,QAAgBO,EAAQ,UAAYF,EAAK,OAAO,EAC1E,MAAO,CACL,GAAGA,EACH,OAAOC,GAAA,YAAAA,EAAO,QAASD,EAAK,MAC5B,YAAaC,GAAA,YAAAA,EAAO,YACpB,UAAWA,GAAA,YAAAA,EAAO,UAClB,IAAKA,GAAA,YAAAA,EAAO,GAAA,CAEhB,GAEME,EAAWN,EAAO,UAAWO,GAAaA,EAAI,aAAe,UAAY,CAACA,EAAI,WAAW,EAC/F,OAAOP,EAAO,OAAO,CAACO,EAAKC,IAAU,OAAOA,CAAK,IAAMF,CAAQ,CACjE,KACE,QAAOJ,EAAsB,OAAOK,GAAOA,EAAI,aAAe,QAAQ,CAE1E,CACF,OAASE,EAAO,CACd,QAAQ,IAAI,4CAA6CA,CAAK,CAChE,CACA,MAAO,CAAC,GAAGP,CAAqB,CAClC,EA8KE,uBAhG6B,MAAOlC,GAAyB,CAC7D,QAAQ,IAAI,2EAA4EA,CAAM,EAC9F,KAAM,CAAE,YAAAC,EAAa,iBAAAS,EAAkB,WAAAgC,EAAY,kBAAAC,EAAmB,kBAAAC,EAAmB,UAAA5B,EAAW,UAAAC,EAAW,UAAA4B,EAAW,UAAAC,CAAA,EAAc9C,EAEjH,MAAMX,EAAS,WAAW,oBAAoBwD,CAAS,EACvD,MAAMxD,EAAS,WAAW,oBAAoByD,CAAS,EAE9E,MAAMC,EAAY,CAChB,aAAc9C,EACd,sBAAuBS,EACvB,IAAK,GACL,aAAcgC,EACd,SAAUC,EACV,SAAUC,EACV,WAAY5B,EACZ,WAAYC,EACZ,YAAa4B,EACb,YAAaC,CAAA,EAOf,MAAO,CACL,GAHS,MAAMzD,EAAS,KAAK,kBAAkB0D,CAAS,EAIxD,YAAa,CACX,OAAQC,EAAwB,WAChC,UAAWD,CAAA,CACb,CAEJ,EAkEE,kBAtCwB,MAAOnB,EAAsBC,IAA0B,aAC/E,GAAI,CACF,GAAID,GAAgBC,EAAe,CACjC,MAAMF,EAAM,MAAM/B,EAAgB,CAChC,UAAW,GAAGgC,CAAY,IAAIC,CAAa,GAC3C,UAAW,GACX,kBAAmB,GACnB,WAAY,GACZ,YAAa,GACb,cAAe,GACf,SAAU,OACV,OAAQ,CAAA,CACT,EACD,GAAIF,GAAOA,EAAI,MAAQA,EAAI,KAAK,OAAS,EAAG,CAC1C,MAAMsB,GAAQC,GAAAC,GAAAlB,EAAAN,GAAA,YAAAA,EAAK,OAAL,YAAAM,EAAY,KAAZ,YAAAkB,EAAgB,QAAhB,YAAAD,EAAuB,IAAIf,GAAQrC,EAAiBqC,CAAI,GAChEiB,EAAUC,EAAeJ,CAAK,EACpC,OAAOK,EAAAC,IAAA,YAAAD,EAAuB,IAAInB,GAAQ,SACxC,MAAMqB,IAAQvB,EAAAmB,GAAA,YAAAA,EAAS,KAAKK,GAAKA,EAAE,IAAM,KAAOtB,EAAK,OAAvC,YAAAF,EAA6C,QAASE,EAAK,MACzE,MAAO,CACL,GAAGA,EACH,MAAAqB,EACA,aAAaL,EAAAC,GAAA,YAAAA,EAAS,KAAKK,GAAKA,EAAE,IAAM,KAAOtB,EAAK,OAAvC,YAAAgB,EAA6C,WAAA,CAE9D,EACF,KACE,QAAOI,CAEX,CACF,MAAgB,CACd,OAAOA,CACT,CACA,OAAOA,CACT,EAOE,2BA5DiC,MAAOvD,GAA6B,CACrE,QAAQ,IAAI,2EAA4EA,CAAM,EAC9F,KAAM,CAAE,UAAA0D,EAAW,aAAAC,EAAc,aAAAC,EAAc,SAAAC,EAAU,UAAAC,EAAW,OAAAC,EAAQ,OAAAC,EAAQ,YAAAC,CAAA,EAAgBjE,EAC9FkE,EAAK,IAAIC,EAYf,MAAO,CAAE,QAXO,MAAM5E,GAAA,YAAAA,EAAS,KAAK,kBAClC,CACE,UAAAmE,EACA,SAAAG,EACA,YAAaE,GAAA,YAAAA,EAAQ,UACrB,YAAaC,GAAA,YAAAA,EAAQ,UACrB,YAAAC,CAAA,EAEFC,IAGgB,GAAAA,CAAA,CACpB,CA4CE,CAEJ,CAEO,SAASE,GAAiBC,EAAiBxD,EAAmByD,EAAkBC,EAAkB,CACvG,MAAMC,EAAqBC,EAAAA,QAAQ,IAAM,CACvC,GAAIJ,EACF,MAAO,GAET,GAAI,CACF,GAAIxD,IAAa,QAAayD,IAAY,QAAaC,IAAY,OACjE,OAAO3D,EAAEC,CAAQ,EAAE,GAAGyD,CAAO,GAAK1D,EAAEC,CAAQ,EAAE,GAAG0D,CAAO,CAE5D,MAAgB,CAEhB,CAEA,MAAO,EACT,EAAG,CAACA,EAAS1D,EAAUyD,EAASD,CAAM,CAAC,EAEjCK,EAAqBD,EAAAA,QAAQ,IAAM,CACvC,GAAIJ,EACF,MAAO,GAET,GAAI,CACF,GAAIC,IAAY,QAAaC,IAAY,OACvC,OAAO3D,EAAE0D,CAAO,EAAE,GAAGC,CAAO,CAEhC,MAAgB,CAEhB,CAEA,MAAO,EACT,EAAG,CAACA,EAASD,EAASD,CAAM,CAAC,EAE7B,MAAO,CACL,mBAAAG,EACA,mBAAAE,CAAA,CAEJ,CAEO,SAASC,GAAqBC,EAAoBC,EAAmBC,EAAmB,CAC7F,MAAMN,EAAqBC,EAAAA,QAAQ,IAAM,CACvC,GAAI,CACF,GACEG,IAAc,QACdC,IAAa,QACbC,IAAa,QACb,OAAO,SAASD,CAAQ,GACxB,OAAO,SAASC,CAAQ,GACxB,OAAO,SAASF,CAAS,EAEzB,OAAOhE,EAAEgE,CAAS,EAAE,GAAGC,CAAQ,GAAKjE,EAAEgE,CAAS,EAAE,GAAGE,CAAQ,CAEhE,MAAgB,CAEhB,CAEA,MAAO,EACT,EAAG,CAACF,EAAWC,EAAUC,CAAQ,CAAC,EAE5BJ,EAAqBD,EAAAA,QAAQ,IAAM,CACvC,GAAI,CACF,GAAII,IAAa,QAAaC,IAAa,QAAa,OAAO,SAASD,CAAQ,GAAK,OAAO,SAASC,CAAQ,EAC3G,OAAOlE,EAAEiE,CAAQ,EAAE,GAAGC,CAAQ,CAElC,MAAgB,CAEhB,CAEA,MAAO,EACT,EAAG,CAACD,EAAUC,CAAQ,CAAC,EAEvB,MAAO,CACL,mBAAAN,EACA,mBAAAE,CAAA,CAEJ"}