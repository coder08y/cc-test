{"version":3,"file":"PositionCurrentPrice-DCdJgKoa.js","sources":["../../src/components/position/common/PositionCurrentPrice.tsx"],"sourcesContent":["import useDlmmPositionStore from '@/store/dlmm-position'\nimport usePositionStore from '@/store/position'\nimport { Token } from '@cetus/types'\nimport { Icon } from '@cetus/ui-kit'\nimport { cancelBubble, textEllipses } from '@cetus/utils'\nimport { Center, HStack, Skeleton, Text } from '@chakra-ui/react'\nimport { useEffect, useState } from 'react'\n\nfunction PositionCurrentPrice({\n  posId,\n  displayTokenA,\n  displayTokenB,\n  symbolEllipsesDecimals = 10, //symbol超出位数后是否展示...\n  handleDirect,\n  isChangeDirect = undefined,\n  haveChangeIcon = true\n}: {\n  posId: string\n  displayTokenA: Token\n  displayTokenB: Token\n  symbolEllipsesDecimals?: number\n  haveChangeIcon?: boolean\n  isChangeDirect?: boolean\n  handleDirect?: () => void\n}) {\n  const [isDirect, setIsDirect] = useState(true)\n  const { posPoolsRelatedData } = usePositionStore()\n  const { dlmmPosPoolsRelatedData } = useDlmmPositionStore()\n  const currentPosPoolsRelatedData = posPoolsRelatedData[posId] || dlmmPosPoolsRelatedData[posId]\n\n  useEffect(() => {\n    if (typeof isChangeDirect == 'boolean') {\n      setIsDirect(!isDirect)\n    }\n  }, [isChangeDirect])\n  return (\n    <HStack>\n      <Skeleton isLoaded={!!currentPosPoolsRelatedData?.currentPrice}>\n        <Text color=\"text_caption\" maxW=\"200px\" wordBreak=\"break-all\">\n          {isDirect ? currentPosPoolsRelatedData?.currentPrice : currentPosPoolsRelatedData?.currentPriceReverse}\n        </Text>\n      </Skeleton>\n      <HStack gap=\"0\">\n        {currentPosPoolsRelatedData?.currentPrice && (\n          <HStack gap=\"0\">\n            <Text color=\"primary_gray\">{textEllipses(isDirect ? displayTokenB?.symbol : displayTokenA?.symbol, symbolEllipsesDecimals)}</Text>\n            <Text color=\"primary_gray\">&nbsp;per&nbsp;</Text>\n            <Text color=\"primary_gray\">{textEllipses(isDirect ? displayTokenA?.symbol : displayTokenB?.symbol, symbolEllipsesDecimals)}</Text>\n          </HStack>\n        )}\n        {haveChangeIcon && (\n          <Center\n            w=\"32px\"\n            h=\"32px\"\n            cursor=\"pointer\"\n            onClick={(e: any) => {\n              cancelBubble(e)\n              setIsDirect(!isDirect)\n              if (handleDirect) {\n                handleDirect()\n              }\n            }}\n            _hover={{\n              svg: {\n                fill: 'text_caption'\n              }\n            }}\n          >\n            <Icon xlinkHref=\"#icon-icon_swap1\" w=\"16px\" h=\"16px\" />\n          </Center>\n        )}\n      </HStack>\n    </HStack>\n  )\n}\n\nexport default PositionCurrentPrice\n"],"names":["PositionCurrentPrice","posId","displayTokenA","displayTokenB","symbolEllipsesDecimals","handleDirect","isChangeDirect","haveChangeIcon","isDirect","setIsDirect","useState","posPoolsRelatedData","usePositionStore","dlmmPosPoolsRelatedData","useDlmmPositionStore","currentPosPoolsRelatedData","useEffect","HStack","jsx","Skeleton","Text","jsxs","textEllipses","Center","e","cancelBubble","Icon"],"mappings":"2LAQA,SAASA,EAAqB,CAC5B,MAAAC,EACA,cAAAC,EACA,cAAAC,EACA,uBAAAC,EAAyB,GACzB,aAAAC,EACA,eAAAC,EAAiB,OACjB,eAAAC,EAAiB,EACnB,EAQG,CACD,KAAM,CAACC,EAAUC,CAAW,EAAIC,EAAAA,SAAS,EAAI,EACvC,CAAE,oBAAAC,CAAA,EAAwBC,EAAA,EAC1B,CAAE,wBAAAC,CAAA,EAA4BC,EAAA,EAC9BC,EAA6BJ,EAAoBV,CAAK,GAAKY,EAAwBZ,CAAK,EAE9Fe,OAAAA,EAAAA,UAAU,IAAM,CACV,OAAOV,GAAkB,WAC3BG,EAAY,CAACD,CAAQ,CAEzB,EAAG,CAACF,CAAc,CAAC,SAEhBW,EAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,GAAS,SAAU,CAAC,EAACJ,GAAA,MAAAA,EAA4B,cAChD,eAACK,EAAA,CAAK,MAAM,eAAe,KAAK,QAAQ,UAAU,YAC/C,SAAAZ,EAAWO,GAAA,YAAAA,EAA4B,aAAeA,GAAA,YAAAA,EAA4B,oBACrF,CAAA,CACF,EACAM,EAAAA,KAACJ,EAAA,CAAO,IAAI,IACT,SAAA,EAAAF,GAAA,YAAAA,EAA4B,eAC3BM,OAACJ,EAAA,CAAO,IAAI,IACV,SAAA,CAAAC,EAAAA,IAACE,EAAA,CAAK,MAAM,eAAgB,SAAAE,EAAad,EAAWL,GAAA,YAAAA,EAAe,OAASD,GAAA,YAAAA,EAAe,OAAQE,CAAsB,CAAA,CAAE,EAC3Hc,EAAAA,IAACE,EAAA,CAAK,MAAM,eAAe,SAAA,QAAe,EAC1CF,EAAAA,IAACE,EAAA,CAAK,MAAM,eAAgB,SAAAE,EAAad,EAAWN,GAAA,YAAAA,EAAe,OAASC,GAAA,YAAAA,EAAe,OAAQC,CAAsB,CAAA,CAAE,CAAA,EAC7H,EAEDG,GACCW,EAAAA,IAACK,EAAA,CACC,EAAE,OACF,EAAE,OACF,OAAO,UACP,QAAUC,GAAW,CACnBC,EAAaD,CAAC,EACdf,EAAY,CAACD,CAAQ,EACjBH,GACFA,EAAA,CAEJ,EACA,OAAQ,CACN,IAAK,CACH,KAAM,cAAA,CACR,EAGF,eAACqB,EAAA,CAAK,UAAU,mBAAmB,EAAE,OAAO,EAAE,MAAA,CAAO,CAAA,CAAA,CACvD,CAAA,CAEJ,CAAA,EACF,CAEJ"}