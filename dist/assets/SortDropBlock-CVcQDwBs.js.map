{"version":3,"file":"SortDropBlock-CVcQDwBs.js","sources":["../../../cetus-design/src/components/common/SortDropBlock.tsx"],"sourcesContent":["import { Icon } from '@cetus/ui-kit'\nimport { cancelBubble } from '@cetus/utils'\nimport { Box, Button, Flex, FlexProps, HStack, Menu, MenuButton, MenuButtonProps, MenuList, Text, VStack } from '@chakra-ui/react'\nimport { useState } from 'react'\n\nexport type SortDropType = {\n  label: string\n  value: string\n}\n\nconst SortDropBlock = ({\n  sortText,\n  minW,\n  iconSize = '40px',\n  wrapStyle = {},\n  currentSort,\n  onSortByChange,\n  sortByList,\n  xlinkHref = '',\n  iconBoxStyle,\n  iconOnClick\n}: {\n  sortText?: string\n  minW?: string\n  iconSize?: string\n  wrapStyle?: MenuButtonProps\n  currentSort: SortDropType\n  onSortByChange: (type: SortDropType) => void\n  sortByList: SortDropType[]\n  xlinkHref?: string\n  iconBoxStyle?: FlexProps\n  iconOnClick?: () => void\n}) => {\n  const [isOpen, setIsOpen] = useState(false)\n\n  const baseWidth = minW || 'unset'\n  const totalWidth = minW && xlinkHref ? `calc(${minW} + ${iconSize} + 12px)` : baseWidth\n\n  return (\n    <Menu isLazy isOpen={isOpen} placement=\"bottom-end\" onClose={() => setIsOpen(false)}>\n      <HStack\n        w={totalWidth}\n        minW={totalWidth}\n        gap=\"12px\"\n        bg=\"bg_secondary\"\n        borderRadius={{ base: '8px', lg: '12px' }}\n        border=\"1px solid\"\n        borderColor=\"border\"\n        h={iconSize}\n        p=\"0 4px 0 10px\"\n      >\n        {xlinkHref && (\n          <Flex\n            w={iconSize}\n            h={iconSize}\n            minW={iconSize}\n            borderRight=\"1px solid\"\n            borderColor=\"border\"\n            borderRadius={{ base: '8px', lg: '12px' }}\n            justify=\"center\"\n            align=\"center\"\n            ml=\"-10px\"\n            {...iconBoxStyle}\n          >\n            <Icon\n              xlinkHref={xlinkHref}\n              variant=\"gray\"\n              onClick={e => {\n                cancelBubble(e)\n                setIsOpen(false)\n                iconOnClick?.()\n              }}\n            />\n          </Flex>\n        )}\n\n        <MenuButton\n          as={Button}\n          w={baseWidth}\n          h=\"38px\"\n          p=\"0\"\n          // pr=\"10px\"\n          bg=\"bg_secondary\"\n          isActive={isOpen}\n          borderRadius={{ base: '8px', lg: '12px' }}\n          sx={{\n            _hover: {\n              bg: 'bg_secondary',\n              '.drop-icon': {\n                svg: {\n                  fill: 'text_caption'\n                }\n              }\n            },\n            _active: {\n              bg: 'bg_secondary'\n            }\n          }}\n          {...wrapStyle}\n          onClick={() => setIsOpen(true)}\n        >\n          <HStack align=\"center\" justifyContent={sortText ? 'space-between' : 'center'}>\n            {sortText && (\n              <HStack gap=\"8px\">\n                <Text color=\"text_caption\" fontSize={{ base: '12px', lg: '14px' }}>\n                  {sortText}\n                </Text>\n              </HStack>\n            )}\n\n            <HStack gap=\"8px\">\n              <Text color=\"text_caption\" fontSize={{ base: '12px', lg: '14px' }}>\n                {currentSort?.label}\n              </Text>\n              <Box className=\"drop-icon\">\n                <Icon\n                  svgW=\"16px\"\n                  xlinkHref=\"#icon-icon_arrow\"\n                  variant=\"gray\"\n                  transition=\"transform 0.5s\"\n                  transform={isOpen ? 'rotate(180deg)' : 'rotate(0deg)'}\n                />\n              </Box>\n            </HStack>\n          </HStack>\n        </MenuButton>\n      </HStack>\n\n      <MenuList\n        p=\"4px\"\n        opacity=\"1\"\n        overflow=\"hidden\"\n        minW={totalWidth} // ✅ 下拉菜单和容器一致宽\n        mr=\"-5px\"\n      >\n        <VStack w=\"100%\" gap=\"4px\">\n          {sortByList.map(item => (\n            <Text\n              key={item.value}\n              w=\"100%\"\n              h=\"36px\"\n              lineHeight=\"36px\"\n              textAlign=\"center\"\n              borderRadius=\"8px\"\n              cursor=\"pointer\"\n              fontSize={{ base: '12px', lg: '14px' }}\n              color=\"text_caption\"\n              bg={currentSort?.value === item.value ? 'menu_item_bg' : 'none'}\n              sx={{\n                _hover: {\n                  bg: 'menu_item_bg'\n                }\n              }}\n              onClick={() => {\n                onSortByChange(item)\n                setIsOpen(false)\n              }}\n            >\n              {item.label}\n            </Text>\n          ))}\n        </VStack>\n      </MenuList>\n    </Menu>\n  )\n}\n\nexport default SortDropBlock\n"],"names":["SortDropBlock","sortText","minW","iconSize","wrapStyle","currentSort","onSortByChange","sortByList","xlinkHref","iconBoxStyle","iconOnClick","isOpen","setIsOpen","useState","baseWidth","totalWidth","jsxs","Menu","HStack","jsx","Flex","Icon","e","cancelBubble","MenuButton","Button","Text","Box","MenuList","VStack","item"],"mappings":"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"}