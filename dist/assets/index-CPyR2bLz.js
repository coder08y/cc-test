import{r as n,ap as p}from"./vendor-CBmAETR3.js";import{u as v}from"./index-D8UqOC8m.js";import{i as E,d as m}from"./isBrowser-DgCPUZ4c.js";import{a as h}from"./index-Dq_SzPY7.js";function A(r,t){if(E){if(!r)return t;var e;return h(r)?e=r():"current"in r?e=r.current:e=r,e}}var S=function(r){var t=function(e,f,i){var s=n.useRef(!1),u=n.useRef([]),l=n.useRef([]),c=n.useRef(void 0);r(function(){var a,R=Array.isArray(i)?i:[i],o=R.map(function(d){return A(d)});if(!s.current){s.current=!0,u.current=o,l.current=f,c.current=e();return}(o.length!==u.current.length||!m(u.current,o)||!m(l.current,f))&&((a=c.current)===null||a===void 0||a.call(c),u.current=o,l.current=f,c.current=e())}),v(function(){var a;(a=c.current)===null||a===void 0||a.call(c),s.current=!1})};return t},W=S(n.useEffect);function x(r){var t=n.useRef(0),e=p(n.useState(r),2),f=e[0],i=e[1],s=n.useCallback(function(u){cancelAnimationFrame(t.current),t.current=requestAnimationFrame(function(){i(u)})},[]);return v(function(){cancelAnimationFrame(t.current)}),[f,s]}export{x as a,S as c,A as g,W as u};
