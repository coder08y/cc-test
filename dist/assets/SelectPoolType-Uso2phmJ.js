import{j as r,H as h,w,T as l,r as j,V as x,Q as D,X as R,l as X,a0 as H,S as _,n as P}from"./vendor-CBmAETR3.js";import{i as z}from"./index-78J_CBpj.js";import{I as C}from"./index-ihcskjKt.js";import"./cross-CbhIs7DK.js";import{E as S}from"./ErrorTips-D8Nv331n.js";import{F as E}from"./index-B6CEp9_u.js";import{m as F}from"./maxBy-DupNhJLP.js";import{S as W}from"./SelectToken-D-b9Lw5g.js";import{i as G}from"./icon_clmm-sLI9GHAc.js";import{i as J}from"./icon_dlmm-BKyFDzFK.js";import{C as K}from"./CheckBox-CkL01dAe.js";function O({onEdit:e,children:o}){return r.jsxs(h,{w:"100%",p:{base:"16px 8px",lg:"20px 32px"},border:"0px solid",borderColor:"border",borderRadius:"12px",bg:"bg_fifth",justify:"space-between",children:[o,r.jsxs(w,{onClick:e,variant:"unstyled",border:"1px solid",borderColor:"border",cursor:"pointer",borderRadius:"8px",p:"5px 8px",display:"flex",h:"32px",alignItems:"center",gap:"8px",minW:"auto",_hover:{p:{color:"#fff"},svg:{fill:"#fff"}},children:[r.jsx(C,{xlinkHref:"#icon-icon_edit"}),r.jsx(l,{fontSize:"12px",fontWeight:"500",children:"Edit"})]})]})}const U=({feeTier:e,feeTierList:o,onFeeTierChange:t,fromSource:c,children:p})=>{var a;const n=j.useRef(null);return j.useEffect(()=>{if(c==="addLiquidity"&&(o==null?void 0:o.length)>0){const s=F(o,i=>Number((i==null?void 0:i.tvl)||"0"));s&&t(s)}},[c,o]),r.jsxs(x,{w:"100%",align:"flex-start",gap:"16px",children:[r.jsxs(x,{w:"100%",align:"flex-start",gap:"8px",children:[r.jsx(l,{fontSize:"16px",fontWeight:"500",color:"text_caption",children:"Fee tier"}),r.jsx(l,{fontSize:"12px",fontWeight:"500",children:`The ${typeof e=="object"&&(e==null?void 0:e.feeDisplay)||"%"} you will earn in fees.`})]}),r.jsx(E,{poolType:"clmm",value:e,onChange:s=>t(s),options:o,placement:"bottom",wrapStyle:{w:((a=n==null?void 0:n.current)==null?void 0:a.clientWidth)||"463px"},children:({isOpen:s,onClick:i})=>r.jsx(D,{w:"100%",borderRadius:"12px",h:"48px",border:"1px solid",borderColor:"border",cursor:"pointer",onClick:i,bg:"bg_secondary",ref:n,children:r.jsxs(h,{w:"100%",justifyContent:"space-between",p:"9px 16px",children:[e?r.jsx(l,{color:"text_caption",fontSize:"16px",fontWeight:"500",children:`${typeof e=="object"&&(e==null?void 0:e.feeDisplay)}`}):r.jsx(l,{color:"text_caption",fontSize:"14px",fontWeight:"500",children:"Select fee tier"}),r.jsxs(h,{children:[r.jsx(l,{fontSize:"12px",children:typeof e=="object"&&(e==null?void 0:e.title)}),r.jsx(C,{xlinkHref:"#icon-icon_arrow",fontSize:"12px",transition:"transform 0.5s",transform:s?"rotate(180deg)":"rotate(0deg)"})]})]})})}),p]})},Y=({fromSource:e,binStep:o,binStepList:t,onBinStepChange:c,children:p})=>{var a;const n=j.useRef(null);return j.useEffect(()=>{if(e==="addLiquidity"&&(t==null?void 0:t.length)>0){const s=F(t,i=>Number((i==null?void 0:i.tvl)||"0"));s&&c(s)}},[e,t]),r.jsxs(x,{w:"100%",align:"flex-start",gap:"16px",children:[r.jsxs(x,{w:"100%",align:"flex-start",gap:"8px",children:[r.jsx(l,{fontSize:"16px",fontWeight:"500",color:"text_caption",children:"Select base fee & bin step"}),r.jsx(l,{fontSize:"12px",fontWeight:"500",children:"The base fee you will earn in each swap and the basis point between each price bin"})]}),r.jsx(E,{poolType:"dlmm",value:o,options:t,onChange:s=>c(s),placement:"bottom",wrapStyle:{w:((a=n==null?void 0:n.current)==null?void 0:a.clientWidth)||"463px"},children:({isOpen:s,onClick:i})=>r.jsx(D,{w:"100%",borderRadius:"12px",h:"48px",border:"1px solid",borderColor:"border",cursor:"pointer",onClick:i,bg:"bg_secondary",ref:n,children:r.jsxs(h,{w:"100%",justifyContent:"space-between",p:"9px 16px",children:[o?r.jsxs(h,{children:[r.jsx(l,{color:"text_caption",fontWeight:"500",children:(o==null?void 0:o.feeDisplay)||"--"}),r.jsx(R,{orientation:"vertical",h:"12px"}),r.jsxs(l,{color:"text_caption",fontWeight:"500",children:[(o==null?void 0:o.binStep)||"--"," bps"]})]}):r.jsx(l,{color:"text_caption",fontWeight:"500",children:"Select base fee & bin step"}),r.jsxs(h,{children:[r.jsx(l,{fontSize:"12px",children:typeof o=="object"&&(o==null?void 0:o.title)}),r.jsx(C,{xlinkHref:"#icon-icon_arrow",fontSize:"12px",transition:"transform 0.5s",transform:s?"rotate(180deg)":"rotate(0deg)"})]})]})})}),p]})};function nr({poolType:e,baseToken:o,quoteToken:t,onBaseTokenChange:c,onQuoteTokenChange:p,title:n,description:a,onContinue:s,quoteWhiteTokenList:i,fromSource:f,wrapStyle:b={},feeTier:g,feeTierList:u,onFeeTierChange:y,binStep:v,binStepList:I,onBinStepChange:N,children:Q}){X();const V=d=>{(d==null?void 0:d.coin_type)===(t==null?void 0:t.coin_type)&&p(void 0),c(d)},$=d=>{(d==null?void 0:d.coin_type)===(o==null?void 0:o.coin_type)&&c(void 0),p(d)},m=j.useMemo(()=>o&&t&&!z(o,i)&&!z(t,i),[o==null?void 0:o.coin_type,t==null?void 0:t.coin_type,i]),A=()=>e==="clmm"?!o||!t||!g||(g==null?void 0:g.disabled)||m:!o||!t||!v||m;return r.jsxs(x,{w:"100%",gap:{base:"16px",lg:"28px"},bg:"bg_fifth",borderRadius:"12px",p:{base:"16px 8px",lg:"24px"},...b,children:[r.jsxs(x,{gap:"8px",w:"100%",align:"flex-start",children:[r.jsx(H,{fontSize:"16px",fontWeight:"500",children:n}),r.jsx(l,{fontSize:"12px",fontWeight:"500",children:a})]}),r.jsxs(x,{w:"100%",gap:{base:"16px",lg:"32px"},children:[r.jsxs(_,{flexDir:{base:"column",lg:"row"},w:"100%",gap:"12px",justify:"space-between",children:[r.jsx(W,{title:"Base token",value:o,isWhiteSelect:!1,whiteTokenList:void 0,onChange:V}),r.jsx(W,{title:"Quote token",value:t,isWhiteSelect:!0,whiteTokenList:i,onChange:$})]}),Q,e==="clmm"&&r.jsx(U,{fromSource:f,feeTier:g,feeTierList:u,onFeeTierChange:y,children:m&&r.jsx(S,{isShowIcon:!1,p:"6px 16px",w:"100%",borderRadius:"8px",tipsLineHeight:"16px",tipsFontSize:"12px",tips:"To create a pool, one of the assets needs to be selected as the default token."})}),e==="dlmm"&&r.jsx(Y,{fromSource:f,binStep:v,binStepList:I,onBinStepChange:N,children:m&&r.jsx(S,{isShowIcon:!1,p:"6px 16px",w:"100%",borderRadius:"8px",tipsLineHeight:"16px",tipsFontSize:"12px",tips:"To create a pool, one of the assets needs to be selected as the default token."})}),r.jsx(w,{w:"100%",borderRadius:"12px",h:"48px",isDisabled:A(),onClick:s,children:"Continue"})]})]})}function cr({currentStep:e,type:o,onChange:t,wrapStyle:c={},onEdit:p,onContinue:n,fromSource:a}){if(e>1){const{icon:s,title:i,description:f}=B[o];return r.jsx(O,{onEdit:p,children:r.jsx(Z,{icon:s,title:i,description:f})})}return r.jsxs(x,{w:"100%",gap:"16px",bg:"bg_fifth",borderRadius:"12px",p:{base:"16px 8px",lg:"32px"},...c,children:[r.jsxs(x,{w:"100%",align:"flex-start",children:[r.jsx(H,{fontSize:"16px",fontWeight:"500",children:"Select pool type"}),r.jsx(l,{fontSize:"12px",fontWeight:"400",children:"Select the pool type you want to create"})]}),r.jsx(M,{checked:o==="clmm",type:"clmm",onChange:t}),r.jsx(M,{checked:o==="dlmm",type:"dlmm",onChange:t}),a==="createPool"&&r.jsx(w,{w:"100%",borderRadius:"12px",h:"48px",isDisabled:o===void 0,onClick:n,children:"Continue"})]})}const Z=({icon:e,title:o,description:t})=>r.jsxs(h,{children:[r.jsx(P,{w:"24px",h:"24px",src:e}),r.jsxs(_,{flexDir:{base:"column",lg:"row"},align:{base:"flex-start",lg:"flex-end"},gap:{base:"6px",lg:"8px"},children:[r.jsx(l,{fontSize:{base:"14px",lg:"16px"},color:"text_caption",fontWeight:"500",children:o}),r.jsx(l,{fontSize:"12px",children:t})]})]}),B={clmm:{icon:G,title:"CLMM Pools",description:"Concentrated Liquidity Market Maker",detail:"Concentrate liquidity within your defined price ranges for higher capital efficiency and fee potential, liquidity outside your range requires active management",url:"",color:"primary",bg:"primary_opacity.10",dividerColor:"primary_opacity.15",checkbox:{color:"primary",bg:"clmm_checked_bg",border:"clmm_checked_border"}},dlmm:{icon:J,title:"DLMM Pools",description:"Dynamic Liquidity Market Maker",detail:"Divide liquidity into discrete price bins with dynamic, volatility-based fees, select flexible distribution strategies for improved capital efficiency",url:"",color:"primary_green",bg:"primary_green_opacity.10",dividerColor:"primary_green_opacity.15",checkbox:{color:"dlmm_checked_color",bg:"dlmm_checked_bg",border:"dlmm_checked_border"}}},M=({type:e,checked:o,onChange:t})=>{const{icon:c,title:p,description:n,detail:a,url:s,color:i,bg:f,dividerColor:b,checkbox:{color:g,bg:u,border:y}}=B[e];return r.jsxs(x,{w:"100%",p:"12px",bg:o?f:"none",borderRadius:"8px",gap:"12px",border:"1px solid",borderColor:o?"transparent":"border",children:[r.jsxs(h,{w:"100%",justify:"space-between",onClick:()=>t(e),cursor:"pointer",children:[r.jsxs(h,{children:[r.jsx(P,{src:c,w:{base:"18px",lg:"24px"},h:{base:"18px",lg:"24px"}}),r.jsxs(_,{flexDir:{base:"column",lg:"row"},align:{base:"flex-start",lg:"flex-end"},gap:{base:"6px",lg:"8px"},children:[r.jsx(l,{fontSize:{base:"14px",lg:"16px"},fontWeight:"500",color:o?i:"text_caption",children:p}),r.jsx(l,{color:o?i:"text_paragraph",fontSize:"12px",children:n})]})]}),r.jsx(K,{checked:o,onClick:()=>{},wrapStyle:{border:"1px solid",borderColor:o?y:"transparent",bg:o?u:"background",sx:{svg:{fill:g},_hover:{svg:{fill:g}}}}})]}),o&&r.jsxs(r.Fragment,{children:[r.jsx(R,{orientation:"horizontal",borderColor:b}),r.jsx(x,{align:"flex-start",gap:"4px",children:r.jsx(l,{fontSize:"12px",lineHeight:"20px",children:a})})]})]})};export{O as C,nr as S,cr as a};
//# sourceMappingURL=SelectPoolType-Uso2phmJ.js.map
