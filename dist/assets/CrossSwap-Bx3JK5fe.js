const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/TransportWebHID-BNu-P2X-.js","assets/cross-DJ28FxNa.js","assets/vendor-CBmAETR3.js","assets/index-BpSfzecM.js","assets/index-VqB3HDun.css","assets/index-C83Cx8VX.js","assets/PriceImpact-B_OiyXWK.js","assets/CurrentPrice-D1qM8kFS.js","assets/MarketSource-Zu8s3YB-.js","assets/useSwapHelper-RreJ3kMc.js","assets/useGetPoolList-4kFQ2tyG.js","assets/utils-CMHkC_9A.js","assets/useWrapPoolData-CMGMCXwG.js","assets/en_US-KAK2ZBDO-C1Pw6Q2s.js","assets/usePreviousValue-Da-o2xpb.js","assets/HighlightText-Dw_TnRsZ.js","assets/useSigner-Ct94kXtL.js","assets/useTransactionModal-DL7w_I3R.js","assets/v4-C6aID195.js","assets/ErrorTips-lJshH5MT.js","assets/HTextLabelBox-D0r99Smv.js","assets/NoData-BFX9XpKb.js","assets/index-CLgd2W9i.js","assets/Loading-DOvYGudd.js","assets/Slippage-8fJCLOYr.js","assets/index-gw6wWhzj.js","assets/TooltipIcon-DVhxXZmh.js","assets/useTokenBalance-c3RAkCCY.js","assets/useAccountBalance-DV0qM_Vy.js","assets/FreshProgressV2-DfCij7Ow.js","assets/index-CgYRIMgB.js","assets/index-Dq_SzPY7.js","assets/dijkstra-D_NXgYpA.js","assets/index-B6N7mhR1.js","assets/v4-CtRu48qb.js","assets/index-CCV9R9c2.js","assets/solanaEmbed.esm-CiEkStcA.js","assets/objectSpread2-B-AaJtUa.js","assets/index-BrJeOMXQ.js","assets/sha256-mf02Y2l5.js"])))=>i.map(i=>d[i]);
var Cf=Object.defineProperty;var Fl=n=>{throw TypeError(n)};var Tf=(n,e,t)=>e in n?Cf(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var fe=(n,e,t)=>Tf(n,typeof e!="symbol"?e+"":e,t),ja=(n,e,t)=>e.has(n)||Fl("Cannot "+t);var w=(n,e,t)=>(ja(n,e,"read from private field"),t?t.call(n):e.get(n)),k=(n,e,t)=>e.has(n)?Fl("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),b=(n,e,t,s)=>(ja(n,e,"write to private field"),s?s.call(n,t):e.set(n,t),t),V=(n,e,t)=>(ja(n,e,"access private method"),t);var ro=(n,e,t,s)=>({set _(i){b(n,e,i,t)},get _(){return w(n,e,s)}});import{r as j,i as R,j as u,w as Xt,H as W,Y as Tr,m as Me,V as q,T as F,B as Ie,n as Bt,C as ld,M as Gs,o as Hs,p as Ys,$ as Vs,a0 as ts,q as Zs,t as Ks,K as ud,l as Lf,k as Df,F as fl,L as dd,I as _f,N as zf,af as kf,ar as hd,aq as $a,ax as Of}from"./vendor-CBmAETR3.js";import{aR as B,aS as fd,aT as Js,S as ot,e as ye,g as mn,aU as Us,h as Wo,aV as pl,aW as Qo,aX as gl,aY as vf,aZ as Y,P as St,a_ as Wt,a$ as $t,b0 as Ct,b1 as qs,b2 as Qs,b3 as oe,b4 as Rf,i as ec,V as tc,b5 as qe,b6 as Pf,b7 as or,b8 as ar,b9 as Ut,ba as ws,bb as Jn,bc as Uf,bd as Gl,be as Bf,bf as Wf,bg as Kr,bh as Jr,b as nc,bi as pd,_ as we,bj as wl,bk as sc,bl as Qf,bm as Ff,bn as Gf,bo as Hf,bp as ml,bq as Yf,br as Vf,bs as Zf,bt as gd,bu as Kf,bv as wd,v as Jf,bw as qf,bx as Xf,by as $f,bz as ep,bA as tp,bB as np,bC as sp,bD as ip,bE as rp,bF as op,bG as ap,bH as cp,bI as lp,bJ as Dt,bK as up,bL as dp,bM as hp,bN as fp,bO as da,bP as pp,bQ as gp,bR as wp,bS as mp,bT as Mp,bU as yp,bV as Ap,bW as xp,bX as bp,bY as Ip,bZ as Np,b_ as Ep,b$ as jp,c0 as Hl,c1 as Yl,c2 as Sp,c3 as Cp,c4 as Tp,c5 as Lp,c6 as Dp,c7 as _p,c8 as zp,c9 as kp,ca as Op,cb as vp,cc as Rp,cd as Pp,ce as Up,cf as Bp,cg as Wp,ch as Qp,ci as Fp,cj as Gp,ck as Hp,cl as Yp,cm as Vp,cn as Zp,co as Kp,cp as Jp,cq as qp,cr as Xp,cs as $p,ct as eg,cu as tg,cv as ng,cw as sg,cx as ig,cy as rg,cz as og,cA as ag,cB as cg,cC as lg,cD as ug,cE as dg,cF as hg,cG as fg,cH as pg}from"./cross-DJ28FxNa.js";import{fO as Te,fP as gg,fQ as Z,fR as Le,fS as Bs,fT as P,fU as ee,fV as ic,fW as bn,fX as md,fY as wg,fZ as Md,f_ as Fo,f$ as mg,g0 as Sa,g1 as Mg,g2 as yd,g3 as Qt,g4 as te,bd as Vl,g5 as yg,g6 as Ag,g7 as mo,g8 as dr,g9 as Et,ga as rc,gb as en,gc as Ne,gd as J,ge as Ke,gf as Zi,gg as Lr,gh as he,gi as cr,gj as jt,gk as xg,gl as Je,gm as Ki,gn as Ir,go as Pt,gp as bg,gq as Ig,gr as Ng,gs as Eg,gt as Jt,gu as Kt,gv as oc,gw as Zl,gx as jg,gy as yt,gz as Sg,gA as Cg,gB as Kl,gC as Nr,gD as ac,gE as Tg,gF as ne,gG as Jl,gH as ql,gI as _e,i as Ad,K as xd,Z as bd,gJ as Id,f as Lt,z as ge,E as ze,gK as Lg,gL as Xl,f3 as $l,T as qn,gM as Ca,gN as cc,ad as Ln,cu as Dg,t as Go,I as Ae,S as Fs,p as qr,C as hi,u as tn,a as Nd,ar as _g,gO as Ml,gP as eu,e as zg,bl as kg,aq as Og,b as yl,M as vg,b1 as Rg,a$ as Ed,aT as Al,O as Pg,an as jd,b3 as Ug,gQ as Bg,bL as Wg,aO as lc,d as Qg,aU as Sd,as as Fg,cU as Gg,gR as Hg,q as Yg,v as tu}from"./index-BpSfzecM.js";import{a as Vg,P as Zg}from"./PriceImpact-B_OiyXWK.js";import{b as Kg}from"./useSwapHelper-RreJ3kMc.js";import{C as Cd}from"./CurrentPrice-D1qM8kFS.js";import{a as uc}from"./usePreviousValue-Da-o2xpb.js";import{H as nu}from"./HighlightText-Dw_TnRsZ.js";import{u as Jg}from"./useSigner-Ct94kXtL.js";import{u as qg}from"./useTransactionModal-DL7w_I3R.js";import{v as Xg}from"./v4-C6aID195.js";import{E as Td}from"./ErrorTips-lJshH5MT.js";import{H as Xn}from"./HTextLabelBox-D0r99Smv.js";import{N as xl}from"./NoData-BFX9XpKb.js";import{u as Ld}from"./index-CLgd2W9i.js";import{L as Dd}from"./Loading-DOvYGudd.js";import{S as $g}from"./Slippage-8fJCLOYr.js";import{F as e0}from"./FreshProgressV2-DfCij7Ow.js";import{d as t0}from"./dijkstra-D_NXgYpA.js";function n0(n){console.log("ðŸš€ðŸš€ðŸš€ ~ cross-error.ts:8 ~ isUserRejectedError ~ error:",n.message),console.log("ðŸš€ðŸš€ðŸš€ ~ cross-error.ts:8 ~ isUserRejectedError ~ error2:",n.message.toLocaleLowerCase().includes("user")),console.log("ðŸš€ðŸš€ðŸš€ ~ cross-error.ts:8 ~ isUserRejectedError ~ error3:",n.message.toLocaleLowerCase().includes("reject"));try{const e=n.message.toLocaleLowerCase();return e.includes("user")&&e.includes("reject")}catch{return!1}return!1}const s0=[{matcher:n0,message:"User rejected the request"},{matcher:n=>String(n).includes("Transaction validator signing failed"),message:"Oops. Failed to pull your txid. Please check your txn status from explorer or from your wallet."}];function i0(n){for(const{matcher:e,message:t}of s0)if(e(n))return typeof t=="function"?t(n):t;return"Transaction failed"}const su="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const iu=BigInt(58);function r0(n){const e=Te(n);let t=gg(e),s="";for(;t;)s=su[Number(t%iu)]+s,t/=iu;for(let i=0;i<e.length&&!e[i];i++)s=su[0]+s;return s}function o0(n){n=atob(n);const e=new Uint8Array(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return Te(e)}function a0(n){const e=Te(n);let t="";for(let s=0;s<e.length;s++)t+=String.fromCharCode(e[s]);return btoa(t)}function _d(n){async function e(t,s){Z(s==null||!s.cancelled,"request cancelled before sending","CANCELLED");const i=t.url.split(":")[0].toLowerCase();Z(i==="http"||i==="https",`unsupported protocol ${i}`,"UNSUPPORTED_OPERATION",{info:{protocol:i},operation:"request"}),Z(i==="https"||!t.credentials||t.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let r=null;const o=new AbortController,a=setTimeout(()=>{r=Le("request timeout","TIMEOUT"),o.abort()},t.timeout);s&&s.addListener(()=>{r=Le("request cancelled","CANCELLED"),o.abort()});const c=Object.assign({},n,{method:t.method,headers:new Headers(Array.from(t)),body:t.body||void 0,signal:o.signal});let l;try{l=await fetch(t.url,c)}catch(p){throw clearTimeout(a),r||p}clearTimeout(a);const d={};l.headers.forEach((p,m)=>{d[m.toLowerCase()]=p});const h=await l.arrayBuffer(),f=h==null?null:new Uint8Array(h);return{statusCode:l.status,statusMessage:l.statusText,headers:d,body:f}}return e}const c0=12,l0=250;let ru=_d();const u0=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),d0=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let Ta=!1;async function zd(n,e){try{const t=n.match(u0);if(!t)throw new Error("invalid data");return new es(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?o0(t[3]):f0(t[3]))}catch{return new es(599,"BAD REQUEST (invalid data: URI)",{},null,new ns(n))}}function kd(n){async function e(t,s){try{const i=t.match(d0);if(!i)throw new Error("invalid link");return new ns(`${n}${i[2]}`)}catch{return new es(599,"BAD REQUEST (invalid IPFS URI)",{},null,new ns(t))}}return e}const oo={data:zd,ipfs:kd("https://gateway.ipfs.io/ipfs/")},Od=new WeakMap;var Ns,vn;class h0{constructor(e){k(this,Ns);k(this,vn);b(this,Ns,[]),b(this,vn,!1),Od.set(e,()=>{if(!w(this,vn)){b(this,vn,!0);for(const t of w(this,Ns))setTimeout(()=>{t()},0);b(this,Ns,[])}})}addListener(e){Z(!w(this,vn),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),w(this,Ns).push(e)}get cancelled(){return w(this,vn)}checkSignal(){Z(!this.cancelled,"cancelled","CANCELLED",{})}}Ns=new WeakMap,vn=new WeakMap;function ao(n){if(n==null)throw new Error("missing signal; should not happen");return n.checkSignal(),n}var wi,mi,kt,ln,Mi,yi,Re,ht,un,Es,js,Ss,Gt,Ot,Rn,Cs,fr;const oa=class oa{constructor(e){k(this,Cs);k(this,wi);k(this,mi);k(this,kt);k(this,ln);k(this,Mi);k(this,yi);k(this,Re);k(this,ht);k(this,un);k(this,Es);k(this,js);k(this,Ss);k(this,Gt);k(this,Ot);k(this,Rn);b(this,yi,String(e)),b(this,wi,!1),b(this,mi,!0),b(this,kt,{}),b(this,ln,""),b(this,Mi,3e5),b(this,Ot,{slotInterval:l0,maxAttempts:c0}),b(this,Rn,null)}get url(){return w(this,yi)}set url(e){b(this,yi,String(e))}get body(){return w(this,Re)==null?null:new Uint8Array(w(this,Re))}set body(e){if(e==null)b(this,Re,void 0),b(this,ht,void 0);else if(typeof e=="string")b(this,Re,Bs(e)),b(this,ht,"text/plain");else if(e instanceof Uint8Array)b(this,Re,e),b(this,ht,"application/octet-stream");else if(typeof e=="object")b(this,Re,Bs(JSON.stringify(e))),b(this,ht,"application/json");else throw new Error("invalid body")}hasBody(){return w(this,Re)!=null}get method(){return w(this,ln)?w(this,ln):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),b(this,ln,String(e).toUpperCase())}get headers(){const e=Object.assign({},w(this,kt));return w(this,un)&&(e.authorization=`Basic ${a0(Bs(w(this,un)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&w(this,ht)&&(e["content-type"]=w(this,ht)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){w(this,kt)[String(e).toLowerCase()]=String(t)}clearHeaders(){b(this,kt,{})}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let s=0;return{next:()=>{if(s<t.length){const i=t[s++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return w(this,un)||null}setCredentials(e,t){P(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),b(this,un,`${e}:${t}`)}get allowGzip(){return w(this,mi)}set allowGzip(e){b(this,mi,!!e)}get allowInsecureAuthentication(){return!!w(this,wi)}set allowInsecureAuthentication(e){b(this,wi,!!e)}get timeout(){return w(this,Mi)}set timeout(e){P(e>=0,"timeout must be non-zero","timeout",e),b(this,Mi,e)}get preflightFunc(){return w(this,Es)||null}set preflightFunc(e){b(this,Es,e)}get processFunc(){return w(this,js)||null}set processFunc(e){b(this,js,e)}get retryFunc(){return w(this,Ss)||null}set retryFunc(e){b(this,Ss,e)}get getUrlFunc(){return w(this,Rn)||ru}set getUrlFunc(e){b(this,Rn,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${w(this,Re)?ee(w(this,Re)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(w(this,Ot).slotInterval=e.slotInterval),e.maxAttempts!=null&&(w(this,Ot).maxAttempts=e.maxAttempts)}send(){return Z(w(this,Gt)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),b(this,Gt,new h0(this)),V(this,Cs,fr).call(this,0,ou()+this.timeout,0,this,new es(0,"",{},null,this))}cancel(){Z(w(this,Gt)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=Od.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const t=this.url.split(":")[0].toLowerCase(),s=e.split(":")[0].toLowerCase();Z(this.method==="GET"&&(t!=="https"||s!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const i=new oa(e);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,b(i,kt,Object.assign({},w(this,kt))),w(this,Re)&&b(i,Re,new Uint8Array(w(this,Re))),b(i,ht,w(this,ht)),i}clone(){const e=new oa(this.url);return b(e,ln,w(this,ln)),w(this,Re)&&b(e,Re,w(this,Re)),b(e,ht,w(this,ht)),b(e,kt,Object.assign({},w(this,kt))),b(e,un,w(this,un)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),b(e,Es,w(this,Es)),b(e,js,w(this,js)),b(e,Ss,w(this,Ss)),b(e,Ot,Object.assign({},w(this,Ot))),b(e,Rn,w(this,Rn)),e}static lockConfig(){Ta=!0}static getGateway(e){return oo[e.toLowerCase()]||null}static registerGateway(e,t){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(Ta)throw new Error("gateways locked");oo[e]=t}static registerGetUrl(e){if(Ta)throw new Error("gateways locked");ru=e}static createGetUrlFunc(e){return _d(e)}static createDataGateway(){return zd}static createIpfsGatewayFunc(e){return kd(e)}};wi=new WeakMap,mi=new WeakMap,kt=new WeakMap,ln=new WeakMap,Mi=new WeakMap,yi=new WeakMap,Re=new WeakMap,ht=new WeakMap,un=new WeakMap,Es=new WeakMap,js=new WeakMap,Ss=new WeakMap,Gt=new WeakMap,Ot=new WeakMap,Rn=new WeakMap,Cs=new WeakSet,fr=async function(e,t,s,i,r){var d,h,f;if(e>=w(this,Ot).maxAttempts)return r.makeServerError("exceeded maximum retry limit");Z(ou()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),s>0&&await p0(s);let o=this.clone();const a=(o.url.split(":")[0]||"").toLowerCase();if(a in oo){const p=await oo[a](o.url,ao(w(i,Gt)));if(p instanceof es){let m=p;if(this.processFunc){ao(w(i,Gt));try{m=await this.processFunc(o,m)}catch(g){(g.throttle==null||typeof g.stall!="number")&&m.makeServerError("error in post-processing function",g).assertOk()}}return m}o=p}this.preflightFunc&&(o=await this.preflightFunc(o));const c=await this.getUrlFunc(o,ao(w(i,Gt)));let l=new es(c.statusCode,c.statusMessage,c.headers,c.body,i);if(l.statusCode===301||l.statusCode===302){try{const p=l.headers.location||"";return V(d=o.redirect(p),Cs,fr).call(d,e+1,t,0,i,l)}catch{}return l}else if(l.statusCode===429&&(this.retryFunc==null||await this.retryFunc(o,l,e))){const p=l.headers["retry-after"];let m=w(this,Ot).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof p=="string"&&p.match(/^[1-9][0-9]*$/)&&(m=parseInt(p)),V(h=o.clone(),Cs,fr).call(h,e+1,t,m,i,l)}if(this.processFunc){ao(w(i,Gt));try{l=await this.processFunc(o,l)}catch(p){(p.throttle==null||typeof p.stall!="number")&&l.makeServerError("error in post-processing function",p).assertOk();let m=w(this,Ot).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return p.stall>=0&&(m=p.stall),V(f=o.clone(),Cs,fr).call(f,e+1,t,m,i,l)}}return l};let ns=oa;var Qr,Fr,Gr,ft,Ai,Ts;const Ql=class Ql{constructor(e,t,s,i,r){k(this,Qr);k(this,Fr);k(this,Gr);k(this,ft);k(this,Ai);k(this,Ts);b(this,Qr,e),b(this,Fr,t),b(this,Gr,Object.keys(s).reduce((o,a)=>(o[a.toLowerCase()]=String(s[a]),o),{})),b(this,ft,i==null?null:new Uint8Array(i)),b(this,Ai,r||null),b(this,Ts,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${w(this,ft)?ee(w(this,ft)):"null"}>`}get statusCode(){return w(this,Qr)}get statusMessage(){return w(this,Fr)}get headers(){return Object.assign({},w(this,Gr))}get body(){return w(this,ft)==null?null:new Uint8Array(w(this,ft))}get bodyText(){try{return w(this,ft)==null?"":ic(w(this,ft))}catch{Z(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{Z(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let s=0;return{next:()=>{if(s<t.length){const i=t[s++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,t){let s;e?s=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,s=`CLIENT ESCALATED SERVER ERROR (${e})`);const i=new Ql(599,s,this.headers,this.body,w(this,Ai)||void 0);return b(i,Ts,{message:e,error:t}),i}throwThrottleError(e,t){t==null?t=-1:P(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);const s=new Error(e||"throttling requests");throw bn(s,{stall:t,throttle:!0}),s}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return w(this,ft)!=null}get request(){return w(this,Ai)}ok(){return w(this,Ts).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=w(this,Ts);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let s=null;this.request&&(s=this.request.url);let i=null;try{w(this,ft)&&(i=ic(w(this,ft)))}catch{}Z(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:s,responseBody:i,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};Qr=new WeakMap,Fr=new WeakMap,Gr=new WeakMap,ft=new WeakMap,Ai=new WeakMap,Ts=new WeakMap;let es=Ql;function ou(){return new Date().getTime()}function f0(n){return Bs(n.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))}function p0(n){return new Promise(e=>setTimeout(e,n))}function g0(n){let e=n.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function au(n,e,t){let s=0;for(let i=0;i<t;i++)s=s*256+n[e+i];return s}function cu(n,e,t,s){const i=[];for(;t<e+1+s;){const r=vd(n,t);i.push(r.result),t+=r.consumed,Z(t<=e+1+s,"child data too short","BUFFER_OVERRUN",{buffer:n,length:s,offset:e})}return{consumed:1+s,result:i}}function vd(n,e){Z(n.length!==0,"data too short","BUFFER_OVERRUN",{buffer:n,length:0,offset:1});const t=s=>{Z(s<=n.length,"data short segment too short","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:s})};if(n[e]>=248){const s=n[e]-247;t(e+1+s);const i=au(n,e+1,s);return t(e+1+s+i),cu(n,e,e+1+s,s+i)}else if(n[e]>=192){const s=n[e]-192;return t(e+1+s),cu(n,e,e+1,s)}else if(n[e]>=184){const s=n[e]-183;t(e+1+s);const i=au(n,e+1,s);t(e+1+s+i);const r=ee(n.slice(e+1+s,e+1+s+i));return{consumed:1+s+i,result:r}}else if(n[e]>=128){const s=n[e]-128;t(e+1+s);const i=ee(n.slice(e+1,e+1+s));return{consumed:1+s,result:i}}return{consumed:1,result:g0(n[e])}}function Xr(n){const e=Te(n,"data"),t=vd(e,0);return P(t.consumed===e.length,"unexpected junk after rlp payload","data",n),t.result}function lu(n){const e=[];for(;n;)e.unshift(n&255),n>>=8;return e}function Rd(n){if(Array.isArray(n)){let s=[];if(n.forEach(function(r){s=s.concat(Rd(r))}),s.length<=55)return s.unshift(192+s.length),s;const i=lu(s.length);return i.unshift(247+i.length),i.concat(s)}const e=Array.prototype.slice.call(Te(n,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const t=lu(e.length);return t.unshift(183+t.length),t.concat(e)}const uu="0123456789abcdef";function ss(n){let e="0x";for(const t of Rd(n))e+=uu[t>>4],e+=uu[t&15];return e}class Pd extends md{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,wg(e);const s=Md(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,r=new Uint8Array(i);r.set(s.length>i?e.create().update(s).digest():s);for(let o=0;o<r.length;o++)r[o]^=54;this.iHash.update(r),this.oHash=e.create();for(let o=0;o<r.length;o++)r[o]^=106;this.oHash.update(r),r.fill(0)}update(e){return Fo(this),this.iHash.update(e),this}digestInto(e){Fo(this),mg(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:s,finished:i,destroyed:r,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=r,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=s._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Ud=(n,e,t)=>new Pd(n,e).update(t).digest();Ud.create=(n,e)=>new Pd(n,e);function w0(n,e,t,s){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,s);const i=BigInt(32),r=BigInt(4294967295),o=Number(t>>i&r),a=Number(t&r),c=s?4:0,l=s?0:4;n.setUint32(e+c,o,s),n.setUint32(e+l,a,s)}class Bd extends md{constructor(e,t,s,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=s,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Sa(this.buffer)}update(e){Fo(this);const{view:t,buffer:s,blockLen:i}=this;e=Md(e);const r=e.length;for(let o=0;o<r;){const a=Math.min(i-this.pos,r-o);if(a===i){const c=Sa(e);for(;i<=r-o;o+=i)this.process(c,o);continue}s.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Fo(this),Mg(e,this),this.finished=!0;const{buffer:t,view:s,blockLen:i,isLE:r}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(s,0),o=0);for(let h=o;h<i;h++)t[h]=0;w0(s,i-8,BigInt(this.length*8),r),this.process(s,0);const a=Sa(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,d=this.get();if(l>d.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<l;h++)a.setUint32(4*h,d[h],r)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const s=e.slice(0,t);return this.destroy(),s}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:s,length:i,finished:r,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=r,e.destroyed=o,i%t&&e.buffer.set(s),e}}const m0=(n,e,t)=>n&e^~n&t,M0=(n,e,t)=>n&e^n&t^e&t,y0=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),En=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),jn=new Uint32Array(64);class A0 extends Bd{constructor(){super(64,32,8,!1),this.A=En[0]|0,this.B=En[1]|0,this.C=En[2]|0,this.D=En[3]|0,this.E=En[4]|0,this.F=En[5]|0,this.G=En[6]|0,this.H=En[7]|0}get(){const{A:e,B:t,C:s,D:i,E:r,F:o,G:a,H:c}=this;return[e,t,s,i,r,o,a,c]}set(e,t,s,i,r,o,a,c){this.A=e|0,this.B=t|0,this.C=s|0,this.D=i|0,this.E=r|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let h=0;h<16;h++,t+=4)jn[h]=e.getUint32(t,!1);for(let h=16;h<64;h++){const f=jn[h-15],p=jn[h-2],m=Qt(f,7)^Qt(f,18)^f>>>3,g=Qt(p,17)^Qt(p,19)^p>>>10;jn[h]=g+jn[h-7]+m+jn[h-16]|0}let{A:s,B:i,C:r,D:o,E:a,F:c,G:l,H:d}=this;for(let h=0;h<64;h++){const f=Qt(a,6)^Qt(a,11)^Qt(a,25),p=d+f+m0(a,c,l)+y0[h]+jn[h]|0,g=(Qt(s,2)^Qt(s,13)^Qt(s,22))+M0(s,i,r)|0;d=l,l=c,c=a,a=o+p|0,o=r,r=i,i=s,s=p+g|0}s=s+this.A|0,i=i+this.B|0,r=r+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,d=d+this.H|0,this.set(s,i,r,o,a,c,l,d)}roundClean(){jn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Wd=yd(()=>new A0),[x0,b0]=te.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),Sn=new Uint32Array(80),Cn=new Uint32Array(80);class I0 extends Bd{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:s,Bl:i,Ch:r,Cl:o,Dh:a,Dl:c,Eh:l,El:d,Fh:h,Fl:f,Gh:p,Gl:m,Hh:g,Hl:x}=this;return[e,t,s,i,r,o,a,c,l,d,h,f,p,m,g,x]}set(e,t,s,i,r,o,a,c,l,d,h,f,p,m,g,x){this.Ah=e|0,this.Al=t|0,this.Bh=s|0,this.Bl=i|0,this.Ch=r|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=d|0,this.Fh=h|0,this.Fl=f|0,this.Gh=p|0,this.Gl=m|0,this.Hh=g|0,this.Hl=x|0}process(e,t){for(let M=0;M<16;M++,t+=4)Sn[M]=e.getUint32(t),Cn[M]=e.getUint32(t+=4);for(let M=16;M<80;M++){const I=Sn[M-15]|0,N=Cn[M-15]|0,E=te.rotrSH(I,N,1)^te.rotrSH(I,N,8)^te.shrSH(I,N,7),C=te.rotrSL(I,N,1)^te.rotrSL(I,N,8)^te.shrSL(I,N,7),S=Sn[M-2]|0,T=Cn[M-2]|0,D=te.rotrSH(S,T,19)^te.rotrBH(S,T,61)^te.shrSH(S,T,6),O=te.rotrSL(S,T,19)^te.rotrBL(S,T,61)^te.shrSL(S,T,6),G=te.add4L(C,O,Cn[M-7],Cn[M-16]),U=te.add4H(G,E,D,Sn[M-7],Sn[M-16]);Sn[M]=U|0,Cn[M]=G|0}let{Ah:s,Al:i,Bh:r,Bl:o,Ch:a,Cl:c,Dh:l,Dl:d,Eh:h,El:f,Fh:p,Fl:m,Gh:g,Gl:x,Hh:y,Hl:A}=this;for(let M=0;M<80;M++){const I=te.rotrSH(h,f,14)^te.rotrSH(h,f,18)^te.rotrBH(h,f,41),N=te.rotrSL(h,f,14)^te.rotrSL(h,f,18)^te.rotrBL(h,f,41),E=h&p^~h&g,C=f&m^~f&x,S=te.add5L(A,N,C,b0[M],Cn[M]),T=te.add5H(S,y,I,E,x0[M],Sn[M]),D=S|0,O=te.rotrSH(s,i,28)^te.rotrBH(s,i,34)^te.rotrBH(s,i,39),G=te.rotrSL(s,i,28)^te.rotrBL(s,i,34)^te.rotrBL(s,i,39),U=s&r^s&a^r&a,Q=i&o^i&c^o&c;y=g|0,A=x|0,g=p|0,x=m|0,p=h|0,m=f|0,{h,l:f}=te.add(l|0,d|0,T|0,D|0),l=a|0,d=c|0,a=r|0,c=o|0,r=s|0,o=i|0;const L=te.add3L(D,G,Q);s=te.add3H(L,T,O,U),i=L|0}({h:s,l:i}=te.add(this.Ah|0,this.Al|0,s|0,i|0)),{h:r,l:o}=te.add(this.Bh|0,this.Bl|0,r|0,o|0),{h:a,l:c}=te.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:d}=te.add(this.Dh|0,this.Dl|0,l|0,d|0),{h,l:f}=te.add(this.Eh|0,this.El|0,h|0,f|0),{h:p,l:m}=te.add(this.Fh|0,this.Fl|0,p|0,m|0),{h:g,l:x}=te.add(this.Gh|0,this.Gl|0,g|0,x|0),{h:y,l:A}=te.add(this.Hh|0,this.Hl|0,y|0,A|0),this.set(s,i,r,o,a,c,l,d,h,f,p,m,g,x,y,A)}roundClean(){Sn.fill(0),Cn.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const N0=yd(()=>new I0);function E0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof Vl<"u")return Vl;throw new Error("unable to locate global object")}const du=E0();du.crypto||du.msCrypto;function j0(n){switch(n){case"sha256":return Wd.create();case"sha512":return N0.create()}P(!1,"invalid hashing algorithm name","algorithm",n)}const Qd=function(n){return j0("sha256").update(n).digest()};let Fd=Qd,Gd=!1;function lr(n){const e=Te(n,"data");return ee(Fd(e))}lr._=Qd;lr.lock=function(){Gd=!0};lr.register=function(n){if(Gd)throw new Error("sha256 is locked");Fd=n};Object.freeze(lr);Object.freeze(lr);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Hd=BigInt(0),ha=BigInt(1),S0=BigInt(2),fa=n=>n instanceof Uint8Array,C0=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function Ji(n){if(!fa(n))throw new Error("Uint8Array expected");let e="";for(let t=0;t<n.length;t++)e+=C0[n[t]];return e}function Yd(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function bl(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}function qi(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const t=new Uint8Array(e/2);for(let s=0;s<t.length;s++){const i=s*2,r=n.slice(i,i+2),o=Number.parseInt(r,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[s]=o}return t}function Ws(n){return bl(Ji(n))}function Il(n){if(!fa(n))throw new Error("Uint8Array expected");return bl(Ji(Uint8Array.from(n).reverse()))}function Xi(n,e){return qi(n.toString(16).padStart(e*2,"0"))}function Nl(n,e){return Xi(n,e).reverse()}function T0(n){return qi(Yd(n))}function _t(n,e,t){let s;if(typeof e=="string")try{s=qi(e)}catch(r){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${r}`)}else if(fa(e))s=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const i=s.length;if(typeof t=="number"&&i!==t)throw new Error(`${n} expected ${t} bytes, got ${i}`);return s}function Dr(...n){const e=new Uint8Array(n.reduce((s,i)=>s+i.length,0));let t=0;return n.forEach(s=>{if(!fa(s))throw new Error("Uint8Array expected");e.set(s,t),t+=s.length}),e}function L0(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function D0(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function _0(n){let e;for(e=0;n>Hd;n>>=ha,e+=1);return e}function z0(n,e){return n>>BigInt(e)&ha}const k0=(n,e,t)=>n|(t?ha:Hd)<<BigInt(e),El=n=>(S0<<BigInt(n-1))-ha,La=n=>new Uint8Array(n),hu=n=>Uint8Array.from(n);function Vd(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let s=La(n),i=La(n),r=0;const o=()=>{s.fill(1),i.fill(0),r=0},a=(...h)=>t(i,s,...h),c=(h=La())=>{i=a(hu([0]),h),s=a(),h.length!==0&&(i=a(hu([1]),h),s=a())},l=()=>{if(r++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const f=[];for(;h<e;){s=a();const p=s.slice();f.push(p),h+=s.length}return Dr(...f)};return(h,f)=>{o(),c(h);let p;for(;!(p=f(l()));)c();return o(),p}}const O0={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||n instanceof Uint8Array,isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function $r(n,e,t={}){const s=(i,r,o)=>{const a=O0[r];if(typeof a!="function")throw new Error(`Invalid validator "${r}", expected function`);const c=n[i];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${r}`)};for(const[i,r]of Object.entries(e))s(i,r,!1);for(const[i,r]of Object.entries(t))s(i,r,!0);return n}const v0=Object.freeze(Object.defineProperty({__proto__:null,bitGet:z0,bitLen:_0,bitMask:El,bitSet:k0,bytesToHex:Ji,bytesToNumberBE:Ws,bytesToNumberLE:Il,concatBytes:Dr,createHmacDrbg:Vd,ensureBytes:_t,equalBytes:L0,hexToBytes:qi,hexToNumber:bl,numberToBytesBE:Xi,numberToBytesLE:Nl,numberToHexUnpadded:Yd,numberToVarBytesBE:T0,utf8ToBytes:D0,validateObject:$r},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ue=BigInt(0),be=BigInt(1),fs=BigInt(2),R0=BigInt(3),dc=BigInt(4),fu=BigInt(5),pu=BigInt(8);BigInt(9);BigInt(16);function rt(n,e){const t=n%e;return t>=Ue?t:e+t}function P0(n,e,t){if(t<=Ue||e<Ue)throw new Error("Expected power/modulo > 0");if(t===be)return Ue;let s=be;for(;e>Ue;)e&be&&(s=s*n%t),n=n*n%t,e>>=be;return s}function Mt(n,e,t){let s=n;for(;e-- >Ue;)s*=s,s%=t;return s}function hc(n,e){if(n===Ue||e<=Ue)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=rt(n,e),s=e,i=Ue,r=be;for(;t!==Ue;){const a=s/t,c=s%t,l=i-r*a;s=t,t=c,i=r,r=l}if(s!==be)throw new Error("invert: does not exist");return rt(i,e)}function U0(n){const e=(n-be)/fs;let t,s,i;for(t=n-be,s=0;t%fs===Ue;t/=fs,s++);for(i=fs;i<n&&P0(i,e,n)!==n-be;i++);if(s===1){const o=(n+be)/dc;return function(c,l){const d=c.pow(l,o);if(!c.eql(c.sqr(d),l))throw new Error("Cannot find square root");return d}}const r=(t+be)/fs;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=s,d=a.pow(a.mul(a.ONE,i),t),h=a.pow(c,r),f=a.pow(c,t);for(;!a.eql(f,a.ONE);){if(a.eql(f,a.ZERO))return a.ZERO;let p=1;for(let g=a.sqr(f);p<l&&!a.eql(g,a.ONE);p++)g=a.sqr(g);const m=a.pow(d,be<<BigInt(l-p-1));d=a.sqr(m),h=a.mul(h,m),f=a.mul(f,d),l=p}return h}}function B0(n){if(n%dc===R0){const e=(n+be)/dc;return function(s,i){const r=s.pow(i,e);if(!s.eql(s.sqr(r),i))throw new Error("Cannot find square root");return r}}if(n%pu===fu){const e=(n-fu)/pu;return function(s,i){const r=s.mul(i,fs),o=s.pow(r,e),a=s.mul(i,o),c=s.mul(s.mul(a,fs),o),l=s.mul(a,s.sub(c,s.ONE));if(!s.eql(s.sqr(l),i))throw new Error("Cannot find square root");return l}}return U0(n)}const W0=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Q0(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=W0.reduce((s,i)=>(s[i]="function",s),e);return $r(n,t)}function F0(n,e,t){if(t<Ue)throw new Error("Expected power > 0");if(t===Ue)return n.ONE;if(t===be)return e;let s=n.ONE,i=e;for(;t>Ue;)t&be&&(s=n.mul(s,i)),i=n.sqr(i),t>>=be;return s}function G0(n,e){const t=new Array(e.length),s=e.reduce((r,o,a)=>n.is0(o)?r:(t[a]=r,n.mul(r,o)),n.ONE),i=n.inv(s);return e.reduceRight((r,o,a)=>n.is0(o)?r:(t[a]=n.mul(r,t[a]),n.mul(r,o)),i),t}function Zd(n,e){const t=e!==void 0?e:n.toString(2).length,s=Math.ceil(t/8);return{nBitLength:t,nByteLength:s}}function H0(n,e,t=!1,s={}){if(n<=Ue)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:i,nByteLength:r}=Zd(n,e);if(r>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=B0(n),a=Object.freeze({ORDER:n,BITS:i,BYTES:r,MASK:El(i),ZERO:Ue,ONE:be,create:c=>rt(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Ue<=c&&c<n},is0:c=>c===Ue,isOdd:c=>(c&be)===be,neg:c=>rt(-c,n),eql:(c,l)=>c===l,sqr:c=>rt(c*c,n),add:(c,l)=>rt(c+l,n),sub:(c,l)=>rt(c-l,n),mul:(c,l)=>rt(c*l,n),pow:(c,l)=>F0(a,c,l),div:(c,l)=>rt(c*hc(l,n),n),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>hc(c,n),sqrt:s.sqrt||(c=>o(a,c)),invertBatch:c=>G0(a,c),cmov:(c,l,d)=>d?l:c,toBytes:c=>t?Nl(c,r):Xi(c,r),fromBytes:c=>{if(c.length!==r)throw new Error(`Fp.fromBytes: expected ${r}, got ${c.length}`);return t?Il(c):Ws(c)}});return Object.freeze(a)}function Kd(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function Jd(n){const e=Kd(n);return e+Math.ceil(e/2)}function Y0(n,e,t=!1){const s=n.length,i=Kd(e),r=Jd(e);if(s<16||s<r||s>1024)throw new Error(`expected ${r}-1024 bytes of input, got ${s}`);const o=t?Ws(n):Il(n),a=rt(o,e-be)+be;return t?Nl(a,i):Xi(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const V0=BigInt(0),Da=BigInt(1);function Z0(n,e){const t=(i,r)=>{const o=r.negate();return i?o:r},s=i=>{const r=Math.ceil(e/i)+1,o=2**(i-1);return{windows:r,windowSize:o}};return{constTimeNegate:t,unsafeLadder(i,r){let o=n.ZERO,a=i;for(;r>V0;)r&Da&&(o=o.add(a)),a=a.double(),r>>=Da;return o},precomputeWindow(i,r){const{windows:o,windowSize:a}=s(r),c=[];let l=i,d=l;for(let h=0;h<o;h++){d=l,c.push(d);for(let f=1;f<a;f++)d=d.add(l),c.push(d);l=d.double()}return c},wNAF(i,r,o){const{windows:a,windowSize:c}=s(i);let l=n.ZERO,d=n.BASE;const h=BigInt(2**i-1),f=2**i,p=BigInt(i);for(let m=0;m<a;m++){const g=m*c;let x=Number(o&h);o>>=p,x>c&&(x-=f,o+=Da);const y=g,A=g+Math.abs(x)-1,M=m%2!==0,I=x<0;x===0?d=d.add(t(M,r[y])):l=l.add(t(I,r[A]))}return{p:l,f:d}},wNAFCached(i,r,o,a){const c=i._WINDOW_SIZE||1;let l=r.get(i);return l||(l=this.precomputeWindow(i,c),c!==1&&r.set(i,a(l))),this.wNAF(c,l,o)}}}function qd(n){return Q0(n.Fp),$r(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Zd(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function K0(n){const e=qd(n);$r(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:s,a:i}=e;if(t){if(!s.eql(i,s.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:J0,hexToBytes:q0}=v0,ms={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=ms;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],s=n.subarray(2,t+2);if(!t||s.length!==t)throw new e("Invalid signature integer: wrong length");if(s[0]&128)throw new e("Invalid signature integer: negative");if(s[0]===0&&!(s[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:J0(s),l:n.subarray(t+2)}},toSig(n){const{Err:e}=ms,t=typeof n=="string"?q0(n):n;if(!(t instanceof Uint8Array))throw new Error("ui8a expected");let s=t.length;if(s<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==s-2)throw new e("Invalid signature: incorrect length");const{d:i,l:r}=ms._parseInt(t.subarray(2)),{d:o,l:a}=ms._parseInt(r);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(n){const e=l=>Number.parseInt(l[0],16)&8?"00"+l:l,t=l=>{const d=l.toString(16);return d.length&1?`0${d}`:d},s=e(t(n.s)),i=e(t(n.r)),r=s.length/2,o=i.length/2,a=t(r),c=t(o);return`30${t(o+r+4)}02${c}${i}02${a}${s}`}},Mn=BigInt(0),Nt=BigInt(1);BigInt(2);const gu=BigInt(3);BigInt(4);function X0(n){const e=K0(n),{Fp:t}=e,s=e.toBytes||((m,g,x)=>{const y=g.toAffine();return Dr(Uint8Array.from([4]),t.toBytes(y.x),t.toBytes(y.y))}),i=e.fromBytes||(m=>{const g=m.subarray(1),x=t.fromBytes(g.subarray(0,t.BYTES)),y=t.fromBytes(g.subarray(t.BYTES,2*t.BYTES));return{x,y}});function r(m){const{a:g,b:x}=e,y=t.sqr(m),A=t.mul(y,m);return t.add(t.add(A,t.mul(m,g)),x)}if(!t.eql(t.sqr(e.Gy),r(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return typeof m=="bigint"&&Mn<m&&m<e.n}function a(m){if(!o(m))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(m){const{allowedPrivateKeyLengths:g,nByteLength:x,wrapPrivateKey:y,n:A}=e;if(g&&typeof m!="bigint"){if(m instanceof Uint8Array&&(m=Ji(m)),typeof m!="string"||!g.includes(m.length))throw new Error("Invalid key");m=m.padStart(x*2,"0")}let M;try{M=typeof m=="bigint"?m:Ws(_t("private key",m,x))}catch{throw new Error(`private key must be ${x} bytes, hex or bigint, not ${typeof m}`)}return y&&(M=rt(M,A)),a(M),M}const l=new Map;function d(m){if(!(m instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(g,x,y){if(this.px=g,this.py=x,this.pz=y,g==null||!t.isValid(g))throw new Error("x required");if(x==null||!t.isValid(x))throw new Error("y required");if(y==null||!t.isValid(y))throw new Error("z required")}static fromAffine(g){const{x,y}=g||{};if(!g||!t.isValid(x)||!t.isValid(y))throw new Error("invalid affine point");if(g instanceof h)throw new Error("projective point not allowed");const A=M=>t.eql(M,t.ZERO);return A(x)&&A(y)?h.ZERO:new h(x,y,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(g){const x=t.invertBatch(g.map(y=>y.pz));return g.map((y,A)=>y.toAffine(x[A])).map(h.fromAffine)}static fromHex(g){const x=h.fromAffine(i(_t("pointHex",g)));return x.assertValidity(),x}static fromPrivateKey(g){return h.BASE.multiply(c(g))}_setWindowSize(g){this._WINDOW_SIZE=g,l.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!t.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:g,y:x}=this.toAffine();if(!t.isValid(g)||!t.isValid(x))throw new Error("bad point: x or y not FE");const y=t.sqr(x),A=r(g);if(!t.eql(y,A))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:g}=this.toAffine();if(t.isOdd)return!t.isOdd(g);throw new Error("Field doesn't support isOdd")}equals(g){d(g);const{px:x,py:y,pz:A}=this,{px:M,py:I,pz:N}=g,E=t.eql(t.mul(x,N),t.mul(M,A)),C=t.eql(t.mul(y,N),t.mul(I,A));return E&&C}negate(){return new h(this.px,t.neg(this.py),this.pz)}double(){const{a:g,b:x}=e,y=t.mul(x,gu),{px:A,py:M,pz:I}=this;let N=t.ZERO,E=t.ZERO,C=t.ZERO,S=t.mul(A,A),T=t.mul(M,M),D=t.mul(I,I),O=t.mul(A,M);return O=t.add(O,O),C=t.mul(A,I),C=t.add(C,C),N=t.mul(g,C),E=t.mul(y,D),E=t.add(N,E),N=t.sub(T,E),E=t.add(T,E),E=t.mul(N,E),N=t.mul(O,N),C=t.mul(y,C),D=t.mul(g,D),O=t.sub(S,D),O=t.mul(g,O),O=t.add(O,C),C=t.add(S,S),S=t.add(C,S),S=t.add(S,D),S=t.mul(S,O),E=t.add(E,S),D=t.mul(M,I),D=t.add(D,D),S=t.mul(D,O),N=t.sub(N,S),C=t.mul(D,T),C=t.add(C,C),C=t.add(C,C),new h(N,E,C)}add(g){d(g);const{px:x,py:y,pz:A}=this,{px:M,py:I,pz:N}=g;let E=t.ZERO,C=t.ZERO,S=t.ZERO;const T=e.a,D=t.mul(e.b,gu);let O=t.mul(x,M),G=t.mul(y,I),U=t.mul(A,N),Q=t.add(x,y),L=t.add(M,I);Q=t.mul(Q,L),L=t.add(O,G),Q=t.sub(Q,L),L=t.add(x,A);let _=t.add(M,N);return L=t.mul(L,_),_=t.add(O,U),L=t.sub(L,_),_=t.add(y,A),E=t.add(I,N),_=t.mul(_,E),E=t.add(G,U),_=t.sub(_,E),S=t.mul(T,L),E=t.mul(D,U),S=t.add(E,S),E=t.sub(G,S),S=t.add(G,S),C=t.mul(E,S),G=t.add(O,O),G=t.add(G,O),U=t.mul(T,U),L=t.mul(D,L),G=t.add(G,U),U=t.sub(O,U),U=t.mul(T,U),L=t.add(L,U),O=t.mul(G,L),C=t.add(C,O),O=t.mul(_,L),E=t.mul(Q,E),E=t.sub(E,O),O=t.mul(Q,G),S=t.mul(_,S),S=t.add(S,O),new h(E,C,S)}subtract(g){return this.add(g.negate())}is0(){return this.equals(h.ZERO)}wNAF(g){return p.wNAFCached(this,l,g,x=>{const y=t.invertBatch(x.map(A=>A.pz));return x.map((A,M)=>A.toAffine(y[M])).map(h.fromAffine)})}multiplyUnsafe(g){const x=h.ZERO;if(g===Mn)return x;if(a(g),g===Nt)return this;const{endo:y}=e;if(!y)return p.unsafeLadder(this,g);let{k1neg:A,k1:M,k2neg:I,k2:N}=y.splitScalar(g),E=x,C=x,S=this;for(;M>Mn||N>Mn;)M&Nt&&(E=E.add(S)),N&Nt&&(C=C.add(S)),S=S.double(),M>>=Nt,N>>=Nt;return A&&(E=E.negate()),I&&(C=C.negate()),C=new h(t.mul(C.px,y.beta),C.py,C.pz),E.add(C)}multiply(g){a(g);let x=g,y,A;const{endo:M}=e;if(M){const{k1neg:I,k1:N,k2neg:E,k2:C}=M.splitScalar(x);let{p:S,f:T}=this.wNAF(N),{p:D,f:O}=this.wNAF(C);S=p.constTimeNegate(I,S),D=p.constTimeNegate(E,D),D=new h(t.mul(D.px,M.beta),D.py,D.pz),y=S.add(D),A=T.add(O)}else{const{p:I,f:N}=this.wNAF(x);y=I,A=N}return h.normalizeZ([y,A])[0]}multiplyAndAddUnsafe(g,x,y){const A=h.BASE,M=(N,E)=>E===Mn||E===Nt||!N.equals(A)?N.multiplyUnsafe(E):N.multiply(E),I=M(this,x).add(M(g,y));return I.is0()?void 0:I}toAffine(g){const{px:x,py:y,pz:A}=this,M=this.is0();g==null&&(g=M?t.ONE:t.inv(A));const I=t.mul(x,g),N=t.mul(y,g),E=t.mul(A,g);if(M)return{x:t.ZERO,y:t.ZERO};if(!t.eql(E,t.ONE))throw new Error("invZ was invalid");return{x:I,y:N}}isTorsionFree(){const{h:g,isTorsionFree:x}=e;if(g===Nt)return!0;if(x)return x(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:g,clearCofactor:x}=e;return g===Nt?this:x?x(h,this):this.multiplyUnsafe(e.h)}toRawBytes(g=!0){return this.assertValidity(),s(h,this,g)}toHex(g=!0){return Ji(this.toRawBytes(g))}}h.BASE=new h(e.Gx,e.Gy,t.ONE),h.ZERO=new h(t.ZERO,t.ONE,t.ZERO);const f=e.nBitLength,p=Z0(h,e.endo?Math.ceil(f/2):f);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:c,weierstrassEquation:r,isWithinCurveOrder:o}}function $0(n){const e=qd(n);return $r(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function ew(n){const e=$0(n),{Fp:t,n:s}=e,i=t.BYTES+1,r=2*t.BYTES+1;function o(L){return Mn<L&&L<t.ORDER}function a(L){return rt(L,s)}function c(L){return hc(L,s)}const{ProjectivePoint:l,normPrivateKeyToScalar:d,weierstrassEquation:h,isWithinCurveOrder:f}=X0({...e,toBytes(L,_,v){const X=_.toAffine(),$=t.toBytes(X.x),ue=Dr;return v?ue(Uint8Array.from([_.hasEvenY()?2:3]),$):ue(Uint8Array.from([4]),$,t.toBytes(X.y))},fromBytes(L){const _=L.length,v=L[0],X=L.subarray(1);if(_===i&&(v===2||v===3)){const $=Ws(X);if(!o($))throw new Error("Point is not on curve");const ue=h($);let ke=t.sqrt(ue);const Oe=(ke&Nt)===Nt;return(v&1)===1!==Oe&&(ke=t.neg(ke)),{x:$,y:ke}}else if(_===r&&v===4){const $=t.fromBytes(X.subarray(0,t.BYTES)),ue=t.fromBytes(X.subarray(t.BYTES,2*t.BYTES));return{x:$,y:ue}}else throw new Error(`Point of length ${_} was invalid. Expected ${i} compressed bytes or ${r} uncompressed bytes`)}}),p=L=>Ji(Xi(L,e.nByteLength));function m(L){const _=s>>Nt;return L>_}function g(L){return m(L)?a(-L):L}const x=(L,_,v)=>Ws(L.slice(_,v));class y{constructor(_,v,X){this.r=_,this.s=v,this.recovery=X,this.assertValidity()}static fromCompact(_){const v=e.nByteLength;return _=_t("compactSignature",_,v*2),new y(x(_,0,v),x(_,v,2*v))}static fromDER(_){const{r:v,s:X}=ms.toSig(_t("DER",_));return new y(v,X)}assertValidity(){if(!f(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!f(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(_){return new y(this.r,this.s,_)}recoverPublicKey(_){const{r:v,s:X,recovery:$}=this,ue=C(_t("msgHash",_));if($==null||![0,1,2,3].includes($))throw new Error("recovery id invalid");const ke=$===2||$===3?v+e.n:v;if(ke>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const Oe=$&1?"03":"02",lt=l.fromHex(Oe+p(ke)),nt=c(ke),wt=a(-ue*nt),Be=a(X*nt),Xe=l.BASE.multiplyAndAddUnsafe(lt,wt,Be);if(!Xe)throw new Error("point at infinify");return Xe.assertValidity(),Xe}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return qi(this.toDERHex())}toDERHex(){return ms.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return qi(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const A={isValidPrivateKey(L){try{return d(L),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const L=Jd(e.n);return Y0(e.randomBytes(L),e.n)},precompute(L=8,_=l.BASE){return _._setWindowSize(L),_.multiply(BigInt(3)),_}};function M(L,_=!0){return l.fromPrivateKey(L).toRawBytes(_)}function I(L){const _=L instanceof Uint8Array,v=typeof L=="string",X=(_||v)&&L.length;return _?X===i||X===r:v?X===2*i||X===2*r:L instanceof l}function N(L,_,v=!0){if(I(L))throw new Error("first arg must be private key");if(!I(_))throw new Error("second arg must be public key");return l.fromHex(_).multiply(d(L)).toRawBytes(v)}const E=e.bits2int||function(L){const _=Ws(L),v=L.length*8-e.nBitLength;return v>0?_>>BigInt(v):_},C=e.bits2int_modN||function(L){return a(E(L))},S=El(e.nBitLength);function T(L){if(typeof L!="bigint")throw new Error("bigint expected");if(!(Mn<=L&&L<S))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Xi(L,e.nByteLength)}function D(L,_,v=O){if(["recovered","canonical"].some(Fe=>Fe in v))throw new Error("sign() legacy options not supported");const{hash:X,randomBytes:$}=e;let{lowS:ue,prehash:ke,extraEntropy:Oe}=v;ue==null&&(ue=!0),L=_t("msgHash",L),ke&&(L=_t("prehashed msgHash",X(L)));const lt=C(L),nt=d(_),wt=[T(nt),T(lt)];if(Oe!=null){const Fe=Oe===!0?$(t.BYTES):Oe;wt.push(_t("extraEntropy",Fe))}const Be=Dr(...wt),Xe=lt;function $e(Fe){const mt=E(Fe);if(!f(mt))return;const In=c(mt),rn=l.BASE.multiply(mt).toAffine(),Ee=a(rn.x);if(Ee===Mn)return;const on=a(In*a(Xe+Ee*nt));if(on===Mn)return;let io=(rn.x===Ee?0:2)|Number(rn.y&Nt),$s=on;return ue&&m(on)&&($s=g(on),io^=1),new y(Ee,$s,io)}return{seed:Be,k2sig:$e}}const O={lowS:e.lowS,prehash:!1},G={lowS:e.lowS,prehash:!1};function U(L,_,v=O){const{seed:X,k2sig:$}=D(L,_,v),ue=e;return Vd(ue.hash.outputLen,ue.nByteLength,ue.hmac)(X,$)}l.BASE._setWindowSize(8);function Q(L,_,v,X=G){var rn;const $=L;if(_=_t("msgHash",_),v=_t("publicKey",v),"strict"in X)throw new Error("options.strict was renamed to lowS");const{lowS:ue,prehash:ke}=X;let Oe,lt;try{if(typeof $=="string"||$ instanceof Uint8Array)try{Oe=y.fromDER($)}catch(Ee){if(!(Ee instanceof ms.Err))throw Ee;Oe=y.fromCompact($)}else if(typeof $=="object"&&typeof $.r=="bigint"&&typeof $.s=="bigint"){const{r:Ee,s:on}=$;Oe=new y(Ee,on)}else throw new Error("PARSE");lt=l.fromHex(v)}catch(Ee){if(Ee.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(ue&&Oe.hasHighS())return!1;ke&&(_=e.hash(_));const{r:nt,s:wt}=Oe,Be=C(_),Xe=c(wt),$e=a(Be*Xe),Fe=a(nt*Xe),mt=(rn=l.BASE.multiplyAndAddUnsafe(lt,$e,Fe))==null?void 0:rn.toAffine();return mt?a(mt.x)===nt:!1}return{CURVE:e,getPublicKey:M,getSharedSecret:N,sign:U,verify:Q,ProjectivePoint:l,Signature:y,utils:A}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function tw(n){return{hash:n,hmac:(e,...t)=>Ud(n,e,Ag(...t)),randomBytes:yg}}function nw(n,e){const t=s=>ew({...n,...tw(s)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Xd=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),wu=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),sw=BigInt(1),fc=BigInt(2),mu=(n,e)=>(n+e/fc)/e;function iw(n){const e=Xd,t=BigInt(3),s=BigInt(6),i=BigInt(11),r=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=n*n*n%e,d=l*l*n%e,h=Mt(d,t,e)*d%e,f=Mt(h,t,e)*d%e,p=Mt(f,fc,e)*l%e,m=Mt(p,i,e)*p%e,g=Mt(m,r,e)*m%e,x=Mt(g,a,e)*g%e,y=Mt(x,c,e)*x%e,A=Mt(y,a,e)*g%e,M=Mt(A,t,e)*d%e,I=Mt(M,o,e)*m%e,N=Mt(I,s,e)*l%e,E=Mt(N,fc,e);if(!pc.eql(pc.sqr(E),n))throw new Error("Cannot find square root");return E}const pc=H0(Xd,void 0,void 0,{sqrt:iw}),Dn=nw({a:BigInt(0),b:BigInt(7),Fp:pc,n:wu,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=wu,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),s=-sw*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),r=t,o=BigInt("0x100000000000000000000000000000000"),a=mu(r*n,e),c=mu(-s*n,e);let l=rt(n-a*t-c*i,e),d=rt(-a*s-c*r,e);const h=l>o,f=d>o;if(h&&(l=e-l),f&&(d=e-d),l>o||d>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:h,k1:l,k2neg:f,k2:d}}}},Wd);BigInt(0);Dn.ProjectivePoint;var dn;const ps=class ps{constructor(e){k(this,dn);P(mo(e)===32,"invalid private key","privateKey","[REDACTED]"),b(this,dn,ee(e))}get privateKey(){return w(this,dn)}get publicKey(){return ps.computePublicKey(w(this,dn))}get compressedPublicKey(){return ps.computePublicKey(w(this,dn),!0)}sign(e){P(mo(e)===32,"invalid digest length","digest",e);const t=Dn.sign(dr(e),dr(w(this,dn)),{lowS:!0});return Et.from({r:rc(t.r,32),s:rc(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){const t=ps.computePublicKey(e);return ee(Dn.getSharedSecret(dr(w(this,dn)),Te(t),!1))}static computePublicKey(e,t){let s=Te(e,"key");if(s.length===32){const r=Dn.getPublicKey(s,!!t);return ee(r)}if(s.length===64){const r=new Uint8Array(65);r[0]=4,r.set(s,1),s=r}const i=Dn.ProjectivePoint.fromHex(s);return ee(i.toRawBytes(t))}static recoverPublicKey(e,t){P(mo(e)===32,"invalid digest length","digest",e);const s=Et.from(t);let i=Dn.Signature.fromCompact(dr(en([s.r,s.s])));i=i.addRecoveryBit(s.yParity);const r=i.recoverPublicKey(dr(e));return P(r!=null,"invalid signature for digest","signature",t),"0x"+r.toHex(!1)}static addPoints(e,t,s){const i=Dn.ProjectivePoint.fromHex(ps.computePublicKey(e).substring(2)),r=Dn.ProjectivePoint.fromHex(ps.computePublicKey(t).substring(2));return"0x"+i.add(r).toHex(!!s)}};dn=new WeakMap;let _r=ps;function rw(n){const e=Ne(n.from);let s=J(n.nonce,"tx.nonce").toString(16);return s==="0"?s="0x":s.length%2?s="0x0"+s:s="0x"+s,Ne(Ke(Zi(ss([e,s])),12))}function $d(n){return{address:Ne(n.address),nonce:J(n.nonce!=null?n.nonce:0),chainId:J(n.chainId!=null?n.chainId:0),signature:Et.from(n.signature)}}function ow(n){let e;return typeof n=="string"?e=_r.computePublicKey(n,!1):e=n.publicKey,Ne(Zi("0x"+e.substring(4)).substring(26))}function aw(n,e){return ow(_r.recoverPublicKey(n,e))}const Pe=BigInt(0),cw=BigInt(2),lw=BigInt(27),uw=BigInt(28),dw=BigInt(35),hw=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),_a=4096*32;function fw(n){return{blobToKzgCommitment:s=>{if("computeBlobProof"in n){if("blobToKzgCommitment"in n&&typeof n.blobToKzgCommitment=="function")return Te(n.blobToKzgCommitment(ee(s)))}else if("blobToKzgCommitment"in n&&typeof n.blobToKzgCommitment=="function")return Te(n.blobToKzgCommitment(s));if("blobToKZGCommitment"in n&&typeof n.blobToKZGCommitment=="function")return Te(n.blobToKZGCommitment(ee(s)));P(!1,"unsupported KZG library","kzg",n)},computeBlobKzgProof:(s,i)=>{if("computeBlobProof"in n&&typeof n.computeBlobProof=="function")return Te(n.computeBlobProof(ee(s),ee(i)));if("computeBlobKzgProof"in n&&typeof n.computeBlobKzgProof=="function")return n.computeBlobKzgProof(s,i);if("computeBlobKZGProof"in n&&typeof n.computeBlobKZGProof=="function")return Te(n.computeBlobKZGProof(ee(s),ee(i)));P(!1,"unsupported KZG library","kzg",n)}}}function Mu(n,e){let t=n.toString(16);for(;t.length<2;)t="0"+t;return t+=lr(e).substring(4),"0x"+t}function ur(n){return n==="0x"?null:Ne(n)}function pa(n,e){try{return cr(n)}catch(t){P(!1,t.message,e,n)}}function pw(n,e){try{if(!Array.isArray(n))throw new Error("authorizationList: invalid array");const t=[];for(let s=0;s<n.length;s++){const i=n[s];if(!Array.isArray(i))throw new Error(`authorization[${s}]: invalid array`);if(i.length!==6)throw new Error(`authorization[${s}]: wrong length`);if(!i[1])throw new Error(`authorization[${s}]: null address`);t.push({address:ur(i[1]),nonce:le(i[2],"nonce"),chainId:le(i[0],"chainId"),signature:Et.from({yParity:Xs(i[3],"yParity"),r:Ki(i[4],32),s:Ki(i[5],32)})})}return t}catch(t){P(!1,t.message,e,n)}}function Xs(n,e){return n==="0x"?0:he(n,e)}function le(n,e){if(n==="0x")return Pe;const t=J(n,e);return P(t<=hw,"value exceeds uint size",e,t),t}function re(n,e){const t=J(n,"value"),s=Je(t);return P(s.length<=32,"value too large",`tx.${e}`,t),s}function ga(n){return cr(n).map(e=>[e.address,e.storageKeys])}function gw(n){return n.map(e=>[re(e.chainId,"chainId"),e.address,re(e.nonce,"nonce"),re(e.signature.yParity,"yParity"),Je(e.signature.r),Je(e.signature.s)])}function ww(n,e){P(Array.isArray(n),`invalid ${e}`,"value",n);for(let t=0;t<n.length;t++)P(jt(n[t],32),"invalid ${ param } hash",`value[${t}]`,n[t]);return n}function mw(n){const e=Xr(n);P(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",n);const t={type:0,nonce:Xs(e[0],"nonce"),gasPrice:le(e[1],"gasPrice"),gasLimit:le(e[2],"gasLimit"),to:ur(e[3]),value:le(e[4],"value"),data:ee(e[5]),chainId:Pe};if(e.length===6)return t;const s=le(e[6],"v"),i=le(e[7],"r"),r=le(e[8],"s");if(i===Pe&&r===Pe)t.chainId=s;else{let o=(s-dw)/cw;o<Pe&&(o=Pe),t.chainId=o,P(o!==Pe||s===lw||s===uw,"non-canonical legacy v","v",e[6]),t.signature=Et.from({r:Ki(e[7],32),s:Ki(e[8],32),v:s})}return t}function Mw(n,e){const t=[re(n.nonce,"nonce"),re(n.gasPrice||0,"gasPrice"),re(n.gasLimit,"gasLimit"),n.to||"0x",re(n.value,"value"),n.data];let s=Pe;if(n.chainId!=Pe)s=J(n.chainId,"tx.chainId"),P(!e||e.networkV==null||e.legacyChainId===s,"tx.chainId/sig.v mismatch","sig",e);else if(n.signature){const r=n.signature.legacyChainId;r!=null&&(s=r)}if(!e)return s!==Pe&&(t.push(Je(s)),t.push("0x"),t.push("0x")),ss(t);let i=BigInt(27+e.yParity);return s!==Pe?i=Et.getChainIdV(s,e.v):BigInt(e.v)!==i&&P(!1,"tx.chainId/sig.v mismatch","sig",e),t.push(Je(i)),t.push(Je(e.r)),t.push(Je(e.s)),ss(t)}function wa(n,e){let t;try{if(t=Xs(e[0],"yParity"),t!==0&&t!==1)throw new Error("bad yParity")}catch{P(!1,"invalid yParity","yParity",e[0])}const s=Ki(e[1],32),i=Ki(e[2],32),r=Et.from({r:s,s:i,yParity:t});n.signature=r}function yw(n){const e=Xr(Te(n).slice(1));P(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",ee(n));const t={type:2,chainId:le(e[0],"chainId"),nonce:Xs(e[1],"nonce"),maxPriorityFeePerGas:le(e[2],"maxPriorityFeePerGas"),maxFeePerGas:le(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:le(e[4],"gasLimit"),to:ur(e[5]),value:le(e[6],"value"),data:ee(e[7]),accessList:pa(e[8],"accessList")};return e.length===9||wa(t,e.slice(9)),t}function Aw(n,e){const t=[re(n.chainId,"chainId"),re(n.nonce,"nonce"),re(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),re(n.maxFeePerGas||0,"maxFeePerGas"),re(n.gasLimit,"gasLimit"),n.to||"0x",re(n.value,"value"),n.data,ga(n.accessList||[])];return e&&(t.push(re(e.yParity,"yParity")),t.push(Je(e.r)),t.push(Je(e.s))),en(["0x02",ss(t)])}function xw(n){const e=Xr(Te(n).slice(1));P(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",ee(n));const t={type:1,chainId:le(e[0],"chainId"),nonce:Xs(e[1],"nonce"),gasPrice:le(e[2],"gasPrice"),gasLimit:le(e[3],"gasLimit"),to:ur(e[4]),value:le(e[5],"value"),data:ee(e[6]),accessList:pa(e[7],"accessList")};return e.length===8||wa(t,e.slice(8)),t}function bw(n,e){const t=[re(n.chainId,"chainId"),re(n.nonce,"nonce"),re(n.gasPrice||0,"gasPrice"),re(n.gasLimit,"gasLimit"),n.to||"0x",re(n.value,"value"),n.data,ga(n.accessList||[])];return e&&(t.push(re(e.yParity,"recoveryParam")),t.push(Je(e.r)),t.push(Je(e.s))),en(["0x01",ss(t)])}function Iw(n){let e=Xr(Te(n).slice(1)),t="3",s=null;if(e.length===4&&Array.isArray(e[0])){t="3 (network format)";const r=e[1],o=e[2],a=e[3];P(Array.isArray(r),"invalid network format: blobs not an array","fields[1]",r),P(Array.isArray(o),"invalid network format: commitments not an array","fields[2]",o),P(Array.isArray(a),"invalid network format: proofs not an array","fields[3]",a),P(r.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",e),P(r.length===a.length,"invalid network format: blobs/proofs length mismatch","fields",e),s=[];for(let c=0;c<e[1].length;c++)s.push({data:r[c],commitment:o[c],proof:a[c]});e=e[0]}P(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${t}`,"data",ee(n));const i={type:3,chainId:le(e[0],"chainId"),nonce:Xs(e[1],"nonce"),maxPriorityFeePerGas:le(e[2],"maxPriorityFeePerGas"),maxFeePerGas:le(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:le(e[4],"gasLimit"),to:ur(e[5]),value:le(e[6],"value"),data:ee(e[7]),accessList:pa(e[8],"accessList"),maxFeePerBlobGas:le(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};s&&(i.blobs=s),P(i.to!=null,`invalid address for transaction type: ${t}`,"data",n),P(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",n);for(let r=0;r<i.blobVersionedHashes.length;r++)P(jt(i.blobVersionedHashes[r],32),`invalid blobVersionedHash at index ${r}: must be length 32`,"data",n);return e.length===11||wa(i,e.slice(11)),i}function Nw(n,e,t){const s=[re(n.chainId,"chainId"),re(n.nonce,"nonce"),re(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),re(n.maxFeePerGas||0,"maxFeePerGas"),re(n.gasLimit,"gasLimit"),n.to||Lr,re(n.value,"value"),n.data,ga(n.accessList||[]),re(n.maxFeePerBlobGas||0,"maxFeePerBlobGas"),ww(n.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(s.push(re(e.yParity,"yParity")),s.push(Je(e.r)),s.push(Je(e.s)),t)?en(["0x03",ss([s,t.map(i=>i.data),t.map(i=>i.commitment),t.map(i=>i.proof)])]):en(["0x03",ss(s)])}function Ew(n){const e=Xr(Te(n).slice(1));P(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",ee(n));const t={type:4,chainId:le(e[0],"chainId"),nonce:Xs(e[1],"nonce"),maxPriorityFeePerGas:le(e[2],"maxPriorityFeePerGas"),maxFeePerGas:le(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:le(e[4],"gasLimit"),to:ur(e[5]),value:le(e[6],"value"),data:ee(e[7]),accessList:pa(e[8],"accessList"),authorizationList:pw(e[9],"authorizationList")};return e.length===10||wa(t,e.slice(10)),t}function jw(n,e){const t=[re(n.chainId,"chainId"),re(n.nonce,"nonce"),re(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),re(n.maxFeePerGas||0,"maxFeePerGas"),re(n.gasLimit,"gasLimit"),n.to||"0x",re(n.value,"value"),n.data,ga(n.accessList||[]),gw(n.authorizationList||[])];return e&&(t.push(re(e.yParity,"yParity")),t.push(Je(e.r)),t.push(Je(e.s))),en(["0x04",ss(t)])}var vt,xi,bi,Ii,Ni,Ei,ji,Si,Ci,Ti,Li,Di,Ls,Pn,Ht,Un,_i,zi,Mo;const Ft=class Ft{constructor(){k(this,zi);k(this,vt);k(this,xi);k(this,bi);k(this,Ii);k(this,Ni);k(this,Ei);k(this,ji);k(this,Si);k(this,Ci);k(this,Ti);k(this,Li);k(this,Di);k(this,Ls);k(this,Pn);k(this,Ht);k(this,Un);k(this,_i);b(this,vt,null),b(this,xi,null),b(this,Ii,0),b(this,Ni,Pe),b(this,Ei,null),b(this,ji,null),b(this,Si,null),b(this,bi,"0x"),b(this,Ci,Pe),b(this,Ti,Pe),b(this,Li,null),b(this,Di,null),b(this,Ls,null),b(this,Pn,null),b(this,Ht,null),b(this,Un,null),b(this,_i,null)}get type(){return w(this,vt)}set type(e){switch(e){case null:b(this,vt,null);break;case 0:case"legacy":b(this,vt,0);break;case 1:case"berlin":case"eip-2930":b(this,vt,1);break;case 2:case"london":case"eip-1559":b(this,vt,2);break;case 3:case"cancun":case"eip-4844":b(this,vt,3);break;case 4:case"pectra":case"eip-7702":b(this,vt,4);break;default:P(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=w(this,xi);return e==null&&this.type===3?Lr:e}set to(e){b(this,xi,e==null?null:Ne(e))}get nonce(){return w(this,Ii)}set nonce(e){b(this,Ii,he(e,"value"))}get gasLimit(){return w(this,Ni)}set gasLimit(e){b(this,Ni,J(e))}get gasPrice(){const e=w(this,Ei);return e==null&&(this.type===0||this.type===1)?Pe:e}set gasPrice(e){b(this,Ei,e==null?null:J(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=w(this,ji);return e??(this.type===2||this.type===3?Pe:null)}set maxPriorityFeePerGas(e){b(this,ji,e==null?null:J(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=w(this,Si);return e??(this.type===2||this.type===3?Pe:null)}set maxFeePerGas(e){b(this,Si,e==null?null:J(e,"maxFeePerGas"))}get data(){return w(this,bi)}set data(e){b(this,bi,ee(e))}get value(){return w(this,Ci)}set value(e){b(this,Ci,J(e,"value"))}get chainId(){return w(this,Ti)}set chainId(e){b(this,Ti,J(e))}get signature(){return w(this,Li)||null}set signature(e){b(this,Li,e==null?null:Et.from(e))}get accessList(){const e=w(this,Di)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){b(this,Di,e==null?null:cr(e))}get authorizationList(){const e=w(this,_i)||null;return e==null&&this.type===4?[]:e}set authorizationList(e){b(this,_i,e==null?null:e.map(t=>$d(t)))}get maxFeePerBlobGas(){const e=w(this,Ls);return e==null&&this.type===3?Pe:e}set maxFeePerBlobGas(e){b(this,Ls,e==null?null:J(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=w(this,Pn);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){P(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)P(jt(e[t],32),"invalid blobVersionedHash",`value[${t}]`,e[t])}b(this,Pn,e)}get blobs(){return w(this,Un)==null?null:w(this,Un).map(e=>Object.assign({},e))}set blobs(e){if(e==null){b(this,Un,null);return}const t=[],s=[];for(let i=0;i<e.length;i++){const r=e[i];if(xg(r)){Z(w(this,Ht),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let o=Te(r);if(P(o.length<=_a,"blob is too large",`blobs[${i}]`,r),o.length!==_a){const l=new Uint8Array(_a);l.set(o),o=l}const a=w(this,Ht).blobToKzgCommitment(o),c=ee(w(this,Ht).computeBlobKzgProof(o,a));t.push({data:ee(o),commitment:ee(a),proof:c}),s.push(Mu(1,a))}else{const o=ee(r.commitment);t.push({data:ee(r.data),commitment:o,proof:ee(r.proof)}),s.push(Mu(1,o))}}b(this,Un,t),b(this,Pn,s)}get kzg(){return w(this,Ht)}set kzg(e){e==null?b(this,Ht,null):b(this,Ht,fw(e))}get hash(){return this.signature==null?null:Zi(V(this,zi,Mo).call(this,!0,!1))}get unsignedHash(){return Zi(this.unsignedSerialized)}get from(){return this.signature==null?null:aw(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:_r.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){return V(this,zi,Mo).call(this,!0,!0)}get unsignedSerialized(){return V(this,zi,Mo).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,t=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,s=this.accessList!=null,i=w(this,Ls)!=null||w(this,Pn);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&Z(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),Z(!t||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),Z(this.type!==0||!s,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const r=[];return this.type!=null?r.push(this.type):this.authorizationList&&this.authorizationList.length?r.push(4):t?r.push(2):e?(r.push(1),s||r.push(0)):s?(r.push(1),r.push(2)):(i&&this.to||(r.push(0),r.push(1),r.push(2)),r.push(3)),r.sort(),r}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Ft.from(this)}toJSON(){const e=t=>t==null?null:t.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new Ft;if(typeof e=="string"){const s=Te(e);if(s[0]>=127)return Ft.from(mw(s));switch(s[0]){case 1:return Ft.from(xw(s));case 2:return Ft.from(yw(s));case 3:return Ft.from(Iw(s));case 4:return Ft.from(Ew(s))}Z(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new Ft;return e.type!=null&&(t.type=e.type),e.to!=null&&(t.to=e.to),e.nonce!=null&&(t.nonce=e.nonce),e.gasLimit!=null&&(t.gasLimit=e.gasLimit),e.gasPrice!=null&&(t.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(t.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(t.data=e.data),e.value!=null&&(t.value=e.value),e.chainId!=null&&(t.chainId=e.chainId),e.signature!=null&&(t.signature=Et.from(e.signature)),e.accessList!=null&&(t.accessList=e.accessList),e.authorizationList!=null&&(t.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(t.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(t.kzg=e.kzg),e.blobs!=null&&(t.blobs=e.blobs),e.hash!=null&&(P(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),P(t.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(P(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),P(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}};vt=new WeakMap,xi=new WeakMap,bi=new WeakMap,Ii=new WeakMap,Ni=new WeakMap,Ei=new WeakMap,ji=new WeakMap,Si=new WeakMap,Ci=new WeakMap,Ti=new WeakMap,Li=new WeakMap,Di=new WeakMap,Ls=new WeakMap,Pn=new WeakMap,Ht=new WeakMap,Un=new WeakMap,_i=new WeakMap,zi=new WeakSet,Mo=function(e,t){Z(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const s=e?this.signature:null;switch(this.inferType()){case 0:return Mw(this,s);case 1:return bw(this,s);case 2:return Aw(this,s);case 3:return Nw(this,s,t?this.blobs:null);case 4:return jw(this,s)}Z(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let Ho=Ft;var Sw="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";const yu=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),Au=4;function Cw(n){let e=0;function t(){return n[e++]<<8|n[e++]}let s=t(),i=1,r=[0,1];for(let N=1;N<s;N++)r.push(i+=t());let o=t(),a=e;e+=o;let c=0,l=0;function d(){return c==0&&(l=l<<8|n[e++],c=8),l>>--c&1}const h=31,f=2**h,p=f>>>1,m=p>>1,g=f-1;let x=0;for(let N=0;N<h;N++)x=x<<1|d();let y=[],A=0,M=f;for(;;){let N=Math.floor(((x-A+1)*i-1)/M),E=0,C=s;for(;C-E>1;){let D=E+C>>>1;N<r[D]?C=D:E=D}if(E==0)break;y.push(E);let S=A+Math.floor(M*r[E]/i),T=A+Math.floor(M*r[E+1]/i)-1;for(;!((S^T)&p);)x=x<<1&g|d(),S=S<<1&g,T=T<<1&g|1;for(;S&~T&m;)x=x&p|x<<1&g>>>1|d(),S=S<<1^p,T=(T^p)<<1|p|1;A=S,M=1+T-S}let I=s-4;return y.map(N=>{switch(N-I){case 3:return I+65792+(n[a++]<<16|n[a++]<<8|n[a++]);case 2:return I+256+(n[a++]<<8|n[a++]);case 1:return I+n[a++];default:return N-1}})}function Tw(n){let e=0;return()=>n[e++]}function eh(n){return Tw(Cw(Lw(n)))}function Lw(n){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,r)=>e[i.charCodeAt(0)]=r);let t=n.length,s=new Uint8Array(6*t>>3);for(let i=0,r=0,o=0,a=0;i<t;i++)a=a<<6|e[n.charCodeAt(i)],o+=6,o>=8&&(s[r++]=a>>(o-=8));return s}function Dw(n){return n&1?~n>>1:n>>1}function _w(n,e){let t=Array(n);for(let s=0,i=0;s<n;s++)t[s]=i+=Dw(e());return t}function zr(n,e=0){let t=[];for(;;){let s=n(),i=n();if(!i)break;e+=s;for(let r=0;r<i;r++)t.push(e+r);e+=i+1}return t}function th(n){return kr(()=>{let e=zr(n);if(e.length)return e})}function nh(n){let e=[];for(;;){let t=n();if(t==0)break;e.push(zw(t,n))}for(;;){let t=n()-1;if(t<0)break;e.push(kw(t,n))}return e.flat()}function kr(n){let e=[];for(;;){let t=n(e.length);if(!t)break;e.push(t)}return e}function sh(n,e,t){let s=Array(n).fill().map(()=>[]);for(let i=0;i<e;i++)_w(n,t).forEach((r,o)=>s[o].push(r));return s}function zw(n,e){let t=1+e(),s=e(),i=kr(e);return sh(i.length,1+n,e).flatMap((o,a)=>{let[c,...l]=o;return Array(i[a]).fill().map((d,h)=>{let f=h*s;return[c+h*t,l.map(p=>p+f)]})})}function kw(n,e){let t=1+e();return sh(t,1+n,e).map(i=>[i[0],i.slice(1)])}function Ow(n){let e=[],t=zr(n);return i(s([]),[]),e;function s(r){let o=n(),a=kr(()=>{let c=zr(n).map(l=>t[l]);if(c.length)return s(c)});return{S:o,B:a,Q:r}}function i({S:r,B:o},a,c){if(!(r&4&&c===a[a.length-1])){r&2&&(c=a[a.length-1]),r&1&&e.push(a);for(let l of o)for(let d of l.Q)i(l,[...a,d],c)}}}function vw(n){return n.toString(16).toUpperCase().padStart(2,"0")}function ih(n){return`{${vw(n)}}`}function Rw(n){let e=[];for(let t=0,s=n.length;t<s;){let i=n.codePointAt(t);t+=i<65536?1:2,e.push(i)}return e}function $i(n){let t=n.length;if(t<4096)return String.fromCodePoint(...n);let s=[];for(let i=0;i<t;)s.push(String.fromCodePoint(...n.slice(i,i+=4096)));return s.join("")}function Pw(n,e){let t=n.length,s=t-e.length;for(let i=0;s==0&&i<t;i++)s=n[i]-e[i];return s}var Uw="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";const Or=44032,Yo=4352,Vo=4449,Zo=4519,rh=19,oh=21,er=28,Ko=oh*er,Bw=rh*Ko,Ww=Or+Bw,Qw=Yo+rh,Fw=Vo+oh,Gw=Zo+er;function pr(n){return n>>24&255}function ah(n){return n&16777215}let gc,xu,wc,yo;function Hw(){let n=eh(Uw);gc=new Map(th(n).flatMap((e,t)=>e.map(s=>[s,t+1<<24]))),xu=new Set(zr(n)),wc=new Map,yo=new Map;for(let[e,t]of nh(n)){if(!xu.has(e)&&t.length==2){let[s,i]=t,r=yo.get(s);r||(r=new Map,yo.set(s,r)),r.set(i,e)}wc.set(e,t.reverse())}}function ch(n){return n>=Or&&n<Ww}function Yw(n,e){if(n>=Yo&&n<Qw&&e>=Vo&&e<Fw)return Or+(n-Yo)*Ko+(e-Vo)*er;if(ch(n)&&e>Zo&&e<Gw&&(n-Or)%er==0)return n+(e-Zo);{let t=yo.get(n);return t&&(t=t.get(e),t)?t:-1}}function lh(n){gc||Hw();let e=[],t=[],s=!1;function i(r){let o=gc.get(r);o&&(s=!0,r|=o),e.push(r)}for(let r of n)for(;;){if(r<128)e.push(r);else if(ch(r)){let o=r-Or,a=o/Ko|0,c=o%Ko/er|0,l=o%er;i(Yo+a),i(Vo+c),l>0&&i(Zo+l)}else{let o=wc.get(r);o?t.push(...o):i(r)}if(!t.length)break;r=t.pop()}if(s&&e.length>1){let r=pr(e[0]);for(let o=1;o<e.length;o++){let a=pr(e[o]);if(a==0||r<=a){r=a;continue}let c=o-1;for(;;){let l=e[c+1];if(e[c+1]=e[c],e[c]=l,!c||(r=pr(e[--c]),r<=a))break}r=pr(e[o])}}return e}function Vw(n){let e=[],t=[],s=-1,i=0;for(let r of n){let o=pr(r),a=ah(r);if(s==-1)o==0?s=a:e.push(a);else if(i>0&&i>=o)o==0?(e.push(s,...t),t.length=0,s=a):t.push(a),i=o;else{let c=Yw(s,a);c>=0?s=c:i==0&&o==0?(e.push(s),s=a):(t.push(a),i=o)}}return s>=0&&e.push(s,...t),e}function uh(n){return lh(n).map(ah)}function Zw(n){return Vw(lh(n))}const bu=45,dh=".",hh=65039,fh=1,Jo=n=>Array.from(n);function vr(n,e){return n.P.has(e)||n.Q.has(e)}class Kw extends Array{get is_emoji(){return!0}}let mc,ph,Ms,Mc,gh,fi,za,ni,cs,Iu,yc;function jl(){if(mc)return;let n=eh(Sw);const e=()=>zr(n),t=()=>new Set(e()),s=(d,h)=>h.forEach(f=>d.add(f));mc=new Map(nh(n)),ph=t(),Ms=e(),Mc=new Set(e().map(d=>Ms[d])),Ms=new Set(Ms),gh=t(),t();let i=th(n),r=n();const o=()=>{let d=new Set;return e().forEach(h=>s(d,i[h])),s(d,e()),d};fi=kr(d=>{let h=kr(n).map(f=>f+96);if(h.length){let f=d>=r;h[0]-=32,h=$i(h),f&&(h=`Restricted[${h}]`);let p=o(),m=o(),g=!n();return{N:h,P:p,Q:m,M:g,R:f}}}),za=t(),ni=new Map;let a=e().concat(Jo(za)).sort((d,h)=>d-h);a.forEach((d,h)=>{let f=n(),p=a[h]=f?a[h-f]:{V:[],M:new Map};p.V.push(d),za.has(d)||ni.set(d,p)});for(let{V:d,M:h}of new Set(ni.values())){let f=[];for(let m of d){let g=fi.filter(y=>vr(y,m)),x=f.find(({G:y})=>g.some(A=>y.has(A)));x||(x={G:new Set,V:[]},f.push(x)),x.V.push(m),s(x.G,g)}let p=f.flatMap(m=>Jo(m.G));for(let{G:m,V:g}of f){let x=new Set(p.filter(y=>!m.has(y)));for(let y of g)h.set(y,x)}}cs=new Set;let c=new Set;const l=d=>cs.has(d)?c.add(d):cs.add(d);for(let d of fi){for(let h of d.P)l(h);for(let h of d.Q)l(h)}for(let d of cs)!ni.has(d)&&!c.has(d)&&ni.set(d,fh);s(cs,uh(cs)),Iu=Ow(n).map(d=>Kw.from(d)).sort(Pw),yc=new Map;for(let d of Iu){let h=[yc];for(let f of d){let p=h.map(m=>{let g=m.get(f);return g||(g=new Map,m.set(f,g)),g});f===hh?h.push(...p):h=p}for(let f of h)f.V=d}}function Sl(n){return(wh(n)?"":`${Cl(ma([n]))} `)+ih(n)}function Cl(n){return`"${n}"â€Ž`}function Jw(n){if(n.length>=4&&n[2]==bu&&n[3]==bu)throw new Error(`invalid label extension: "${$i(n.slice(0,4))}"`)}function qw(n){for(let t=n.lastIndexOf(95);t>0;)if(n[--t]!==95)throw new Error("underscore allowed only at start")}function Xw(n){let e=n[0],t=yu.get(e);if(t)throw Er(`leading ${t}`);let s=n.length,i=-1;for(let r=1;r<s;r++){e=n[r];let o=yu.get(e);if(o){if(i==r)throw Er(`${t} + ${o}`);i=r+1,t=o}}if(i==s)throw Er(`trailing ${t}`)}function ma(n,e=1/0,t=ih){let s=[];$w(n[0])&&s.push("â—Œ"),n.length>e&&(e>>=1,n=[...n.slice(0,e),8230,...n.slice(-e)]);let i=0,r=n.length;for(let o=0;o<r;o++){let a=n[o];wh(a)&&(s.push($i(n.slice(i,o))),s.push(t(a)),i=o+1)}return s.push($i(n.slice(i,r))),s.join("")}function $w(n){return jl(),Ms.has(n)}function wh(n){return jl(),gh.has(n)}function em(n){return im(tm(n,Zw,am))}function tm(n,e,t){if(!n)return[];jl();let s=0;return n.split(dh).map(i=>{let r=Rw(i),o={input:r,offset:s};s+=r.length+1;try{let a=o.tokens=om(r,e,t),c=a.length,l;if(!c)throw new Error("empty label");let d=o.output=a.flat();if(qw(d),!(o.emoji=c>1||a[0].is_emoji)&&d.every(f=>f<128))Jw(d),l="ASCII";else{let f=a.flatMap(p=>p.is_emoji?[]:p);if(!f.length)l="Emoji";else{if(Ms.has(d[0]))throw Er("leading combining mark");for(let g=1;g<c;g++){let x=a[g];if(!x.is_emoji&&Ms.has(x[0]))throw Er(`emoji + combining mark: "${$i(a[g-1])} + ${ma([x[0]])}"`)}Xw(d);let p=Jo(new Set(f)),[m]=sm(p);rm(m,f),nm(m,p),l=m.N}}o.type=l}catch(a){o.error=a}return o})}function nm(n,e){let t,s=[];for(let i of e){let r=ni.get(i);if(r===fh)return;if(r){let o=r.M.get(i);if(t=t?t.filter(a=>o.has(a)):Jo(o),!t.length)return}else s.push(i)}if(t){for(let i of t)if(s.every(r=>vr(i,r)))throw new Error(`whole-script confusable: ${n.N}/${i.N}`)}}function sm(n){let e=fi;for(let t of n){let s=e.filter(i=>vr(i,t));if(!s.length)throw fi.some(i=>vr(i,t))?Mh(e[0],t):mh(t);if(e=s,s.length==1)break}return e}function im(n){return n.map(({input:e,error:t,output:s})=>{if(t){let i=t.message;throw new Error(n.length==1?i:`Invalid label ${Cl(ma(e,63))}: ${i}`)}return $i(s)}).join(dh)}function mh(n){return new Error(`disallowed character: ${Sl(n)}`)}function Mh(n,e){let t=Sl(e),s=fi.find(i=>i.P.has(e));return s&&(t=`${s.N} ${t}`),new Error(`illegal mixture: ${n.N} + ${t}`)}function Er(n){return new Error(`illegal placement: ${n}`)}function rm(n,e){for(let t of e)if(!vr(n,t))throw Mh(n,t);if(n.M){let t=uh(e);for(let s=1,i=t.length;s<i;s++)if(Mc.has(t[s])){let r=s+1;for(let o;r<i&&Mc.has(o=t[r]);r++)for(let a=s;a<r;a++)if(t[a]==o)throw new Error(`duplicate non-spacing marks: ${Sl(o)}`);if(r-s>Au)throw new Error(`excessive non-spacing marks: ${Cl(ma(t.slice(s-1,r)))} (${r-s}/${Au})`);s=r}}}function om(n,e,t){let s=[],i=[];for(n=n.slice().reverse();n.length;){let r=cm(n);if(r)i.length&&(s.push(e(i)),i=[]),s.push(t(r));else{let o=n.pop();if(cs.has(o))i.push(o);else{let a=mc.get(o);if(a)i.push(...a);else if(!ph.has(o))throw mh(o)}}}return i.length&&s.push(e(i)),s}function am(n){return n.filter(e=>e!=hh)}function cm(n,e){let t=yc,s,i=n.length;for(;i&&(t=t.get(n[--i]),!!t);){let{V:r}=t;r&&(s=r,n.length=i)}return s}const yh=new Uint8Array(32);yh.fill(0);function Nu(n){return P(n.length!==0,"invalid ENS name; empty component","comp",n),n}function Ah(n){const e=Bs(lm(n)),t=[];if(n.length===0)return t;let s=0;for(let i=0;i<e.length;i++)e[i]===46&&(t.push(Nu(e.slice(s,i))),s=i+1);return P(s<e.length,"invalid ENS name; empty component","name",n),t.push(Nu(e.slice(s))),t}function lm(n){try{if(n.length===0)throw new Error("empty label");return em(n)}catch(e){P(!1,`invalid ENS name (${e.message})`,"name",n)}}function Ac(n){P(typeof n=="string","invalid ENS name; not a string","name",n),P(n.length,"invalid ENS name (empty label)","name",n);let e=yh;const t=Ah(n);for(;t.length;)e=Zi(en([e,Zi(t.pop())]));return ee(e)}function um(n,e){const t=e;return P(t<=255,"DNS encoded label cannot exceed 255","length",t),ee(en(Ah(n).map(s=>{P(s.length<=t,`label ${JSON.stringify(n)} exceeds ${t} bytes`,"name",n);const i=new Uint8Array(s.length+1);return i.set(s,1),i[0]=i.length-1,i})))+"00"}function ka(n){return n.match(/^ipfs:\/\/ipfs\//i)?n=n.substring(12):n.match(/^ipfs:\/\//i)?n=n.substring(7):P(!1,"unsupported IPFS format","link",n),`https://gateway.ipfs.io/ipfs/${n}`}class dm{constructor(e){fe(this,"name");bn(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}}const xh=new RegExp("^(ipfs)://(.*)$","i"),Eu=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),xh,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var Bn,Ds,Wn,si,aa,bh;const ui=class ui{constructor(e,t,s){k(this,Wn);fe(this,"provider");fe(this,"address");fe(this,"name");k(this,Bn);k(this,Ds);bn(this,{provider:e,address:t,name:s}),b(this,Bn,null),b(this,Ds,new Ir(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return w(this,Bn)==null&&b(this,Bn,(async()=>{try{return await w(this,Ds).supportsInterface("0x9061b923")}catch(e){if(Pt(e,"CALL_EXCEPTION"))return!1;throw b(this,Bn,null),e}})()),await w(this,Bn)}async getAddress(e){if(e==null&&(e=60),e===60)try{const r=await V(this,Wn,si).call(this,"addr(bytes32)");return r==null||r===Lr?null:r}catch(r){if(Pt(r,"CALL_EXCEPTION"))return null;throw r}if(e>=0&&e<2147483648){let r=e+2147483648;const o=await V(this,Wn,si).call(this,"addr(bytes32,uint)",[r]);if(jt(o,20))return Ne(o)}let t=null;for(const r of this.provider.plugins)if(r instanceof dm&&r.supportsCoinType(e)){t=r;break}if(t==null)return null;const s=await V(this,Wn,si).call(this,"addr(bytes32,uint)",[e]);if(s==null||s==="0x")return null;const i=await t.decodeAddress(e,s);if(i!=null)return i;Z(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:s}})}async getText(e){const t=await V(this,Wn,si).call(this,"text(bytes32,string)",[e]);return t==null||t==="0x"?null:t}async getContentHash(){const e=await V(this,Wn,si).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const i=t[1]==="e3010170"?"ipfs":"ipns",r=parseInt(t[4],16);if(t[5].length===r*2)return`${i}://${r0("0x"+t[2])}`}const s=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(s&&s[1].length===64)return`bzz://${s[1]}`;Z(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const t=await this.getText("avatar");if(t==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:t});for(let s=0;s<Eu.length;s++){const i=t.match(Eu[s]);if(i==null)continue;const r=i[1].toLowerCase();switch(r){case"https":case"data":return e.push({type:"url",value:t}),{linkage:e,url:t};case"ipfs":{const o=ka(t);return e.push({type:"ipfs",value:t}),e.push({type:"url",value:o}),{linkage:e,url:o}}case"erc721":case"erc1155":{const o=r==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:r,value:t});const a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const c=(i[2]||"").split("/");if(c.length!==2)return e.push({type:`!${r}caip`,value:i[2]||""}),{url:null,linkage:e};const l=c[1],d=new Ir(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(r==="erc721"){const g=await d.ownerOf(l);if(a!==g)return e.push({type:"!owner",value:g}),{url:null,linkage:e};e.push({type:"owner",value:g})}else if(r==="erc1155"){const g=await d.balanceOf(a,l);if(!g)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:g.toString()})}let h=await d[o](l);if(h==null||h==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:h}),r==="erc1155"&&(h=h.replace("{id}",rc(l,32).substring(2)),e.push({type:"metadata-url-expanded",value:h})),h.match(/^ipfs:/i)&&(h=ka(h)),e.push({type:"metadata-url",value:h});let f={};const p=await new ns(h).send();p.assertOk();try{f=p.bodyJson}catch{try{e.push({type:"!metadata",value:p.bodyText})}catch{const y=p.body;return y&&e.push({type:"!metadata",value:ee(y)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!f)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(f)});let m=f.image;if(typeof m!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!m.match(/^(https:\/\/|data:)/i)){if(m.match(xh)==null)return e.push({type:"!imageUrl-ipfs",value:m}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:m}),m=ka(m)}return e.push({type:"url",value:m}),{linkage:e,url:m}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const t=await e.getNetwork(),s=t.getPlugin("org.ethers.plugins.network.Ens");return Z(s,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),s.address}static async fromName(e,t){var i;let s=t;for(;;){if(s===""||s==="."||t!=="eth"&&s==="eth")return null;const r=await V(i=ui,aa,bh).call(i,e,s);if(r!=null){const o=new ui(e,r,t);return s!==t&&!await o.supportsWildcard()?null:o}s=s.split(".").slice(1).join(".")}}};Bn=new WeakMap,Ds=new WeakMap,Wn=new WeakSet,si=async function(e,t){t=(t||[]).slice();const s=w(this,Ds).interface;t.unshift(Ac(this.name));let i=null;await this.supportsWildcard()&&(i=s.getFunction(e),Z(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[um(this.name,255),s.encodeFunctionData(i,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{const r=await w(this,Ds)[e](...t);return i?s.decodeFunctionResult(i,r)[0]:r}catch(r){if(!Pt(r,"CALL_EXCEPTION"))throw r}return null},aa=new WeakSet,bh=async function(e,t){const s=await ui.getEnsAddress(e);try{const r=await new Ir(s,["function resolver(bytes32) view returns (address)"],e).resolver(Ac(t),{enableCcipRead:!0});return r===Lr?null:r}catch(i){throw i}return null},k(ui,aa);let qo=ui;const ju=BigInt(0);function ie(n,e){return function(t){return t==null?e:n(t)}}function Rr(n,e){return t=>{if(e&&t==null)return null;if(!Array.isArray(t))throw new Error("not an array");return t.map(s=>n(s))}}function eo(n,e){return t=>{const s={};for(const i in n){let r=i;if(e&&i in e&&!(r in t)){for(const o of e[i])if(o in t){r=o;break}}try{const o=n[i](t[r]);o!==void 0&&(s[i]=o)}catch(o){const a=o instanceof Error?o.message:"not-an-error";Z(!1,`invalid value for value.${i} (${a})`,"BAD_DATA",{value:t})}}return s}}function hm(n){switch(n){case!0:case"true":return!0;case!1:case"false":return!1}P(!1,`invalid boolean; ${JSON.stringify(n)}`,"value",n)}function tr(n){return P(jt(n,!0),"invalid data","value",n),n}function Qe(n){return P(jt(n,32),"invalid hash","value",n),n}const fm=eo({address:Ne,blockHash:Qe,blockNumber:he,data:tr,index:he,removed:ie(hm,!1),topics:Rr(Qe),transactionHash:Qe,transactionIndex:he},{index:["logIndex"]});function pm(n){return fm(n)}const gm=eo({hash:ie(Qe),parentHash:Qe,parentBeaconBlockRoot:ie(Qe,null),number:he,timestamp:he,nonce:ie(tr),difficulty:J,gasLimit:J,gasUsed:J,stateRoot:ie(Qe,null),receiptsRoot:ie(Qe,null),blobGasUsed:ie(J,null),excessBlobGas:ie(J,null),miner:ie(Ne),prevRandao:ie(Qe,null),extraData:tr,baseFeePerGas:ie(J)},{prevRandao:["mixHash"]});function wm(n){const e=gm(n);return e.transactions=n.transactions.map(t=>typeof t=="string"?t:Ih(t)),e}const mm=eo({transactionIndex:he,blockNumber:he,transactionHash:Qe,address:Ne,topics:Rr(Qe),data:tr,index:he,blockHash:Qe},{index:["logIndex"]});function Mm(n){return mm(n)}const ym=eo({to:ie(Ne,null),from:ie(Ne,null),contractAddress:ie(Ne,null),index:he,root:ie(ee),gasUsed:J,blobGasUsed:ie(J,null),logsBloom:ie(tr),blockHash:Qe,hash:Qe,logs:Rr(Mm),blockNumber:he,cumulativeGasUsed:J,effectiveGasPrice:ie(J),blobGasPrice:ie(J,null),status:ie(he),type:ie(he,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function Am(n){return ym(n)}function Ih(n){n.to&&J(n.to)===ju&&(n.to="0x0000000000000000000000000000000000000000");const e=eo({hash:Qe,index:ie(he,void 0),type:t=>t==="0x"||t==null?0:he(t),accessList:ie(cr,null),blobVersionedHashes:ie(Rr(Qe,!0),null),authorizationList:ie(Rr(t=>{let s;if(t.signature)s=t.signature;else{let i=t.yParity;i==="0x1b"?i=0:i==="0x1c"&&(i=1),s=Object.assign({},t,{yParity:i})}return{address:Ne(t.address),chainId:J(t.chainId),nonce:J(t.nonce),signature:Et.from(s)}},!1),null),blockHash:ie(Qe,null),blockNumber:ie(he,null),transactionIndex:ie(he,null),from:Ne,gasPrice:ie(J),maxPriorityFeePerGas:ie(J),maxFeePerGas:ie(J),maxFeePerBlobGas:ie(J,null),gasLimit:J,to:ie(Ne,null),value:J,nonce:he,data:tr,creates:ie(Ne,null),chainId:ie(J,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(n);if(e.to==null&&e.creates==null&&(e.creates=rw(e)),(n.type===1||n.type===2)&&n.accessList==null&&(e.accessList=[]),n.signature?e.signature=Et.from(n.signature):e.signature=Et.from(n),e.chainId==null){const t=e.signature.legacyChainId;t!=null&&(e.chainId=t)}return e.blockHash&&J(e.blockHash)===ju&&(e.blockHash=null),e}const xm="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class to{constructor(e){fe(this,"name");bn(this,{name:e})}clone(){return new to(this.name)}}class Ma extends to{constructor(t,s){t==null&&(t=0);super(`org.ethers.network.plugins.GasCost#${t||0}`);fe(this,"effectiveBlock");fe(this,"txBase");fe(this,"txCreate");fe(this,"txDataZero");fe(this,"txDataNonzero");fe(this,"txAccessListStorageKey");fe(this,"txAccessListAddress");const i={effectiveBlock:t};function r(o,a){let c=(s||{})[o];c==null&&(c=a),P(typeof c=="number",`invalud value for ${o}`,"costs",s),i[o]=c}r("txBase",21e3),r("txCreate",32e3),r("txDataZero",4),r("txDataNonzero",16),r("txAccessListStorageKey",1900),r("txAccessListAddress",2400),bn(this,i)}clone(){return new Ma(this.effectiveBlock,this)}}class ya extends to{constructor(t,s){super("org.ethers.plugins.network.Ens");fe(this,"address");fe(this,"targetNetwork");bn(this,{address:t||xm,targetNetwork:s??1})}clone(){return new ya(this.address,this.targetNetwork)}}var Hr,Yr;class bm extends to{constructor(t,s){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");k(this,Hr);k(this,Yr);b(this,Hr,t),b(this,Yr,s)}get url(){return w(this,Hr)}get processFunc(){return w(this,Yr)}clone(){return this}}Hr=new WeakMap,Yr=new WeakMap;const Oa=new Map;var ki,Oi,Qn;const di=class di{constructor(e,t){k(this,ki);k(this,Oi);k(this,Qn);b(this,ki,e),b(this,Oi,J(t)),b(this,Qn,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return w(this,ki)}set name(e){b(this,ki,e)}get chainId(){return w(this,Oi)}set chainId(e){b(this,Oi,J(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===J(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===J(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===J(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(w(this,Qn).values())}attachPlugin(e){if(w(this,Qn).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return w(this,Qn).set(e.name,e.clone()),this}getPlugin(e){return w(this,Qn).get(e)||null}getPlugins(e){return this.plugins.filter(t=>t.name.split("#")[0]===e)}clone(){const e=new di(this.name,this.chainId);return this.plugins.forEach(t=>{e.attachPlugin(t.clone())}),e}computeIntrinsicGas(e){const t=this.getPlugin("org.ethers.plugins.network.GasCost")||new Ma;let s=t.txBase;if(e.to==null&&(s+=t.txCreate),e.data)for(let i=2;i<e.data.length;i+=2)e.data.substring(i,i+2)==="00"?s+=t.txDataZero:s+=t.txDataNonzero;if(e.accessList){const i=cr(e.accessList);for(const r in i)s+=t.txAccessListAddress+t.txAccessListStorageKey*i[r].storageKeys.length}return s}static from(e){if(Im(),e==null)return di.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const t=Oa.get(e);if(t)return t();if(typeof e=="bigint")return new di("unknown",e);P(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){P(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const t=new di(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&t.attachPlugin(new ya(e.ensAddress,e.ensNetwork)),t}P(!1,"invalid network","network",e)}static register(e,t){typeof e=="number"&&(e=BigInt(e));const s=Oa.get(e);s&&P(!1,`conflicting network for ${JSON.stringify(s.name)}`,"nameOrChainId",e),Oa.set(e,t)}};ki=new WeakMap,Oi=new WeakMap,Qn=new WeakMap;let qt=di;function Su(n,e){const t=String(n);if(!t.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${n}`);const s=t.split(".");if(s.length===1&&s.push(""),s.length!==2)throw new Error(`invalid gwei value: ${n}`);for(;s[1].length<e;)s[1]+="0";if(s[1].length>9){let i=BigInt(s[1].substring(0,9));s[1].substring(9).match(/^0+$/)||i++,s[1]=i.toString()}return BigInt(s[0]+s[1])}function Cu(n){return new bm(n,async(e,t,s)=>{s.setHeader("User-Agent","ethers");let i;try{const[r,o]=await Promise.all([s.send(),e()]);i=r;const a=i.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:Su(a.maxFee,9),maxPriorityFeePerGas:Su(a.maxPriorityFee,9)}}catch(r){Z(!1,`error encountered with polygon gas station (${JSON.stringify(s.url)})`,"SERVER_ERROR",{request:s,response:i,error:r})}})}let Tu=!1;function Im(){if(Tu)return;Tu=!0;function n(e,t,s){const i=function(){const r=new qt(e,t);return s.ensNetwork!=null&&r.attachPlugin(new ya(null,s.ensNetwork)),r.attachPlugin(new Ma),(s.plugins||[]).forEach(o=>{r.attachPlugin(o)}),r};qt.register(e,i),qt.register(t,i),s.altNames&&s.altNames.forEach(r=>{qt.register(r,i)})}n("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),n("ropsten",3,{ensNetwork:3}),n("rinkeby",4,{ensNetwork:4}),n("goerli",5,{ensNetwork:5}),n("kovan",42,{ensNetwork:42}),n("sepolia",11155111,{ensNetwork:11155111}),n("holesky",17e3,{ensNetwork:17e3}),n("classic",61,{}),n("classicKotti",6,{}),n("arbitrum",42161,{ensNetwork:1}),n("arbitrum-goerli",421613,{}),n("arbitrum-sepolia",421614,{}),n("base",8453,{ensNetwork:1}),n("base-goerli",84531,{}),n("base-sepolia",84532,{}),n("bnb",56,{ensNetwork:1}),n("bnbt",97,{}),n("linea",59144,{ensNetwork:1}),n("linea-goerli",59140,{}),n("linea-sepolia",59141,{}),n("matic",137,{ensNetwork:1,plugins:[Cu("https://gasstation.polygon.technology/v2")]}),n("matic-amoy",80002,{}),n("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[Cu("https://gasstation-testnet.polygon.technology/v2")]}),n("optimism",10,{ensNetwork:1,plugins:[]}),n("optimism-goerli",420,{}),n("optimism-sepolia",11155420,{}),n("xdai",100,{ensNetwork:1})}function xc(n){return JSON.parse(JSON.stringify(n))}var hn,At,Fn,Yt,vi,Ao;class Nm{constructor(e){k(this,vi);k(this,hn);k(this,At);k(this,Fn);k(this,Yt);b(this,hn,e),b(this,At,null),b(this,Fn,4e3),b(this,Yt,-2)}get pollingInterval(){return w(this,Fn)}set pollingInterval(e){b(this,Fn,e)}start(){w(this,At)||(b(this,At,w(this,hn)._setTimeout(V(this,vi,Ao).bind(this),w(this,Fn))),V(this,vi,Ao).call(this))}stop(){w(this,At)&&(w(this,hn)._clearTimeout(w(this,At)),b(this,At,null))}pause(e){this.stop(),e&&b(this,Yt,-2)}resume(){this.start()}}hn=new WeakMap,At=new WeakMap,Fn=new WeakMap,Yt=new WeakMap,vi=new WeakSet,Ao=async function(){try{const e=await w(this,hn).getBlockNumber();if(w(this,Yt)===-2){b(this,Yt,e);return}if(e!==w(this,Yt)){for(let t=w(this,Yt)+1;t<=e;t++){if(w(this,At)==null)return;await w(this,hn).emit("block",t)}b(this,Yt,e)}}catch{}w(this,At)!=null&&b(this,At,w(this,hn)._setTimeout(V(this,vi,Ao).bind(this),w(this,Fn)))};var _s,zs,Gn;class Tl{constructor(e){k(this,_s);k(this,zs);k(this,Gn);b(this,_s,e),b(this,Gn,!1),b(this,zs,t=>{this._poll(t,w(this,_s))})}async _poll(e,t){throw new Error("sub-classes must override this")}start(){w(this,Gn)||(b(this,Gn,!0),w(this,zs).call(this,-2),w(this,_s).on("block",w(this,zs)))}stop(){w(this,Gn)&&(b(this,Gn,!1),w(this,_s).off("block",w(this,zs)))}pause(e){this.stop()}resume(){this.start()}}_s=new WeakMap,zs=new WeakMap,Gn=new WeakMap;var Ri,fn;class Em extends Tl{constructor(t,s){super(t);k(this,Ri);k(this,fn);b(this,Ri,s),b(this,fn,-2)}pause(t){t&&b(this,fn,-2),super.pause(t)}async _poll(t,s){const i=await s.getBlock(w(this,Ri));i!=null&&(w(this,fn)===-2?b(this,fn,i.number):i.number>w(this,fn)&&(s.emit(w(this,Ri),i.number),b(this,fn,i.number)))}}Ri=new WeakMap,fn=new WeakMap;var ca;class jm extends Tl{constructor(t,s){super(t);k(this,ca);b(this,ca,xc(s))}async _poll(t,s){throw new Error("@TODO")}}ca=new WeakMap;var Pi;class Sm extends Tl{constructor(t,s){super(t);k(this,Pi);b(this,Pi,s)}async _poll(t,s){const i=await s.getTransactionReceipt(w(this,Pi));i&&s.emit(w(this,Pi),i)}}Pi=new WeakMap;var pn,Ui,Bi,Hn,xt,la,Nh;class Ll{constructor(e,t){k(this,la);k(this,pn);k(this,Ui);k(this,Bi);k(this,Hn);k(this,xt);b(this,pn,e),b(this,Ui,xc(t)),b(this,Bi,V(this,la,Nh).bind(this)),b(this,Hn,!1),b(this,xt,-2)}start(){w(this,Hn)||(b(this,Hn,!0),w(this,xt)===-2&&w(this,pn).getBlockNumber().then(e=>{b(this,xt,e)}),w(this,pn).on("block",w(this,Bi)))}stop(){w(this,Hn)&&(b(this,Hn,!1),w(this,pn).off("block",w(this,Bi)))}pause(e){this.stop(),e&&b(this,xt,-2)}resume(){this.start()}}pn=new WeakMap,Ui=new WeakMap,Bi=new WeakMap,Hn=new WeakMap,xt=new WeakMap,la=new WeakSet,Nh=async function(e){if(w(this,xt)===-2)return;const t=xc(w(this,Ui));t.fromBlock=w(this,xt)+1,t.toBlock=e;const s=await w(this,pn).getLogs(t);if(s.length===0){w(this,xt)<e-60&&b(this,xt,e-60);return}for(const i of s)w(this,pn).emit(w(this,Ui),i),b(this,xt,i.blockNumber)};const Cm=BigInt(2),Tm=10;function co(n){return n&&typeof n.then=="function"}function xo(n,e){return n+":"+JSON.stringify(e,(t,s)=>{if(s==null)return"null";if(typeof s=="bigint")return`bigint:${s.toString()}`;if(typeof s=="string")return s.toLowerCase();if(typeof s=="object"&&!Array.isArray(s)){const i=Object.keys(s);return i.sort(),i.reduce((r,o)=>(r[o]=s[o],r),{})}return s})}class Eh{constructor(e){fe(this,"name");bn(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function Lm(n){return JSON.parse(JSON.stringify(n))}function bc(n){return n=Array.from(new Set(n).values()),n.sort(),n}async function va(n,e){if(n==null)throw new Error("invalid event");if(Array.isArray(n)&&(n={topics:n}),typeof n=="string")switch(n){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:n,tag:n}}if(jt(n,32)){const t=n.toLowerCase();return{type:"transaction",tag:xo("tx",{hash:t}),hash:t}}if(n.orphan){const t=n;return{type:"orphan",tag:xo("orphan",t),filter:Lm(t)}}if(n.address||n.topics){const t=n,s={topics:(t.topics||[]).map(i=>i==null?null:Array.isArray(i)?bc(i.map(r=>r.toLowerCase())):i.toLowerCase())};if(t.address){const i=[],r=[],o=a=>{jt(a)?i.push(a):r.push((async()=>{i.push(await Jt(a,e))})())};Array.isArray(t.address)?t.address.forEach(o):o(t.address),r.length&&await Promise.all(r),s.address=bc(i.map(a=>a.toLowerCase()))}return{filter:s,tag:xo("event",s),type:"event"}}P(!1,"unknown ProviderEvent","event",n)}function Ra(){return new Date().getTime()}const Dm={cacheTimeout:250,pollingInterval:4e3};var Ve,Yn,Ze,Wi,pt,ks,Vn,gn,Vr,bt,Qi,Fi,se,ut,Ic,Nc,gr,Ec,wr,bo;class _m{constructor(e,t){k(this,se);k(this,Ve);k(this,Yn);k(this,Ze);k(this,Wi);k(this,pt);k(this,ks);k(this,Vn);k(this,gn);k(this,Vr);k(this,bt);k(this,Qi);k(this,Fi);if(b(this,Fi,Object.assign({},Dm,t||{})),e==="any")b(this,ks,!0),b(this,pt,null);else if(e){const s=qt.from(e);b(this,ks,!1),b(this,pt,Promise.resolve(s)),setTimeout(()=>{this.emit("network",s,null)},0)}else b(this,ks,!1),b(this,pt,null);b(this,gn,-1),b(this,Vn,new Map),b(this,Ve,new Map),b(this,Yn,new Map),b(this,Ze,null),b(this,Wi,!1),b(this,Vr,1),b(this,bt,new Map),b(this,Qi,!1)}get pollingInterval(){return w(this,Fi).pollingInterval}get provider(){return this}get plugins(){return Array.from(w(this,Yn).values())}attachPlugin(e){if(w(this,Yn).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return w(this,Yn).set(e.name,e.connect(this)),this}getPlugin(e){return w(this,Yn).get(e)||null}get disableCcipRead(){return w(this,Qi)}set disableCcipRead(e){b(this,Qi,!!e)}async ccipReadFetch(e,t,s){if(this.disableCcipRead||s.length===0||e.to==null)return null;const i=e.to.toLowerCase(),r=t.toLowerCase(),o=[];for(let a=0;a<s.length;a++){const c=s[a],l=c.replace("{sender}",i).replace("{data}",r),d=new ns(l);c.indexOf("{data}")===-1&&(d.body={data:r,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:d,index:a,urls:s});let h="unknown error",f;try{f=await d.send()}catch(p){o.push(p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:d,result:{error:p}});continue}try{const p=f.bodyJson;if(p.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:d,result:p}),p.data;p.message&&(h=p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:d,result:p})}catch{}Z(f.statusCode<400||f.statusCode>=500,`response not found during CCIP fetch: ${h}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:c,errorMessage:h}}),o.push(h)}Z(!1,`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:s,errorMessages:o}})}_wrapBlock(e,t){return new bg(wm(e),this)}_wrapLog(e,t){return new Ig(pm(e),this)}_wrapTransactionReceipt(e,t){return new Ng(Am(e),this)}_wrapTransactionResponse(e,t){return new Eg(Ih(e),this)}_detectNetwork(){Z(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){Z(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=he(await V(this,se,ut).call(this,{method:"getBlockNumber"}),"%response");return w(this,gn)>=0&&b(this,gn,e),e}_getAddress(e){return Jt(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(jt(e))return jt(e,32)?e:Kt(e);if(typeof e=="bigint"&&(e=he(e,"blockTag")),typeof e=="number")return e>=0?Kt(e):w(this,gn)>=0?Kt(w(this,gn)+e):this.getBlockNumber().then(t=>Kt(t+e));P(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const t=(e.topics||[]).map(c=>c==null?null:Array.isArray(c)?bc(c.map(l=>l.toLowerCase())):c.toLowerCase()),s="blockHash"in e?e.blockHash:void 0,i=(c,l,d)=>{let h;switch(c.length){case 0:break;case 1:h=c[0];break;default:c.sort(),h=c}if(s&&(l!=null||d!=null))throw new Error("invalid filter");const f={};return h&&(f.address=h),t.length&&(f.topics=t),l&&(f.fromBlock=l),d&&(f.toBlock=d),s&&(f.blockHash=s),f};let r=[];if(e.address)if(Array.isArray(e.address))for(const c of e.address)r.push(this._getAddress(c));else r.push(this._getAddress(e.address));let o;"fromBlock"in e&&(o=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),r.filter(c=>typeof c!="string").length||o!=null&&typeof o!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(r),o,a]).then(c=>i(c[0],c[1],c[2])):i(r,o,a)}_getTransactionRequest(e){const t=oc(e),s=[];if(["to","from"].forEach(i=>{if(t[i]==null)return;const r=Jt(t[i],this);co(r)?s.push(async function(){t[i]=await r}()):t[i]=r}),t.blockTag!=null){const i=this._getBlockTag(t.blockTag);co(i)?s.push(async function(){t.blockTag=await i}()):t.blockTag=i}return s.length?async function(){return await Promise.all(s),t}():t}async getNetwork(){if(w(this,pt)==null){const i=(async()=>{try{const r=await this._detectNetwork();return this.emit("network",r,null),r}catch(r){throw w(this,pt)===i&&b(this,pt,null),r}})();return b(this,pt,i),(await i).clone()}const e=w(this,pt),[t,s]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==s.chainId&&(w(this,ks)?(this.emit("network",s,t),w(this,pt)===e&&b(this,pt,Promise.resolve(s))):Z(!1,`network changed: ${t.chainId} => ${s.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){const e=await this.getNetwork(),t=async()=>{const{_block:i,gasPrice:r,priorityFee:o}=await yt({_block:V(this,se,Ec).call(this,"latest",!1),gasPrice:(async()=>{try{const d=await V(this,se,ut).call(this,{method:"getGasPrice"});return J(d,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const d=await V(this,se,ut).call(this,{method:"getPriorityFee"});return J(d,"%response")}catch{}return null})()});let a=null,c=null;const l=this._wrapBlock(i,e);return l&&l.baseFeePerGas&&(c=o??BigInt("1000000000"),a=l.baseFeePerGas*Cm+c),new Zl(r,a,c)},s=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(s){const i=new ns(s.url),r=await s.processFunc(t,this,i);return new Zl(r.gasPrice,r.maxFeePerGas,r.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return co(t)&&(t=await t),J(await V(this,se,ut).call(this,{method:"estimateGas",transaction:t}),"%response")}async call(e){const{tx:t,blockTag:s}=await yt({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await V(this,se,Nc).call(this,V(this,se,Ic).call(this,t,s,e.enableCcipRead?0:-1))}async getBalance(e,t){return J(await V(this,se,gr).call(this,{method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return he(await V(this,se,gr).call(this,{method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return ee(await V(this,se,gr).call(this,{method:"getCode"},e,t))}async getStorage(e,t,s){const i=J(t,"position");return ee(await V(this,se,gr).call(this,{method:"getStorage",position:i},e,s))}async broadcastTransaction(e){const{blockNumber:t,hash:s,network:i}=await yt({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),r=Ho.from(e);if(r.hash!==s)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(r,i).replaceableTransaction(t)}async getBlock(e,t){const{network:s,params:i}=await yt({network:this.getNetwork(),params:V(this,se,Ec).call(this,e,!!t)});return i==null?null:this._wrapBlock(i,s)}async getTransaction(e){const{network:t,params:s}=await yt({network:this.getNetwork(),params:V(this,se,ut).call(this,{method:"getTransaction",hash:e})});return s==null?null:this._wrapTransactionResponse(s,t)}async getTransactionReceipt(e){const{network:t,params:s}=await yt({network:this.getNetwork(),params:V(this,se,ut).call(this,{method:"getTransactionReceipt",hash:e})});if(s==null)return null;if(s.gasPrice==null&&s.effectiveGasPrice==null){const i=await V(this,se,ut).call(this,{method:"getTransaction",hash:e});if(i==null)throw new Error("report this; could not find tx or effectiveGasPrice");s.effectiveGasPrice=i.gasPrice}return this._wrapTransactionReceipt(s,t)}async getTransactionResult(e){const{result:t}=await yt({network:this.getNetwork(),result:V(this,se,ut).call(this,{method:"getTransactionResult",hash:e})});return t==null?null:ee(t)}async getLogs(e){let t=this._getFilter(e);co(t)&&(t=await t);const{network:s,params:i}=await yt({network:this.getNetwork(),params:V(this,se,ut).call(this,{method:"getLogs",filter:t})});return i.map(r=>this._wrapLog(r,s))}_getProvider(e){Z(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await qo.fromName(this,e)}async getAvatar(e){const t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){const t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){e=Ne(e);const t=Ac(e.substring(2).toLowerCase()+".addr.reverse");try{const s=await qo.getEnsAddress(this),r=await new Ir(s,["function resolver(bytes32) view returns (address)"],this).resolver(t);if(r==null||r===Lr)return null;const a=await new Ir(r,["function name(bytes32) view returns (string)"],this).name(t);return await this.resolveName(a)!==e?null:a}catch(s){if(Pt(s,"BAD_DATA")&&s.value==="0x"||Pt(s,"CALL_EXCEPTION"))return null;throw s}return null}async waitForTransaction(e,t,s){const i=t??1;return i===0?this.getTransactionReceipt(e):new Promise(async(r,o)=>{let a=null;const c=async l=>{try{const d=await this.getTransactionReceipt(e);if(d!=null&&l-d.blockNumber+1>=i){r(d),a&&(clearTimeout(a),a=null);return}}catch(d){console.log("EEE",d)}this.once("block",c)};s!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",c),o(Le("timeout","TIMEOUT",{reason:"timeout"})))},s)),c(await this.getBlockNumber())})}async waitForBlock(e){Z(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const t=w(this,bt).get(e);t&&(t.timer&&clearTimeout(t.timer),w(this,bt).delete(e))}_setTimeout(e,t){t==null&&(t=0);const s=ro(this,Vr)._++,i=()=>{w(this,bt).delete(s),e()};if(this.paused)w(this,bt).set(s,{timer:null,func:i,time:t});else{const r=setTimeout(i,t);w(this,bt).set(s,{timer:r,func:i,time:Ra()})}return s}_forEachSubscriber(e){for(const t of w(this,Ve).values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new Eh(e.type);case"block":{const t=new Nm(this);return t.pollingInterval=this.pollingInterval,t}case"safe":case"finalized":return new Em(this,e.type);case"event":return new Ll(this,e.filter);case"transaction":return new Sm(this,e.hash);case"orphan":return new jm(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(const s of w(this,Ve).values())if(s.subscriber===e){s.started&&s.subscriber.stop(),s.subscriber=t,s.started&&t.start(),w(this,Ze)!=null&&t.pause(w(this,Ze));break}}async on(e,t){const s=await V(this,se,bo).call(this,e);return s.listeners.push({listener:t,once:!1}),s.started||(s.subscriber.start(),s.started=!0,w(this,Ze)!=null&&s.subscriber.pause(w(this,Ze))),this}async once(e,t){const s=await V(this,se,bo).call(this,e);return s.listeners.push({listener:t,once:!0}),s.started||(s.subscriber.start(),s.started=!0,w(this,Ze)!=null&&s.subscriber.pause(w(this,Ze))),this}async emit(e,...t){const s=await V(this,se,wr).call(this,e,t);if(!s||s.listeners.length===0)return!1;const i=s.listeners.length;return s.listeners=s.listeners.filter(({listener:r,once:o})=>{const a=new Sg(this,o?null:r,e);try{r.call(this,...t,a)}catch{}return!o}),s.listeners.length===0&&(s.started&&s.subscriber.stop(),w(this,Ve).delete(s.tag)),i>0}async listenerCount(e){if(e){const s=await V(this,se,wr).call(this,e);return s?s.listeners.length:0}let t=0;for(const{listeners:s}of w(this,Ve).values())t+=s.length;return t}async listeners(e){if(e){const s=await V(this,se,wr).call(this,e);return s?s.listeners.map(({listener:i})=>i):[]}let t=[];for(const{listeners:s}of w(this,Ve).values())t=t.concat(s.map(({listener:i})=>i));return t}async off(e,t){const s=await V(this,se,wr).call(this,e);if(!s)return this;if(t){const i=s.listeners.map(({listener:r})=>r).indexOf(t);i>=0&&s.listeners.splice(i,1)}return(!t||s.listeners.length===0)&&(s.started&&s.subscriber.stop(),w(this,Ve).delete(s.tag)),this}async removeAllListeners(e){if(e){const{tag:t,started:s,subscriber:i}=await V(this,se,bo).call(this,e);s&&i.stop(),w(this,Ve).delete(t)}else for(const[t,{started:s,subscriber:i}]of w(this,Ve))s&&i.stop(),w(this,Ve).delete(t);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return w(this,Wi)}destroy(){this.removeAllListeners();for(const e of w(this,bt).keys())this._clearTimeout(e);b(this,Wi,!0)}get paused(){return w(this,Ze)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(b(this,gn,-1),w(this,Ze)!=null){if(w(this,Ze)==!!e)return;Z(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(t=>t.pause(e)),b(this,Ze,!!e);for(const t of w(this,bt).values())t.timer&&clearTimeout(t.timer),t.time=Ra()-t.time}resume(){if(w(this,Ze)!=null){this._forEachSubscriber(e=>e.resume()),b(this,Ze,null);for(const e of w(this,bt).values()){let t=e.time;t<0&&(t=0),e.time=Ra(),setTimeout(e.func,t)}}}}Ve=new WeakMap,Yn=new WeakMap,Ze=new WeakMap,Wi=new WeakMap,pt=new WeakMap,ks=new WeakMap,Vn=new WeakMap,gn=new WeakMap,Vr=new WeakMap,bt=new WeakMap,Qi=new WeakMap,Fi=new WeakMap,se=new WeakSet,ut=async function(e){const t=w(this,Fi).cacheTimeout;if(t<0)return await this._perform(e);const s=xo(e.method,e);let i=w(this,Vn).get(s);return i||(i=this._perform(e),w(this,Vn).set(s,i),setTimeout(()=>{w(this,Vn).get(s)===i&&w(this,Vn).delete(s)},t)),await i},Ic=async function(e,t,s){Z(s<Tm,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});const i=oc(e);try{return ee(await this._perform({method:"call",transaction:i,blockTag:t}))}catch(r){if(!this.disableCcipRead&&jg(r)&&r.data&&s>=0&&t==="latest"&&i.to!=null&&Ke(r.data,0,4)==="0x556f1830"){const o=r.data,a=await Jt(i.to,this);let c;try{c=Rm(Ke(r.data,4))}catch(h){Z(!1,h.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:o}})}Z(c.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});const l=await this.ccipReadFetch(i,c.calldata,c.urls);Z(l!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:r.data,errorArgs:c.errorArgs}});const d={to:a,data:en([c.selector,vm([l,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:d});try{const h=await V(this,se,Ic).call(this,d,t,s+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},d),result:h}),h}catch(h){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},d),error:h}),h}}throw r}},Nc=async function(e){const{value:t}=await yt({network:this.getNetwork(),value:e});return t},gr=async function(e,t,s){let i=this._getAddress(t),r=this._getBlockTag(s);return(typeof i!="string"||typeof r!="string")&&([i,r]=await Promise.all([i,r])),await V(this,se,Nc).call(this,V(this,se,ut).call(this,Object.assign(e,{address:i,blockTag:r})))},Ec=async function(e,t){if(jt(e,32))return await V(this,se,ut).call(this,{method:"getBlock",blockHash:e,includeTransactions:t});let s=this._getBlockTag(e);return typeof s!="string"&&(s=await s),await V(this,se,ut).call(this,{method:"getBlock",blockTag:s,includeTransactions:t})},wr=async function(e,t){let s=await va(e,this);return s.type==="event"&&t&&t.length>0&&t[0].removed===!0&&(s=await va({orphan:"drop-log",log:t[0]},this)),w(this,Ve).get(s.tag)||null},bo=async function(e){const t=await va(e,this),s=t.tag;let i=w(this,Ve).get(s);return i||(i={subscriber:this._getSubscriber(t),tag:s,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},w(this,Ve).set(s,i)),i};function zm(n,e){try{const t=jc(n,e);if(t)return ic(t)}catch{}return null}function jc(n,e){if(n==="0x")return null;try{const t=he(Ke(n,e,e+32)),s=he(Ke(n,t,t+32));return Ke(n,t+32,t+32+s)}catch{}return null}function Lu(n){const e=Je(n);if(e.length>32)throw new Error("internal; should not happen");const t=new Uint8Array(32);return t.set(e,32-e.length),t}function km(n){if(n.length%32===0)return n;const e=new Uint8Array(Math.ceil(n.length/32)*32);return e.set(n),e}const Om=new Uint8Array([]);function vm(n){const e=[];let t=0;for(let s=0;s<n.length;s++)e.push(Om),t+=32;for(let s=0;s<n.length;s++){const i=Te(n[s]);e[s]=Lu(t),e.push(Lu(i.length)),e.push(km(i)),t+=32+Math.ceil(i.length/32)*32}return en(e)}const Du="0x0000000000000000000000000000000000000000000000000000000000000000";function Rm(n){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};Z(mo(n)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const t=Ke(n,0,32);Z(Ke(t,0,12)===Ke(Du,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=Ke(t,12);try{const s=[],i=he(Ke(n,32,64)),r=he(Ke(n,i,i+32)),o=Ke(n,i+32);for(let a=0;a<r;a++){const c=zm(o,a*32);if(c==null)throw new Error("abort");s.push(c)}e.urls=s}catch{Z(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const s=jc(n,64);if(s==null)throw new Error("abort");e.calldata=s}catch{Z(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}Z(Ke(n,100,128)===Ke(Du,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=Ke(n,96,100);try{const s=jc(n,128);if(s==null)throw new Error("abort");e.extraData=s}catch{Z(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(s=>e[s]),e}function as(n,e){if(n.provider)return n.provider;Z(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function _u(n,e){let t=oc(e);if(t.to!=null&&(t.to=Jt(t.to,n)),t.from!=null){const s=t.from;t.from=Promise.all([n.getAddress(),Jt(s,n)]).then(([i,r])=>(P(i.toLowerCase()===r.toLowerCase(),"transaction from mismatch","tx.from",r),i))}else t.from=n.getAddress();return await yt(t)}class Pm{constructor(e){fe(this,"provider");bn(this,{provider:e||null})}async getNonce(e){return as(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await _u(this,e)}async populateTransaction(e){const t=as(this,"populateTransaction"),s=await _u(this,e);s.nonce==null&&(s.nonce=await this.getNonce("pending")),s.gasLimit==null&&(s.gasLimit=await this.estimateGas(s));const i=await this.provider.getNetwork();if(s.chainId!=null){const o=J(s.chainId);P(o===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else s.chainId=i.chainId;const r=s.maxFeePerGas!=null||s.maxPriorityFeePerGas!=null;if(s.gasPrice!=null&&(s.type===2||r)?P(!1,"eip-1559 transaction do not support gasPrice","tx",e):(s.type===0||s.type===1)&&r&&P(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(s.type===2||s.type==null)&&s.maxFeePerGas!=null&&s.maxPriorityFeePerGas!=null)s.type=2;else if(s.type===0||s.type===1){const o=await t.getFeeData();Z(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),s.gasPrice==null&&(s.gasPrice=o.gasPrice)}else{const o=await t.getFeeData();if(s.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(s.authorizationList&&s.authorizationList.length?s.type=4:s.type=2,s.gasPrice!=null){const a=s.gasPrice;delete s.gasPrice,s.maxFeePerGas=a,s.maxPriorityFeePerGas=a}else s.maxFeePerGas==null&&(s.maxFeePerGas=o.maxFeePerGas),s.maxPriorityFeePerGas==null&&(s.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(Z(!r,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),s.gasPrice==null&&(s.gasPrice=o.gasPrice),s.type=0):Z(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(s.type===2||s.type===3||s.type===4)&&(s.maxFeePerGas==null&&(s.maxFeePerGas=o.maxFeePerGas),s.maxPriorityFeePerGas==null&&(s.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await yt(s)}async populateAuthorization(e){const t=Object.assign({},e);return t.chainId==null&&(t.chainId=(await as(this,"getNetwork").getNetwork()).chainId),t.nonce==null&&(t.nonce=await this.getNonce()),t}async estimateGas(e){return as(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return as(this,"call").call(await this.populateCall(e))}async resolveName(e){return await as(this,"resolveName").resolveName(e)}async sendTransaction(e){const t=as(this,"sendTransaction"),s=await this.populateTransaction(e);delete s.from;const i=Ho.from(s);return await t.broadcastTransaction(await this.signTransaction(i))}authorize(e){Z(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}function Um(n){return JSON.parse(JSON.stringify(n))}var et,Vt,Os,Zn,vs,Gi,is,Sc,Cc;class jh{constructor(e){k(this,is);k(this,et);k(this,Vt);k(this,Os);k(this,Zn);k(this,vs);k(this,Gi);b(this,et,e),b(this,Vt,null),b(this,Os,V(this,is,Sc).bind(this)),b(this,Zn,!1),b(this,vs,null),b(this,Gi,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){w(this,Zn)||(b(this,Zn,!0),V(this,is,Sc).call(this,-2))}stop(){w(this,Zn)&&(b(this,Zn,!1),b(this,Gi,!0),V(this,is,Cc).call(this),w(this,et).off("block",w(this,Os)))}pause(e){e&&V(this,is,Cc).call(this),w(this,et).off("block",w(this,Os))}resume(){this.start()}}et=new WeakMap,Vt=new WeakMap,Os=new WeakMap,Zn=new WeakMap,vs=new WeakMap,Gi=new WeakMap,is=new WeakSet,Sc=async function(e){try{w(this,Vt)==null&&b(this,Vt,this._subscribe(w(this,et)));let t=null;try{t=await w(this,Vt)}catch(r){if(!Pt(r,"UNSUPPORTED_OPERATION")||r.operation!=="eth_newFilter")throw r}if(t==null){b(this,Vt,null),w(this,et)._recoverSubscriber(this,this._recover(w(this,et)));return}const s=await w(this,et).getNetwork();if(w(this,vs)||b(this,vs,s),w(this,vs).chainId!==s.chainId)throw new Error("chaid changed");if(w(this,Gi))return;const i=await w(this,et).send("eth_getFilterChanges",[t]);await this._emitResults(w(this,et),i)}catch(t){console.log("@TODO",t)}w(this,et).once("block",w(this,Os))},Cc=function(){const e=w(this,Vt);e&&(b(this,Vt,null),e.then(t=>{w(this,et).destroyed||w(this,et).send("eth_uninstallFilter",[t])}))};var Rs;class Bm extends jh{constructor(t,s){super(t);k(this,Rs);b(this,Rs,Um(s))}_recover(t){return new Ll(t,w(this,Rs))}async _subscribe(t){return await t.send("eth_newFilter",[w(this,Rs)])}async _emitResults(t,s){for(const i of s)t.emit(w(this,Rs),t._wrapLog(i,t._network))}}Rs=new WeakMap;class Wm extends jh{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(const s of t)e.emit("pending",s)}}const Qm="bigint,boolean,function,number,string,symbol".split(/,/g);function Io(n){if(n==null||Qm.indexOf(typeof n)>=0||typeof n.getAddress=="function")return n;if(Array.isArray(n))return n.map(Io);if(typeof n=="object")return Object.keys(n).reduce((e,t)=>(e[t]=n[t],e),{});throw new Error(`should not happen: ${n} (${typeof n})`)}function Fm(n){return new Promise(e=>{setTimeout(e,n)})}function ti(n){return n&&n.toLowerCase()}function zu(n){return n&&typeof n.pollingInterval=="number"}const Sh={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class Pa extends Pm{constructor(t,s){super(t);fe(this,"address");s=Ne(s),bn(this,{address:s})}connect(t){Z(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(t){return await this.populateCall(t)}async sendUncheckedTransaction(t){const s=Io(t),i=[];if(s.from){const o=s.from;i.push((async()=>{const a=await Jt(o,this.provider);P(a!=null&&a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),s.from=a})())}else s.from=this.address;if(s.gasLimit==null&&i.push((async()=>{s.gasLimit=await this.provider.estimateGas({...s,from:this.address})})()),s.to!=null){const o=s.to;i.push((async()=>{s.to=await Jt(o,this.provider)})())}i.length&&await Promise.all(i);const r=this.provider.getRpcTransaction(s);return this.provider.send("eth_sendTransaction",[r])}async sendTransaction(t){const s=await this.provider.getBlockNumber(),i=await this.sendUncheckedTransaction(t);return await new Promise((r,o)=>{const a=[1e3,100];let c=0;const l=async()=>{try{const d=await this.provider.getTransaction(i);if(d!=null){r(d.replaceableTransaction(s));return}}catch(d){if(Pt(d,"CANCELLED")||Pt(d,"BAD_DATA")||Pt(d,"NETWORK_ERROR")||Pt(d,"UNSUPPORTED_OPERATION")){d.info==null&&(d.info={}),d.info.sendTransactionHash=i,o(d);return}if(Pt(d,"INVALID_ARGUMENT")&&(c++,d.info==null&&(d.info={}),d.info.sendTransactionHash=i,c>10)){o(d);return}this.provider.emit("error",Le("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:d}))}this.provider._setTimeout(()=>{l()},a.pop()||4e3)};l()})}async signTransaction(t){const s=Io(t);if(s.from){const r=await Jt(s.from,this.provider);P(r!=null&&r.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),s.from=r}else s.from=this.address;const i=this.provider.getRpcTransaction(s);return await this.provider.send("eth_signTransaction",[i])}async signMessage(t){const s=typeof t=="string"?Bs(t):t;return await this.provider.send("personal_sign",[ee(s),this.address.toLowerCase()])}async signTypedData(t,s,i){const r=Io(i),o=await Kl.resolveNames(t,s,r,async a=>{const c=await Jt(a);return P(c!=null,"TypedData does not support null address","value",a),c});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Kl.getPayload(o.domain,s,o.value))])}async unlock(t){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),t,null])}async _legacySignMessage(t){const s=typeof t=="string"?Bs(t):t;return await this.provider.send("eth_sign",[this.address.toLowerCase(),ee(s)])}}var Ps,Hi,wn,Zt,Rt,It,st,Zr,Tc;class Gm extends _m{constructor(t,s){super(t,s);k(this,Zr);k(this,Ps);k(this,Hi);k(this,wn);k(this,Zt);k(this,Rt);k(this,It);k(this,st);b(this,Hi,1),b(this,Ps,Object.assign({},Sh,s||{})),b(this,wn,[]),b(this,Zt,null),b(this,It,null),b(this,st,null);{let r=null;const o=new Promise(a=>{r=a});b(this,Rt,{promise:o,resolve:r})}const i=this._getOption("staticNetwork");typeof i=="boolean"?(P(!i||t!=="any","staticNetwork cannot be used on special network 'any'","options",s),i&&t!=null&&b(this,It,qt.from(t))):i&&(P(t==null||i.matches(t),"staticNetwork MUST match network object","options",s),b(this,It,i))}_getOption(t){return w(this,Ps)[t]}get _network(){return Z(w(this,It),"network is not available yet","NETWORK_ERROR"),w(this,It)}async _perform(t){if(t.method==="call"||t.method==="estimateGas"){let i=t.transaction;if(i&&i.type!=null&&J(i.type)&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const r=await this.getFeeData();r.maxFeePerGas==null&&r.maxPriorityFeePerGas==null&&(t=Object.assign({},t,{transaction:Object.assign({},i,{type:void 0})}))}}const s=this.getRpcRequest(t);return s!=null?await this.send(s.method,s.args):super._perform(t)}async _detectNetwork(){const t=this._getOption("staticNetwork");if(t)if(t===!0){if(w(this,It))return w(this,It)}else return t;return w(this,st)?await w(this,st):this.ready?(b(this,st,(async()=>{try{const s=qt.from(J(await this.send("eth_chainId",[])));return b(this,st,null),s}catch(s){throw b(this,st,null),s}})()),await w(this,st)):(b(this,st,(async()=>{const s={id:ro(this,Hi)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:s});let i;try{i=(await this._send(s))[0],b(this,st,null)}catch(r){throw b(this,st,null),this.emit("debug",{action:"receiveRpcError",error:r}),r}if(this.emit("debug",{action:"receiveRpcResult",result:i}),"result"in i)return qt.from(J(i.result));throw this.getRpcError(s,i)})()),await w(this,st))}_start(){w(this,Rt)==null||w(this,Rt).resolve==null||(w(this,Rt).resolve(),b(this,Rt,null),(async()=>{for(;w(this,It)==null&&!this.destroyed;)try{b(this,It,await this._detectNetwork())}catch(t){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Le("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:t}})),await Fm(1e3)}V(this,Zr,Tc).call(this)})())}async _waitUntilReady(){if(w(this,Rt)!=null)return await w(this,Rt).promise}_getSubscriber(t){return t.type==="pending"?new Wm(this):t.type==="event"?this._getOption("polling")?new Ll(this,t.filter):new Bm(this,t.filter):t.type==="orphan"&&t.filter.orphan==="drop-log"?new Eh("orphan"):super._getSubscriber(t)}get ready(){return w(this,Rt)==null}getRpcTransaction(t){const s={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(i=>{if(t[i]==null)return;let r=i;i==="gasLimit"&&(r="gas"),s[r]=Kt(J(t[i],`tx.${i}`))}),["from","to","data"].forEach(i=>{t[i]!=null&&(s[i]=ee(t[i]))}),t.accessList&&(s.accessList=cr(t.accessList)),t.blobVersionedHashes&&(s.blobVersionedHashes=t.blobVersionedHashes.map(i=>i.toLowerCase())),t.authorizationList&&(s.authorizationList=t.authorizationList.map(i=>{const r=$d(i);return{address:r.address,nonce:Kt(r.nonce),chainId:Kt(r.chainId),yParity:Kt(r.signature.yParity),r:Kt(r.signature.r),s:Kt(r.signature.s)}})),s}getRpcRequest(t){switch(t.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[ti(t.address),t.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[ti(t.address),t.blockTag]};case"getCode":return{method:"eth_getCode",args:[ti(t.address),t.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[ti(t.address),"0x"+t.position.toString(16),t.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[t.signedTransaction]};case"getBlock":if("blockTag"in t)return{method:"eth_getBlockByNumber",args:[t.blockTag,!!t.includeTransactions]};if("blockHash"in t)return{method:"eth_getBlockByHash",args:[t.blockHash,!!t.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[t.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[t.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(t.transaction),t.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(t.transaction)]};case"getLogs":return t.filter&&t.filter.address!=null&&(Array.isArray(t.filter.address)?t.filter.address=t.filter.address.map(ti):t.filter.address=ti(t.filter.address)),{method:"eth_getLogs",args:[t.filter]}}return null}getRpcError(t,s){const{method:i}=t,{error:r}=s;if(i==="eth_estimateGas"&&r.message){const c=r.message;if(!c.match(/revert/i)&&c.match(/insufficient funds/i))return Le("insufficient funds","INSUFFICIENT_FUNDS",{transaction:t.params[0],info:{payload:t,error:r}});if(c.match(/nonce/i)&&c.match(/too low/i))return Le("nonce has already been used","NONCE_EXPIRED",{transaction:t.params[0],info:{payload:t,error:r}})}if(i==="eth_call"||i==="eth_estimateGas"){const c=Lc(r),l=Cg.getBuiltinCallException(i==="eth_call"?"call":"estimateGas",t.params[0],c?c.data:null);return l.info={error:r,payload:t},l}const o=JSON.stringify(Ym(r));if(typeof r.message=="string"&&r.message.match(/user denied|ethers-user-denied/i))return Le("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[i]||"unknown",reason:"rejected",info:{payload:t,error:r}});if(i==="eth_sendRawTransaction"||i==="eth_sendTransaction"){const c=t.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return Le("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:c,info:{error:r}});if(o.match(/nonce/i)&&o.match(/too low/i))return Le("nonce has already been used","NONCE_EXPIRED",{transaction:c,info:{error:r}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return Le("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:c,info:{error:r}});if(o.match(/only replay-protected/i))return Le("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:i,info:{transaction:c,info:{error:r}}})}let a=!!o.match(/the method .* does not exist/i);return a||r&&r.details&&r.details.startsWith("Unauthorized method:")&&(a=!0),a?Le("unsupported operation","UNSUPPORTED_OPERATION",{operation:t.method,info:{error:r,payload:t}}):Le("could not coalesce error","UNKNOWN_ERROR",{error:r,payload:t})}send(t,s){if(this.destroyed)return Promise.reject(Le("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t}));const i=ro(this,Hi)._++,r=new Promise((o,a)=>{w(this,wn).push({resolve:o,reject:a,payload:{method:t,params:s,id:i,jsonrpc:"2.0"}})});return V(this,Zr,Tc).call(this),r}async getSigner(t){t==null&&(t=0);const s=this.send("eth_accounts",[]);if(typeof t=="number"){const r=await s;if(t>=r.length)throw new Error("no such account");return new Pa(this,r[t])}const{accounts:i}=await yt({network:this.getNetwork(),accounts:s});t=Ne(t);for(const r of i)if(Ne(r)===t)return new Pa(this,t);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(s=>new Pa(this,s))}destroy(){w(this,Zt)&&(clearTimeout(w(this,Zt)),b(this,Zt,null));for(const{payload:t,reject:s}of w(this,wn))s(Le("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t.method}));b(this,wn,[]),super.destroy()}}Ps=new WeakMap,Hi=new WeakMap,wn=new WeakMap,Zt=new WeakMap,Rt=new WeakMap,It=new WeakMap,st=new WeakMap,Zr=new WeakSet,Tc=function(){if(w(this,Zt))return;const t=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");b(this,Zt,setTimeout(()=>{b(this,Zt,null);const s=w(this,wn);for(b(this,wn,[]);s.length;){const i=[s.shift()];for(;s.length&&i.length!==w(this,Ps).batchMaxCount;)if(i.push(s.shift()),JSON.stringify(i.map(o=>o.payload)).length>w(this,Ps).batchMaxSize){s.unshift(i.pop());break}(async()=>{const r=i.length===1?i[0].payload:i.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:r});try{const o=await this._send(r);this.emit("debug",{action:"receiveRpcResult",result:o});for(const{resolve:a,reject:c,payload:l}of i){if(this.destroyed){c(Le("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:l.method}));continue}const d=o.filter(h=>h.id===l.id)[0];if(d==null){const h=Le("missing response for request","BAD_DATA",{value:o,info:{payload:l}});this.emit("error",h),c(h);continue}if("error"in d){c(this.getRpcError(l,d));continue}a(d.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(const{reject:a}of i)a(o)}})()}},t))};var Kn;class Hm extends Gm{constructor(t,s){super(t,s);k(this,Kn);let i=this._getOption("pollingInterval");i==null&&(i=Sh.pollingInterval),b(this,Kn,i)}_getSubscriber(t){const s=super._getSubscriber(t);return zu(s)&&(s.pollingInterval=w(this,Kn)),s}get pollingInterval(){return w(this,Kn)}set pollingInterval(t){if(!Number.isInteger(t)||t<0)throw new Error("invalid interval");b(this,Kn,t),this._forEachSubscriber(s=>{zu(s)&&(s.pollingInterval=w(this,Kn))})}}Kn=new WeakMap;function Lc(n){if(n==null)return null;if(typeof n.message=="string"&&n.message.match(/revert/i)&&jt(n.data))return{message:n.message,data:n.data};if(typeof n=="object"){for(const e in n){const t=Lc(n[e]);if(t)return t}return null}if(typeof n=="string")try{return Lc(JSON.parse(n))}catch{}return null}function Dc(n,e){if(n!=null){if(typeof n.message=="string"&&e.push(n.message),typeof n=="object")for(const t in n)Dc(n[t],e);if(typeof n=="string")try{return Dc(JSON.parse(n),e)}catch{}}}function Ym(n){const e=[];return Dc(n,e),e}var Yi,Vi;const gs=class gs extends Hm{constructor(t,s,i){const r=Object.assign({},i??{},{batchMaxCount:1});P(t&&t.request,"invalid EIP-1193 provider","ethereum",t);super(s,r);k(this,Yi);k(this,Vi);b(this,Vi,null),i&&i.providerInfo&&b(this,Vi,i.providerInfo),b(this,Yi,async(o,a)=>{const c={method:o,params:a};this.emit("debug",{action:"sendEip1193Request",payload:c});try{const l=await t.request(c);return this.emit("debug",{action:"receiveEip1193Result",result:l}),l}catch(l){const d=new Error(l.message);throw d.code=l.code,d.data=l.data,d.payload=c,this.emit("debug",{action:"receiveEip1193Error",error:d}),d}})}get providerInfo(){return w(this,Vi)}async send(t,s){return await this._start(),await super.send(t,s)}async _send(t){P(!Array.isArray(t),"EIP-1193 does not support batch request","payload",t);try{const s=await w(this,Yi).call(this,t.method,t.params||[]);return[{id:t.id,result:s}]}catch(s){return[{id:t.id,error:{code:s.code,data:s.data,message:s.message}}]}}getRpcError(t,s){switch(s=JSON.parse(JSON.stringify(s)),s.error.code||-1){case 4001:s.error.message=`ethers-user-denied: ${s.error.message}`;break;case 4200:s.error.message=`ethers-unsupported: ${s.error.message}`;break}return super.getRpcError(t,s)}async hasSigner(t){t==null&&(t=0);const s=await this.send("eth_accounts",[]);return typeof t=="number"?s.length>t:(t=t.toLowerCase(),s.filter(i=>i.toLowerCase()===t).length!==0)}async getSigner(t){if(t==null&&(t=0),!await this.hasSigner(t))try{await w(this,Yi).call(this,"eth_requestAccounts",[])}catch(s){const i=s.payload;throw this.getRpcError(i,{id:i.id,error:s})}return await super.getSigner(t)}static async discover(t){if(t==null&&(t={}),t.provider)return new gs(t.provider);const s=t.window?t.window:typeof window<"u"?window:null;if(s==null)return null;const i=t.anyProvider;if(i&&s.ethereum)return new gs(s.ethereum);if(!("addEventListener"in s&&"dispatchEvent"in s&&"removeEventListener"in s))return null;const r=t.timeout?t.timeout:300;return r===0?null:await new Promise((o,a)=>{let c=[];const l=f=>{c.push(f.detail),i&&d()},d=()=>{if(clearTimeout(h),c.length)if(t&&t.filter){const f=t.filter(c.map(p=>Object.assign({},p.info)));if(f==null)o(null);else if(f instanceof gs)o(f);else{let p=null;if(f.uuid&&(p=c.filter(g=>f.uuid===g.info.uuid)[0]),p){const{provider:m,info:g}=p;o(new gs(m,void 0,{providerInfo:g}))}else a(Le("filter returned unknown info","UNSUPPORTED_OPERATION",{value:f}))}}else{const{provider:f,info:p}=c[0];o(new gs(f,void 0,{providerInfo:p}))}else o(null);s.removeEventListener("eip6963:announceProvider",l)},h=setTimeout(()=>{d()},r);s.addEventListener("eip6963:announceProvider",l),s.dispatchEvent(new Event("eip6963:requestProvider"))})}};Yi=new WeakMap,Vi=new WeakMap;let _c=gs;const Vm=30*60*1e3,ua=class ua extends Tg{constructor(e){super("CetusSite",`crossSwapTokens_${e}`)}static getInstance(e){return this.instances.has(e)||this.instances.set(e,new ua(e)),this.instances.get(e)}};fe(ua,"instances",new Map);let li=ua;class pi{static async setTokenList(e,t,s){const i={tokenList:s,lastUpdated:Date.now()};return li.getInstance(e).setItem(t.toString(),i)}static async getTokenByAddress(e,t,s){const i=await pi.getAllTokenList(e,t);return i&&i.find(r=>Nr(r.address,s,r.type===B.MVM))||null}static async getToken(e,t){const s=await pi.getAllTokenList(e,t.chain_id);return s&&s.find(i=>ac(i,t))||null}static async getAllTokenList(e,t){const s=await li.getInstance(e).getItem(t.toString());return s?typeof s.lastUpdated!="number"||typeof s.tokenList>"u"?(await li.getInstance(e).removeItem(t.toString()),null):Date.now()-s.lastUpdated>Vm?(await li.getInstance(e).removeItem(t.toString()),null):s.tokenList:null}}const Zm=n=>{var t,s,i,r,o,a,c,l,d,h,f,p,m,g,x,y,A,M,I,N,E,C,S;const e=typeof window<"u"?window:void 0;switch(n){case"metaMask":return((t=e==null?void 0:e.ethereum)==null?void 0:t.isMetaMask)||((i=(s=e==null?void 0:e.ethereum)==null?void 0:s.providers)==null?void 0:i.some(T=>T.isMetaMask));case"coinbase":return((r=e==null?void 0:e.ethereum)==null?void 0:r.isCoinbaseWallet)&&!((o=e==null?void 0:e.ethereum)!=null&&o.isCoinbaseBrowser)||((a=e==null?void 0:e.coinbaseWalletExtension)==null?void 0:a.isCoinbaseWallet)||((l=(c=e==null?void 0:e.ethereum)==null?void 0:c.providers)==null?void 0:l.some(T=>T.isCoinbaseWallet));case"app.phantom.bitcoin":return(h=(d=e.phantom)==null?void 0:d.bitcoin)==null?void 0:h.isPhantom;case"com.okex.wallet.bitcoin":return(p=(f=e.okxwallet)==null?void 0:f.bitcoin)==null?void 0:p.isOkxWallet;case"XverseProviders.BitcoinProvider":return(m=e.XverseProviders)==null?void 0:m.BitcoinProvider;case"unisat":return e.unisat&&!((g=e.unisat)!=null&&g.isBinance)&&!((x=e.unisat)!=null&&x.isBitKeep);case"io.xdefi.bitcoin":return(y=e.xfi)==null?void 0:y.bitcoin;case"so.onekey.app.wallet.bitcoin":return(A=e.$onekey)==null?void 0:A.btc;case"LeatherProvider":return e.LeatherProvider;case"bitget":return((M=e.bitkeep)==null?void 0:M.unisat)||((I=e.unisat)==null?void 0:I.isBitKeep);case"OylProvider":return e.oyl;case"binance":return((N=e.binancew3w)==null?void 0:N.bitcoin)||((E=e.unisat)==null?void 0:E.isBinance);case"app.magiceden.bitcoin":return(S=(C=e==null?void 0:e.magicEden)==null?void 0:C.bitcoin)==null?void 0:S.isMagicEden;default:return!0}},Ch=j.createContext({});function Km(){return j.useContext(Ch)}const Jm=({children:n,endpoint:e,config:t={commitment:"confirmed"}})=>{const s=j.useMemo(()=>new fd(e,t),[e,t]);return R.createElement(Ch.Provider,{value:{connection:s}},n)};class ku extends Js{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const qm=[],Aa={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){zt("call","select")},connect(){return Promise.reject(zt("call","connect"))},disconnect(){return Promise.reject(zt("call","disconnect"))},sendTransaction(){return Promise.reject(zt("call","sendTransaction"))},signTransaction(){return Promise.reject(zt("call","signTransaction"))},signAllTransactions(){return Promise.reject(zt("call","signAllTransactions"))},signMessage(){return Promise.reject(zt("call","signMessage"))},signIn(){return Promise.reject(zt("call","signIn"))}};Object.defineProperty(Aa,"wallets",{get(){return zt("read","wallets"),qm}});Object.defineProperty(Aa,"wallet",{get(){return zt("read","wallet"),null}});Object.defineProperty(Aa,"publicKey",{get(){return zt("read","publicKey"),null}});function zt(n,e){const t=new Error(`You have tried to ${n} "${e}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(t),t}const Th=j.createContext(Aa);function Dl(){return j.useContext(Th)}function Xm(n,e){const t=j.useState(()=>{try{const r=localStorage.getItem(n);if(r)return JSON.parse(r)}catch(r){typeof window<"u"&&console.error(r)}return e}),s=t[0],i=j.useRef(!0);return j.useEffect(()=>{if(i.current){i.current=!1;return}try{s===null?localStorage.removeItem(n):localStorage.setItem(n,JSON.stringify(s))}catch(r){typeof window<"u"&&console.error(r)}},[s,n]),t}var $m=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Lh={},gt={};let _l;const eM=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];gt.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};gt.getSymbolTotalCodewords=function(e){return eM[e]};gt.getBCHDigit=function(n){let e=0;for(;n!==0;)e++,n>>>=1;return e};gt.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');_l=e};gt.isKanjiModeEnabled=function(){return typeof _l<"u"};gt.toSJIS=function(e){return _l(e)};var xa={};(function(n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+t)}}n.isValid=function(s){return s&&typeof s.bit<"u"&&s.bit>=0&&s.bit<4},n.from=function(s,i){if(n.isValid(s))return s;try{return e(s)}catch{return i}}})(xa);function Dh(){this.buffer=[],this.length=0}Dh.prototype={get:function(n){const e=Math.floor(n/8);return(this.buffer[e]>>>7-n%8&1)===1},put:function(n,e){for(let t=0;t<e;t++)this.putBit((n>>>e-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(n){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),n&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var tM=Dh;function no(n){if(!n||n<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=n,this.data=new Uint8Array(n*n),this.reservedBit=new Uint8Array(n*n)}no.prototype.set=function(n,e,t,s){const i=n*this.size+e;this.data[i]=t,s&&(this.reservedBit[i]=!0)};no.prototype.get=function(n,e){return this.data[n*this.size+e]};no.prototype.xor=function(n,e,t){this.data[n*this.size+e]^=t};no.prototype.isReserved=function(n,e){return this.reservedBit[n*this.size+e]};var nM=no,_h={};(function(n){const e=gt.getSymbolSize;n.getRowColCoords=function(s){if(s===1)return[];const i=Math.floor(s/7)+2,r=e(s),o=r===145?26:Math.ceil((r-13)/(2*i-2))*2,a=[r-7];for(let c=1;c<i-1;c++)a[c]=a[c-1]-o;return a.push(6),a.reverse()},n.getPositions=function(s){const i=[],r=n.getRowColCoords(s),o=r.length;for(let a=0;a<o;a++)for(let c=0;c<o;c++)a===0&&c===0||a===0&&c===o-1||a===o-1&&c===0||i.push([r[a],r[c]]);return i}})(_h);var zh={};const sM=gt.getSymbolSize,Ou=7;zh.getPositions=function(e){const t=sM(e);return[[0,0],[t-Ou,0],[0,t-Ou]]};var kh={};(function(n){n.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};n.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},n.from=function(i){return n.isValid(i)?parseInt(i,10):void 0},n.getPenaltyN1=function(i){const r=i.size;let o=0,a=0,c=0,l=null,d=null;for(let h=0;h<r;h++){a=c=0,l=d=null;for(let f=0;f<r;f++){let p=i.get(h,f);p===l?a++:(a>=5&&(o+=e.N1+(a-5)),l=p,a=1),p=i.get(f,h),p===d?c++:(c>=5&&(o+=e.N1+(c-5)),d=p,c=1)}a>=5&&(o+=e.N1+(a-5)),c>=5&&(o+=e.N1+(c-5))}return o},n.getPenaltyN2=function(i){const r=i.size;let o=0;for(let a=0;a<r-1;a++)for(let c=0;c<r-1;c++){const l=i.get(a,c)+i.get(a,c+1)+i.get(a+1,c)+i.get(a+1,c+1);(l===4||l===0)&&o++}return o*e.N2},n.getPenaltyN3=function(i){const r=i.size;let o=0,a=0,c=0;for(let l=0;l<r;l++){a=c=0;for(let d=0;d<r;d++)a=a<<1&2047|i.get(l,d),d>=10&&(a===1488||a===93)&&o++,c=c<<1&2047|i.get(d,l),d>=10&&(c===1488||c===93)&&o++}return o*e.N3},n.getPenaltyN4=function(i){let r=0;const o=i.data.length;for(let c=0;c<o;c++)r+=i.data[c];return Math.abs(Math.ceil(r*100/o/5)-10)*e.N4};function t(s,i,r){switch(s){case n.Patterns.PATTERN000:return(i+r)%2===0;case n.Patterns.PATTERN001:return i%2===0;case n.Patterns.PATTERN010:return r%3===0;case n.Patterns.PATTERN011:return(i+r)%3===0;case n.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(r/3))%2===0;case n.Patterns.PATTERN101:return i*r%2+i*r%3===0;case n.Patterns.PATTERN110:return(i*r%2+i*r%3)%2===0;case n.Patterns.PATTERN111:return(i*r%3+(i+r)%2)%2===0;default:throw new Error("bad maskPattern:"+s)}}n.applyMask=function(i,r){const o=r.size;for(let a=0;a<o;a++)for(let c=0;c<o;c++)r.isReserved(c,a)||r.xor(c,a,t(i,c,a))},n.getBestMask=function(i,r){const o=Object.keys(n.Patterns).length;let a=0,c=1/0;for(let l=0;l<o;l++){r(l),n.applyMask(l,i);const d=n.getPenaltyN1(i)+n.getPenaltyN2(i)+n.getPenaltyN3(i)+n.getPenaltyN4(i);n.applyMask(l,i),d<c&&(c=d,a=l)}return a}})(kh);var ba={};const $n=xa,lo=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],uo=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];ba.getBlocksCount=function(e,t){switch(t){case $n.L:return lo[(e-1)*4+0];case $n.M:return lo[(e-1)*4+1];case $n.Q:return lo[(e-1)*4+2];case $n.H:return lo[(e-1)*4+3];default:return}};ba.getTotalCodewordsCount=function(e,t){switch(t){case $n.L:return uo[(e-1)*4+0];case $n.M:return uo[(e-1)*4+1];case $n.Q:return uo[(e-1)*4+2];case $n.H:return uo[(e-1)*4+3];default:return}};var Oh={},Ia={};const jr=new Uint8Array(512),Xo=new Uint8Array(256);(function(){let e=1;for(let t=0;t<255;t++)jr[t]=e,Xo[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)jr[t]=jr[t-255]})();Ia.log=function(e){if(e<1)throw new Error("log("+e+")");return Xo[e]};Ia.exp=function(e){return jr[e]};Ia.mul=function(e,t){return e===0||t===0?0:jr[Xo[e]+Xo[t]]};(function(n){const e=Ia;n.mul=function(s,i){const r=new Uint8Array(s.length+i.length-1);for(let o=0;o<s.length;o++)for(let a=0;a<i.length;a++)r[o+a]^=e.mul(s[o],i[a]);return r},n.mod=function(s,i){let r=new Uint8Array(s);for(;r.length-i.length>=0;){const o=r[0];for(let c=0;c<i.length;c++)r[c]^=e.mul(i[c],o);let a=0;for(;a<r.length&&r[a]===0;)a++;r=r.slice(a)}return r},n.generateECPolynomial=function(s){let i=new Uint8Array([1]);for(let r=0;r<s;r++)i=n.mul(i,new Uint8Array([1,e.exp(r)]));return i}})(Oh);const vh=Oh;function zl(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}zl.prototype.initialize=function(e){this.degree=e,this.genPoly=vh.generateECPolynomial(this.degree)};zl.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(e.length+this.degree);t.set(e);const s=vh.mod(t,this.genPoly),i=this.degree-s.length;if(i>0){const r=new Uint8Array(this.degree);return r.set(s,i),r}return s};var iM=zl,Rh={},rs={},kl={};kl.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var nn={};const Ph="[0-9]+",rM="[A-Z $%*+\\-./:]+";let Pr="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Pr=Pr.replace(/u/g,"\\u");const oM="(?:(?![A-Z0-9 $%*+\\-./:]|"+Pr+`)(?:.|[\r
]))+`;nn.KANJI=new RegExp(Pr,"g");nn.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");nn.BYTE=new RegExp(oM,"g");nn.NUMERIC=new RegExp(Ph,"g");nn.ALPHANUMERIC=new RegExp(rM,"g");const aM=new RegExp("^"+Pr+"$"),cM=new RegExp("^"+Ph+"$"),lM=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");nn.testKanji=function(e){return aM.test(e)};nn.testNumeric=function(e){return cM.test(e)};nn.testAlphanumeric=function(e){return lM.test(e)};(function(n){const e=kl,t=nn;n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(r,o){if(!r.ccBits)throw new Error("Invalid mode: "+r);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?r.ccBits[0]:o<27?r.ccBits[1]:r.ccBits[2]},n.getBestModeForData=function(r){return t.testNumeric(r)?n.NUMERIC:t.testAlphanumeric(r)?n.ALPHANUMERIC:t.testKanji(r)?n.KANJI:n.BYTE},n.toString=function(r){if(r&&r.id)return r.id;throw new Error("Invalid mode")},n.isValid=function(r){return r&&r.bit&&r.ccBits};function s(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+i)}}n.from=function(r,o){if(n.isValid(r))return r;try{return s(r)}catch{return o}}})(rs);(function(n){const e=gt,t=ba,s=xa,i=rs,r=kl,o=7973,a=e.getBCHDigit(o);function c(f,p,m){for(let g=1;g<=40;g++)if(p<=n.getCapacity(g,m,f))return g}function l(f,p){return i.getCharCountIndicator(f,p)+4}function d(f,p){let m=0;return f.forEach(function(g){const x=l(g.mode,p);m+=x+g.getBitsLength()}),m}function h(f,p){for(let m=1;m<=40;m++)if(d(f,m)<=n.getCapacity(m,p,i.MIXED))return m}n.from=function(p,m){return r.isValid(p)?parseInt(p,10):m},n.getCapacity=function(p,m,g){if(!r.isValid(p))throw new Error("Invalid QR Code version");typeof g>"u"&&(g=i.BYTE);const x=e.getSymbolTotalCodewords(p),y=t.getTotalCodewordsCount(p,m),A=(x-y)*8;if(g===i.MIXED)return A;const M=A-l(g,p);switch(g){case i.NUMERIC:return Math.floor(M/10*3);case i.ALPHANUMERIC:return Math.floor(M/11*2);case i.KANJI:return Math.floor(M/13);case i.BYTE:default:return Math.floor(M/8)}},n.getBestVersionForData=function(p,m){let g;const x=s.from(m,s.M);if(Array.isArray(p)){if(p.length>1)return h(p,x);if(p.length===0)return 1;g=p[0]}else g=p;return c(g.mode,g.getLength(),x)},n.getEncodedBits=function(p){if(!r.isValid(p)||p<7)throw new Error("Invalid QR Code version");let m=p<<12;for(;e.getBCHDigit(m)-a>=0;)m^=o<<e.getBCHDigit(m)-a;return p<<12|m}})(Rh);var Uh={};const zc=gt,Bh=1335,uM=21522,vu=zc.getBCHDigit(Bh);Uh.getEncodedBits=function(e,t){const s=e.bit<<3|t;let i=s<<10;for(;zc.getBCHDigit(i)-vu>=0;)i^=Bh<<zc.getBCHDigit(i)-vu;return(s<<10|i)^uM};var Wh={};const dM=rs;function nr(n){this.mode=dM.NUMERIC,this.data=n.toString()}nr.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};nr.prototype.getLength=function(){return this.data.length};nr.prototype.getBitsLength=function(){return nr.getBitsLength(this.data.length)};nr.prototype.write=function(e){let t,s,i;for(t=0;t+3<=this.data.length;t+=3)s=this.data.substr(t,3),i=parseInt(s,10),e.put(i,10);const r=this.data.length-t;r>0&&(s=this.data.substr(t),i=parseInt(s,10),e.put(i,r*3+1))};var hM=nr;const fM=rs,Ua=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function sr(n){this.mode=fM.ALPHANUMERIC,this.data=n}sr.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};sr.prototype.getLength=function(){return this.data.length};sr.prototype.getBitsLength=function(){return sr.getBitsLength(this.data.length)};sr.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let s=Ua.indexOf(this.data[t])*45;s+=Ua.indexOf(this.data[t+1]),e.put(s,11)}this.data.length%2&&e.put(Ua.indexOf(this.data[t]),6)};var pM=sr;const gM=rs;function ir(n){this.mode=gM.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}ir.getBitsLength=function(e){return e*8};ir.prototype.getLength=function(){return this.data.length};ir.prototype.getBitsLength=function(){return ir.getBitsLength(this.data.length)};ir.prototype.write=function(n){for(let e=0,t=this.data.length;e<t;e++)n.put(this.data[e],8)};var wM=ir;const mM=rs,MM=gt;function rr(n){this.mode=mM.KANJI,this.data=n}rr.getBitsLength=function(e){return e*13};rr.prototype.getLength=function(){return this.data.length};rr.prototype.getBitsLength=function(){return rr.getBitsLength(this.data.length)};rr.prototype.write=function(n){let e;for(e=0;e<this.data.length;e++){let t=MM.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),n.put(t,13)}};var yM=rr;(function(n){const e=rs,t=hM,s=pM,i=wM,r=yM,o=nn,a=gt,c=t0;function l(y){return unescape(encodeURIComponent(y)).length}function d(y,A,M){const I=[];let N;for(;(N=y.exec(M))!==null;)I.push({data:N[0],index:N.index,mode:A,length:N[0].length});return I}function h(y){const A=d(o.NUMERIC,e.NUMERIC,y),M=d(o.ALPHANUMERIC,e.ALPHANUMERIC,y);let I,N;return a.isKanjiModeEnabled()?(I=d(o.BYTE,e.BYTE,y),N=d(o.KANJI,e.KANJI,y)):(I=d(o.BYTE_KANJI,e.BYTE,y),N=[]),A.concat(M,I,N).sort(function(C,S){return C.index-S.index}).map(function(C){return{data:C.data,mode:C.mode,length:C.length}})}function f(y,A){switch(A){case e.NUMERIC:return t.getBitsLength(y);case e.ALPHANUMERIC:return s.getBitsLength(y);case e.KANJI:return r.getBitsLength(y);case e.BYTE:return i.getBitsLength(y)}}function p(y){return y.reduce(function(A,M){const I=A.length-1>=0?A[A.length-1]:null;return I&&I.mode===M.mode?(A[A.length-1].data+=M.data,A):(A.push(M),A)},[])}function m(y){const A=[];for(let M=0;M<y.length;M++){const I=y[M];switch(I.mode){case e.NUMERIC:A.push([I,{data:I.data,mode:e.ALPHANUMERIC,length:I.length},{data:I.data,mode:e.BYTE,length:I.length}]);break;case e.ALPHANUMERIC:A.push([I,{data:I.data,mode:e.BYTE,length:I.length}]);break;case e.KANJI:A.push([I,{data:I.data,mode:e.BYTE,length:l(I.data)}]);break;case e.BYTE:A.push([{data:I.data,mode:e.BYTE,length:l(I.data)}])}}return A}function g(y,A){const M={},I={start:{}};let N=["start"];for(let E=0;E<y.length;E++){const C=y[E],S=[];for(let T=0;T<C.length;T++){const D=C[T],O=""+E+T;S.push(O),M[O]={node:D,lastCount:0},I[O]={};for(let G=0;G<N.length;G++){const U=N[G];M[U]&&M[U].node.mode===D.mode?(I[U][O]=f(M[U].lastCount+D.length,D.mode)-f(M[U].lastCount,D.mode),M[U].lastCount+=D.length):(M[U]&&(M[U].lastCount=D.length),I[U][O]=f(D.length,D.mode)+4+e.getCharCountIndicator(D.mode,A))}}N=S}for(let E=0;E<N.length;E++)I[N[E]].end=0;return{map:I,table:M}}function x(y,A){let M;const I=e.getBestModeForData(y);if(M=e.from(A,I),M!==e.BYTE&&M.bit<I.bit)throw new Error('"'+y+'" cannot be encoded with mode '+e.toString(M)+`.
 Suggested mode is: `+e.toString(I));switch(M===e.KANJI&&!a.isKanjiModeEnabled()&&(M=e.BYTE),M){case e.NUMERIC:return new t(y);case e.ALPHANUMERIC:return new s(y);case e.KANJI:return new r(y);case e.BYTE:return new i(y)}}n.fromArray=function(A){return A.reduce(function(M,I){return typeof I=="string"?M.push(x(I,null)):I.data&&M.push(x(I.data,I.mode)),M},[])},n.fromString=function(A,M){const I=h(A,a.isKanjiModeEnabled()),N=m(I),E=g(N,M),C=c.find_path(E.map,"start","end"),S=[];for(let T=1;T<C.length-1;T++)S.push(E.table[C[T]].node);return n.fromArray(p(S))},n.rawSplit=function(A){return n.fromArray(h(A,a.isKanjiModeEnabled()))}})(Wh);const Na=gt,Ba=xa,AM=tM,xM=nM,bM=_h,IM=zh,kc=kh,Oc=ba,NM=iM,$o=Rh,EM=Uh,jM=rs,Wa=Wh;function SM(n,e){const t=n.size,s=IM.getPositions(e);for(let i=0;i<s.length;i++){const r=s[i][0],o=s[i][1];for(let a=-1;a<=7;a++)if(!(r+a<=-1||t<=r+a))for(let c=-1;c<=7;c++)o+c<=-1||t<=o+c||(a>=0&&a<=6&&(c===0||c===6)||c>=0&&c<=6&&(a===0||a===6)||a>=2&&a<=4&&c>=2&&c<=4?n.set(r+a,o+c,!0,!0):n.set(r+a,o+c,!1,!0))}}function CM(n){const e=n.size;for(let t=8;t<e-8;t++){const s=t%2===0;n.set(t,6,s,!0),n.set(6,t,s,!0)}}function TM(n,e){const t=bM.getPositions(e);for(let s=0;s<t.length;s++){const i=t[s][0],r=t[s][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?n.set(i+o,r+a,!0,!0):n.set(i+o,r+a,!1,!0)}}function LM(n,e){const t=n.size,s=$o.getEncodedBits(e);let i,r,o;for(let a=0;a<18;a++)i=Math.floor(a/3),r=a%3+t-8-3,o=(s>>a&1)===1,n.set(i,r,o,!0),n.set(r,i,o,!0)}function Qa(n,e,t){const s=n.size,i=EM.getEncodedBits(e,t);let r,o;for(r=0;r<15;r++)o=(i>>r&1)===1,r<6?n.set(r,8,o,!0):r<8?n.set(r+1,8,o,!0):n.set(s-15+r,8,o,!0),r<8?n.set(8,s-r-1,o,!0):r<9?n.set(8,15-r-1+1,o,!0):n.set(8,15-r-1,o,!0);n.set(s-8,8,1,!0)}function DM(n,e){const t=n.size;let s=-1,i=t-1,r=7,o=0;for(let a=t-1;a>0;a-=2)for(a===6&&a--;;){for(let c=0;c<2;c++)if(!n.isReserved(i,a-c)){let l=!1;o<e.length&&(l=(e[o]>>>r&1)===1),n.set(i,a-c,l),r--,r===-1&&(o++,r=7)}if(i+=s,i<0||t<=i){i-=s,s=-s;break}}}function _M(n,e,t){const s=new AM;t.forEach(function(c){s.put(c.mode.bit,4),s.put(c.getLength(),jM.getCharCountIndicator(c.mode,n)),c.write(s)});const i=Na.getSymbolTotalCodewords(n),r=Oc.getTotalCodewordsCount(n,e),o=(i-r)*8;for(s.getLengthInBits()+4<=o&&s.put(0,4);s.getLengthInBits()%8!==0;)s.putBit(0);const a=(o-s.getLengthInBits())/8;for(let c=0;c<a;c++)s.put(c%2?17:236,8);return zM(s,n,e)}function zM(n,e,t){const s=Na.getSymbolTotalCodewords(e),i=Oc.getTotalCodewordsCount(e,t),r=s-i,o=Oc.getBlocksCount(e,t),a=s%o,c=o-a,l=Math.floor(s/o),d=Math.floor(r/o),h=d+1,f=l-d,p=new NM(f);let m=0;const g=new Array(o),x=new Array(o);let y=0;const A=new Uint8Array(n.buffer);for(let C=0;C<o;C++){const S=C<c?d:h;g[C]=A.slice(m,m+S),x[C]=p.encode(g[C]),m+=S,y=Math.max(y,S)}const M=new Uint8Array(s);let I=0,N,E;for(N=0;N<y;N++)for(E=0;E<o;E++)N<g[E].length&&(M[I++]=g[E][N]);for(N=0;N<f;N++)for(E=0;E<o;E++)M[I++]=x[E][N];return M}function kM(n,e,t,s){let i;if(Array.isArray(n))i=Wa.fromArray(n);else if(typeof n=="string"){let l=e;if(!l){const d=Wa.rawSplit(n);l=$o.getBestVersionForData(d,t)}i=Wa.fromString(n,l||40)}else throw new Error("Invalid data");const r=$o.getBestVersionForData(i,t);if(!r)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=r;else if(e<r)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+r+`.
`);const o=_M(e,t,i),a=Na.getSymbolSize(e),c=new xM(a);return SM(c,e),CM(c),TM(c,e),Qa(c,t,0),e>=7&&LM(c,e),DM(c,o),isNaN(s)&&(s=kc.getBestMask(c,Qa.bind(null,c,t))),kc.applyMask(s,c),Qa(c,t,s),{modules:c,version:e,errorCorrectionLevel:t,maskPattern:s,segments:i}}Lh.create=function(e,t){if(typeof e>"u"||e==="")throw new Error("No input text");let s=Ba.M,i,r;return typeof t<"u"&&(s=Ba.from(t.errorCorrectionLevel,Ba.M),i=$o.from(t.version),r=kc.from(t.maskPattern),t.toSJISFunc&&Na.setToSJISFunction(t.toSJISFunc)),kM(e,i,s,r)};var Qh={},Ol={};(function(n){function e(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let s=t.slice().replace("#","").split("");if(s.length<3||s.length===5||s.length>8)throw new Error("Invalid hex color: "+t);(s.length===3||s.length===4)&&(s=Array.prototype.concat.apply([],s.map(function(r){return[r,r]}))),s.length===6&&s.push("F","F");const i=parseInt(s.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+s.slice(0,6).join("")}}n.getOptions=function(s){s||(s={}),s.color||(s.color={});const i=typeof s.margin>"u"||s.margin===null||s.margin<0?4:s.margin,r=s.width&&s.width>=21?s.width:void 0,o=s.scale||4;return{width:r,scale:r?4:o,margin:i,color:{dark:e(s.color.dark||"#000000ff"),light:e(s.color.light||"#ffffffff")},type:s.type,rendererOpts:s.rendererOpts||{}}},n.getScale=function(s,i){return i.width&&i.width>=s+i.margin*2?i.width/(s+i.margin*2):i.scale},n.getImageWidth=function(s,i){const r=n.getScale(s,i);return Math.floor((s+i.margin*2)*r)},n.qrToImageData=function(s,i,r){const o=i.modules.size,a=i.modules.data,c=n.getScale(o,r),l=Math.floor((o+r.margin*2)*c),d=r.margin*c,h=[r.color.light,r.color.dark];for(let f=0;f<l;f++)for(let p=0;p<l;p++){let m=(f*l+p)*4,g=r.color.light;if(f>=d&&p>=d&&f<l-d&&p<l-d){const x=Math.floor((f-d)/c),y=Math.floor((p-d)/c);g=h[a[x*o+y]?1:0]}s[m++]=g.r,s[m++]=g.g,s[m++]=g.b,s[m]=g.a}}})(Ol);(function(n){const e=Ol;function t(i,r,o){i.clearRect(0,0,r.width,r.height),r.style||(r.style={}),r.height=o,r.width=o,r.style.height=o+"px",r.style.width=o+"px"}function s(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}n.render=function(r,o,a){let c=a,l=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(l=s()),c=e.getOptions(c);const d=e.getImageWidth(r.modules.size,c),h=l.getContext("2d"),f=h.createImageData(d,d);return e.qrToImageData(f.data,r,c),t(h,l,d),h.putImageData(f,0,0),l},n.renderToDataURL=function(r,o,a){let c=a;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const l=n.render(r,o,c),d=c.type||"image/png",h=c.rendererOpts||{};return l.toDataURL(d,h.quality)}})(Qh);var Fh={};const OM=Ol;function Ru(n,e){const t=n.a/255,s=e+'="'+n.hex+'"';return t<1?s+" "+e+'-opacity="'+t.toFixed(2).slice(1)+'"':s}function Fa(n,e,t){let s=n+e;return typeof t<"u"&&(s+=" "+t),s}function vM(n,e,t){let s="",i=0,r=!1,o=0;for(let a=0;a<n.length;a++){const c=Math.floor(a%e),l=Math.floor(a/e);!c&&!r&&(r=!0),n[a]?(o++,a>0&&c>0&&n[a-1]||(s+=r?Fa("M",c+t,.5+l+t):Fa("m",i,0),i=0,r=!1),c+1<e&&n[a+1]||(s+=Fa("h",o),o=0)):i++}return s}Fh.render=function(e,t,s){const i=OM.getOptions(t),r=e.modules.size,o=e.modules.data,a=r+i.margin*2,c=i.color.light.a?"<path "+Ru(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",l="<path "+Ru(i.color.dark,"stroke")+' d="'+vM(o,r,i.margin)+'"/>',d='viewBox="0 0 '+a+" "+a+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+d+' shape-rendering="crispEdges">'+c+l+`</svg>
`;return typeof s=="function"&&s(null,f),f};const RM=$m,vc=Lh,Gh=Qh,PM=Fh;function vl(n,e,t,s,i){const r=[].slice.call(arguments,1),o=r.length,a=typeof r[o-1]=="function";if(!a&&!RM())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=t,t=e,e=s=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=s,s=void 0):(i=s,s=t,t=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(t=e,e=s=void 0):o===2&&!e.getContext&&(s=t,t=e,e=void 0),new Promise(function(c,l){try{const d=vc.create(t,s);c(n(d,e,s))}catch(d){l(d)}})}try{const c=vc.create(t,s);i(null,n(c,e,s))}catch(c){i(c)}}vc.create;vl.bind(null,Gh.render);vl.bind(null,Gh.renderToDataURL);vl.bind(null,function(n,e,t){return PM.render(n,t)});function Ga(n){switch(n){case"processed":case"confirmed":case"finalized":case void 0:return n;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const Ur="solana:mainnet",Hh="solana:devnet",Yh="solana:testnet",UM="solana:localnet",BM="https://api.mainnet-beta.solana.com";function WM(n){return n.includes(BM)?Ur:/\bdevnet\b/i.test(n)?Hh:/\btestnet\b/i.test(n)?Yh:/\blocalhost\b/i.test(n)||/\b127\.0\.0\.1\b/.test(n)?UM:Ur}function QM(n){let e=`${n.domain} wants you to sign in with your Solana account:
`;e+=`${n.address}`,n.statement&&(e+=`

${n.statement}`);const t=[];if(n.uri&&t.push(`URI: ${n.uri}`),n.version&&t.push(`Version: ${n.version}`),n.chainId&&t.push(`Chain ID: ${n.chainId}`),n.nonce&&t.push(`Nonce: ${n.nonce}`),n.issuedAt&&t.push(`Issued At: ${n.issuedAt}`),n.expirationTime&&t.push(`Expiration Time: ${n.expirationTime}`),n.notBefore&&t.push(`Not Before: ${n.notBefore}`),n.requestId&&t.push(`Request ID: ${n.requestId}`),n.resources){t.push("Resources:");for(const s of n.resources)t.push(`- ${s}`)}return t.length&&(e+=`

${t.join(`
`)}`),e}const An={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION"};class xn extends Error{constructor(...e){const[t,s,i]=e;super(s),this.code=t,this.data=i,this.name="SolanaMobileWalletAdapterError"}}class Vh extends Error{constructor(...e){const[t,s,i,r]=e;super(i),this.code=s,this.data=r,this.jsonRpcMessageId=t,this.name="SolanaMobileWalletAdapterProtocolError"}}function Ce(n,e,t,s){function i(r){return r instanceof t?r:new t(function(o){o(r)})}return new(t||(t=Promise))(function(r,o){function a(d){try{l(s.next(d))}catch(h){o(h)}}function c(d){try{l(s.throw(d))}catch(h){o(h)}}function l(d){d.done?r(d.value):i(d.value).then(a,c)}l((s=s.apply(n,[])).next())})}function FM(n){return window.btoa(n)}function Ha(n,e){return Ce(this,void 0,void 0,function*(){const t=yield crypto.subtle.exportKey("raw",n),s=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,t),i=new Uint8Array(t.byteLength+s.byteLength);return i.set(new Uint8Array(t),0),i.set(new Uint8Array(s),t.byteLength),i})}function GM(n){return QM(n)}function HM(n){return FM(GM(n))}const YM="solana:signTransactions",Pu="solana:cloneAuthorization";function VM(n,e){return new Proxy({},{get(t,s){return s==="then"?null:(t[s]==null&&(t[s]=function(i){return Ce(this,void 0,void 0,function*(){const{method:r,params:o}=ZM(s,i,n),a=yield e(r,o);return r==="authorize"&&o.sign_in_payload&&!a.sign_in_result&&(a.sign_in_result=yield JM(o.sign_in_payload,a,e)),KM(s,a,n)})}),t[s])},defineProperty(){return!1},deleteProperty(){return!1}})}function ZM(n,e,t){let s=e,i=n.toString().replace(/[A-Z]/g,r=>`_${r.toLowerCase()}`).toLowerCase();switch(n){case"authorize":{let{chain:r}=s;if(t==="legacy"){switch(r){case"solana:testnet":{r="testnet";break}case"solana:devnet":{r="devnet";break}case"solana:mainnet":{r="mainnet-beta";break}default:r=s.cluster}s.cluster=r}else{switch(r){case"testnet":case"devnet":{r=`solana:${r}`;break}case"mainnet-beta":{r="solana:mainnet";break}}s.chain=r}}case"reauthorize":{const{auth_token:r,identity:o}=s;if(r)switch(t){case"legacy":{i="reauthorize",s={auth_token:r,identity:o};break}default:{i="authorize";break}}break}}return{method:i,params:s}}function KM(n,e,t){switch(n){case"getCapabilities":{const s=e;switch(t){case"legacy":{const i=[YM];return s.supports_clone_authorization===!0&&i.push(Pu),Object.assign(Object.assign({},s),{features:i})}case"v1":return Object.assign(Object.assign({},s),{supports_sign_and_send_transactions:!0,supports_clone_authorization:s.features.includes(Pu)})}}}return e}function JM(n,e,t){var s;return Ce(this,void 0,void 0,function*(){const i=(s=n.domain)!==null&&s!==void 0?s:window.location.host,r=e.accounts[0].address,o=HM(Object.assign(Object.assign({},n),{domain:i,address:r})),a=yield t("sign_messages",{addresses:[r],payloads:[o]});return{address:r,signed_message:o,signature:a.signed_payloads[0].slice(o.length)}})}const ys=4;function qM(n){if(n>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const e=new ArrayBuffer(ys);return new DataView(e).setUint32(0,n,!1),new Uint8Array(e)}const Rc=12,Zh=65;function XM(n,e,t){return Ce(this,void 0,void 0,function*(){const s=qM(e),i=new Uint8Array(Rc);crypto.getRandomValues(i);const r=yield crypto.subtle.encrypt(Jh(s,i),t,new TextEncoder().encode(n)),o=new Uint8Array(s.byteLength+i.byteLength+r.byteLength);return o.set(new Uint8Array(s),0),o.set(new Uint8Array(i),s.byteLength),o.set(new Uint8Array(r),s.byteLength+i.byteLength),o})}function Kh(n,e){return Ce(this,void 0,void 0,function*(){const t=n.slice(0,ys),s=n.slice(ys,ys+Rc),i=n.slice(ys+Rc),r=yield crypto.subtle.decrypt(Jh(t,s),e,i);return $M().decode(r)})}function Jh(n,e){return{additionalData:n,iv:e,name:"AES-GCM",tagLength:128}}let Ya;function $M(){return Ya===void 0&&(Ya=new TextDecoder("utf-8")),Ya}function ey(){return Ce(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function Va(){return Ce(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function ty(n){let e="";const t=new Uint8Array(n),s=t.byteLength;for(let i=0;i<s;i++)e+=String.fromCharCode(t[i]);return window.btoa(e)}function ny(){return qh(49152+Math.floor(Math.random()*16384))}function qh(n){if(n<49152||n>65535)throw new xn(An.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${n} given.`,{port:n});return n}function sy(n){return n.replace(/[/+=]/g,e=>({"/":"_","+":"-","=":"."})[e])}const iy="solana-wallet";function Uu(n){return n.replace(/(^\/+|\/+$)/g,"").split("/")}function ry(n,e){let t=null;if(e){try{t=new URL(e)}catch{}if((t==null?void 0:t.protocol)!=="https:")throw new xn(An.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}t||(t=new URL(`${iy}:/`));const s=n.startsWith("/")?n:[...Uu(t.pathname),...Uu(n)].join("/");return new URL(s,t)}function oy(n,e,t,s=["v1"]){return Ce(this,void 0,void 0,function*(){const i=qh(e),r=yield crypto.subtle.exportKey("raw",n),o=ty(r),a=ry("v1/associate/local",t);return a.searchParams.set("association",sy(o)),a.searchParams.set("port",`${i}`),s.forEach(c=>{a.searchParams.set("v",c)}),a})}function ay(n,e){return Ce(this,void 0,void 0,function*(){const t=JSON.stringify(n),s=n.id;return XM(t,s,e)})}function cy(n,e){return Ce(this,void 0,void 0,function*(){const t=yield Kh(n,e),s=JSON.parse(t);if(Object.hasOwnProperty.call(s,"error"))throw new Vh(s.id,s.error.code,s.error.message);return s})}function ly(n,e,t){return Ce(this,void 0,void 0,function*(){const[s,i]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",n.slice(0,Zh),{name:"ECDH",namedCurve:"P-256"},!1,[])]),r=yield crypto.subtle.deriveBits({name:"ECDH",public:i},t,256),o=yield crypto.subtle.importKey("raw",r,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(s),info:new Uint8Array},o,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function uy(n,e){return Ce(this,void 0,void 0,function*(){const t=yield Kh(n,e),s=JSON.parse(t);let i="legacy";if(Object.hasOwnProperty.call(s,"v"))switch(s.v){case 1:case"1":case"v1":i="v1";break;case"legacy":i="legacy";break;default:throw new xn(An.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${s.v}`)}return{protocol_version:i}})}const ea={Firefox:0,Other:1};function dy(){return navigator.userAgent.indexOf("Firefox/")!==-1?ea.Firefox:ea.Other}function hy(){return new Promise((n,e)=>{function t(){clearTimeout(i),window.removeEventListener("blur",s)}function s(){t(),n()}window.addEventListener("blur",s);const i=setTimeout(()=>{t(),e()},3e3)})}let hr=null;function fy(n){hr==null&&(hr=document.createElement("iframe"),hr.style.display="none",document.body.appendChild(hr)),hr.contentWindow.location.href=n.toString()}function py(n){return Ce(this,void 0,void 0,function*(){if(n.protocol==="https:")window.location.assign(n);else try{const e=dy();switch(e){case ea.Firefox:fy(n);break;case ea.Other:{const t=hy();window.location.assign(n),yield t;break}default:}}catch{throw new xn(An.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function gy(n,e){return Ce(this,void 0,void 0,function*(){const t=ny(),s=yield oy(n,t,e);return yield py(s),t})}const Bu={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},wy="com.solana.mobilewalletadapter.v1";function my(){if(typeof window>"u"||window.isSecureContext!==!0)throw new xn(An.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function My(n){let e;try{e=new URL(n)}catch{throw new xn(An.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(e.protocol!=="https:")throw new xn(An.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function Wu(n){return new DataView(n).getUint32(0,!1)}function yy(n,e){return Ce(this,void 0,void 0,function*(){my();const t=yield ey(),i=`ws://localhost:${yield gy(t.publicKey,e==null?void 0:e.baseUri)}/solana-wallet`;let r;const o=(()=>{const d=[...Bu.retryDelayScheduleMs];return()=>d.length>1?d.shift():d[0]})();let a=1,c=0,l={__type:"disconnected"};return new Promise((d,h)=>{let f;const p={},m=()=>Ce(this,void 0,void 0,function*(){if(l.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${l.__type}\`.`);return}f.removeEventListener("open",m);const{associationKeypair:N}=l,E=yield Va();f.send(yield Ha(E.publicKey,N.privateKey)),l={__type:"hello_req_sent",associationPublicKey:N.publicKey,ecdhPrivateKey:E.privateKey}}),g=N=>{N.wasClean?l={__type:"disconnected"}:h(new xn(An.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${N.code}: ${N.reason}).`,{closeEvent:N})),A()},x=N=>Ce(this,void 0,void 0,function*(){A(),Date.now()-r>=Bu.timeoutMs?h(new xn(An.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${i}.`)):(yield new Promise(E=>{const C=o();M=window.setTimeout(E,C)}),I())}),y=N=>Ce(this,void 0,void 0,function*(){const E=yield N.data.arrayBuffer();switch(l.__type){case"connecting":if(E.byteLength!==0)throw new Error("Encountered unexpected message while connecting");const C=yield Va();f.send(yield Ha(C.publicKey,t.privateKey)),l={__type:"hello_req_sent",associationPublicKey:t.publicKey,ecdhPrivateKey:C.privateKey};break;case"connected":try{const S=E.slice(0,ys),T=Wu(S);if(T!==c+1)throw new Error("Encrypted message has invalid sequence number");c=T;const D=yield cy(E,l.sharedSecret),O=p[D.id];delete p[D.id],O.resolve(D.result)}catch(S){if(S instanceof Vh){const T=p[S.jsonRpcMessageId];delete p[S.jsonRpcMessageId],T.reject(S)}else throw S}break;case"hello_req_sent":{if(E.byteLength===0){const G=yield Va();f.send(yield Ha(G.publicKey,t.privateKey)),l={__type:"hello_req_sent",associationPublicKey:t.publicKey,ecdhPrivateKey:G.privateKey};break}const S=yield ly(E,l.associationPublicKey,l.ecdhPrivateKey),T=E.slice(Zh),D=T.byteLength!==0?yield Ce(this,void 0,void 0,function*(){const G=T.slice(0,ys),U=Wu(G);if(U!==c+1)throw new Error("Encrypted message has invalid sequence number");return c=U,uy(T,S)}):{protocol_version:"legacy"};l={__type:"connected",sharedSecret:S,sessionProperties:D};const O=VM(D.protocol_version,(G,U)=>Ce(this,void 0,void 0,function*(){const Q=a++;return f.send(yield ay({id:Q,jsonrpc:"2.0",method:G,params:U??{}},S)),new Promise((L,_)=>{p[Q]={resolve(v){switch(G){case"authorize":case"reauthorize":{const{wallet_uri_base:X}=v;if(X!=null)try{My(X)}catch($){_($);return}break}}L(v)},reject:_}})}));try{d(yield n(O))}catch(G){h(G)}finally{A(),f.close()}break}}});let A,M;const I=()=>{A&&A(),l={__type:"connecting",associationKeypair:t},r===void 0&&(r=Date.now()),f=new WebSocket(i,[wy]),f.addEventListener("open",m),f.addEventListener("close",g),f.addEventListener("error",x),f.addEventListener("message",y),A=()=>{window.clearTimeout(M),f.removeEventListener("open",m),f.removeEventListener("close",g),f.removeEventListener("error",x),f.removeEventListener("message",y)}};I()})})}function pe(n,e,t,s){function i(r){return r instanceof t?r:new t(function(o){o(r)})}return new(t||(t=Promise))(function(r,o){function a(d){try{l(s.next(d))}catch(h){o(h)}}function c(d){try{l(s.throw(d))}catch(h){o(h)}}function l(d){d.done?r(d.value):i(d.value).then(a,c)}l((s=s.apply(n,[])).next())})}function z(n,e,t,s){if(t==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!s:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?s:t==="a"?s.call(n):s?s.value:e.get(n)}function je(n,e,t,s,i){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}var mr,De,ls,ii,Xh,$h,ef,No;const Ay=`
<div class="mobile-wallet-adapter-embedded-modal-container" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div data-modal-close style="position: absolute; width: 100%; height: 100%;"></div>
	<div class="mobile-wallet-adapter-embedded-modal-card">
		<div>
			<button data-modal-close class="mobile-wallet-adapter-embedded-modal-close">
				<svg width="14" height="14">
					<path d="M 6.7125,8.3036995 1.9082,13.108199 c -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 C 0.1056,12.896899 0,12.631699 0,12.312499 c 0,-0.3192 0.1056,-0.5844 0.3167,-0.7958 L 5.1212,6.7124995 0.3167,1.9082 C 0.1056,1.6969 0,1.4317 0,1.1125 0,0.7933 0.1056,0.5281 0.3167,0.3167 0.5281,0.1056 0.7933,0 1.1125,0 1.4317,0 1.6969,0.1056 1.9082,0.3167 L 6.7125,5.1212 11.5167,0.3167 C 11.7281,0.1056 11.9933,0 12.3125,0 c 0.3192,0 0.5844,0.1056 0.7957,0.3167 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 L 8.3037001,6.7124995 13.1082,11.516699 c 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 z" />
				</svg>
			</button>
		</div>
		<div class="mobile-wallet-adapter-embedded-modal-content"></div>
	</div>
</div>
`,xy=`
.mobile-wallet-adapter-embedded-modal-container {
    display: flex; /* Use flexbox to center content */
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    overflow-y: auto; /* enable scrolling */
}

.mobile-wallet-adapter-embedded-modal-card {
    display: flex;
    flex-direction: column;
    margin: auto 20px;
    max-width: 780px;
    padding: 20px;
    border-radius: 24px;
    background: #ffffff;
    font-family: "Inter Tight", "PT Sans", Calibri, sans-serif;
    transform: translateY(-200%);
    animation: slide-in 0.5s forwards;
}

@keyframes slide-in {
    100% { transform: translateY(0%); }
}

.mobile-wallet-adapter-embedded-modal-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    cursor: pointer;
    background: #e4e9e9;
    border: none;
    border-radius: 50%;
}

.mobile-wallet-adapter-embedded-modal-close:focus-visible {
    outline-color: red;
}

.mobile-wallet-adapter-embedded-modal-close svg {
    fill: #546266;
    transition: fill 200ms ease 0s;
}

.mobile-wallet-adapter-embedded-modal-close:hover svg {
    fill: #fff;
}
`,by=`
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
`;class Iy{constructor(){mr.add(this),De.set(this,null),ls.set(this,{}),ii.set(this,!1),this.dom=null,this.open=()=>{console.debug("Modal open"),z(this,mr,"m",$h).call(this),z(this,De,"f")&&(z(this,De,"f").style.display="flex")},this.close=(e=void 0)=>{var t;console.debug("Modal close"),z(this,mr,"m",ef).call(this),z(this,De,"f")&&(z(this,De,"f").style.display="none"),(t=z(this,ls,"f").close)===null||t===void 0||t.forEach(s=>s(e))},No.set(this,e=>{e.key==="Escape"&&this.close(e)}),this.init=this.init.bind(this),je(this,De,document.getElementById("mobile-wallet-adapter-embedded-root-ui"))}init(){return pe(this,void 0,void 0,function*(){console.log("Injecting modal"),z(this,mr,"m",Xh).call(this)})}addEventListener(e,t){var s;return!((s=z(this,ls,"f")[e])===null||s===void 0)&&s.push(t)||(z(this,ls,"f")[e]=[t]),()=>this.removeEventListener(e,t)}removeEventListener(e,t){var s;z(this,ls,"f")[e]=(s=z(this,ls,"f")[e])===null||s===void 0?void 0:s.filter(i=>t!==i)}}De=new WeakMap,ls=new WeakMap,ii=new WeakMap,No=new WeakMap,mr=new WeakSet,Xh=function(){if(document.getElementById("mobile-wallet-adapter-embedded-root-ui")){z(this,De,"f")||je(this,De,document.getElementById("mobile-wallet-adapter-embedded-root-ui"));return}je(this,De,document.createElement("div")),z(this,De,"f").id="mobile-wallet-adapter-embedded-root-ui",z(this,De,"f").innerHTML=Ay,z(this,De,"f").style.display="none";const e=z(this,De,"f").querySelector(".mobile-wallet-adapter-embedded-modal-content");e&&(e.innerHTML=this.contentHtml);const t=document.createElement("style");t.id="mobile-wallet-adapter-embedded-modal-styles",t.textContent=xy+this.contentStyles;const s=document.createElement("div");s.innerHTML=by,this.dom=s.attachShadow({mode:"closed"}),this.dom.appendChild(t),this.dom.appendChild(z(this,De,"f")),document.body.appendChild(s)},$h=function(){if(!z(this,De,"f")||z(this,ii,"f"))return;[...z(this,De,"f").querySelectorAll("[data-modal-close]")].forEach(t=>t==null?void 0:t.addEventListener("click",this.close)),window.addEventListener("load",this.close),document.addEventListener("keydown",z(this,No,"f")),je(this,ii,!0)},ef=function(){if(!z(this,ii,"f")||(window.removeEventListener("load",this.close),document.removeEventListener("keydown",z(this,No,"f")),!z(this,De,"f")))return;[...z(this,De,"f").querySelectorAll("[data-modal-close]")].forEach(t=>t==null?void 0:t.removeEventListener("click",this.close)),je(this,ii,!1)};const Ny="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDIuNUgxN0MxNy44Mjg0IDIuNSAxOC41IDMuMTcxNTcgMTguNSA0VjIwQzE4LjUgMjAuODI4NCAxNy44Mjg0IDIxLjUgMTcgMjEuNUg3QzYuMTcxNTcgMjEuNSA1LjUgMjAuODI4NCA1LjUgMjBWNEM1LjUgMy4xNzE1NyA2LjE3MTU3IDIuNSA3IDIuNVpNMyA0QzMgMS43OTA4NiA0Ljc5MDg2IDAgNyAwSDE3QzE5LjIwOTEgMCAyMSAxLjc5MDg2IDIxIDRWMjBDMjEgMjIuMjA5MSAxOS4yMDkxIDI0IDE3IDI0SDdDNC43OTA4NiAyNCAzIDIyLjIwOTEgMyAyMFY0Wk0xMSA0LjYxNTM4QzEwLjQ0NzcgNC42MTUzOCAxMCA1LjA2MzEgMTAgNS42MTUzOFY2LjM4NDYyQzEwIDYuOTM2OSAxMC40NDc3IDcuMzg0NjIgMTEgNy4zODQ2MkgxM0MxMy41NTIzIDcuMzg0NjIgMTQgNi45MzY5IDE0IDYuMzg0NjJWNS42MTUzOEMxNCA1LjA2MzEgMTMuNTUyMyA0LjYxNTM4IDEzIDQuNjE1MzhIMTFaIiBmaWxsPSIjRENCOEZGIi8+Cjwvc3ZnPgo=";function ho(n){return window.btoa(String.fromCharCode.call(null,...n))}function Tn(n){return new Uint8Array(window.atob(n).split("").map(e=>e.charCodeAt(0)))}var ri,As,Pc,Uc,Bc,Wc,Mr,He,an,_n,oi,us,Eo,yr,jo,Qc,So,tf,Fc,Co,ai,To,Ar,Lo,ci,xr,Do,Gc,Hc,_o,zo,Yc,Vc,ko;const nf="Mobile Wallet Adapter",Ey=64,jy=[ot,ye,mn,Us];class Sy{constructor(e){ri.add(this),As.set(this,{}),Pc.set(this,"1.0.0"),Uc.set(this,nf),Bc.set(this,"https://solanamobile.com/wallets"),Wc.set(this,Ny),Mr.set(this,void 0),He.set(this,void 0),an.set(this,void 0),_n.set(this,!1),oi.set(this,0),us.set(this,[]),Eo.set(this,void 0),yr.set(this,void 0),jo.set(this,void 0),Qc.set(this,(t,s)=>{var i;return!((i=z(this,As,"f")[t])===null||i===void 0)&&i.push(s)||(z(this,As,"f")[t]=[s]),()=>z(this,ri,"m",tf).call(this,t,s)}),Fc.set(this,({silent:t}={})=>pe(this,void 0,void 0,function*(){if(z(this,_n,"f")||this.connected)return{accounts:this.accounts};je(this,_n,!0);try{if(t){const s=yield z(this,an,"f").get();if(s)yield z(this,To,"f").call(this,s.capabilities),yield z(this,ai,"f").call(this,s);else return{accounts:this.accounts}}else yield z(this,Co,"f").call(this)}catch(s){throw new Error(s instanceof Error&&s.message||"Unknown error")}finally{je(this,_n,!1)}return{accounts:this.accounts}})),Co.set(this,t=>pe(this,void 0,void 0,function*(){try{const s=yield z(this,an,"f").get();if(s)return z(this,ai,"f").call(this,s),s;const i=yield z(this,Eo,"f").select(z(this,us,"f"));return yield z(this,ci,"f").call(this,r=>pe(this,void 0,void 0,function*(){const[o,a]=yield Promise.all([r.getCapabilities(),r.authorize({chain:i,identity:z(this,Mr,"f"),sign_in_payload:t})]),c=z(this,Do,"f").call(this,a.accounts),l=Object.assign(Object.assign({},a),{accounts:c,chain:i,capabilities:o});return Promise.all([z(this,To,"f").call(this,o),z(this,an,"f").set(l),z(this,ai,"f").call(this,l)]),l}))}catch(s){throw new Error(s instanceof Error&&s.message||"Unknown error")}})),ai.set(this,t=>pe(this,void 0,void 0,function*(){var s;const i=z(this,He,"f")==null||((s=z(this,He,"f"))===null||s===void 0?void 0:s.accounts.length)!==t.accounts.length||z(this,He,"f").accounts.some((r,o)=>r.address!==t.accounts[o].address);je(this,He,t),i&&z(this,ri,"m",So).call(this,"change",{accounts:this.accounts})})),To.set(this,t=>pe(this,void 0,void 0,function*(){const s=t.features.includes("solana:signTransactions"),i=t.supports_sign_and_send_transactions,r=ot in this.features!==i||ye in this.features!==s;je(this,yr,Object.assign(Object.assign({},(i||!i&&!s)&&{[ot]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:z(this,_o,"f")}}),s&&{[ye]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:z(this,zo,"f")}})),r&&z(this,ri,"m",So).call(this,"change",{features:this.features})})),Ar.set(this,(t,s,i)=>pe(this,void 0,void 0,function*(){var r,o;try{const[a,c]=yield Promise.all([(o=(r=z(this,He,"f"))===null||r===void 0?void 0:r.capabilities)!==null&&o!==void 0?o:yield t.getCapabilities(),t.authorize({auth_token:s,identity:z(this,Mr,"f"),chain:i})]),l=z(this,Do,"f").call(this,c.accounts),d=Object.assign(Object.assign({},c),{accounts:l,chain:i,capabilities:a});Promise.all([z(this,an,"f").set(d),z(this,ai,"f").call(this,d)])}catch(a){throw z(this,Lo,"f").call(this),new Error(a instanceof Error&&a.message||"Unknown error")}})),Lo.set(this,()=>pe(this,void 0,void 0,function*(){var t;z(this,an,"f").clear(),je(this,_n,!1),je(this,oi,(t=z(this,oi,"f"),t++,t)),je(this,He,void 0),z(this,ri,"m",So).call(this,"change",{accounts:this.accounts})})),ci.set(this,t=>pe(this,void 0,void 0,function*(){var s;const i=(s=z(this,He,"f"))===null||s===void 0?void 0:s.wallet_uri_base,r=i?{baseUri:i}:void 0,o=z(this,oi,"f");try{return yield yy(t,r)}catch(a){throw z(this,oi,"f")!==o&&(yield new Promise(()=>{})),a instanceof Error&&a.name==="SolanaMobileWalletAdapterError"&&a.code==="ERROR_WALLET_NOT_FOUND"&&(yield z(this,jo,"f").call(this,this)),a}})),xr.set(this,()=>{if(!z(this,He,"f"))throw new Error("Wallet not connected");return{authToken:z(this,He,"f").auth_token,chain:z(this,He,"f").chain}}),Do.set(this,t=>t.map(s=>{var i,r;const o=Tn(s.address);return{address:Wo.encode(o),publicKey:o,label:s.label,icon:s.icon,chains:(i=s.chains)!==null&&i!==void 0?i:z(this,us,"f"),features:(r=s.features)!==null&&r!==void 0?r:jy}})),Gc.set(this,t=>pe(this,void 0,void 0,function*(){const{authToken:s,chain:i}=z(this,xr,"f").call(this);try{const r=t.map(o=>ho(o));return yield z(this,ci,"f").call(this,o=>pe(this,void 0,void 0,function*(){return yield z(this,Ar,"f").call(this,o,s,i),(yield o.signTransactions({payloads:r})).signed_payloads.map(Tn)}))}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}})),Hc.set(this,(t,s)=>pe(this,void 0,void 0,function*(){const{authToken:i,chain:r}=z(this,xr,"f").call(this);try{return yield z(this,ci,"f").call(this,o=>pe(this,void 0,void 0,function*(){const[a,c]=yield Promise.all([o.getCapabilities(),z(this,Ar,"f").call(this,o,i,r)]);if(a.supports_sign_and_send_transactions){const l=ho(t);return(yield o.signAndSendTransactions(Object.assign(Object.assign({},s),{payloads:[l]}))).signatures.map(Tn)[0]}else throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(o){throw new Error(o instanceof Error&&o.message||"Unknown error")}})),_o.set(this,(...t)=>pe(this,void 0,void 0,function*(){const s=[];for(const i of t){const r=yield z(this,Hc,"f").call(this,i.transaction,i.options);s.push({signature:r})}return s})),zo.set(this,(...t)=>pe(this,void 0,void 0,function*(){return(yield z(this,Gc,"f").call(this,t.map(({transaction:s})=>s))).map(s=>({signedTransaction:s}))})),Yc.set(this,(...t)=>pe(this,void 0,void 0,function*(){const{authToken:s,chain:i}=z(this,xr,"f").call(this),r=t.map(({account:a})=>ho(a.publicKey)),o=t.map(({message:a})=>ho(a));try{return yield z(this,ci,"f").call(this,a=>pe(this,void 0,void 0,function*(){return yield z(this,Ar,"f").call(this,a,s,i),(yield a.signMessages({addresses:r,payloads:o})).signed_payloads.map(Tn).map(l=>({signedMessage:l,signature:l.slice(-Ey)}))}))}catch(a){throw new Error(a instanceof Error&&a.message||"Unknown error")}})),Vc.set(this,(...t)=>pe(this,void 0,void 0,function*(){const s=[];if(t.length>1)for(const i of t)s.push(yield z(this,ko,"f").call(this,i));else return[yield z(this,ko,"f").call(this,t[0])];return s})),ko.set(this,t=>pe(this,void 0,void 0,function*(){var s,i,r;je(this,_n,!0);try{const o=yield z(this,Co,"f").call(this,Object.assign(Object.assign({},t),{domain:(s=t==null?void 0:t.domain)!==null&&s!==void 0?s:window.location.host}));if(!o.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const a=o.sign_in_result.address,c=o.accounts.find(l=>l.address==a);return{account:Object.assign(Object.assign({},c??{address:Wo.encode(Tn(a))}),{publicKey:Tn(a),chains:(i=c==null?void 0:c.chains)!==null&&i!==void 0?i:z(this,us,"f"),features:(r=c==null?void 0:c.features)!==null&&r!==void 0?r:o.capabilities.features}),signedMessage:Tn(o.sign_in_result.signed_message),signature:Tn(o.sign_in_result.signature)}}catch(o){throw new Error(o instanceof Error&&o.message||"Unknown error")}finally{je(this,_n,!1)}})),je(this,an,e.authorizationCache),je(this,Mr,e.appIdentity),je(this,us,e.chains),je(this,Eo,e.chainSelector),je(this,jo,e.onWalletNotFound),je(this,yr,{[ot]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:z(this,_o,"f")},[ye]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:z(this,zo,"f")}})}get version(){return z(this,Pc,"f")}get name(){return z(this,Uc,"f")}get url(){return z(this,Bc,"f")}get icon(){return z(this,Wc,"f")}get chains(){return z(this,us,"f")}get features(){return Object.assign({[gl]:{version:"1.0.0",connect:z(this,Fc,"f")},[Qo]:{version:"1.0.0",disconnect:z(this,Lo,"f")},[pl]:{version:"1.0.0",on:z(this,Qc,"f")},[mn]:{version:"1.0.0",signMessage:z(this,Yc,"f")},[Us]:{version:"1.0.0",signIn:z(this,Vc,"f")}},z(this,yr,"f"))}get accounts(){var e,t;return(t=(e=z(this,He,"f"))===null||e===void 0?void 0:e.accounts)!==null&&t!==void 0?t:[]}get connected(){return!!z(this,He,"f")}get isAuthorized(){return!!z(this,He,"f")}get currentAuthorization(){return z(this,He,"f")}get cachedAuthorizationResult(){return z(this,an,"f").get()}}As=new WeakMap,Pc=new WeakMap,Uc=new WeakMap,Bc=new WeakMap,Wc=new WeakMap,Mr=new WeakMap,He=new WeakMap,an=new WeakMap,_n=new WeakMap,oi=new WeakMap,us=new WeakMap,Eo=new WeakMap,yr=new WeakMap,jo=new WeakMap,Qc=new WeakMap,Fc=new WeakMap,Co=new WeakMap,ai=new WeakMap,To=new WeakMap,Ar=new WeakMap,Lo=new WeakMap,ci=new WeakMap,xr=new WeakMap,Do=new WeakMap,Gc=new WeakMap,Hc=new WeakMap,_o=new WeakMap,zo=new WeakMap,Yc=new WeakMap,Vc=new WeakMap,ko=new WeakMap,ri=new WeakSet,So=function(e,...t){var s;(s=z(this,As,"f")[e])===null||s===void 0||s.forEach(i=>i.apply(null,t))},tf=function(e,t){var s;z(this,As,"f")[e]=(s=z(this,As,"f")[e])===null||s===void 0?void 0:s.filter(i=>t!==i)};const Cy="To use mobile wallet adapter, you must have a compatible mobile wallet application installed on your device.",Ty="This browser appears to be incompatible with mobile wallet adapter. Open this page in a compatible mobile browser app and try again.";class Ly extends Iy{constructor(){super(...arguments),this.contentStyles=_y,this.contentHtml=Dy}initWithError(e){super.init(),this.populateError(e)}populateError(e){var t,s;const i=(t=this.dom)===null||t===void 0?void 0:t.getElementById("mobile-wallet-adapter-error-message"),r=(s=this.dom)===null||s===void 0?void 0:s.getElementById("mobile-wallet-adapter-error-action");if(i){if(e.name==="SolanaMobileWalletAdapterError")switch(e.code){case"ERROR_WALLET_NOT_FOUND":i.innerHTML=Cy,r&&r.addEventListener("click",()=>{window.location.href="https://solanamobile.com/wallets"});return;case"ERROR_BROWSER_NOT_SUPPORTED":i.innerHTML=Ty,r&&(r.style.display="none");return}i.innerHTML=`An unexpected error occurred: ${e.message}`}else console.log("Failed to locate error dialog element")}}const Dy=`
<svg class="mobile-wallet-adapter-embedded-modal-error-icon" xmlns="http://www.w3.org/2000/svg" height="50px" viewBox="0 -960 960 960" width="50px" fill="#000000"><path d="M 280,-80 Q 197,-80 138.5,-138.5 80,-197 80,-280 80,-363 138.5,-421.5 197,-480 280,-480 q 83,0 141.5,58.5 58.5,58.5 58.5,141.5 0,83 -58.5,141.5 Q 363,-80 280,-80 Z M 824,-120 568,-376 Q 556,-389 542.5,-402.5 529,-416 516,-428 q 38,-24 61,-64 23,-40 23,-88 0,-75 -52.5,-127.5 Q 495,-760 420,-760 345,-760 292.5,-707.5 240,-655 240,-580 q 0,6 0.5,11.5 0.5,5.5 1.5,11.5 -18,2 -39.5,8 -21.5,6 -38.5,14 -2,-11 -3,-22 -1,-11 -1,-23 0,-109 75.5,-184.5 Q 311,-840 420,-840 q 109,0 184.5,75.5 75.5,75.5 75.5,184.5 0,43 -13.5,81.5 Q 653,-460 629,-428 l 251,252 z m -615,-61 71,-71 70,71 29,-28 -71,-71 71,-71 -28,-28 -71,71 -71,-71 -28,28 71,71 -71,71 z"/></svg>
<div class="mobile-wallet-adapter-embedded-modal-title">We can't find a wallet.</div>
<div id="mobile-wallet-adapter-error-message" class="mobile-wallet-adapter-embedded-modal-subtitle"></div>
<div>
    <button data-error-action id="mobile-wallet-adapter-error-action" class="mobile-wallet-adapter-embedded-modal-error-action">
        Find a wallet
    </button>
</div>
`,_y=`
.mobile-wallet-adapter-embedded-modal-content {
    text-align: center;
}

.mobile-wallet-adapter-embedded-modal-error-icon {
    margin-top: 24px;
}

.mobile-wallet-adapter-embedded-modal-title {
    margin: 18px 100px auto 100px;
    color: #000000;
    font-size: 2.75em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: 30px 60px 40px 60px;
    color: #000000;
    font-size: 1.25em;
    font-weight: 400;
}

.mobile-wallet-adapter-embedded-modal-error-action {
    display: block;
    width: 100%;
    height: 56px;
    /*margin-top: 40px;*/
    font-size: 1.25em;
    /*line-height: 24px;*/
    /*letter-spacing: -1%;*/
    background: #000000;
    color: #FFFFFF;
    border-radius: 18px;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
        margin-right: 12px;
        margin-left: 12px;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: 12px;
        margin-left: 12px;
    }
}
`;function zy(){return pe(this,void 0,void 0,function*(){if(typeof window<"u"){const n=window.navigator.userAgent.toLowerCase(),e=new Ly;n.includes("wv")?e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_BROWSER_NOT_SUPPORTED",message:""}):e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_WALLET_NOT_FOUND",message:""}),e.open()}})}const Za="SolanaMobileWalletAdapterDefaultAuthorizationCache";function ky(){let n;try{n=window.localStorage}catch{}return{clear(){return pe(this,void 0,void 0,function*(){if(n)try{n.removeItem(Za)}catch{}})},get(){return pe(this,void 0,void 0,function*(){if(n)try{const e=JSON.parse(n.getItem(Za));if(e&&e.accounts){const t=e.accounts.map(s=>Object.assign(Object.assign({},s),{publicKey:"publicKey"in s?new Uint8Array(Object.values(s.publicKey)):Wo.decode(s.address)}));return Object.assign(Object.assign({},e),{accounts:t})}else return e||void 0}catch{}})},set(e){return pe(this,void 0,void 0,function*(){if(n)try{n.setItem(Za,JSON.stringify(e))}catch{}})}}}function Oy(){return{select(n){return pe(this,void 0,void 0,function*(){return n.length===1?n[0]:n.includes(Ur)?Ur:n[0]})}}}function de(n,e,t,s){function i(r){return r instanceof t?r:new t(function(o){o(r)})}return new(t||(t=Promise))(function(r,o){function a(d){try{l(s.next(d))}catch(h){o(h)}}function c(d){try{l(s.throw(d))}catch(h){o(h)}}function l(d){d.done?r(d.value):i(d.value).then(a,c)}l((s=s.apply(n,[])).next())})}function K(n,e,t,s){if(t==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!s:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?s:t==="a"?s.call(n):s?s.value:e.get(n)}function dt(n,e,t,s,i){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}const Zc="standard:connect",vy="standard:disconnect",Ry="standard:events";function Ka(n){return window.btoa(String.fromCharCode.call(null,...n))}function Py(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}var ve,me,On,yn,Oo,cn,ds,Kc,Jc,sf,ta,vo,zn;const Ro=nf,Uy=64;function By(n){return"version"in n}function rf(n){switch(n){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet";default:return n}}class Wy extends vf{constructor(e,t){super(),ve.add(this),this.supportedTransactionVersions=new Set(["legacy",0]),me.set(this,void 0),On.set(this,!1),yn.set(this,Py()?Y.Loadable:Y.Unsupported),Oo.set(this,void 0),cn.set(this,void 0),ds.set(this,void 0),Kc.set(this,s=>de(this,void 0,void 0,function*(){if(s.accounts&&s.accounts.length>0){K(this,ve,"m",sf).call(this);const i=yield K(this,Oo,"f").call(this,s.accounts);i!==K(this,cn,"f")&&(dt(this,cn,i),dt(this,ds,void 0),this.emit("connect",this.publicKey))}})),dt(this,Oo,s=>de(this,void 0,void 0,function*(){var i;const r=yield t.addressSelector.select(s.map(({publicKey:o})=>Ka(o)));return(i=s.find(({publicKey:o})=>Ka(o)===r))!==null&&i!==void 0?i:s[0]})),dt(this,me,e),K(this,me,"f").features[Ry].on("change",K(this,Kc,"f")),this.name=K(this,me,"f").name,this.icon=K(this,me,"f").icon,this.url=K(this,me,"f").url}get publicKey(){var e;if(!K(this,ds,"f")&&K(this,cn,"f"))try{dt(this,ds,new St(K(this,cn,"f").publicKey),"f")}catch(t){throw new Wt(t instanceof Error&&(t==null?void 0:t.message)||"Unknown error",t)}return(e=K(this,ds,"f"))!==null&&e!==void 0?e:null}get connected(){return K(this,me,"f").connected}get connecting(){return K(this,On,"f")}get readyState(){return K(this,yn,"f")}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return de(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return de(this,void 0,void 0,function*(){K(this,ve,"m",Jc).call(this,!0)})}connect(){return de(this,void 0,void 0,function*(){K(this,ve,"m",Jc).call(this)})}performAuthorization(e){return de(this,void 0,void 0,function*(){try{const t=yield K(this,me,"f").cachedAuthorizationResult;return t?(yield K(this,me,"f").features[Zc].connect({silent:!0}),t):(e?yield K(this,me,"f").features[Us].signIn(e):yield K(this,me,"f").features[Zc].connect(),yield yield K(this,me,"f").cachedAuthorizationResult)}catch(t){throw new $t(t instanceof Error&&t.message||"Unknown error",t)}})}disconnect(){return de(this,void 0,void 0,function*(){return yield K(this,ve,"m",zn).call(this,()=>de(this,void 0,void 0,function*(){dt(this,On,!1),dt(this,ds,void 0),dt(this,cn,void 0),yield K(this,me,"f").features[vy].disconnect(),this.emit("disconnect")}))})}signIn(e){return de(this,void 0,void 0,function*(){return K(this,ve,"m",zn).call(this,()=>de(this,void 0,void 0,function*(){var t;if(K(this,yn,"f")!==Y.Installed&&K(this,yn,"f")!==Y.Loadable)throw new Ct;dt(this,On,!0);try{const s=yield K(this,me,"f").features[Us].signIn(Object.assign(Object.assign({},e),{domain:(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:window.location.host}));if(s.length>0)return s[0];throw new Error("Sign in failed, no sign in result returned by wallet")}catch(s){throw new $t(s instanceof Error&&s.message||"Unknown error",s)}finally{dt(this,On,!1)}}))})}signMessage(e){return de(this,void 0,void 0,function*(){return yield K(this,ve,"m",zn).call(this,()=>de(this,void 0,void 0,function*(){const t=K(this,ve,"m",ta).call(this);try{return(yield K(this,me,"f").features[mn].signMessage({account:t,message:e}))[0].signature}catch(s){throw new qs(s==null?void 0:s.message,s)}}))})}sendTransaction(e,t,s){return de(this,void 0,void 0,function*(){return yield K(this,ve,"m",zn).call(this,()=>de(this,void 0,void 0,function*(){const i=K(this,ve,"m",ta).call(this);try{let r=function(){let o;switch(t.commitment){case"confirmed":case"finalized":case"processed":o=t.commitment;break;default:o="finalized"}let a;switch(s==null?void 0:s.preflightCommitment){case"confirmed":case"finalized":case"processed":a=s.preflightCommitment;break;case void 0:a=o;break;default:a="finalized"}return(a==="finalized"?2:a==="confirmed"?1:0)<(o==="finalized"?2:o==="confirmed"?1:0)?a:o};if(ot in K(this,me,"f").features){const o=rf(K(this,me,"f").currentAuthorization.chain),[a]=(yield K(this,me,"f").features[ot].signAndSendTransaction({account:i,transaction:e.serialize(),chain:o,options:s?{skipPreflight:s.skipPreflight,maxRetries:s.maxRetries}:void 0})).map(c=>Ka(c.signature));return a}else{const[o]=yield K(this,ve,"m",vo).call(this,[e]);if(By(o))return yield t.sendTransaction(o);{const a=o.serialize();return yield t.sendRawTransaction(a,Object.assign(Object.assign({},s),{preflightCommitment:r()}))}}}catch(r){throw new Qs(r==null?void 0:r.message,r)}}))})}signTransaction(e){return de(this,void 0,void 0,function*(){return yield K(this,ve,"m",zn).call(this,()=>de(this,void 0,void 0,function*(){const[t]=yield K(this,ve,"m",vo).call(this,[e]);return t}))})}signAllTransactions(e){return de(this,void 0,void 0,function*(){return yield K(this,ve,"m",zn).call(this,()=>de(this,void 0,void 0,function*(){return yield K(this,ve,"m",vo).call(this,e)}))})}}me=new WeakMap,On=new WeakMap,yn=new WeakMap,Oo=new WeakMap,cn=new WeakMap,ds=new WeakMap,Kc=new WeakMap,ve=new WeakSet,Jc=function(e=!1){return de(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield K(this,ve,"m",zn).call(this,()=>de(this,void 0,void 0,function*(){if(K(this,yn,"f")!==Y.Installed&&K(this,yn,"f")!==Y.Loadable)throw new Ct;dt(this,On,!0);try{yield K(this,me,"f").features[Zc].connect({silent:e})}catch(t){throw new $t(t instanceof Error&&t.message||"Unknown error",t)}finally{dt(this,On,!1)}}))})},sf=function(){K(this,yn,"f")!==Y.Installed&&this.emit("readyStateChange",dt(this,yn,Y.Installed))},ta=function(){if(!K(this,me,"f").isAuthorized||!K(this,cn,"f"))throw new oe;return K(this,cn,"f")},vo=function(e){return de(this,void 0,void 0,function*(){const t=K(this,ve,"m",ta).call(this);try{if(ye in K(this,me,"f").features)return K(this,me,"f").features[ye].signTransaction(...e.map(s=>({account:t,transaction:s.serialize()}))).then(s=>s.map(i=>{const r=i.signedTransaction,a=r[0]*Uy+1;return Rf.deserializeMessageVersion(r.slice(a,r.length))==="legacy"?ec.from(r):tc.deserialize(r)}));throw new Error("Connected wallet does not support signing transactions")}catch(s){throw new qe(s==null?void 0:s.message,s)}})},zn=function(e){return de(this,void 0,void 0,function*(){try{return yield e()}catch(t){throw this.emit("error",t),t}})};class Qy extends Wy{constructor(e){var t;const s=rf((t=e.chain)!==null&&t!==void 0?t:e.cluster);super(new Sy({appIdentity:e.appIdentity,authorizationCache:{set:e.authorizationResultCache.set,get:()=>de(this,void 0,void 0,function*(){return yield e.authorizationResultCache.get()}),clear:e.authorizationResultCache.clear},chains:[s],chainSelector:Oy(),onWalletNotFound:()=>de(this,void 0,void 0,function*(){e.onWalletNotFound(this)})}),{addressSelector:e.addressSelector,chain:s})}}class Fy extends Qy{}function Gy(){return{select(n){return de(this,void 0,void 0,function*(){return n[0]})}}}function Hy(){return ky()}function Yy(n){return de(this,void 0,void 0,function*(){return zy()})}function Vy(){return Yy}var H=function(n,e,t,s){if(t==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!s:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?s:t==="a"?s.call(n):s?s.value:e.get(n)},Se=function(n,e,t,s,i){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?i.call(n,t):i?i.value=t:e.set(n,t),t},We,it,xs,bs,hs,br,na,ae,sa,qc,Po,Xc,Sr,$c,Qu,Fu,Gu,Hu;class Zy extends Pf{get name(){return H(this,ae,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return H(this,ae,"f").icon}get readyState(){return H(this,sa,"f")}get publicKey(){return H(this,xs,"f")}get connecting(){return H(this,bs,"f")}get supportedTransactionVersions(){return H(this,na,"f")}get wallet(){return H(this,ae,"f")}get standard(){return!0}constructor({wallet:e}){super(),We.add(this),it.set(this,void 0),xs.set(this,void 0),bs.set(this,void 0),hs.set(this,void 0),br.set(this,void 0),na.set(this,void 0),ae.set(this,void 0),sa.set(this,typeof window>"u"||typeof document>"u"?Y.Unsupported:Y.Installed),$c.set(this,t=>{if("accounts"in t){const s=H(this,ae,"f").accounts[0];H(this,it,"f")&&!H(this,hs,"f")&&s!==H(this,it,"f")&&(s?H(this,We,"m",Po).call(this,s):(this.emit("error",new or),H(this,We,"m",Xc).call(this)))}"features"in t&&H(this,We,"m",Sr).call(this)}),Se(this,ae,e,"f"),Se(this,it,null,"f"),Se(this,xs,null,"f"),Se(this,bs,!1,"f"),Se(this,hs,!1,"f"),Se(this,br,H(this,ae,"f").features[pl].on("change",H(this,$c,"f")),"f"),H(this,We,"m",Sr).call(this)}destroy(){Se(this,it,null,"f"),Se(this,xs,null,"f"),Se(this,bs,!1,"f"),Se(this,hs,!1,"f");const e=H(this,br,"f");e&&(Se(this,br,null,"f"),e())}async autoConnect(){return H(this,We,"m",qc).call(this,{silent:!0})}async connect(){return H(this,We,"m",qc).call(this)}async disconnect(){if(Qo in H(this,ae,"f").features)try{Se(this,hs,!0,"f"),await H(this,ae,"f").features[Qo].disconnect()}catch(e){this.emit("error",new ar(e==null?void 0:e.message,e))}finally{Se(this,hs,!1,"f")}H(this,We,"m",Xc).call(this)}async sendTransaction(e,t,s={}){try{const i=H(this,it,"f");if(!i)throw new oe;let r;if(ot in H(this,ae,"f").features)if(i.features.includes(ot))r=ot;else if(ye in H(this,ae,"f").features&&i.features.includes(ye))r=ye;else throw new Ut;else if(ye in H(this,ae,"f").features){if(!i.features.includes(ye))throw new Ut;r=ye}else throw new ws;const o=WM(t.rpcEndpoint);if(!i.chains.includes(o))throw new Qs;try{const{signers:a,...c}=s;let l;if(Jn(e)?(a!=null&&a.length&&e.sign(a),l=e.serialize()):(e=await this.prepareTransaction(e,t,c),a!=null&&a.length&&e.partialSign(...a),l=new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))),r===ot){const[d]=await H(this,ae,"f").features[ot].signAndSendTransaction({account:i,chain:o,transaction:l,options:{preflightCommitment:Ga(c.preflightCommitment||t.commitment),skipPreflight:c.skipPreflight,maxRetries:c.maxRetries,minContextSlot:c.minContextSlot}});return Wo.encode(d.signature)}else{const[d]=await H(this,ae,"f").features[ye].signTransaction({account:i,chain:o,transaction:l,options:{preflightCommitment:Ga(c.preflightCommitment||t.commitment),minContextSlot:c.minContextSlot}});return await t.sendRawTransaction(d.signedTransaction,{...c,preflightCommitment:Ga(c.preflightCommitment||t.commitment)})}}catch(a){throw a instanceof Js?a:new Qs(a==null?void 0:a.message,a)}}catch(i){throw this.emit("error",i),i}}}it=new WeakMap,xs=new WeakMap,bs=new WeakMap,hs=new WeakMap,br=new WeakMap,na=new WeakMap,ae=new WeakMap,sa=new WeakMap,$c=new WeakMap,We=new WeakSet,qc=async function(e){try{if(this.connected||this.connecting)return;if(H(this,sa,"f")!==Y.Installed)throw new Ct;if(Se(this,bs,!0,"f"),!H(this,ae,"f").accounts.length)try{await H(this,ae,"f").features[gl].connect(e)}catch(s){throw new $t(s==null?void 0:s.message,s)}const t=H(this,ae,"f").accounts[0];if(!t)throw new Ut;H(this,We,"m",Po).call(this,t)}catch(t){throw this.emit("error",t),t}finally{Se(this,bs,!1,"f")}},Po=function(e){let t;try{t=new St(e.address)}catch(s){throw new Wt(s==null?void 0:s.message,s)}Se(this,it,e,"f"),Se(this,xs,t,"f"),H(this,We,"m",Sr).call(this),this.emit("connect",t)},Xc=function(){Se(this,it,null,"f"),Se(this,xs,null,"f"),H(this,We,"m",Sr).call(this),this.emit("disconnect")},Sr=function(){var t,s;const e=ot in H(this,ae,"f").features?H(this,ae,"f").features[ot].supportedTransactionVersions:H(this,ae,"f").features[ye].supportedTransactionVersions;Se(this,na,Uf(e,["legacy"])?null:new Set(e),"f"),ye in H(this,ae,"f").features&&((t=H(this,it,"f"))!=null&&t.features.includes(ye))?(this.signTransaction=H(this,We,"m",Qu),this.signAllTransactions=H(this,We,"m",Fu)):(delete this.signTransaction,delete this.signAllTransactions),mn in H(this,ae,"f").features&&((s=H(this,it,"f"))!=null&&s.features.includes(mn))?this.signMessage=H(this,We,"m",Gu):delete this.signMessage,Us in H(this,ae,"f").features?this.signIn=H(this,We,"m",Hu):delete this.signIn},Qu=async function(e){try{const t=H(this,it,"f");if(!t)throw new oe;if(!(ye in H(this,ae,"f").features))throw new ws;if(!t.features.includes(ye))throw new Ut;try{const i=(await H(this,ae,"f").features[ye].signTransaction({account:t,transaction:Jn(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return Jn(e)?tc.deserialize(i):ec.from(i)}catch(s){throw s instanceof Js?s:new qe(s==null?void 0:s.message,s)}}catch(t){throw this.emit("error",t),t}},Fu=async function(e){try{const t=H(this,it,"f");if(!t)throw new oe;if(!(ye in H(this,ae,"f").features))throw new ws;if(!t.features.includes(ye))throw new Ut;try{const s=await H(this,ae,"f").features[ye].signTransaction(...e.map(i=>({account:t,transaction:Jn(i)?i.serialize():new Uint8Array(i.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return e.map((i,r)=>{const o=s[r].signedTransaction;return Jn(i)?tc.deserialize(o):ec.from(o)})}catch(s){throw new qe(s==null?void 0:s.message,s)}}catch(t){throw this.emit("error",t),t}},Gu=async function(e){try{const t=H(this,it,"f");if(!t)throw new oe;if(!(mn in H(this,ae,"f").features))throw new ws;if(!t.features.includes(mn))throw new Ut;try{return(await H(this,ae,"f").features[mn].signMessage({account:t,message:e}))[0].signature}catch(s){throw new qs(s==null?void 0:s.message,s)}}catch(t){throw this.emit("error",t),t}},Hu=async function(e={}){try{if(!(Us in H(this,ae,"f").features))throw new ws;let t;try{[t]=await H(this,ae,"f").features[Us].signIn(e)}catch(s){throw new Gl(s==null?void 0:s.message,s)}if(!t)throw new Gl;return H(this,We,"m",Po).call(this,t.account),t}catch(t){throw this.emit("error",t),t}};const Ky=Bf;function Jy(n){const e=Yu(()=>new Set),{get:t,on:s}=Yu(()=>Wf()),[i,r]=j.useState(()=>Vu(t()));j.useEffect(()=>{const a=[s("register",(...c)=>r(l=>[...l,...Vu(c)])),s("unregister",(...c)=>r(l=>l.filter(d=>c.some(h=>h===d.wallet))))];return()=>a.forEach(c=>c())},[s]);const o=qy(i);return j.useEffect(()=>{if(!o)return;const a=new Set(i);new Set(o.filter(l=>!a.has(l))).forEach(l=>l.destroy())},[o,i]),j.useEffect(()=>()=>i.forEach(a=>a.destroy()),[]),j.useMemo(()=>[...i,...n.filter(({name:a})=>i.some(c=>c.name===a)?(e.has(a)||(e.add(a),console.warn(`${a} was registered as a Standard Wallet. The Wallet Adapter for ${a} can be removed from your app.`)),!1):!0)],[i,n,e])}function Yu(n){const e=j.useRef(void 0);return e.current===void 0&&(e.current={value:n()}),e.current.value}function qy(n){const e=j.useRef(void 0);return j.useEffect(()=>{e.current=n}),e.current}function Vu(n){return n.filter(Ky).map(e=>new Zy({wallet:e}))}var gi;(function(n){n[n.DESKTOP_WEB=0]="DESKTOP_WEB",n[n.MOBILE_WEB=1]="MOBILE_WEB"})(gi||(gi={}));function Xy(n){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(n)}function $y({adapters:n,userAgentString:e}){return n.some(t=>t.name!==Ro&&t.readyState===Y.Installed)?gi.DESKTOP_WEB:e&&/android/i.test(e)&&!Xy(e)?gi.MOBILE_WEB:gi.DESKTOP_WEB}function eA(n){return n?/devnet/i.test(n)?"devnet":/testnet/i.test(n)?"testnet":"mainnet-beta":"mainnet-beta"}function tA({children:n,wallets:e,adapter:t,isUnloadingRef:s,onAutoConnectRequest:i,onConnectError:r,onError:o,onSelectWallet:a}){const c=j.useRef(!1),[l,d]=j.useState(!1),h=j.useRef(!1),[f,p]=j.useState(!1),[m,g]=j.useState(()=>(t==null?void 0:t.publicKey)??null),[x,y]=j.useState(()=>(t==null?void 0:t.connected)??!1),A=j.useRef(o);j.useEffect(()=>(A.current=o,()=>{A.current=void 0}),[o]);const M=j.useRef((L,_)=>(s.current||(A.current?A.current(L,_):(console.error(L,_),L instanceof Ct&&typeof window<"u"&&_&&window.open(_.url,"_blank"))),L)),[I,N]=j.useState(()=>e.map(L=>({adapter:L,readyState:L.readyState})).filter(({readyState:L})=>L!==Y.Unsupported));j.useEffect(()=>{N(_=>e.map((v,X)=>{const $=_[X];return $&&$.adapter===v&&$.readyState===v.readyState?$:{adapter:v,readyState:v.readyState}}).filter(({readyState:v})=>v!==Y.Unsupported));function L(_){N(v=>{const X=v.findIndex(({adapter:ue})=>ue===this);if(X===-1)return v;const{adapter:$}=v[X];return[...v.slice(0,X),{adapter:$,readyState:_},...v.slice(X+1)].filter(({readyState:ue})=>ue!==Y.Unsupported)})}return e.forEach(_=>_.on("readyStateChange",L,_)),()=>{e.forEach(_=>_.off("readyStateChange",L,_))}},[t,e]);const E=j.useMemo(()=>I.find(L=>L.adapter===t)??null,[t,I]);j.useEffect(()=>{if(!t)return;const L=X=>{g(X),c.current=!1,d(!1),y(!0),h.current=!1,p(!1)},_=()=>{s.current||(g(null),c.current=!1,d(!1),y(!1),h.current=!1,p(!1))},v=X=>{M.current(X,t)};return t.on("connect",L),t.on("disconnect",_),t.on("error",v),()=>{t.off("connect",L),t.off("disconnect",_),t.off("error",v),_()}},[t,s]);const C=j.useRef(!1);j.useEffect(()=>()=>{C.current=!1},[t]),j.useEffect(()=>{C.current||c.current||x||!i||!((E==null?void 0:E.readyState)===Y.Installed||(E==null?void 0:E.readyState)===Y.Loadable)||(c.current=!0,d(!0),C.current=!0,async function(){try{await i()}catch{r()}finally{d(!1),c.current=!1}}())},[x,i,r,E]);const S=j.useCallback(async(L,_,v)=>{if(!t)throw M.current(new ku);if(!x)throw M.current(new oe,t);return await t.sendTransaction(L,_,v)},[t,x]),T=j.useMemo(()=>t&&"signTransaction"in t?async L=>{if(!x)throw M.current(new oe,t);return await t.signTransaction(L)}:void 0,[t,x]),D=j.useMemo(()=>t&&"signAllTransactions"in t?async L=>{if(!x)throw M.current(new oe,t);return await t.signAllTransactions(L)}:void 0,[t,x]),O=j.useMemo(()=>t&&"signMessage"in t?async L=>{if(!x)throw M.current(new oe,t);return await t.signMessage(L)}:void 0,[t,x]),G=j.useMemo(()=>t&&"signIn"in t?async L=>await t.signIn(L):void 0,[t]),U=j.useCallback(async()=>{if(c.current||h.current||E!=null&&E.adapter.connected)return;if(!E)throw M.current(new ku);const{adapter:L,readyState:_}=E;if(!(_===Y.Installed||_===Y.Loadable))throw M.current(new Ct,L);c.current=!0,d(!0);try{await L.connect()}catch(v){throw r(),v}finally{d(!1),c.current=!1}},[r,E]),Q=j.useCallback(async()=>{if(!h.current&&t){h.current=!0,p(!0);try{await t.disconnect()}finally{p(!1),h.current=!1}}},[t]);return R.createElement(Th.Provider,{value:{autoConnect:!!i,wallets:I,wallet:E,publicKey:m,connected:x,connecting:l,disconnecting:f,select:a,connect:U,disconnect:Q,sendTransaction:S,signTransaction:T,signAllTransactions:D,signMessage:O,signIn:G}},n)}let Ja;function nA(){var n;return Ja===void 0&&(Ja=((n=globalThis.navigator)==null?void 0:n.userAgent)??null),Ja}function Zu(n){const e=nA();return $y({adapters:n,userAgentString:e})===gi.MOBILE_WEB}function sA(){const n=globalThis.location;if(n)return`${n.protocol}//${n.host}`}function iA({children:n,wallets:e,autoConnect:t,localStorageKey:s="walletName",onError:i}){const{connection:r}=Km(),o=Jy(e),a=j.useMemo(()=>{if(!Zu(o))return null;const A=o.find(M=>M.name===Ro);return A||new Fy({addressSelector:Gy(),appIdentity:{uri:sA()},authorizationResultCache:Hy(),cluster:eA(r==null?void 0:r.rpcEndpoint),onWalletNotFound:Vy()})},[o,r==null?void 0:r.rpcEndpoint]),c=j.useMemo(()=>a==null||o.indexOf(a)!==-1?o:[a,...o],[o,a]),[l,d]=Xm(s,null),h=j.useMemo(()=>c.find(A=>A.name===l)??null,[c,l]),f=j.useCallback(A=>{l!==A&&(h&&h.name!==Ro&&h.disconnect(),d(A))},[h,d,l]);j.useEffect(()=>{if(!h)return;function A(){g.current||d(null)}return h.on("disconnect",A),()=>{h.off("disconnect",A)}},[h,o,d,l]);const p=j.useRef(!1),m=j.useMemo(()=>{if(!(!t||!h))return async()=>{(t===!0||await t(h))&&(p.current?await h.connect():await h.autoConnect())}},[t,h]),g=j.useRef(!1);j.useEffect(()=>{if(l===Ro&&Zu(o)){g.current=!1;return}function A(){g.current=!0}return window.addEventListener("beforeunload",A),()=>{window.removeEventListener("beforeunload",A)}},[o,l]);const x=j.useCallback(()=>{h&&f(null)},[h,f]),y=j.useCallback(A=>{p.current=!0,f(A)},[f]);return R.createElement(tA,{wallets:c,adapter:h,isUnloadingRef:g,onAutoConnectRequest:m,onConnectError:x,onError:i,onSelectWallet:y},n)}const rA="Alpha";class oA extends Kr{constructor(e={}){super(),this.name=rA,this.url="https://github.com/alphabatem/alpha-wallet",this.icon="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHZpZXdCb3g9IjAgMCAxMDgwIDEwODAiPjxkZWZzPjxzdHlsZT4ua3tmaWxsOiNmZmY7fS5se2ZpbGw6dXJsKCNjKTt9Lm17aXNvbGF0aW9uOmlzb2xhdGU7fS5ue2ZpbGw6dXJsKCNqKTtvcGFjaXR5Oi42Nzt9Lm4sLm97bWl4LWJsZW5kLW1vZGU6bXVsdGlwbHk7fS5ve2ZpbGw6dXJsKCNpKTtvcGFjaXR5Oi40MTt9LnB7ZmlsbDp1cmwoI2YpO30ucXtmaWxsOiMwMGNlN2M7fS5ye2ZpbGw6IzJhN2RlMTt9LnN7ZmlsbDp1cmwoI2cpO30udHtmaWxsOnVybCgjYik7fS51e2ZpbGw6dXJsKCNoKTt9LnZ7ZmlsbDp1cmwoI2QpO30ud3tmaWxsOnVybCgjZSk7fTwvc3R5bGU+PGxpbmVhckdyYWRpZW50IGlkPSJiIiB4MT0iNjYzLjIyIiB5MT0iMTAuNTIyIiB4Mj0iMzIzLjIwMiIgeTI9IjM1OS4zNzIiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMSwgMCwgMCwgMSwgMCwgMCkiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiMyNGNlN2IiLz48c3RvcCBvZmZzZXQ9Ii44MjgiIHN0b3AtY29sb3I9IiMyNTdjZTEiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYyIgeDE9IjMzNi4zNjgiIHkxPSItOTguMjg5IiB4Mj0iODQzLjk1OSIgeTI9IjI4MC41OCIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgxLCAwLCAwLCAxLCAwLCAwKSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIG9mZnNldD0iLjQ3NiIgc3RvcC1jb2xvcj0iIzI0Y2U3YiIvPjxzdG9wIG9mZnNldD0iLjgyOCIgc3RvcC1jb2xvcj0iIzI1N2NlMSIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJkIiB4MT0iMTk2LjU2NCIgeTE9IjIzMS44OTQiIHgyPSI5MzIuODIyIiB5Mj0iMjMxLjg5NCIgeGxpbms6aHJlZj0iI2MiLz48bGluZWFyR3JhZGllbnQgaWQ9ImUiIHgxPSIyMTQuODczIiB5MT0iMjk5LjIwNyIgeDI9IjgwMy44OCIgeTI9IjI5OS4yMDciIHhsaW5rOmhyZWY9IiNjIi8+PGxpbmVhckdyYWRpZW50IGlkPSJmIiB4MT0iMjA2LjM4NiIgeTE9IjkzNi4yMDIiIHgyPSI3ODUuNjY0IiB5Mj0iNjMzLjA3IiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDEsIDAsIDAsIDEsIDAsIDApIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHN0b3Agb2Zmc2V0PSIuMzY3IiBzdG9wLWNvbG9yPSIjMjU3Y2UxIi8+PHN0b3Agb2Zmc2V0PSIuODUiIHN0b3AtY29sb3I9IiMyNGNlN2IiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iZyIgeDE9IjIwNC42MTEiIHkxPSI5NTcuMDQzIiB4Mj0iODEyLjQzNiIgeTI9IjYzOC45NzMiIHhsaW5rOmhyZWY9IiNjIi8+PGxpbmVhckdyYWRpZW50IGlkPSJoIiB4MT0iNTc0LjY4NCIgeTE9IjY3NS43MjMiIHgyPSI1NzkuMDU1IiB5Mj0iNjczLjQzNSIgeGxpbms6aHJlZj0iI2MiLz48bGluZWFyR3JhZGllbnQgaWQ9ImkiIHgxPSIxMDQyLjA3IiB5MT0iMTMwOC4zMyIgeDI9IjgzOC43NzciIHkyPSIxNzQ1LjYzIiBncmFkaWVudFRyYW5zZm9ybT0idHJhbnNsYXRlKC01NDAuMTUxIC02MzEuNDg1KSByb3RhdGUoLjM5KSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZmZiIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzAwMCIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJqIiB4MT0iMjEzOTcuNjU1IiB5MT0iMTE2MC4zOTIiIHgyPSIyMTE5MS4xNjMiIHkyPSIxNjA0LjU3MyIgZ3JhZGllbnRUcmFuc2Zvcm09InRyYW5zbGF0ZSgyMTk3My43NjggLTYzMS40ODUpIHJvdGF0ZSgxNzkuNjEpIHNjYWxlKDEgLTEpIiB4bGluazpocmVmPSIjaSIvPjwvZGVmcz48ZyBjbGFzcz0ibSI+PGcgaWQ9ImEiPjxnPjxnPjxwYXRoIGNsYXNzPSJxIiBkPSJNNTY5LjYyMSw1NDAuMTMxYzQ3LjkzNiwxMDQuNTE0LDk1Ljg3MywyMDkuMDI4LDE0My44MDksMzEzLjU0M2wtMjAyLjcxOSwuMjU4YzE1LjExNCwzNC4xNzUsMzAuMjI5LDY4LjM1LDQ1LjM0MywxMDIuNTI0bDMxNS4zNzIsLjM5OWMtNjYuNDg4LTE0Ni40NTMtMTMyLjk3NS0yOTIuOTA2LTE5OS40NjMtNDM5LjM2LS4wMjEtNjUuOTI5LS4wNDMtMTMxLjg1Ny0uMDY0LTE5Ny43ODYtMzQuMTM2LDE0LjQ0NS02OC4yNzIsMjguODkxLTEwMi40MDgsNDMuMzM2LC4wNDMsNTkuMDI4LC4wODYsMTE4LjA1NywuMTI5LDE3Ny4wODVaIi8+PHBhdGggY2xhc3M9ImsiIGQ9Ik0zNTQuODc0LDg1My41NDVjNDIuMTMyLTEwNC44NTgsODQuMjY1LTIwOS43MTYsMTI2LjM5Ny0zMTQuNTc0LS4wODYtNTguNjQyLS4xNzItMTE3LjI4My0uMjU4LTE3NS45MjQtMzQuMTc5LTE0LjY4Mi02OC4zNTgtMjkuMzY0LTEwMi41MzctNDQuMDQ2LC40Myw2Ni4wNTgsLjg2LDEzMi4xMTUsMS4yOSwxOTguMTczbC0xNzkuNDA3LDQzOS42ODJjMTE4LjU3My0uMTI5LDIzNy4xNDUtLjI1OCwzNTUuNzE4LS4zODctMTUuMDQ3LTM0LjE3OS0zMC4wOTUtNjguMzU4LTQ1LjE0Mi0xMDIuNTM3LTUyLjAyMS0uMTI5LTEwNC4wNDEtLjI1OC0xNTYuMDYyLS4zODdaIi8+PGNpcmNsZSBjbGFzcz0idCIgY3g9IjUyMS40NTgiIGN5PSIxNTUuOTY2IiByPSIzOC43NzIiLz48Y2lyY2xlIGNsYXNzPSJsIiBjeD0iNjU1LjM2NCIgY3k9IjEzOS44MTEiIHI9IjYxLjkyNyIvPjxjaXJjbGUgY2xhc3M9InYiIGN4PSI1ODEuNTkiIGN5PSIyMzEuODk0IiByPSIyOS42MTciLz48Y2lyY2xlIGNsYXNzPSJ3IiBjeD0iNTIyLjg5NCIgY3k9IjI5OS4yMDciIHI9IjIzLjY5NCIvPjxwYXRoIGNsYXNzPSJwIiBkPSJNNTc2LjYxOSw3MzcuNzgxYy0uMzM2LS41OTktMy4zNTctNi4wOS04LjEyNy0xMy4yMTQtMS40MzEtMi4xMzctMy4wNDktNC40NDItNC45MjEtNi45NTItOC43OC0xMS43NjgtNDAuOTY4LTU0LjkxNC02OS45ODctNTEuMDA3LTIuNzY2LC4zNzItNC43MjksLjk3LTYuMzMzLDEuNDgxLTIzLjc1MSw3LjU3Mi0zNC4yNCwzNC41MTUtNDEuMDYsNTEuNTc0LTExLjg0MSwyOS42MTYtMjUuNTM5LDYxLjczMy00Mi4xMzYsMTAwLjMwNSw4NS4zMjcsLjIyOCwxNzAuNjUzLC40NTYsMjU1Ljk4LC42ODQtNTkuOTkzLTU1Ljk4MS04MC4xNTktNzcuMDY1LTgzLjQxNS04Mi44NzFaIi8+PHBhdGggY2xhc3M9InMiIGQ9Ik01MDUuNzc3LDcxNC4zNzljLTEzLjc0Nyw3Ljk5Mi0yNi44OTEsMTEuODU4LTMzLjcwMiwxMy42ODktMTIuNDM0LDMuMzQyLTIzLjIzNCw0LjQ5NC0zMS4wNDUsNC44ODRsLTM2Ljc5Niw4Ny4yNTJjODUuMjY2LC4wNjUsMTcwLjUzMiwuMTI5LDI1NS43OTksLjE5NC0xNC42Ni0zNS45ODQtMjkuMzIxLTcxLjk2OS00My45ODEtMTA3Ljk1NC0xMC41OTgtMjAuNzAyLTIwLjE4NC0zMi4zMTgtMjguNDg4LTM4LjU4NS02LjI4MS00Ljc0LTExLjgyOC02LjQyLTE2LjUyNi02LjY1Ni0uMzQ4LS4wMTgtLjY5Mi0uMDI3LTEuMDMtLjAzLTIwLjc4MS0uMTQ1LTI5LjUwNiwyNy4wMTgtNjQuMjMsNDcuMjA1WiIvPjxwYXRoIGNsYXNzPSJyIiBkPSJNNTM4LjkyNCw5NjguMTgxYzEuNDYzLDAsMS40NjUtMi4yNzMsMC0yLjI3M3MtMS40NjUsMi4yNzMsMCwyLjI3M2gwWiIvPjxsaW5lIGNsYXNzPSJ1IiB4MT0iNTc4LjAwNCIgeTE9IjY3NC42NTQiIHgyPSI1NzUuOTQxIiB5Mj0iNjc0LjM5NiIvPjwvZz48cGF0aCBjbGFzcz0ibyIgZD0iTTM3OS44MzEsNTE3LjEwOWMzMy44MzUsNy4yODcsNjcuNjcsMTQuNTc0LDEwMS41MDUsMjEuODYybC0xMjYuNDUsMzE0LjU2MiwxNTYuMDY2LC4zOTljMTUuMDQ2LDM0LjE3OSwzMC4wOTIsNjguMzU4LDQ1LjEzOCwxMDIuNTM3LTExOC41NzcsLjE1LTIzNy4xNTMsLjMwMS0zNTUuNzMsLjQ1MSw1OS44MjQtMTQ2LjYwNCwxMTkuNjQ4LTI5My4yMDcsMTc5LjQ3MS00MzkuODExWiIvPjxwYXRoIGNsYXNzPSJuIiBkPSJNNjcxLjkyOCw1MTcuNTMyYy0zNC4xMTQsNy41MjktNjguMjI5LDE1LjA1OC0xMDIuMzQzLDIyLjU4Nyw0Ny45NDcsMTA0LjUxNiw5NS44OTQsMjA5LjAzMSwxNDMuODQxLDMxMy41NDctNjcuNDk2LC4wODktMTM0Ljk5MSwuMTc3LTIwMi40ODcsLjI2NiwxNS4wNDksMzQuMTgzLDMwLjA5OSw2OC4zNjcsNDUuMTQ4LDEwMi41NSwxMDUuMTE1LC4xMjYsMjEwLjIzLC4yNTMsMzE1LjM0NSwuMzc5LTY2LjUwMi0xNDYuNDQzLTEzMy4wMDMtMjkyLjg4Ni0xOTkuNTA1LTQzOS4zMjlaIi8+PC9nPjwvZz48L2c+PC9zdmc+",this.supportedTransactionVersions=null,this._readyState=typeof window>"u"||typeof document>"u"?Y.Unsupported:Y.NotDetected,this._disconnected=()=>{const t=this._wallet;t&&(t.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new or),this.emit("disconnect"))},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==Y.Unsupported&&Jr(()=>{var t;return(t=window.alpha)!=null&&t.isAlpha?(this._readyState=Y.Installed,this.emit("readyStateChange",this._readyState),!0):!1})}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.isConnected)}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==Y.Installed)throw new Ct;this._connecting=!0;const e=window.alpha;if(!e.isConnected)try{await e.connect()}catch(s){throw new $t(s==null?void 0:s.message,s)}if(!e.publicKey)throw new Ut;let t;try{t=new St(e.publicKey.toBytes())}catch(s){throw new Wt(s==null?void 0:s.message,s)}e.on("disconnect",this._disconnected),this._wallet=e,this._publicKey=t,this.emit("connect",t)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(t){this.emit("error",new ar(t==null?void 0:t.message,t))}}this.emit("disconnect")}async sendTransaction(e,t,s={}){try{const i=this._wallet;if(!i)throw new oe;try{const{signers:r,...o}=s;e=await this.prepareTransaction(e,t,o),r!=null&&r.length&&e.partialSign(...r),o.preflightCommitment=o.preflightCommitment||t.commitment;const{signature:a}=await i.signAndSendTransaction(e,o);return a}catch(r){throw r instanceof Js?r:new Qs(r==null?void 0:r.message,r)}}catch(i){throw this.emit("error",i),i}}async signTransaction(e){try{const t=this._wallet;if(!t)throw new oe;try{return await t.signTransaction(e)||e}catch(s){throw new qe(s==null?void 0:s.message,s)}}catch(t){throw this.emit("error",t),t}}async signAllTransactions(e){try{const t=this._wallet;if(!t)throw new oe;try{return await t.signAllTransactions(e)||e}catch(s){throw new qe(s==null?void 0:s.message,s)}}catch(t){throw this.emit("error",t),t}}async signMessage(e){try{const t=this._wallet;if(!t)throw new oe;try{const{signature:s}=await t.signMessage(e);return s}catch(s){throw new qs(s==null?void 0:s.message,s)}}catch(t){throw this.emit("error",t),t}}}const aA="Clover";class cA extends Kr{constructor(e={}){super(),this.name=aA,this.url="https://clv.org",this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTM2LjQ4IDBIMTEuNTJDNS4xNTc2OCAwIDAgNS4xNTc2OCAwIDExLjUyVjM2LjQ4QzAgNDIuODQyMyA1LjE1NzY4IDQ4IDExLjUyIDQ4SDM2LjQ4QzQyLjg0MjMgNDggNDggNDIuODQyMyA0OCAzNi40OFYxMS41MkM0OCA1LjE1NzY4IDQyLjg0MjMgMCAzNi40OCAwWiIgZmlsbD0idXJsKCNwYWludDBfbGluZWFyXzc5MTBfMTYzMzUxKSIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTI0LjAwMDYgMzkuMzYwNkMzMi40ODM3IDM5LjM2MDYgMzkuMzYwNiAzMi40ODM3IDM5LjM2MDYgMjQuMDAwNkMzOS4zNjA2IDE1LjUxNzUgMzIuNDgzNyA4LjY0MDYyIDI0LjAwMDYgOC42NDA2MkMxNS41MTc1IDguNjQwNjIgOC42NDA2MiAxNS41MTc1IDguNjQwNjIgMjQuMDAwNkM4LjY0MDYyIDMyLjQ4MzcgMTUuNTE3NSAzOS4zNjA2IDI0LjAwMDYgMzkuMzYwNlpNMjEuMjg5OSAxNS44Njg4SDI2LjcxMVYyMS4zNDdIMjEuMjkwNFYyNi42NTRIMjYuNzExVjMyLjEzMjJIMjEuMjg5OVYyNi44MjUySDE1Ljg2OTNWMjEuMzQ3SDIxLjI4OTlWMTUuODY4OFpNMjYuNzEyIDIxLjM0N0gzMi4xMzMxVjI2LjgyNTJIMjYuNzEyVjIxLjM0N1oiIGZpbGw9ImJsYWNrIi8+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfNzkxMF8xNjMzNTEiIHgxPSI0OCIgeTE9Ii0xLjQzMDUxZS0wNiIgeDI9IjEuNDMwNTFlLTA2IiB5Mj0iNDgiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0E5RkZFMCIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiM4NkQ1RkYiLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8L3N2Zz4=",this.supportedTransactionVersions=null,this._readyState=typeof window>"u"||typeof document>"u"?Y.Unsupported:Y.NotDetected,this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==Y.Unsupported&&Jr(()=>{var t;return(t=window.clover_solana)!=null&&t.isCloverWallet?(this._readyState=Y.Installed,this.emit("readyStateChange",this._readyState),!0):!1})}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==Y.Installed)throw new Ct;this._connecting=!0;const e=window.clover_solana;let t;try{t=await e.getAccount()}catch(i){throw new Ut(i==null?void 0:i.message,i)}let s;try{s=new St(t)}catch(i){throw new Wt(i==null?void 0:i.message,i)}this._wallet=e,this._publicKey=s,this.emit("connect",s)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){this._wallet&&(this._wallet=null,this._publicKey=null),this.emit("disconnect")}async signTransaction(e){try{const t=this._wallet;if(!t)throw new oe;try{return await t.signTransaction(e)||e}catch(s){throw new qe(s==null?void 0:s.message,s)}}catch(t){throw this.emit("error",t),t}}async signAllTransactions(e){try{const t=this._wallet;if(!t)throw new oe;try{return await t.signAllTransactions(e)||e}catch(s){throw new qe(s==null?void 0:s.message,s)}}catch(t){throw this.emit("error",t),t}}async signMessage(e){try{const t=this._wallet;if(!t)throw new oe;try{const{signature:s}=await t.signMessage(e);return Uint8Array.from(s)}catch(s){throw new qs(s==null?void 0:s.message,s)}}catch(t){throw this.emit("error",t),t}}}const lA={},of=(n,e)=>{lA[n]=e},Ea=n=>{class e extends Error{constructor(i,r,o){super(i||n,o);fe(this,"cause");if(Object.setPrototypeOf(this,e.prototype),this.name=n,r)for(const a in r)this[a]=r[a];if(o&&uA(o)&&"cause"in o&&!this.cause){const a=o.cause;this.cause=a,"stack"in a&&(this.stack=this.stack+`
CAUSE: `+a.stack)}}}return e};function uA(n){return typeof n=="object"}const aI=Ea("DisconnectedDevice"),cI=Ea("DisconnectedDeviceDuringOperation"),lI=Ea("TransportOpenUserCancelled"),uI=Ea("TransportRaceCondition");var Ku;(function(n){n.Unknown="Unknown",n.LocationServicesDisabled="LocationServicesDisabled",n.LocationServicesUnauthorized="LocationServicesUnauthorized",n.BluetoothScanStartFailed="BluetoothScanStartFailed"})(Ku||(Ku={}));class dA extends Error{constructor(t,s){const i="TransportError";super(t||i);fe(this,"id");this.name=i,this.message=t,this.stack=new Error(t).stack,this.id=s}}of("TransportError",n=>new dA(n.message,n.id));const Cr={ACCESS_CONDITION_NOT_FULFILLED:38916,ALGORITHM_NOT_SUPPORTED:38020,CLA_NOT_SUPPORTED:28160,CODE_BLOCKED:38976,CODE_NOT_INITIALIZED:38914,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,CONDITIONS_OF_USE_NOT_SATISFIED:27013,CONTRADICTION_INVALIDATION:38928,CONTRADICTION_SECRET_CODE_STATUS:38920,DEVICE_IN_RECOVERY_MODE:26159,CUSTOM_IMAGE_EMPTY:26158,FILE_ALREADY_EXISTS:27273,FILE_NOT_FOUND:37892,GP_AUTH_FAILED:25344,HALTED:28586,INCONSISTENT_FILE:37896,INCORRECT_DATA:27264,INCORRECT_LENGTH:26368,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,DEVICE_NOT_ONBOARDED:27911,DEVICE_NOT_ONBOARDED_2:26129,INVALID_KCV:38021,INVALID_OFFSET:37890,LICENSING:28482,LOCKED_DEVICE:21781,MAX_VALUE_REACHED:38992,MEMORY_PROBLEM:37440,MISSING_CRITICAL_PARAMETER:26624,NO_EF_SELECTED:37888,NOT_ENOUGH_MEMORY_SPACE:27268,OK:36864,PIN_REMAINING_ATTEMPTS:25536,REFERENCED_DATA_NOT_FOUND:27272,SECURITY_STATUS_NOT_SATISFIED:27010,TECHNICAL_PROBLEM:28416,UNKNOWN_APDU:27906,USER_REFUSED_ON_DEVICE:21761,NOT_ENOUGH_SPACE:20738,APP_NOT_FOUND_OR_INVALID_CONTEXT:20771,INVALID_APP_NAME_LENGTH:26378,GEN_AES_KEY_FAILED:21529,INTERNAL_CRYPTO_OPERATION_FAILED:21530,INTERNAL_COMPUTE_AES_CMAC_FAILED:21531,ENCRYPT_APP_STORAGE_FAILED:21532,INVALID_BACKUP_STATE:26178,PIN_NOT_SET:21762,INVALID_BACKUP_LENGTH:26419,INVALID_RESTORE_STATE:26179,INVALID_CHUNK_LENGTH:26420,INVALID_BACKUP_HEADER:26698,TRUSTCHAIN_WRONG_SEED:45063};function hA(n){switch(n){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received";case 21781:return"Locked device"}if(28416<=n&&n<=28671)return"Internal error, please report"}class so extends Error{constructor(t,{canBeMappedToChildError:s=!0}={}){const i=Object.keys(Cr).find(c=>Cr[c]===t)||"UNKNOWN_ERROR",r=hA(t)||i,o=t.toString(16),a=`Ledger device: ${r} (0x${o})`;super(a);fe(this,"statusCode");fe(this,"statusText");if(this.name="TransportStatusError",this.statusCode=t,this.statusText=i,Object.setPrototypeOf(this,so.prototype),s&&t===Cr.LOCKED_DEVICE)return new Rl(a)}}class Rl extends so{constructor(e){super(Cr.LOCKED_DEVICE,{canBeMappedToChildError:!1}),e&&(this.message=e),this.name="LockedDeviceError",Object.setPrototypeOf(this,Rl.prototype)}}of("TransportStatusError",n=>new so(n.statusCode));let af=0;const kn=[],dI=(n,e,t)=>{const s={type:n,id:String(++af),date:new Date};e&&(s.message=e),cf(s)},fA=({type:n,message:e,data:t,context:s})=>{const i={type:n,id:String(++af),date:new Date};e&&(i.message=e),t&&(i.data=t),s&&(i.context=s),cf(i)};class Uo{constructor(e,t){fe(this,"type");fe(this,"context");this.type=e,this.context=t}trace(e,t){fA({type:this.type,message:e,data:t,context:this.context})}getContext(){return this.context}setContext(e){this.context=e}updateContext(e){this.context={...this.context,...e}}getType(){return this.type}setType(e){this.type=e}withType(e){return new Uo(e,this.context)}withContext(e){return new Uo(this.type,e)}withUpdatedContext(e){return new Uo(this.type,{...this.context,...e})}}const pA=n=>(kn.push(n),()=>{const e=kn.indexOf(n);e!==-1&&(kn[e]=kn[kn.length-1],kn.pop())});function cf(n){for(let e=0;e<kn.length;e++)try{kn[e](n)}catch(t){console.error(t)}}typeof window<"u"&&(window.__ledgerLogsListen=pA);function gA(n,e){const s=nc.alloc(17);let i=s.writeUInt8(4,0);return i=s.writeUInt32BE(fo(44),i),i=s.writeUInt32BE(fo(501),i),i=s.writeUInt32BE(fo(n),i),s.writeUInt32BE(fo(e),i),s}const wA=1<<31>>>0;function fo(n){return(n|wA)>>>0}const mA=5,MA=6,yA=0,AA=1,xA=1,bA=2,po=255,Ju=224;async function IA(n,e){const t=await lf(n,mA,yA,e);return new St(t)}async function NA(n,e,t){const s=nc.alloc(1);s.writeUInt8(1,0);const i=Jn(e)?e.message.serialize():e.serializeMessage(),r=nc.concat([s,t,i]);return await lf(n,MA,AA,r)}async function lf(n,e,t,s){let i=0,r=0;if(s.length>po)for(;s.length-r>po;){const c=s.slice(r,r+po);if((await n.send(Ju,e,t,i|bA,c)).length!==2)throw new so(Cr.INCORRECT_DATA);i|=xA,r+=po}const o=s.slice(r),a=await n.send(Ju,e,t,i,o);return a.slice(0,a.length-2)}const EA="Ledger";class jA extends pd{constructor(e={}){super(),this.name=EA,this.url="https://ledger.com",this.icon="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMzUgMzUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI2ZmZiI+PHBhdGggZD0ibTIzLjU4OCAwaC0xNnYyMS41ODNoMjEuNnYtMTZhNS41ODUgNS41ODUgMCAwIDAgLTUuNi01LjU4M3oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUuNzM5KSIvPjxwYXRoIGQ9Im04LjM0MiAwaC0yLjc1N2E1LjU4NSA1LjU4NSAwIDAgMCAtNS41ODUgNS41ODV2Mi43NTdoOC4zNDJ6Ii8+PHBhdGggZD0ibTAgNy41OWg4LjM0MnY4LjM0MmgtOC4zNDJ6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDUuNzM5KSIvPjxwYXRoIGQ9Im0xNS4xOCAyMy40NTFoMi43NTdhNS41ODUgNS41ODUgMCAwIDAgNS41ODUtNS42di0yLjY3MWgtOC4zNDJ6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMS40NzggMTEuNDc4KSIvPjxwYXRoIGQ9Im03LjU5IDE1LjE4aDguMzQydjguMzQyaC04LjM0MnoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUuNzM5IDExLjQ3OCkiLz48cGF0aCBkPSJtMCAxNS4xOHYyLjc1N2E1LjU4NSA1LjU4NSAwIDAgMCA1LjU4NSA1LjU4NWgyLjc1N3YtOC4zNDJ6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDExLjQ3OCkiLz48L2c+PC9zdmc+",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"||typeof navigator>"u"||!navigator.hid?Y.Unsupported:Y.Loadable,this._disconnected=()=>{const t=this._transport;t&&(t.off("disconnect",this._disconnected),this._transport=null,this._publicKey=null,this.emit("error",new or),this.emit("disconnect"))},this._derivationPath=e.derivationPath||gA(0,0),this._connecting=!1,this._transport=null,this._publicKey=null}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==Y.Loadable)throw new Ct;this._connecting=!0;let e;try{e=(await we(async()=>{const{default:i}=await import("./TransportWebHID-BNu-P2X-.js");return{default:i}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]))).default}catch(i){throw new wl(i==null?void 0:i.message,i)}let t;try{t=await e.create()}catch(i){throw new $t(i==null?void 0:i.message,i)}let s;try{s=await IA(t,this._derivationPath)}catch(i){throw new Wt(i==null?void 0:i.message,i)}t.on("disconnect",this._disconnected),this._transport=t,this._publicKey=s,this.emit("connect",s)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._transport;if(e){e.off("disconnect",this._disconnected),this._transport=null,this._publicKey=null;try{await e.close()}catch(t){this.emit("error",new ar(t==null?void 0:t.message,t))}}this.emit("disconnect")}async signTransaction(e){try{const t=this._transport,s=this._publicKey;if(!t||!s)throw new oe;try{const i=await NA(t,e,this._derivationPath);e.addSignature(s,i)}catch(i){throw new qe(i==null?void 0:i.message,i)}return e}catch(t){throw this.emit("error",t),t}}}const SA="MathWallet";class CA extends pd{constructor(e={}){super(),this.name=SA,this.url="https://mathwallet.org",this.icon="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjEyOCIgdmlld0JveD0iMCAwIDEyOCAxMjgiIHdpZHRoPSIxMjgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI2ZmZiIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJtMCAwaDEyOHYxMjhoLTEyOHoiIG9wYWNpdHk9IjAiLz48cGF0aCBkPSJtOTAuODQ3MDA4NiA1Ny43NjEwMDIzYy0yLjI3NzAzNjMtMi4yNzcwMzYzLTIuMjc3MDM2My01Ljk2ODg0MTYgMC04LjI0NTg3NzggMi4yNzcwMzYyLTIuMjc3MDM2MyA1Ljk2ODg0MTUtMi4yNzcwMzYzIDguMjQ1ODc3OCAwIDIuMjc3MDM2NiAyLjI3NzAzNjIgMi4yNzcwMzY2IDUuOTY4ODQxNSAwIDguMjQ1ODc3OC0yLjI3NzAzNjMgMi4yNzcwMzYyLTUuOTY4ODQxNiAyLjI3NzAzNjItOC4yNDU4Nzc4IDB6bS0xOS41ODM5NTk4IDE5LjU4Mzk1OTdjLTEuNzA3Nzc3Mi0xLjcwNzc3NzItMS43MDc3NzcyLTQuNDc2NjMxMSAwLTYuMTg0NDA4M3M0LjQ3NjYzMTEtMS43MDc3NzcyIDYuMTg0NDA4MyAwIDEuNzA3Nzc3MiA0LjQ3NjYzMTEgMCA2LjE4NDQwODMtNC40NzY2MzExIDEuNzA3Nzc3Mi02LjE4NDQwODMgMHptMzAuOTIyMDQyMi0xMC4zMDczNDcyYy0xLjcwNzc3OC0xLjcwNzc3NzItMS43MDc3NzgtNC40NzY2MzEyIDAtNi4xODQ0MDg0IDEuNzA3Nzc3LTEuNzA3Nzc3MiA0LjQ3NjYzMS0xLjcwNzc3NzIgNi4xODQ0MDggMHMxLjcwNzc3NyA0LjQ3NjYzMTIgMCA2LjE4NDQwODQtNC40NzY2MzEgMS43MDc3NzcyLTYuMTg0NDA4IDB6bS0xMC4zMDczNDc3IDEwLjMwNzM0NzJjLTEuNzA3Nzc3Mi0xLjcwNzc3NzItMS43MDc3NzcyLTQuNDc2NjMxMSAwLTYuMTg0NDA4M3M0LjQ3NjYzMTEtMS43MDc3NzcyIDYuMTg0NDA4MyAwIDEuNzA3Nzc3MiA0LjQ3NjYzMTEgMCA2LjE4NDQwODMtNC40NzY2MzExIDEuNzA3Nzc3Mi02LjE4NDQwODMgMHptMjEuNjQ1NDI4Ny0xLjAzMDczNDdjLTEuMTM4NTE4LTEuMTM4NTE4MS0xLjEzODUxOC0yLjk4NDQyMDggMC00LjEyMjkzODkgMS4xMzg1MTktMS4xMzg1MTgxIDIuOTg0NDIxLTEuMTM4NTE4MSA0LjEyMjkzOSAwIDEuMTM4NTE5IDEuMTM4NTE4MSAxLjEzODUxOSAyLjk4NDQyMDggMCA0LjEyMjkzODktMS4xMzg1MTggMS4xMzg1MTgxLTIuOTg0NDIgMS4xMzg1MTgxLTQuMTIyOTM5IDB6bS0xMC4zMDczNDcgMTAuMzA3MzQ3MmMtMS4xMzg1MTgtMS4xMzg1MTgxLTEuMTM4NTE4LTIuOTg0NDIwNyAwLTQuMTIyOTM4OSAxLjEzODUxOC0xLjEzODUxODEgMi45ODQ0MjEtMS4xMzg1MTgxIDQuMTIyOTM5IDAgMS4xMzg1MTggMS4xMzg1MTgyIDEuMTM4NTE4IDIuOTg0NDIwOCAwIDQuMTIyOTM4OS0xLjEzODUxOCAxLjEzODUxODItMi45ODQ0MjEgMS4xMzg1MTgyLTQuMTIyOTM5IDB6bS0yMi42NzYxNjM3LTE4LjU1MzIyNWMtMi4yNzcwMzYzLTIuMjc3MDM2My0yLjI3NzAzNjMtNS45Njg4NDE1IDAtOC4yNDU4Nzc4czUuOTY4ODQxNS0yLjI3NzAzNjMgOC4yNDU4Nzc4IDAgMi4yNzcwMzYzIDUuOTY4ODQxNSAwIDguMjQ1ODc3OC01Ljk2ODg0MTUgMi4yNzcwMzYzLTguMjQ1ODc3OCAwem0wLTIwLjYxNDY5NDVjLTIuMjc3MDM2My0yLjI3NzAzNjMtMi4yNzcwMzYzLTUuOTY4ODQxNSAwLTguMjQ1ODc3OHM1Ljk2ODg0MTUtMi4yNzcwMzYzIDguMjQ1ODc3OCAwIDIuMjc3MDM2MyA1Ljk2ODg0MTUgMCA4LjI0NTg3NzgtNS45Njg4NDE1IDIuMjc3MDM2My04LjI0NTg3NzggMHptLTEwLjMwNzM0NzIgMTAuMzA3MzQ3M2MtMi4yNzcwMzYzLTIuMjc3MDM2My0yLjI3NzAzNjMtNS45Njg4NDE2IDAtOC4yNDU4Nzc4IDIuMjc3MDM2Mi0yLjI3NzAzNjMgNS45Njg4NDE1LTIuMjc3MDM2MyA4LjI0NTg3NzggMCAyLjI3NzAzNjIgMi4yNzcwMzYyIDIuMjc3MDM2MiA1Ljk2ODg0MTUgMCA4LjI0NTg3NzgtMi4yNzcwMzYzIDIuMjc3MDM2Mi01Ljk2ODg0MTYgMi4yNzcwMzYyLTguMjQ1ODc3OCAwem0tMjAuNzEwNTA2IDBjLTIuMjc3MDM2Mi0yLjI3NzAzNjMtMi4yNzcwMzYyLTUuOTY4ODQxNiAwLTguMjQ1ODc3OCAyLjI3NzAzNjMtMi4yNzcwMzYzIDUuOTY4ODQxNi0yLjI3NzAzNjMgOC4yNDU4Nzc4IDAgMi4yNzcwMzYzIDIuMjc3MDM2MiAyLjI3NzAzNjMgNS45Njg4NDE1IDAgOC4yNDU4Nzc4LTIuMjc3MDM2MiAyLjI3NzAzNjItNS45Njg4NDE1IDIuMjc3MDM2Mi04LjI0NTg3NzggMHptLTE5LjU4Mzk1OTcgMTkuNTgzOTU5N2MtMS43MDc3NzcyLTEuNzA3Nzc3Mi0xLjcwNzc3NzItNC40NzY2MzExIDAtNi4xODQ0MDgzczQuNDc2NjMxMS0xLjcwNzc3NzIgNi4xODQ0MDgzIDAgMS43MDc3NzcyIDQuNDc2NjMxMSAwIDYuMTg0NDA4My00LjQ3NjYzMTEgMS43MDc3NzcyLTYuMTg0NDA4MyAwem0zMC45MjIwNDE3LTEwLjMwNzM0NzJjLTEuNzA3Nzc3Mi0xLjcwNzc3NzItMS43MDc3NzcyLTQuNDc2NjMxMiAwLTYuMTg0NDA4NHM0LjQ3NjYzMTItMS43MDc3NzcyIDYuMTg0NDA4NCAwIDEuNzA3Nzc3MiA0LjQ3NjYzMTIgMCA2LjE4NDQwODQtNC40NzY2MzEyIDEuNzA3Nzc3Mi02LjE4NDQwODQgMHptLTEwLjMwNzM0NzIgMTAuMzA3MzQ3MmMtMS43MDc3NzcyLTEuNzA3Nzc3Mi0xLjcwNzc3NzItNC40NzY2MzExIDAtNi4xODQ0MDgzczQuNDc2NjMxMS0xLjcwNzc3NzIgNi4xODQ0MDgzIDAgMS43MDc3NzcyIDQuNDc2NjMxMSAwIDYuMTg0NDA4My00LjQ3NjYzMTEgMS43MDc3NzcyLTYuMTg0NDA4MyAwem0tNDAuMTk4NjU0My0xLjAzMDczNDdjLTEuMTM4NTE4MTMtMS4xMzg1MTgxLTEuMTM4NTE4MTMtMi45ODQ0MjA4IDAtNC4xMjI5Mzg5IDEuMTM4NTE4MS0xLjEzODUxODEgMi45ODQ0MjA4LTEuMTM4NTE4MSA0LjEyMjkzODkgMHMxLjEzODUxODEgMi45ODQ0MjA4IDAgNC4xMjI5Mzg5LTIuOTg0NDIwOCAxLjEzODUxODEtNC4xMjI5Mzg5IDB6bTEwLjMwNzM0NzMgMTAuMzA3MzQ3MmMtMS4xMzg1MTgyLTEuMTM4NTE4MS0xLjEzODUxODItMi45ODQ0MjA3IDAtNC4xMjI5Mzg5IDEuMTM4NTE4MS0xLjEzODUxODEgMi45ODQ0MjA3LTEuMTM4NTE4MSA0LjEyMjkzODggMCAxLjEzODUxODIgMS4xMzg1MTgyIDEuMTM4NTE4MiAyLjk4NDQyMDggMCA0LjEyMjkzODktMS4xMzg1MTgxIDEuMTM4NTE4Mi0yLjk4NDQyMDcgMS4xMzg1MTgyLTQuMTIyOTM4OCAwem00MS4yMjkzODg5IDBjLTEuMTM4NTE4MS0xLjEzODUxODEtMS4xMzg1MTgxLTIuOTg0NDIwNyAwLTQuMTIyOTM4OSAxLjEzODUxODItMS4xMzg1MTgxIDIuOTg0NDIwOC0xLjEzODUxODEgNC4xMjI5Mzg5IDAgMS4xMzg1MTgyIDEuMTM4NTE4MiAxLjEzODUxODIgMi45ODQ0MjA4IDAgNC4xMjI5Mzg5LTEuMTM4NTE4MSAxLjEzODUxODItMi45ODQ0MjA3IDEuMTM4NTE4Mi00LjEyMjkzODkgMHptLTQyLjI2MDEyMzctMTkuNTgzOTU5N2MtMS43MDc3NzcyLTEuNzA3Nzc3Mi0xLjcwNzc3NzItNC40NzY2MzEyIDAtNi4xODQ0MDg0czQuNDc2NjMxMi0xLjcwNzc3NzIgNi4xODQ0MDg0IDAgMS43MDc3NzcyIDQuNDc2NjMxMiAwIDYuMTg0NDA4NC00LjQ3NjYzMTIgMS43MDc3NzcyLTYuMTg0NDA4NCAwem0xOS41ODM5NTk4IDEuMDMwNzM0N2MtMi4yNzcwMzYzLTIuMjc3MDM2My0yLjI3NzAzNjMtNS45Njg4NDE1IDAtOC4yNDU4Nzc4czUuOTY4ODQxNS0yLjI3NzAzNjMgOC4yNDU4Nzc4IDAgMi4yNzcwMzYzIDUuOTY4ODQxNSAwIDguMjQ1ODc3OC01Ljk2ODg0MTUgMi4yNzcwMzYzLTguMjQ1ODc3OCAwem0wLTIwLjYxNDY5NDVjLTIuMjc3MDM2My0yLjI3NzAzNjMtMi4yNzcwMzYzLTUuOTY4ODQxNSAwLTguMjQ1ODc3OHM1Ljk2ODg0MTUtMi4yNzcwMzYzIDguMjQ1ODc3OCAwIDIuMjc3MDM2MyA1Ljk2ODg0MTUgMCA4LjI0NTg3NzgtNS45Njg4NDE1IDIuMjc3MDM2My04LjI0NTg3NzggMHptLTEwLjMwNzM0NzMgMTAuMzA3MzQ3M2MtMi4yNzcwMzYyLTIuMjc3MDM2My0yLjI3NzAzNjItNS45Njg4NDE2IDAtOC4yNDU4Nzc4IDIuMjc3MDM2My0yLjI3NzAzNjMgNS45Njg4NDE2LTIuMjc3MDM2MyA4LjI0NTg3NzggMCAyLjI3NzAzNjMgMi4yNzcwMzYyIDIuMjc3MDM2MyA1Ljk2ODg0MTUgMCA4LjI0NTg3NzgtMi4yNzcwMzYyIDIuMjc3MDM2Mi01Ljk2ODg0MTUgMi4yNzcwMzYyLTguMjQ1ODc3OCAweiIvPjwvZz48L3N2Zz4=",this.supportedTransactionVersions=null,this._readyState=typeof window>"u"||typeof document>"u"?Y.Unsupported:Y.NotDetected,this._messaged=t=>{const s=t.data;s&&s.origin==="mathwallet_internal"&&s.type==="lockStatusChanged"&&!s.payload&&this._disconnected()},this._disconnected=()=>{this._wallet&&(window.removeEventListener("message",this._messaged),this._wallet=null,this._publicKey=null,this.emit("error",new or),this.emit("disconnect"))},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==Y.Unsupported&&Jr(()=>{var t;return(t=window.solana)!=null&&t.isMathWallet?(this._readyState=Y.Installed,this.emit("readyStateChange",this._readyState),!0):!1})}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==Y.Installed)throw new Ct;this._connecting=!0;const e=window.solana;let t;try{t=await e.getAccount()}catch(i){throw new Ut(i==null?void 0:i.message,i)}let s;try{s=new St(t)}catch(i){throw new Wt(i==null?void 0:i.message,i)}window.addEventListener("message",this._messaged),this._wallet=e,this._publicKey=s,this.emit("connect",s)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){this._wallet&&(window.removeEventListener("message",this._messaged),this._wallet=null,this._publicKey=null),this.emit("disconnect")}async signTransaction(e){try{const t=this._wallet;if(!t)throw new oe;try{return await t.signTransaction(e)||e}catch(s){throw new qe(s==null?void 0:s.message,s)}}catch(t){throw this.emit("error",t),t}}async signAllTransactions(e){try{const t=this._wallet;if(!t)throw new oe;try{return await t.signAllTransactions(e)||e}catch(s){throw new qe(s==null?void 0:s.message,s)}}catch(t){throw this.emit("error",t),t}}}const TA="Phantom";class LA extends Kr{constructor(e={}){super(),this.name=TA,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?Y.Unsupported:Y.NotDetected,this._disconnected=()=>{const t=this._wallet;t&&(t.off("disconnect",this._disconnected),t.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new or),this.emit("disconnect"))},this._accountChanged=t=>{const s=this._publicKey;if(s){try{t=new St(t.toBytes())}catch(i){this.emit("error",new Wt(i==null?void 0:i.message,i));return}s.equals(t)||(this._publicKey=t,this.emit("connect",t))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==Y.Unsupported&&(sc()?(this._readyState=Y.Loadable,this.emit("readyStateChange",this._readyState)):Jr(()=>{var t,s,i;return(s=(t=window.phantom)==null?void 0:t.solana)!=null&&s.isPhantom||(i=window.solana)!=null&&i.isPhantom?(this._readyState=Y.Installed,this.emit("readyStateChange",this._readyState),!0):!1}))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===Y.Installed&&await this.connect()}async connect(){var e;try{if(this.connected||this.connecting)return;if(this.readyState===Y.Loadable){const i=encodeURIComponent(window.location.href),r=encodeURIComponent(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${i}?ref=${r}`;return}if(this.readyState!==Y.Installed)throw new Ct;this._connecting=!0;const t=((e=window.phantom)==null?void 0:e.solana)||window.solana;if(!t.isConnected)try{await t.connect()}catch(i){throw new $t(i==null?void 0:i.message,i)}if(!t.publicKey)throw new Ut;let s;try{s=new St(t.publicKey.toBytes())}catch(i){throw new Wt(i==null?void 0:i.message,i)}t.on("disconnect",this._disconnected),t.on("accountChanged",this._accountChanged),this._wallet=t,this._publicKey=s,this.emit("connect",s)}catch(t){throw this.emit("error",t),t}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(t){this.emit("error",new ar(t==null?void 0:t.message,t))}}this.emit("disconnect")}async sendTransaction(e,t,s={}){try{const i=this._wallet;if(!i)throw new oe;try{const{signers:r,...o}=s;Jn(e)?r!=null&&r.length&&e.sign(r):(e=await this.prepareTransaction(e,t,o),r!=null&&r.length&&e.partialSign(...r)),o.preflightCommitment=o.preflightCommitment||t.commitment;const{signature:a}=await i.signAndSendTransaction(e,o);return a}catch(r){throw r instanceof Js?r:new Qs(r==null?void 0:r.message,r)}}catch(i){throw this.emit("error",i),i}}async signTransaction(e){try{const t=this._wallet;if(!t)throw new oe;try{return await t.signTransaction(e)||e}catch(s){throw new qe(s==null?void 0:s.message,s)}}catch(t){throw this.emit("error",t),t}}async signAllTransactions(e){try{const t=this._wallet;if(!t)throw new oe;try{return await t.signAllTransactions(e)||e}catch(s){throw new qe(s==null?void 0:s.message,s)}}catch(t){throw this.emit("error",t),t}}async signMessage(e){try{const t=this._wallet;if(!t)throw new oe;try{const{signature:s}=await t.signMessage(e);return s}catch(s){throw new qs(s==null?void 0:s.message,s)}}catch(t){throw this.emit("error",t),t}}}const DA="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjMxIiB2aWV3Qm94PSIwIDAgMzEgMzEiIHdpZHRoPSIzMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjIwLjI1IiB4Mj0iMjYuNTcxIiB5MT0iMjcuMTczIiB5Mj0iMTkuODU4Ij48c3RvcCBvZmZzZXQ9Ii4wOCIgc3RvcC1jb2xvcj0iIzk5NDVmZiIvPjxzdG9wIG9mZnNldD0iLjMiIHN0b3AtY29sb3I9IiM4NzUyZjMiLz48c3RvcCBvZmZzZXQ9Ii41IiBzdG9wLWNvbG9yPSIjNTQ5N2Q1Ii8+PHN0b3Agb2Zmc2V0PSIuNiIgc3RvcC1jb2xvcj0iIzQzYjRjYSIvPjxzdG9wIG9mZnNldD0iLjcyIiBzdG9wLWNvbG9yPSIjMjhlMGI5Ii8+PHN0b3Agb2Zmc2V0PSIuOTciIHN0b3AtY29sb3I9IiMxOWZiOWIiLz48L2xpbmVhckdyYWRpZW50PjxnIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iLjA5NCI+PHBhdGggZD0ibTI2LjEwOSAzLjY0My05LjM2OSA2Ljk1OSAxLjczMy00LjEwNSA3LjYzNy0yLjg1M3oiIGZpbGw9IiNlMjc2MWIiIHN0cm9rZT0iI2UyNzYxYiIvPjxnIGZpbGw9IiNlNDc2MWIiIHN0cm9rZT0iI2U0NzYxYiI+PHBhdGggZD0ibTQuNDgxIDMuNjQzIDkuMjk0IDcuMDI0LTEuNjQ4LTQuMTcxem0xOC4yNTggMTYuMTMtMi40OTUgMy44MjMgNS4zMzkgMS40NjkgMS41MzUtNS4yMDctNC4zNzgtLjA4NXptLTE5LjI0Ny4wODUgMS41MjUgNS4yMDcgNS4zMzktMS40NjktMi40OTUtMy44MjN6Ii8+PHBhdGggZD0ibTEwLjA1NSAxMy4zMTMtMS40ODggMi4yNTEgNS4zMDEuMjM1LS4xODgtNS42OTd6bTEwLjQ4IDAtMy42NzItMy4yNzctLjEyMiA1Ljc2MyA1LjI5Mi0uMjM1LTEuNDk3LTIuMjUxem0tMTAuMTc4IDEwLjI4MyAzLjE4My0xLjU1NC0yLjc0OS0yLjE0Ny0uNDMzIDMuNzAxem02LjY5NS0xLjU1NCAzLjE5MiAxLjU1NC0uNDQzLTMuNzAxeiIvPjwvZz48cGF0aCBkPSJtMjAuMjQ0IDIzLjU5Ni0zLjE5Mi0xLjU1NC4yNTQgMi4wODEtLjAyOC44NzZ6bS05Ljg4NyAwIDIuOTY2IDEuNDAzLS4wMTktLjg3Ni4yMzUtMi4wODEtMy4xODMgMS41NTR6IiBmaWxsPSIjZDdjMWIzIiBzdHJva2U9IiNkN2MxYjMiLz48cGF0aCBkPSJtMTMuMzY5IDE4LjUyMS0yLjY1NS0uNzgxIDEuODc0LS44NTd6bTMuODUxIDAgLjc4MS0xLjYzOCAxLjg4My44NTctMi42NjUuNzgxeiIgZmlsbD0iIzIzMzQ0NyIgc3Ryb2tlPSIjMjMzNDQ3Ii8+PHBhdGggZD0ibTEwLjM1NyAyMy41OTYuNDUyLTMuODIzLTIuOTQ3LjA4NXptOS40MzUtMy44MjMuNDUyIDMuODIzIDIuNDk1LTMuNzM4em0yLjI0MS00LjIwOS01LjI5Mi4yMzUuNDkgMi43MjEuNzgyLTEuNjM4IDEuODgzLjg1N3ptLTExLjMxOCAyLjE3NSAxLjg4My0uODU3Ljc3MiAxLjYzOC40OTktMi43MjEtNS4zMDEtLjIzNXoiIGZpbGw9IiNjZDYxMTYiIHN0cm9rZT0iI2NkNjExNiIvPjxwYXRoIGQ9Im04LjU2NyAxNS41NjQgMi4yMjIgNC4zMzEtLjA3NS0yLjE1NnptMTEuMzI4IDIuMTc1LS4wOTQgMi4xNTYgMi4yMzItNC4zMzEtMi4xMzcgMi4xNzV6bS02LjAyNi0xLjk0LS40OTkgMi43MjEuNjIxIDMuMjExLjE0MS00LjIyOC0uMjY0LTEuNzA0em0yLjg3MiAwLS4yNTQgMS42OTUuMTEzIDQuMjM3LjYzMS0zLjIxMXoiIGZpbGw9IiNlNDc1MWYiIHN0cm9rZT0iI2U0NzUxZiIvPjxwYXRoIGQ9Im0xNy4yMyAxOC41Mi0uNjMxIDMuMjExLjQ1Mi4zMTEgMi43NS0yLjE0Ny4wOTQtMi4xNTZ6bS02LjUxNi0uNzgxLjA3NSAyLjE1NiAyLjc1IDIuMTQ3LjQ1Mi0uMzExLS42MjItMy4yMTF6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48cGF0aCBkPSJtMTcuMjc3IDI0Ljk5OS4wMjgtLjg3Ni0uMjM1LS4yMDdoLTMuNTVsLS4yMTcuMjA3LjAxOS44NzYtMi45NjYtMS40MDMgMS4wMzYuODQ4IDIuMSAxLjQ1OWgzLjYwNmwyLjEwOS0xLjQ1OSAxLjAzNi0uODQ4eiIgZmlsbD0iI2MwYWQ5ZSIgc3Ryb2tlPSIjYzBhZDllIi8+PHBhdGggZD0ibTE3LjA1MSAyMi4wNDItLjQ1Mi0uMzExaC0yLjYwOGwtLjQ1Mi4zMTEtLjIzNSAyLjA4MS4yMTctLjIwN2gzLjU1bC4yMzUuMjA3LS4yNTQtMi4wODF6IiBmaWxsPSIjMTYxNjE2IiBzdHJva2U9IiMxNjE2MTYiLz48cGF0aCBkPSJtMjYuNTA1IDExLjA1My44LTMuODQyLTEuMTk2LTMuNTY5LTkuMDU4IDYuNzIzIDMuNDg0IDIuOTQ3IDQuOTI1IDEuNDQxIDEuMDkyLTEuMjcxLS40NzEtLjMzOS43NTMtLjY4Ny0uNTg0LS40NTIuNzUzLS41NzQtLjQ5OS0uMzc3em0tMjMuMjExLTMuODQxLjggMy44NDItLjUwOC4zNzcuNzUzLjU3NC0uNTc0LjQ1Mi43NTMuNjg3LS40NzEuMzM5IDEuMDgzIDEuMjcxIDQuOTI1LTEuNDQxIDMuNDg0LTIuOTQ3LTkuMDU5LTYuNzIzeiIgZmlsbD0iIzc2M2QxNiIgc3Ryb2tlPSIjNzYzZDE2Ii8+PHBhdGggZD0ibTI1LjQ2IDE0Ljc1NC00LjkyNS0xLjQ0MSAxLjQ5NyAyLjI1MS0yLjIzMiA0LjMzMSAyLjkzOC0uMDM4aDQuMzc4bC0xLjY1Ny01LjEwNHptLTE1LjQwNS0xLjQ0MS00LjkyNSAxLjQ0MS0xLjYzOCA1LjEwNGg0LjM2OWwyLjkyOC4wMzgtMi4yMjItNC4zMzEgMS40ODgtMi4yNTF6bTYuNjg1IDIuNDg2LjMxMS01LjQzMyAxLjQzMS0zLjg3aC02LjM1NmwxLjQxMyAzLjg3LjMyOSA1LjQzMy4xMTMgMS43MTQuMDA5IDQuMjE5aDIuNjFsLjAxOS00LjIxOS4xMjItMS43MTR6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48L2c+PGNpcmNsZSBjeD0iMjMuNSIgY3k9IjIzLjUiIGZpbGw9IiMwMDAiIHI9IjYuNSIvPjxwYXRoIGQ9Im0yNy40NzMgMjUuNTQ1LTEuMzEgMS4zNjhjLS4wMjkuMDMtLjA2My4wNTMtLjEwMS4wN2EuMzEuMzEgMCAwIDEgLS4xMjEuMDI0aC02LjIwOWMtLjAzIDAtLjA1OS0uMDA4LS4wODMtLjAyNGEuMTUuMTUgMCAwIDEgLS4wNTYtLjA2NWMtLjAxMi0uMDI2LS4wMTUtLjA1Ni0uMDEtLjA4NHMuMDE4LS4wNTUuMDM5LS4wNzZsMS4zMTEtMS4zNjhjLjAyOC0uMDMuMDYzLS4wNTMuMTAxLS4wNjlhLjMxLjMxIDAgMCAxIC4xMjEtLjAyNWg2LjIwOGMuMDMgMCAuMDU5LjAwOC4wODMuMDI0YS4xNS4xNSAwIDAgMSAuMDU2LjA2NWMuMDEyLjAyNi4wMTUuMDU2LjAxLjA4NHMtLjAxOC4wNTUtLjAzOS4wNzZ6bS0xLjMxLTIuNzU2Yy0uMDI5LS4wMy0uMDYzLS4wNTMtLjEwMS0uMDdhLjMxLjMxIDAgMCAwIC0uMTIxLS4wMjRoLTYuMjA5Yy0uMDMgMC0uMDU5LjAwOC0uMDgzLjAyNHMtLjA0NC4wMzgtLjA1Ni4wNjUtLjAxNS4wNTYtLjAxLjA4NC4wMTguMDU1LjAzOS4wNzZsMS4zMTEgMS4zNjhjLjAyOC4wMy4wNjMuMDUzLjEwMS4wNjlhLjMxLjMxIDAgMCAwIC4xMjEuMDI1aDYuMjA4Yy4wMyAwIC4wNTktLjAwOC4wODMtLjAyNGEuMTUuMTUgMCAwIDAgLjA1Ni0uMDY1Yy4wMTItLjAyNi4wMTUtLjA1Ni4wMS0uMDg0cy0uMDE4LS4wNTUtLjAzOS0uMDc2em0tNi40MzEtLjk4M2g2LjIwOWEuMzEuMzEgMCAwIDAgLjEyMS0uMDI0Yy4wMzgtLjAxNi4wNzMtLjA0LjEwMS0uMDdsMS4zMS0xLjM2OGMuMDItLjAyMS4wMzQtLjA0Ny4wMzktLjA3NnMuMDAxLS4wNTgtLjAxLS4wODRhLjE1LjE1IDAgMCAwIC0uMDU2LS4wNjVjLS4wMjUtLjAxNi0uMDU0LS4wMjQtLjA4My0uMDI0aC02LjIwOGEuMzEuMzEgMCAwIDAgLS4xMjEuMDI1Yy0uMDM4LjAxNi0uMDcyLjA0LS4xMDEuMDY5bC0xLjMxIDEuMzY4Yy0uMDIuMDIxLS4wMzQuMDQ3LS4wMzkuMDc2cy0uMDAxLjA1OC4wMS4wODQuMDMxLjA0OS4wNTYuMDY1LjA1NC4wMjQuMDgzLjAyNHoiIGZpbGw9InVybCgjYSkiLz48L3N2Zz4=";var ce=function(n,e,t,s){if(t==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!s:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?s:t==="a"?s.call(n):s?s.value:e.get(n)},_A=function(n,e,t,s,i){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?i.call(n,t):i?i.value=t:e.set(n,t),t},Bo,Is,el,tl,nl,Ye,sl,uf,df,il,rl,ol,al,cl;class zA{constructor(){Bo.add(this),Is.set(this,{}),el.set(this,"1.0.0"),tl.set(this,"MetaMask"),nl.set(this,DA),Ye.set(this,null),sl.set(this,(e,t)=>{var s;return(s=ce(this,Is,"f")[e])!=null&&s.push(t)||(ce(this,Is,"f")[e]=[t]),()=>ce(this,Bo,"m",df).call(this,e,t)}),il.set(this,async()=>{if(!ce(this,Ye,"f")){let e;try{e=(await we(async()=>{const{default:t}=await import("./index-B6N7mhR1.js");return{default:t}},__vite__mapDeps([33,1,2,34]))).default}catch{throw new Error("Unable to load Solflare MetaMask SDK")}_A(this,Ye,new e,"f"),ce(this,Ye,"f").on("standard_change",t=>ce(this,Bo,"m",uf).call(this,"change",t))}return this.accounts.length||await ce(this,Ye,"f").connect(),{accounts:this.accounts}}),rl.set(this,async()=>{ce(this,Ye,"f")&&await ce(this,Ye,"f").disconnect()}),ol.set(this,async(...e)=>{if(!ce(this,Ye,"f"))throw new oe;return await ce(this,Ye,"f").standardSignAndSendTransaction(...e)}),al.set(this,async(...e)=>{if(!ce(this,Ye,"f"))throw new oe;return await ce(this,Ye,"f").standardSignTransaction(...e)}),cl.set(this,async(...e)=>{if(!ce(this,Ye,"f"))throw new oe;return await ce(this,Ye,"f").standardSignMessage(...e)})}get version(){return ce(this,el,"f")}get name(){return ce(this,tl,"f")}get icon(){return ce(this,nl,"f")}get chains(){return[Ur,Hh,Yh]}get features(){return{[gl]:{version:"1.0.0",connect:ce(this,il,"f")},[Qo]:{version:"1.0.0",disconnect:ce(this,rl,"f")},[pl]:{version:"1.0.0",on:ce(this,sl,"f")},[ot]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:ce(this,ol,"f")},[ye]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:ce(this,al,"f")},[mn]:{version:"1.0.0",signMessage:ce(this,cl,"f")}}}get accounts(){return ce(this,Ye,"f")?ce(this,Ye,"f").standardAccounts:[]}}Is=new WeakMap,el=new WeakMap,tl=new WeakMap,nl=new WeakMap,Ye=new WeakMap,sl=new WeakMap,il=new WeakMap,rl=new WeakMap,ol=new WeakMap,al=new WeakMap,cl=new WeakMap,Bo=new WeakSet,uf=function(e,...t){var s;(s=ce(this,Is,"f")[e])==null||s.forEach(i=>i.apply(null,t))},df=function(e,t){var s;ce(this,Is,"f")[e]=(s=ce(this,Is,"f")[e])==null?void 0:s.filter(i=>t!==i)};let qu=!1;function kA(){qu||(Qf(new zA),qu=!0)}async function OA(){const n="solflare-detect-metamask";function e(){window.postMessage({target:"metamask-contentscript",data:{name:"metamask-provider",data:{id:n,jsonrpc:"2.0",method:"wallet_getSnaps"}}},window.location.origin)}function t(s){var r,o;const i=s.data;(i==null?void 0:i.target)==="metamask-inpage"&&((r=i.data)==null?void 0:r.name)==="metamask-provider"&&(((o=i.data.data)==null?void 0:o.id)===n?(window.removeEventListener("message",t),i.data.data.error||kA()):e())}window.addEventListener("message",t),window.setTimeout(()=>window.removeEventListener("message",t),5e3),e()}const vA="Solflare";class RA extends Kr{constructor(e={}){super(),this.name=vA,this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGlkPSJTIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MCA1MCI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiMwMjA1MGE7c3Ryb2tlOiNmZmVmNDY7c3Ryb2tlLW1pdGVybGltaXQ6MTA7c3Ryb2tlLXdpZHRoOi41cHg7fS5jbHMtMntmaWxsOiNmZmVmNDY7fTwvc3R5bGU+PC9kZWZzPjxyZWN0IGNsYXNzPSJjbHMtMiIgeD0iMCIgd2lkdGg9IjUwIiBoZWlnaHQ9IjUwIiByeD0iMTIiIHJ5PSIxMiIvPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTI0LjIzLDI2LjQybDIuNDYtMi4zOCw0LjU5LDEuNWMzLjAxLDEsNC41MSwyLjg0LDQuNTEsNS40MywwLDEuOTYtLjc1LDMuMjYtMi4yNSw0LjkzbC0uNDYuNS4xNy0xLjE3Yy42Ny00LjI2LS41OC02LjA5LTQuNzItNy40M2wtNC4zLTEuMzhoMFpNMTguMDUsMTEuODVsMTIuNTIsNC4xNy0yLjcxLDIuNTktNi41MS0yLjE3Yy0yLjI1LS43NS0zLjAxLTEuOTYtMy4zLTQuNTF2LS4wOGgwWk0xNy4zLDMzLjA2bDIuODQtMi43MSw1LjM0LDEuNzVjMi44LjkyLDMuNzYsMi4xMywzLjQ2LDUuMThsLTExLjY1LTQuMjJoMFpNMTMuNzEsMjAuOTVjMC0uNzkuNDItMS41NCwxLjEzLTIuMTcuNzUsMS4wOSwyLjA1LDIuMDUsNC4wOSwyLjcxbDQuNDIsMS40Ni0yLjQ2LDIuMzgtNC4zNC0xLjQyYy0yLS42Ny0yLjg0LTEuNjctMi44NC0yLjk2TTI2LjgyLDQyLjg3YzkuMTgtNi4wOSwxNC4xMS0xMC4yMywxNC4xMS0xNS4zMiwwLTMuMzgtMi01LjI2LTYuNDMtNi43MmwtMy4zNC0xLjEzLDkuMTQtOC43Ny0xLjg0LTEuOTYtMi43MSwyLjM4LTEyLjgxLTQuMjJjLTMuOTcsMS4yOS04Ljk3LDUuMDktOC45Nyw4Ljg5LDAsLjQyLjA0LjgzLjE3LDEuMjktMy4zLDEuODgtNC42MywzLjYzLTQuNjMsNS44LDAsMi4wNSwxLjA5LDQuMDksNC41NSw1LjIybDIuNzUuOTItOS41Miw5LjE0LDEuODQsMS45NiwyLjk2LTIuNzEsMTQuNzMsNS4yMmgwWiIvPjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?Y.Unsupported:Y.Loadable,this._disconnected=()=>{const t=this._wallet;t&&(t.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new or),this.emit("disconnect"))},this._accountChanged=t=>{if(!t)return;const s=this._publicKey;if(s){try{t=new St(t.toBytes())}catch(i){this.emit("error",new Wt(i==null?void 0:i.message,i));return}s.equals(t)||(this._publicKey=t,this.emit("connect",t))}},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=e,this._readyState!==Y.Unsupported&&(Jr(()=>{var t;return(t=window.solflare)!=null&&t.isSolflare||window.SolflareApp?(this._readyState=Y.Installed,this.emit("readyStateChange",this._readyState),!0):!1}),OA())}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.connected)}get readyState(){return this._readyState}async autoConnect(){this.readyState===Y.Loadable&&sc()||await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==Y.Loadable&&this._readyState!==Y.Installed)throw new Ct;if(this.readyState===Y.Loadable&&sc()){const i=encodeURIComponent(window.location.href),r=encodeURIComponent(window.location.origin);window.location.href=`https://solflare.com/ul/v1/browse/${i}?ref=${r}`;return}let e;try{e=(await we(async()=>{const{default:i}=await import("./index-CCV9R9c2.js");return{default:i}},__vite__mapDeps([35,1,2,34]))).default}catch(i){throw new wl(i==null?void 0:i.message,i)}let t;try{t=new e({network:this._config.network})}catch(i){throw new ws(i==null?void 0:i.message,i)}if(this._connecting=!0,!t.connected)try{await t.connect()}catch(i){throw new $t(i==null?void 0:i.message,i)}if(!t.publicKey)throw new $t;let s;try{s=new St(t.publicKey.toBytes())}catch(i){throw new Wt(i==null?void 0:i.message,i)}t.on("disconnect",this._disconnected),t.on("accountChanged",this._accountChanged),this._wallet=t,this._publicKey=s,this.emit("connect",s)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(t){this.emit("error",new ar(t==null?void 0:t.message,t))}}this.emit("disconnect")}async sendTransaction(e,t,s={}){try{const i=this._wallet;if(!i)throw new oe;try{const{signers:r,...o}=s;return Jn(e)?r!=null&&r.length&&e.sign(r):(e=await this.prepareTransaction(e,t,o),r!=null&&r.length&&e.partialSign(...r)),o.preflightCommitment=o.preflightCommitment||t.commitment,await i.signAndSendTransaction(e,o)}catch(r){throw r instanceof Js?r:new Qs(r==null?void 0:r.message,r)}}catch(i){throw this.emit("error",i),i}}async signTransaction(e){try{const t=this._wallet;if(!t)throw new oe;try{return await t.signTransaction(e)||e}catch(s){throw new qe(s==null?void 0:s.message,s)}}catch(t){throw this.emit("error",t),t}}async signAllTransactions(e){try{const t=this._wallet;if(!t)throw new oe;try{return await t.signAllTransactions(e)||e}catch(s){throw new qe(s==null?void 0:s.message,s)}}catch(t){throw this.emit("error",t),t}}async signMessage(e){try{const t=this._wallet;if(!t)throw new oe;try{return await t.signMessage(e,"utf8")}catch(s){throw new qs(s==null?void 0:s.message,s)}}catch(t){throw this.emit("error",t),t}}}const PA="Torus";class UA extends Kr{constructor({params:e={showTorusButton:!1}}={params:{showTorusButton:!1}}){super(),this.name=PA,this.url="https://tor.us",this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzMiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMyAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTYuNSIgY3k9IjE2IiByPSIxNiIgZmlsbD0iIzAzNjRGRiIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTExLjIxODYgOS40OTIxOUMxMC40NTM5IDkuNDkyMTkgOS44MzM5OCAxMC4xMTIxIDkuODMzOTggMTAuODc2OFYxMi40ODk4QzkuODMzOTggMTMuMjU0NSAxMC40NTM5IDEzLjg3NDQgMTEuMjE4NiAxMy44NzQ0SDEzLjY2ODRWMjIuODk3NkMxMy42Njg0IDIzLjY2MjMgMTQuMjg4MyAyNC4yODIyIDE1LjA1MyAyNC4yODIySDE2LjY2NkMxNy40MzA3IDI0LjI4MjIgMTguMDUwNiAyMy42NjIzIDE4LjA1MDYgMjIuODk3NlYxMi41MDE1QzE4LjA1MDYgMTIuNDk3NiAxOC4wNTA2IDEyLjQ5MzcgMTguMDUwNiAxMi40ODk4VjEwLjg3NjhDMTguMDUwNiAxMC4xMTIxIDE3LjQzMDcgOS40OTIxOSAxNi42NjYgOS40OTIxOUgxNS4wNTNIMTEuMjE4NloiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0yMS4zMzc2IDEzLjg3NDRDMjIuNTQ3NyAxMy44NzQ0IDIzLjUyODcgMTIuODkzNCAyMy41Mjg3IDExLjY4MzNDMjMuNTI4NyAxMC40NzMyIDIyLjU0NzcgOS40OTIxOSAyMS4zMzc2IDkuNDkyMTlDMjAuMTI3NSA5LjQ5MjE5IDE5LjE0NjUgMTAuNDczMiAxOS4xNDY1IDExLjY4MzNDMTkuMTQ2NSAxMi44OTM0IDIwLjEyNzUgMTMuODc0NCAyMS4zMzc2IDEzLjg3NDRaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K",this.supportedTransactionVersions=null,this._readyState=typeof window>"u"||typeof document>"u"?Y.Unsupported:Y.Loadable,this._connecting=!1,this._wallet=null,this._publicKey=null,this._params=e}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.isLoggedIn)}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==Y.Loadable)throw new Ct;this._connecting=!0;let e;try{e=(await we(async()=>{const{default:r}=await import("./solanaEmbed.esm-CiEkStcA.js");return{default:r}},__vite__mapDeps([36,1,2,37,3,4,38,39]))).default}catch(r){throw new wl(r==null?void 0:r.message,r)}let t;try{t=window.torus||new e}catch(r){throw new ws(r==null?void 0:r.message,r)}if(!t.isInitialized)try{await t.init(this._params)}catch(r){throw new $t(r==null?void 0:r.message,r)}let s;try{s=await t.login()}catch(r){throw new Ut(r==null?void 0:r.message,r)}let i;try{i=new St(s[0])}catch(r){throw new Wt(r==null?void 0:r.message,r)}this._wallet=t,this._publicKey=i,this.emit("connect",i)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){this._wallet=null,this._publicKey=null;try{e.isLoggedIn&&await e.cleanUp()}catch(t){this.emit("error",new ar(t==null?void 0:t.message,t))}}this.emit("disconnect")}async sendTransaction(e,t,s={}){try{const i=this._wallet;if(!i)throw new oe;try{const{signers:r,...o}=s;e=await this.prepareTransaction(e,t,o),r!=null&&r.length&&e.partialSign(...r),o.preflightCommitment=o.preflightCommitment||t.commitment;const{signature:a}=await i.signAndSendTransaction(e,o);return a}catch(r){throw r instanceof Js?r:new Qs(r==null?void 0:r.message,r)}}catch(i){throw this.emit("error",i),i}}async signTransaction(e){try{const t=this._wallet;if(!t)throw new oe;try{return await t.signTransaction(e)||e}catch(s){throw new qe(s==null?void 0:s.message,s)}}catch(t){throw this.emit("error",t),t}}async signAllTransactions(e){try{const t=this._wallet;if(!t)throw new oe;try{return await t.signAllTransactions(e)||e}catch(s){throw new qe(s==null?void 0:s.message,s)}}catch(t){throw this.emit("error",t),t}}async signMessage(e){try{const t=this._wallet;if(!t)throw new oe;try{return await t.signMessage(e)}catch(s){throw new qs(s==null?void 0:s.message,s)}}catch(t){throw this.emit("error",t),t}}}const hf={fromChain:Jl[1],toChain:Jl[0],fromToken:{address:"0x0000000000000000000000000000000000000000",name:"ETH",type:"EVM",symbol:"ETH",decimals:18,chain_id:1,coingecko_id:"weth",logo_url:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2/logo.png"},toToken:{address:"0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI",name:"SUI",type:"MVM",symbol:"SUI",decimals:9,chain_id:927e13,logo_url:"https://archive.cetus.zone/assets/image/sui/sui.png",coingecko_id:"sui"},platform:ne.LI_FI},ff={fromChain:ql[1],toChain:ql[0],fromToken:{address:"0x0000000000000000000000000000000000000000",name:"ETH",type:"EVM",symbol:"ETH",decimals:18,chain_id:1,logo_url:"https://statics.mayan.finance/eth.png",supports_permit:!1,coingecko_id:"weth"},toToken:{address:"0x2::sui::SUI",name:"SUI",type:"MVM",symbol:"SUI",decimals:9,chain_id:1999,logo_url:"https://archive.cetus.zone/assets/image/sui/sui.png",coingecko_id:"sui"},platform:ne.LI_FI},BA={[_e.ARB]:{logo_url:"/images/chain/arb.png"},[_e.AVA]:{logo_url:"/images/chain/avalanche.png"},[_e.BAS]:{logo_url:"/images/chain/base.png"},[_e.BSC]:{logo_url:"/images/chain/bsc.png"},[_e.LNA]:{logo_url:"/images/chain/linea.png"},[_e.OPT]:{logo_url:"/images/chain/opt.png"},[_e.POL]:{logo_url:"/images/chain/polygon.png"},[_e.SOL_MAYAN]:{logo_url:"/images/chain/solana.png"},[_e.UNI]:{logo_url:"/images/chain/unichain.png"},[_e.SUI_MAYAN]:{logo_url:"/images/chain/sui-logo.png"},[_e.SUI_LI_FI]:{logo_url:"/images/chain/sui-logo.png"}},WA=(n,e)=>({chainTokenObj:{},chainTokenKeys:[],crossSwapOptions:{[ne.MAYAN]:{...ff},[ne.LI_FI]:{...hf}},setCrossSwapOptions:(t,s)=>{const i=e().crossSwapOptions[t]||{};n({crossSwapOptions:{...e().crossSwapOptions,[t]:{...i,...s}}})},setChainTokenObj:t=>{const s=e().chainTokenObj,i=e().chainTokenKeys;let r={...s},o=[...i];for(Object.entries(t).forEach(([a,c])=>{o=o.filter(l=>l!==a),o.push(a),r[a]=c});o.length>3;){const a=o.shift();a!==void 0&&delete r[a]}n({chainTokenObj:r,chainTokenKeys:o})},fromCoinAmount:"",setFromCoinAmount:t=>{n({fromCoinAmount:t})},findRouterLoading:!1,setFindRouterLoading:t=>{n({findRouterLoading:t})},routers:void 0,setRouters:t=>{n({routers:t})},quote:void 0,setQuote:t=>{n({quote:t})},approveData:void 0,setApproveData:t=>{n({approveData:t})}}),sn=Ad(xd(WA,{name:"useCrossSwapStore",partialize:n=>({crossSwapOptions:n.crossSwapOptions})}));function QA(n){return n===ne.MAYAN?{...ff}:{...hf}}async function FA(n,e){return await new _c(n==null?void 0:n.transport).getSigner(e)}function GA(n,e){const t=async i=>await e(i),s=new fd(Id);return{signer:t,connection:s}}const qa=(n,e)=>n===_e.SUI_LI_FI||n===_e.SUI_MAYAN?`${n}-${bd(e,!1)}`:`${n}-${e}`,HA=(n,e)=>({fromAddressObj:{evmAddress:{},svmAddress:{},mvmAddress:{},utxoAddress:{}},toAddressObj:{evmAddress:{},svmAddress:{},mvmAddress:{},utxoAddress:{}},balanceCache:{},switchChainLoading:!1,setSwitchChainLoading:t=>{n({switchChainLoading:t})},setFromAddressObj:(t,s)=>{const{fromAddressObj:i}=e(),r={...i};switch(t){case B.EVM:r.evmAddress={...r.evmAddress,...s};break;case B.SVM:r.svmAddress={...r.svmAddress,...s};break;case B.MVM:r.mvmAddress={...r.mvmAddress,...s};break;case B.UTXO:r.utxoAddress={...r.utxoAddress,...s};break}n({fromAddressObj:r})},setToAddressObj:(t,s)=>{const{toAddressObj:i}=e(),r={...i};switch(t){case B.EVM:r.evmAddress={...r.evmAddress,...s};break;case B.SVM:r.svmAddress={...r.svmAddress,...s};break;case B.MVM:r.mvmAddress={...r.mvmAddress,...s};break;case B.UTXO:r.utxoAddress={...r.utxoAddress,...s};break}n({toAddressObj:r})},setTokenBalances:(t,s)=>{const i={...e().balanceCache[s]};t.forEach(r=>{const o=qa(r.chain_id,r.address);i[o]=r}),n(r=>({balanceCache:{...r.balanceCache,[s]:i}}))},clearTokenBalances:(t,s,i)=>{const r=qa(i,t),{balanceCache:o}=e(),a=o[s];a&&delete a[r],n(c=>({balanceCache:{...c.balanceCache,[s]:a}}))},getTokenBalance:(t,s)=>{if(!s)return;const r=e().balanceCache[s];if(!r)return;const o=qa(t.chain_id,t.address);return r[o]},isOpenBtcWalletModal:!1,setIsOpenBtcWalletModal:t=>{n({isOpenBtcWalletModal:t})},crossWalletModalData:void 0,setCrossWalletModalData:t=>{n({crossWalletModalData:t})},settingToAddressModalData:void 0,setSettingToAddressModalData:t=>{n({settingToAddressModalData:t})}}),Tt=Ad(xd(HA,{name:"useCrossSwapWalletStore",version:2,partialize:n=>({fromAddressObj:n.fromAddressObj,toAddressObj:n.toAddressObj})})),Pl=n=>{const{crossSwapOptions:e}=sn(),t=j.useRef(),s=j.useRef(),i=j.useRef(),r=j.useRef(),o=e[n];return o.fromToken?(!t.current||t.current.address!==o.fromToken.address||t.current.chain_id!==o.fromToken.chain_id||t.current.symbol!==o.fromToken.symbol)&&(t.current=o.fromToken):t.current=void 0,o.toToken?(!s.current||s.current.address!==o.toToken.address||s.current.chain_id!==o.toToken.chain_id||s.current.symbol!==o.toToken.symbol)&&(s.current=o.toToken):s.current=void 0,o.fromChain?(!i.current||i.current.id!==o.fromChain.id)&&(i.current=o.fromChain):i.current=void 0,o.toChain?(!r.current||r.current.id!==o.toChain.id)&&(r.current=o.toChain):r.current=void 0,{fromChain:i.current,toChain:r.current,fromToken:t.current,toToken:s.current}},YA=(n,e,t,s,i)=>({showErrorTips:j.useMemo(()=>{var o;if(n){if(e===ne.LI_FI){if(n.error)return"Reasons for no route could be: low liquidity, small amount, high gas cost, or no available route."}else if(e===ne.MAYAN&&n.error&&n.error.message)return(o=n.error)==null?void 0:o.message;if(s&&s.from_chain.native_token.address===(t==null?void 0:t.address)&&t&&t.price_usd&&i){const a=ge(s.gas_cost_usd).div(t.price_usd).toString();if(ge(i).sub(s.amount_in_formatted).lt(a))return`You don't have enough gas to complete the transaction. You need to add at least: ${ze(a)} ${t==null?void 0:t.symbol} on ${s==null?void 0:s.from_chain.chain_name}`}}},[n,e,t==null?void 0:t.symbol,s,i])});function ll(n,e=!0,t=!1){const{fromAddressObj:s,toAddressObj:i}=Tt(),r=j.useMemo(()=>{if(!n)return;const o=l=>{switch(n.type){case B.EVM:return l.evmAddress;case B.SVM:return l.svmAddress;case B.MVM:return l.mvmAddress;case B.UTXO:return l.utxoAddress;default:return}};let c=o(e?s:i);return!c&&t&&(c=o(e?i:s)),c},[n==null?void 0:n.type,n==null?void 0:n.id,e,t,s,i]);return{address:(r==null?void 0:r.manual_address)||(r==null?void 0:r.chain_address),isManualAddress:(r==null?void 0:r.manual_address)!==void 0}}function VA(n){return{fee:j.useMemo(()=>Lg(n.feeCosts,n.gasCosts),[n])}}function pf(n){return{tag:j.useMemo(()=>{if(n!=null&&n.includes("RECOMMENDED"))return"Best Return";if(n!=null&&n.includes("FASTEST"))return"Fastest";if(n!=null&&n.includes("CHEAPEST"))return"Gasless"},[n])}}function ZA(n,e,t){return{label:j.useMemo(()=>{const{toolDetails:i,type:r}=n;return r==="cross"?`Bridge from ${e.chain_name} to ${t.chain_name} via ${i.name}`:`Swap on ${e.chain_name} via ${i.name}`},[n.type,e.chain_name,t.chain_name])}}function gf(n){return{quoteShowDuration:j.useMemo(()=>n?ul(n):"",[n])}}const ul=n=>n<60?`${Math.floor(n)}s`:`${Math.floor(n/60)}m`,KA=n=>n.steps.every(o=>{var a;return((a=o.execution)==null?void 0:a.status)==="DONE"})?"DONE":n.steps.some(o=>{var a;return(a=o.execution)==null?void 0:a.process.some(c=>c.substatus==="PARTIAL")})?"PARTIAL":n.steps.some(o=>{var a;return(a=o.execution)==null?void 0:a.process.some(c=>c.substatus==="REFUNDED")})?"REFUNDED":n.steps.some(o=>{var a;return((a=o.execution)==null?void 0:a.status)==="FAILED"})?"FAILED":n.steps.some(o=>{var a;return((a=o.execution)==null?void 0:a.status)==="ACTION_REQUIRED"})?"ACTION_REQUIRED":"PENDING",JA=n=>{var e,t,s;return(s=(t=(e=n.steps.find(i=>{var r;return(r=i.execution)==null?void 0:r.process.some(o=>o.type==="TOKEN_ALLOWANCE")}))==null?void 0:e.execution)==null?void 0:t.process.find(i=>i.type==="TOKEN_ALLOWANCE"))==null?void 0:s.status},dl=(n,e)=>e===ne.LI_FI?`https://scan.li.fi/tx/${n}`:`https://explorer.mayan.finance/tx/${n}`,qA=n=>{var e,t;return(t=(e=n==null?void 0:n.steps[0].execution)==null?void 0:e.process.filter(s=>s.type!=="TOKEN_ALLOWANCE").find(s=>s.txHash))==null?void 0:t.txHash},XA=(n,e)=>{var g,x;const t=n.sending,s=n.receiving;if(!((g=t.token)!=null&&g.chainId)||!((x=s.token)!=null&&x.chainId))throw new Error("Invalid transaction");const i=t.value?BigInt(t.value):0n,r=t.gasToken.address===t.token.address&&t.amount?i-BigInt(t.amount):i,o=qn(r.toString(),t.gasToken.decimals);t.gasToken.priceUSD&&r&&ge(o).mul(t.gasToken.priceUSD).toString();const a=e(t.chainId),c=e(s.chainId),l=e(t.gasToken.chainId),d=Ca(t.gasToken,l),h=Ca(t.token,a),f=Ca(s.token,c);cc(h.address)&&(h.logo_url="https://archive.cetus.zone/assets/image/sui/sui.png"),cc(f.address)&&(f.logo_url="https://archive.cetus.zone/assets/image/sui/sui.png");const p=[{amount:t.gasAmount,amountUSD:t.gasAmountUSD,token:d,amount_formatted:qn(t.gasAmount,d.decimals).toString()}];return{status:n.status,feeCosts:[],gasCosts:p,fromChain:a,toChain:c,fromToken:h,toToken:f,amountIn:t.amount?qn(t.amount,h.decimals).toString():"0",amountOut:s.amount?qn(s.amount,f.decimals).toString():"0",source_address:n.fromAddress,destination_address:n.toAddress,tx_link:t.txHash,send_time:t.timestamp||0}},$A=async(n,e,t)=>{const s=e(Xl[n.fromTokenChain]),i=e(Xl[n.toTokenChain]);let r=await t(s.id,n.fromTokenAddress),o=await t(i.id,n.toTokenAddress);o===void 0&&(o={address:n.toTokenAddress,chain_id:i.id,decimals:0,symbol:n.toTokenSymbol,name:n.toTokenSymbol,type:s.type,logo_url:n.toTokenLogoUri||$l}),r===void 0&&(r={address:n.fromTokenAddress,chain_id:s.id,decimals:0,symbol:n.fromTokenSymbol,name:n.fromTokenSymbol,type:s.type,logo_url:n.fromTokenLogoUri||$l}),console.log("ðŸš€ðŸš€ðŸš€ ~ buildMayanRouteFromTxHistory ~ toToken:",o);const a=[{amount:n.clientRelayerFeeSuccess?n.clientRelayerFeeSuccess:"0",amountUSD:n.clientRelayerFeeSuccess?n.clientRelayerFeeSuccess:"0",token:{},amount_formatted:n.clientRelayerFeeSuccess?n.clientRelayerFeeSuccess:"0"}];return{status:n.clientStatus==="COMPLETED"?"DONE":n.clientStatus==="REFUNDED"?"REFUNDED":"PENDING",feeCosts:[],gasCosts:a,fromChain:s,toChain:i,fromToken:r,toToken:o,amountIn:n.fromAmount,amountOut:n.toAmount,source_address:n.trader,destination_address:n.destAddress,tx_link:n.orderId,send_time:n.initiatedAt?Math.floor(new Date(n.initiatedAt).getTime()/1e3):0}},ex=(n,e,t,s)=>{const i=Lt("crossSwap");return{chainLink:j.useMemo(()=>{const o=i==null?void 0:i.getChain(e,t);return o?ia(n,o,s):""},[n,e,t,s])}},ia=(n,e,t)=>{if(t==="address"||t==="coin"){if(e.type===B.SVM)return n==="0x0000000000000000000000000000000000000000"?`${e.block_explorer}/address/11111111111111111111111111111111`:`${e.block_explorer}/address/${n}`;if(e.type===B.MVM)return t==="coin"?`${e.block_explorer}coin/${n}`:`${e.block_explorer}account/${n}`;if(e.type===B.EVM)return`${e.block_explorer}/address/${n}`;if(e.type===B.UTXO)return`${e.block_explorer}/address/${n}`}else if(t==="tx"){if(e.type===B.SVM)return`${e.block_explorer}/tx/${n}`;if(e.type===B.MVM)return`${e.block_explorer}/txblock/${n}`;if(e.type===B.EVM)return`${e.block_explorer}/tx/${n}`;if(e.type===B.UTXO)return`${e.block_explorer}/tx/${n}`}return""},wf=n=>{const e=Lt("crossSwap");return{chainList:j.useMemo(()=>{if(e){const s=e.getSupportedChains(n);return n===ne.MAYAN&&s.forEach(i=>{var r;i.logo_url=((r=BA[i.id])==null?void 0:r.logo_url)||i.logo_url}),s}return[]},[n,e])}},ra=n=>n.id===_e.SUI_LI_FI||n.id===_e.SUI_MAYAN,Xu=(n,e)=>(e&&(console.log("ðŸš€ðŸš€ðŸš€ ~ parseFromMayanWithSui ~ token:",{token:e,crossToken:n}),n.logo_url=e.logo_url||n.logo_url,n.name=e.name||n.name,n.symbol=e.symbol||n.symbol,n.decimals=e.decimals||n.decimals,n.address=e.address||n.address),n);function Ul(n,e,t,s,i){const r=e==null?void 0:e.price_usd,o=t==null?void 0:t.price_usd,a=Kg(s,i),c=j.useMemo(()=>{if(o&&r)return ge(r).div(o).toString()},[r,o]),l=j.useMemo(()=>{if(c&&+a)return ge(a).sub(c).div(c).mul(100).toFixed(10)},[c,a]),d=j.useMemo(()=>{if(c&&+a)return ge(a).sub(c).div(c).mul(100).toFixed(10)},[c,a]),h=j.useMemo(()=>{const x=[];return n===ne.MAYAN?x.push("coingecko"):x.push("LI.FI"),x},[r,o]),f=j.useMemo(()=>!r||!o,[r,o]),p=j.useMemo(()=>f?!1:l&&ge(l).lt(0)?ge(l).abs().gt(5):!1,[l]),m=j.useMemo(()=>f?!1:l&&ge(l).lt(0)?ge(l).abs().gt(10):!1,[l,f]),g=j.useMemo(()=>{let x,y="primary_yellow";if(f)return{priceImpactText:"Incalculable",textColor:"primary_yellow"};if(l)if(ge(l).gt(0))y="primary_green",ge(l).lt(.1)?x=n===ne.LI_FI?"< 0.1% better than Market":"< 0.1% better than":x=n===ne.LI_FI?`${ze(l,2,!0,Ln.ROUND_UP)}% better than Market`:`${ze(l,2,!0,Ln.ROUND_UP)}% better than`;else if(ge(l).eq(0))x="0%",y="primary_green";else{const A=ge(l).abs();A.lte(5)?(y="primary_green",x=`Within ${ze(A.toString(),2,!0,Ln.ROUND_UP)}%`):A.lte(10)?(y="primary_yellow",x=n===ne.LI_FI?`${ze(A.toString(),2,!0,Ln.ROUND_UP)}% away from Market`:`${ze(A.toString(),2,!0,Ln.ROUND_UP)}% away from`):A.lte(100)?(y="primary_red",x=n===ne.LI_FI?`${ze(A.toString(),2,!0,Ln.ROUND_UP)}% away from Market`:`${ze(A.toString(),2,!0,Ln.ROUND_UP)}% away from`):(y="primary_red",x=n===ne.LI_FI?"> 100% better than Market":"> 100% away from")}return{priceImpactText:x,textColor:y}},[l,f]);return{swapPrice:a,marketPrice:c,priceImpact:l,sources:h,showPriceImpactTips:p,showPriceImpactWarn:m,priceImpactTextInfo:g,priceImpactBasedOnMarket:d,showIncalculable:f}}const Br="/images/chain/chain-place-holder.svg";function tx({value:n,loading:e,tokenStyle:t={},tokenSize:s="38px",symbolStyle:i={},wrapStyle:r={},disabled:o=!1,openSelectChainAndTokenModal:a,currentChain:c}){const[l,d]=j.useState(!1);return u.jsx(u.Fragment,{children:u.jsxs(Xt,{w:"100%",variant:"unstyled",display:"flex",alignItems:"center",gap:"8px",height:"38px",onClick:()=>{a==null||a()},cursor:"pointer",onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),isDisabled:o,...r,children:[e?u.jsxs(W,{children:[u.jsx(Tr,{w:s,h:s}),u.jsx(Me,{h:i.fontSize||"16px"})]}):n?u.jsxs(W,{children:[u.jsx(Dg,{variant:"border",src:(n==null?void 0:n.logo_url)||"",coin_type:n==null?void 0:n.address,size:s,style:l?{...t,borderColor:"token_active_border",boxShadow:"0px 0px 6px 0px #0067AD"}:t,showTag:c!==void 0,tag_url:c==null?void 0:c.logo_url,placeholderTagImg:Br}),u.jsxs(q,{alignItems:"flex-start",gap:"2px",children:[u.jsx(F,{color:"text_caption",fontSize:"16px",fontWeight:"600",...i,children:Go((n==null?void 0:n.symbol)||"",10)}),u.jsx(F,{fontSize:"14px",fontWeight:"regular",children:Go((c==null?void 0:c.chain_name)||"",10)})]})]}):u.jsx(F,{color:"text_caption",fontSize:"14px",fontWeight:"600",children:"Select a token"}),u.jsx(Ae,{xlinkHref:"#icon-icon_arrow",fontSize:"12px",svgFill:l?"text_caption":"text_paragraph"})]})})}const nx=j.memo(tx);function sx({tag:n,wrapStyle:e}){return n&&u.jsx(W,{w:"100%",height:"100%",...e,children:u.jsx(F,{color:"primary",fontSize:"12px",children:n})})}function ix({toChain:n,toToken:e,toAmount:t,toAmountUsd:s,toolDetails:i,isOpen:r,handleOpen:o}){return u.jsxs(W,{w:"100%",justifyContent:"space-between",alignItems:"center",cursor:"pointer",onClick:()=>o(!r),children:[u.jsxs(W,{children:[u.jsx(Fs,{w:"32px",h:"32px",imageUrl:e.logo_url,borderRadius:"50%",tag_url:n.logo_url,placeholderTagImg:Br}),u.jsxs(q,{alignItems:"flex-start",children:[u.jsxs(W,{gap:"4px",children:[u.jsx(F,{color:"text_caption",fontSize:"16px",children:ze(qn(t,e.decimals))}),u.jsx(F,{color:"text_paragraph",fontSize:"16px",children:e.symbol})]}),u.jsxs(W,{gap:"4px",children:[u.jsx(F,{color:"text_paragraph",fontSize:"12px",children:qr(s,2)}),u.jsx(Fs,{ml:"4px",borderRadius:"50%",w:"12px",h:"12px",imageUrl:(i==null?void 0:i.logoURI)||'url("/images/chainflip@2x.png")'}),u.jsx(F,{color:"text_paragraph",fontSize:"12px",children:i==null?void 0:i.name})]})]})]}),u.jsx(Ae,{mt:r?"0px":"-4px",xlinkHref:r?"#icon-icon_ascending":"#icon-icon_descending",boxW:"18px",boxH:"12px",svgH:"16px"})]})}function rx({currentQuote:n}){const{quote:e,from_chain:t,to_chain:s}=n;if(!e.lifi_quote)return u.jsx(u.Fragment,{});const{steps:i}=e.lifi_quote;return u.jsxs(q,{alignItems:"flex-start",children:[i.map((r,o)=>{const{toolDetails:a}=r;return u.jsxs(q,{gap:"12px",mt:"8px",alignItems:"flex-start",children:[u.jsxs(W,{children:[u.jsx(Fs,{borderRadius:"50%",w:"32px",h:"32px",imageUrl:a.logoURI||"url('/images/chainflip@2x.png')",tag_url:"/images/lifi_logo.png"}),u.jsxs(F,{color:"text_caption",children:[a.name," via LI.FI"]})]}),u.jsx(q,{gap:"14px",alignItems:"flex-start",pl:"6px",children:r.includedSteps.map((c,l)=>{const{toolDetails:d,estimate:h,action:f}=c,{label:p}=ZA(c,t,s);return u.jsx(ox,{showLimit:l!==r.includedSteps.length-1,logo:d.logoURI||'url("/images/chainflip@2x.png")',title:p,desc:`${ze(qn(h.fromAmount,f.fromToken.decimals),f.fromToken.decimals)} ${f.fromToken.symbol} â†’ 
                    ${ze(qn(h.toAmount,f.toToken.decimals),f.toToken.decimals)} ${f.toToken.symbol}`},c.id)})})]},r.id)}),u.jsxs(W,{mt:"8px",alignItems:"flex-start",children:[u.jsx(Bt,{src:"/images/chain/signature.svg",w:"32px",h:"32px",borderRadius:"50%"}),u.jsxs(q,{alignItems:"flex-start",p:"8px 0 0",children:[u.jsx(F,{fontWeight:"400",color:"text_caption",children:i.length}),u.jsx(F,{fontSize:"12px",lineHeight:"15px",textAlign:"start",children:"Each exchange step can contain 1â€“2 transactions that require a signature"})]})]})]})}function ox({logo:n,title:e,desc:t,showLimit:s}){return u.jsxs(W,{gap:"14px",alignItems:"flex-start",children:[u.jsx(Ie,{position:"relative",sx:{"&::after":{content:'""',position:"absolute",top:"100%",left:"50%",transform:"translateX(-50%)",width:"2px",height:"26px",borderRadius:"12px",border:"1px solid",borderColor:s?"border":"transparent",pointerEvents:"none",boxSizing:"border-box"}},children:u.jsx(Fs,{borderRadius:"50%",imageUrl:n,w:"20px",h:"20px"})}),u.jsxs(q,{alignItems:"flex-start",pt:"4px",children:[u.jsx(F,{textAlign:"start",fontSize:"12px",children:e}),u.jsx(F,{textAlign:"start",fontSize:"12px",children:t})]})]})}function ax({currentQuote:n}){const{from_token:e,to_token:t,gas_cost_usd:s,amount_out:i,amount_in:r,amount_in_formatted:o,amount_out_formatted:a,execution_duration:c}=n,{quoteShowDuration:l}=gf(c),{priceImpactTextInfo:d,showIncalculable:h,sources:f,marketPrice:p}=Ul(n.platform,e,t,o,a);return u.jsxs(q,{w:"100%",children:[u.jsxs(W,{w:"100%",justifyContent:"space-between",children:[u.jsx(hi,{tooltip:u.jsx(F,{children:"Gas Fee"}),children:u.jsxs(W,{alignItems:"center",gap:"2px",children:[u.jsx(Ae,{xlinkHref:"#icon-icon_gas",boxW:"16px",boxH:"16px"}),u.jsx(F,{fontSize:"12px",children:qr(s,2)})]})}),u.jsx(W,{justifyContent:"flex-end",children:u.jsx(Cd,{noIcon:!0,fontSize:"12px",fromToken:e,toToken:t,fromValue:o,toValue:a,color:"text_caption"})})]}),u.jsxs(W,{w:"100%",justifyContent:"space-between",children:[u.jsx(hi,{tooltip:u.jsx(F,{children:"Est. Completion"}),children:u.jsxs(W,{alignItems:"center",gap:"2px",children:[u.jsx(Ae,{xlinkHref:"#icon-icon_time",boxW:"16px",boxH:"16px"}),u.jsx(F,{fontSize:"12px",children:l})]})}),u.jsxs(W,{justify:"flex-end",h:"20px",gap:"2px",children:[u.jsx(F,{maxW:"unset",flex:"1",mr:"2px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",color:d==null?void 0:d.textColor,fontWeight:"500",fontSize:"12px",children:d!=null&&d.priceImpactText&&!h?d==null?void 0:d.priceImpactText:"Incalculable"}),u.jsx(hi,{tooltip:u.jsx(Vg,{marketPrice:p,sources:f,fromToken:e,toToken:t,showIncalculable:h}),children:u.jsx(ld,{children:u.jsx(Ae,{xlinkHref:"#icon-icon_tips",svgW:"20px",svgH:"20px"})})})]})]})]})}function cx({isActive:n,currentQuote:e,isOpenSelectRouter:t}){var d,h;const[s,i]=j.useState(n),{tag:r}=pf(((d=e.quote.lifi_quote)==null?void 0:d.tags)||[]),{to_chain:o,to_token:a,amount_out:c,amount_out_usd:l}=e;return j.useEffect(()=>{t&&i(n)},[t]),u.jsxs(q,{width:"100%",bg:n?"primary_opacity.10":"bg_primary",position:"relative",alignItems:"flex-start",padding:"16px",borderRadius:"8px",border:"1px solid",borderColor:n?"primary":"border",gap:"14px",children:[u.jsx(sx,{tag:r,wrapStyle:{w:"unset",borderRadius:"8px 0px 8px 0px",bg:"primary_opacity.15",padding:"4px 8px",m:"-16px 0 0 -16px"}}),u.jsx(ix,{toChain:o,toToken:a,toAmount:c,toAmountUsd:l,isOpen:s,handleOpen:i,toolDetails:(h=e.quote.lifi_quote)==null?void 0:h.steps[0].toolDetails}),s&&u.jsx(rx,{currentQuote:e}),u.jsx(Ie,{w:"100%",borderBottom:"1px dashed",borderColor:"border"}),u.jsx(ax,{currentQuote:e})]})}function mf({isOpenSelectRouter:n}){var r;const{routers:e,quote:t,setQuote:s,findRouterLoading:i}=sn();return t?u.jsx(q,{w:"100%",mt:"12px",children:i?u.jsx(lx,{}):(r=e==null?void 0:e.quotes)==null?void 0:r.map((o,a)=>{var c,l,d,h,f,p;return u.jsx(Ie,{w:"100%",cursor:"pointer",onClick:()=>s(o),children:u.jsx(cx,{isOpenSelectRouter:n,isActive:((l=(c=o.quote)==null?void 0:c.lifi_quote)==null?void 0:l.id)===((h=(d=t.quote)==null?void 0:d.lifi_quote)==null?void 0:h.id),currentQuote:o})},((p=(f=o.quote)==null?void 0:f.lifi_quote)==null?void 0:p.id)||a)})}):u.jsx(u.Fragment,{})}function lx(){return u.jsx(q,{w:"100%",mt:"12px",gap:"16px",children:[1,2,3].map((n,e)=>u.jsxs(q,{width:"100%",bg:"bg_primary",position:"relative",alignItems:"flex-start",padding:"16px",borderRadius:"8px",border:"1px solid",borderColor:"border",gap:"12px",children:[u.jsx(Me,{height:"20px",width:"60px",borderRadius:"8px 0px 8px 0px",mb:"4px"}),u.jsxs(W,{w:"100%",justifyContent:"space-between",children:[u.jsxs(W,{children:[u.jsx(Me,{boxSize:"32px",borderRadius:"50%"}),u.jsx(Me,{height:"20px",width:"120px",ml:"8px"})]}),u.jsxs(q,{alignItems:"flex-end",children:[u.jsx(Me,{height:"20px",width:"60px"}),u.jsx(Me,{height:"16px",width:"50px"})]})]}),u.jsxs(q,{w:"100%",gap:"8px",children:[u.jsxs(W,{w:"100%",justifyContent:"space-between",children:[u.jsxs(W,{children:[u.jsx(Me,{boxSize:"16px",borderRadius:"50%"}),u.jsx(Me,{height:"16px",width:"40px"})]}),u.jsx(Me,{height:"16px",width:"120px"})]}),u.jsxs(W,{w:"100%",justifyContent:"space-between",children:[u.jsxs(W,{children:[u.jsx(Me,{boxSize:"16px",borderRadius:"50%"}),u.jsx(Me,{height:"16px",width:"40px"})]}),u.jsx(Me,{height:"16px",width:"16px",borderRadius:"50%"})]})]})]},e))})}function ux(n){const{onClose:e,isOpenSelectRouter:t}=n,{isApp:s}=tn();return u.jsxs(q,{w:s?"100%":"460px",bg:"bg_secondary",borderRadius:"16px",border:"1px solid",borderColor:"border",padding:"16px",mt:s?"0px":"96px",children:[u.jsxs(W,{w:"100%",justifyContent:"space-between",children:[u.jsx(F,{fontSize:"16px",color:"text_caption",fontWeight:"500",children:"Select Router"}),u.jsx(Ae,{xlinkHref:"#icon-icon_close",onClick:e})]}),u.jsx(mf,{isOpenSelectRouter:t})]})}function dx(n){const{onClose:e,isOpenSelectRouter:t}=n;return u.jsxs(Gs,{autoFocus:!1,returnFocusOnClose:!1,trapFocus:!1,isOpen:t,onClose:e,isCentered:!0,children:[u.jsx(Hs,{}),u.jsxs(Ys,{minW:"100%",minH:"130px",maxH:"calc(100vh - 64px)",children:[u.jsx(Vs,{children:u.jsx(ts,{fontWeight:"500",fontSize:"16px",children:"Select Router"})}),u.jsx(Zs,{}),u.jsx(Ks,{textAlign:"center",pb:"16px",pt:"0px",minH:"130px",overflowY:"auto",children:u.jsx(mf,{isOpenSelectRouter:t})})]})]})}function hx(n,e,t,s,i,r,o,a,c){const{fromCoinAmount:l}=sn(),d=Ff(),h=j.useMemo(()=>{var p;const f={btnText:"Swap",btnDisabled:!0,action:"swap"};return r?o?(console.log("ðŸš€ðŸš€ðŸš€ ~ btnStatus ~ fromCoinAmount:",l),+l?!a||!+a||ge(l).gt(a)?(f.btnText=`Insufficient ${i==null?void 0:i.symbol} Balance`,f.btnDisabled=!0,f):c===void 0?(f.btnDisabled=!0,f):c.error||((p=c.quotes)==null?void 0:p.length)===0?(f.btnText="No Available Route",f.btnDisabled=!0,f):(s==null?void 0:s.type)===B.EVM&&d!==(s==null?void 0:s.id)?(f.btnText="Switch Network",f.action="connect_from",f.btnDisabled=!1,f):t&&!e?(f.btnDisabled=!0,f):(f.btnDisabled=!1,f):(f.btnDisabled=!0,f)):(f.btnText="Connect Destination Wallet",f.action="connect_to",f.btnDisabled=!1,f):(f.btnText="Connect Source Wallet",f.action="connect_from",f.btnDisabled=!1,f)},[e,t,r,o,d,l,a,i,n,c]);return{btnText:h.btnText,btnDisabled:h.btnDisabled,action:h.action}}const fx=n=>{const e=Lt("crossSwap"),{crossSwapSlippage:t}=Nd();return{findRouter:async(i,r,o,a,c,l,d)=>{const h={amount:i,from_token:o.address,to_token:c.address,from_chain_id:r.id,to_chain_id:a.id,slippage:Number(t)};n===ne.LI_FI&&(h.lifi_configs={from_address:l,to_address:d});const f=await e.estimateQuote(n,h);return console.log("ðŸš€ðŸš€ðŸš€ ~ findRouter ~ res:",f),f}}},px={staleTime:5*60*1e3,refetchInterval:60*1e3,retry:3,retryDelay:n=>Math.min(1e3*2**n,3e4)};function Mf(n,e,t=!0,s=!1){const i=Gf(),r={...px},o=Lt("crossSwap"),a=j.useCallback(p=>p.type===B.MVM?["cross-price",bd(p.address,!1),p.chain_id,p.coingecko_id]:["cross-price",p.address,p.chain_id,p.coingecko_id],[]),c=j.useCallback(p=>{if(!p)return null;const m=a(p);return i.getQueryData(m)||null},[i,a]),l=Hf({queries:e.map(p=>({queryKey:a(p),queryFn:async m=>{const[,g,x,y]=m.queryKey;if(g===void 0||x===void 0||y===void 0)throw new Error("Missing required parameters: address or chain_id");const A=performance.now();try{let M=null;if(n===ne.MAYAN){const I=c(p);if(I!==null&&s)return I;const N=await _g(`${Ml.PRICE_URL}/price?id=${y}`);N&&typeof N.price=="number"&&N.price>0&&(M=N.price)}else{if(s)return Number(p.price_usd||0);const I=await o.getCrossSwapToken(n,x,g,!0);I&&(M=Number(I.price_usd))}if(M){const I=performance.now()-A;return console.debug(`Price fetched for ${g}: ${M} (${I.toFixed(2)}ms)`),M}else throw new Error(`Invalid price data received for ${g}`)}catch(M){const I=performance.now()-A;throw console.error(`Failed to fetch price for ${g} (${I.toFixed(2)}ms):`,M),M}},select:m=>({price:m,loading:!1,error:null,lastUpdated:null}),enabled:t&&!!o,staleTime:r.staleTime,refetchInterval:r.refetchInterval,retryDelay:r.retryDelay,retry:(m,g)=>{var x,y,A;return(x=g==null?void 0:g.message)!=null&&x.includes("network")||(y=g==null?void 0:g.message)!=null&&y.includes("timeout")?m<r.retry:(A=g==null?void 0:g.message)!=null&&A.includes("Invalid price data")?!1:m<r.retry}}))}),d=j.useMemo(()=>{const p={};let m=!1,g=!1;return l.forEach((x,y)=>{const A=e[y];if(!A)return;const M=!!x.error,I=x.isLoading;M&&(m=!0),I&&(g=!0);const N=eu(A);x.data?p[N]=x.data:p[N]={price:null,loading:I,error:M?x.error.message:null,lastUpdated:null}}),{prices:p,loading:g,hasError:m}},[l]),h=j.useCallback(p=>{var x;if(!p)return null;const m=c(p);if(m!==null)return m;const g=eu(p);return((x=d.prices[g])==null?void 0:x.price)||null},[d.prices,e,c]),f=j.useCallback(async p=>{if(p){const m=e==null?void 0:e.findIndex(g=>g.address===p.address&&g.chain_id===p.chain_id);m!==void 0&&m>=0&&await l[m].refetch()}else await Promise.all(l.map(m=>m.refetch()))},[l,e]);return{prices:d.prices,loading:d.loading,hasError:d.hasError,refetch:f,getPrice:h,getCachedPrice:c}}function $u(n,e,t=!0,s=!1){const i=j.useMemo(()=>e?[e]:[],[e==null?void 0:e.address,e==null?void 0:e.chain_id,e==null?void 0:e.symbol]),{refetch:r,getPrice:o,getCachedPrice:a}=Mf(n||ne.MAYAN,i,t,s);return{price:j.useMemo(()=>{if(!e)return null;const l=a(e);return l!==null?l:o(e)},[e==null?void 0:e.address,e==null?void 0:e.chain_id,n,t,s,a,o]),refetch:()=>e?r(e):Promise.resolve(),getCachedPrice:()=>a(e)}}function Bl(){const n=Lt("crossSwap"),{setChainTokenObj:e,chainTokenObj:t}=sn(),{getTokenInfo:s}=zg(),i=async(c,l)=>{const d={},h=[];for(const f of l){const p=`${c}_${f}`;let m=t[p];(!m||m.length===0)&&(await kg(200),m=await pi.getAllTokenList(c,f)||[],console.log("ðŸš€ðŸš€ðŸš€ ~ fetchChainTokenList ~ chainId:",f,m)),m&&m.length>0?(d[p]=m,e(d)):h.push(f)}if(h.length===0)return d;if(h.length>0)try{const f=await n.getSupportedTokens(c,h);for(const p of h){const m=f[p],g=`${c}_${p}`;if(m){for(const x of m)if(p===_e.SUI_LI_FI||p===_e.SUI_MAYAN){const y=await s(x.address);Xu(x,y||void 0)}d[g]=m}}console.log("ðŸš€ðŸš€ðŸš€ ~ fetchChainTokenList ~ cachedTokens:",{cachedTokenMap:d,chainIds:l}),e(d);for(const p of h){const m=f[p];m&&m.length>0&&await pi.setTokenList(c,p,m)}}catch(f){console.error("Failed to fetch chain tokens:",f)}return d},r=async(c,l,d)=>{try{const h=await n.getCrossSwapToken(c,l,d);if(h&&(l===_e.SUI_LI_FI||l===_e.SUI_MAYAN)){const f=await s(h.address);Xu(h,f||void 0)}return h}catch(h){console.error("Failed to fetch chain tokens:",h)}},o=j.useCallback(async(c,l,d)=>await pi.getTokenByAddress(c,l,d),[]);return{fetchChainTokenList:i,getCrossTokenFromCache:o,getCrossToken:async(c,l,d)=>{const h=await o(c,l,d);if(h)return h;if(c===ne.MAYAN){const p=await i(c,[l]),m=`${c}_${l}`,g=p[m];return g==null?void 0:g.find(y=>y.address===d)}return await r(c,l,d)}}}function gx(n){const e=Lt("crossSwap"),t=ud(),s=Lf(),i=Og(),r=i.fromChain,o=i.toChain,a=i.fromToken,c=i.toToken,{getCrossToken:l}=Bl(),{setCrossSwapOptions:d}=sn(),{chainList:h}=wf(n),{fromChain:f,toChain:p,fromToken:m,toToken:g}=Pl(n),x=(y,A,M,I,N)=>{if(N){let E;I?A.id===I.chain_id&&Nr(N,I.address,(I==null?void 0:I.type)===B.MVM)?E={...I}:M.chain_id===A.id&&Nr(M.address,N,M.type===B.MVM)&&(E={...M}):M.chain_id===A.id&&Nr(M.address,N,M.type===B.MVM)&&(E={...M}),E?y?d(n,{fromChain:{...A},fromToken:E}):d(n,{toChain:{...A},toToken:E}):l(n,A.id,a).then(C=>{y?d(n,{fromChain:{...A},fromToken:C}):d(n,{toChain:{...A},toToken:C})})}else y?d(n,{fromChain:{...A},fromToken:void 0}):d(n,{toChain:{...A},toToken:void 0})};j.useEffect(()=>{if(e===null||!h||h.length===0||!r||!o)return;const y=QA(n),A=y.fromToken,M=y.toToken,I=y.toChain;let N=h==null?void 0:h.find(C=>C.id.toString()===r),E=h==null?void 0:h.find(C=>C.id.toString()===o);if(N&&x(!0,N,A,m,a),E&&x(!1,E,M,g,c),N&&E){const C=ra(N),S=ra(E);!C&&!S&&d(n,{toChain:{...I},toToken:{...M}})}},[r,o,a,c]),j.useEffect(()=>{const y=new URLSearchParams(t.search),A=new URLSearchParams;y.forEach((C,S)=>{["fromChain","toChain","fromToken","toToken"].includes(S)||A.set(S,C)}),f&&A.set("fromChain",f.id.toString()),p&&A.set("toChain",p.id.toString()),m&&A.set("fromToken",m.address),g&&A.set("toToken",g.address);const M=A.toString(),I=`${t.pathname}${M?`?${M}`:""}`,N=new URLSearchParams(t.search),E=N.get("fromChain")!==((f==null?void 0:f.id.toString())||null)||N.get("toChain")!==((p==null?void 0:p.id.toString())||null)||N.get("fromToken")!==((m==null?void 0:m.address)||null)||N.get("toToken")!==((g==null?void 0:g.address)||null);console.log("ðŸš€ ~ useEffect ~ hasChanged:",E,I),E&&s(I)},[f==null?void 0:f.id,p==null?void 0:p.id,m==null?void 0:m.address,g==null?void 0:g.address])}const ed=3e4,td=(n,e,t,s)=>{const i=Lt("crossSwap"),{setTokenBalances:r,getTokenBalance:o,clearTokenBalances:a,balanceCache:c}=Tt(),l=j.useMemo(()=>["token-balance",s,t==null?void 0:t.chain_id,t==null?void 0:t.address],[t==null?void 0:t.address,e==null?void 0:e.id,s]),{data:d,isLoading:h,refetch:f}=ml({queryKey:l,queryFn:async({queryKey:[,m,g,x]})=>{if(g===void 0||!m||x===void 0)throw new Error("Missing required parameters: tokenChainId or accountAddress");const y=await i.getOwnerTokenBalances(n,m,[t]);y.length>0?r(y,m):a(x,m,g);const A=y.find(M=>M.chain_id===(t==null?void 0:t.chain_id)&&M.address===(t==null?void 0:t.address));return console.log("useTokenBalance tokensWithBalance  :",{tokensWithBalance:y,tokenChainId:g,accountAddress:m,tokenAddress:x,tokenBalance:A}),A||null},enabled:!!(s&&t&&i!==null),refetchInterval:ed,staleTime:ed}),p=j.useMemo(()=>{if(!(!t||!s))return o(t,s)},[t==null?void 0:t.address,t==null?void 0:t.chain_id,s,c]);return{isLoading:h,refetch:f,tokenBalance:p}},yf={setVisible(n){console.error(Af("call","setVisible"))},visible:!1};Object.defineProperty(yf,"visible",{get(){return console.error(Af("read","visible")),!1}});function Af(n,e){return`You have tried to  ${n} "${e}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const xf=j.createContext(yf);function bf(){return j.useContext(xf)}const wx=n=>R.createElement("button",{className:`wallet-adapter-button ${n.className||""}`,disabled:n.disabled,style:n.style,onClick:n.onClick,tabIndex:n.tabIndex||0,type:"button"},n.startIcon&&R.createElement("i",{className:"wallet-adapter-button-start-icon"},n.startIcon),n.children,n.endIcon&&R.createElement("i",{className:"wallet-adapter-button-end-icon"},n.endIcon)),mx=({wallet:n,...e})=>n&&R.createElement("img",{src:n.adapter.icon,alt:`${n.adapter.name} icon`,...e}),nd=({id:n,children:e,expanded:t=!1})=>{const s=j.useRef(null),i=j.useRef(!0),r="height 250ms ease-out",o=()=>{const c=s.current;c&&requestAnimationFrame(()=>{c.style.height=c.scrollHeight+"px"})},a=()=>{const c=s.current;c&&requestAnimationFrame(()=>{c.style.height=c.offsetHeight+"px",c.style.overflow="hidden",requestAnimationFrame(()=>{c.style.height="0"})})};return j.useLayoutEffect(()=>{t?o():a()},[t]),j.useLayoutEffect(()=>{const c=s.current;if(!c)return;function l(){c&&(c.style.overflow=t?"initial":"hidden",t&&(c.style.height="auto"))}function d(h){c&&h.target===c&&h.propertyName==="height"&&l()}return i.current&&(l(),i.current=!1),c.addEventListener("transitionend",d),()=>c.removeEventListener("transitionend",d)},[t]),R.createElement("div",{className:"wallet-adapter-collapse",id:n,ref:s,role:"region",style:{height:0,transition:i.current?void 0:r}},e)},Xa=({handleClick:n,tabIndex:e,wallet:t})=>R.createElement("li",null,R.createElement(wx,{onClick:n,startIcon:R.createElement(mx,{wallet:t}),tabIndex:e},t.adapter.name,t.readyState===Y.Installed&&R.createElement("span",null,"Detected"))),Mx=()=>R.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},R.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),R.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),R.createElement("g",{clipPath:"url(#clip0_880_5115)"},R.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),R.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),R.createElement("defs",null,R.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},R.createElement("stop",{stopColor:"#9945FF"}),R.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),R.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),R.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),R.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),R.createElement("stop",{offset:"1",stopColor:"#00D18C"})),R.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},R.createElement("stop",{stopColor:"#9945FF"}),R.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),R.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),R.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),R.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),R.createElement("stop",{offset:"1",stopColor:"#00D18C"})),R.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},R.createElement("stop",{stopColor:"#9945FF"}),R.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),R.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),R.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),R.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),R.createElement("stop",{offset:"1",stopColor:"#00D18C"})),R.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},R.createElement("stop",{stopColor:"#9945FF"}),R.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),R.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),R.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),R.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),R.createElement("stop",{offset:"1",stopColor:"#00D18C"})),R.createElement("clipPath",{id:"clip0_880_5115"},R.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),yx=({className:n="",container:e="body"})=>{const t=j.useRef(null),{wallets:s,select:i}=Dl(),{setVisible:r}=bf(),[o,a]=j.useState(!1),[c,l]=j.useState(!1),[d,h]=j.useState(null),[f,p]=j.useMemo(()=>{const M=[],I=[];for(const N of s)N.readyState===Y.Installed?M.push(N):I.push(N);return M.length?[M,I]:[I,[]]},[s]),m=j.useCallback(()=>{l(!1),setTimeout(()=>r(!1),150)},[r]),g=j.useCallback(M=>{M.preventDefault(),m()},[m]),x=j.useCallback((M,I)=>{i(I),g(M)},[i,g]),y=j.useCallback(()=>a(!o),[o]),A=j.useCallback(M=>{const I=t.current;if(!I)return;const N=I.querySelectorAll("button"),E=N[0],C=N[N.length-1];M.shiftKey?document.activeElement===E&&(C.focus(),M.preventDefault()):document.activeElement===C&&(E.focus(),M.preventDefault())},[t]);return j.useLayoutEffect(()=>{const M=N=>{N.key==="Escape"?m():N.key==="Tab"&&A(N)},{overflow:I}=window.getComputedStyle(document.body);return setTimeout(()=>l(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",M,!1),()=>{document.body.style.overflow=I,window.removeEventListener("keydown",M,!1)}},[m,A]),j.useLayoutEffect(()=>h(document.querySelector(e)),[e]),d&&Df.createPortal(R.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${c&&"wallet-adapter-modal-fade-in"} ${n}`,ref:t,role:"dialog"},R.createElement("div",{className:"wallet-adapter-modal-container"},R.createElement("div",{className:"wallet-adapter-modal-wrapper"},R.createElement("button",{onClick:g,className:"wallet-adapter-modal-button-close"},R.createElement("svg",{width:"14",height:"14"},R.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),f.length?R.createElement(R.Fragment,null,R.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),R.createElement("ul",{className:"wallet-adapter-modal-list"},f.map(M=>R.createElement(Xa,{key:M.adapter.name,handleClick:I=>x(I,M.adapter.name),wallet:M})),p.length?R.createElement(nd,{expanded:o,id:"wallet-adapter-modal-collapse"},p.map(M=>R.createElement(Xa,{key:M.adapter.name,handleClick:I=>x(I,M.adapter.name),tabIndex:o?0:-1,wallet:M}))):null),p.length?R.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:y,tabIndex:0},R.createElement("span",null,o?"Less ":"More ","options"),R.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${o?"wallet-adapter-modal-list-more-icon-rotate":""}`},R.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):R.createElement(R.Fragment,null,R.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),R.createElement("div",{className:"wallet-adapter-modal-middle"},R.createElement(Mx,null)),p.length?R.createElement(R.Fragment,null,R.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:y,tabIndex:0},R.createElement("span",null,o?"Hide ":"Already have a wallet? View ","options"),R.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${o?"wallet-adapter-modal-list-more-icon-rotate":""}`},R.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),R.createElement(nd,{expanded:o,id:"wallet-adapter-modal-collapse"},R.createElement("ul",{className:"wallet-adapter-modal-list"},p.map(M=>R.createElement(Xa,{key:M.adapter.name,handleClick:I=>x(I,M.adapter.name),tabIndex:o?0:-1,wallet:M}))))):null))),R.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:g})),d)},Ax=({children:n,...e})=>{const[t,s]=j.useState(!1);return R.createElement(xf.Provider,{value:{visible:t,setVisible:s}},n,t&&R.createElement(yx,{...e}))};function sd(n,e){var U;const t=Lt("crossSwap"),{openConnectModal:s}=Yf(),{disconnect:i}=Vf(),{data:r}=Zf(),{address:o}=gd(),{switchChainAsync:a}=Kf(),{showCommonToast:c}=yl(),{isApp:l}=tn(),{setVisible:d}=bf(),{disconnect:h,wallet:f,signTransaction:p,connected:m,connecting:g,wallets:x}=Dl(),{currentAccount:y,onWalletModal:A}=vg(),{mutate:M}=Rg(),{setIsOpenBtcWalletModal:I}=Tt(),{address:N,connector:E}=wd(),{setFromAddressObj:C,setToAddressObj:S,setSwitchChainLoading:T}=Tt(),{currentWallet:D}=Ed();return j.useEffect(()=>{var L;if(!e||e.type!==B.SVM||!t)return;const Q=(L=f==null?void 0:f.adapter.publicKey)==null?void 0:L.toString();if(C(B.SVM,{chain_address:Q}),S(B.SVM,{chain_address:Q}),n===ne.MAYAN){if(p){const{signer:_,connection:v}=GA(e,p);t.setCrossSwapConfigs(ne.MAYAN,{solana:{signer:_,connection:v}})}}else n===ne.LI_FI&&f&&t.setCrossSwapConfigs(ne.LI_FI,{solana:{wallet:f.adapter}})},[e==null?void 0:e.id,m,g,f,x,t,n]),j.useEffect(()=>{!e||e.type!==B.EVM||!t||(C(B.EVM,{chain_address:o}),S(B.EVM,{chain_address:o}),console.log("init wallet  evm walletClient:",o,r),r&&(n===ne.MAYAN?FA(r,o).then(Q=>{t.setCrossSwapConfigs(ne.MAYAN,{evm:{evm_signer:Q}})}):n===ne.LI_FI&&t.setCrossSwapConfigs(ne.LI_FI,{evm:{wallet:r}})))},[e==null?void 0:e.id,o,(U=r==null?void 0:r.chain)==null?void 0:U.id,t,n]),j.useEffect(()=>{!e||e.type!==B.MVM||!t||(console.log("init wallet mvm walletClient:",{mvmAccount:y,suiWallet:D}),C(B.MVM,{chain_address:y==null?void 0:y.address}),S(B.MVM,{chain_address:y==null?void 0:y.address}),n===ne.LI_FI&&D&&t.setCrossSwapConfigs(ne.LI_FI,{sui:{wallet:D}}))},[e==null?void 0:e.id,y,t,n,D]),j.useEffect(()=>{!e||e.type!==B.UTXO||(C(B.UTXO,{chain_address:N}),S(B.UTXO,{chain_address:N}))},[e==null?void 0:e.id,N]),{handleConnectWallet:async()=>{if(e)switch(e.type){case B.EVM:console.log("handleConnectWallet evmWalletClient:",{evmWalletClient:r,evmAddress:o,chainId:r==null?void 0:r.chain.id,chainId2:e.id}),r&&(r==null?void 0:r.chain.id)!==e.id?(console.log("ðŸš€ðŸš€ðŸš€ ~ handleConnectWallet ~ switchChainAsync:",{chainId:e.id}),T(!0),a({chainId:e.id,addEthereumChainParameter:{chainName:e.chain_name,nativeCurrency:{name:e.native_token.name,symbol:e.native_token.symbol,decimals:e.native_token.decimals},rpcUrls:e.rpc_urls}}).then(Q=>{console.log("ðŸš€ðŸš€ðŸš€ ~ handleConnectWallet ~ e:",Q),c("Network switched successfully","success")}).catch(Q=>{console.log("ðŸš€ðŸš€ðŸš€ ~ handleConnectWallet ~ error:",Q),c("Network switched failed","rejected")}).finally(()=>{T(!1)})):s==null||s();break;case B.SVM:d(!0);break;case B.MVM:A(!0);break;case B.UTXO:I(!0);break}},handleDisconnectWallet:async()=>{var Q,L,_;if(e)switch(e.type){case B.EVM:if(i(),C(B.EVM,{chain_address:void 0}),S(B.EVM,{chain_address:void 0}),l)return;Object.keys(localStorage).forEach(v=>{v.startsWith("wagmi.")&&localStorage.removeItem(v)});try{if((L=(Q=window.okxwallet)==null?void 0:Q.bitcoin)!=null&&L.disconnect&&await window.okxwallet.bitcoin.disconnect(),(_=window.ethereum)!=null&&_.request)try{await window.ethereum.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]})}catch(v){console.log("Failed to revoke permissions:",v)}}catch(v){console.log("Failed to disconnect wallet plugin:",v)}break;case B.SVM:await h();break;case B.MVM:M();break;case B.UTXO:E==null||E.disconnect(),C(B.UTXO,{chain_address:void 0}),S(B.UTXO,{chain_address:void 0});break}}}}const xx=async n=>{try{const e=await fetch(`${Ml.EXPLORER_URL}/swap/trx/${n}`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(e){return console.error("Failed to query Mayan transaction status:",e),null}},bx=async(n,e,t,s,i=60,r=10*1e3)=>{let o=0;const a=async()=>{if(o>=i){s(new Error("Transaction status polling timeout"));return}o++;try{const c=await xx(n);if(!c){setTimeout(a,r);return}if(e(c),c.clientStatus==="COMPLETED"){t(c);return}if(c.clientStatus==="FAILED"){s(new Error("Transaction failed"));return}setTimeout(a,r)}catch(c){console.error("Error polling transaction status:",c),setTimeout(a,r)}};a()};function Ix(n){const e=Lt("crossSwap"),{signAndExecuteTransactionBlock:t}=Jg(),{transactionConfirmation:s,transactionSubmitted:i,transactionSuccess:r,transactionRejected:o,closeTransactionModal:a}=qg(),{submittedTsToast:c,failedTsToast:l,successTsToast:d,closeToast:h}=yl(),{setApproveData:f}=sn(),p=async(A,M)=>{const{from_token:I,to_token:N,amount_in_formatted:E,amount_out_formatted:C}=A.quote,S=Date.now();console.log("ðŸš€ðŸš€ðŸš€ ~ executeQuote ~ amount_out_formatted:",A);const T=y(I,N,E,C,A.quote,S),D=`Swapping ${ze(E,I.decimals)} ${I==null?void 0:I.symbol} for ${ze(C,N.decimals)} ${N==null?void 0:N.symbol}`;try{if(s(T),n===ne.LI_FI){const O={DONE:!1,PARTIAL:!1,REFUNDED:!1,FAILED:!1,PENDING:!1,ACTION_REQUIRED:!1},G=await e.executeSwapQuoteFromLiFi(A,{updateRouteHook(U){x(U,I,D,O,T,M,f)}});String(G).includes("Error")&&(m(T,new Error(G)),M("failed"))}else if(n===ne.MAYAN){const O=await e.buildCrossSwapResult(A,{updatePermitState:(Q,L)=>{console.log("ðŸš€ ~ updatePermitState ~ state:",L),L==="start"&&(a(),f({approveSymbol:I.symbol,swapText:D,step:1})),L==="success"&&f({approveSymbol:I.symbol,swapText:D,step:2})}}),{from_chain:G}=A.quote;let U;if(G.type===B.MVM){const Q=await t(O.sui);U=Q==null?void 0:Q.digest}if(G.type===B.EVM){const Q=O.evm;U=Q==null?void 0:Q.hash}if(G.type===B.SVM){const Q=O.solana,{connection:L}=e.getCrossSwapConfigs(ne.MAYAN).solana,{blockhash:_,lastValidBlockHeight:v}=await L.getLatestBlockhash(),X=await L.confirmTransaction({signature:Q.signature,blockhash:_,lastValidBlockHeight:v},"confirmed");console.log("ðŸš€ ~ executeQuote ~ confirmRes:",X),U=Q.signature}U?(T.link=U?dl(U,n):void 0,g(U,T,M)):m(T,new Error("Transaction failed")),f(void 0)}}catch(O){console.log("ðŸš€ ~ executeQuote ~ error:",O),m(T,O)}},m=(A,M)=>{const I=i0(M);if(console.error("ðŸš€ ~ file: useTransaction.tsx:270 ~ handleError ~ error:",{error:M,errorString:I}),A.getShowInfo){const N=A.getShowInfo("rejected");A.getShowInfo=E=>(N.toastDescriptionContent=I,N.modalDescriptionText=I,N),o(A),A.isSwapWidget||l(A)}else A.getShowInfo=N=>{const E={};return E.toastDescriptionContent=I,E.modalDescriptionText=I,E},o(A),A.isSwapWidget||l(A);return I},g=(A,M,I)=>{i(M),c(M),I("pending"),bx(A,N=>{console.log("Mayan transaction status update:",N)},N=>{console.log("Mayan transaction completed:",N),r(M),d(M),I("success")},N=>{console.error("Mayan transaction failed:",N),m(M,N),I("failed")})},x=(A,M,I,N,E,C,S)=>{const T=KA(A),D=qA(A);if(console.log("ðŸš€ ~ printLiFiTransactionLinks ~ process:",{routeStatus:T,sourceTxHash:D,statusMap:N,route:A}),!N[T]){if(T==="ACTION_REQUIRED"){const O=JA(A);console.log("ðŸš€ ~ printLiFiTransactionLinks ~ tokenAllowanceStatus :",{tokenAllowanceStatus:O}),O==="ACTION_REQUIRED"&&(a(),S({approveSymbol:M.symbol,swapText:I,step:1})),O==="DONE"&&(N[T]=!0,S({approveSymbol:M.symbol,swapText:I,step:2}));return}if(T==="FAILED"){N[T]=!0,S(void 0);return}if(T==="DONE"){N[T]=!0,r(E),d(E),C("success");return}if(T==="PENDING"&&D){S(void 0),C("pending"),N[T]=!0,console.log("ðŸš€ ~ printLiFiTransactionLinks ~ sourceTxHash:",D),E.link=D?dl(D,n):void 0,i(E),c(E);return}if(T==="PARTIAL"){N[T]=!0;return}}},y=(A,M,I,N,E,C)=>({actionType:"swap",getShowInfo:S=>{console.log("ðŸš€ ~ printLiFiTransactionLinks ~ getShowInfo:",S);const T=`Swapping ${ze(I,A.decimals)} ${A==null?void 0:A.symbol} for ${ze(N,M.decimals)} ${M==null?void 0:M.symbol}`,D={modalDescriptionText:T,toastTitleText:T,showSubmittedToast:!0};if(S==="submitted"){D.iconUrl="/images/chain/cross_pending_icon@2x.png",D.toastTitleText="Processing Transaction",D.modalTitleText="Processing Transaction",D.modalSubDescriptionText="Track your transaction progress on the explorer.";const O=ul(E.execution_duration);D.toastDescriptionContent=()=>u.jsx(nu,{text:`Estimated to complete in ${O}. You may track the progress on the explorer.`,keywords:[O],onKeywordClick:()=>{}})}if(S==="rejected"&&(D.toastTitleText=T.replace("Swapping","Swap"),D.toastDescriptionContent=void 0),S==="success"){D.iconUrl=void 0,D.toastTitleText=T.replace("Swapping","Swapped");const O=Date.now()-C,G=ul(O/1e3);D.toastTitleText="Transaction completed",D.toastDescriptionContent=()=>u.jsx(nu,{text:`Transaction completed in ${G}. You may track the progress on the explorer.`,keywords:[G],onKeywordClick:()=>{}})}return D}});return{executeQuote:p}}function Nx(n){const{findRouter:e}=fx(n),[t,s]=j.useState(!1),[i,r]=j.useState(!1),[o,a]=j.useState(!1),[c,l]=j.useState(!1),[d,h]=j.useState(!1),{crossSwapSlippage:f}=Nd(),{setCrossWalletModalData:p,setSettingToAddressModalData:m}=Tt(),{executeQuote:g}=Ix(n),{findRouterLoading:x,setFindRouterLoading:y,crossSwapOptions:A,setCrossSwapOptions:M,fromCoinAmount:I,setFromCoinAmount:N,setRouters:E,setQuote:C}=sn(),{fromChain:S,toChain:T,fromToken:D,toToken:O}=Pl(n),{handleConnectWallet:G,handleDisconnectWallet:U}=sd(n,S),{handleConnectWallet:Q,handleDisconnectWallet:L}=sd(n,T),_=ll(S,!0),v=ll(T,!1),{tokenBalance:X,refetch:$}=td(n,S,D,_.address),{tokenBalance:ue,refetch:ke}=td(n,T,O,v.address),[Oe,lt]=j.useState(""),nt=uc(Oe),wt=uc(I),{price:Be,refetch:Xe}=$u(n,D,!0,!1),{price:$e,refetch:Fe}=$u(n,O,!0,!1);j.useEffect(()=>{D&&Be&&(D.price_usd=Be==null?void 0:Be.toString())},[D,Be]),j.useEffect(()=>{O&&$e&&(O.price_usd=$e==null?void 0:$e.toString())},[O,$e]),gx(n),j.useEffect(()=>(Ee(),()=>{Ee()}),[n]),j.useEffect(()=>{$s()},[f]);const In=Al(async(xe,Ge)=>{if(+xe&&S&&D&&T&&O){if(!wt.current){Ee();return}y(!0);try{const Nn=await e(Pg(xe,D.decimals),S,D,T,O,_.address,v.address);if(console.log("ðŸš€ðŸš€ðŸš€ ~ index.tsx:109 ~ result:",{result:Nn,uuidRef:nt.current,uuid:Ge}),nt.current===Ge)if(E(Nn),!Nn.error&&xe===wt.current){const ei=Nn.quotes[0];n==="mayan"&&(ei.from_token.price_usd=Be==null?void 0:Be.toString(),ei.to_token.price_usd=$e==null?void 0:$e.toString(),ei.amount_in_usd=ge(ei.amount_in_formatted).mul(Be||0).toString()),C(ei)}else C(void 0)}catch(Nn){console.log("estimateQuote error",Nn)}finally{y(!1)}}else Ee(!1)},500),rn=xe=>{if(console.log("ðŸš€ðŸš€ðŸš€ ~ index.tsx:140 ~ handleInputAmountChange ~ amount:",xe),+xe){N(xe);const Ge=Xg();lt(Ge),In(xe,Ge)}else Ee()},Ee=(xe=!0)=>{xe&&N(""),C(void 0),E(void 0),y(!1)},on=(xe,Ge)=>{xe?Ge==="disconnect"?U():G():Ge==="disconnect"?L():Q()},io=async xe=>{xe&&_.address&&v.address&&await g({swap_wallet_address:_.address,destination_address:v.address,quote:xe},Ge=>{console.log("ðŸš€ðŸš€ðŸš€ ~ index.tsx:195 ~ handleExecuteQuote ~ status:",Ge),Ge==="pending"&&(Ee(),setTimeout(()=>{$()},2e3)),Ge==="success"&&setTimeout(()=>{$(),ke()},2e3),Ge==="failed"&&$s()})},$s=()=>{rn(wt.current),_&&$(),v&&ke(),Xe(),Fe()};return{isSelectFromToken:d,setIsSelectFromToken:h,fromChainAddress:_,toChainAddress:v,isOpenSelectChainModal:t,setIsOpenSelectChainModal:s,fromTokenBalance:X,toTokenBalance:ue,handleInputAmountChange:rn,findRouterLoading:x,isOpenConfirmModal:i,setIsOpenConfirmModal:r,isOpenHistoryModal:o,setIsOpenHistoryModal:a,isOpenSelectChainAndTokenModal:c,setIsOpenSelectChainAndTokenModal:l,handleWalletAction:on,handleExecuteQuote:io,resetData:Ee,handleChangeChainAndToken:()=>{const xe=S,Ge=T,Nn=D;Ge&&M(n,{fromChain:Ge,fromToken:O}),xe&&M(n,{toChain:xe,toToken:Nn}),Ee()},refetchQuote:$s,handleConnectWalletClick:xe=>{console.log("ðŸš€ðŸš€ðŸš€ ~ index.tsx:275 ~ handleConnectWalletClick ~ isFrom:",xe),xe?S?_.address?p({address:_.address,isManualAddress:_.isManualAddress,chain:S,isFrom:!0}):on(!0,"connect"):(h(!0),l(!0)):T?v.address?p({address:v.address,isManualAddress:v.isManualAddress,chain:T,isFrom:!1}):m({chain:T}):(h(!1),l(!0))}}}function Ex(n){const{wallet:e}=Dl(),{currentWallet:t}=Ed(),{connector:s}=wd(),{connector:i}=gd();return j.useMemo(()=>{switch(n){case B.EVM:return(i==null?void 0:i.name)==="MetaMask"?"/images/wallet/metamask.png":(i==null?void 0:i.icon)||null;case B.SVM:return(e==null?void 0:e.adapter.icon)||null;case B.MVM:return(t==null?void 0:t.icon)||null;case B.UTXO:return(s==null?void 0:s.icon)||null;default:return null}},[n,i,e,t,s])}function jx(n){const e=Ex(n.type);return j.useMemo(()=>e||(n==null?void 0:n.logo_url)||null,[e,n==null?void 0:n.logo_url])}function Sx({isOpen:n,onClose:e,data:t,handleDisconnectWallet:s,handleChangeWallet:i}){const{address:r,chain:o,isFrom:a,isManualAddress:c}=t,{setToAddressObj:l}=Tt(),d=jx(o);return u.jsxs(Gs,{isOpen:n,onClose:e,isCentered:!0,autoFocus:!1,children:[u.jsx(Hs,{}),u.jsxs(Ys,{overflow:"hidden",minW:"400px",children:[u.jsx(Vs,{children:a?"Source Wallet":"Destination Wallet"}),u.jsx(Zs,{}),u.jsx(Ks,{overflowY:"auto",paddingBottom:"16px",children:u.jsxs(q,{gap:"16px",children:[u.jsx(Bt,{w:"56px",h:"56px",borderRadius:"50%",src:c?o.logo_url:d||o.logo_url,alt:o.chain_name}),u.jsxs(W,{gap:"8px",children:[u.jsx(F,{fontSize:"18px",color:"text_caption",fontWeight:500,children:jd(r)}),u.jsxs(W,{gap:"6px",children:[u.jsx(hi,{children:u.jsx(Ug,{svgW:"18px",svgH:"18px",text:r}),tooltip:"Copy address",placement:"top"}),u.jsx(hi,{children:u.jsx(Ae,{xlinkHref:"#icon-icon_link1",fontSize:"18px",onClick:()=>{window.open(ia(r,o,"address"),"_blank")}}),tooltip:"View on Explorer",placement:"top"})]})]}),u.jsxs(W,{mt:"12px",w:"100%",gap:"8px",justifyContent:"space-between",children:[o.type!==B.EVM&&u.jsx(Xt,{leftIcon:u.jsx(Ae,{xlinkHref:"#icon-icon_swap1",svgW:"18px",svgH:"18px",svgFill:"primary",svgHover:"primary",mr:"-6px"}),fontSize:"14px",borderColor:"primary",w:"100%",fontWeight:500,variant:"outline",onClick:()=>{i(),c&&l(o.type,{manual_address:void 0}),e()},children:"Change Wallet"}),u.jsx(Xt,{w:"100%",fontSize:"14px",fontWeight:500,leftIcon:u.jsx(Ae,{xlinkHref:"#icon-icon_disconnect",svgW:"18px",svgH:"18px",svgFill:"block_color",svgHover:"block_color",mr:"-6px"}),colorScheme:"blue",onClick:()=>{c?l(o.type,{manual_address:void 0}):s(),e()},children:c?"Clear":"Disconnect"})]})]})})]})]})}const Cx=j.memo(Sx);function Tx(n){const{confirmPriceDiff:e,handleConfirmPriceDiffClick:t}=n;return u.jsxs(q,{bg:"primary_red_opacity.10",w:"100%",borderRadius:"12px",p:"12px",alignItems:"start",gap:"8px",children:[u.jsx(F,{color:"primary_red",fontSize:"12px",lineHeight:"15px",fontWeight:"400",children:"The exchange rate of this order deviates from the market price by a large percentage. Are you sure you want to continue the swap?"}),u.jsxs(W,{gap:"8px",cursor:"pointer",onClick:()=>{t(!e)},children:[u.jsx(fl,{align:"center",justifyContent:"center",background:e?"primary_red":"checked_bg",border:"1px solid",borderColor:e?"primary_red":"text_paragraph",width:"16px",height:"16px",borderRadius:"4px",onClick:()=>{t(!e)},sx:{svg:{fill:"#000000 !important"}},children:e?u.jsx(Ae,{xlinkHref:"#icon-icon_check",svgW:"14px",svgH:"14px"}):null}),u.jsx(F,{fontSize:"12px",fontFamily:"400",color:e?"primary_red":"text_paragraph",children:"Yes, I want to continue."})]})]})}function Lx({isOpen:n,onClose:e,data:t,handleChangeWallet:s}){const{chain:i}=t,{setToAddressObj:r}=Tt(),[o,a]=j.useState("connect");return u.jsxs(Gs,{isOpen:n,onClose:e,isCentered:!0,autoFocus:!1,children:[u.jsx(Hs,{}),u.jsxs(Ys,{overflow:"hidden",minW:"400px",children:[u.jsx(Vs,{children:o==="connect"?u.jsx(ts,{fontWeight:"500",fontSize:"16px",children:"Connect Destination Wallet"}):u.jsxs(W,{position:"relative",w:"100%",justify:"space-between",children:[u.jsx(Ae,{ml:"-10px",xlinkHref:"#icon-icon_descending_nor",cursor:"pointer",fontSize:"26px",transform:"rotate(90deg)",onClick:()=>a("connect")}),u.jsx(ts,{fontWeight:"500",fontSize:"16px",position:"absolute",left:"50%",transform:"translateX(-50%)",children:"Send to Address"})]})}),u.jsx(Zs,{}),u.jsx(Ks,{overflowY:"auto",paddingBottom:"16px",children:u.jsxs(q,{children:[o==="connect"&&u.jsx(_x,{handleChangeWallet:()=>{s(),e()},jumpToInput:()=>{a("input")}}),o==="input"&&u.jsx(zx,{chain:i,handleConfirm:c=>{r(i.type,{manual_address:c}),e()}})]})})]})]})}const Dx=j.memo(Lx);function _x({handleChangeWallet:n,jumpToInput:e}){return u.jsxs(q,{gap:"16px",w:"100%",children:[u.jsx(Xt,{fontSize:"14px",color:"#000",fontWeight:"500",borderRadius:"12px",width:"100%",h:"50px",onClick:()=>{n()},children:"Connect Wallet"}),u.jsxs(W,{mt:"8px",mb:"8px",gap:"2px",alignItems:"center",cursor:"pointer",onClick:()=>{e()},children:[u.jsx(F,{fontSize:"12px",children:"Send to another address"}),u.jsx(Ae,{xlinkHref:"#icon-detail",boxW:"14px",boxH:"14px"})]})]})}function zx({chain:n,handleConfirm:e}){const[t,s]=j.useState(""),i=j.useMemo(()=>{if(!t)return!0;switch(n.type){case B.EVM:return!Bg(t);case B.SVM:try{return new St(t),!1}catch{return!0}case B.MVM:return!Jf(t);case B.UTXO:return!(/^1[a-km-zA-HJ-NP-Z1-9]{25,34}$/.test(t)||/^3[a-km-zA-HJ-NP-Z1-9]{25,34}$/.test(t)||/^bc1[ac-hj-np-z02-9]{11,71}$/.test(t));default:return!0}},[t,n.type]);return u.jsxs(q,{gap:"8px",w:"100%",children:[u.jsxs(dd,{children:[u.jsx(_f,{pl:"34px",pr:"34px",fontSize:"14px",w:"100%",h:"42px",value:t,borderRadius:"12px",placeholder:"Enter Destination Address",variant:"outline",onChange:r=>s(r.target.value)}),u.jsx(zf,{ml:"10px",h:"100%",display:"flex",alignItems:"center",children:u.jsx(Fs,{imageUrl:n.logo_url,w:"18px",h:"18px",margin:"auto"})}),u.jsx(kf,{children:t?u.jsx(Ae,{xlinkHref:"#icon-icon_close",position:"absolute",top:"12px",right:"8px",onClick:r=>{s("")}}):null})]}),u.jsx(Td,{tipsFontSize:"12px",tipsLineHeight:"15px",alignItems:"start",tips:"Make sure the address is correct and not from an exchange. Tokens sent to the wrong address cannot be recovered",type:"warning"}),u.jsx(Xt,{isDisabled:i,mt:"8px",fontSize:"14px",color:"#000",fontWeight:"500",borderRadius:"12px",width:"100%",h:"50px",onClick:()=>{e(t)},children:"Confirm"})]})}function kx({crossPlatform:n}){return u.jsxs(W,{mt:"8px",gap:"4px",children:[u.jsx(F,{children:"Powered by"}),u.jsx(Bt,{src:n=="li.fi"?"/images/lifi.png":"/images/mayan.png",w:"20px",h:"20px"}),u.jsx(F,{color:"text_caption",fontWeight:"400",children:n=="li.fi"?"LI.FI":"Mayan"})]})}const Ox=32e3,vx=(n,e,t=!0)=>{const s=Lt("crossSwap"),{getCrossToken:i}=Bl(),{data:r,isLoading:o,refetch:a}=ml({queryKey:["transaction-history",e,n],queryFn:async({queryKey:[,c,l],signal:d})=>{const h=[];if(!c)return h;if(l===ne.MAYAN)try{const p=await(await fetch(`${Ml.EXPLORER_URL}/swaps/trader?trader=${c}&limit=50&offset=0`)).json(),m={};for(const g of p.data)try{const x=await $A(g,y=>s.getChain(ne.MAYAN,Number(y)),async(y,A)=>{const M=`${y}_${A}`;let I=m[M];return m.hasOwnProperty(M)||(I=await i(l,y,A)||void 0,m[M]=I),I});h.push(x)}catch(x){console.error("useCrossTradeHistory mayan error",x)}}catch(f){console.error("useCrossTradeHistory mayan error",f)}else{const f=new Date;f.setFullYear(f.getFullYear()-10),(await qf({wallet:c,fromTimestamp:Math.floor(f.getTime()/1e3),toTimestamp:Math.floor(Date.now()/1e3),status:"ALL"},{signal:d})).transfers.forEach(m=>{try{const g=XA(m,x=>s.getChain(ne.LI_FI,Number(x)));h.push(g)}catch(g){console.error("useCrossTradeHistory lifi error",g)}})}return console.log("useCrossTradeHistory historyList",h),h},enabled:!!(e&&t),refetchInterval:3e4,staleTime:Ox});return{historyList:r,isLoading:o,refetch:a}};function id(n){const{chainLogo:e,chainName:t,haveMore:s,wrapStyle:i,imageStyle:r,textStyle:o,type:a="default"}=n,[c,l]=j.useState(!1),d=j.useMemo(()=>a==="default"?{wrap:{h:"20px",pr:"4px",border:"none",gap:"0px",bg:"primary_opacity.15",padding:"4px",borderRadius:"14px"},image:{w:"16px",h:"16px"},text:{fontSize:"12px",ml:"2px"}}:{wrap:{padding:"4px",bg:"bg_ten",border:"1px solid",borderColor:"border",borderRadius:"14px",cursor:"pointer",gap:"0px",userSelect:"none",boxSizing:"border-box",h:"28px"},image:{w:"20px",h:"20px"},text:{ml:"6px",fontSize:"14px"}},[a]);return u.jsxs(W,{...d.wrap,...i,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[u.jsx(Bt,{borderRadius:"50%",src:e,...d.image,...r}),u.jsx(F,{mr:"2px",color:"text_caption",...d.text,...o,children:t}),s&&u.jsx(Ae,{xlinkHref:"#icon-detail",svgW:"16px",svgH:"16px",svgFill:c?"text_caption":"text_paragraph"})]})}const go={DONE:{color:"primary",bg:"primary_opacity.15",text:"Completed"},PENDING:{color:"primary_yellow",bg:"primary_yellow_opacity.10",text:"Pending"},FAILED:{color:"primary_red",bg:"primary_red_opacity.10",text:"Failed"},REFUNDED:{color:"primary_red",bg:"primary_red_opacity.10",text:"Refunded"},INVALID:{color:"primary_gray",bg:"primary_gray_opacity.10",text:"Invalid"},"Not Found":{color:"primary_gray",bg:"primary_gray_opacity.10",text:"Not Found"}},Rx=()=>u.jsx(q,{w:"100%",alignItems:"flex-start",gap:"16px",mt:"4px",children:[1,2,3].map(n=>u.jsx(q,{w:"100%",alignItems:"flex-start",gap:"16px",mt:"4px",children:u.jsxs(W,{w:"100%",justifyContent:"space-between",children:[u.jsxs(W,{children:[u.jsx(Tr,{size:"5"}),u.jsx(Me,{height:"4",width:"200px"}),u.jsx(Tr,{size:"5"}),u.jsx(Me,{height:"4",width:"60px",borderRadius:"4px"})]}),u.jsx(Me,{height:"4",width:"16px"})]})},n))});function Px(n){const{isOpen:e,onClose:t,platform:s,fromChainAddress:i}=n,{isApp:r}=tn(),{historyList:o=[],isLoading:a}=vx(s,i,e);return u.jsxs(Gs,{autoFocus:!1,returnFocusOnClose:!1,trapFocus:!1,isOpen:e,onClose:t,isCentered:!0,children:[u.jsx(Hs,{}),u.jsxs(Ys,{minW:r?"100%":"460px",minH:"130px",maxH:"calc(100vh - 64px)",children:[u.jsx(Vs,{children:u.jsx(ts,{fontWeight:"500",fontSize:"16px",children:"History"})}),u.jsx(Zs,{}),u.jsx(Ks,{textAlign:"center",p:"0px 16px 16px",minH:"130px",overflowY:"auto",children:u.jsxs(q,{w:"100%",alignItems:"flex-start",gap:"16px",mt:"4px",children:[a&&o.length===0&&u.jsx(Rx,{}),!a&&o.length===0&&u.jsx(xl,{type:"nodata",noBorder:!0,bg:"transparent",text:"No recent transactions"}),o.map(c=>u.jsx(Bx,{item:c,platform:s},c.tx_link))]})})]})]})}const Ux=({status:n})=>{var t;const e=go[n]??{color:"text_caption",bg:"transparent"};return u.jsx(F,{...e,p:"2px 8px",borderRadius:"4px",ml:"8px",fontSize:"12px",children:((t=go==null?void 0:go[n])==null?void 0:t.text)||n})},Bx=({item:n,platform:e})=>{const[t,s]=j.useState(!1),{fee:i}=VA(n);return u.jsxs(q,{w:"100%",alignItems:"flex-start",gap:"16px",mt:"4px",children:[u.jsxs(W,{w:"100%",justifyContent:"space-between",cursor:"pointer",onClick:()=>s(!t),children:[u.jsxs(W,{children:[u.jsx(Ie,{w:"24px",h:"24px",borderRadius:"50%",backgroundImage:n.fromToken.logo_url,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",position:"relative",children:u.jsx(Bt,{bg:"#232323",borderRadius:"50%",w:"12px",h:"12px",src:n.fromChain.logo_url,position:"absolute",bottom:"0",right:"0"})},n.fromToken.logo_url),u.jsxs(W,{children:[u.jsxs(F,{children:[ze(n.amountIn)," ",n.fromToken.symbol," â†’"]}),n.status!=="PENDING"&&u.jsx(F,{children:ze(n.amountOut)}),n.status==="PENDING"&&u.jsx(Me,{isLoaded:!1,h:"14px",w:"18px"}),u.jsx(F,{children:n.toToken.symbol})]}),u.jsx(Ie,{w:"24px",h:"24px",borderRadius:"50%",backgroundImage:n.toToken.logo_url,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",position:"relative",children:u.jsx(Bt,{bg:"#232323",borderRadius:"50%",w:"12px",h:"12px",src:n.toChain.logo_url,position:"absolute",bottom:"0",right:"0"})},n.toToken.logo_url),u.jsx(Ux,{status:n.status})]}),u.jsx(Ae,{xlinkHref:"#icon-icon_descending",cursor:"pointer",transform:t?"rotate(0deg)":"rotate(-90deg)"})]}),t&&u.jsxs(q,{bg:"bg_secondary",borderRadius:"8px",border:"1px solid",borderColor:"border",p:"16px",w:"100%",gap:"12px",userSelect:"none",children:[u.jsx(Xn,{label:"Created Time",value:`${Wg(n.send_time*1e3)} (UTC)`,wrapStyle:{w:"100%",height:"20px"},labelStyle:{fontSize:"14px"},valueStyle:{fontSize:"14px"}}),n.send_time,u.jsx(Xn,{label:"Source Address",value:u.jsxs(W,{children:[u.jsx(id,{chainLogo:n.fromChain.logo_url,chainName:n.fromChain.chain_name,type:"default"}),u.jsx(lc,{address:n.source_address,onClickLink:()=>window.open(ia(n.source_address,n.fromChain,"address"),"_blank"),showLink:!1,fontSize:"14px",color:"text_caption"})]}),wrapStyle:{w:"100%",height:"20px"},labelStyle:{fontSize:"14px"},valueStyle:{fontSize:"14px"}}),u.jsx(Xn,{label:"Destination Address",value:u.jsxs(W,{children:[u.jsx(id,{chainLogo:n.toChain.logo_url,chainName:n.toChain.chain_name,type:"default"}),u.jsx(lc,{address:n.destination_address,onClickLink:()=>window.open(ia(n.destination_address,n.toChain,"address"),"_blank"),showLink:!1,fontSize:"14px",color:"text_caption"})]}),wrapStyle:{w:"100%",height:"20px"},labelStyle:{fontSize:"14px"},valueStyle:{fontSize:"14px"}}),u.jsx(Xn,{label:e===ne.LI_FI?"Gas Fee":"Relayer Fee",value:qr(i.combinedFeesUSD,2),wrapStyle:{w:"100%",height:"20px"},labelStyle:{fontSize:"14px"},valueStyle:{fontSize:"14px"}}),u.jsxs(W,{w:"100%",justifyContent:"center",mt:"4px",cursor:"pointer",onClick:()=>window.open(dl(n.tx_link,e),"_blank"),children:[u.jsx(F,{color:"primary",children:"View on Explorer"}),u.jsx(Ae,{fontSize:"16px",xlinkHref:"#icon-icon_link1",svgFill:"primary",ml:"-5px",mt:"2px"})]})]})]})};function Wx(n){const{platform:e,findRouterLoading:t,quote:s,bg:i="primary_opacity.10"}=n,{marketPrice:r,priceImpact:o,sources:a,priceImpactTextInfo:c,showIncalculable:l}=Ul(e,s==null?void 0:s.from_token,s==null?void 0:s.to_token,s==null?void 0:s.amount_in_formatted,s==null?void 0:s.amount_out_formatted);return u.jsxs(q,{w:"100%",p:"8px",gap:"8px",bg:i,borderRadius:"12px",align:"flex-start",children:[u.jsx(Cd,{fromToken:s==null?void 0:s.from_token,toToken:s==null?void 0:s.to_token,fromValue:s==null?void 0:s.amount_in_formatted,toValue:s==null?void 0:s.amount_out_formatted,isLoading:t,color:"text_caption",fontSize:"14px"}),!l&&Qg(o).lte(-30)&&!t&&u.jsxs(W,{w:"100%",justify:"flex-start",children:[u.jsx(Ae,{xlinkHref:"#icon-warning",svgFill:"primary_red",svgHover:"primary_red",fontSize:"16px"}),u.jsx(F,{color:"primary_red",fontSize:"12px",lineHeight:"20px",fontWeight:"500",children:"High price difference. Be cautious before submitting your order."})]}),u.jsx(Zg,{fromToken:s==null?void 0:s.from_token,toToken:s==null?void 0:s.to_token,isWidget:!1,marketPrice:r,priceImpact:c,isLoading:t,sources:a,showIncalculable:l})]})}function Qx(n){var d,h,f,p,m,g,x,y,A,M,I,N,E;const{platform:e,isShowCrossSelectRouter:t,handleShowCrossSelectRouter:s}=n,{isApp:i}=tn(),{findRouterLoading:r,quote:o}=sn(),{tag:a}=pf(((h=(d=o==null?void 0:o.quote)==null?void 0:d.lifi_quote)==null?void 0:h.tags)||[]),{quoteShowDuration:c}=gf(o==null?void 0:o.execution_duration),l=j.useMemo(()=>{var C,S,T,D,O;if(e===ne.LI_FI){const G=(O=(D=(T=(S=(C=o==null?void 0:o.quote)==null?void 0:C.lifi_quote)==null?void 0:S.steps)==null?void 0:T[0])==null?void 0:D.estimate)==null?void 0:O.gasCosts;if(G&&G.length>0){const U=G[0];return cc(U.token.address)&&(U.token.logoURI="https://archive.cetus.zone/assets/image/sui/sui.png"),U}}},[o,e]);return o?u.jsxs(q,{width:"100%",p:"8px 8px 16px",gap:"12px",children:[u.jsx(Wx,{platform:e,findRouterLoading:r,quote:o}),u.jsx(Xn,{isLoading:r,label:"Minimum Received",value:`${ze((o==null?void 0:o.min_amount_out_formatted)||"0",(f=o==null?void 0:o.to_token)==null?void 0:f.decimals,!1,Ln.ROUND_DOWN)} ${(p=o==null?void 0:o.to_token)==null?void 0:p.symbol}`,labelStyle:{fontWeight:500,whiteSpace:"nowrap",fontSize:"14px"},valueStyle:{fontWeight:500,fontSize:"14px"},skeletonStyle:{valueW:"128px"},wrapStyle:{p:"0 8px"}}),u.jsx(Xn,{isLoading:r,label:"Est. Completion",value:`< ${c}`,labelStyle:{fontWeight:500,whiteSpace:"nowrap",fontSize:"14px"},valueStyle:{fontWeight:500,fontSize:"14px"},skeletonStyle:{valueW:"128px"},wrapStyle:{p:"0 8px",mt:"4px"}}),u.jsx(Xn,{isLoading:r,rightValueTip:l?u.jsxs(F,{children:[ze(qn((l==null?void 0:l.amount)||"0",(m=l==null?void 0:l.token)==null?void 0:m.decimals),(g=l==null?void 0:l.token)==null?void 0:g.decimals)," ",(x=l==null?void 0:l.token)==null?void 0:x.symbol]}):void 0,label:e===ne.LI_FI?"Gas Fee":"Relayer Fee",value:u.jsxs(W,{children:[l&&u.jsx(Fs,{borderRadius:"50%",imageUrl:(y=l==null?void 0:l.token)==null?void 0:y.logoURI,w:"16px",h:"16px"}),u.jsx(F,{color:"text_caption",children:qr(o.gas_cost_usd||"0",2)})]}),labelStyle:{fontWeight:500,whiteSpace:"nowrap",fontSize:"14px"},valueStyle:{fontWeight:500,fontSize:"14px",textDecoration:"none"},skeletonStyle:{valueW:"128px"},wrapStyle:{p:"0 8px",mt:"4px"}}),e===ne.LI_FI&&u.jsx(Xn,{isLoading:r,label:"Router",rightValueTip:i?void 0:t?"Hide routes":"View more routes",valueStyle:{textDecoration:"none"},value:u.jsxs(W,{gap:"4px",w:"100%",justifyContent:"flex-end",cursor:"pointer",userSelect:"none",onClick:()=>s(!t),children:[a&&u.jsx(F,{textAlign:"center",h:"20px",fontWeight:"500",fontSize:"12px",bg:"primary_opacity.15",p:"2px 8px",borderRadius:"10px",color:"primary",display:"flex",alignItems:"center",justifyContent:"center",children:a}),u.jsx(Fs,{borderRadius:"50%",imageUrl:((E=(N=(I=(M=(A=o==null?void 0:o.quote)==null?void 0:A.lifi_quote)==null?void 0:M.steps)==null?void 0:I[0])==null?void 0:N.toolDetails)==null?void 0:E.logoURI)||"/images/base_return.png",w:"16px",h:"16px"}),u.jsx(Ae,{xlinkHref:"#icon-detail",boxW:"12px",boxH:"16px"})]}),labelStyle:{fontWeight:500,whiteSpace:"nowrap",fontSize:"14px"},skeletonStyle:{valueW:"128px"},wrapStyle:{p:"0 8px",mt:"4px"}})]}):u.jsx(u.Fragment,{})}function If(n){const e=Lt("crossSwap"),[t,s]=j.useState(""),[i,r]=j.useState(!1),[o,a]=j.useState([]),{chainList:c}=wf(n);j.useEffect(()=>{e&&a([...c])},[n,c]);const l=f=>c.filter(p=>p.chain_name.toLocaleLowerCase().indexOf(f.toLocaleLowerCase())>-1),d=Al(async f=>{console.log("ðŸš€ðŸš€ðŸš€ ~ useSelectChain.ts:229 ~ debouncedFilter ~ value:",f);const p=l(f);console.log("ðŸš€ ~ debouncedFilter ~ result:",p),a(p),r(!1)},500);return{inputValue:t,isLoading:i,handleInputChange:f=>{const p=f.replace(/[^A-Za-z]+/,"");console.log("ðŸš€ðŸš€ðŸš€ ~ useSelectChain.ts:233 ~ handleInputChange ~ regValue:",p),s(p),p?(r(!0),d(p)):a(c)},chainList:o}}function Fx(n){var r;const{chainList:e,currentChain:t,openChainModal:s,onChangeChain:i}=n;return u.jsx(Ie,{p:"0px 16px",children:u.jsx(Ie,{w:"100%",mt:"4px",children:u.jsxs(hd,{templateColumns:"repeat(5, 1fr)",gap:"8px",w:"100%",children:[(r=e==null?void 0:e.slice(0,9))==null?void 0:r.map((o,a)=>u.jsx($a,{children:u.jsx(Gx,{chain:o,currentChain:t,onChangeChain:i})},o.id)),u.jsx($a,{children:u.jsx(Ie,{bg:"bg_secondary",borderRadius:"8px",border:"1px solid",borderColor:"border",cursor:"pointer",userSelect:"none",onClick:()=>s(),display:"flex",justifyContent:"center",alignItems:"center",h:"62px",children:u.jsxs(F,{color:"text_caption",fontSize:"20px",children:["+",e.length-9]})})})]})})})}function Gx(n){const{chain:e,currentChain:t,onChangeChain:s}=n,[i,r]=j.useState(e.logo_url);return j.useEffect(()=>{r(e.logo_url)},[e.logo_url]),u.jsx(Ie,{bg:"bg_secondary",borderRadius:"8px",border:"1px solid",borderColor:e.id==t.id?"primary":"border",cursor:"pointer",onClick:()=>s(e),display:"flex",justifyContent:"center",alignItems:"center",h:"62px",children:u.jsx(hi,{tooltip:e.chain_name,placement:"top",children:u.jsx(Bt,{loading:"lazy",src:i,borderRadius:"50%",w:"32px",h:"32px",onError:()=>r(Br),fallbackSrc:Br},e.id)})})}function Hx(n){const{chainList:e,currentChain:t,onChangeChain:s,isLoading:i}=n,r=j.useMemo(()=>e.length>20,[e==null?void 0:e.length]),o=({chain:l})=>{const d=()=>{s(l)};return u.jsxs(W,{w:"100%",padding:"8px",borderRadius:"8px",justifyContent:"space-between",alignItems:"center",cursor:"pointer",_hover:{bg:"primary_opacity.10"},onMouseDown:d,children:[u.jsxs(W,{children:[u.jsx(Bt,{src:l.logo_url,w:"32px",h:"32px",loading:"lazy",fallbackSrc:Br,borderRadius:"16px"},l.id),u.jsx(F,{ml:"4px",color:"text_caption",children:l.chain_name})]}),t==l.chain_name&&u.jsx(Bt,{w:"20px",h:"20px",src:"/images/selected_chain@2x.png"})]})},a=j.useRef(null),c=Ld({count:e.length,getScrollElement:()=>a.current,estimateSize:()=>56,overscan:10});return u.jsx(W,{width:"100%",gap:"8px",mt:"20px",children:i?u.jsx(Ie,{w:"100%",height:"400px",position:"relative",borderRadius:"16px",overflow:"hidden",children:u.jsx(Dd,{positionStyle:"absolute"})}):e.length>0?r?u.jsx("div",{ref:a,style:{width:"100%",height:"500px",overflowY:"auto",padding:"0 16px"},children:u.jsx("div",{style:{height:`${c.getTotalSize()}px`,position:"relative"},children:c.getVirtualItems().map(l=>u.jsx("div",{style:{position:"absolute",top:l.start,left:0,width:"100%",height:l.size},children:u.jsx(o,{chain:e[l.index]})},e[l.index].id))})}):u.jsx(q,{w:"100%",maxH:"500px",overflowY:"auto",p:"0 16px",children:e.map(l=>u.jsx(o,{chain:l},l.id))}):u.jsx(xl,{type:"nodata",text:"No chain found",background:"none",noBorder:!0})})}function Yx(n){const{crossPlatform:e,currentChain:t,onChangeChain:s}=n,{inputValue:i,handleInputChange:r,chainList:o,isLoading:a}=If(e);return u.jsxs(q,{w:"100%",children:[u.jsx(Ie,{p:"0 16px",w:"100%",children:u.jsx(Sd,{placeholder:"Search by chain name",inputValue:i,changeInputValue:c=>r(c)})}),u.jsx(j.Suspense,{fallback:u.jsx(fl,{marginTop:"16px",flexDirection:"column",children:[...Array(5)].map((c,l)=>u.jsxs(W,{gap:"0",height:"64px",padding:"0",children:[u.jsx(Tr,{size:"9"}),u.jsx(q,{gap:"4px",ml:"4px",align:"flex-start",children:u.jsx(Me,{height:"4",width:"100px"})})]},l))}),children:u.jsx(Hx,{chainList:o,currentChain:t,onChangeChain:s,isLoading:a})})]})}const rd=32e3,Vx=(n,e,t,s,i=!0)=>{const r=Lt("crossSwap"),{setTokenBalances:o}=Tt(),a=!!s&&!!(e!=null&&e.length)&&!!(t!=null&&t.id)&&r!==null&&i,{data:c,isLoading:l,refetch:d}=ml({queryKey:["token-balances",s,t==null?void 0:t.id,e==null?void 0:e.length],queryFn:async({queryKey:[,f,p]})=>{if(p===void 0)throw new Error("Missing required parameters: chain_id");console.log("useTokenBalances queryFn  :",f,e,t==null?void 0:t.id);const m=await r.getOwnerTokenBalances(n,s,e);return console.log("useTokenBalances tokensWithBalance  :",{tokensWithBalance:m,accountAddress:f,id:t==null?void 0:t.id}),o(m,s),m},enabled:a,refetchInterval:rd,staleTime:rd});return{balanceCoinList:j.useMemo(()=>{const f=[];return c&&c.forEach(p=>{const m=e.find(g=>Nr(g.address,p.address,g.type===B.MVM));m&&ge(p.balance).gt(0)&&f.push(m)}),f},[c,e]),tokensWithBalance:c,isBalanceLoading:l&&a,refetch:d}};function Zx(n,e){const[t,s]=j.useState(""),[i,r]=j.useState(!1),[o,a]=j.useState([]),[c,l]=j.useState([]),{fetchChainTokenList:d}=Bl(),h=uc(e);j.useEffect(()=>{e!==void 0&&n?f(n,e):(l([]),a([]),r(!1))},[e]);const f=(x,y)=>{r(!0),l([]),a([]),d(x,[y]).then(A=>{const M=`${x}_${y}`,I=A[M]||[];y===h.current&&(l([...I]),a([...I]))}).finally(()=>{r(!1)})},p=x=>c.filter(y=>y.name.toLocaleLowerCase().indexOf(x.toLocaleLowerCase())>-1||y.symbol.toLocaleLowerCase().indexOf(x.toLocaleLowerCase())>-1||y.address.toLocaleLowerCase().indexOf(x.toLocaleLowerCase())>-1),m=Al(async x=>{console.log("ðŸš€ðŸš€ðŸš€ ~ useSelectChain.ts:229 ~ debouncedFilter ~ value:",x);const y=p(x);console.log("ðŸš€ ~ debouncedFilter ~ result:",y),a(y),r(!1)},500);return{handleInputChange:x=>{const y=x.replace(/[^[a-zA-Z0-9\s]+$/g,"");console.log("ðŸš€ðŸš€ðŸš€ ~ useSelectChain.ts:233 ~ handleInputChange ~ regValue:",y),s(y),y?m(y):a(c)},coinList:o,isLoading:i,inputValue:t,originalCoinList:c}}const wo="data:image/png;base64,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",hl={};hl["0xf00eb7ab086967a33c04a853ad960e5c6b0955ef5a47d50b376d83856dc1215e::axol::AXOL"]="/images/chain/axol.png";function Kx(n){const{coinList:e,selectCoin:t,isLoading:s,isBalanceLoading:i,crossPlatform:r}=n,o=j.useMemo(()=>e.length>20,[e==null?void 0:e.length]),a=({coin:d,wrapStyle:h})=>{var y,A;const f=(y=d.balance)==null?void 0:y.balance_formatted,p=(A=d.balance)==null?void 0:A.balance_usd,[m,g]=j.useState(d.logo_url||wo),{chainLink:x}=ex(d.address,r,d.chain_id,"coin");return u.jsxs(W,{w:"100%",padding:"8px",minH:"64px",borderRadius:"8px",justifyContent:"space-between",alignItems:"center",cursor:"pointer",...h,_hover:{bg:"primary_opacity.10"},onClick:()=>{t(d)},children:[u.jsxs(W,{position:"relative",children:[u.jsx(Bt,{src:hl[d.address]||m,w:"32px",h:"32px",loading:"lazy",fallbackSrc:wo,borderRadius:"16px",onError:()=>{g(wo),hl[d.address]=wo}},d.address),u.jsxs(q,{alignItems:"flex-start",gap:"2px",children:[u.jsx(F,{color:"text_caption",lineHeight:"20px",fontWeight:"600",children:Go(d.symbol,10)}),u.jsx(F,{fontSize:"12px",children:Go(d.name,28)}),u.jsx(lc,{address:d==null?void 0:d.address,onClickLink:()=>window.open(x,"_blank"),showLink:!1})]})]}),i&&u.jsxs(q,{alignItems:"flex-end",children:[u.jsx(Me,{w:"50px",h:"12px"}),u.jsx(Me,{w:"40px",h:"12px"})]}),!i&&u.jsxs(q,{alignItems:"flex-end",children:[u.jsx(F,{color:"text_caption",children:f&&+f>0?Fg(f,"",d.decimals):""}),u.jsx(F,{fontSize:"12px",children:p?`${qr(p,2)}`:""})]})]})},c=j.useRef(null),l=Ld({count:e.length,getScrollElement:()=>c.current,estimateSize:()=>74,overscan:10});return u.jsx(W,{width:"100%",gap:"8px",mt:"12px",children:s?u.jsx(Ie,{w:"100%",height:"400px",position:"relative",borderRadius:"16px",overflow:"hidden",children:u.jsx(Dd,{positionStyle:"absolute"})}):e.length>0?o?u.jsx("div",{ref:c,style:{width:"100%",height:"500px",overflowY:"auto",padding:"0 12px 16px 16px"},children:u.jsx("div",{style:{height:`${l.getTotalSize()}px`,position:"relative"},children:l.getVirtualItems().map(d=>u.jsx("div",{style:{position:"absolute",top:d.start,left:0,width:"100%",height:d.size},children:u.jsx(a,{coin:e[d.index],wrapStyle:{}})},e[d.index].address))})}):u.jsx(q,{gap:"0px",w:"100%",maxH:"500px",overflowY:"auto",p:"0 16px",children:e.map(d=>u.jsx(a,{coin:d,wrapStyle:{}},d.address))}):u.jsx(xl,{type:"nodata",text:"No coin found",background:"none",noBorder:!0})})}function Jx(n){const{selectCoin:e,currentChain:t,crossPlatform:s,currentToken:i,isFrom:r}=n,{inputValue:o,handleInputChange:a,coinList:c,isLoading:l,originalCoinList:d}=Zx(s,t==null?void 0:t.id),{address:h}=ll(t,r,!0),{isBalanceLoading:f,balanceCoinList:p}=Vx(s,c,t,h),{getTokenBalance:m,balanceCache:g}=Tt(),{getCachedPrice:x,loading:y}=Mf(s,p,!0,!0),A=j.useMemo(()=>{if(!c||c.length===0)return[];const M=[...c];if(M.sort((I,N)=>{const E=h?m(I,h):void 0,C=h?m(N,h):void 0;let S=parseFloat((E==null?void 0:E.balance_usd)||"0"),T=parseFloat((C==null?void 0:C.balance_usd)||"0");if(E&&S===0){const Q=x(I);Q&&(I.price_usd=Q.toString(),E.balance_usd=ge(Q).mul(E.balance_formatted||"0").toString(),S=parseFloat(E.balance_usd||"0"))}if(C&&T===0){const Q=x(N);Q&&(N.price_usd=Q.toString(),C.balance_usd=ge(Q).mul(C.balance_formatted||"0").toString())}const D=parseFloat((E==null?void 0:E.balance_formatted)||"0"),O=parseFloat((C==null?void 0:C.balance_formatted)||"0");if(I.balance=E,N.balance=C,S>0||T>0)return S===T?0:T-S;if(D>0||O>0)return D===O?0:O-D;const G=parseFloat((E==null?void 0:E.balance)||"0"),U=parseFloat((C==null?void 0:C.balance)||"0");return G===U?0:U-G}),i){const I=M.findIndex(N=>N.address===i.address);if(I>0){const[N]=M.splice(I,1);M.unshift(N)}}return M},[c,g,f,i,h,y]);return j.useEffect(()=>{a("")},[d]),u.jsxs(q,{w:"100%",mt:"20px",children:[u.jsx(Ie,{w:"100%",p:"0 16px",children:u.jsx(Sd,{placeholder:"Search by token or address",inputValue:o,changeInputValue:M=>a(M)})}),u.jsx(j.Suspense,{fallback:u.jsx(fl,{marginTop:"16px",flexDirection:"column",children:[...Array(5)].map((M,I)=>u.jsxs(W,{gap:"0",height:"64px",padding:"0",children:[u.jsx(Tr,{size:"9"}),u.jsx(q,{gap:"4px",ml:"4px",align:"flex-start",children:u.jsx(Me,{height:"4",width:"100px"})})]},I))}),children:u.jsx(Kx,{crossPlatform:s,coinList:A,selectCoin:e,isLoading:l,isBalanceLoading:f})})]})}function qx(n){const{isApp:e}=tn(),[t,s]=j.useState("default"),{isOpen:i,onClose:r,isPay:o,crossPlatform:a,fromChain:c,toChain:l,fromToken:d,toToken:h,onChangeChainAndCoin:f}=n,[p,m]=j.useState(o?c:l),{chainList:g}=If(a),[x,y]=j.useState([]),A=j.useMemo(()=>{const S=ra(c),T=ra(l);return S&&T?!0:o&&S?!1:!(!o&&T)},[c,l,o]);j.useEffect(()=>(m(o?c:l),()=>{s("default")}),[i]);const M=o?d:h;j.useEffect(()=>{y([]),m(o?c:l)},[a]);const I=j.useCallback((S,T,D)=>{if(!S||S.length===0)return S;let O=S;if(D&&D.length>0&&(O=S.filter(Q=>Q&&!D.includes(Q.id))),!T)return O;const G=O.findIndex(Q=>Q&&Q.id===T.id);if(G!==-1&&G<9)return O;const U=[];return G!==-1&&U.push(T),O.forEach(Q=>{(!T||Q.id!==T.id)&&U.push(Q)}),U},[]);j.useEffect(()=>{y(I(x.length>0&&x.length===g.length?x:g,p,[]))},[g,p==null?void 0:p.id,A]);const[N,E]=j.useState("400px"),C=()=>{const T=window.innerHeight-120;E(`${T}px`)};return j.useEffect(()=>(C(),window.addEventListener("resize",C),()=>{window.removeEventListener("resize",C)}),[]),u.jsxs(Gs,{autoFocus:!1,returnFocusOnClose:!1,trapFocus:!1,isOpen:i,onClose:r,isCentered:!0,children:[u.jsx(Hs,{}),u.jsxs(Ys,{minW:e?"100%":"476px",children:[u.jsxs(Vs,{children:[t==="default"&&u.jsx(ts,{fontWeight:"500",fontSize:"16px",children:o?"You Pay":"You Receive"}),t==="select_chain"&&u.jsxs(W,{position:"relative",w:"100%",justify:"space-between",children:[u.jsx(Ae,{xlinkHref:"#icon-icon_descending_nor",cursor:"pointer",fontSize:"26px",transform:"rotate(90deg)",onClick:()=>s("default")}),u.jsx(ts,{fontWeight:"500",fontSize:"16px",position:"absolute",left:"50%",transform:"translateX(-50%)",children:"Select a chain"})]})]}),u.jsx(Zs,{onClick:r}),u.jsxs(Ks,{textAlign:"center",p:"0px 0 16px",minH:"300px",overflow:"hidden",maxH:N,children:[t==="default"&&A&&u.jsx(Fx,{chainList:x,currentChain:p,openChainModal:()=>{s("select_chain")},onChangeChain:S=>{m(S)}}),t==="default"&&u.jsx(Jx,{isFrom:o,crossPlatform:a,currentChain:p,currentToken:M,selectCoin:S=>{f(p,S)}}),t==="select_chain"&&u.jsx(Yx,{crossPlatform:a,currentChain:o?c:l,onChangeChain:S=>{m(S),s("default")}})]})]})]})}function Xx({onClick:n}){const[e,t]=j.useState(!1);return u.jsx(W,{bg:"bg_secondary",borderRadius:"8px",border:"1px solid",borderColor:"border",padding:"6px 8px",height:"28px",children:u.jsxs(Xt,{variant:"unstyled",display:"flex",alignItems:"center",gap:"4px",cursor:"pointer",height:"unset",onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),onClick:n,children:[u.jsx(Ae,{xlinkHref:"#icon-history",svgW:"14px",svgH:"14px",svgFill:e?"text_caption":"text_paragraph"}),u.jsx(F,{fontSize:"12px",color:e?"text_caption":"text_paragraph",children:"History"})]})})}function $x(n){const{fromChainAddress:e,setIsOpenHistoryModal:t,progressRef:s,handleRefresh:i,platform:r}=n;return u.jsxs(W,{children:[e&&u.jsx(Xx,{onClick:()=>t(!0)}),u.jsx($g,{slippageType:"cross",maxSlippage:(r===ne.MAYAN,50)}),u.jsx(e0,{callbackInterval:30,ref:s,min:0,max:30,onClick:i})]})}function eb(n){const{walletAddress:e,onConnectWallet:t}=n;return u.jsx(u.Fragment,{children:u.jsx(Xt,{_hover:{bg:"primary_opacity.10"},variant:"unstyled",display:"flex",alignItems:"center",borderRadius:"4px",gap:"8px",cursor:"pointer",h:"20px",pl:"4px",pr:"4px",mr:"-4px",onClick:t,children:u.jsx(F,{color:"primary",children:e?jd(e):"Connect Wallet"})})})}function od(n){const e=j.useRef(null),[t,s]=j.useState(!1),{inputAllowed:i=!0,wrapStyle:r,loading:o,value:a,onChange:c,balance:l,currentCoin:d,placeholder:h,onFocusChange:f,amountValue:p,calculateAvailableLoading:m,balanceLabel:g,half:x=!0,max:y=!0,title:A,currentChain:M,platform:I,walletAddress:N,openSelectChainAndTokenModal:E,onConnectWallet:C}=n,S=()=>{const D=ge(l||0).div(2);a&&D.eq(a)||c==null||c(tu(D.toString(),d==null?void 0:d.decimals,!0,!0).toString(),!1,!0)},T=()=>{let O=ge(l||0);a&&ge(O).eq(a)||ge(O).gte(0)&&(c==null||c(O.toString()||"0",!0,!1))};return u.jsxs(Ie,{ref:e,w:"100%",pos:"relative",p:{base:"10px 16px 16px 16px",lg:"10px 16px 16px 16px"},borderRadius:"16px",border:"1px solid",backgroundColor:i?"bg_secondary":"card_bg",borderColor:t?"token_active_border":r!=null&&r.borderColor?r.borderColor:"border",boxShadow:t?"0px 0px 6px 0px #0067AD":"",onFocus:()=>s(!0),onBlur:()=>s(!1),...r,children:[u.jsxs(W,{width:"100%",justifyContent:"space-between",children:[u.jsx(W,{alignItems:"center",whiteSpace:"nowrap",children:A&&u.jsx(F,{color:"text_paragraph",fontSize:"13px",fontWeight:"500",textAlign:"left",children:A})}),u.jsx(eb,{walletAddress:N,onConnectWallet:C})]}),u.jsxs(q,{gap:"10px",mt:"8px",children:[u.jsxs(dd,{h:"38px",fontFamily:"Inter",justifyContent:"space-between",gap:"12px",children:[u.jsx(Me,{isLoaded:!o,height:"38px",width:"calc(100% - 8px)",borderRadius:"8px",children:u.jsx(Gg,{value:Hg(a,9),onChange:D=>{c==null||c(D,ge(D||"0").eq(l||"0"))},decimals:d==null?void 0:d.decimals,placeholder:h,inputAllowed:i,onFocus:()=>f==null?void 0:f(!0),onBlur:()=>f==null?void 0:f(!1),style:{width:"calc(100% - 8px)",background:"none",whiteSpace:"nowrap",opacity:1,outline:"none",color:"var(--chakra-colors-text_caption)",fontSize:"28px",height:"38px",lineHeight:"34px",touchAction:"manipulation",transition:"all 0.3s",fontWeight:"500"}})}),u.jsx(Of,{children:u.jsx(j.Suspense,{fallback:u.jsx(Me,{h:"20px",w:"100px",borderRadius:"8px"}),children:u.jsx(nx,{openSelectChainAndTokenModal:()=>E(),currentCoinKey:d==null?void 0:d.address,currentChain:M,value:d,platform:I})})})]}),u.jsxs(W,{mt:"4px",justify:"space-between",w:"100%",children:[u.jsx(F,{width:"50%",flex:"0",fontWeight:"500",children:p&&+p?`${Yg(p,2)}`:null}),u.jsxs(W,{justify:"flex-end",gap:"8px",children:[u.jsx(Me,{isLoaded:!m,children:u.jsxs(W,{gap:"4px",children:[g?u.jsx(F,{children:g}):u.jsx(Ae,{xlinkHref:"#icon-icon_wallet",svgHover:"text_paragraph",cursor:"default"}),u.jsx(F,{children:!l||l==="0"?"0.0":tu(l)})]})}),x&&u.jsx(Xt,{onClick:S,fontSize:"12px",fontWeight:"500",lineHeight:"20px",color:"text_paragraph",w:"42px",h:"20px",bg:"button_outline_bg",borderRadius:"4px",variant:"outline",children:"HALF"}),y&&u.jsx(Xt,{onClick:T,fontSize:"12px",fontWeight:"500",lineHeight:"20px",color:"text_paragraph",w:"42px",h:"20px",bg:"button_outline_bg",borderRadius:"4px",variant:"outline",children:"MAX"})]})]})]})]})}function tb(n){const{wrapStyle:e,from:t,to:s,onClick:i}=n,{isApp:r}=tn(),[o,a]=j.useState("#icon-a-icon_trade"),c=()=>{a("#icon-icon_swap1")},l=()=>{a("#icon-a-icon_trade")};return u.jsxs(q,{gap:"8px",w:"100%",position:"relative",...e,children:[u.jsx(od,{...t}),u.jsx(od,{...s}),u.jsx(ld,{zIndex:999,w:"36px",h:"36px",borderRadius:"50%",position:"absolute",top:"calc(50% - 18px)",left:"calc(50% - 18px)",border:"1px solid",borderColor:"token_inactive_border",boxShadow:"trade_icon_shadow",bg:"input_bg",onClick:i,onMouseEnter:r?()=>{}:c,onMouseLeave:r?()=>{}:l,sx:{_hover:r?{}:{cursor:"pointer",borderColor:"token_active_border",boxShadow:"0px 0px 6px 0px #0067AD"}},children:u.jsx(Ae,{fontSize:o==="#icon-a-icon_trade"?"12px":"16px",xlinkHref:o,svgFill:"text_caption",transform:o==="#icon-a-icon_trade"?"":"rotate(90deg)"})})]})}function Nf(n){const{platform:e,isShowCrossSelectRouter:t,handleShowCrossSelectRouter:s}=n,{windowWidth:i}=tn(),{fromChainAddress:r,toChainAddress:o,fromTokenBalance:a,toTokenBalance:c,handleInputAmountChange:l,isOpenHistoryModal:d,setIsOpenHistoryModal:h,isOpenSelectChainAndTokenModal:f,setIsOpenSelectChainAndTokenModal:p,handleWalletAction:m,handleExecuteQuote:g,resetData:x,handleChangeChainAndToken:y,refetchQuote:A,handleConnectWalletClick:M,isSelectFromToken:I,setIsSelectFromToken:N}=Nx(e),{routers:E,findRouterLoading:C,fromCoinAmount:S,quote:T,setCrossSwapOptions:D}=sn(),{fromChain:O,toChain:G,fromToken:U,toToken:Q}=Pl(e),{crossWalletModalData:L,setCrossWalletModalData:_,switchChainLoading:v,settingToAddressModalData:X,setSettingToAddressModalData:$}=Tt(),{showPriceImpactWarn:ue}=Ul(e,T==null?void 0:T.from_token,T==null?void 0:T.to_token,T==null?void 0:T.amount_in_formatted,T==null?void 0:T.amount_out_formatted),ke=j.useRef(null),[Oe,lt]=j.useState(!1),nt=j.useMemo(()=>(lt(!1),T?T.amount_out_formatted:(s(!1),"")),[T==null?void 0:T.amount_out_formatted]),{btnText:wt,btnDisabled:Be,action:Xe}=hx(e,Oe,ue,O,U,r.address,o.address,a==null?void 0:a.balance_formatted,E),{showErrorTips:$e}=YA(E,e,U,T,a==null?void 0:a.balance_formatted);return u.jsxs(q,{mt:{base:"28px",lg:i&&i<1024?"0":"42px"},w:{base:"100%",lg:"470px"},position:"relative",children:[u.jsxs(W,{width:"100%",justifyContent:"space-between",h:"52px",alignItems:"center",children:[u.jsx(F,{fontSize:"16px",fontWeight:"500",color:"text_caption",children:"Cross-Chain Swap"}),u.jsx($x,{platform:e,fromChainAddress:r.address,setIsOpenHistoryModal:h,progressRef:ke,handleRefresh:A})]}),u.jsx(tb,{wrapStyle:{width:"100%",mt:"-6px"},onClick:y,from:{title:"You Pay",currentCoin:U,value:S,balance:(a==null?void 0:a.balance_formatted)||"0",placeholder:"0.0",currentChain:O,platform:e,amountValue:(T==null?void 0:T.amount_in_usd)||"0",onChange:Fe=>{l(Fe)},onFocusChange:()=>{},openSelectChainAndTokenModal:()=>{N(!0),p(!0)},walletAddress:r.address,onConnectWallet:()=>{M(!0)}},to:{title:"You Receive",currentCoin:Q,inputAllowed:!1,value:nt,balance:(c==null?void 0:c.balance_formatted)||"0",placeholder:"0.0",half:!1,max:!1,loading:C,currentChain:G,platform:e,walletAddress:o.address,onConnectWallet:()=>{M(!1)},amountValue:C?"0":(T==null?void 0:T.amount_out_usd)||"0",onChange:()=>{},onFocusChange:()=>{},openSelectChainAndTokenModal:()=>{N(!1),p(!0)}}}),$e&&!C&&u.jsx(Td,{tips:$e,bg:"primary_yellow_opacity.10",type:"warning",isShowIcon:!0,tipsFontSize:"12px"}),ue&&!C&&u.jsx(Tx,{confirmPriceDiff:Oe,handleConfirmPriceDiffClick:Fe=>{lt(Fe)}}),u.jsxs(q,{bg:"bg_secondary",w:"100%",borderRadius:"12px 12px 16px 16px",border:"1px solid",borderColor:"border",children:[u.jsx(Xt,{fontSize:"18px",fontWeight:"500",width:"100%",h:"52px",m:"-1px",isDisabled:Be,isLoading:C||v,onClick:()=>{Xe==="swap"?T&&g(T):Xe==="approve"||(Xe==="connect_from"?m(!0,"connect"):Xe==="connect_to"&&M(!1))},children:wt}),T&&u.jsx(Qx,{platform:e,toCoinAmount:nt,isShowCrossSelectRouter:t,handleShowCrossSelectRouter:()=>{s(!t)}})]}),u.jsx(kx,{crossPlatform:e}),d&&u.jsx(Px,{fromChainAddress:r.address,isOpen:d,onClose:()=>h(!1),platform:e}),f&&u.jsx(qx,{isOpen:f,onClose:()=>p(!1),onChangeChainAndCoin:(Fe,mt)=>{if(I){const In=Q&&ac(mt,Q);D(e,{fromChain:Fe,fromToken:mt,toToken:In?void 0:Q})}else{const In=U&&ac(mt,U);D(e,{toChain:Fe,toToken:mt,fromToken:In?void 0:U})}x(),p(!1)},crossPlatform:e,isPay:I,fromChain:O,toChain:G,fromToken:U,toToken:Q}),L&&u.jsx(Cx,{isOpen:!0,onClose:()=>{_(void 0)},handleChangeWallet:()=>{m(L.isFrom,"change")},handleDisconnectWallet:()=>{m(L.isFrom,"disconnect")},data:L}),X&&u.jsx(Dx,{isOpen:!0,handleChangeWallet:()=>{m(!1,"connect")},onClose:()=>$(void 0),data:X})]})}function nb(){const n=ud(),{isApp:e}=tn(),t=j.useMemo(()=>{const r=n.pathname;return r.includes("/cross-swap/li.fi")?"li.fi":r.includes("/cross-swap/mayan")?"mayan":"li.fi"},[n.pathname]),[s,i]=j.useState(!1);return e?u.jsx(sb,{platform:t,isShowCrossSelectRouter:s,setIsShowCrossSelectRouter:i}):u.jsx(ib,{platform:t,isShowCrossSelectRouter:s,setIsShowCrossSelectRouter:i})}function sb({platform:n,isShowCrossSelectRouter:e,setIsShowCrossSelectRouter:t}){return u.jsxs(q,{w:"100%",maxW:"100%",alignItems:"stretch",children:[u.jsx(Nf,{platform:n,isShowCrossSelectRouter:e,handleShowCrossSelectRouter:s=>{t(s)}}),n==="li.fi"&&e&&u.jsx(dx,{isOpenSelectRouter:e,onClose:()=>{t(!1)}})]})}function ib({platform:n,isShowCrossSelectRouter:e,setIsShowCrossSelectRouter:t}){return u.jsx(Ie,{transition:"all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94)",willChange:"transform",transform:e?"calc(50% - 235px))":"translateX(calc(50% - 235px))",children:u.jsxs(W,{alignItems:"start",gap:"16px",position:"relative",children:[u.jsx(Nf,{platform:n,isShowCrossSelectRouter:e,handleShowCrossSelectRouter:s=>{t(s)}}),n==="li.fi"&&u.jsx(Ie,{transition:"all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94)",opacity:e?1:0,transform:e?"translateX(0) scale(1)":"translateX(30px) scale(0.95)",pointerEvents:e?"auto":"none",willChange:"transform, opacity",visibility:e?"visible":"hidden",children:u.jsx(ux,{isOpenSelectRouter:e,onClose:()=>{t(!1)}})})]})})}function rb(n){const{isOpen:e,onClose:t,step:s,swapText:i,approveSymbol:r}=n;return u.jsxs(Gs,{autoFocus:!1,returnFocusOnClose:!1,isOpen:e,onClose:()=>t(!1),isCentered:!0,children:[u.jsx(Hs,{}),u.jsxs(Ys,{children:[u.jsx(Vs,{children:u.jsx(ts,{fontWeight:"500",fontSize:"16px",children:"Waiting for Confirmation"})}),u.jsx(Zs,{onClick:()=>t(!0)}),u.jsx(Ks,{children:u.jsxs(q,{gap:"24px",pb:"24px",pt:"28px",w:"100%",children:[u.jsxs(q,{gap:"0",align:"flex-start",children:[u.jsxs(W,{children:[s===1?u.jsxs(Ie,{position:"relative",w:"24px",h:"24px",display:"flex",alignItems:"center",justifyContent:"center",children:[u.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:[u.jsx("circle",{cx:"12",cy:"12",r:"12",fill:"#2A3238"}),u.jsx("path",{d:"M12 2 A10 10 0 0 1 12 22",stroke:"#75C8FF",strokeWidth:"2",fill:"none"})]}),u.jsx(F,{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"primary",fontWeight:"500",fontSize:"14px",children:"1"})]}):u.jsxs(Ie,{position:"relative",w:"24px",h:"24px",display:"flex",alignItems:"center",justifyContent:"center",children:[u.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:u.jsx("circle",{cx:"12",cy:"12",r:"12",fill:"#2A3238"})}),u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)"},children:u.jsx("path",{d:"M4 8.5L7 11.5L12 5.5",stroke:"#75C8FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),u.jsxs(F,{ml:"12px",fontWeight:500,color:s===2?"text_paragraph":"primary",fontSize:"14px",children:["Approve ",r," spending in your wallet"]})]}),u.jsx(Ie,{ml:"12px",mt:"4px",h:"20px",borderLeft:"2px solid #2A3238"}),u.jsxs(W,{mt:"4px",children:[s===2?u.jsxs(Ie,{position:"relative",w:"24px",h:"24px",display:"flex",alignItems:"center",justifyContent:"center",children:[u.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:[u.jsx("circle",{cx:"12",cy:"12",r:"12",fill:"#2A3238"}),u.jsx("path",{d:"M12 2 A10 10 0 0 1 12 22",stroke:"#75C8FF",strokeWidth:"2",fill:"none"})]}),u.jsx(F,{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"#75C8FF",fontWeight:500,fontSize:"14px",children:"2"})]}):u.jsxs(Ie,{position:"relative",w:"24px",h:"24px",display:"flex",alignItems:"center",justifyContent:"center",children:[u.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:u.jsx("circle",{cx:"12",cy:"12",r:"11",stroke:"#2A3238",strokeWidth:"2",fill:"transparent"})}),u.jsx(F,{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"text_paragraph",fontWeight:500,fontSize:"14px",children:"2"})]}),u.jsx(F,{ml:"12px",fontWeight:500,color:s===2?"primary":"text_paragraph",fontSize:"14px",children:"Confirm this transaction in your wallet"})]})]}),u.jsx(F,{mt:"20px",color:"#fff",fontSize:"14px",pt:"12px",w:"100%",textAlign:"center",children:i})]})})]})]})}const ad=[{name:"Phantom",walletName:"app.phantom.bitcoin",url:"https://chromewebstore.google.com/detail/phantom/bfnaelmomeimhlpmgjnjophhpkkoljpa",icon:"phantom"},{name:"Xverse Wallet",walletName:"XverseProviders.BitcoinProvider",icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MDAiIGhlaWdodD0iNjAwIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGZpbGw9IiMxNzE3MTciIGQ9Ik0wIDBoNjAwdjYwMEgweiIvPjxwYXRoIGZpbGw9IiNGRkYiIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTQ0MCA0MzUuNHYtNTFjMC0yLS44LTMuOS0yLjItNS4zTDIyMCAxNjIuMmE3LjYgNy42IDAgMCAwLTUuNC0yLjJoLTUxLjFjLTIuNSAwLTQuNiAyLTQuNiA0LjZ2NDcuM2MwIDIgLjggNCAyLjIgNS40bDc4LjIgNzcuOGE0LjYgNC42IDAgMCAxIDAgNi41bC03OSA3OC43Yy0xIC45LTEuNCAyLTEuNCAzLjJ2NTJjMCAyLjQgMiA0LjUgNC42IDQuNUgyNDljMi42IDAgNC42LTIgNC42LTQuNlY0MDVjMC0xLjIuNS0yLjQgMS40LTMuM2w0Mi40LTQyLjJhNC42IDQuNiAwIDAgMSA2LjQgMGw3OC43IDc4LjRhNy42IDcuNiAwIDAgMCA1LjQgMi4yaDQ3LjVjMi41IDAgNC42LTIgNC42LTQuNloiLz48cGF0aCBmaWxsPSIjRUU3QTMwIiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0zMjUuNiAyMjcuMmg0Mi44YzIuNiAwIDQuNiAyLjEgNC42IDQuNnY0Mi42YzAgNCA1IDYuMSA4IDMuMmw1OC43LTU4LjVjLjgtLjggMS4zLTIgMS4zLTMuMnYtNTEuMmMwLTIuNi0yLTQuNi00LjYtNC42TDM4NCAxNjBjLTEuMiAwLTIuNC41LTMuMyAxLjNsLTU4LjQgNTguMWE0LjYgNC42IDAgMCAwIDMuMiA3LjhaIi8+PC9nPjwvc3ZnPg==",url:"https://chromewebstore.google.com/detail/xverse-bitcoin-crypto-wal/idnnbdplmphpflfnlkomgpfbpcgelopg"},{name:"XDEFI",walletName:"io.xdefi.bitcoin",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF8yMTkxXzQyOTApIj4KPHJlY3Qgd2lkdGg9IjUxMiIgaGVpZ2h0PSI1MTIiIHJ4PSIxMDQiIGZpbGw9IiMzMzVERTUiLz4KPHBhdGggZD0iTTQ2My40MzggMjQxLjI0N0M0NjAuNzY1IDIwNS4xMzUgNDQ4LjU4IDE3MC4zMzggNDI4LjA4NyAxNDAuMjcxQzQwNy41OTkgMTEwLjIwOSAzNzkuNTA5IDg1LjkxODIgMzQ2LjU3OSA2OS43OTZDMzEzLjY1MyA1My42NzggMjc3LjAzMiA0Ni4yODA0IDI0MC4zMiA0OC4zMzYzQzIwMy42MDUgNTAuMzkyMSAxNjguMDY5IDYxLjgyNTUgMTM3LjIxMiA4MS41MjAxQzEwNi4zNTQgMTAxLjIxIDgxLjIzOTQgMTI4LjQ4IDY0LjMzODYgMTYwLjYzNkw2My41MzYgMTYyLjI1N0M1OC4xOTcxIDE3My4xMjYgNTQuNTg3OCAxODQuNzQ1IDUyLjg0MTEgMTk2LjY5N0M0Ny44NDU1IDIzMi4wMjEgNTUuNTkyIDI2My40NiA3NS44Mjc1IDI4Ny42NjdDOTcuOTU5OSAzMTQuMTM2IDEzMy45OTMgMzI5Ljg3OSAxNzcuMjE1IDMzMS45NDdDMjI5LjgzMiAzMzQuNTU1IDI4Mi4xNDggMzIwLjQzNCAzMTkuMjc1IDI5NC40NThMMzQxLjI4NyAzMDcuMzUzQzMyMC4yNTggMzI1LjI5MSAyNzEuNjM3IDM1Ny41OTQgMTkxLjExMiAzNjIuMDA5QzEwMC43MTkgMzY2LjkzIDYzLjA0MjUgMzM4LjAwMSA2Mi42OTA1IDMzNy43MDZMNTYuMzUxNyAzNDUuNDAzTDQ4IDM1NS4yNzNDNDkuNjAwOCAzNTYuNiA4NS43Mjg1IDM4NS4zMzUgMTcwLjU3NiAzODUuMzM1QzE3Ny41MiAzODUuMzM1IDE4NC44MTYgMzg1LjMzNSAxOTIuNDEyIDM4NC43NDZDMjg5Ljg3MyAzNzkuMzkxIDM0My40NzYgMzM3LjU3NSAzNjIuMjMxIDMxOS42MjlMMzgwLjY0MiAzMzAuNjM3QzM2OC4yNjEgMzQ2LjY1OCAzNTMuMDI1IDM2MC4zMzMgMzM1LjY3IDM3MC45ODJDMjc0LjUwNCA0MDkuODQ5IDE5Ni43MDggNDE0Ljg2NyAxNDIuMjQyIDQxMi4xNjJMMTQxLjA5NiA0MzQuODMxQzE1MC4yNDIgNDM1LjI3MyAxNTkuMDM1IDQzNS40NzEgMTY3LjU4IDQzNS40NzFDMzIxLjA0OCA0MzUuNDcxIDM4My4xMzIgMzY2LjcxOSA0MDAuNTM5IDM0Mi4wNjJMNDE0LjkyNSAzNTAuNDg3QzQwMS4xMzUgMzczLjYwMyAzODIuMzkzIDM5My41NjcgMzU5LjkzMSA0MDguOTM5QzMzMy4wMzQgNDI3LjM0NSAzMDEuNzM1IDQzOC41MzggMjY5LjExNCA0NDEuNDE1TDI3MS4xMTQgNDY0QzMwNy43MzkgNDYwLjc4NiAzNDIuODg4IDQ0OC4yMzYgMzczLjA4OSA0MjcuNTgxQzQwMy4yOSA0MDYuOTI2IDQyNy41MDggMzc4Ljg4MSA0NDMuMzQ5IDM0Ni4yMDdDNDU5LjE4NSAzMTMuNTI5IDQ2Ni4xMTYgMjc3LjM1OCA0NjMuNDM4IDI0MS4yNDdaTTM3NC44MSAyNDQuNzM5QzM2NC42MjYgMjQ0LjczOSAzNTYuMzY4IDIzNi42MTMgMzU2LjM2OCAyMjYuNTg2QzM1Ni4zNjggMjE2LjU2IDM2NC42MjEgMjA4LjQzMyAzNzQuODEgMjA4LjQzM0MzODQuOTkgMjA4LjQzMyAzOTMuMjQ3IDIxNi41NiAzOTMuMjQ3IDIyNi41ODZDMzkzLjI0NyAyMzYuNjEzIDM4NC45OTQgMjQ0LjczOSAzNzQuODEgMjQ0LjczOVoiIGZpbGw9IiNFQ0VDRUMiLz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF8yMTkxXzQyOTAiPgo8cmVjdCB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgZmlsbD0id2hpdGUiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4K",url:"https://chromewebstore.google.com/detail/ctrl-wallet/hmeobnfnfcmdkdcmlblgagmfpfboieaf"},{name:"OKX Wallet",walletName:"com.okex.wallet.bitcoin",url:"https://chrome.google.com/webstore/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge",icon:"okx"},{name:"Leather",walletName:"LeatherProvider",icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4IiBmaWxsPSJub25lIj4KICAgIDxwYXRoIGZpbGw9IiMxMjEwMEYiIGQ9Ik0wIDBoMTI4djEyOEgweiIvPgogICAgPHBhdGggZmlsbD0iI0Y1RjFFRCIgZD0iTTc0LjkxNyA1Mi43MTFjNy41Ni0xLjE3IDE4LjQ5Mi05LjEzIDE4LjQ5Mi0xNS4zMzUgMC0xLjg3My0xLjUxMi0zLjE2LTMuNzIyLTMuMTYtNC4xODcgMC0xMS4yOCA2LjMyLTE0Ljc3IDE4LjQ5NU0zOS45MTEgODMuNWMtOS44ODUgMC0xMC43IDkuODMzLS44MTQgOS44MzMgNC40MiAwIDkuNzctMS43NTYgMTIuNTYtNC45MTYtNC4wNy0zLjUxMi03LjQ0My00LjkxNy0xMS43NDYtNC45MTdtNjIuOTE4LTQuMjE0Yy41ODEgMTYuNTA2LTcuNzkyIDI1Ljc1NC0yMS45OCAyNS43NTQtOC4zNzQgMC0xMi41Ni0zLjE2MS0yMS41MTYtOS4wMTQtNC42NTIgNS4xNTEtMTMuNDkgOS4wMTQtMjAuODE4IDkuMDE0LTI1LjIzNiAwLTI0LjE5LTMyLjE5MyAxLjUxMi0zMi4xOTMgNS4zNSAwIDkuODg2IDEuNDA1IDE1LjcgNS4wMzRsMy44MzktMTMuNDYyQzQzLjc0OSA2MC4wODYgMzUuODQgNDcuOTEyIDQzLjYzMyAzMC40NjloMTIuNTZjLTYuOTc4IDExLjU5LTIuMjEgMjEuMTg5IDYuNjI5IDIyLjI0MkM2Ny41OSAzNS43MzcgNzcuODI1IDIyLjUxIDkxLjQzMiAyMi41MWM3LjY3NSAwIDEzLjcyMyA1LjAzNCAxMy43MjMgMTQuMTY1IDAgMTQuNjMzLTE5LjA3MyAyNi41NzMtMzMuNDk0IDI3Ljc0NEw2NS43MyA4NS4zNzJjNi43NDUgNy44NDMgMjUuNDY5IDE1LjQ1MiAyNS40NjktNi4wODd6Ii8+Cjwvc3ZnPg==",url:"https://chromewebstore.google.com/detail/leather/ldinpeekobnhjjdofggfgjlcehhmanlj"},{name:"OneKey",walletName:"so.onekey.app.wallet.bitcoin",url:"https://chromewebstore.google.com/detail/onekey/jnmbobjmhlngoefaiojfljckilhhlhcj",icon:"onekey"},{name:"Binance",walletName:"binance",url:"https://chromewebstore.google.com/detail/%E5%B8%81%E5%AE%89%E9%93%BE%E9%92%B1%E5%8C%85/fhbohimaelbohpjbbldcngcnapndodjp?hl=zh-CN&utm_source=ext_sidebar",icon:"binance"},{name:"Bitget",walletName:"bitget",url:"https://chrome.google.com/webstore/detail/bitkeep-bitcoin-crypto-wa/jiidiaalihmmhddjgbnbgdfflelocpak",icon:"bitget"},{name:"Oyl",walletName:"OylProvider",icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMjAiIGhlaWdodD0iMzIwIiB2aWV3Qm94PSIwIDAgMzIwIDMyMCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIzMjAiIGhlaWdodD0iMzIwIiBmaWxsPSJibGFjayIvPgo8ZyBjbGlwLXBhdGg9InVybCgjY2xpcDBfNV8yKSI+CjxwYXRoIGQ9Ik0xNjAgMjA0QzE3Ny41NTYgMjA0IDE5NC4wNzkgMjAyLjQzOSAyMDkuNTcgMTk5LjMxOEMyMjUuMDYxIDE5Ni4yNzYgMjM3LjY1MiAxOTEuNDc0IDI0Ny4zNDMgMTg0LjkxQzI1Ny4xMTQgMTc4LjM0NyAyNjIgMTcwLjEwMyAyNjIgMTYwLjE3OEMyNjIgMTUwLjI1MyAyNTcuMTE0IDE0MS44ODkgMjQ3LjM0MyAxMzUuMDg2QzIzNy41NzIgMTI4LjM2MiAyMjQuOTAyIDEyMy4zNiAyMDkuMzMyIDEyMC4wNzhDMTkzLjg0MSAxMTYuNzk2IDE3Ny4zOTcgMTE1LjE1NiAxNjAgMTE1LjE1NkMxNDIuNDQ0IDExNS4xNTYgMTI1LjkyMSAxMTYuNjc2IDExMC40MyAxMTkuNzE4Qzk0LjkzOTMgMTIyLjgzOSA4Mi4zMDg0IDEyNy42ODIgNzIuNTM3NCAxMzQuMjQ1QzYyLjg0NTggMTQwLjgwOCA1OCAxNDkuMDUyIDU4IDE1OC45NzhDNTggMTY4LjkwMyA2Mi44ODU1IDE3Ny4yMjcgNzIuNjU2NSAxODMuOTVDODIuNDI3NiAxOTAuNzUzIDk1LjA1ODQgMTk1Ljc5NiAxMTAuNTQ5IDE5OS4wNzhDMTI2LjExOSAyMDIuMzU5IDE0Mi42MDMgMjA0IDE2MCAyMDRaTTE2MC4yMzggMTMyLjIwNEMxNjguNTc5IDEzMi4yMDQgMTc2LjkyMSAxMzMuMDg0IDE4NS4yNjIgMTM0Ljg0NUMxOTMuNjgyIDEzNi42MDYgMjAwLjc1MiAxMzkuNTI4IDIwNi40NzIgMTQzLjYxQzIxMi4xOTIgMTQ3LjY5MiAyMTUuMDUxIDE1My4wMTUgMjE1LjA1MSAxNTkuNTc4QzIxNS4wNTEgMTY2LjE0MSAyMTIuMTkyIDE3MS40NjQgMjA2LjQ3MiAxNzUuNTQ2QzIwMC43NTIgMTc5LjYyOCAxOTMuNjgyIDE4Mi41NDkgMTg1LjI2MiAxODQuMzFDMTc2LjkyMSAxODYuMDcxIDE2OC41NzkgMTg2Ljk1MSAxNjAuMjM4IDE4Ni45NTFIMTU5Ljc2MkMxNTEuNDIxIDE4Ni45NTEgMTQzLjA0IDE4Ni4wNzEgMTM0LjYxOSAxODQuMzFDMTI2LjI3OCAxODIuNTQ5IDExOS4yNDggMTc5LjYyOCAxMTMuNTI4IDE3NS41NDZDMTA3LjgwOCAxNzEuNDY0IDEwNC45NDkgMTY2LjE0MSAxMDQuOTQ5IDE1OS41NzhDMTA0Ljk0OSAxNTMuMDE1IDEwNy44MDggMTQ3LjY5MiAxMTMuNTI4IDE0My42MUMxMTkuMjQ4IDEzOS41MjggMTI2LjI3OCAxMzYuNjA2IDEzNC42MTkgMTM0Ljg0NUMxNDMuMDQgMTMzLjA4NCAxNTEuNDIxIDEzMi4yMDQgMTU5Ljc2MiAxMzIuMjA0SDE2MC4yMzhaIiBmaWxsPSJ3aGl0ZSIvPgo8L2c+CjxkZWZzPgo8Y2xpcFBhdGggaWQ9ImNsaXAwXzVfMiI+CjxyZWN0IHdpZHRoPSIyMDQiIGhlaWdodD0iODkiIGZpbGw9IndoaXRlIiB0cmFuc2Zvcm09Im1hdHJpeCgxIDAgMCAtMSA1OCAyMDQpIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+",url:"https://chromewebstore.google.com/detail/oyl-wallet-bitcoin-ordina/ilolmnhjbbggkmopnemiphomhaojndmb"}];function ob(n){const{isOpen:e,onClose:t}=n,{connectors:s}=Xf(),{setFromAddressObj:i,setToAddressObj:r}=Tt(),{isApp:o}=tn(),{customToast:a,successTsToast:c}=yl(),l=h=>{a(u.jsxs(q,{gap:"8px",alignItems:"start",children:[u.jsxs(W,{children:[u.jsx(Ae,{xlinkHref:"#icon-icon_close",variant:"error"}),u.jsx(ts,{fontSize:"14px",fontWeight:"400",whiteSpace:"nowrap",color:"primary_red",children:"Wallet Not Ready Error"})]}),u.jsxs(W,{children:[u.jsx(F,{fontSize:"14px",color:"primary_gray",wordBreak:"break-all",children:"Please install"}),u.jsx(F,{cursor:"pointer",fontSize:"14px",color:"primary",wordBreak:"break-all",onClick:()=>{window.open(h.url,"_blank")},children:h.name}),u.jsx(F,{fontSize:"14px",color:"primary_gray",wordBreak:"break-all",children:"extension first"})]})]}))},d=async h=>{const f=s.find(m=>m.name===h.name);console.log("ðŸš€ ~ file: ConnectWalletModal.tsx:30 ~ ConnectWalletModal ~ supportWalletList:",{btcWalletList:ad,wallet:h,walletObj:f});const p=Zm((f==null?void 0:f.id)??"");if(!f||!p){l(h);return}try{const m=await f.connect();i(B.UTXO,{chain_address:m.accounts[0]}),r(B.UTXO,{chain_address:m.accounts[0]}),console.log("ðŸš€ ~ file: ConnectWalletModal.tsx:90 ~ handleConnectWallet ~ res:",m),c({getShowInfo:g=>({iconUrl:h.icon.startsWith("http")||h.icon.startsWith("data:image")?h.icon:`/images/wallet/${h.icon}.png`,toastTitleText:"Wallet Connected"})}),t()}catch(m){console.log("ðŸš€ ~ file: ConnectWalletMode.tsx:29 ~ handleConnectWallet ~ onError:",{error:m}),String(m).includes("MetaMask not detected")&&l(h)}};return u.jsxs(Gs,{autoFocus:!1,returnFocusOnClose:!1,isOpen:e,onClose:t,isCentered:!0,children:[u.jsx(Hs,{}),u.jsxs(Ys,{minW:o?"300px":"552px",children:[u.jsx(Vs,{children:"Connect a Wallet"}),u.jsx(Zs,{}),u.jsx(Ks,{p:"16px",textAlign:"center",children:u.jsx(q,{children:u.jsx(hd,{templateColumns:o?"repeat(2, 1fr)":"repeat(3, 1fr)",gap:13,w:"100%",children:ad.map(h=>u.jsx($a,{colSpan:1,children:u.jsxs(W,{p:"0 12px",h:"60px",bg:"bg_six",borderRadius:"8px",border:"1px solid",borderColor:"border",cursor:"pointer",_hover:{p:{color:"primary"}},onClick:()=>{d(h)},children:[u.jsx(Bt,{src:h.icon.startsWith("http")||h.icon.startsWith("data:image")?h.icon:`/images/wallet/${h.icon}.png`,alt:"SVG Image",boxSize:{base:"28px",lg:"36px"},objectFit:"cover",borderRadius:"8px",loading:"lazy"}),u.jsxs(q,{align:"flex-start",gap:"4px",children:[h.name=="SuiMetaMaskSnap"?u.jsxs(q,{align:"flex-start",gap:"0px",children:[u.jsx(F,{color:"text_caption",textAlign:"left",children:"Sui"}),u.jsx(F,{textAlign:"left",color:"text_caption",children:"MetaMask"}),u.jsx(F,{textAlign:"left",color:"text_caption",children:"Snap"})]}):u.jsx(F,{lineHeight:"16px",textAlign:"left",color:"text_caption",whiteSpace:"normal",wordBreak:"break-word",overflowWrap:"break-word",children:h.name}),h.name=="Binance"&&u.jsx(F,{fontWeight:"500",fontSize:"10px",p:"2px 6px",textAlign:"center",borderRadius:"4px",bg:"primary_opacity.10",color:"primary",children:"Mobile"})]})]})},h.name))})})})]})]})}const ab=j.memo(ob);function cb(n={bigmiConfig:{multiInjectedProviderDiscovery:!1}}){const e=[$f({chainId:Dt.BTC}),ep({chainId:Dt.BTC}),tp({chainId:Dt.BTC}),np({chainId:Dt.BTC}),sp({chainId:Dt.BTC}),ip({chainId:Dt.BTC}),rp({chainId:Dt.BTC}),op({chainId:Dt.BTC}),ap({chainId:Dt.BTC}),cp({chainId:Dt.BTC}),lp({chainId:Dt.BTC}),...(n==null?void 0:n.connectors)??[]];return{config:up({chains:[dp],connectors:e,client({chain:s}){return hp({chain:s,transport:fp()})},...n==null?void 0:n.bigmiConfig}),connectors:e}}var cd=new Map,lb=({projectId:n,walletConnectParameters:e,rkDetailsShowQrModal:t,rkDetailsIsWalletConnectModalConnector:s})=>{let i={...e||{},projectId:n,showQrModal:!1};t&&(i={...i,showQrModal:!0}),"customStoragePrefix"in i||(i={...i,customStoragePrefix:s?"clientOne":"clientTwo"});const r=JSON.stringify(i),o=cd.get(r);if(o)return o;const a=pp(i);return cd.set(r,a),a};function ub({projectId:n,walletDetails:e,walletConnectParameters:t}){return da(s=>({...lb({projectId:n,walletConnectParameters:t,rkDetailsShowQrModal:e.rkDetails.showQrModal,rkDetailsIsWalletConnectModalConnector:e.rkDetails.isWalletConnectModalConnector})(s),...e}))}function tt({projectId:n,walletConnectParameters:e}){const t="21fef48091f12692cad574a6f7753643";if(!n||n==="")throw new Error("No projectId found. Every dApp must now provide a WalletConnect Cloud projectId to enable WalletConnect v2 https://www.rainbowkit.com/docs/installation#configure");return n==="YOUR_PROJECT_ID"&&(n=t),s=>ub({projectId:n,walletDetails:s,walletConnectParameters:e})}function os(){return typeof navigator<"u"&&/android/i.test(navigator.userAgent)}function db(){return typeof navigator<"u"&&/iPhone|iPod/.test(navigator.userAgent)}function hb(){return typeof navigator<"u"&&(/iPad/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)}function Wl(){return db()||hb()}function Wr(){return os()||Wl()}function Ef(n){const e=typeof window<"u"?window:void 0;if(typeof e>"u"||typeof e.ethereum>"u")return;const t=e.ethereum.providers;return t?t.find(s=>s[n]):e.ethereum[n]?e.ethereum:void 0}function jf(n){const e=(t,s)=>{const[i,...r]=s.split("."),o=t[i];if(o)return r.length===0?o:e(o,r.join("."))};if(typeof window<"u")return e(window,n)}function at({flag:n,namespace:e}){return!!(e&&typeof jf(e)<"u"||n&&typeof Ef(n)<"u")}function fb({flag:n,namespace:e}){var i;const t=typeof window<"u"?window:void 0;if(typeof t>"u")return;if(e){const r=jf(e);if(r)return r}const s=(i=t.ethereum)==null?void 0:i.providers;if(n){const r=Ef(n);if(r)return r}return typeof s<"u"&&s.length>0?s[0]:t.ethereum}function pb(n){return e=>{const t=n?{target:()=>({id:e.rkDetails.id,name:e.rkDetails.name,provider:n})}:{};return da(s=>({...gp(t)(s),...e}))}}function ct({flag:n,namespace:e,target:t}){const s=t||fb({flag:n,namespace:e});return pb(s)}var gb=({projectId:n,options:e})=>({id:"walletConnect",name:"WalletConnect",installed:void 0,iconUrl:async()=>(await we(async()=>{const{default:s}=await import("./walletConnectWallet-YHWKVTDY-BcMJSWZw.js");return{default:s}},[])).default,iconBackground:"#3b99fc",qrCode:{getUri:s=>s},createConnector:tt({projectId:n,walletConnectParameters:e})}),wb=({projectId:n,walletConnectParameters:e})=>{const t=Wr()?at({flag:"isTrust"}):at({flag:"isTrustWallet"}),s=!t,i=l=>`trust://wc?uri=${encodeURIComponent(l)}`,r=l=>l,o={getUri:s?i:void 0};let a;return s&&(a={getUri:r,instructions:{learnMoreUrl:"https://trustwallet.com/",steps:[{description:"wallet_connectors.trust.qr_code.step1.description",step:"install",title:"wallet_connectors.trust.qr_code.step1.title"},{description:"wallet_connectors.trust.qr_code.step2.description",step:"create",title:"wallet_connectors.trust.qr_code.step2.title"},{description:"wallet_connectors.trust.qr_code.step3.description",step:"scan",title:"wallet_connectors.trust.qr_code.step3.title"}]}}),{id:"trust",name:"Trust Wallet",rdns:"com.trustwallet.app",iconUrl:async()=>(await we(async()=>{const{default:l}=await import("./trustWallet-42DZQQWY-B0DkYL5U.js");return{default:l}},[])).default,installed:t||void 0,iconAccent:"#3375BB",iconBackground:"#fff",downloadUrls:{android:"https://play.google.com/store/apps/details?id=com.wallet.crypto.trustapp",ios:"https://apps.apple.com/us/app/trust-crypto-bitcoin-wallet/id1288339409",mobile:"https://trustwallet.com/download",qrCode:"https://trustwallet.com/download",chrome:"https://chrome.google.com/webstore/detail/trust-wallet/egjidjbpglichdcondbcbdnbeeppgdph",browserExtension:"https://trustwallet.com/browser-extension"},mobile:o,qrCode:a,extension:{instructions:{learnMoreUrl:"https://trustwallet.com/browser-extension",steps:[{description:"wallet_connectors.trust.extension.step1.description",step:"install",title:"wallet_connectors.trust.extension.step1.title"},{description:"wallet_connectors.trust.extension.step2.description",step:"create",title:"wallet_connectors.trust.extension.step2.title"},{description:"wallet_connectors.trust.extension.step3.description",step:"refresh",title:"wallet_connectors.trust.extension.step3.title"}]}},createConnector:s?tt({projectId:n,walletConnectParameters:e}):Wr()?ct({flag:"isTrust"}):ct({flag:"isTrustWallet"})}},mb=({projectId:n,walletConnectParameters:e})=>{const t=at({flag:"isTokenPocket"}),s=!t,i=r=>Wr()?`tpoutside://wc?uri=${encodeURIComponent(r)}`:r;return{id:"tokenPocket",name:"TokenPocket",rdns:"pro.tokenpocket",iconUrl:async()=>(await we(async()=>{const{default:r}=await import("./tokenPocketWallet-U7KE4MQK-Sz_KyiLe.js");return{default:r}},[])).default,iconBackground:"#2980FE",installed:s?void 0:t,downloadUrls:{chrome:"https://chrome.google.com/webstore/detail/tokenpocket/mfgccjchihfkkindfppnaooecgfneiii",browserExtension:"https://extension.tokenpocket.pro/",android:"https://play.google.com/store/apps/details?id=vip.mytokenpocket",ios:"https://apps.apple.com/us/app/tp-global-wallet/id6444625622",qrCode:"https://tokenpocket.pro/en/download/app",mobile:"https://tokenpocket.pro/en/download/app"},mobile:{getUri:s?i:void 0},qrCode:s?{getUri:i,instructions:{learnMoreUrl:"https://help.tokenpocket.pro/en/",steps:[{description:"wallet_connectors.token_pocket.qr_code.step1.description",step:"install",title:"wallet_connectors.token_pocket.qr_code.step1.title"},{description:"wallet_connectors.token_pocket.qr_code.step2.description",step:"create",title:"wallet_connectors.token_pocket.qr_code.step2.title"},{description:"wallet_connectors.token_pocket.qr_code.step3.description",step:"scan",title:"wallet_connectors.token_pocket.qr_code.step3.title"}]}}:void 0,extension:{instructions:{learnMoreUrl:"https://help.tokenpocket.pro/en/extension-wallet/faq/installation-tutorial",steps:[{description:"wallet_connectors.token_pocket.extension.step1.description",step:"install",title:"wallet_connectors.token_pocket.extension.step1.title"},{description:"wallet_connectors.token_pocket.extension.step2.description",step:"create",title:"wallet_connectors.token_pocket.extension.step2.title"},{description:"wallet_connectors.token_pocket.extension.step3.description",step:"refresh",title:"wallet_connectors.token_pocket.extension.step3.title"}]}},createConnector:s?tt({projectId:n,walletConnectParameters:e}):ct({flag:"isTokenPocket"})}},Mb=({projectId:n,walletConnectParameters:e})=>{const s=!at({namespace:"okxwallet"});return{id:"okx",name:"OKX Wallet",rdns:"com.okex.wallet",iconUrl:async()=>(await we(async()=>{const{default:i}=await import("./okxWallet-QOP2OIPE-KJdrgOlU.js");return{default:i}},[])).default,iconAccent:"#000",iconBackground:"#000",downloadUrls:{android:"https://play.google.com/store/apps/details?id=com.okinc.okex.gp",ios:"https://itunes.apple.com/app/id1327268470?mt=8",mobile:"https://okx.com/download",qrCode:"https://okx.com/download",chrome:"https://chrome.google.com/webstore/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge",edge:"https://microsoftedge.microsoft.com/addons/detail/okx-wallet/pbpjkcldjiffchgbbndmhojiacbgflha",firefox:"https://addons.mozilla.org/firefox/addon/okexwallet/",browserExtension:"https://okx.com/download"},mobile:{getUri:s?i=>os()?i:`okex://main/wc?uri=${encodeURIComponent(i)}`:void 0},qrCode:s?{getUri:i=>i,instructions:{learnMoreUrl:"https://okx.com/web3/",steps:[{description:"wallet_connectors.okx.qr_code.step1.description",step:"install",title:"wallet_connectors.okx.qr_code.step1.title"},{description:"wallet_connectors.okx.qr_code.step2.description",step:"create",title:"wallet_connectors.okx.qr_code.step2.title"},{description:"wallet_connectors.okx.qr_code.step3.description",step:"scan",title:"wallet_connectors.okx.qr_code.step3.title"}]}}:void 0,extension:{instructions:{learnMoreUrl:"https://okx.com/web3/",steps:[{description:"wallet_connectors.okx.extension.step1.description",step:"install",title:"wallet_connectors.okx.extension.step1.title"},{description:"wallet_connectors.okx.extension.step2.description",step:"create",title:"wallet_connectors.okx.extension.step2.title"},{description:"wallet_connectors.okx.extension.step3.description",step:"refresh",title:"wallet_connectors.okx.extension.step3.title"}]}},createConnector:s?tt({projectId:n,walletConnectParameters:e}):ct({namespace:"okxwallet"})}},yb=({projectId:n,walletConnectParameters:e})=>{const t=at({flag:"isRainbow"}),s=!t,i=r=>os()?r:Wl()?`rainbow://wc?uri=${encodeURIComponent(r)}&connector=rainbowkit`:`https://rnbwapp.com/wc?uri=${encodeURIComponent(r)}&connector=rainbowkit`;return{id:"rainbow",name:"Rainbow",rdns:"me.rainbow",iconUrl:async()=>(await we(async()=>{const{default:r}=await import("./rainbowWallet-O26YNBMX-Cp7N6hKb.js");return{default:r}},[])).default,iconBackground:"#0c2f78",installed:s?void 0:t,downloadUrls:{android:"https://play.google.com/store/apps/details?id=me.rainbow&referrer=utm_source%3Drainbowkit&utm_source=rainbowkit",ios:"https://apps.apple.com/app/apple-store/id1457119021?pt=119997837&ct=rainbowkit&mt=8",mobile:"https://rainbow.download?utm_source=rainbowkit",qrCode:"https://rainbow.download?utm_source=rainbowkit&utm_medium=qrcode",browserExtension:"https://rainbow.me/extension?utm_source=rainbowkit"},mobile:{getUri:s?i:void 0},qrCode:s?{getUri:i,instructions:{learnMoreUrl:"https://learn.rainbow.me/connect-to-a-website-or-app?utm_source=rainbowkit&utm_medium=connector&utm_campaign=learnmore",steps:[{description:"wallet_connectors.rainbow.qr_code.step1.description",step:"install",title:"wallet_connectors.rainbow.qr_code.step1.title"},{description:"wallet_connectors.rainbow.qr_code.step2.description",step:"create",title:"wallet_connectors.rainbow.qr_code.step2.title"},{description:"wallet_connectors.rainbow.qr_code.step3.description",step:"scan",title:"wallet_connectors.rainbow.qr_code.step3.title"}]}}:void 0,createConnector:s?tt({projectId:n,walletConnectParameters:e}):ct({flag:"isRainbow"})}},Ab=()=>({id:"rabby",name:"Rabby Wallet",iconUrl:async()=>(await we(async()=>{const{default:n}=await import("./rabbyWallet-GFVPHCTK-CCnTfCkL.js");return{default:n}},[])).default,rdns:"io.rabby",iconBackground:"#8697FF",installed:at({flag:"isRabby"}),downloadUrls:{chrome:"https://chrome.google.com/webstore/detail/rabby-wallet/acmacodkjbdgmoleebolmdjonilkdbch",browserExtension:"https://rabby.io"},extension:{instructions:{learnMoreUrl:"https://rabby.io/",steps:[{description:"wallet_connectors.rabby.extension.step1.description",step:"install",title:"wallet_connectors.rabby.extension.step1.title"},{description:"wallet_connectors.rabby.extension.step2.description",step:"create",title:"wallet_connectors.rabby.extension.step2.title"},{description:"wallet_connectors.rabby.extension.step3.description",step:"refresh",title:"wallet_connectors.rabby.extension.step3.title"}]}},createConnector:ct({flag:"isRabby"})}),xb=({projectId:n,walletConnectParameters:e})=>({id:"omni",name:"Omni",iconUrl:async()=>(await we(async()=>{const{default:t}=await import("./omniWallet-YCK6QV5V-BV9IYSzI.js");return{default:t}},[])).default,iconBackground:"#000",downloadUrls:{android:"https://play.google.com/store/apps/details?id=fi.steakwallet.app",ios:"https://itunes.apple.com/us/app/id1569375204",mobile:"https://omniwallet.app.link",qrCode:"https://omniwallet.app.link"},mobile:{getUri:t=>os()?t:`omni://wc?uri=${encodeURIComponent(t)}`},qrCode:{getUri:t=>t,instructions:{learnMoreUrl:"https://omni.app/support",steps:[{description:"wallet_connectors.omni.qr_code.step1.description",step:"install",title:"wallet_connectors.omni.qr_code.step1.title"},{description:"wallet_connectors.omni.qr_code.step2.description",step:"create",title:"wallet_connectors.omni.qr_code.step2.title"},{description:"wallet_connectors.omni.qr_code.step3.description",step:"scan",title:"wallet_connectors.omni.qr_code.step3.title"}]}},createConnector:tt({projectId:n,walletConnectParameters:e})}),bb=({projectId:n,walletConnectParameters:e})=>({id:"1inch",name:"1inch Wallet",iconUrl:async()=>(await we(async()=>{const{default:t}=await import("./oneInchWallet-H7WWLHNC-CYeapW7E.js");return{default:t}},[])).default,iconBackground:"#fff",downloadUrls:{android:"https://play.google.com/store/apps/details?id=io.oneinch.android",ios:"https://apps.apple.com/us/app/1inch-crypto-defi-wallet/id1546049391",mobile:"https://1inch.io/wallet",qrCode:"https://1inch.io/wallet"},mobile:{getUri:t=>`oneinch://wc?uri=${encodeURIComponent(t)}`},qrCode:{getUri:t=>t,instructions:{learnMoreUrl:"https://1inch.io/wallet",steps:[{description:"wallet_connectors.1inch.qr_code.step1.description",step:"install",title:"wallet_connectors.1inch.qr_code.step1.title"},{description:"wallet_connectors.1inch.qr_code.step2.description",step:"create",title:"wallet_connectors.1inch.qr_code.step2.title"},{description:"wallet_connectors.1inch.qr_code.step3.description",step:"scan",title:"wallet_connectors.1inch.qr_code.step3.title"}]}},createConnector:tt({projectId:n,walletConnectParameters:e})}),Ib=()=>({id:"onekey",name:"OneKey",rdns:"so.onekey.app.wallet",iconAccent:"#00B812",iconBackground:"#fff",iconUrl:async()=>(await we(async()=>{const{default:n}=await import("./oneKeyWallet-W2CXILHF-BPwzKvHC.js");return{default:n}},[])).default,installed:at({namespace:"$onekey.ethereum"}),downloadUrls:{android:"https://play.google.com/store/apps/details?id=so.onekey.app.wallet",browserExtension:"https://www.onekey.so/download/",chrome:"https://chrome.google.com/webstore/detail/onekey/jnmbobjmhlngoefaiojfljckilhhlhcj",edge:"https://microsoftedge.microsoft.com/addons/detail/onekey/obffkkagpmohennipjokmpllocnlndac",ios:"https://apps.apple.com/us/app/onekey-open-source-wallet/id1609559473",mobile:"https://www.onekey.so/download/",qrCode:"https://www.onekey.so/download/"},extension:{instructions:{learnMoreUrl:"https://help.onekey.so/hc/en-us/categories/360000170236",steps:[{description:"wallet_connectors.one_key.extension.step1.description",step:"install",title:"wallet_connectors.one_key.extension.step1.title"},{description:"wallet_connectors.one_key.extension.step2.description",step:"create",title:"wallet_connectors.one_key.extension.step2.title"},{description:"wallet_connectors.one_key.extension.step3.description",step:"refresh",title:"wallet_connectors.one_key.extension.step3.title"}]}},createConnector:ct({namespace:"$onekey.ethereum"})}),Nb=()=>({id:"phantom",name:"Phantom",rdns:"app.phantom",iconUrl:async()=>(await we(async()=>{const{default:n}=await import("./phantomWallet-5SZPLGFE-CJVw8oe2.js");return{default:n}},[])).default,iconBackground:"#9A8AEE",installed:at({namespace:"phantom.ethereum"}),downloadUrls:{android:"https://play.google.com/store/apps/details?id=app.phantom",ios:"https://apps.apple.com/app/phantom-solana-wallet/1598432977",mobile:"https://phantom.app/download",qrCode:"https://phantom.app/download",chrome:"https://chrome.google.com/webstore/detail/phantom/bfnaelmomeimhlpmgjnjophhpkkoljpa",firefox:"https://addons.mozilla.org/firefox/addon/phantom-app/",browserExtension:"https://phantom.app/download"},extension:{instructions:{steps:[{description:"wallet_connectors.phantom.extension.step1.description",step:"install",title:"wallet_connectors.phantom.extension.step1.title"},{description:"wallet_connectors.phantom.extension.step2.description",step:"create",title:"wallet_connectors.phantom.extension.step2.title"},{description:"wallet_connectors.phantom.extension.step3.description",step:"refresh",title:"wallet_connectors.phantom.extension.step3.title"}],learnMoreUrl:"https://help.phantom.app"}},createConnector:ct({namespace:"phantom.ethereum"})}),Eb=({projectId:n,walletConnectParameters:e})=>({id:"imToken",name:"imToken",iconUrl:async()=>(await we(async()=>{const{default:t}=await import("./imTokenWallet-G47XZEL3-BpCOjRfP.js");return{default:t}},[])).default,iconBackground:"#098de6",downloadUrls:{android:"https://play.google.com/store/apps/details?id=im.token.app",ios:"https://itunes.apple.com/us/app/imtoken2/id1384798940",mobile:"https://token.im/download",qrCode:"https://token.im/download"},mobile:{getUri:t=>`imtokenv2://wc?uri=${encodeURIComponent(t)}`},qrCode:{getUri:t=>t,instructions:{learnMoreUrl:typeof window<"u"&&window.navigator.language.includes("zh")?"https://support.token.im/hc/zh-cn/categories/360000925393":"https://support.token.im/hc/en-us/categories/360000925393",steps:[{description:"wallet_connectors.im_token.qr_code.step1.description",step:"install",title:"wallet_connectors.im_token.qr_code.step1.title"},{description:"wallet_connectors.im_token.qr_code.step2.description",step:"create",title:"wallet_connectors.im_token.qr_code.step2.title"},{description:"wallet_connectors.im_token.qr_code.step3.description",step:"scan",title:"wallet_connectors.im_token.qr_code.step3.title"}]}},createConnector:tt({projectId:n,walletConnectParameters:e})}),jb=({projectId:n,walletConnectParameters:e})=>({id:"ledger",iconBackground:"#000",iconAccent:"#000",name:"Ledger",iconUrl:async()=>(await we(async()=>{const{default:t}=await import("./ledgerWallet-ENWBDTSW-BuYJ6Opm.js");return{default:t}},[])).default,downloadUrls:{android:"https://play.google.com/store/apps/details?id=com.ledger.live",ios:"https://apps.apple.com/us/app/ledger-live-web3-wallet/id1361671700",mobile:"https://www.ledger.com/ledger-live",qrCode:"https://r354.adj.st/?adj_t=t2esmlk",windows:"https://www.ledger.com/ledger-live/download",macos:"https://www.ledger.com/ledger-live/download",linux:"https://www.ledger.com/ledger-live/download",desktop:"https://www.ledger.com/ledger-live"},mobile:{getUri:t=>os()?t:`ledgerlive://wc?uri=${encodeURIComponent(t)}`},desktop:{getUri:t=>`ledgerlive://wc?uri=${encodeURIComponent(t)}`,instructions:{learnMoreUrl:"https://support.ledger.com/hc/en-us/articles/4404389503889-Getting-started-with-Ledger-Live",steps:[{description:"wallet_connectors.ledger.desktop.step1.description",step:"install",title:"wallet_connectors.ledger.desktop.step1.title"},{description:"wallet_connectors.ledger.desktop.step2.description",step:"create",title:"wallet_connectors.ledger.desktop.step2.title"},{description:"wallet_connectors.ledger.desktop.step3.description",step:"connect",title:"wallet_connectors.ledger.desktop.step3.title"}]}},qrCode:{getUri:t=>`ledgerlive://wc?uri=${encodeURIComponent(t)}`,instructions:{learnMoreUrl:"https://support.ledger.com/hc/en-us/articles/4404389503889-Getting-started-with-Ledger-Live",steps:[{description:"wallet_connectors.ledger.qr_code.step1.description",step:"install",title:"wallet_connectors.ledger.qr_code.step1.title"},{description:"wallet_connectors.ledger.qr_code.step2.description",step:"create",title:"wallet_connectors.ledger.qr_code.step2.title"},{description:"wallet_connectors.ledger.qr_code.step3.description",step:"scan",title:"wallet_connectors.ledger.qr_code.step3.title"}]}},createConnector:tt({projectId:n,walletConnectParameters:e})});function Sb(n){return!(!(n!=null&&n.isMetaMask)||n.isBraveWallet&&!n._events&&!n._state||n.isApexWallet||n.isAvalanche||n.isBackpack||n.isBifrost||n.isBitKeep||n.isBitski||n.isBlockWallet||n.isCoinbaseWallet||n.isDawn||n.isEnkrypt||n.isExodus||n.isFrame||n.isFrontier||n.isGamestop||n.isHyperPay||n.isImToken||n.isKuCoinWallet||n.isMathWallet||n.isNestWallet||n.isOkxWallet||n.isOKExWallet||n.isOneInchIOSWallet||n.isOneInchAndroidWallet||n.isOpera||n.isPhantom||n.isPortal||n.isRabby||n.isRainbow||n.isStatus||n.isTalisman||n.isTally||n.isTokenPocket||n.isTokenary||n.isTrust||n.isTrustWallet||n.isXDEFI||n.isZeal||n.isZerion||n.__seif)}var Cb=({projectId:n,walletConnectParameters:e})=>{const t=typeof window<"u"?Sb(window.ethereum):!1,s=!t&&!Wr(),i=t||Wr();return{id:"metaMask",name:"MetaMask",rdns:"io.metamask",iconUrl:async()=>(await we(async()=>{const{default:r}=await import("./metaMaskWallet-SITXT2FV-Cvftx4Bc.js");return{default:r}},[])).default,iconAccent:"#f6851a",iconBackground:"#fff",installed:t||void 0,downloadUrls:{android:"https://play.google.com/store/apps/details?id=io.metamask",ios:"https://apps.apple.com/us/app/metamask/id1438144202",mobile:"https://metamask.io/download",qrCode:"https://metamask.io/download",chrome:"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn",edge:"https://microsoftedge.microsoft.com/addons/detail/metamask/ejbalbakoplchlghecdalmeeeajnimhm",firefox:"https://addons.mozilla.org/firefox/addon/ether-metamask",opera:"https://addons.opera.com/extensions/details/metamask-10",browserExtension:"https://metamask.io/download"},mobile:{getUri:i?r=>r:void 0},qrCode:s?{getUri:r=>`https://metamask.app.link/wc?uri=${encodeURIComponent(r)}`,instructions:{learnMoreUrl:"https://metamask.io/faqs/",steps:[{description:"wallet_connectors.metamask.qr_code.step1.description",step:"install",title:"wallet_connectors.metamask.qr_code.step1.title"},{description:"wallet_connectors.metamask.qr_code.step2.description",step:"create",title:"wallet_connectors.metamask.qr_code.step2.title"},{description:"wallet_connectors.metamask.qr_code.step3.description",step:"refresh",title:"wallet_connectors.metamask.qr_code.step3.title"}]}}:void 0,extension:{instructions:{learnMoreUrl:"https://metamask.io/faqs/",steps:[{description:"wallet_connectors.metamask.extension.step1.description",step:"install",title:"wallet_connectors.metamask.extension.step1.title"},{description:"wallet_connectors.metamask.extension.step2.description",step:"create",title:"wallet_connectors.metamask.extension.step2.title"},{description:"wallet_connectors.metamask.extension.step3.description",step:"refresh",title:"wallet_connectors.metamask.extension.step3.title"}]}},createConnector:s?tt({projectId:n,walletConnectParameters:e}):r=>da(o=>{var c,l,d;const a=wp({dappMetadata:{connector:"rainbowkit",name:(c=e==null?void 0:e.metadata)==null?void 0:c.name,iconUrl:(l=e==null?void 0:e.metadata)==null?void 0:l.icons[0],url:(d=e==null?void 0:e.metadata)==null?void 0:d.url},headless:!0,checkInstallationImmediately:!1,enableAnalytics:!1})(o);return{...a,...r,getChainId:async()=>{var h;try{return await a.getChainId()}catch{return((h=o.chains[0])==null?void 0:h.id)??1}}}})}},Tb=({projectId:n,walletConnectParameters:e})=>{const s=!at({namespace:"gatewallet"});return{id:"gate",name:"Gate Wallet",rdns:"io.gate.wallet",iconUrl:async()=>(await we(async()=>{const{default:i}=await import("./gateWallet-OZEAMFDV-CWhwuN2N.js");return{default:i}},[])).default,iconAccent:"#fff",iconBackground:"#fff",downloadUrls:{android:"https://play.google.com/store/apps/details?id=com.gateio.gateio",ios:"https://apps.apple.com/us/app/gate-io-buy-bitcoin-crypto/id1294998195",mobile:"https://www.gate.io/mobileapp",qrCode:"https://www.gate.io/web3",chrome:"https://chromewebstore.google.com/detail/gate-wallet/cpmkedoipcpimgecpmgpldfpohjplkpp",browserExtension:"https://www.gate.io/web3"},mobile:{getUri:s?i=>os()?i:`gtweb3wallet://wc?uri=${encodeURIComponent(i)}`:void 0},qrCode:s?{getUri:i=>i,instructions:{learnMoreUrl:"https://www.gate.io/learn",steps:[{description:"wallet_connectors.gate.qr_code.step1.description",step:"install",title:"wallet_connectors.gate.qr_code.step1.title"},{description:"wallet_connectors.gate.qr_code.step2.description",step:"create",title:"wallet_connectors.gate.qr_code.step2.title"},{description:"wallet_connectors.gate.qr_code.step3.description",step:"scan",title:"wallet_connectors.gate.qr_code.step3.title"}]}}:void 0,extension:{instructions:{learnMoreUrl:"https://www.gate.io/learn",steps:[{description:"wallet_connectors.gate.extension.step1.description",step:"install",title:"wallet_connectors.gate.extension.step1.title"},{description:"wallet_connectors.gate.extension.step2.description",step:"create",title:"wallet_connectors.gate.extension.step2.title"},{description:"wallet_connectors.gate.extension.step3.description",step:"refresh",title:"wallet_connectors.gate.extension.step3.title"}]}},createConnector:s?tt({projectId:n,walletConnectParameters:e}):ct({namespace:"gatewallet"})}},Sf=({appName:n,appIcon:e})=>{const t=i=>i,s=Wl();return{id:"coinbase",name:"Coinbase Wallet",shortName:"Coinbase",rdns:"com.coinbase.wallet",iconUrl:async()=>(await we(async()=>{const{default:i}=await import("./coinbaseWallet-OKXU3TRC-DnGdeF1T.js");return{default:i}},[])).default,iconAccent:"#2c5ff6",iconBackground:"#2c5ff6",installed:!0,downloadUrls:{android:"https://play.google.com/store/apps/details?id=org.toshi",ios:"https://apps.apple.com/us/app/coinbase-wallet-store-crypto/id1278383455",mobile:"https://coinbase.com/wallet/downloads",qrCode:"https://coinbase-wallet.onelink.me/q5Sx/fdb9b250",chrome:"https://chrome.google.com/webstore/detail/coinbase-wallet-extension/hnfanknocfeofbddgcijnmhnfnkdnaad",browserExtension:"https://coinbase.com/wallet"},...s?{}:{qrCode:{getUri:t,instructions:{learnMoreUrl:"https://coinbase.com/wallet/articles/getting-started-mobile",steps:[{description:"wallet_connectors.coinbase.qr_code.step1.description",step:"install",title:"wallet_connectors.coinbase.qr_code.step1.title"},{description:"wallet_connectors.coinbase.qr_code.step2.description",step:"create",title:"wallet_connectors.coinbase.qr_code.step2.title"},{description:"wallet_connectors.coinbase.qr_code.step3.description",step:"scan",title:"wallet_connectors.coinbase.qr_code.step3.title"}]}},extension:{instructions:{learnMoreUrl:"https://coinbase.com/wallet/articles/getting-started-extension",steps:[{description:"wallet_connectors.coinbase.extension.step1.description",step:"install",title:"wallet_connectors.coinbase.extension.step1.title"},{description:"wallet_connectors.coinbase.extension.step2.description",step:"create",title:"wallet_connectors.coinbase.extension.step2.title"},{description:"wallet_connectors.coinbase.extension.step3.description",step:"refresh",title:"wallet_connectors.coinbase.extension.step3.title"}]}}},createConnector:i=>{const{...r}=Sf,o=mp({appName:n,appLogoUrl:e,...r});return da(a=>({...o(a),...i}))}}},Lb=({projectId:n,walletConnectParameters:e})=>{const t=at({namespace:"binancew3w.isExtension",flag:"isBinance"}),s=!t;return{id:"binance",name:"Binance Wallet",rdns:"com.binance.wallet",iconUrl:async()=>(await we(async()=>{const{default:i}=await import("./binanceWallet-RCEFB436-BQzVuR1w.js");return{default:i}},[])).default,iconBackground:"#000000",installed:s?void 0:t,downloadUrls:{android:"https://play.google.com/store/apps/details?id=com.binance.dev",ios:"https://apps.apple.com/us/app/id1436799971",mobile:"https://www.binance.com/en/download",qrCode:"https://www.binance.com/en/web3wallet",chrome:"https://chromewebstore.google.com/detail/cadiboklkpojfamcoggejbbdjcoiljjk"},mobile:s?{getUri:i=>os()?i:`bnc://app.binance.com/cedefi/wc?uri=${encodeURIComponent(i)}`}:void 0,qrCode:s?{getUri:i=>i,instructions:{learnMoreUrl:"https://www.binance.com/en/web3wallet",steps:[{description:"wallet_connectors.binance.qr_code.step1.description",step:"install",title:"wallet_connectors.binance.qr_code.step1.title"},{description:"wallet_connectors.binance.qr_code.step2.description",step:"create",title:"wallet_connectors.binance.qr_code.step2.title"},{description:"wallet_connectors.binance.qr_code.step3.description",step:"scan",title:"wallet_connectors.binance.qr_code.step3.title"}]}}:void 0,createConnector:s?tt({projectId:n,walletConnectParameters:e}):ct({flag:"isBinance"})}},Db=({projectId:n,walletConnectParameters:e})=>{const t=at({namespace:"bitkeep.ethereum",flag:"isBitKeep"}),s=!t;return{id:"bitget",name:"Bitget Wallet",rdns:"com.bitget.web3",iconUrl:async()=>(await we(async()=>{const{default:i}=await import("./bitgetWallet-F7U5Y4MR-C5MU6z4Q.js");return{default:i}},[])).default,iconAccent:"#f6851a",iconBackground:"#fff",installed:s?void 0:t,downloadUrls:{android:"https://web3.bitget.com/en/wallet-download?type=0",ios:"https://apps.apple.com/app/bitkeep/id1395301115",mobile:"https://web3.bitget.com/en/wallet-download?type=2",qrCode:"https://web3.bitget.com/en/wallet-download",chrome:"https://chrome.google.com/webstore/detail/bitkeep-crypto-nft-wallet/jiidiaalihmmhddjgbnbgdfflelocpak",browserExtension:"https://web3.bitget.com/en/wallet-download"},extension:{instructions:{learnMoreUrl:"https://web3.bitget.com/en/academy",steps:[{description:"wallet_connectors.bitget.extension.step1.description",step:"install",title:"wallet_connectors.bitget.extension.step1.title"},{description:"wallet_connectors.bitget.extension.step2.description",step:"create",title:"wallet_connectors.bitget.extension.step2.title"},{description:"wallet_connectors.bitget.extension.step3.description",step:"refresh",title:"wallet_connectors.bitget.extension.step3.description"}]}},mobile:{getUri:s?i=>os()?i:`bitkeep://wc?uri=${encodeURIComponent(i)}`:void 0},qrCode:s?{getUri:i=>i,instructions:{learnMoreUrl:"https://web3.bitget.com/en/academy",steps:[{description:"wallet_connectors.bitget.qr_code.step1.description",step:"install",title:"wallet_connectors.bitget.qr_code.step1.title"},{description:"wallet_connectors.bitget.qr_code.step2.description",step:"create",title:"wallet_connectors.bitget.qr_code.step2.title"},{description:"wallet_connectors.bitget.qr_code.step3.description",step:"scan",title:"wallet_connectors.bitget.qr_code.step3.title"}]}}:void 0,createConnector:s?tt({projectId:n,walletConnectParameters:e}):ct({namespace:"bitkeep.ethereum",flag:"isBitKeep"})}},_b=({projectId:n,walletConnectParameters:e})=>{const t=at({namespace:"bybitWallet"}),s=!t;return{id:"bybit",name:"Bybit Wallet",rdns:"com.bybit",iconUrl:async()=>(await we(async()=>{const{default:r}=await import("./bybitWallet-UHSPZQ56-DeJrcrP3.js");return{default:r}},[])).default,installed:s?void 0:t,iconBackground:"#000000",downloadUrls:{chrome:"https://chromewebstore.google.com/detail/bybit-wallet/pdliaogehgdbhbnmkklieghmmjkpigpa",browserExtension:"https://www.bybit.com/en/web3",android:"https://play.google.com/store/apps/details?id=com.bybit.app",ios:"https://apps.apple.com/us/app/bybit-buy-trade-crypto/id1488296980",mobile:"https://www.bybit.com/en/web3",qrCode:"https://www.bybit.com/en/web3"},mobile:{getUri:s?r=>`bybitapp://open/route?targetUrl=by://web3/walletconnect/wc?uri=${encodeURIComponent(r)}`:void 0},qrCode:s?{getUri:r=>r,instructions:{learnMoreUrl:"https://www.bybit.com/en/web3",steps:[{description:"wallet_connectors.bybit.qr_code.step1.description",step:"install",title:"wallet_connectors.bybit.qr_code.step1.title"},{description:"wallet_connectors.bybit.qr_code.step2.description",step:"create",title:"wallet_connectors.bybit.qr_code.step2.title"},{description:"wallet_connectors.bybit.qr_code.step3.description",step:"scan",title:"wallet_connectors.bybit.qr_code.step3.title"}]}}:void 0,extension:{instructions:{learnMoreUrl:"https://www.bybit.com/en/web3",steps:[{description:"wallet_connectors.bybit.extension.step1.description",step:"install",title:"wallet_connectors.bybit.extension.step1.title"},{description:"wallet_connectors.bybit.extension.step2.description",step:"create",title:"wallet_connectors.bybit.extension.step2.title"},{description:"wallet_connectors.bybit.extension.step3.description",step:"refresh",title:"wallet_connectors.bybit.extension.step3.title"}]}},createConnector:s?tt({projectId:n,walletConnectParameters:e}):ct({namespace:"bybitWallet"})}},zb=({projectId:n,walletConnectParameters:e})=>{const t=at({namespace:"coin98.provider",flag:"isCoin98"}),s=!t;return{id:"coin98",name:"Coin98 Wallet",iconUrl:async()=>(await we(async()=>{const{default:i}=await import("./coin98Wallet-LBBSGIZG-BoH6Yntu.js");return{default:i}},[])).default,installed:t,iconAccent:"#CDA349",iconBackground:"#fff",rdns:"coin98.com",downloadUrls:{android:"https://play.google.com/store/apps/details?id=coin98.crypto.finance.media",ios:"https://apps.apple.com/vn/app/coin98-super-app/id1561969966",mobile:"https://coin98.com/wallet",qrCode:"https://coin98.com/wallet",chrome:"https://chrome.google.com/webstore/detail/coin98-wallet/aeachknmefphepccionboohckonoeemg",browserExtension:"https://coin98.com/wallet"},mobile:{getUri:s?i=>i:void 0},qrCode:s?{getUri:i=>i,instructions:{learnMoreUrl:"https://coin98.com/wallet",steps:[{description:"wallet_connectors.coin98.qr_code.step1.description",step:"install",title:"wallet_connectors.coin98.qr_code.step1.title"},{description:"wallet_connectors.coin98.qr_code.step2.description",step:"create",title:"wallet_connectors.coin98.qr_code.step2.title"},{description:"wallet_connectors.coin98.qr_code.step3.description",step:"scan",title:"wallet_connectors.coin98.qr_code.step3.title"}]}}:void 0,extension:{instructions:{learnMoreUrl:"https://coin98.com/wallet",steps:[{description:"wallet_connectors.coin98.extension.step1.description",step:"install",title:"wallet_connectors.coin98.extension.step1.title"},{description:"wallet_connectors.coin98.extension.step2.description",step:"create",title:"wallet_connectors.coin98.extension.step2.title"},{description:"wallet_connectors.coin98.extension.step3.description",step:"refresh",title:"wallet_connectors.coin98.extension.step3.title"}]}},createConnector:s?tt({projectId:n,walletConnectParameters:e}):ct({namespace:"coin98Wallet",flag:"isCoin98"})}},kb=()=>({id:"backpack",name:"Backpack",rdns:"app.backpack.mobile",iconUrl:async()=>(await we(async()=>{const{default:n}=await import("./backpackWallet-CKSJ4VI6-CmojRQuo.js");return{default:n}},[])).default,iconBackground:"#0C0D10",installed:at({namespace:"backpack.ethereum"}),downloadUrls:{android:"https://play.google.com/store/apps/details?id=app.backpack.mobile",browserExtension:"https://backpack.app/download",chrome:"https://chromewebstore.google.com/detail/backpack/aflkmfhebedbjioipglgcbcmnbpgliof",ios:"https://apps.apple.com/app/backpack-wallet-exchange/id6445964121",mobile:"https://backpack.app/download",qrCode:"https://backpack.app/download"},extension:{instructions:{learnMoreUrl:"https://support.backpack.exchange/support/wallet",steps:[{description:"wallet_connectors.backpack.extension.step1.description",step:"install",title:"wallet_connectors.backpack.extension.step1.title"},{description:"wallet_connectors.backpack.extension.step2.description",step:"create",title:"wallet_connectors.backpack.extension.step2.title"},{description:"wallet_connectors.backpack.extension.step3.description",step:"refresh",title:"wallet_connectors.backpack.extension.step3.title"}]}},createConnector:ct({namespace:"backpack.ethereum"})});const Ob=Id;function vb(){const n=j.useRef(null),e=j.useRef(null),t=j.useRef(null);return n.current||(n.current=cb({bigmiConfig:{ssr:!0,multiInjectedProviderDiscovery:!1}})),e.current||(e.current=[new LA,new RA,new Mp,new UA,new jA,new cA,new oA,new CA]),t.current||(t.current=yp({appName:"cetus cross swap",wallets:[{groupName:"Recommended",wallets:[Mb,yb,Cb,Sf,_b,Lb,Db,zb,Eb,kb,bb,jb,xb,wb,Ib,Tb,mb,Nb,Ab,gb]}],chains:[Ep,jp,Hl,Yl,Sp,Cp,Tp,Lp,Dp,Yl,Hl,_p,zp,kp,Op,vp,Rp,Pp,Up,Bp,Wp,Qp,Fp,Gp,Hp,Yp,Vp,Zp,Kp,Jp,qp,Xp,$p,eg,tg,ng,sg,ig,rg,og,ag,cg,lg,ug,dg,hg,fg,pg],projectId:"9016542fb0fe0b2f92d1b4df56f29f33",ssr:!1})),Ap(n.current.config),u.jsx(xp,{config:n.current.config,reconnectOnMount:!1,children:u.jsx(Jm,{endpoint:Ob,children:u.jsx(iA,{wallets:e.current,autoConnect:!0,children:u.jsx(bp,{config:t.current,reconnectOnMount:!0,children:u.jsx(Ip,{theme:Np(),modalSize:"compact",children:u.jsx(Ax,{children:u.jsx(Rb,{})})})})})})})}function Rb(){const{isOpenBtcWalletModal:n,setIsOpenBtcWalletModal:e}=Tt(),{approveData:t,setApproveData:s}=sn(),{isApp:i}=tn();return u.jsxs(q,{w:i?"100%":"1200px",className:i?"":"bg_img",children:[u.jsx(nb,{}),n&&u.jsx(ab,{isOpen:n,onClose:()=>{e(!1)}}),t&&u.jsx(rb,{isOpen:!0,approveSymbol:t.approveSymbol,onClose:()=>{s(void 0)},step:t.step,swapText:t.swapText})]})}const hI=Object.freeze(Object.defineProperty({__proto__:null,default:vb},Symbol.toStringTag,{value:"Module"}));export{hI as C,cI as D,Uo as L,Cr as S,dA as T,so as a,uI as b,lI as c,aI as d,dI as l};
