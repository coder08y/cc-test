{"version":3,"file":"PriceImpact-BZtd4YV2.js","sources":["../../src/components/swap/PriceImpact.tsx"],"sourcesContent":["import { CetusTooltip, CurrentPrice, MarketSource, MarketType } from '@cetus/design'\nimport { MarketSourceMap } from '@cetus/design/src/components/common/MarketSource'\nimport { Token } from '@cetus/types'\nimport { Icon } from '@cetus/ui-kit'\nimport { Center, HStack, Skeleton, Text, VStack } from '@chakra-ui/react'\n\ntype PriceImpactProps = {\n  fromToken: Token\n  toToken: Token\n  marketPrice?: string\n  priceImpact?: {\n    priceImpactText?: string\n    textColor: string\n  }\n  isLoading?: boolean\n  isWidget?: boolean\n  sources: string[]\n  showIncalculable: boolean\n}\n\nexport default function PriceImpact(props: PriceImpactProps) {\n  const { showIncalculable, fromToken, toToken, marketPrice, priceImpact, sources = [], isWidget = false, isLoading } = props\n\n  return (\n    <HStack justify=\"space-between\" w=\"100%\" gap=\"4px\" flexWrap=\"wrap\">\n      <HStack w=\"132px\" alignItems=\"end\" gap=\"4px\">\n        <Text whiteSpace=\"nowrap\" fontSize={isWidget ? '12px' : '14px'} h=\"20px\" lineHeight=\"20px\" fontWeight=\"500\">\n          Price Difference\n        </Text>\n\n        <CetusTooltip\n          tooltip={\n            <PriceImpactTips\n              marketPrice={marketPrice}\n              sources={sources}\n              fromToken={fromToken}\n              toToken={toToken}\n              showIncalculable={showIncalculable}\n            />\n          }\n        >\n          <Center>\n            <Icon xlinkHref=\"#icon-icon_tips\" svgW=\"20px\" svgH=\"20px\" />\n          </Center>\n        </CetusTooltip>\n      </HStack>\n      <Skeleton isLoaded={!isLoading} h=\"20px\">\n        <HStack justify=\"flex-end\" h=\"20px\">\n          <Text\n            maxW={isWidget ? `calc(90vw - 56px - ${24 * (sources?.length || 0)}px)` : `unset`}\n            flex=\"1\"\n            overflow=\"hidden\"\n            whiteSpace=\"nowrap\"\n            textOverflow=\"ellipsis\"\n            color={priceImpact?.textColor}\n            fontWeight=\"500\"\n            fontSize={isWidget ? '12px' : '14px'}\n          >\n            {priceImpact?.priceImpactText && !showIncalculable ? priceImpact?.priceImpactText : 'Incalculable'}\n          </Text>\n          {!showIncalculable &&\n            sources?.map(source => {\n              return source === 'LI.FI' ? null : <MarketSource key={source} market={source as MarketType} />\n            })}\n        </HStack>\n      </Skeleton>\n    </HStack>\n  )\n}\n\ntype PriceImpactTipsProps = {\n  fromToken: Token\n  toToken: Token\n  marketPrice?: string\n  sources: string[]\n  showIncalculable: boolean\n}\n\nexport function PriceImpactTips(props: PriceImpactTipsProps) {\n  const { marketPrice, sources, fromToken, toToken, showIncalculable } = props\n  return (\n    <VStack className=\"no-close-widget-flag\" w=\"100%\" align=\"flex-start\" gap=\"12px\">\n      <Text color=\"content_text\" fontSize=\"12px\" lineHeight=\"20px\" textAlign=\"start\">\n        The difference between the market price and estimated price due to trade size.\n      </Text>\n      {!showIncalculable && (\n        <VStack w=\"100%\" align=\"flex-start\">\n          <Text fontSize=\"12px\" color=\"text_caption\">\n            Market price sources:\n          </Text>\n          {marketPrice ? (\n            <CurrentPrice fontSize=\"12px\" fromToken={fromToken!} toToken={toToken!} fromValue=\"1\" toValue={marketPrice} color=\"text_caption\" />\n          ) : (\n            <Text color=\"primary_yellow\" fontSize=\"12px\">\n              Price is unknown\n            </Text>\n          )}\n        </VStack>\n      )}\n\n      {marketPrice && !showIncalculable && (\n        <HStack w=\"100%\">\n          <Text color=\"content_text\" fontSize=\"12px\" mt=\"5px\" whiteSpace=\"pre\">\n            Market price sources:\n          </Text>\n          <Text color=\"content_text\" fontSize=\"12px\" mt=\"5px\" whiteSpace=\"pre\">\n            {sources.map(item => MarketSourceMap[item] + '  ')}\n          </Text>\n        </HStack>\n      )}\n    </VStack>\n  )\n}\n"],"names":["PriceImpact","props","showIncalculable","fromToken","toToken","marketPrice","priceImpact","sources","isWidget","isLoading","jsxs","HStack","jsx","Text","CetusTooltip","PriceImpactTips","Center","Icon","Skeleton","source","MarketSource","VStack","CurrentPrice","item","MarketSourceMap"],"mappings":"uPAoBA,SAAwBA,EAAYC,EAAyB,CAC3D,KAAM,CAAE,iBAAAC,EAAkB,UAAAC,EAAW,QAAAC,EAAS,YAAAC,EAAa,YAAAC,EAAa,QAAAC,EAAU,CAAA,EAAI,SAAAC,EAAW,GAAO,UAAAC,CAAA,EAAcR,EAEtH,OACES,OAACC,GAAO,QAAQ,gBAAgB,EAAE,OAAO,IAAI,MAAM,SAAS,OAC1D,SAAA,CAAAD,OAACC,GAAO,EAAE,QAAQ,WAAW,MAAM,IAAI,MACrC,SAAA,CAAAC,EAAAA,IAACC,EAAA,CAAK,WAAW,SAAS,SAAUL,EAAW,OAAS,OAAQ,EAAE,OAAO,WAAW,OAAO,WAAW,MAAM,SAAA,mBAE5G,EAEAI,EAAAA,IAACE,EAAA,CACC,QACEF,EAAAA,IAACG,EAAA,CACC,YAAAV,EACA,QAAAE,EACA,UAAAJ,EACA,QAAAC,EACA,iBAAAF,CAAA,CAAA,EAIJ,SAAAU,EAAAA,IAACI,EAAA,CACC,SAAAJ,EAAAA,IAACK,EAAA,CAAK,UAAU,kBAAkB,KAAK,OAAO,KAAK,MAAA,CAAO,CAAA,CAC5D,CAAA,CAAA,CACF,EACF,EACAL,EAAAA,IAACM,EAAA,CAAS,SAAU,CAACT,EAAW,EAAE,OAChC,SAAAC,EAAAA,KAACC,EAAA,CAAO,QAAQ,WAAW,EAAE,OAC3B,SAAA,CAAAC,EAAAA,IAACC,EAAA,CACC,KAAML,EAAW,sBAAsB,KAAMD,GAAA,YAAAA,EAAS,SAAU,EAAE,MAAQ,QAC1E,KAAK,IACL,SAAS,SACT,WAAW,SACX,aAAa,WACb,MAAOD,GAAA,YAAAA,EAAa,UACpB,WAAW,MACX,SAAUE,EAAW,OAAS,OAE7B,SAAAF,GAAA,MAAAA,EAAa,iBAAmB,CAACJ,EAAmBI,GAAA,YAAAA,EAAa,gBAAkB,cAAA,CAAA,EAErF,CAACJ,IACAK,GAAA,YAAAA,EAAS,IAAIY,GACJA,IAAW,QAAU,WAAQC,EAAA,CAA0B,OAAQD,GAAhBA,CAAsC,GAC7F,CAAA,CACL,CAAA,CACF,CAAA,EACF,CAEJ,CAUO,SAASJ,EAAgBd,EAA6B,CAC3D,KAAM,CAAE,YAAAI,EAAa,QAAAE,EAAS,UAAAJ,EAAW,QAAAC,EAAS,iBAAAF,GAAqBD,EACvE,OACES,OAACW,GAAO,UAAU,uBAAuB,EAAE,OAAO,MAAM,aAAa,IAAI,OACvE,SAAA,CAAAT,EAAAA,IAACC,EAAA,CAAK,MAAM,eAAe,SAAS,OAAO,WAAW,OAAO,UAAU,QAAQ,SAAA,gFAAA,CAE/E,EACC,CAACX,GACAQ,EAAAA,KAACW,GAAO,EAAE,OAAO,MAAM,aACrB,SAAA,CAAAT,MAACC,EAAA,CAAK,SAAS,OAAO,MAAM,eAAe,SAAA,wBAE3C,EACCR,QACEiB,EAAA,CAAa,SAAS,OAAO,UAAAnB,EAAuB,QAAAC,EAAmB,UAAU,IAAI,QAASC,EAAa,MAAM,cAAA,CAAe,EAEjIO,EAAAA,IAACC,EAAA,CAAK,MAAM,iBAAiB,SAAS,OAAO,SAAA,kBAAA,CAE7C,CAAA,EAEJ,EAGDR,GAAe,CAACH,GACfQ,EAAAA,KAACC,EAAA,CAAO,EAAE,OACR,SAAA,CAAAC,EAAAA,IAACC,EAAA,CAAK,MAAM,eAAe,SAAS,OAAO,GAAG,MAAM,WAAW,MAAM,SAAA,uBAAA,CAErE,QACCA,EAAA,CAAK,MAAM,eAAe,SAAS,OAAO,GAAG,MAAM,WAAW,MAC5D,WAAQ,IAAIU,GAAQC,EAAgBD,CAAI,EAAI,IAAI,CAAA,CACnD,CAAA,CAAA,CACF,CAAA,EAEJ,CAEJ"}