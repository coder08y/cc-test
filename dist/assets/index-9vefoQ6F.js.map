{"version":3,"file":"index-9vefoQ6F.js","sources":["../../src/store/dlmm/index.ts"],"sourcesContent":["import { DLMMPoolApiInfo } from '@/types'\nimport { d } from '@cetus/utils'\nimport { BinAmount, DlmmPool, StrategyType } from '@cetusprotocol/dlmm-sdk'\nimport { create, StateCreator } from 'zustand'\nimport { persist } from 'zustand/middleware'\ninterface DLMMLiquidityState {\n  netError: boolean\n  setNetError: (value: boolean) => void\n  isAutoFill: boolean\n  setIsAutoFill: (value: boolean) => void\n  dlmmContractPoolInfo: (DlmmPool & SnakeToCamel<DlmmPool>) | null\n  setDlmmContractPoolInfo: (value: (DlmmPool & SnakeToCamel<DlmmPool>) | null) => void\n  dlmmContractPoolInfoLoading: boolean\n  setDlmmContractPoolInfoLoading: (value: boolean) => void\n  dlmmApiPoolInfo: Partial<DLMMPoolApiInfo> | null\n  setDlmmApiPoolInfo: (data: Partial<DLMMPoolApiInfo> | null) => void\n  dlmmApiPoolInfoLoading: boolean\n  setDlmmApiPoolInfoLoading: (value: boolean) => void\n  currentPriceData: any\n  setCurrentPriceData: (data: any) => void\n  minPriceForDate: string\n  maxPriceForDate: string\n  setMinPriceForDate: (value: string) => void\n  setMaxPriceForDate: (value: string) => void\n  currentRange: string\n  setCurrentRange: (value: string) => void\n  manualRefresh: boolean\n  setManualRefresh: (value: boolean) => void\n  strategy: StrategyType\n  setStrategy: (value: StrategyType) => void\n  currentBinStep: number | undefined\n  setCurrentBinStep: (value: number | undefined) => void\n  currentPrice: string\n  reverseCurrentPrice: string\n  setCurrentPrice: (value: string) => void\n  resetLiquidity: () => void\n  activeBin?: BinAmount\n  setActiveBin: (value: BinAmount) => void\n}\n\nconst store: StateCreator<DLMMLiquidityState> = (set, get) => ({\n  activeBin: undefined,\n  setActiveBin: (value: BinAmount) => {\n    set(() => ({\n      activeBin: value\n    }))\n  },\n  netError: false,\n  setNetError: (value: boolean) => {\n    set(() => ({\n      netError: value\n    }))\n  },\n  isAutoFill: true,\n  setIsAutoFill: (value: boolean) => {\n    set(() => ({\n      isAutoFill: value\n    }))\n  },\n  dlmmContractPoolInfo: null,\n  setDlmmContractPoolInfo: (data: (DlmmPool & SnakeToCamel<DlmmPool>) | null) => {\n    set(() => ({\n      dlmmContractPoolInfo: data,\n      dlmmContractPoolInfoLoading: false\n    }))\n  },\n  dlmmContractPoolInfoLoading: true,\n  setDlmmContractPoolInfoLoading: (value: boolean) => {\n    set(() => ({\n      dlmmContractPoolInfoLoading: value\n    }))\n  },\n  dlmmApiPoolInfo: null,\n  setDlmmApiPoolInfo: (data: Partial<DLMMPoolApiInfo> | null) => {\n    set(() => ({\n      dlmmApiPoolInfo: data,\n      apiPoolInfoLoading: false\n    }))\n  },\n  dlmmApiPoolInfoLoading: true,\n  setDlmmApiPoolInfoLoading: (value: boolean) => {\n    set(() => ({\n      dlmmApiPoolInfoLoading: value\n    }))\n  },\n  currentPriceData: {},\n  setCurrentPriceData: (data: any) => {\n    set(() => ({\n      currentPriceData: data\n    }))\n  },\n  minPriceForDate: '',\n  maxPriceForDate: '',\n  setMinPriceForDate: (value: string) => {\n    set(() => ({\n      minPriceForDate: value\n    }))\n  },\n  setMaxPriceForDate: (value: string) => {\n    set(() => ({\n      maxPriceForDate: value\n    }))\n  },\n  currentRange: '',\n  setCurrentRange: (value: string) => {\n    set(() => ({\n      currentRange: value\n    }))\n  },\n  manualRefresh: false,\n  setManualRefresh: (value: boolean) => {\n    set(() => ({\n      manualRefresh: value\n    }))\n  },\n  strategy: StrategyType.Spot,\n  setStrategy: (value: StrategyType) => {\n    set(() => ({\n      strategy: value\n    }))\n  },\n  currentBinStep: undefined,\n  setCurrentBinStep: (value: number | undefined) => {\n    set(() => ({\n      currentBinStep: value\n    }))\n  },\n  currentPrice: '',\n  reverseCurrentPrice: '',\n  setCurrentPrice: (value: string) => {\n    set(() => ({\n      currentPrice: value,\n      reverseCurrentPrice: d(1).div(value).toString()\n    }))\n  },\n  resetLiquidity: () => {\n    set(() => ({\n      dlmmContractPoolInfo: null,\n      dlmmContractPoolInfoLoading: true,\n      dlmmApiPoolInfo: null,\n      dlmmApiPoolInfoLoading: true,\n      currentPriceData: {},\n      minPriceForDate: '',\n      maxPriceForDate: '',\n      currentRange: '',\n      manualRefresh: false,\n      strategy: StrategyType.Spot,\n      currentBinStep: undefined,\n      currentPrice: '',\n      reverseCurrentPrice: '',\n      activeBin: undefined\n    }))\n  }\n})\n\nconst useDlmmLiquidityStore = create(\n  persist(store, {\n    name: 'dlmm_pool',\n    partialize: state => {\n      const { isAutoFill } = state\n      return { isAutoFill }\n    }\n  })\n)\nexport default useDlmmLiquidityStore\n"],"names":["store","set","get","value","data","StrategyType","d","useDlmmLiquidityStore","create","persist","state","isAutoFill"],"mappings":"yFAwCA,MAAMA,EAA0C,CAACC,EAAKC,KAAS,CAC7D,UAAW,OACX,aAAeC,GAAqB,CAClCF,EAAI,KAAO,CACT,UAAWE,CAAA,EACX,CACJ,EACA,SAAU,GACV,YAAcA,GAAmB,CAC/BF,EAAI,KAAO,CACT,SAAUE,CAAA,EACV,CACJ,EACA,WAAY,GACZ,cAAgBA,GAAmB,CACjCF,EAAI,KAAO,CACT,WAAYE,CAAA,EACZ,CACJ,EACA,qBAAsB,KACtB,wBAA0BC,GAAqD,CAC7EH,EAAI,KAAO,CACT,qBAAsBG,EACtB,4BAA6B,EAAA,EAC7B,CACJ,EACA,4BAA6B,GAC7B,+BAAiCD,GAAmB,CAClDF,EAAI,KAAO,CACT,4BAA6BE,CAAA,EAC7B,CACJ,EACA,gBAAiB,KACjB,mBAAqBC,GAA0C,CAC7DH,EAAI,KAAO,CACT,gBAAiBG,EACjB,mBAAoB,EAAA,EACpB,CACJ,EACA,uBAAwB,GACxB,0BAA4BD,GAAmB,CAC7CF,EAAI,KAAO,CACT,uBAAwBE,CAAA,EACxB,CACJ,EACA,iBAAkB,CAAA,EAClB,oBAAsBC,GAAc,CAClCH,EAAI,KAAO,CACT,iBAAkBG,CAAA,EAClB,CACJ,EACA,gBAAiB,GACjB,gBAAiB,GACjB,mBAAqBD,GAAkB,CACrCF,EAAI,KAAO,CACT,gBAAiBE,CAAA,EACjB,CACJ,EACA,mBAAqBA,GAAkB,CACrCF,EAAI,KAAO,CACT,gBAAiBE,CAAA,EACjB,CACJ,EACA,aAAc,GACd,gBAAkBA,GAAkB,CAClCF,EAAI,KAAO,CACT,aAAcE,CAAA,EACd,CACJ,EACA,cAAe,GACf,iBAAmBA,GAAmB,CACpCF,EAAI,KAAO,CACT,cAAeE,CAAA,EACf,CACJ,EACA,SAAUE,EAAa,KACvB,YAAcF,GAAwB,CACpCF,EAAI,KAAO,CACT,SAAUE,CAAA,EACV,CACJ,EACA,eAAgB,OAChB,kBAAoBA,GAA8B,CAChDF,EAAI,KAAO,CACT,eAAgBE,CAAA,EAChB,CACJ,EACA,aAAc,GACd,oBAAqB,GACrB,gBAAkBA,GAAkB,CAClCF,EAAI,KAAO,CACT,aAAcE,EACd,oBAAqBG,EAAE,CAAC,EAAE,IAAIH,CAAK,EAAE,SAAA,CAAS,EAC9C,CACJ,EACA,eAAgB,IAAM,CACpBF,EAAI,KAAO,CACT,qBAAsB,KACtB,4BAA6B,GAC7B,gBAAiB,KACjB,uBAAwB,GACxB,iBAAkB,CAAA,EAClB,gBAAiB,GACjB,gBAAiB,GACjB,aAAc,GACd,cAAe,GACf,SAAUI,EAAa,KACvB,eAAgB,OAChB,aAAc,GACd,oBAAqB,GACrB,UAAW,MAAA,EACX,CACJ,CACF,GAEME,EAAwBC,EAC5BC,EAAQT,EAAO,CACb,KAAM,YACN,WAAYU,GAAS,CACnB,KAAM,CAAE,WAAAC,GAAeD,EACvB,MAAO,CAAE,WAAAC,CAAA,CACX,CAAA,CACD,CACH"}