import{Q as v,z as s,E as l,ad as o}from"./index-Lo8eQgA0.js";import"./cross-J9VCREIf.js";import{r as u}from"./vendor-CBmAETR3.js";import{b as U}from"./useSwapHelper-BDfKH-rI.js";function S(f,d,b,I,y=!1){const{getTokenPrice:_}=v(),t=_(f==null?void 0:f.coin_type,y?10*1e3*60:void 0),r=_(d==null?void 0:d.coin_type,y?10*1e3*60:void 0),c=U(b,I),a=u.useMemo(()=>{if(r&&t)return s(t.price).div(r.price).toString()},[t==null?void 0:t.price,r==null?void 0:r.price]),e=u.useMemo(()=>{if(a&&+c)return s(c).sub(a).div(a).mul(100).toFixed(10)},[a,c]),g=u.useMemo(()=>{if(a&&+c)return s(c).sub(a).div(a).mul(100).toFixed(10)},[a,c]),w=u.useMemo(()=>{const i=[];return t&&i.push(t.market),r&&!i.includes(r.market)&&i.push(r.market),i},[t==null?void 0:t.market,r==null?void 0:r.market]),n=u.useMemo(()=>!t||!r||t.market==="cetus"||r.market==="cetus",[t,r]),x=u.useMemo(()=>n?!1:e&&s(e).lt(0)?s(e).abs().gt(5):!1,[e]),M=u.useMemo(()=>n?!1:e&&s(e).lt(0)?s(e).abs().gt(10):!1,[e,n]),h=u.useMemo(()=>{let i,m="primary_yellow";if(n)return{priceImpactText:"Incalculable",textColor:"primary_yellow"};if(e)if(s(e).gt(0))m="primary_green",s(e).lt(.1)?i="< 0.1% better than":i=`${l(e,2,!0,o.ROUND_UP)}% better than`;else if(s(e).eq(0))i="0%",m="primary_green";else{const p=s(e).abs();p.lte(5)?(m="primary_green",i=`Within ${l(p.toString(),2,!0,o.ROUND_UP)}%`):p.lte(10)?(m="primary_yellow",i=`${l(p.toString(),2,!0,o.ROUND_UP)}% away from`):p.lte(100)?(m="primary_red",i=`${l(p.toString(),2,!0,o.ROUND_UP)}% away from`):(m="primary_red",i="> 100% away from")}return{priceImpactText:i,textColor:m}},[e,n]);return{swapPrice:c,marketPrice:a,priceImpact:e,sources:w,showPriceImpactTips:x,showPriceImpactWarn:M,priceImpactTextInfo:h,priceImpactBasedOnMarket:g,showIncalculable:n}}export{S as u};
