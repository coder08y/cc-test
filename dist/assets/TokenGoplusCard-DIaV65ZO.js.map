{"version":3,"file":"TokenGoplusCard-DIaV65ZO.js","sources":["../../../cetus-design/src/hook/useGetGoplusTokenInfo.ts","../../../cetus-design/src/components/common/tokenSelectModal/TokenGoplusCard.tsx"],"sourcesContent":["export default function useGoPlusTokenInfo() {\n  const getGoPlusTokenInfo = async (coinType: string) => {\n    try {\n      console.log('ðŸš€ðŸš€ðŸš€ ~ file: useGetGoplusTokenInfo.ts:8 ~ getGoPlusTokenInfo ~ getGoPlusTokenInfo:')\n      const { result } = await fetch(`https://api.gopluslabs.io/api/v1/sui/token_security?contract_addresses=${coinType}`).then(rsp => {\n        return rsp.json()\n      })\n      const info = result[coinType]\n      console.log('ðŸš€ðŸš€ðŸš€ ~ file: useGetGoplusTokenInfo.ts:8 ~ getGoPlusTokenInfo ~ info:', info)\n      const blockListValue = info.blacklist.value\n      const contractUpgradeableValue = info.contract_upgradeable.value\n      const mintableValue = info.mintable.value\n      const metadataModifiableValue = info.metadata_modifiable.value\n      let issueNum = 0\n      if (blockListValue !== '0') issueNum++\n      if (contractUpgradeableValue !== '0') issueNum++\n      if (mintableValue !== '0') issueNum++\n      if (metadataModifiableValue !== '0') issueNum++\n      return {\n        totalSupply: info.total_supply,\n        issueNum,\n        blockListValue,\n        contractUpgradeableValue,\n        mintableValue,\n        metadataModifiableValue\n      }\n    } catch (error) {\n      return null\n    }\n  }\n  return { getGoPlusTokenInfo }\n}\n","import useGoPlusTokenInfo from '@/hook/useGetGoplusTokenInfo'\nimport useExplorer from '@cetus/hooks/src/useExplorer'\nimport { Token } from '@cetus/types'\nimport { HTextLabelBox, Icon } from '@cetus/ui-kit'\nimport { addComma, d } from '@cetus/utils'\nimport { Center, HStack, Image, Skeleton, Text, VStack } from '@chakra-ui/react'\nimport { useEffect, useState } from 'react'\nimport AddressCopyLink from '../AddressCopyLink'\nimport CetusTooltip from '../CetusTooltip'\n\nexport default function TokenGoplusCard({ tokenInfo }: { tokenInfo: Token }) {\n  const { getExplorerUrl } = useExplorer()\n  const { getGoPlusTokenInfo } = useGoPlusTokenInfo()\n  const [goplusTokenInfo, setGoPlusTokenInfo] = useState<any>(null)\n  const [isGoPlusTokenInfoLoading, setIsGoPlusTokenInfoLoading] = useState(false)\n\n  const fetchTokenInfo = async (coinType: string) => {\n    try {\n      setIsGoPlusTokenInfoLoading(true)\n      const result = await getGoPlusTokenInfo(coinType)\n      console.log('ðŸš€ ~ fetchTokenInfo ~ result:', result)\n      setGoPlusTokenInfo(result)\n    } catch (error) {\n      console.log('ðŸš€ðŸš€ðŸš€ ~ file: token-goplus-modal.vue:110 ~ fetchTokenInfo ~ error:', error)\n    }\n    setIsGoPlusTokenInfoLoading(false)\n  }\n  useEffect(() => {\n    if (tokenInfo.coin_type) {\n      setGoPlusTokenInfo(null)\n      fetchTokenInfo(tokenInfo.coin_type)\n    }\n  }, [tokenInfo.coin_type])\n\n  return (\n    <VStack gap=\"0\">\n      <HStack w=\"100%\" bg=\"card_bg\" h=\"48px\" p=\"0 16px\">\n        <Text fontSize=\"14px\" color=\"text_caption\">\n          Basic Info\n        </Text>\n      </HStack>\n      <VStack w=\"100%\" gap=\"12px\" p=\"12px 16px\">\n        <HTextLabelBox\n          isLoading={!tokenInfo}\n          label=\"Contract Address\"\n          value={\n            <HStack gap=\"4px\">\n              <AddressCopyLink\n                address={tokenInfo?.coin_type}\n                showLink={false}\n                color=\"text_caption\"\n                fontSize=\"14px\"\n                onClickLink={() => window.open(getExplorerUrl(tokenInfo?.coin_type, 'coin'))}\n              />\n              <Image\n                cursor=\"pointer\"\n                src=\"/images/img_suivision@2x.png\"\n                w=\"20px\"\n                h=\"20px\"\n                onClick={() =>\n                  window.open(getExplorerUrl(tokenInfo?.coin_type, 'coin', { link: 'https://suivision.xyz', name: 'suivision', img: '' }))\n                }\n              />\n              <Image\n                cursor=\"pointer\"\n                src=\"/images/logo_suiscan@2x.png\"\n                w=\"20px\"\n                h=\"20px\"\n                onClick={() => window.open(getExplorerUrl(tokenInfo?.coin_type, 'coin', { link: 'https://suiscan.xyz', name: 'suiscan', img: '' }))}\n              />\n            </HStack>\n          }\n          labelStyle={{\n            fontSize: '14px',\n            h: '20px',\n            lineHeight: '20px'\n          }}\n          skeletonStyle={{\n            valueW: '128px'\n          }}\n        />\n        <HTextLabelBox\n          isLoading={!tokenInfo}\n          label=\"Decimals\"\n          value={`${tokenInfo?.decimals}`}\n          labelStyle={{\n            fontSize: '14px',\n            lineHeight: '20px',\n            h: '20px'\n          }}\n          valueStyle={{\n            fontSize: '14px'\n          }}\n          skeletonStyle={{\n            valueW: '128px'\n          }}\n        />\n        {d(goplusTokenInfo?.totalSupply).gt(0) && (\n          <HTextLabelBox\n            isLoading={isGoPlusTokenInfoLoading}\n            label=\"Total Supply\"\n            value={`${addComma(goplusTokenInfo?.totalSupply)}`}\n            labelStyle={{\n              fontSize: '14px',\n              lineHeight: '20px',\n              h: '20px'\n            }}\n            valueStyle={{\n              fontSize: '14px'\n            }}\n            skeletonStyle={{\n              valueW: '128px'\n            }}\n          />\n        )}\n      </VStack>\n      <HStack w=\"100%\" bg=\"card_bg\" h=\"48px\" p=\"0 16px\" justify=\"space-between\">\n        <TipsInfoBlock\n          w=\"unset\"\n          textColor=\"text_caption\"\n          text=\"Security Info\"\n          tips=\" which only constitutes basic security info reference and does not fully reflect an asset's quality and credibility. Please do\n              your own research if you plan to interact with it deeply\"\n        />\n        {!d(goplusTokenInfo?.issueNum).gt(0) && (\n          <HStack p=\"4px 8px\" bg=\"primary_yellow_opacity.10\" borderRadius=\"8px\">\n            <Image src=\"/images/icon_no.png\" w=\"16px\" h=\"16px\" />\n            <Text fontSize=\"14px\" color=\"primary_yellow\">\n              {goplusTokenInfo?.issueNum} {goplusTokenInfo?.issueNum > 1 ? 'issues' : 'issue'} found\n            </Text>\n          </HStack>\n        )}\n      </HStack>\n      <VStack w=\"100%\" gap=\"12px\" p=\"12px 16px\">\n        <TipsInfoBlock\n          isLoading={isGoPlusTokenInfoLoading || !goplusTokenInfo}\n          text=\"Metadata Modifiable\"\n          tips=\"Whether the metadata is mutable.\"\n          status={goplusTokenInfo?.metadataModifiableValue == '0' ? 'No' : 'Yes'}\n        />\n        <TipsInfoBlock\n          isLoading={isGoPlusTokenInfoLoading || !goplusTokenInfo}\n          text=\"Mintable\"\n          tips=\"Whether the token is still mintable.\"\n          status={goplusTokenInfo?.mintableValue == '0' ? 'No' : 'Yes'}\n        />\n        <TipsInfoBlock\n          isLoading={isGoPlusTokenInfoLoading || !goplusTokenInfo}\n          text=\"Blacklist\"\n          tips=\"Whether the developer can block any other users from trading.\"\n          status={goplusTokenInfo?.blockListValue == '0' ? 'No' : 'Yes'}\n        />\n        <TipsInfoBlock\n          isLoading={isGoPlusTokenInfoLoading || !goplusTokenInfo}\n          text=\"Contract Upgradable\"\n          tips=\"Whether the token contract is upgradable. If the contract is upgradable, developers can arbitrarily modify its functions.\"\n          status={goplusTokenInfo?.contractUpgradeableValue == '0' ? 'No' : 'Yes'}\n        />\n      </VStack>\n      <HStack justify=\"center\" w=\"100%\" p=\"16px\" borderTop=\"1px solid\" borderColor=\"border\">\n        <Text fontSize=\"14px\" color=\"text_caption\">\n          Powered by\n        </Text>\n        <Image src=\"/images/img_goplus@2x.png\" w=\"70px\" h=\"20px\" />\n      </HStack>\n    </VStack>\n  )\n}\n\ninterface TipsInfoBlockProps {\n  text: string\n  tips?: string\n  status?: 'No' | 'Yes' | string\n  w?: string\n  textColor?: string\n  isLoading?: boolean\n  isYes?: boolean\n  isNo?: boolean\n  titleSize?: string\n  contentSize?: string\n  statusColor?: string\n}\n\nexport const TipsInfoBlock: React.FC<TipsInfoBlockProps> = ({\n  text,\n  titleSize = '14px',\n  contentSize = '14px',\n  statusColor = '',\n  tips,\n  status,\n  w = '100%',\n  textColor = 'text_paragraph',\n  isLoading = false,\n  isYes,\n  isNo\n}) => {\n  const showIconYes = status === 'No' || isYes\n  const showIconNo = status === 'Yes' || isNo\n\n  const statusTextColor = statusColor ? statusColor : status === 'Yes' ? 'primary_yellow' : status === 'No' ? 'primary_green' : 'text_caption'\n\n  return (\n    <HStack w={w} justify=\"space-between\">\n      <CetusTooltip\n        placement=\"top\"\n        showTooltip={!!tips}\n        tooltip={\n          <Text fontSize=\"12px\" lineHeight=\"20px\" color=\"text_caption\">\n            {tips}\n          </Text>\n        }\n      >\n        <Center as=\"button\">\n          <HStack w=\"100%\" gap=\"4px\">\n            <Text fontSize={titleSize} color={textColor}>\n              {text}\n            </Text>\n            {tips && <Icon xlinkHref=\"#icon-icon_tips\" />}\n          </HStack>\n        </Center>\n      </CetusTooltip>\n      {(status || isYes || isNo) && (\n        <Skeleton isLoaded={!isLoading}>\n          <HStack>\n            {status && (\n              <Text color={statusTextColor} fontSize={contentSize}>\n                {status}\n              </Text>\n            )}\n            {showIconYes && <Image src=\"/images/icon_yes.png\" w=\"16px\" h=\"16px\" />}\n            {showIconNo && <Image src=\"/images/icon_no.png\" w=\"16px\" h=\"16px\" />}\n          </HStack>\n        </Skeleton>\n      )}\n    </HStack>\n  )\n}\n"],"names":["useGoPlusTokenInfo","coinType","result","rsp","info","blockListValue","contractUpgradeableValue","mintableValue","metadataModifiableValue","issueNum","TokenGoplusCard","tokenInfo","getExplorerUrl","useExplorer","getGoPlusTokenInfo","goplusTokenInfo","setGoPlusTokenInfo","useState","isGoPlusTokenInfoLoading","setIsGoPlusTokenInfoLoading","fetchTokenInfo","error","useEffect","jsxs","VStack","jsx","HStack","Text","HTextLabelBox","AddressCopyLink","Image","d","addComma","TipsInfoBlock","text","titleSize","contentSize","statusColor","tips","status","w","textColor","isLoading","isYes","isNo","showIconYes","showIconNo","statusTextColor","CetusTooltip","Center","Icon","Skeleton"],"mappings":"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"}