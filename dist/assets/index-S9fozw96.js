import{j as s,V as S,C as D,T as z,H as B,r as p,B as R}from"./vendor-CBmAETR3.js";import{a6 as W,u as N,A as P,a7 as q,aT as G,y as H,x as O,B as U,aU as Y,w as Z}from"./index-BpSfzecM.js";import"./cross-DJ28FxNa.js";import{C as $}from"./CheckBox-eomO844M.js";import{L as J}from"./Loading-DOvYGudd.js";import{T as K}from"./TooltipIcon-DVhxXZmh.js";function Q({tokenList:t,onClickToken:g,onDeleteToken:x,selectTokenList:e,isLoading:a=!1,hideCheckbox:n=!1,currentTab:i=""}){const c=(e==null?void 0:e.length)>0?e[0]:null,r=(e==null?void 0:e.length)>1?e[1]:null,{getTokenSource:j}=W(),{windowWidth:y}=N();return s.jsx(S,{w:"100%",gap:"0px",h:"26vh",maxH:"350px",minH:"210px",overflow:"auto",p:"0",pb:"8px",pl:"4px",overflowY:"scroll",children:a?s.jsx(D,{w:"100%",h:"200px",position:"relative",sx:{">div":{bg:"none"}},children:s.jsx(J,{positionStyle:"absolute"})}):(t==null?void 0:t.length)==0?s.jsxs(S,{w:"100%",h:"100%",alignItems:"center",justify:"center",gap:"4px",children:[s.jsx(z,{color:"text_caption",children:"No tokens found"}),s.jsxs(B,{gap:"0",children:[s.jsx(z,{fontSize:"12px",children:"Or you can enter Coin Type"}),s.jsx(K,{tooltipCon:"The unique id of coin"})]})]}):t==null?void 0:t.map(o=>{var f,m;const l=o==null?void 0:o.coin_type,d=!c&&!r?!1:((f=c==null?void 0:c.coin_type)==null?void 0:f.toLocaleLowerCase())==(l==null?void 0:l.toLocaleLowerCase())||((m=r==null?void 0:r.coin_type)==null?void 0:m.toLocaleLowerCase())==(l==null?void 0:l.toLocaleLowerCase()),w=j([o]).length>0;return s.jsxs(B,{w:"100%",justify:"space-between",_hover:{bg:"primary_opacity.10",borderRadius:"8px"},cursor:"pointer",h:"46px",minH:"46px",p:"0 8px",onClick:n?()=>g(o):(e==null?void 0:e.length)>=2?()=>{}:d?()=>x==null?void 0:x(o):()=>g(o),children:[s.jsx(P,{token:o,imgBoxStyle:{w:"28px",h:"28px"},symbolFontSize:"14px",symbolEllipsesDecimals:8,nameEllipsesDecimals:n||y<=345?20:26,warningIcon:{isNeedShow:w}}),!n&&s.jsx($,{checked:d,onClick:()=>{}})]},o==null?void 0:o.coin_type)})})}function sr({onClickToken:t,onDeleteToken:g,selectTokenList:x,hideCheckbox:e,whiteTokenList:a,isVault:n}){const[i,c]=p.useState(""),{verifiedTokenMap:r}=q(),j=u=>{const E=u.replace(/[^[a-zA-Z0-9\s]+$/g,"");c(E),E&&(I(!0),y(E))},y=G(u=>{console.log("ðŸš€ðŸš€ðŸš€ ~ file: index.tsx:33 ~ debouncedFilter ~ value:",u),console.log("ðŸš€ðŸš€ðŸš€ ~ file: index.tsx:36 ~ debouncedFilter ~ whiteTokenList:",a),console.log("ðŸš€ðŸš€ðŸš€ ~ file: index.tsx:37 ~ debouncedFilter ~ trustedTokenList:",Array.from(r==null?void 0:r.values())),v(u,a||Array.from(r==null?void 0:r.values()),a?[]:b,!1,!a)},300),o=[{label:"Default",value:"Default"},{label:"Imported",value:"Imported"}],[l,d]=p.useState("Default"),{getDefaultTokenList:w}=H(),[f,m]=p.useState(!1);p.useEffect(()=>{!f&&r&&r.size>0&&(console.log("ðŸš€ ~ useEffect ~ filterTokenList:",r),m(!0),w(),A())},[f,r==null?void 0:r.size]);const[V,C]=p.useState(),{sortWithTokenList:_,filterTokenListFun:v,getImportTokenList:A}=H(),{setFilterTokenLoading:I,importTokenList:b,filterTokenLoading:h,filterTokenList:F}=O();return p.useEffect(()=>{console.log("ðŸš€ ~ useEffect ~ filterTokenList:",h,F,Array.from(r==null?void 0:r.values()),b,a),h&&C([]),C(i?F:_(l==="Default"?a||Array.from(r==null?void 0:r.values()):b,"",!1))},[i,F,h,l,r,b,a]),s.jsxs(S,{w:"100%",gap:"0",pt:n?"4px":"0",children:[!n&&s.jsxs(S,{w:"100%",p:"8px",borderRadius:"12px",children:[s.jsx(U,{bg:"bg_primary",p:"0px",borderRadius:"8px",children:s.jsx(Y,{inputValue:i,changeInputValue:u=>j(u),isFrom:"pools",inputFontSize:"12px"})}),!i&&(!a||a&&a.length==0)&&s.jsx(Z,{type:"borderTab",wrapStyle:{w:{base:"100%"},h:"34px",bg:"none",border:"none"},itemStyle:{marginRight:"20px",fontSize:"14px"},tabList:o,currentTab:l,handleChangeTab:u=>{d(u.value),I(!0),setTimeout(()=>{I(!1)},300)}})]}),s.jsx(R,{w:"100%",overflow:"hidden",children:s.jsx(Q,{isLoading:h,currentTab:l,tokenList:V,onClickToken:t,onDeleteToken:g,selectTokenList:x,hideCheckbox:e})})]})}export{sr as P};
