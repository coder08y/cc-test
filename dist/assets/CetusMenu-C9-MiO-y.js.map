{"version":3,"file":"CetusMenu-C9-MiO-y.js","sources":["../../../cetus-design/src/components/common/CetusMenu.tsx"],"sourcesContent":["import useDocumentSize from '@cetus/hooks/src/useDocumentSize'\nimport { Box, Menu, MenuList, MenuListProps, MenuProps, Portal } from '@chakra-ui/react'\nimport React, { useEffect, useRef, useState } from 'react'\n\ninterface CetusMenuProps extends MenuProps {\n  children: [React.ReactNode, React.ReactNode]\n  listProps?: MenuListProps\n  defaultMaxH?: string\n}\n\nfunction CetusMenu({ children, listProps = {}, defaultMaxH, isOpen, ...rest }: CetusMenuProps) {\n  const btnRef = useRef<HTMLDivElement | null>(null)\n  const [maxH, setMaxH] = useState(0)\n  const {\n    size: { h }\n  } = useDocumentSize()\n\n  useEffect(() => {\n    if (isOpen && !defaultMaxH) {\n      const _bottomH = h - (btnRef.current?.getBoundingClientRect().bottom || 0) - 20\n      console.log('ðŸš€ ~ useEffect ~ _bottomH:', _bottomH)\n      const _topH = (btnRef.current?.getBoundingClientRect().top || 0) - 20\n      console.log('ðŸš€ ~ useEffect ~ _topH:', _topH)\n      setMaxH(_bottomH < 40 ? _topH : _bottomH)\n    }\n  }, [isOpen, h])\n\n  return (\n    <Menu isOpen={isOpen} {...rest}>\n      <Box as=\"div\" w=\"100%\" ref={btnRef}>\n        {children[0]}\n      </Box>\n      <Portal>\n        <MenuList maxH={defaultMaxH || maxH} {...listProps}>\n          {children[1]}\n        </MenuList>\n      </Portal>\n    </Menu>\n  )\n}\n\nexport default CetusMenu\n"],"names":["CetusMenu","children","listProps","defaultMaxH","isOpen","rest","btnRef","useRef","maxH","setMaxH","useState","h","useDocumentSize","useEffect","_bottomH","_a","_topH","_b","jsxs","Menu","jsx","Box","Portal","MenuList"],"mappings":"8HAUA,SAASA,EAAU,CAAE,SAAAC,EAAU,UAAAC,EAAY,CAAA,EAAI,YAAAC,EAAa,OAAAC,EAAQ,GAAGC,GAAwB,CAC7F,MAAMC,EAASC,EAAAA,OAA8B,IAAI,EAC3C,CAACC,EAAMC,CAAO,EAAIC,EAAAA,SAAS,CAAC,EAC5B,CACJ,KAAM,CAAE,EAAAC,CAAA,CAAE,EACRC,EAAA,EAEJC,OAAAA,EAAAA,UAAU,IAAM,SACd,GAAIT,GAAU,CAACD,EAAa,CAC1B,MAAMW,EAAWH,KAAKI,EAAAT,EAAO,UAAP,YAAAS,EAAgB,wBAAwB,SAAU,GAAK,GAC7E,QAAQ,IAAI,6BAA8BD,CAAQ,EAClD,MAAME,KAASC,EAAAX,EAAO,UAAP,YAAAW,EAAgB,wBAAwB,MAAO,GAAK,GACnE,QAAQ,IAAI,0BAA2BD,CAAK,EAC5CP,EAAQK,EAAW,GAAKE,EAAQF,CAAQ,CAC1C,CACF,EAAG,CAACV,EAAQO,CAAC,CAAC,EAGZO,EAAAA,KAACC,EAAA,CAAK,OAAAf,EAAiB,GAAGC,EACxB,SAAA,CAAAe,EAAAA,IAACC,EAAA,CAAI,GAAG,MAAM,EAAE,OAAO,IAAKf,EACzB,SAAAL,EAAS,CAAC,CAAA,CACb,EACAmB,EAAAA,IAACE,EAAA,CACC,SAAAF,EAAAA,IAACG,EAAA,CAAS,KAAMpB,GAAeK,EAAO,GAAGN,EACtC,SAAAD,EAAS,CAAC,CAAA,CACb,CAAA,CACF,CAAA,EACF,CAEJ"}