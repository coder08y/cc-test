{"version":3,"file":"TvlChart-DOf4z2jX.js","sources":["../../src/components/chart/TvlChart.tsx"],"sourcesContent":["import { Area, AreaChart, ResponsiveContainer, Tooltip, XAxis, YAxis } from 'recharts'\n\nimport { d } from '@cetusprotocol/common-sdk'\nimport { useMemo } from 'react'\nimport { CustomizedXAxisTick, CustomizedYAxisTick } from './CustomizedAxisTick'\nimport { CustomTvlTooltip } from './CustomTooltip'\nimport EmptyTooltip from './EmptyTooltip'\n\ntype TvlChartProps = {\n  isShowYAxis?: boolean\n  data: any\n  onChangeValue: (data: any) => void\n  toolTipsType?: string\n}\nconst TvlChart = (props: TvlChartProps) => {\n  const { data, onChangeValue, isShowYAxis, toolTipsType } = props\n  console.log('ðŸš€ðŸš€ðŸš€ ~ TvlChart.tsx:15 ~ TvlChart ~ data:', data)\n  const handleMouseMove = (e: any) => {\n    if (e && e.activePayload && e.activePayload.length) {\n      console.log('ðŸš€ ~ handleMouseMove ~ e.activePayload[0]:', e.activePayload[0])\n      onChangeValue(e.activePayload[0].payload)\n    }\n  }\n\n  const handleMouseLeave = () => {\n    onChangeValue(null)\n  }\n\n  const ticks = useMemo(() => {\n    if (data && data?.length) {\n      const min = Math.min(...data?.map((item: any) => item.num))\n      const max = Math.max(...data?.map((item: any) => item.num))\n      const tick4 = d(max).mul(1.01)\n      const tick0 = d(min)\n      const interval = tick4.sub(tick0).div(4)\n      const tick1 = tick0.add(interval.mul(1))\n      const tick2 = tick0.add(interval.mul(2))\n      const tick3 = tick0.add(interval.mul(3))\n      const tickList = [tick0.toNumber(), tick1.toNumber(), tick2.toNumber(), tick3.toNumber(), tick4.toNumber()]\n      console.log('ðŸš€ðŸš€ðŸš€ ~ PriceRangeChart.tsx:57 ~ ticks ~ tickList:', tickList)\n      return tickList\n    }\n    return []\n  }, [data])\n\n  const xData = useMemo(() => {\n    if (data?.length > 0) {\n      const res = data.filter((item: any) => {\n        return item.xAxis !== ''\n      })\n      console.log('ðŸš€ ~ xData ~ res:', data?.length, res)\n      return res\n    }\n    return []\n  }, [data])\n\n  const isAllDataZero = useMemo(() => {\n    if (data?.length > 0) {\n      const res = data.filter((item: any) => {\n        return item.num !== 0\n      })\n      return res.length === 0\n    }\n    return true\n  }, [data])\n\n  return (\n    <ResponsiveContainer width=\"100%\" height=\"100%\">\n      <AreaChart data={isAllDataZero ? [] : data} onMouseMove={handleMouseMove} onMouseLeave={handleMouseLeave}>\n        <defs>\n          <linearGradient id=\"colorTvlArea\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n            <stop offset=\"0%\" stopColor=\"#0080FF\" stopOpacity={0.2} />\n            <stop offset=\"100%\" stopColor=\"#17181D\" stopOpacity={0.2} />\n          </linearGradient>\n        </defs>\n        {/* <CartesianGrid strokeDasharray=\"3 3\" /> */}\n        <XAxis\n          type=\"category\"\n          dataKey=\"xAxis\"\n          minTickGap={xData?.length > 8 ? 36 : undefined}\n          interval={xData?.length <= 8 ? 0 : undefined}\n          tickLine={false}\n          axisLine={false}\n          tick={({ x, y, payload, index }) => (\n            <CustomizedXAxisTick x={x} y={y} payload={payload} index={index} total={data.length} isShowYAxis={isShowYAxis} />\n          )}\n        />\n        {isShowYAxis && (\n          <YAxis\n            type=\"number\"\n            domain={[ticks, ticks[ticks.length - 1]]}\n            axisLine={false}\n            tickLine={false}\n            ticks={ticks}\n            tick={<CustomizedYAxisTick />}\n          />\n        )}\n        {data?.length > 0 && (\n          <Tooltip\n            content={!toolTipsType ? <EmptyTooltip /> : <CustomTvlTooltip />}\n            cursor={{ stroke: 'rgba(255, 255, 255, 0.6)', strokeWidth: 1, strokeDasharray: '3 3' }}\n          />\n        )}\n\n        <Area type=\"monotone\" dataKey=\"num\" stroke=\"#76C8FF\" fill=\"url(#colorTvlArea)\" isAnimationActive={false} />\n      </AreaChart>\n    </ResponsiveContainer>\n  )\n}\n\nexport default TvlChart\n"],"names":["TvlChart","props","data","onChangeValue","isShowYAxis","toolTipsType","handleMouseMove","handleMouseLeave","ticks","useMemo","min","item","max","tick4","d","tick0","interval","tick1","tick2","tick3","tickList","xData","res","isAllDataZero","ResponsiveContainer","jsxs","AreaChart","jsx","XAxis","x","y","payload","index","CustomizedXAxisTick","YAxis","CustomizedYAxisTick","Tooltip","CustomTvlTooltip","EmptyTooltip","Area"],"mappings":"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"}