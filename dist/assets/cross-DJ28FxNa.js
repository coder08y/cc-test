const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/native-1fsxcdbe.js","assets/index-BpSfzecM.js","assets/vendor-CBmAETR3.js","assets/index-VqB3HDun.css","assets/index-DK6oqmGU.js","assets/index-DTPJTBvO.js","assets/clsx.m-DHulAg21.js","assets/index-D8iA35TM.js","assets/sha256-mf02Y2l5.js","assets/index-CnOwMScP.js","assets/index-C83Cx8VX.js","assets/index-BrJeOMXQ.js","assets/tslib.es6-DnZfMYI-.js","assets/metamask-sdk-B0zkebV5.js","assets/index-DPJNluAI.js","assets/index-B7ktH9kM.js","assets/index-BIss_SFt.js","assets/index.es-B9JiK6y0.js","assets/en_US-KAK2ZBDO-C1Pw6Q2s.js"])))=>i.map(i=>d[i]);
var Y9=Object.defineProperty;var hI=e=>{throw TypeError(e)};var Z9=(e,t,n)=>t in e?Y9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var pe=(e,t,n)=>Z9(e,typeof t!="symbol"?t+"":t,n),Gw=(e,t,n)=>t.has(e)||hI("Cannot "+n);var q=(e,t,n)=>(Gw(e,t,"read from private field"),n?n.call(e):t.get(e)),Ue=(e,t,n)=>t.has(e)?hI("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ge=(e,t,n,r)=>(Gw(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Je=(e,t,n)=>(Gw(e,t,"access private method"),n);var r0=(e,t,n,r)=>({set _(s){ge(e,t,s,n)},get _(){return q(e,t,r)}});import{r as Q,j as En,g as Hd,c as bi,a as ap,b as X9,_ as J9,u as eU,d as vl,z as tU,f as nU,s as rU,e as sU,R as iU,h as oU,i as B,k as aU}from"./vendor-CBmAETR3.js";function cU(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function Zk(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Zk(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Xk(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Zk(e))&&(r&&(r+=" "),r+=t);return r}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function lE(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Jk(e,t){return Array.isArray(t)?t.length===0?!0:e?t.every(n=>typeof n=="string"):t.every(n=>Number.isSafeInteger(n)):!1}function uU(e){if(typeof e!="function")throw new Error("function expected");return!0}function ud(e,t){if(typeof t!="string")throw new Error(`${e}: string expected`);return!0}function cp(e){if(!Number.isSafeInteger(e))throw new Error(`invalid integer: ${e}`)}function Am(e){if(!Array.isArray(e))throw new Error("array expected")}function Im(e,t){if(!Jk(!0,t))throw new Error(`${e}: array of strings expected`)}function dE(e,t){if(!Jk(!1,t))throw new Error(`${e}: array of numbers expected`)}function fE(...e){const t=i=>i,n=(i,o)=>a=>i(o(a)),r=e.map(i=>i.encode).reduceRight(n,t),s=e.map(i=>i.decode).reduce(n,t);return{encode:r,decode:s}}function hE(e){const t=typeof e=="string"?e.split(""):e,n=t.length;Im("alphabet",t);const r=new Map(t.map((s,i)=>[s,i]));return{encode:s=>(Am(s),s.map(i=>{if(!Number.isSafeInteger(i)||i<0||i>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${i}". Allowed: ${e}`);return t[i]})),decode:s=>(Am(s),s.map(i=>{ud("alphabet.decode",i);const o=r.get(i);if(o===void 0)throw new Error(`Unknown letter: "${i}". Allowed: ${e}`);return o}))}}function pE(e=""){return ud("join",e),{encode:t=>(Im("join.decode",t),t.join(e)),decode:t=>(ud("join.decode",t),t.split(e))}}function lU(e,t="="){return cp(e),ud("padding",t),{encode(n){for(Im("padding.encode",n);n.length*e%8;)n.push(t);return n},decode(n){Im("padding.decode",n);let r=n.length;if(r*e%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if((r-1)*e%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}function pI(e,t,n){if(t<2)throw new Error(`convertRadix: invalid from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: invalid to=${n}, base cannot be less than 2`);if(Am(e),!e.length)return[];let r=0;const s=[],i=Array.from(e,a=>{if(cp(a),a<0||a>=t)throw new Error(`invalid integer: ${a}`);return a}),o=i.length;for(;;){let a=0,c=!0;for(let u=r;u<o;u++){const l=i[u],f=t*a,d=f+l;if(!Number.isSafeInteger(d)||f/t!==a||d-l!==f)throw new Error("convertRadix: carry overflow");const h=d/n;a=d%n;const p=Math.floor(h);if(i[u]=p,!Number.isSafeInteger(p)||p*n+a!==d)throw new Error("convertRadix: carry overflow");if(c)p?c=!1:r=u;else continue}if(s.push(a),c)break}for(let a=0;a<e.length-1&&e[a]===0;a++)s.push(0);return s.reverse()}const eC=(e,t)=>t===0?e:eC(t,e%t),Sm=(e,t)=>e+(t-eC(e,t)),Y0=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function Lb(e,t,n,r){if(Am(e),t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(Sm(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${Sm(t,n)}`);let s=0,i=0;const o=Y0[t],a=Y0[n]-1,c=[];for(const u of e){if(cp(u),u>=o)throw new Error(`convertRadix2: invalid data word=${u} from=${t}`);if(s=s<<t|u,i+t>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${t}`);for(i+=t;i>=n;i-=n)c.push((s>>i-n&a)>>>0);const l=Y0[i];if(l===void 0)throw new Error("invalid carry");s&=l-1}if(s=s<<n-i&a,!r&&i>=t)throw new Error("Excess padding");if(!r&&s>0)throw new Error(`Non-zero padding: ${s}`);return r&&i>0&&c.push(s>>>0),c}function dU(e){cp(e);const t=2**8;return{encode:n=>{if(!lE(n))throw new Error("radix.encode input should be Uint8Array");return pI(Array.from(n),t,e)},decode:n=>(dE("radix.decode",n),Uint8Array.from(pI(n,e,t)))}}function tC(e,t=!1){if(cp(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(Sm(8,e)>32||Sm(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!lE(n))throw new Error("radix2.encode input should be Uint8Array");return Lb(Array.from(n),8,e,!t)},decode:n=>(dE("radix2.decode",n),Uint8Array.from(Lb(n,e,8,t)))}}function mI(e){return uU(e),function(...t){try{return e.apply(null,t)}catch{}}}const Lwe=fE(tC(5),hE("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),lU(5),pE("")),fU=e=>fE(dU(58),hE(e),pE("")),nC=fU("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),$b=fE(hE("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),pE("")),yI=[996825010,642813549,513874426,1027748829,705979059];function Af(e){const t=e>>25;let n=(e&33554431)<<5;for(let r=0;r<yI.length;r++)(t>>r&1)===1&&(n^=yI[r]);return n}function gI(e,t,n=1){const r=e.length;let s=1;for(let i=0;i<r;i++){const o=e.charCodeAt(i);if(o<33||o>126)throw new Error(`Invalid prefix (${e})`);s=Af(s)^o>>5}s=Af(s);for(let i=0;i<r;i++)s=Af(s)^e.charCodeAt(i)&31;for(let i of t)s=Af(s)^i;for(let i=0;i<6;i++)s=Af(s);return s^=n,$b.encode(Lb([s%Y0[30]],30,5,!1))}function hU(e){const t=e==="bech32"?1:734539939,n=tC(5),r=n.decode,s=n.encode,i=mI(r);function o(f,d,h=90){ud("bech32.encode prefix",f),lE(d)&&(d=Array.from(d)),dE("bech32.encode",d);const p=f.length;if(p===0)throw new TypeError(`Invalid prefix length ${p}`);const m=p+7+d.length;if(h!==!1&&m>h)throw new TypeError(`Length ${m} exceeds limit ${h}`);const y=f.toLowerCase(),b=gI(y,d,t);return`${y}1${$b.encode(d)}${b}`}function a(f,d=90){ud("bech32.decode input",f);const h=f.length;if(h<8||d!==!1&&h>d)throw new TypeError(`invalid string length: ${h} (${f}). Expected (8..${d})`);const p=f.toLowerCase();if(f!==p&&f!==f.toUpperCase())throw new Error("String must be lowercase or uppercase");const m=p.lastIndexOf("1");if(m===0||m===-1)throw new Error('Letter "1" must be present between prefix and data only');const y=p.slice(0,m),b=p.slice(m+1);if(b.length<6)throw new Error("Data must be at least 6 characters long");const I=$b.decode(b).slice(0,-6),v=gI(y,I,t);if(!b.endsWith(v))throw new Error(`Invalid checksum in ${f}: expected "${v}"`);return{prefix:y,words:I}}const c=mI(a);function u(f){const{prefix:d,words:h}=a(f,!1);return{prefix:d,words:h,bytes:r(h)}}function l(f,d){return o(f,s(d))}return{encode:o,decode:a,encodeFromBytes:l,decodeToBytes:u,decodeUnsafe:c,fromWords:r,fromWordsUnsafe:i,toWords:s}}const $we=hU("bech32"),$u=e=>nC.encode(e),la=e=>nC.decode(e);function ar(e){return Uint8Array.from(atob(e),t=>t.charCodeAt(0))}const Vw=8192;function Hn(e){if(e.length<Vw)return btoa(String.fromCharCode(...e));let t="";for(var n=0;n<e.length;n+=Vw){const r=e.slice(n,n+Vw);t+=String.fromCharCode(...r)}return btoa(t)}function qd(e){var s;const t=e.startsWith("0x")?e.slice(2):e,n=t.length%2===0?t:`0${t}`,r=((s=n.match(/[0-9a-fA-F]{2}/g))==null?void 0:s.map(i=>parseInt(i,16)))??[];if(r.length!==n.length/2)throw new Error(`Invalid hex string ${e}`);return Uint8Array.from(r)}function da(e){return e.reduce((t,n)=>t+n.toString(16).padStart(2,"0"),"")}function up(e,t){return Array.from({length:Math.ceil(e.length/t)},(n,r)=>e.slice(r*t,(r+1)*t))}function pU(){let e,t;return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}function mU(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var rC={exports:{}},kn=rC.exports={},oo,ao;function zb(){throw new Error("setTimeout has not been defined")}function Fb(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?oo=setTimeout:oo=zb}catch{oo=zb}try{typeof clearTimeout=="function"?ao=clearTimeout:ao=Fb}catch{ao=Fb}})();function sC(e){if(oo===setTimeout)return setTimeout(e,0);if((oo===zb||!oo)&&setTimeout)return oo=setTimeout,setTimeout(e,0);try{return oo(e,0)}catch{try{return oo.call(null,e,0)}catch{return oo.call(this,e,0)}}}function yU(e){if(ao===clearTimeout)return clearTimeout(e);if((ao===Fb||!ao)&&clearTimeout)return ao=clearTimeout,clearTimeout(e);try{return ao(e)}catch{try{return ao.call(null,e)}catch{return ao.call(this,e)}}}var Xo=[],Dl=!1,qc,Z0=-1;function gU(){!Dl||!qc||(Dl=!1,qc.length?Xo=qc.concat(Xo):Z0=-1,Xo.length&&iC())}function iC(){if(!Dl){var e=sC(gU);Dl=!0;for(var t=Xo.length;t;){for(qc=Xo,Xo=[];++Z0<t;)qc&&qc[Z0].run();Z0=-1,t=Xo.length}qc=null,Dl=!1,yU(e)}}kn.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];Xo.push(new oC(e,t)),Xo.length===1&&!Dl&&sC(iC)};function oC(e,t){this.fun=e,this.array=t}oC.prototype.run=function(){this.fun.apply(null,this.array)};kn.title="browser";kn.browser=!0;kn.env={};kn.argv=[];kn.version="";kn.versions={};function Ia(){}kn.on=Ia;kn.addListener=Ia;kn.once=Ia;kn.off=Ia;kn.removeListener=Ia;kn.removeAllListeners=Ia;kn.emit=Ia;kn.prependListener=Ia;kn.prependOnceListener=Ia;kn.listeners=function(e){return[]};kn.binding=function(e){throw new Error("process.binding is not supported")};kn.cwd=function(){return"/"};kn.chdir=function(e){throw new Error("process.chdir is not supported")};kn.umask=function(){return 0};var wU=rC.exports;const Zf=mU(wU);class mE{constructor(t,n){if(typeof t!="function")throw new TypeError(`DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but got: ${t}.`);this._batchLoadFn=t,this._maxBatchSize=xU(n),this._batchScheduleFn=AU(n),this._cacheKeyFn=IU(n),this._cacheMap=SU(n),this._batch=null,this.name=kU(n)}load(t){if(t==null)throw new TypeError(`The loader.load() function must be called with a value, but got: ${String(t)}.`);const n=vU(this),r=this._cacheMap;let s;if(r){s=this._cacheKeyFn(t);const o=r.get(s);if(o){const a=n.cacheHits||(n.cacheHits=[]);return new Promise(c=>{a.push(()=>{c(o)})})}}n.keys.push(t);const i=new Promise((o,a)=>{n.callbacks.push({resolve:o,reject:a})});return r&&r.set(s,i),i}loadMany(t){if(!aC(t))throw new TypeError(`The loader.loadMany() function must be called with Array<key>, but got: ${t}.`);const n=[];for(let r=0;r<t.length;r++)n.push(this.load(t[r]).catch(s=>s));return Promise.all(n)}clear(t){const n=this._cacheMap;if(n){const r=this._cacheKeyFn(t);n.delete(r)}return this}clearAll(){const t=this._cacheMap;return t&&t.clear(),this}prime(t,n){const r=this._cacheMap;if(r){const s=this._cacheKeyFn(t);if(r.get(s)===void 0){let i;n instanceof Error?(i=Promise.reject(n),i.catch(()=>{})):i=Promise.resolve(n),r.set(s,i)}}return this}}const bU=typeof Zf=="object"&&typeof Zf.nextTick=="function"?function(e){Kw||(Kw=Promise.resolve()),Kw.then(()=>{Zf.nextTick(e)})}:typeof setImmediate=="function"?function(e){setImmediate(e)}:function(e){setTimeout(e)};let Kw;function vU(e){const t=e._batch;if(t!==null&&!t.hasDispatched&&t.keys.length<e._maxBatchSize)return t;const n={hasDispatched:!1,keys:[],callbacks:[]};return e._batch=n,e._batchScheduleFn(()=>{EU(e,n)}),n}function EU(e,t){if(t.hasDispatched=!0,t.keys.length===0){Hb(t);return}let n;try{n=e._batchLoadFn(t.keys)}catch(r){return Qw(e,t,new TypeError(`DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function errored synchronously: ${String(r)}.`))}if(!n||typeof n.then!="function")return Qw(e,t,new TypeError(`DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise: ${String(n)}.`));Promise.resolve(n).then(r=>{if(!aC(r))throw new TypeError(`DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array: ${String(r)}.`);if(r.length!==t.keys.length)throw new TypeError(`DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys.

Keys:
${String(t.keys)}

Values:
${String(r)}`);Hb(t);for(let s=0;s<t.callbacks.length;s++){const i=r[s];i instanceof Error?t.callbacks[s].reject(i):t.callbacks[s].resolve(i)}}).catch(r=>{Qw(e,t,r)})}function Qw(e,t,n){Hb(t);for(let r=0;r<t.keys.length;r++)e.clear(t.keys[r]),t.callbacks[r].reject(n)}function Hb(e){if(e.cacheHits)for(let t=0;t<e.cacheHits.length;t++)e.cacheHits[t]()}function xU(e){if(!(!e||e.batch!==!1))return 1;const n=e&&e.maxBatchSize;if(n===void 0)return 1/0;if(typeof n!="number"||n<1)throw new TypeError(`maxBatchSize must be a positive number: ${n}`);return n}function AU(e){const t=e&&e.batchScheduleFn;if(t===void 0)return bU;if(typeof t!="function")throw new TypeError(`batchScheduleFn must be a function: ${t}`);return t}function IU(e){const t=e&&e.cacheKeyFn;if(t===void 0)return n=>n;if(typeof t!="function")throw new TypeError(`cacheKeyFn must be a function: ${t}`);return t}function SU(e){if(!(!e||e.cache!==!1))return null;const n=e&&e.cacheMap;if(n===void 0)return new Map;if(n!==null){const s=["get","set","delete","clear"].filter(i=>n&&typeof n[i]!="function");if(s.length!==0)throw new TypeError("Custom cacheMap missing methods: "+s.join(", "))}return n}function kU(e){return e&&e.name?e.name:null}function aC(e){return typeof e=="object"&&e!==null&&"length"in e&&typeof e.length=="number"&&(e.length===0||e.length>0&&Object.prototype.hasOwnProperty.call(e,e.length-1))}const zwe=Object.freeze(Object.defineProperty({__proto__:null,DataLoader:mE,chunk:up,fromBase58:la,fromBase64:ar,fromHex:qd,promiseWithResolvers:pU,toBase58:$u,toBase64:Hn,toHex:da},Symbol.toStringTag,{value:"Module"}));function km(e){let t=BigInt(e);const n=[];let r=0;if(t===0n)return[0];for(;t>0;)n[r]=Number(t&0x7fn),(t>>=7n)&&(n[r]|=128),r+=1;return n}function CU(e){let t=0n,n=0n,r=0;for(;;){if(r>=e.length)throw new Error("ULEB decode error: buffer overflow");const s=e[r];if(r+=1,t+=BigInt(s&127)<<n,!(s&128))break;n+=7n}if(t>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("ULEB decode error: value exceeds MAX_SAFE_INTEGER");return{value:Number(t),length:r}}class cC{constructor(t){this.bytePosition=0,this.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength)}shift(t){return this.bytePosition+=t,this}read8(){const t=this.dataView.getUint8(this.bytePosition);return this.shift(1),t}read16(){const t=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),t}read32(){const t=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),t}read64(){const t=this.read32(),r=this.read32().toString(16)+t.toString(16).padStart(8,"0");return BigInt("0x"+r).toString(10)}read128(){const t=BigInt(this.read64()),r=BigInt(this.read64()).toString(16)+t.toString(16).padStart(16,"0");return BigInt("0x"+r).toString(10)}read256(){const t=BigInt(this.read128()),r=BigInt(this.read128()).toString(16)+t.toString(16).padStart(32,"0");return BigInt("0x"+r).toString(10)}readBytes(t){const n=this.bytePosition+this.dataView.byteOffset,r=new Uint8Array(this.dataView.buffer,n,t);return this.shift(t),r}readULEB(){const t=this.bytePosition+this.dataView.byteOffset,n=new Uint8Array(this.dataView.buffer,t),{value:r,length:s}=CU(n);return this.shift(s),r}readVec(t){const n=this.readULEB(),r=[];for(let s=0;s<n;s++)r.push(t(this,s,n));return r}}function uC(e,t){switch(t){case"base58":return $u(e);case"base64":return Hn(e);case"hex":return da(e);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}function TU(e,t){switch(t){case"base58":return la(e);case"base64":return ar(e);case"hex":return qd(e);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}function yE(e,t=["<",">"]){const[n,r]=t,s=[];let i="",o=0;for(let a=0;a<e.length;a++){const c=e[a];if(c===n&&o++,c===r&&o--,o===0&&c===","){s.push(i.trim()),i="";continue}i+=c}return s.push(i.trim()),s}class lC{constructor({initialSize:t=1024,maxSize:n=1/0,allocateSize:r=1024}={}){this.bytePosition=0,this.size=t,this.maxSize=n,this.allocateSize=r,this.dataView=new DataView(new ArrayBuffer(t))}ensureSizeOrGrow(t){const n=this.bytePosition+t;if(n>this.size){const r=Math.min(this.maxSize,Math.max(this.size+n,this.size+this.allocateSize));if(n>r)throw new Error(`Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${n}`);this.size=r;const s=new ArrayBuffer(this.size);new Uint8Array(s).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView(s)}}shift(t){return this.bytePosition+=t,this}write8(t){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(t)),this.shift(1)}writeBytes(t){this.ensureSizeOrGrow(t.length);for(let n=0;n<t.length;n++)this.dataView.setUint8(this.bytePosition+n,t[n]);return this.shift(t.length)}write16(t){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(t),!0),this.shift(2)}write32(t){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(t),!0),this.shift(4)}write64(t){return Yw(BigInt(t),8).forEach(n=>this.write8(n)),this}write128(t){return Yw(BigInt(t),16).forEach(n=>this.write8(n)),this}write256(t){return Yw(BigInt(t),32).forEach(n=>this.write8(n)),this}writeULEB(t){return km(t).forEach(n=>this.write8(n)),this}writeVec(t,n){return this.writeULEB(t.length),Array.from(t).forEach((r,s)=>n(this,r,s,t.length)),this}*[Symbol.iterator](){for(let t=0;t<this.bytePosition;t++)yield this.dataView.getUint8(t);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(t){return uC(this.toBytes(),t)}}function Yw(e,t){const n=new Uint8Array(t);let r=0;for(;e>0;)n[r]=Number(e%BigInt(256)),e=e/BigInt(256),r+=1;return n}var dC=e=>{throw TypeError(e)},fC=(e,t,n)=>t.has(e)||dC("Cannot "+n),Oi=(e,t,n)=>(fC(e,t,"read from private field"),n?n.call(e):t.get(e)),Cm=(e,t,n)=>t.has(e)?dC("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Tm=(e,t,n,r)=>(fC(e,t,"write to private field"),t.set(e,n),n),El,Df,X0,Fa;const _U=class hC{constructor(t){Cm(this,El),Cm(this,Df),this.name=t.name,this.read=t.read,this.serializedSize=t.serializedSize??(()=>null),Tm(this,El,t.write),Tm(this,Df,t.serialize??((n,r)=>{const s=new lC({initialSize:this.serializedSize(n)??void 0,...r});return Oi(this,El).call(this,n,s),s.toBytes()})),this.validate=t.validate??(()=>{})}write(t,n){this.validate(t),Oi(this,El).call(this,t,n)}serialize(t,n){return this.validate(t),new mC(this,Oi(this,Df).call(this,t,n))}parse(t){const n=new cC(t);return this.read(n)}fromHex(t){return this.parse(qd(t))}fromBase58(t){return this.parse(la(t))}fromBase64(t){return this.parse(ar(t))}transform({name:t,input:n,output:r,validate:s}){return new hC({name:t??this.name,read:i=>r?r(this.read(i)):this.read(i),write:(i,o)=>Oi(this,El).call(this,n?n(i):i,o),serializedSize:i=>this.serializedSize(n?n(i):i),serialize:(i,o)=>Oi(this,Df).call(this,n?n(i):i,o),validate:i=>{s==null||s(i),this.validate(n?n(i):i)}})}};El=new WeakMap;Df=new WeakMap;let Xi=_U;const pC=Symbol.for("@mysten/serialized-bcs");function qy(e){return!!e&&typeof e=="object"&&e[pC]===!0}class mC{constructor(t,n){Cm(this,X0),Cm(this,Fa),Tm(this,X0,t),Tm(this,Fa,n)}get[pC](){return!0}toBytes(){return Oi(this,Fa)}toHex(){return da(Oi(this,Fa))}toBase64(){return Hn(Oi(this,Fa))}toBase58(){return $u(Oi(this,Fa))}parse(){return Oi(this,X0).parse(Oi(this,Fa))}}X0=new WeakMap;Fa=new WeakMap;function _m({size:e,...t}){return new Xi({...t,serializedSize:()=>e})}function Zw({readMethod:e,writeMethod:t,...n}){return _m({...n,read:r=>r[e](),write:(r,s)=>s[t](r),validate:r=>{var s;if(r<0||r>n.maxValue)throw new TypeError(`Invalid ${n.name} value: ${r}. Expected value in range 0-${n.maxValue}`);(s=n.validate)==null||s.call(n,r)}})}function Xw({readMethod:e,writeMethod:t,...n}){return _m({...n,read:r=>r[e](),write:(r,s)=>s[t](BigInt(r)),validate:r=>{var i;const s=BigInt(r);if(s<0||s>n.maxValue)throw new TypeError(`Invalid ${n.name} value: ${s}. Expected value in range 0-${n.maxValue}`);(i=n.validate)==null||i.call(n,s)}})}function MU({serialize:e,...t}){const n=new Xi({...t,serialize:e,write:(r,s)=>{for(const i of n.serialize(r).toBytes())s.write8(i)}});return n}function BU({toBytes:e,fromBytes:t,...n}){return new Xi({...n,read:r=>{const s=r.readULEB(),i=r.readBytes(s);return t(i)},write:(r,s)=>{const i=e(r);s.writeULEB(i.length);for(let o=0;o<i.length;o++)s.write8(i[o])},serialize:r=>{const s=e(r),i=km(s.length),o=new Uint8Array(i.length+s.length);return o.set(i,0),o.set(s,i.length),o},validate:r=>{var s;if(typeof r!="string")throw new TypeError(`Invalid ${n.name} value: ${r}. Expected string`);(s=n.validate)==null||s.call(n,r)}})}function NU(e){let t=null;function n(){return t||(t=e()),t}return new Xi({name:"lazy",read:r=>n().read(r),serializedSize:r=>n().serializedSize(r),write:(r,s)=>n().write(r,s),serialize:(r,s)=>n().serialize(r,s).toBytes()})}class yC extends Xi{constructor({name:t,fields:n,...r}){const s=Object.entries(n);super({name:t,serializedSize:i=>{let o=0;for(const[a,c]of s){const u=c.serializedSize(i[a]);if(u==null)return null;o+=u}return o},read:i=>{const o={};for(const[a,c]of s)o[a]=c.read(i);return o},write:(i,o)=>{for(const[a,c]of s)c.write(i[a],o)},...r,validate:i=>{var o;if((o=r==null?void 0:r.validate)==null||o.call(r,i),typeof i!="object"||i==null)throw new TypeError(`Expected object, found ${typeof i}`)}})}}class gC extends Xi{constructor({fields:t,...n}){const r=Object.entries(t);super({read:s=>{const i=s.readULEB(),o=r[i];if(!o)throw new TypeError(`Unknown value ${i} for enum ${n.name}`);const[a,c]=o;return{[a]:(c==null?void 0:c.read(s))??!0,$kind:a}},write:(s,i)=>{const[o,a]=Object.entries(s).filter(([c])=>Object.hasOwn(t,c))[0];for(let c=0;c<r.length;c++){const[u,l]=r[c];if(u===o){i.writeULEB(c),l==null||l.write(a,i);return}}},...n,validate:s=>{var a;if((a=n==null?void 0:n.validate)==null||a.call(n,s),typeof s!="object"||s==null)throw new TypeError(`Expected object, found ${typeof s}`);const i=Object.keys(s).filter(c=>s[c]!==void 0&&Object.hasOwn(t,c));if(i.length!==1)throw new TypeError(`Expected object with one key, but found ${i.length} for type ${n.name}}`);const[o]=i;if(!Object.hasOwn(t,o))throw new TypeError(`Invalid enum variant ${o}`)}})}}class wC extends Xi{constructor({fields:t,name:n,...r}){super({name:n??`(${t.map(s=>s.name).join(", ")})`,serializedSize:s=>{let i=0;for(let o=0;o<t.length;o++){const a=t[o].serializedSize(s[o]);if(a==null)return null;i+=a}return i},read:s=>{const i=[];for(const o of t)i.push(o.read(s));return i},write:(s,i)=>{for(let o=0;o<t.length;o++)t[o].write(s[o],i)},...r,validate:s=>{var i;if((i=r==null?void 0:r.validate)==null||i.call(r,s),!Array.isArray(s))throw new TypeError(`Expected array, found ${typeof s}`);if(s.length!==t.length)throw new TypeError(`Expected array of length ${t.length}, found ${s.length}`)}})}}function OU(e,t,n){return new Xi({read:r=>{const s=new Array(e);for(let i=0;i<e;i++)s[i]=t.read(r);return s},write:(r,s)=>{for(const i of r)t.write(i,s)},...n,name:(n==null?void 0:n.name)??`${t.name}[${e}]`,validate:r=>{var s;if((s=n==null?void 0:n.validate)==null||s.call(n,r),!r||typeof r!="object"||!("length"in r))throw new TypeError(`Expected array, found ${typeof r}`);if(r.length!==e)throw new TypeError(`Expected array of length ${e}, found ${r.length}`)}})}function PU(e){return V.enum(`Option<${e.name}>`,{None:null,Some:e}).transform({input:t=>t==null?{None:!0}:{Some:t},output:t=>t.$kind==="Some"?t.Some:null})}function jU(e,t){return new Xi({read:n=>{const r=n.readULEB(),s=new Array(r);for(let i=0;i<r;i++)s[i]=e.read(n);return s},write:(n,r)=>{r.writeULEB(n.length);for(const s of n)e.write(s,r)},...t,name:(t==null?void 0:t.name)??`vector<${e.name}>`,validate:n=>{var r;if((r=t==null?void 0:t.validate)==null||r.call(t,n),!n||typeof n!="object"||!("length"in n))throw new TypeError(`Expected array, found ${typeof n}`)}})}function RU(e,t){return V.vector(V.tuple([e,t])).transform({name:`Map<${e.name}, ${t.name}>`,input:n=>[...n.entries()],output:n=>{const r=new Map;for(const[s,i]of n)r.set(s,i);return r}})}const V={u8(e){return Zw({readMethod:"read8",writeMethod:"write8",size:1,maxValue:2**8-1,...e,name:(e==null?void 0:e.name)??"u8"})},u16(e){return Zw({readMethod:"read16",writeMethod:"write16",size:2,maxValue:2**16-1,...e,name:(e==null?void 0:e.name)??"u16"})},u32(e){return Zw({readMethod:"read32",writeMethod:"write32",size:4,maxValue:2**32-1,...e,name:(e==null?void 0:e.name)??"u32"})},u64(e){return Xw({readMethod:"read64",writeMethod:"write64",size:8,maxValue:2n**64n-1n,...e,name:(e==null?void 0:e.name)??"u64"})},u128(e){return Xw({readMethod:"read128",writeMethod:"write128",size:16,maxValue:2n**128n-1n,...e,name:(e==null?void 0:e.name)??"u128"})},u256(e){return Xw({readMethod:"read256",writeMethod:"write256",size:32,maxValue:2n**256n-1n,...e,name:(e==null?void 0:e.name)??"u256"})},bool(e){return _m({size:1,read:t=>t.read8()===1,write:(t,n)=>n.write8(t?1:0),...e,name:(e==null?void 0:e.name)??"bool",validate:t=>{var n;if((n=e==null?void 0:e.validate)==null||n.call(e,t),typeof t!="boolean")throw new TypeError(`Expected boolean, found ${typeof t}`)}})},uleb128(e){return MU({read:t=>t.readULEB(),serialize:t=>Uint8Array.from(km(t)),...e,name:(e==null?void 0:e.name)??"uleb128"})},bytes(e,t){return _m({size:e,read:n=>n.readBytes(e),write:(n,r)=>{r.writeBytes(new Uint8Array(n))},...t,name:(t==null?void 0:t.name)??`bytes[${e}]`,validate:n=>{var r;if((r=t==null?void 0:t.validate)==null||r.call(t,n),!n||typeof n!="object"||!("length"in n))throw new TypeError(`Expected array, found ${typeof n}`);if(n.length!==e)throw new TypeError(`Expected array of length ${e}, found ${n.length}`)}})},byteVector(e){return new Xi({read:t=>{const n=t.readULEB();return t.readBytes(n)},write:(t,n)=>{const r=new Uint8Array(t);n.writeULEB(r.length),n.writeBytes(r)},...e,name:(e==null?void 0:e.name)??"vector<u8>",serializedSize:t=>{const n="length"in t?t.length:null;return n==null?null:km(n).length+n},validate:t=>{var n;if((n=e==null?void 0:e.validate)==null||n.call(e,t),!t||typeof t!="object"||!("length"in t))throw new TypeError(`Expected array, found ${typeof t}`)}})},string(e){return BU({toBytes:t=>new TextEncoder().encode(t),fromBytes:t=>new TextDecoder().decode(t),...e,name:(e==null?void 0:e.name)??"string"})},fixedArray:OU,option:PU,vector:jU,tuple(e,t){return new wC({fields:e,...t})},struct(e,t,n){return new yC({name:e,fields:t,...n})},enum(e,t,n){return new gC({name:e,fields:t,...n})},map:RU,lazy(e){return NU(e)}},DU=$u,UU=la,LU=Hn,$U=ar,zU=da,FU=qd,Fwe=Object.freeze(Object.defineProperty({__proto__:null,BcsEnum:gC,BcsReader:cC,BcsStruct:yC,BcsTuple:wC,BcsType:Xi,BcsWriter:lC,SerializedBcs:mC,bcs:V,decodeStr:TU,encodeStr:uC,fromB58:UU,fromB64:$U,fromBase58:la,fromBase64:ar,fromHEX:FU,fromHex:qd,isSerializedBcs:qy,splitGenericParameters:yE,toB58:DU,toB64:LU,toBase58:$u,toBase64:Hn,toHEX:zU,toHex:da},Symbol.toStringTag,{value:"Module"})),bC=/^(?!.*(^(?!@)|[-.@])($|[-.@]))(?:[a-z0-9-]{0,63}(?:\.[a-z0-9-]{0,63})*)?@[a-z0-9-]{0,63}$/i,vC=/^(?!.*(^|[-.])($|[-.]))(?:[a-z0-9-]{0,63}\.)+sui$/i,HU=235;function qU(e){return e.length>HU?!1:e.includes("@")?bC.test(e):vC.test(e)}function WU(e,t="at"){const n=e.toLowerCase();let r;if(n.includes("@")){if(!bC.test(n))throw new Error(`Invalid SuiNS name ${e}`);const[s,i]=n.split("@");r=[...s?s.split("."):[],i]}else{if(!vC.test(n))throw new Error(`Invalid SuiNS name ${e}`);r=n.split(".").slice(0,-1)}return t==="dot"?`${r.join(".")}.sui`:`${r.slice(0,-1).join(".")}@${r[r.length-1]}`}const GU=/^([a-z0-9]+(?:-[a-z0-9]+)*)$/,VU=/^\d+$/,KU=64,EC="/",Rs=e=>{const t=e.split(EC);if(t.length<2||t.length>3)return!1;const[n,r,s]=t;return s!==void 0&&!VU.test(s)||!qU(n)?!1:GU.test(r)&&r.length<KU},QU=e=>{const t=e.split(/::|<|>|,/);for(const n of t)if(n.includes(EC)&&!Rs(n))return!1;return!0},YU=32;function wI(e){try{return la(e).length===YU}catch{return!1}}const Wy=32;function di(e){return XU(e)&&JU(e)===Wy}function s0(e){return di(e)}function ZU(e){return e.includes("::")?gu(e):e}function gu(e){const[t,n]=e.split("::"),r=Rs(t),s=e.slice(t.length+n.length+4),i=s.includes("<")?s.slice(0,s.indexOf("<")):s,o=s.includes("<")?yE(s.slice(s.indexOf("<")+1,s.lastIndexOf(">"))).map(a=>ZU(a.trim())):[];return{address:r?t:bt(t),module:n,name:i,typeParams:o}}function ld(e){const{address:t,module:n,name:r,typeParams:s}=typeof e=="string"?gu(e):e,i=(s==null?void 0:s.length)>0?`<${s.map(o=>typeof o=="string"?o:ld(o)).join(",")}>`:"";return`${t}::${n}::${r}${i}`}function bt(e,t=!1){let n=e.toLowerCase();return!t&&n.startsWith("0x")&&(n=n.slice(2)),`0x${n.padStart(Wy*2,"0")}`}function yo(e,t=!1){return bt(e,t)}function XU(e){return/^(0x|0X)?[a-fA-F0-9]+$/.test(e)&&e.length%2===0}function JU(e){return/^(0x|0X)/.test(e)?(e.length-2)/2:e.length/2}BigInt(1e9);const eL="0x1",xC="0x2",Hwe=yo("0x6"),tL=`${xC}::sui::SUI`;yo("0x5");yo("0x8");const dl=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Wd(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Ks(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function vi(e,...t){if(!Wd(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Gy(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Ks(e.outputLen),Ks(e.blockLen)}function fa(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Vy(e,t){vi(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function nL(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}function dd(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function ss(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Xf(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Ii(e,t){return e<<32-t|e>>>t}function Uf(e,t){return e<<t|e>>>32-t>>>0}const gE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function wE(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}const Ci=gE?e=>e:e=>wE(e),rL=Ci;function AC(e){for(let t=0;t<e.length;t++)e[t]=wE(e[t]);return e}const $o=gE?e=>e:AC,IC=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",sL=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function dc(e){if(vi(e),IC)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=sL[e[n]];return t}const _o={_0:48,_9:57,A:65,F:70,a:97,f:102};function bI(e){if(e>=_o._0&&e<=_o._9)return e-_o._0;if(e>=_o.A&&e<=_o.F)return e-(_o.A-10);if(e>=_o.a&&e<=_o.f)return e-(_o.a-10)}function hh(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(IC)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=bI(e.charCodeAt(i)),a=bI(e.charCodeAt(i+1));if(o===void 0||a===void 0){const c=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}const SC=async()=>{};async function iL(e,t,n){let r=Date.now();for(let s=0;s<e;s++){n(s);const i=Date.now()-r;i>=0&&i<t||(await SC(),r+=i)}}function bE(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function oL(e){return new TextDecoder().decode(e)}function zi(e){return typeof e=="string"&&(e=bE(e)),vi(e),e}function qb(e){return typeof e=="string"&&(e=bE(e)),vi(e),e}function hi(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];vi(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}function kC(e,t){if(t!==void 0&&{}.toString.call(t)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(e,t)}class lp{}function Ao(e){const t=r=>e().update(zi(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function vE(e){const t=(r,s)=>e(s).update(zi(r)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}function CC(e){const t=(r,s)=>e(s).update(zi(r)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}const aL=Ao,cL=vE,uL=CC;function dp(e=32){if(dl&&typeof dl.getRandomValues=="function")return dl.getRandomValues(new Uint8Array(e));if(dl&&typeof dl.randomBytes=="function")return Uint8Array.from(dl.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const lL=Object.freeze(Object.defineProperty({__proto__:null,Hash:lp,abytes:vi,aexists:fa,ahash:Gy,anumber:Ks,aoutput:Vy,asyncLoop:iL,byteSwap:wE,byteSwap32:AC,byteSwapIfBE:rL,bytesToHex:dc,bytesToUtf8:oL,checkOpts:kC,clean:ss,concatBytes:hi,createHasher:Ao,createOptHasher:vE,createView:Xf,createXOFer:CC,hexToBytes:hh,isBytes:Wd,isLE:gE,kdfInputToBytes:qb,nextTick:SC,randomBytes:dp,rotl:Uf,rotr:Ii,swap32IfBE:$o,swap8IfBE:Ci,toBytes:zi,u32:dd,u8:nL,utf8ToBytes:bE,wrapConstructor:aL,wrapConstructorWithOpts:cL,wrapXOFConstructorWithOpts:uL},Symbol.toStringTag,{value:"Module"})),dL=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]);function fL(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,u=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+u,a,r)}function hL(e,t,n){return e&t^~e&n}function pL(e,t,n){return e&t^e&n^t&n}class EE extends lp{constructor(t,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(t),this.view=Xf(this.buffer)}update(t){fa(this),t=zi(t),vi(t);const{view:n,buffer:r,blockLen:s}=this,i=t.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=Xf(t);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){fa(this),Vy(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,ss(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let f=o;f<s;f++)n[f]=0;fL(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=Xf(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,l[f],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return t.destroyed=o,t.finished=i,t.length=s,t.pos=a,s%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const Ba=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Na=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),Br=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Nr=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),i0=BigInt(2**32-1),vI=BigInt(32);function TC(e,t=!1){return t?{h:Number(e&i0),l:Number(e>>vI&i0)}:{h:Number(e>>vI&i0)|0,l:Number(e&i0)|0}}function _C(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=TC(e[i],t);[r[i],s[i]]=[o,a]}return[r,s]}const EI=(e,t,n)=>e>>>n,xI=(e,t,n)=>e<<32-n|t>>>n,Ga=(e,t,n)=>e>>>n|t<<32-n,Va=(e,t,n)=>e<<32-n|t>>>n,Lf=(e,t,n)=>e<<64-n|t>>>n-32,$f=(e,t,n)=>e>>>n-32|t<<64-n,mL=(e,t)=>t,yL=(e,t)=>e,gL=(e,t,n)=>e<<n|t>>>32-n,wL=(e,t,n)=>t<<n|e>>>32-n,bL=(e,t,n)=>t<<n-32|e>>>64-n,vL=(e,t,n)=>e<<n-32|t>>>64-n;function ki(e,t,n,r){const s=(t>>>0)+(r>>>0);return{h:e+n+(s/2**32|0)|0,l:s|0}}const xE=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),AE=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,EL=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),xL=(e,t,n,r,s)=>t+n+r+s+(e/2**32|0)|0,AL=(e,t,n,r,s)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(s>>>0),IL=(e,t,n,r,s,i)=>t+n+r+s+i+(e/2**32|0)|0,qn=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Be=new Uint32Array(32);function Oa(e,t,n,r,s,i){const o=s[i],a=s[i+1];let c=Be[2*e],u=Be[2*e+1],l=Be[2*t],f=Be[2*t+1],d=Be[2*n],h=Be[2*n+1],p=Be[2*r],m=Be[2*r+1],y=xE(c,l,o);u=AE(y,u,f,a),c=y|0,{Dh:m,Dl:p}={Dh:m^u,Dl:p^c},{Dh:m,Dl:p}={Dh:mL(m,p),Dl:yL(m)},{h,l:d}=ki(h,d,m,p),{Bh:f,Bl:l}={Bh:f^h,Bl:l^d},{Bh:f,Bl:l}={Bh:Ga(f,l,24),Bl:Va(f,l,24)},Be[2*e]=c,Be[2*e+1]=u,Be[2*t]=l,Be[2*t+1]=f,Be[2*n]=d,Be[2*n+1]=h,Be[2*r]=p,Be[2*r+1]=m}function Pa(e,t,n,r,s,i){const o=s[i],a=s[i+1];let c=Be[2*e],u=Be[2*e+1],l=Be[2*t],f=Be[2*t+1],d=Be[2*n],h=Be[2*n+1],p=Be[2*r],m=Be[2*r+1],y=xE(c,l,o);u=AE(y,u,f,a),c=y|0,{Dh:m,Dl:p}={Dh:m^u,Dl:p^c},{Dh:m,Dl:p}={Dh:Ga(m,p,16),Dl:Va(m,p,16)},{h,l:d}=ki(h,d,m,p),{Bh:f,Bl:l}={Bh:f^h,Bl:l^d},{Bh:f,Bl:l}={Bh:Lf(f,l,63),Bl:$f(f,l,63)},Be[2*e]=c,Be[2*e+1]=u,Be[2*t]=l,Be[2*t+1]=f,Be[2*n]=d,Be[2*n+1]=h,Be[2*r]=p,Be[2*r+1]=m}function SL(e,t={},n,r,s){if(Ks(n),e<0||e>n)throw new Error("outputLen bigger than keyLen");const{key:i,salt:o,personalization:a}=t;if(i!==void 0&&(i.length<1||i.length>n))throw new Error("key length must be undefined or 1.."+n);if(o!==void 0&&o.length!==r)throw new Error("salt must be undefined or "+r);if(a!==void 0&&a.length!==s)throw new Error("personalization must be undefined or "+s)}class kL extends lp{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Ks(t),Ks(n),this.blockLen=t,this.outputLen=n,this.buffer=new Uint8Array(t),this.buffer32=dd(this.buffer)}update(t){fa(this),t=zi(t),vi(t);const{blockLen:n,buffer:r,buffer32:s}=this,i=t.length,o=t.byteOffset,a=t.buffer;for(let c=0;c<i;){this.pos===n&&($o(s),this.compress(s,0,!1),$o(s),this.pos=0);const u=Math.min(n-this.pos,i-c),l=o+c;if(u===n&&!(l%4)&&c+u<i){const f=new Uint32Array(a,l,Math.floor((i-c)/4));$o(f);for(let d=0;c+n<i;d+=s.length,c+=n)this.length+=n,this.compress(f,d,!1);$o(f);continue}r.set(t.subarray(c,c+u),this.pos),this.pos+=u,this.length+=u,c+=u}return this}digestInto(t){fa(this),Vy(t,this);const{pos:n,buffer32:r}=this;this.finished=!0,ss(this.buffer.subarray(n)),$o(r),this.compress(r,0,!0),$o(r);const s=dd(t);this.get().forEach((i,o)=>s[o]=Ci(i))}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){const{buffer:n,length:r,finished:s,destroyed:i,outputLen:o,pos:a}=this;return t||(t=new this.constructor({dkLen:o})),t.set(...this.get()),t.buffer.set(n),t.destroyed=i,t.finished=s,t.length=r,t.pos=a,t.outputLen=o,t}clone(){return this._cloneInto()}}let MC=class extends kL{constructor(t={}){const n=t.dkLen===void 0?64:t.dkLen;super(128,n),this.v0l=qn[0]|0,this.v0h=qn[1]|0,this.v1l=qn[2]|0,this.v1h=qn[3]|0,this.v2l=qn[4]|0,this.v2h=qn[5]|0,this.v3l=qn[6]|0,this.v3h=qn[7]|0,this.v4l=qn[8]|0,this.v4h=qn[9]|0,this.v5l=qn[10]|0,this.v5h=qn[11]|0,this.v6l=qn[12]|0,this.v6h=qn[13]|0,this.v7l=qn[14]|0,this.v7h=qn[15]|0,SL(n,t,64,16,16);let{key:r,personalization:s,salt:i}=t,o=0;if(r!==void 0&&(r=zi(r),o=r.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,i!==void 0){i=zi(i);const a=dd(i);this.v4l^=Ci(a[0]),this.v4h^=Ci(a[1]),this.v5l^=Ci(a[2]),this.v5h^=Ci(a[3])}if(s!==void 0){s=zi(s);const a=dd(s);this.v6l^=Ci(a[0]),this.v6h^=Ci(a[1]),this.v7l^=Ci(a[2]),this.v7h^=Ci(a[3])}if(r!==void 0){const a=new Uint8Array(this.blockLen);a.set(r),this.update(a)}}get(){let{v0l:t,v0h:n,v1l:r,v1h:s,v2l:i,v2h:o,v3l:a,v3h:c,v4l:u,v4h:l,v5l:f,v5h:d,v6l:h,v6h:p,v7l:m,v7h:y}=this;return[t,n,r,s,i,o,a,c,u,l,f,d,h,p,m,y]}set(t,n,r,s,i,o,a,c,u,l,f,d,h,p,m,y){this.v0l=t|0,this.v0h=n|0,this.v1l=r|0,this.v1h=s|0,this.v2l=i|0,this.v2h=o|0,this.v3l=a|0,this.v3h=c|0,this.v4l=u|0,this.v4h=l|0,this.v5l=f|0,this.v5h=d|0,this.v6l=h|0,this.v6h=p|0,this.v7l=m|0,this.v7h=y|0}compress(t,n,r){this.get().forEach((c,u)=>Be[u]=c),Be.set(qn,16);let{h:s,l:i}=TC(BigInt(this.length));Be[24]=qn[8]^i,Be[25]=qn[9]^s,r&&(Be[28]=~Be[28],Be[29]=~Be[29]);let o=0;const a=dL;for(let c=0;c<12;c++)Oa(0,4,8,12,t,n+2*a[o++]),Pa(0,4,8,12,t,n+2*a[o++]),Oa(1,5,9,13,t,n+2*a[o++]),Pa(1,5,9,13,t,n+2*a[o++]),Oa(2,6,10,14,t,n+2*a[o++]),Pa(2,6,10,14,t,n+2*a[o++]),Oa(3,7,11,15,t,n+2*a[o++]),Pa(3,7,11,15,t,n+2*a[o++]),Oa(0,5,10,15,t,n+2*a[o++]),Pa(0,5,10,15,t,n+2*a[o++]),Oa(1,6,11,12,t,n+2*a[o++]),Pa(1,6,11,12,t,n+2*a[o++]),Oa(2,7,8,13,t,n+2*a[o++]),Pa(2,7,8,13,t,n+2*a[o++]),Oa(3,4,9,14,t,n+2*a[o++]),Pa(3,4,9,14,t,n+2*a[o++]);this.v0l^=Be[0]^Be[16],this.v0h^=Be[1]^Be[17],this.v1l^=Be[2]^Be[18],this.v1h^=Be[3]^Be[19],this.v2l^=Be[4]^Be[20],this.v2h^=Be[5]^Be[21],this.v3l^=Be[6]^Be[22],this.v3h^=Be[7]^Be[23],this.v4l^=Be[8]^Be[24],this.v4h^=Be[9]^Be[25],this.v5l^=Be[10]^Be[26],this.v5h^=Be[11]^Be[27],this.v6l^=Be[12]^Be[28],this.v6h^=Be[13]^Be[29],this.v7l^=Be[14]^Be[30],this.v7h^=Be[15]^Be[31],ss(Be)}destroy(){this.destroyed=!0,ss(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const CL=vE(e=>new MC(e)),TL=MC,IE=CL,Wwe=Object.freeze(Object.defineProperty({__proto__:null,BLAKE2b:TL,blake2b:IE},Symbol.toStringTag,{value:"Module"})),_L=/^vector<(.+)>$/,ML=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/;class ji{static parseFromStr(t,n=!1){if(t==="address")return{address:null};if(t==="bool")return{bool:null};if(t==="u8")return{u8:null};if(t==="u16")return{u16:null};if(t==="u32")return{u32:null};if(t==="u64")return{u64:null};if(t==="u128")return{u128:null};if(t==="u256")return{u256:null};if(t==="signer")return{signer:null};const r=t.match(_L);if(r)return{vector:ji.parseFromStr(r[1],n)};const s=t.match(ML);if(s)return{struct:{address:n?bt(s[1]):s[1],module:s[2],name:s[3],typeParams:s[5]===void 0?[]:ji.parseStructTypeArgs(s[5],n)}};throw new Error(`Encountered unexpected token when parsing type args for ${t}`)}static parseStructTypeArgs(t,n=!1){return yE(t).map(r=>ji.parseFromStr(r,n))}static tagToString(t){if("bool"in t)return"bool";if("u8"in t)return"u8";if("u16"in t)return"u16";if("u32"in t)return"u32";if("u64"in t)return"u64";if("u128"in t)return"u128";if("u256"in t)return"u256";if("address"in t)return"address";if("signer"in t)return"signer";if("vector"in t)return`vector<${ji.tagToString(t.vector)}>`;if("struct"in t){const n=t.struct,r=n.typeParams.map(ji.tagToString).join(", ");return`${n.address}::${n.module}::${n.name}${r?`<${r}>`:""}`}throw new Error("Invalid TypeTag")}}function BL(e){return V.u64({name:"unsafe_u64",...e}).transform({input:t=>t,output:t=>Number(t)})}function NL(e){return V.enum("Option",{None:null,Some:e})}const Gt=V.bytes(Wy).transform({validate:e=>{const t=typeof e=="string"?e:da(e);if(!t||!di(bt(t)))throw new Error(`Invalid Sui address ${t}`)},input:e=>typeof e=="string"?qd(bt(e)):e,output:e=>bt(da(e))}),Ui=V.byteVector().transform({name:"ObjectDigest",input:e=>la(e),output:e=>$u(new Uint8Array(e)),validate:e=>{if(la(e).length!==32)throw new Error("ObjectDigest must be 32 bytes")}}),ci=V.struct("SuiObjectRef",{objectId:Gt,version:V.u64(),digest:Ui}),BC=V.struct("SharedObjectRef",{objectId:Gt,initialSharedVersion:V.u64(),mutable:V.bool()}),NC=V.enum("ObjectArg",{ImmOrOwnedObject:ci,SharedObject:BC,Receiving:ci}),Wc=V.enum("Owner",{AddressOwner:Gt,ObjectOwner:Gt,Shared:V.struct("Shared",{initialSharedVersion:V.u64()}),Immutable:null,ConsensusAddressOwner:V.struct("ConsensusAddressOwner",{owner:Gt,startVersion:V.u64()})}),OC=V.enum("CallArg",{Pure:V.struct("Pure",{bytes:V.byteVector().transform({input:e=>typeof e=="string"?ar(e):e,output:e=>Hn(new Uint8Array(e))})}),Object:NC}),SE=V.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:V.lazy(()=>SE),struct:V.lazy(()=>LC),u16:null,u32:null,u256:null}),kE=SE.transform({input:e=>typeof e=="string"?ji.parseFromStr(e,!0):e,output:e=>ji.tagToString(e)}),io=V.enum("Argument",{GasCoin:null,Input:V.u16(),Result:V.u16(),NestedResult:V.tuple([V.u16(),V.u16()])}),PC=V.struct("ProgrammableMoveCall",{package:Gt,module:V.string(),function:V.string(),typeArguments:V.vector(kE),arguments:V.vector(io)}),jC=V.enum("Command",{MoveCall:PC,TransferObjects:V.struct("TransferObjects",{objects:V.vector(io),address:io}),SplitCoins:V.struct("SplitCoins",{coin:io,amounts:V.vector(io)}),MergeCoins:V.struct("MergeCoins",{destination:io,sources:V.vector(io)}),Publish:V.struct("Publish",{modules:V.vector(V.byteVector().transform({input:e=>typeof e=="string"?ar(e):e,output:e=>Hn(new Uint8Array(e))})),dependencies:V.vector(Gt)}),MakeMoveVec:V.struct("MakeMoveVec",{type:NL(kE).transform({input:e=>e===null?{None:!0}:{Some:e},output:e=>e.Some??null}),elements:V.vector(io)}),Upgrade:V.struct("Upgrade",{modules:V.vector(V.byteVector().transform({input:e=>typeof e=="string"?ar(e):e,output:e=>Hn(new Uint8Array(e))})),dependencies:V.vector(Gt),package:Gt,ticket:io})}),RC=V.struct("ProgrammableTransaction",{inputs:V.vector(OC),commands:V.vector(jC)}),DC=V.enum("TransactionKind",{ProgrammableTransaction:RC,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),UC=V.enum("TransactionExpiration",{None:null,Epoch:BL()}),LC=V.struct("StructTag",{address:Gt,module:V.string(),name:V.string(),typeParams:V.vector(SE)}),$C=V.struct("GasData",{payment:V.vector(ci),owner:Gt,price:V.u64(),budget:V.u64()}),zC=V.struct("TransactionDataV1",{kind:DC,sender:Gt,gasData:$C,expiration:UC}),FC=V.enum("TransactionData",{V1:zC}),HC=V.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),qC=V.enum("IntentVersion",{V0:null}),WC=V.enum("AppId",{Sui:null}),GC=V.struct("Intent",{scope:HC,version:qC,appId:WC});function VC(e){return V.struct(`IntentMessage<${e.name}>`,{intent:GC,value:e})}const KC=V.enum("CompressedSignature",{ED25519:V.bytes(64),Secp256k1:V.bytes(64),Secp256r1:V.bytes(64),ZkLogin:V.byteVector(),Passkey:V.byteVector()}),QC=V.enum("PublicKey",{ED25519:V.bytes(32),Secp256k1:V.bytes(33),Secp256r1:V.bytes(33),ZkLogin:V.byteVector(),Passkey:V.bytes(33)}),YC=V.struct("MultiSigPkMap",{pubKey:QC,weight:V.u8()}),ZC=V.struct("MultiSigPublicKey",{pk_map:V.vector(YC),threshold:V.u16()}),OL=V.struct("MultiSig",{sigs:V.vector(KC),bitmap:V.u16(),multisig_pk:ZC}),PL=V.byteVector().transform({input:e=>typeof e=="string"?ar(e):e,output:e=>Hn(new Uint8Array(e))}),XC=V.struct("SenderSignedTransaction",{intentMessage:VC(FC),txSignatures:V.vector(PL)}),jL=V.vector(XC,{name:"SenderSignedData"}),RL=V.struct("PasskeyAuthenticator",{authenticatorData:V.byteVector(),clientDataJson:V.string(),userSignature:V.byteVector()}),DL=V.enum("PackageUpgradeError",{UnableToFetchPackage:V.struct("UnableToFetchPackage",{packageId:Gt}),NotAPackage:V.struct("NotAPackage",{objectId:Gt}),IncompatibleUpgrade:null,DigestDoesNotMatch:V.struct("DigestDoesNotMatch",{digest:V.byteVector()}),UnknownUpgradePolicy:V.struct("UnknownUpgradePolicy",{policy:V.u8()}),PackageIDDoesNotMatch:V.struct("PackageIDDoesNotMatch",{packageId:Gt,ticketId:Gt})}),UL=V.struct("ModuleId",{address:Gt,name:V.string()}),AI=V.struct("MoveLocation",{module:UL,function:V.u16(),instruction:V.u16(),functionName:V.option(V.string())}),LL=V.enum("CommandArgumentError",{TypeMismatch:null,InvalidBCSBytes:null,InvalidUsageOfPureArg:null,InvalidArgumentToPrivateEntryFunction:null,IndexOutOfBounds:V.struct("IndexOutOfBounds",{idx:V.u16()}),SecondaryIndexOutOfBounds:V.struct("SecondaryIndexOutOfBounds",{resultIdx:V.u16(),secondaryIdx:V.u16()}),InvalidResultArity:V.struct("InvalidResultArity",{resultIdx:V.u16()}),InvalidGasCoinUsage:null,InvalidValueUsage:null,InvalidObjectByValue:null,InvalidObjectByMutRef:null,SharedObjectOperationNotAllowed:null}),$L=V.enum("TypeArgumentError",{TypeNotFound:null,ConstraintNotSatisfied:null}),zL=V.enum("ExecutionFailureStatus",{InsufficientGas:null,InvalidGasObject:null,InvariantViolation:null,FeatureNotYetSupported:null,MoveObjectTooBig:V.struct("MoveObjectTooBig",{objectSize:V.u64(),maxObjectSize:V.u64()}),MovePackageTooBig:V.struct("MovePackageTooBig",{objectSize:V.u64(),maxObjectSize:V.u64()}),CircularObjectOwnership:V.struct("CircularObjectOwnership",{object:Gt}),InsufficientCoinBalance:null,CoinBalanceOverflow:null,PublishErrorNonZeroAddress:null,SuiMoveVerificationError:null,MovePrimitiveRuntimeError:V.option(AI),MoveAbort:V.tuple([AI,V.u64()]),VMVerificationOrDeserializationError:null,VMInvariantViolation:null,FunctionNotFound:null,ArityMismatch:null,TypeArityMismatch:null,NonEntryFunctionInvoked:null,CommandArgumentError:V.struct("CommandArgumentError",{argIdx:V.u16(),kind:LL}),TypeArgumentError:V.struct("TypeArgumentError",{argumentIdx:V.u16(),kind:$L}),UnusedValueWithoutDrop:V.struct("UnusedValueWithoutDrop",{resultIdx:V.u16(),secondaryIdx:V.u16()}),InvalidPublicFunctionReturnType:V.struct("InvalidPublicFunctionReturnType",{idx:V.u16()}),InvalidTransferObject:null,EffectsTooLarge:V.struct("EffectsTooLarge",{currentSize:V.u64(),maxSize:V.u64()}),PublishUpgradeMissingDependency:null,PublishUpgradeDependencyDowngrade:null,PackageUpgradeError:V.struct("PackageUpgradeError",{upgradeError:DL}),WrittenObjectsTooLarge:V.struct("WrittenObjectsTooLarge",{currentSize:V.u64(),maxSize:V.u64()}),CertificateDenied:null,SuiMoveVerificationTimedout:null,SharedObjectOperationNotAllowed:null,InputObjectDeleted:null,ExecutionCancelledDueToSharedObjectCongestion:V.struct("ExecutionCancelledDueToSharedObjectCongestion",{congestedObjects:V.vector(Gt)}),AddressDeniedForCoin:V.struct("AddressDeniedForCoin",{address:Gt,coinType:V.string()}),CoinTypeGlobalPause:V.struct("CoinTypeGlobalPause",{coinType:V.string()}),ExecutionCancelledDueToRandomnessUnavailable:null}),JC=V.enum("ExecutionStatus",{Success:null,Failed:V.struct("ExecutionFailed",{error:zL,command:V.option(V.u64())})}),eT=V.struct("GasCostSummary",{computationCost:V.u64(),storageCost:V.u64(),storageRebate:V.u64(),nonRefundableStorageFee:V.u64()}),FL=V.struct("TransactionEffectsV1",{status:JC,executedEpoch:V.u64(),gasUsed:eT,modifiedAtVersions:V.vector(V.tuple([Gt,V.u64()])),sharedObjects:V.vector(ci),transactionDigest:Ui,created:V.vector(V.tuple([ci,Wc])),mutated:V.vector(V.tuple([ci,Wc])),unwrapped:V.vector(V.tuple([ci,Wc])),deleted:V.vector(ci),unwrappedThenDeleted:V.vector(ci),wrapped:V.vector(ci),gasObject:V.tuple([ci,Wc]),eventsDigest:V.option(Ui),dependencies:V.vector(Ui)}),CE=V.tuple([V.u64(),Ui]),HL=V.enum("ObjectIn",{NotExist:null,Exist:V.tuple([CE,Wc])}),qL=V.enum("ObjectOut",{NotExist:null,ObjectWrite:V.tuple([Ui,Wc]),PackageWrite:CE}),WL=V.enum("IDOperation",{None:null,Created:null,Deleted:null}),GL=V.struct("EffectsObjectChange",{inputState:HL,outputState:qL,idOperation:WL}),VL=V.enum("UnchangedSharedKind",{ReadOnlyRoot:CE,MutateDeleted:V.u64(),ReadDeleted:V.u64(),Cancelled:V.u64(),PerEpochConfig:null}),KL=V.struct("TransactionEffectsV2",{status:JC,executedEpoch:V.u64(),gasUsed:eT,transactionDigest:Ui,gasObjectIndex:V.option(V.u32()),eventsDigest:V.option(Ui),dependencies:V.vector(Ui),lamportVersion:V.u64(),changedObjects:V.vector(V.tuple([Gt,GL])),unchangedSharedObjects:V.vector(V.tuple([Gt,VL])),auxDataDigest:V.option(Ui)}),QL=V.enum("TransactionEffects",{V1:FL,V2:KL});function Jf(e){switch(e){case"u8":return V.u8();case"u16":return V.u16();case"u32":return V.u32();case"u64":return V.u64();case"u128":return V.u128();case"u256":return V.u256();case"bool":return V.bool();case"string":return V.string();case"id":case"address":return Gt}const t=e.match(/^(vector|option)<(.+)>$/);if(t){const[n,r]=t.slice(1);return n==="vector"?V.vector(Jf(r)):V.option(Jf(r))}throw new Error(`Invalid Pure type name: ${e}`)}const at={...V,U8:V.u8(),U16:V.u16(),U32:V.u32(),U64:V.u64(),U128:V.u128(),U256:V.u256(),ULEB128:V.uleb128(),Bool:V.bool(),String:V.string(),Address:Gt,AppId:WC,Argument:io,CallArg:OC,Command:jC,CompressedSignature:KC,GasData:$C,Intent:GC,IntentMessage:VC,IntentScope:HC,IntentVersion:qC,MultiSig:OL,MultiSigPkMap:YC,MultiSigPublicKey:ZC,ObjectArg:NC,ObjectDigest:Ui,Owner:Wc,PasskeyAuthenticator:RL,ProgrammableMoveCall:PC,ProgrammableTransaction:RC,PublicKey:QC,SenderSignedData:jL,SenderSignedTransaction:XC,SharedObjectRef:BC,StructTag:LC,SuiObjectRef:ci,TransactionData:FC,TransactionDataV1:zC,TransactionEffects:QL,TransactionExpiration:UC,TransactionKind:DC,TypeTag:kE};function tT(e,t,n){const r=at.Address.serialize(e).toBytes(),s=at.TypeTag.serialize(t).toBytes(),i=at.u64().serialize(n.length).toBytes(),o=IE.create({dkLen:32});return o.update(new Uint8Array([240])),o.update(r),o.update(i),o.update(n),o.update(s),`0x${da(o.digest().slice(0,32))}`}function Gwe(e,t,n){return tT(e,`0x2::derived_object::DerivedObjectKey<${t}>`,n)}var YL=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},ZL=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},J0;let Us;const Ky=new Set;function XL(e){eh=void 0,Ky.add(e)}function JL(e){eh=void 0,Ky.delete(e)}const Bl={};function e$(){if(Us||(Us=Object.freeze({register:II,get:t$,on:n$}),typeof window>"u"))return Us;const e=Object.freeze({register:II});try{window.addEventListener("wallet-standard:register-wallet",({detail:t})=>t(e))}catch(t){console.error(`wallet-standard:register-wallet event listener could not be added
`,t)}try{window.dispatchEvent(new r$(e))}catch(t){console.error(`wallet-standard:app-ready event could not be dispatched
`,t)}return Us}function II(...e){var t;return e=e.filter(n=>!Ky.has(n)),e.length?(e.forEach(n=>XL(n)),(t=Bl.register)==null||t.forEach(n=>Wb(()=>n(...e))),function(){var r;e.forEach(s=>JL(s)),(r=Bl.unregister)==null||r.forEach(s=>Wb(()=>s(...e)))}):()=>{}}let eh;function t$(){return eh||(eh=[...Ky]),eh}function n$(e,t){var n;return(n=Bl[e])!=null&&n.push(t)||(Bl[e]=[t]),function(){var s;Bl[e]=(s=Bl[e])==null?void 0:s.filter(i=>t!==i)}}function Wb(e){try{e()}catch(t){console.error(t)}}class r$ extends Event{get detail(){return YL(this,J0,"f")}get type(){return"wallet-standard:app-ready"}constructor(t){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),J0.set(this,void 0),ZL(this,J0,t,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}J0=new WeakMap;function Vwe(){if(Us||(Us=e$(),typeof window>"u"))return Us;const e=window.navigator.wallets||[];if(!Array.isArray(e))return console.error("window.navigator.wallets is not an array"),Us;const{register:t}=Us,n=(...r)=>r.forEach(s=>Wb(()=>s({register:t})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:n})})}catch{return console.error("window.navigator.wallets could not be set"),Us}return n(...e),Us}const s$="standard:connect",Kwe="standard:disconnect",i$="standard:events";var o$=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},a$=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},em;function Qwe(e){const t=({register:n})=>n(e);try{window.dispatchEvent(new c$(t))}catch(n){console.error(`wallet-standard:register-wallet event could not be dispatched
`,n)}try{window.addEventListener("wallet-standard:app-ready",({detail:n})=>t(n))}catch(n){console.error(`wallet-standard:app-ready event listener could not be added
`,n)}}class c$ extends Event{get detail(){return o$(this,em,"f")}get type(){return"wallet-standard:register-wallet"}constructor(t){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),em.set(this,void 0),a$(this,em,t,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}em=new WeakMap;var fl=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},hl=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},tm,nm,rm,sm,im,om;class nT{get address(){return fl(this,tm,"f")}get publicKey(){return fl(this,nm,"f").slice()}get chains(){return fl(this,rm,"f").slice()}get features(){return fl(this,sm,"f").slice()}get label(){return fl(this,im,"f")}get icon(){return fl(this,om,"f")}constructor(t){tm.set(this,void 0),nm.set(this,void 0),rm.set(this,void 0),sm.set(this,void 0),im.set(this,void 0),om.set(this,void 0),new.target===nT&&Object.freeze(this),hl(this,tm,t.address,"f"),hl(this,nm,t.publicKey.slice(),"f"),hl(this,rm,t.chains.slice(),"f"),hl(this,sm,t.features.slice(),"f"),hl(this,im,t.label,"f"),hl(this,om,t.icon,"f")}}tm=new WeakMap,nm=new WeakMap,rm=new WeakMap,sm=new WeakMap,im=new WeakMap,om=new WeakMap;function Ywe(e,t){if(e===t)return!0;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const u$="object",l$="ID",d$="ascii",f$="String",h$="string",p$="String",m$="option",y$="Option";function g$(e){const t=typeof e.body=="object"&&"datatype"in e.body?e.body.datatype:null;return!!t&&bt(t.package)===bt("0x2")&&t.module==="tx_context"&&t.type==="TxContext"}function Gb(e){if(typeof e=="string")switch(e){case"address":return at.Address;case"bool":return at.Bool;case"u8":return at.U8;case"u16":return at.U16;case"u32":return at.U32;case"u64":return at.U64;case"u128":return at.U128;case"u256":return at.U256;default:throw new Error(`Unknown type signature ${e}`)}if("vector"in e){if(e.vector==="u8")return at.byteVector().transform({input:n=>typeof n=="string"?new TextEncoder().encode(n):n,output:n=>n});const t=Gb(e.vector);return t?at.vector(t):null}if("datatype"in e){const t=bt(e.datatype.package);if(t===bt(eL)){if(e.datatype.module===d$&&e.datatype.type===f$||e.datatype.module===h$&&e.datatype.type===p$)return at.String;if(e.datatype.module===m$&&e.datatype.type===y$){const n=Gb(e.datatype.typeParameters[0]);return n?at.vector(n):null}}if(t===bt(xC)&&e.datatype.module===u$&&e.datatype.type===l$)return at.Address}return null}function w$(e){return typeof e=="object"&&"Reference"in e?{ref:"&",body:th(e.Reference)}:typeof e=="object"&&"MutableReference"in e?{ref:"&mut",body:th(e.MutableReference)}:{ref:null,body:th(e)}}function th(e){if(typeof e=="string")switch(e){case"Address":return"address";case"Bool":return"bool";case"U8":return"u8";case"U16":return"u16";case"U32":return"u32";case"U64":return"u64";case"U128":return"u128";case"U256":return"u256";default:throw new Error(`Unexpected type ${e}`)}if("Vector"in e)return{vector:th(e.Vector)};if("Struct"in e)return{datatype:{package:e.Struct.address,module:e.Struct.module,type:e.Struct.name,typeParameters:e.Struct.typeArguments.map(th)}};if("TypeParameter"in e)return{typeParameter:e.TypeParameter};throw new Error(`Unexpected type ${JSON.stringify(e)}`)}function b$(e){return{$kind:"Pure",Pure:{bytes:e instanceof Uint8Array?Hn(e):e.toBase64()}}}const Vs={Pure:b$,ObjectRef({objectId:e,digest:t,version:n}){return{$kind:"Object",Object:{$kind:"ImmOrOwnedObject",ImmOrOwnedObject:{digest:t,version:n,objectId:bt(e)}}}},SharedObjectRef({objectId:e,mutable:t,initialSharedVersion:n}){return{$kind:"Object",Object:{$kind:"SharedObject",SharedObject:{mutable:t,initialSharedVersion:n,objectId:bt(e)}}}},ReceivingRef({objectId:e,digest:t,version:n}){return{$kind:"Object",Object:{$kind:"Receiving",Receiving:{digest:t,version:n,objectId:bt(e)}}}}};function rT(){return{kind:"transformation",type:"await",reference:rT,async:!0,async _run(e){return e.value=await e.value,e}}}var sT=/^[A-Z]{6}(?!00)[A-Z\d]{2}(?:[A-Z\d]{3})?$/u,iT=/^[a-z][\da-z]*$/u,oT=/^\d+$/u,aT=/^[\w+-]+(?:\.[\w+-]+)*@[\da-z]+(?:[.-][\da-z]+)*\.[a-z]{2,}$/iu,cT=/^[\p{Extended_Pictographic}\p{Emoji_Component}]+$/u,uT=/^(?:0h|0x)?[\da-f]+$/iu,lT=/^#(?:[\da-f]{3,4}|[\da-f]{6}|[\da-f]{8})$/iu,dT=/^\d{15}$|^\d{2}-\d{6}-\d{6}-\d$/u,fT=/^(?:(?:[1-9]|1\d|2[0-4])?\d|25[0-5])(?:\.(?:(?:[1-9]|1\d|2[0-4])?\d|25[0-5])){3}$/u,hT=/^(?:(?:[\da-f]{1,4}:){7}[\da-f]{1,4}|(?:[\da-f]{1,4}:){1,7}:|(?:[\da-f]{1,4}:){1,6}:[\da-f]{1,4}|(?:[\da-f]{1,4}:){1,5}(?::[\da-f]{1,4}){1,2}|(?:[\da-f]{1,4}:){1,4}(?::[\da-f]{1,4}){1,3}|(?:[\da-f]{1,4}:){1,3}(?::[\da-f]{1,4}){1,4}|(?:[\da-f]{1,4}:){1,2}(?::[\da-f]{1,4}){1,5}|[\da-f]{1,4}:(?::[\da-f]{1,4}){1,6}|:(?:(?::[\da-f]{1,4}){1,7}|:)|fe80:(?::[\da-f]{0,4}){0,4}%[\da-z]+|::(?:f{4}(?::0{1,4})?:)?(?:(?:25[0-5]|(?:2[0-4]|1?\d)?\d)\.){3}(?:25[0-5]|(?:2[0-4]|1?\d)?\d)|(?:[\da-f]{1,4}:){1,4}:(?:(?:25[0-5]|(?:2[0-4]|1?\d)?\d)\.){3}(?:25[0-5]|(?:2[0-4]|1?\d)?\d))$/iu,pT=/^(?:(?:[1-9]|1\d|2[0-4])?\d|25[0-5])(?:\.(?:(?:[1-9]|1\d|2[0-4])?\d|25[0-5])){3}$|^(?:(?:[\da-f]{1,4}:){7}[\da-f]{1,4}|(?:[\da-f]{1,4}:){1,7}:|(?:[\da-f]{1,4}:){1,6}:[\da-f]{1,4}|(?:[\da-f]{1,4}:){1,5}(?::[\da-f]{1,4}){1,2}|(?:[\da-f]{1,4}:){1,4}(?::[\da-f]{1,4}){1,3}|(?:[\da-f]{1,4}:){1,3}(?::[\da-f]{1,4}){1,4}|(?:[\da-f]{1,4}:){1,2}(?::[\da-f]{1,4}){1,5}|[\da-f]{1,4}:(?::[\da-f]{1,4}){1,6}|:(?:(?::[\da-f]{1,4}){1,7}|:)|fe80:(?::[\da-f]{0,4}){0,4}%[\da-z]+|::(?:f{4}(?::0{1,4})?:)?(?:(?:25[0-5]|(?:2[0-4]|1?\d)?\d)\.){3}(?:25[0-5]|(?:2[0-4]|1?\d)?\d)|(?:[\da-f]{1,4}:){1,4}:(?:(?:25[0-5]|(?:2[0-4]|1?\d)?\d)\.){3}(?:25[0-5]|(?:2[0-4]|1?\d)?\d))$/iu,mT=/^\d{4}-(?:0[1-9]|1[0-2])-(?:[12]\d|0[1-9]|3[01])$/u,yT=/^\d{4}-(?:0[1-9]|1[0-2])-(?:[12]\d|0[1-9]|3[01])T(?:0\d|1\d|2[0-3]):[0-5]\d$/u,gT=/^(?:0\d|1\d|2[0-3]):[0-5]\d$/u,wT=/^(?:0\d|1\d|2[0-3])(?::[0-5]\d){2}$/u,bT=/^\d{4}-(?:0[1-9]|1[0-2])-(?:[12]\d|0[1-9]|3[01])T(?:0\d|1\d|2[0-3])(?::[0-5]\d){2}(?:\.\d{1,9})?(?:Z|[+-](?:0\d|1\d|2[0-3])(?::?[0-5]\d)?)$/u,vT=/^\d{4}-W(?:0[1-9]|[1-4]\d|5[0-3])$/u,ET=/^(?:[\da-f]{2}:){5}[\da-f]{2}$|^(?:[\da-f]{2}-){5}[\da-f]{2}$|^(?:[\da-f]{4}\.){2}[\da-f]{4}$/iu,xT=/^(?:[\da-f]{2}:){7}[\da-f]{2}$|^(?:[\da-f]{2}-){7}[\da-f]{2}$|^(?:[\da-f]{4}\.){3}[\da-f]{4}$|^(?:[\da-f]{4}:){3}[\da-f]{4}$/iu,AT=/^(?:[\da-f]{2}:){5}[\da-f]{2}$|^(?:[\da-f]{2}-){5}[\da-f]{2}$|^(?:[\da-f]{4}\.){2}[\da-f]{4}$|^(?:[\da-f]{2}:){7}[\da-f]{2}$|^(?:[\da-f]{2}-){7}[\da-f]{2}$|^(?:[\da-f]{4}\.){3}[\da-f]{4}$|^(?:[\da-f]{4}:){3}[\da-f]{4}$/iu,IT=/^(?:0o)?[0-7]+$/iu,ST=/^[\da-hjkmnp-tv-z]{26}$/iu,kT=/^[\da-f]{8}(?:-[\da-f]{4}){3}-[\da-f]{12}$/iu,ri;function v$(e){ri={...ri,...e}}function fp(e){return{lang:(e==null?void 0:e.lang)??(ri==null?void 0:ri.lang),message:e==null?void 0:e.message,abortEarly:(e==null?void 0:e.abortEarly)??(ri==null?void 0:ri.abortEarly),abortPipeEarly:(e==null?void 0:e.abortPipeEarly)??(ri==null?void 0:ri.abortPipeEarly)}}function E$(){ri=void 0}var na;function x$(e,t){na||(na=new Map),na.set(t,e)}function CT(e){return na==null?void 0:na.get(e)}function A$(e){na==null||na.delete(e)}var ra;function I$(e,t){ra||(ra=new Map),ra.set(t,e)}function TT(e){return ra==null?void 0:ra.get(e)}function S$(e){ra==null||ra.delete(e)}var Ri;function k$(e,t,n){Ri||(Ri=new Map),Ri.get(e)||Ri.set(e,new Map),Ri.get(e).set(n,t)}function _T(e,t){var n;return(n=Ri==null?void 0:Ri.get(e))==null?void 0:n.get(t)}function C$(e,t){var n;(n=Ri==null?void 0:Ri.get(e))==null||n.delete(t)}function is(e){var n,r;const t=typeof e;return t==="string"?`"${e}"`:t==="number"||t==="bigint"||t==="boolean"?`${e}`:t==="object"||t==="function"?(e&&((r=(n=Object.getPrototypeOf(e))==null?void 0:n.constructor)==null?void 0:r.name))??"null":t}function se(e,t,n,r,s){const i=s&&"input"in s?s.input:n.value,o=(s==null?void 0:s.expected)??e.expects??null,a=(s==null?void 0:s.received)??is(i),c={kind:e.kind,type:e.type,input:i,expected:o,received:a,message:`Invalid ${t}: ${o?`Expected ${o} but r`:"R"}eceived ${a}`,requirement:e.requirement,path:s==null?void 0:s.path,issues:s==null?void 0:s.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},u=e.kind==="schema",l=(s==null?void 0:s.message)??e.message??_T(e.reference,c.lang)??(u?TT(c.lang):null)??r.message??CT(c.lang);l&&(c.message=typeof l=="function"?l(c):l),u&&(n.typed=!1),n.issues?n.issues.push(c):n.issues=[c]}var T$=/\D/gu;function TE(e){const t=e.replace(T$,"");let n=t.length,r=1,s=0;for(;n;){const i=+t[--n];r^=1,s+=r?[0,2,4,6,8,1,3,5,7,9][i]:i}return s%10===0}function zu(e,t){return Object.hasOwn(e,t)&&t!=="__proto__"&&t!=="prototype"&&t!=="constructor"}function _$(e,t){const n={};for(const r of e)n[r]=t;return n}function MT(e){if(e.path){let t="";for(const n of e.path)if(typeof n.key=="string"||typeof n.key=="number")t?t+=`.${n.key}`:t+=n.key;else return null;return t}return null}function M$(e,t){return t.kind===e}function B$(e,t){return t.type===e}function N$(e){return e instanceof Qy}var Qy=class extends Error{constructor(n){super(n[0].message);pe(this,"issues");this.name="ValiError",this.issues=n}};function BT(e){return{kind:"validation",type:"bic",reference:BT,async:!1,expects:null,requirement:sT,message:e,_run(t,n){return t.typed&&!this.requirement.test(t.value)&&se(this,"BIC",t,n),t}}}function NT(e){return{kind:"transformation",type:"brand",reference:NT,async:!1,name:e,_run(t){return t}}}function OT(e,t){return{kind:"validation",type:"bytes",reference:OT,async:!1,expects:`${e}`,requirement:e,message:t,_run(n,r){if(n.typed){const s=new TextEncoder().encode(n.value).length;s!==this.requirement&&se(this,"bytes",n,r,{received:`${s}`})}return n}}}function Gd(e,t){return{kind:"validation",type:"check",reference:Gd,async:!1,expects:null,requirement:e,message:t,_run(n,r){return n.typed&&!this.requirement(n.value)&&se(this,"input",n,r),n}}}function PT(e,t){return{kind:"validation",type:"check",reference:PT,async:!0,expects:null,requirement:e,message:t,async _run(n,r){return n.typed&&!await this.requirement(n.value)&&se(this,"input",n,r),n}}}function jT(e,t){return{kind:"validation",type:"check_items",reference:jT,async:!1,expects:null,requirement:e,message:t,_run(n,r){if(n.typed)for(let s=0;s<n.value.length;s++){const i=n.value[s];this.requirement(i,s,n.value)||se(this,"item",n,r,{input:i,path:[{type:"array",origin:"value",input:n.value,key:s,value:i}]})}return n}}}var O$=/^(?:\d{14,19}|\d{4}(?: \d{3,6}){2,4}|\d{4}(?:-\d{3,6}){2,4})$/u,P$=/[- ]/gu,j$=[/^3[47]\d{13}$/u,/^3(?:0[0-5]|[68]\d)\d{11,13}$/u,/^6(?:011|5\d{2})\d{12,15}$/u,/^(?:2131|1800|35\d{3})\d{11}$/u,/^5[1-5]\d{2}|(?:222\d|22[3-9]\d|2[3-6]\d{2}|27[01]\d|2720)\d{12}$/u,/^(?:6[27]\d{14,17}|81\d{14,17})$/u,/^4\d{12}(?:\d{3,6})?$/u];function RT(e){return{kind:"validation",type:"credit_card",reference:RT,async:!1,expects:null,requirement(t){let n;return O$.test(t)&&(n=t.replace(P$,""))&&j$.some(r=>r.test(n))&&TE(n)},message:e,_run(t,n){return t.typed&&!this.requirement(t.value)&&se(this,"credit card",t,n),t}}}function DT(e){return{kind:"validation",type:"cuid2",reference:DT,async:!1,expects:null,requirement:iT,message:e,_run(t,n){return t.typed&&!this.requirement.test(t.value)&&se(this,"Cuid2",t,n),t}}}function UT(e){return{kind:"validation",type:"decimal",reference:UT,async:!1,expects:null,requirement:oT,message:e,_run(t,n){return t.typed&&!this.requirement.test(t.value)&&se(this,"decimal",t,n),t}}}function LT(e){return{kind:"validation",type:"email",reference:LT,expects:null,async:!1,requirement:aT,message:e,_run(t,n){return t.typed&&!this.requirement.test(t.value)&&se(this,"email",t,n),t}}}function $T(e){return{kind:"validation",type:"emoji",reference:$T,async:!1,expects:null,requirement:cT,message:e,_run(t,n){return t.typed&&!this.requirement.test(t.value)&&se(this,"emoji",t,n),t}}}function zT(e){return{kind:"validation",type:"empty",reference:zT,async:!1,expects:"0",message:e,_run(t,n){return t.typed&&t.value.length>0&&se(this,"length",t,n,{received:`${t.value.length}`}),t}}}function FT(e,t){return{kind:"validation",type:"ends_with",reference:FT,async:!1,expects:`"${e}"`,requirement:e,message:t,_run(n,r){return n.typed&&!n.value.endsWith(this.requirement)&&se(this,"end",n,r,{received:`"${n.value.slice(-this.requirement.length)}"`}),n}}}function HT(e,t){return{kind:"validation",type:"every_item",reference:HT,async:!1,expects:null,requirement:e,message:t,_run(n,r){return n.typed&&!n.value.every(this.requirement)&&se(this,"item",n,r),n}}}function qT(e,t){const n=is(e);return{kind:"validation",type:"excludes",reference:qT,async:!1,expects:`!${n}`,requirement:e,message:t,_run(r,s){return r.typed&&r.value.includes(this.requirement)&&se(this,"content",r,s,{received:n}),r}}}function WT(e){return{kind:"transformation",type:"filter_items",reference:WT,async:!1,operation:e,_run(t){return t.value=t.value.filter(this.operation),t}}}function GT(e){return{kind:"transformation",type:"find_item",reference:GT,async:!1,operation:e,_run(t){return t.value=t.value.find(this.operation),t}}}function VT(e){return{kind:"validation",type:"finite",reference:VT,async:!1,expects:null,requirement:Number.isFinite,message:e,_run(t,n){return t.typed&&!this.requirement(t.value)&&se(this,"finite",t,n),t}}}var R$={md4:32,md5:32,sha1:40,sha256:64,sha384:96,sha512:128,ripemd128:32,ripemd160:40,tiger128:32,tiger160:40,tiger192:48,crc32:8,crc32b:8,adler32:8};function KT(e,t){return{kind:"validation",type:"hash",reference:KT,expects:null,async:!1,requirement:RegExp(e.map(n=>`^[a-f0-9]{${R$[n]}}$`).join("|"),"iu"),message:t,_run(n,r){return n.typed&&!this.requirement.test(n.value)&&se(this,"hash",n,r),n}}}function QT(e){return{kind:"validation",type:"hexadecimal",reference:QT,async:!1,expects:null,requirement:uT,message:e,_run(t,n){return t.typed&&!this.requirement.test(t.value)&&se(this,"hexadecimal",t,n),t}}}function YT(e){return{kind:"validation",type:"hex_color",reference:YT,async:!1,expects:null,requirement:lT,message:e,_run(t,n){return t.typed&&!this.requirement.test(t.value)&&se(this,"hex color",t,n),t}}}function ZT(e){return{kind:"validation",type:"imei",reference:ZT,async:!1,expects:null,requirement(t){return dT.test(t)&&TE(t)},message:e,_run(t,n){return t.typed&&!this.requirement(t.value)&&se(this,"IMEI",t,n),t}}}function XT(e,t){const n=is(e);return{kind:"validation",type:"includes",reference:XT,async:!1,expects:n,requirement:e,message:t,_run(r,s){return r.typed&&!r.value.includes(this.requirement)&&se(this,"content",r,s,{received:`!${n}`}),r}}}function an(e){return{kind:"validation",type:"integer",reference:an,async:!1,expects:null,requirement:Number.isInteger,message:e,_run(t,n){return t.typed&&!this.requirement(t.value)&&se(this,"integer",t,n),t}}}function JT(e){return{kind:"validation",type:"ip",reference:JT,async:!1,expects:null,requirement:pT,message:e,_run(t,n){return t.typed&&!this.requirement.test(t.value)&&se(this,"IP",t,n),t}}}function e8(e){return{kind:"validation",type:"ipv4",reference:e8,async:!1,expects:null,requirement:fT,message:e,_run(t,n){return t.typed&&!this.requirement.test(t.value)&&se(this,"IPv4",t,n),t}}}function t8(e){return{kind:"validation",type:"ipv6",reference:t8,async:!1,expects:null,requirement:hT,message:e,_run(t,n){return t.typed&&!this.requirement.test(t.value)&&se(this,"IPv6",t,n),t}}}function n8(e){return{kind:"validation",type:"iso_date",reference:n8,async:!1,expects:null,requirement:mT,message:e,_run(t,n){return t.typed&&!this.requirement.test(t.value)&&se(this,"date",t,n),t}}}function r8(e){return{kind:"validation",type:"iso_date_time",reference:r8,async:!1,expects:null,requirement:yT,message:e,_run(t,n){return t.typed&&!this.requirement.test(t.value)&&se(this,"date-time",t,n),t}}}function s8(e){return{kind:"validation",type:"iso_time",reference:s8,async:!1,expects:null,requirement:gT,message:e,_run(t,n){return t.typed&&!this.requirement.test(t.value)&&se(this,"time",t,n),t}}}function i8(e){return{kind:"validation",type:"iso_time_second",reference:i8,async:!1,expects:null,requirement:wT,message:e,_run(t,n){return t.typed&&!this.requirement.test(t.value)&&se(this,"time-second",t,n),t}}}function o8(e){return{kind:"validation",type:"iso_timestamp",reference:o8,async:!1,expects:null,requirement:bT,message:e,_run(t,n){return t.typed&&!this.requirement.test(t.value)&&se(this,"timestamp",t,n),t}}}function a8(e){return{kind:"validation",type:"iso_week",reference:a8,async:!1,expects:null,requirement:vT,message:e,_run(t,n){return t.typed&&!this.requirement.test(t.value)&&se(this,"week",t,n),t}}}function c8(e,t){return{kind:"validation",type:"length",reference:c8,async:!1,expects:`${e}`,requirement:e,message:t,_run(n,r){return n.typed&&n.value.length!==this.requirement&&se(this,"length",n,r,{received:`${n.value.length}`}),n}}}function u8(e){return{kind:"validation",type:"mac",reference:u8,async:!1,expects:null,requirement:AT,message:e,_run(t,n){return t.typed&&!this.requirement.test(t.value)&&se(this,"MAC",t,n),t}}}function l8(e){return{kind:"validation",type:"mac48",reference:l8,async:!1,expects:null,requirement:ET,message:e,_run(t,n){return t.typed&&!this.requirement.test(t.value)&&se(this,"48-bit MAC",t,n),t}}}function d8(e){return{kind:"validation",type:"mac64",reference:d8,async:!1,expects:null,requirement:xT,message:e,_run(t,n){return t.typed&&!this.requirement.test(t.value)&&se(this,"64-bit MAC",t,n),t}}}function f8(e){return{kind:"transformation",type:"map_items",reference:f8,async:!1,operation:e,_run(t){return t.value=t.value.map(this.operation),t}}}function h8(e,t){return{kind:"validation",type:"max_bytes",reference:h8,async:!1,expects:`<=${e}`,requirement:e,message:t,_run(n,r){if(n.typed){const s=new TextEncoder().encode(n.value).length;s>this.requirement&&se(this,"bytes",n,r,{received:`${s}`})}return n}}}function p8(e,t){return{kind:"validation",type:"max_length",reference:p8,async:!1,expects:`<=${e}`,requirement:e,message:t,_run(n,r){return n.typed&&n.value.length>this.requirement&&se(this,"length",n,r,{received:`${n.value.length}`}),n}}}function m8(e,t){return{kind:"validation",type:"max_size",reference:m8,async:!1,expects:`<=${e}`,requirement:e,message:t,_run(n,r){return n.typed&&n.value.size>this.requirement&&se(this,"size",n,r,{received:`${n.value.size}`}),n}}}function y8(e,t){return{kind:"validation",type:"max_value",reference:y8,async:!1,expects:`<=${e instanceof Date?e.toJSON():is(e)}`,requirement:e,message:t,_run(n,r){return n.typed&&n.value>this.requirement&&se(this,"value",n,r,{received:n.value instanceof Date?n.value.toJSON():is(n.value)}),n}}}function g8(e,t){return{kind:"validation",type:"mime_type",reference:g8,async:!1,expects:e.map(n=>`"${n}"`).join(" | ")||"never",requirement:e,message:t,_run(n,r){return n.typed&&!this.requirement.includes(n.value.type)&&se(this,"MIME type",n,r,{received:`"${n.value.type}"`}),n}}}function w8(e,t){return{kind:"validation",type:"min_bytes",reference:w8,async:!1,expects:`>=${e}`,requirement:e,message:t,_run(n,r){if(n.typed){const s=new TextEncoder().encode(n.value).length;s<this.requirement&&se(this,"bytes",n,r,{received:`${s}`})}return n}}}function b8(e,t){return{kind:"validation",type:"min_length",reference:b8,async:!1,expects:`>=${e}`,requirement:e,message:t,_run(n,r){return n.typed&&n.value.length<this.requirement&&se(this,"length",n,r,{received:`${n.value.length}`}),n}}}function v8(e,t){return{kind:"validation",type:"min_size",reference:v8,async:!1,expects:`>=${e}`,requirement:e,message:t,_run(n,r){return n.typed&&n.value.size<this.requirement&&se(this,"size",n,r,{received:`${n.value.size}`}),n}}}function E8(e,t){return{kind:"validation",type:"min_value",reference:E8,async:!1,expects:`>=${e instanceof Date?e.toJSON():is(e)}`,requirement:e,message:t,_run(n,r){return n.typed&&n.value<this.requirement&&se(this,"value",n,r,{received:n.value instanceof Date?n.value.toJSON():is(n.value)}),n}}}function x8(e,t){return{kind:"validation",type:"multiple_of",reference:x8,async:!1,expects:`%${e}`,requirement:e,message:t,_run(n,r){return n.typed&&n.value%this.requirement!==0&&se(this,"multiple",n,r),n}}}function A8(e){return{kind:"validation",type:"non_empty",reference:A8,async:!1,expects:"!0",message:e,_run(t,n){return t.typed&&t.value.length===0&&se(this,"length",t,n,{received:"0"}),t}}}function I8(e){return{kind:"transformation",type:"normalize",reference:I8,async:!1,form:e,_run(t){return t.value=t.value.normalize(this.form),t}}}function S8(e,t){return{kind:"validation",type:"not_bytes",reference:S8,async:!1,expects:`!${e}`,requirement:e,message:t,_run(n,r){if(n.typed){const s=new TextEncoder().encode(n.value).length;s===this.requirement&&se(this,"bytes",n,r,{received:`${s}`})}return n}}}function k8(e,t){return{kind:"validation",type:"not_length",reference:k8,async:!1,expects:`!${e}`,requirement:e,message:t,_run(n,r){return n.typed&&n.value.length===this.requirement&&se(this,"length",n,r,{received:`${n.value.length}`}),n}}}function C8(e,t){return{kind:"validation",type:"not_size",reference:C8,async:!1,expects:`!${e}`,requirement:e,message:t,_run(n,r){return n.typed&&n.value.size===this.requirement&&se(this,"size",n,r,{received:`${n.value.size}`}),n}}}function T8(e,t){return{kind:"validation",type:"not_value",reference:T8,async:!1,expects:e instanceof Date?`!${e.toJSON()}`:`!${is(e)}`,requirement:e,message:t,_run(n,r){return n.typed&&this.requirement<=n.value&&this.requirement>=n.value&&se(this,"value",n,r,{received:n.value instanceof Date?n.value.toJSON():is(n.value)}),n}}}function _8(e){return{kind:"validation",type:"octal",reference:_8,async:!1,expects:null,requirement:IT,message:e,_run(t,n){return t.typed&&!this.requirement.test(t.value)&&se(this,"octal",t,n),t}}}function M8(e,t){var n;if(e.issues)for(const r of t)for(const s of e.issues){let i=!1;const o=Math.min(r.length,((n=s.path)==null?void 0:n.length)??0);for(let a=0;a<o;a++)if(r[a]!==s.path[a].key){i=!0;break}if(!i)return!1}return!0}function B8(e,t,n){return{kind:"validation",type:"partial_check",reference:B8,async:!1,expects:null,requirement:t,message:n,_run(r,s){return M8(r,e)&&!this.requirement(r.value)&&se(this,"input",r,s),r}}}function N8(e,t,n){return{kind:"validation",type:"partial_check",reference:N8,async:!0,expects:null,requirement:t,message:n,async _run(r,s){return M8(r,e)&&!await this.requirement(r.value)&&se(this,"input",r,s),r}}}function O8(e){return{kind:"validation",type:"raw_check",reference:O8,async:!1,expects:null,_run(t,n){return e({dataset:t,config:n,addIssue:r=>se(this,(r==null?void 0:r.label)??"input",t,n,r)}),t}}}function P8(e){return{kind:"validation",type:"raw_check",reference:P8,async:!0,expects:null,async _run(t,n){return await e({dataset:t,config:n,addIssue:r=>se(this,(r==null?void 0:r.label)??"input",t,n,r)}),t}}}function j8(e){return{kind:"transformation",type:"raw_transform",reference:j8,async:!1,_run(t,n){const r=e({dataset:t,config:n,addIssue:s=>se(this,(s==null?void 0:s.label)??"input",t,n,s),NEVER:null});return t.issues?t.typed=!1:t.value=r,t}}}function R8(e){return{kind:"transformation",type:"raw_transform",reference:R8,async:!0,async _run(t,n){const r=await e({dataset:t,config:n,addIssue:s=>se(this,(s==null?void 0:s.label)??"input",t,n,s),NEVER:null});return t.issues?t.typed=!1:t.value=r,t}}}function D8(){return{kind:"transformation",type:"readonly",reference:D8,async:!1,_run(e){return e}}}function U8(e,t){return{kind:"transformation",type:"reduce_items",reference:U8,async:!1,operation:e,initial:t,_run(n){return n.value=n.value.reduce(this.operation,this.initial),n}}}function L8(e,t){return{kind:"validation",type:"regex",reference:L8,async:!1,expects:`${e}`,requirement:e,message:t,_run(n,r){return n.typed&&!this.requirement.test(n.value)&&se(this,"format",n,r),n}}}function $8(e){return{kind:"validation",type:"safe_integer",reference:$8,async:!1,expects:null,requirement:Number.isSafeInteger,message:e,_run(t,n){return t.typed&&!this.requirement(t.value)&&se(this,"safe integer",t,n),t}}}function z8(e,t){return{kind:"validation",type:"size",reference:z8,async:!1,expects:`${e}`,requirement:e,message:t,_run(n,r){return n.typed&&n.value.size!==this.requirement&&se(this,"size",n,r,{received:`${n.value.size}`}),n}}}function F8(e,t){return{kind:"validation",type:"some_item",reference:F8,async:!1,expects:null,requirement:e,message:t,_run(n,r){return n.typed&&!n.value.some(this.requirement)&&se(this,"item",n,r),n}}}function H8(e){return{kind:"transformation",type:"sort_items",reference:H8,async:!1,operation:e,_run(t){return t.value=t.value.sort(this.operation),t}}}function q8(e,t){return{kind:"validation",type:"starts_with",reference:q8,async:!1,expects:`"${e}"`,requirement:e,message:t,_run(n,r){return n.typed&&!n.value.startsWith(this.requirement)&&se(this,"start",n,r,{received:`"${n.value.slice(0,this.requirement.length)}"`}),n}}}function W8(){return{kind:"transformation",type:"to_lower_case",reference:W8,async:!1,_run(e){return e.value=e.value.toLowerCase(),e}}}function G8(e){return{kind:"transformation",type:"to_max_value",reference:G8,async:!1,requirement:e,_run(t){return t.value=t.value>this.requirement?this.requirement:t.value,t}}}function V8(e){return{kind:"transformation",type:"to_min_value",reference:V8,async:!1,requirement:e,_run(t){return t.value=t.value<this.requirement?this.requirement:t.value,t}}}function K8(){return{kind:"transformation",type:"to_upper_case",reference:K8,async:!1,_run(e){return e.value=e.value.toUpperCase(),e}}}function hp(e){return{kind:"transformation",type:"transform",reference:hp,async:!1,operation:e,_run(t){return t.value=this.operation(t.value),t}}}function Q8(e){return{kind:"transformation",type:"transform",reference:Q8,async:!0,operation:e,async _run(t){return t.value=await this.operation(t.value),t}}}function Y8(){return{kind:"transformation",type:"trim",reference:Y8,async:!1,_run(e){return e.value=e.value.trim(),e}}}function Z8(){return{kind:"transformation",type:"trim_end",reference:Z8,async:!1,_run(e){return e.value=e.value.trimEnd(),e}}}function X8(){return{kind:"transformation",type:"trim_start",reference:X8,async:!1,_run(e){return e.value=e.value.trimStart(),e}}}function J8(e){return{kind:"validation",type:"ulid",reference:J8,async:!1,expects:null,requirement:ST,message:e,_run(t,n){return t.typed&&!this.requirement.test(t.value)&&se(this,"ULID",t,n),t}}}function e4(e){return{kind:"validation",type:"url",reference:e4,async:!1,expects:null,requirement(t){try{return new URL(t),!0}catch{return!1}},message:e,_run(t,n){return t.typed&&!this.requirement(t.value)&&se(this,"URL",t,n),t}}}function t4(e){return{kind:"validation",type:"uuid",reference:t4,async:!1,expects:null,requirement:kT,message:e,_run(t,n){return t.typed&&!this.requirement.test(t.value)&&se(this,"UUID",t,n),t}}}function n4(e,t){return{kind:"validation",type:"value",reference:n4,async:!1,expects:e instanceof Date?e.toJSON():is(e),requirement:e,message:t,_run(n,r){return n.typed&&!(this.requirement<=n.value&&this.requirement>=n.value)&&se(this,"value",n,r,{received:n.value instanceof Date?n.value.toJSON():is(n.value)}),n}}}function D$(e,t){return{...e,_run(n,r){return e._run(n,{...r,...t})}}}function pp(e,t,n){return typeof e.fallback=="function"?e.fallback(t,n):e.fallback}function U$(e,t){return{...e,fallback:t,_run(n,r){return e._run(n,r),n.issues?{typed:!0,value:pp(this,n,r)}:n}}}function L$(e,t){return{...e,fallback:t,async:!0,async _run(n,r){return e._run(n,r),n.issues?{typed:!0,value:await pp(this,n,r)}:n}}}function $$(e){const t={};for(const n of e)if(n.path){const r=MT(n);r?(t.nested||(t.nested={}),t.nested[r]?t.nested[r].push(n.message):t.nested[r]=[n.message]):t.other?t.other.push(n.message):t.other=[n.message]}else t.root?t.root.push(n.message):t.root=[n.message];return t}function z$(e,t){return{...e,_run(n,r){const s=n.issues&&[...n.issues];if(e._run(n,r),n.issues){for(const i of n.issues)if(!(s!=null&&s.includes(i))){let o=n.value;for(const a of t){const c=o[a],u={type:"unknown",origin:"value",input:o,key:a,value:c};if(i.path?i.path.push(u):i.path=[u],!c)break;o=c}}}return n}}}function F$(e,t){return{...e,async:!0,async _run(n,r){const s=n.issues&&[...n.issues];if(await e._run(n,r),n.issues){for(const i of n.issues)if(!(s!=null&&s.includes(i))){let o=n.value;for(const a of t){const c=o[a],u={type:"unknown",origin:"value",input:o,key:a,value:c};if(i.path?i.path.push(u):i.path=[u],!c)break;o=c}}}return n}}}function Sa(e,t,n){return typeof e.default=="function"?e.default(t,n):e.default}function Vb(e){if("entries"in e){const t={};for(const n in e.entries)t[n]=Vb(e.entries[n]);return t}return"items"in e?e.items.map(Vb):Sa(e)}async function Kb(e){return"entries"in e?Object.fromEntries(await Promise.all(Object.entries(e.entries).map(async([t,n])=>[t,await Kb(n)]))):"items"in e?Promise.all(e.items.map(Kb)):Sa(e)}function Qb(e){if("entries"in e){const t={};for(const n in e.entries)t[n]=Qb(e.entries[n]);return t}return"items"in e?e.items.map(Qb):pp(e)}async function Yb(e){return"entries"in e?Object.fromEntries(await Promise.all(Object.entries(e.entries).map(async([t,n])=>[t,await Yb(n)]))):"items"in e?Promise.all(e.items.map(Yb)):pp(e)}function Mm(e,t){return!e._run({typed:!1,value:t},{abortEarly:!0}).issues}function r4(){return{kind:"schema",type:"any",reference:r4,expects:"any",async:!1,_run(e){return e.typed=!0,e}}}function nt(e,t){return{kind:"schema",type:"array",reference:nt,expects:"Array",async:!1,item:e,message:t,_run(n,r){var i;const s=n.value;if(Array.isArray(s)){n.typed=!0,n.value=[];for(let o=0;o<s.length;o++){const a=s[o],c=this.item._run({typed:!1,value:a},r);if(c.issues){const u={type:"array",origin:"value",input:s,key:o,value:a};for(const l of c.issues)l.path?l.path.unshift(u):l.path=[u],(i=n.issues)==null||i.push(l);if(n.issues||(n.issues=c.issues),r.abortEarly){n.typed=!1;break}}c.typed||(n.typed=!1),n.value.push(c.value)}}else se(this,"type",n,r);return n}}}function s4(e,t){return{kind:"schema",type:"array",reference:s4,expects:"Array",async:!0,item:e,message:t,async _run(n,r){var i;const s=n.value;if(Array.isArray(s)){n.typed=!0,n.value=[];const o=await Promise.all(s.map(a=>this.item._run({typed:!1,value:a},r)));for(let a=0;a<o.length;a++){const c=o[a];if(c.issues){const u={type:"array",origin:"value",input:s,key:a,value:s[a]};for(const l of c.issues)l.path?l.path.unshift(u):l.path=[u],(i=n.issues)==null||i.push(l);if(n.issues||(n.issues=c.issues),r.abortEarly){n.typed=!1;break}}c.typed||(n.typed=!1),n.value.push(c.value)}}else se(this,"type",n,r);return n}}}function mp(e){return{kind:"schema",type:"bigint",reference:mp,expects:"bigint",async:!1,message:e,_run(t,n){return typeof t.value=="bigint"?t.typed=!0:se(this,"type",t,n),t}}}function i4(e){return{kind:"schema",type:"blob",reference:i4,expects:"Blob",async:!1,message:e,_run(t,n){return t.value instanceof Blob?t.typed=!0:se(this,"type",t,n),t}}}function Fu(e){return{kind:"schema",type:"boolean",reference:Fu,expects:"boolean",async:!1,message:e,_run(t,n){return typeof t.value=="boolean"?t.typed=!0:se(this,"type",t,n),t}}}function o4(e,t){return{kind:"schema",type:"custom",reference:o4,expects:"unknown",async:!1,check:e,message:t,_run(n,r){return this.check(n.value)?n.typed=!0:se(this,"type",n,r),n}}}function a4(e,t){return{kind:"schema",type:"custom",reference:a4,expects:"unknown",async:!0,check:e,message:t,async _run(n,r){return await this.check(n.value)?n.typed=!0:se(this,"type",n,r),n}}}function c4(e){return{kind:"schema",type:"date",reference:c4,expects:"Date",async:!1,message:e,_run(t,n){return t.value instanceof Date?isNaN(t.value)?se(this,"type",t,n,{received:'"Invalid Date"'}):t.typed=!0:se(this,"type",t,n),t}}}function Zb(e,t){const n=Object.entries(e).filter(([r])=>isNaN(+r)).map(([,r])=>r);return{kind:"schema",type:"enum",reference:Zb,expects:n.map(is).join(" | ")||"never",async:!1,enum:e,options:n,message:t,_run(r,s){return this.options.includes(r.value)?r.typed=!0:se(this,"type",r,s),r}}}function u4(e){return{kind:"schema",type:"file",reference:u4,expects:"File",async:!1,message:e,_run(t,n){return t.value instanceof File?t.typed=!0:se(this,"type",t,n),t}}}function Xb(e){return{kind:"schema",type:"function",reference:Xb,expects:"Function",async:!1,message:e,_run(t,n){return typeof t.value=="function"?t.typed=!0:se(this,"type",t,n),t}}}function l4(e,t){return{kind:"schema",type:"instance",reference:l4,expects:e.name,async:!1,class:e,message:t,_run(n,r){return n.value instanceof this.class?n.typed=!0:se(this,"type",n,r),n}}}function Bm(e,t){if(typeof e==typeof t){if(e===t||e instanceof Date&&t instanceof Date&&+e==+t)return{value:e};if(e&&t&&e.constructor===Object&&t.constructor===Object){for(const n in t)if(n in e){const r=Bm(e[n],t[n]);if(r.issue)return r;e[n]=r.value}else e[n]=t[n];return{value:e}}if(Array.isArray(e)&&Array.isArray(t)&&e.length===t.length){for(let n=0;n<e.length;n++){const r=Bm(e[n],t[n]);if(r.issue)return r;e[n]=r.value}return{value:e}}}return{issue:!0}}function d4(e,t){return{kind:"schema",type:"intersect",reference:d4,expects:[...new Set(e.map(n=>n.expects))].join(" & ")||"never",async:!1,options:e,message:t,_run(n,r){if(this.options.length){const s=n.value;let i;n.typed=!0;for(const o of this.options){const a=o._run({typed:!1,value:s},r);if(a.issues&&(n.issues?n.issues.push(...a.issues):n.issues=a.issues,r.abortEarly)){n.typed=!1;break}a.typed||(n.typed=!1),n.typed&&(i?i.push(a.value):i=[a.value])}if(n.typed){n.value=i[0];for(let o=1;o<i.length;o++){const a=Bm(n.value,i[o]);if(a.issue){se(this,"type",n,r,{received:"unknown"});break}n.value=a.value}}}else se(this,"type",n,r);return n}}}function f4(e,t){return{kind:"schema",type:"intersect",reference:f4,expects:[...new Set(e.map(n=>n.expects))].join(" & ")||"never",async:!0,options:e,message:t,async _run(n,r){if(this.options.length){const s=n.value;let i;n.typed=!0;const o=await Promise.all(this.options.map(a=>a._run({typed:!1,value:s},r)));for(const a of o){if(a.issues&&(n.issues?n.issues.push(...a.issues):n.issues=a.issues,r.abortEarly)){n.typed=!1;break}a.typed||(n.typed=!1),n.typed&&(i?i.push(a.value):i=[a.value])}if(n.typed){n.value=i[0];for(let a=1;a<i.length;a++){const c=Bm(n.value,i[a]);if(c.issue){se(this,"type",n,r,{received:"unknown"});break}n.value=c.value}}}else se(this,"type",n,r);return n}}}function fd(e){return{kind:"schema",type:"lazy",reference:fd,expects:"unknown",async:!1,getter:e,_run(t,n){return this.getter(t.value)._run(t,n)}}}function h4(e){return{kind:"schema",type:"lazy",reference:h4,expects:"unknown",async:!0,getter:e,async _run(t,n){return(await this.getter(t.value))._run(t,n)}}}function it(e,t){return{kind:"schema",type:"literal",reference:it,expects:is(e),async:!1,literal:e,message:t,_run(n,r){return n.value===this.literal?n.typed=!0:se(this,"type",n,r),n}}}function p4(e,t){return{kind:"schema",type:"loose_object",reference:p4,expects:"Object",async:!1,entries:e,message:t,_run(n,r){var i;const s=n.value;if(s&&typeof s=="object"){n.typed=!0,n.value={};for(const o in this.entries){const a=s[o],c=this.entries[o]._run({typed:!1,value:a},r);if(c.issues){const u={type:"object",origin:"value",input:s,key:o,value:a};for(const l of c.issues)l.path?l.path.unshift(u):l.path=[u],(i=n.issues)==null||i.push(l);if(n.issues||(n.issues=c.issues),r.abortEarly){n.typed=!1;break}}c.typed||(n.typed=!1),(c.value!==void 0||o in s)&&(n.value[o]=c.value)}if(!n.issues||!r.abortEarly)for(const o in s)zu(s,o)&&!(o in this.entries)&&(n.value[o]=s[o])}else se(this,"type",n,r);return n}}}function m4(e,t){return{kind:"schema",type:"loose_object",reference:m4,expects:"Object",async:!0,entries:e,message:t,async _run(n,r){var i;const s=n.value;if(s&&typeof s=="object"){n.typed=!0,n.value={};const o=await Promise.all(Object.entries(this.entries).map(async([a,c])=>{const u=s[a];return[a,u,await c._run({typed:!1,value:u},r)]}));for(const[a,c,u]of o){if(u.issues){const l={type:"object",origin:"value",input:s,key:a,value:c};for(const f of u.issues)f.path?f.path.unshift(l):f.path=[l],(i=n.issues)==null||i.push(f);if(n.issues||(n.issues=u.issues),r.abortEarly){n.typed=!1;break}}u.typed||(n.typed=!1),(u.value!==void 0||a in s)&&(n.value[a]=u.value)}if(!n.issues||!r.abortEarly)for(const a in s)zu(s,a)&&!(a in this.entries)&&(n.value[a]=s[a])}else se(this,"type",n,r);return n}}}function y4(e,t){return{kind:"schema",type:"loose_tuple",reference:y4,expects:"Array",async:!1,items:e,message:t,_run(n,r){var i;const s=n.value;if(Array.isArray(s)){n.typed=!0,n.value=[];for(let o=0;o<this.items.length;o++){const a=s[o],c=this.items[o]._run({typed:!1,value:a},r);if(c.issues){const u={type:"array",origin:"value",input:s,key:o,value:a};for(const l of c.issues)l.path?l.path.unshift(u):l.path=[u],(i=n.issues)==null||i.push(l);if(n.issues||(n.issues=c.issues),r.abortEarly){n.typed=!1;break}}c.typed||(n.typed=!1),n.value.push(c.value)}if(!n.issues||!r.abortEarly)for(let o=this.items.length;o<s.length;o++)n.value.push(s[o])}else se(this,"type",n,r);return n}}}function g4(e,t){return{kind:"schema",type:"loose_tuple",reference:g4,expects:"Array",async:!0,items:e,message:t,async _run(n,r){var i;const s=n.value;if(Array.isArray(s)){n.typed=!0,n.value=[];const o=await Promise.all(this.items.map(async(a,c)=>{const u=s[c];return[c,u,await a._run({typed:!1,value:u},r)]}));for(const[a,c,u]of o){if(u.issues){const l={type:"array",origin:"value",input:s,key:a,value:c};for(const f of u.issues)f.path?f.path.unshift(l):f.path=[l],(i=n.issues)==null||i.push(f);if(n.issues||(n.issues=u.issues),r.abortEarly){n.typed=!1;break}}u.typed||(n.typed=!1),n.value.push(u.value)}if(!n.issues||!r.abortEarly)for(let a=this.items.length;a<s.length;a++)n.value.push(s[a])}else se(this,"type",n,r);return n}}}function w4(e,t,n){return{kind:"schema",type:"map",reference:w4,expects:"Map",async:!1,key:e,value:t,message:n,_run(r,s){var o,a;const i=r.value;if(i instanceof Map){r.typed=!0,r.value=new Map;for(const[c,u]of i){const l=this.key._run({typed:!1,value:c},s);if(l.issues){const d={type:"map",origin:"key",input:i,key:c,value:u};for(const h of l.issues)h.path?h.path.unshift(d):h.path=[d],(o=r.issues)==null||o.push(h);if(r.issues||(r.issues=l.issues),s.abortEarly){r.typed=!1;break}}const f=this.value._run({typed:!1,value:u},s);if(f.issues){const d={type:"map",origin:"value",input:i,key:c,value:u};for(const h of f.issues)h.path?h.path.unshift(d):h.path=[d],(a=r.issues)==null||a.push(h);if(r.issues||(r.issues=f.issues),s.abortEarly){r.typed=!1;break}}(!l.typed||!f.typed)&&(r.typed=!1),r.value.set(l.value,f.value)}}else se(this,"type",r,s);return r}}}function b4(e,t,n){return{kind:"schema",type:"map",reference:b4,expects:"Map",async:!0,key:e,value:t,message:n,async _run(r,s){var o,a;const i=r.value;if(i instanceof Map){r.typed=!0,r.value=new Map;const c=await Promise.all([...i].map(([u,l])=>Promise.all([u,l,this.key._run({typed:!1,value:u},s),this.value._run({typed:!1,value:l},s)])));for(const[u,l,f,d]of c){if(f.issues){const h={type:"map",origin:"key",input:i,key:u,value:l};for(const p of f.issues)p.path?p.path.unshift(h):p.path=[h],(o=r.issues)==null||o.push(p);if(r.issues||(r.issues=f.issues),s.abortEarly){r.typed=!1;break}}if(d.issues){const h={type:"map",origin:"value",input:i,key:u,value:l};for(const p of d.issues)p.path?p.path.unshift(h):p.path=[h],(a=r.issues)==null||a.push(p);if(r.issues||(r.issues=d.issues),s.abortEarly){r.typed=!1;break}}(!f.typed||!d.typed)&&(r.typed=!1),r.value.set(f.value,d.value)}}else se(this,"type",r,s);return r}}}function v4(e){return{kind:"schema",type:"nan",reference:v4,expects:"NaN",async:!1,message:e,_run(t,n){return Number.isNaN(t.value)?t.typed=!0:se(this,"type",t,n),t}}}function E4(e){return{kind:"schema",type:"never",reference:E4,expects:"never",async:!1,message:e,_run(t,n){return se(this,"type",t,n),t}}}function x4(e,t){return{kind:"schema",type:"non_nullable",reference:x4,expects:"!null",async:!1,wrapped:e,message:t,_run(n,r){return n.value===null?(se(this,"type",n,r),n):this.wrapped._run(n,r)}}}function A4(e,t){return{kind:"schema",type:"non_nullable",reference:A4,expects:"!null",async:!0,wrapped:e,message:t,async _run(n,r){return n.value===null?(se(this,"type",n,r),n):this.wrapped._run(n,r)}}}function I4(e,t){return{kind:"schema",type:"non_nullish",reference:I4,expects:"!null & !undefined",async:!1,wrapped:e,message:t,_run(n,r){return n.value===null||n.value===void 0?(se(this,"type",n,r),n):this.wrapped._run(n,r)}}}function S4(e,t){return{kind:"schema",type:"non_nullish",reference:S4,expects:"!null & !undefined",async:!0,wrapped:e,message:t,async _run(n,r){return n.value===null||n.value===void 0?(se(this,"type",n,r),n):this.wrapped._run(n,r)}}}function _E(e,t){return{kind:"schema",type:"non_optional",reference:_E,expects:"!undefined",async:!1,wrapped:e,message:t,_run(n,r){return n.value===void 0?(se(this,"type",n,r),n):this.wrapped._run(n,r)}}}function ME(e,t){return{kind:"schema",type:"non_optional",reference:ME,expects:"!undefined",async:!0,wrapped:e,message:t,async _run(n,r){return n.value===void 0?(se(this,"type",n,r),n):this.wrapped._run(n,r)}}}function Jb(e){return{kind:"schema",type:"null",reference:Jb,expects:"null",async:!1,message:e,_run(t,n){return t.value===null?t.typed=!0:se(this,"type",t,n),t}}}function At(e,...t){const n={kind:"schema",type:"nullable",reference:At,expects:`${e.expects} | null`,async:!1,wrapped:e,_run(r,s){return r.value===null&&("default"in this&&(r.value=Sa(this,r,s)),r.value===null)?(r.typed=!0,r):this.wrapped._run(r,s)}};return 0 in t&&(n.default=t[0]),n}function k4(e,...t){const n={kind:"schema",type:"nullable",reference:k4,expects:`${e.expects} | null`,async:!0,wrapped:e,async _run(r,s){return r.value===null&&("default"in this&&(r.value=await Sa(this,r,s)),r.value===null)?(r.typed=!0,r):this.wrapped._run(r,s)}};return 0 in t&&(n.default=t[0]),n}function wu(e,...t){const n={kind:"schema",type:"nullish",reference:wu,expects:`${e.expects} | null | undefined`,async:!1,wrapped:e,_run(r,s){return(r.value===null||r.value===void 0)&&("default"in this&&(r.value=Sa(this,r,s)),r.value===null||r.value===void 0)?(r.typed=!0,r):this.wrapped._run(r,s)}};return 0 in t&&(n.default=t[0]),n}function C4(e,...t){const n={kind:"schema",type:"nullish",reference:C4,expects:`${e.expects} | null | undefined`,async:!0,wrapped:e,async _run(r,s){return(r.value===null||r.value===void 0)&&("default"in this&&(r.value=await Sa(this,r,s)),r.value===null||r.value===void 0)?(r.typed=!0,r):this.wrapped._run(r,s)}};return 0 in t&&(n.default=t[0]),n}function tn(e){return{kind:"schema",type:"number",reference:tn,expects:"number",async:!1,message:e,_run(t,n){return typeof t.value=="number"&&!isNaN(t.value)?t.typed=!0:se(this,"type",t,n),t}}}function Ie(e,t){return{kind:"schema",type:"object",reference:Ie,expects:"Object",async:!1,entries:e,message:t,_run(n,r){var i;const s=n.value;if(s&&typeof s=="object"){n.typed=!0,n.value={};for(const o in this.entries){const a=s[o],c=this.entries[o]._run({typed:!1,value:a},r);if(c.issues){const u={type:"object",origin:"value",input:s,key:o,value:a};for(const l of c.issues)l.path?l.path.unshift(u):l.path=[u],(i=n.issues)==null||i.push(l);if(n.issues||(n.issues=c.issues),r.abortEarly){n.typed=!1;break}}c.typed||(n.typed=!1),(c.value!==void 0||o in s)&&(n.value[o]=c.value)}}else se(this,"type",n,r);return n}}}function T4(e,t){return{kind:"schema",type:"object",reference:T4,expects:"Object",async:!0,entries:e,message:t,async _run(n,r){var i;const s=n.value;if(s&&typeof s=="object"){n.typed=!0,n.value={};const o=await Promise.all(Object.entries(this.entries).map(async([a,c])=>{const u=s[a];return[a,u,await c._run({typed:!1,value:u},r)]}));for(const[a,c,u]of o){if(u.issues){const l={type:"object",origin:"value",input:s,key:a,value:c};for(const f of u.issues)f.path?f.path.unshift(l):f.path=[l],(i=n.issues)==null||i.push(f);if(n.issues||(n.issues=u.issues),r.abortEarly){n.typed=!1;break}}u.typed||(n.typed=!1),(u.value!==void 0||a in s)&&(n.value[a]=u.value)}}else se(this,"type",n,r);return n}}}function _4(e,t,n){return{kind:"schema",type:"object_with_rest",reference:_4,expects:"Object",async:!1,entries:e,rest:t,message:n,_run(r,s){var o,a;const i=r.value;if(i&&typeof i=="object"){r.typed=!0,r.value={};for(const c in this.entries){const u=i[c],l=this.entries[c]._run({typed:!1,value:u},s);if(l.issues){const f={type:"object",origin:"value",input:i,key:c,value:u};for(const d of l.issues)d.path?d.path.unshift(f):d.path=[f],(o=r.issues)==null||o.push(d);if(r.issues||(r.issues=l.issues),s.abortEarly){r.typed=!1;break}}l.typed||(r.typed=!1),(l.value!==void 0||c in i)&&(r.value[c]=l.value)}if(!r.issues||!s.abortEarly){for(const c in i)if(zu(i,c)&&!(c in this.entries)){const u=i[c],l=this.rest._run({typed:!1,value:u},s);if(l.issues){const f={type:"object",origin:"value",input:i,key:c,value:u};for(const d of l.issues)d.path?d.path.unshift(f):d.path=[f],(a=r.issues)==null||a.push(d);if(r.issues||(r.issues=l.issues),s.abortEarly){r.typed=!1;break}}l.typed||(r.typed=!1),r.value[c]=l.value}}}else se(this,"type",r,s);return r}}}function M4(e,t,n){return{kind:"schema",type:"object_with_rest",reference:M4,expects:"Object",async:!0,entries:e,rest:t,message:n,async _run(r,s){var o,a;const i=r.value;if(i&&typeof i=="object"){r.typed=!0,r.value={};const[c,u]=await Promise.all([Promise.all(Object.entries(this.entries).map(async([l,f])=>{const d=i[l];return[l,d,await f._run({typed:!1,value:d},s)]})),Promise.all(Object.entries(i).filter(([l])=>zu(i,l)&&!(l in this.entries)).map(async([l,f])=>[l,f,await this.rest._run({typed:!1,value:f},s)]))]);for(const[l,f,d]of c){if(d.issues){const h={type:"object",origin:"value",input:i,key:l,value:f};for(const p of d.issues)p.path?p.path.unshift(h):p.path=[h],(o=r.issues)==null||o.push(p);if(r.issues||(r.issues=d.issues),s.abortEarly){r.typed=!1;break}}d.typed||(r.typed=!1),(d.value!==void 0||l in i)&&(r.value[l]=d.value)}if(!r.issues||!s.abortEarly)for(const[l,f,d]of u){if(d.issues){const h={type:"object",origin:"value",input:i,key:l,value:f};for(const p of d.issues)p.path?p.path.unshift(h):p.path=[h],(a=r.issues)==null||a.push(p);if(r.issues||(r.issues=d.issues),s.abortEarly){r.typed=!1;break}}d.typed||(r.typed=!1),r.value[l]=d.value}}else se(this,"type",r,s);return r}}}function In(e,...t){const n={kind:"schema",type:"optional",reference:In,expects:`${e.expects} | undefined`,async:!1,wrapped:e,_run(r,s){return r.value===void 0&&("default"in this&&(r.value=Sa(this,r,s)),r.value===void 0)?(r.typed=!0,r):this.wrapped._run(r,s)}};return 0 in t&&(n.default=t[0]),n}function BE(e,...t){const n={kind:"schema",type:"optional",reference:BE,expects:`${e.expects} | undefined`,async:!0,wrapped:e,async _run(r,s){return r.value===void 0&&("default"in this&&(r.value=await Sa(this,r,s)),r.value===void 0)?(r.typed=!0,r):this.wrapped._run(r,s)}};return 0 in t&&(n.default=t[0]),n}function NE(e,t){return{kind:"schema",type:"picklist",reference:NE,expects:e.map(is).join(" | ")||"never",async:!1,options:e,message:t,_run(n,r){return this.options.includes(n.value)?n.typed=!0:se(this,"type",n,r),n}}}function B4(e){return{kind:"schema",type:"promise",reference:B4,expects:"Promise",async:!1,message:e,_run(t,n){return t.value instanceof Promise?t.typed=!0:se(this,"type",t,n),t}}}function hd(e,t,n){return{kind:"schema",type:"record",reference:hd,expects:"Object",async:!1,key:e,value:t,message:n,_run(r,s){var o,a;const i=r.value;if(i&&typeof i=="object"){r.typed=!0,r.value={};for(const c in i)if(zu(i,c)){const u=i[c],l=this.key._run({typed:!1,value:c},s);if(l.issues){const d={type:"object",origin:"key",input:i,key:c,value:u};for(const h of l.issues)h.path=[d],(o=r.issues)==null||o.push(h);if(r.issues||(r.issues=l.issues),s.abortEarly){r.typed=!1;break}}const f=this.value._run({typed:!1,value:u},s);if(f.issues){const d={type:"object",origin:"value",input:i,key:c,value:u};for(const h of f.issues)h.path?h.path.unshift(d):h.path=[d],(a=r.issues)==null||a.push(h);if(r.issues||(r.issues=f.issues),s.abortEarly){r.typed=!1;break}}(!l.typed||!f.typed)&&(r.typed=!1),l.typed&&(r.value[l.value]=f.value)}}else se(this,"type",r,s);return r}}}function N4(e,t,n){return{kind:"schema",type:"record",reference:N4,expects:"Object",async:!0,key:e,value:t,message:n,async _run(r,s){var o,a;const i=r.value;if(i&&typeof i=="object"){r.typed=!0,r.value={};const c=await Promise.all(Object.entries(i).filter(([u])=>zu(i,u)).map(([u,l])=>Promise.all([u,l,this.key._run({typed:!1,value:u},s),this.value._run({typed:!1,value:l},s)])));for(const[u,l,f,d]of c){if(f.issues){const h={type:"object",origin:"key",input:i,key:u,value:l};for(const p of f.issues)p.path=[h],(o=r.issues)==null||o.push(p);if(r.issues||(r.issues=f.issues),s.abortEarly){r.typed=!1;break}}if(d.issues){const h={type:"object",origin:"value",input:i,key:u,value:l};for(const p of d.issues)p.path?p.path.unshift(h):p.path=[h],(a=r.issues)==null||a.push(p);if(r.issues||(r.issues=d.issues),s.abortEarly){r.typed=!1;break}}(!f.typed||!d.typed)&&(r.typed=!1),f.typed&&(r.value[f.value]=d.value)}}else se(this,"type",r,s);return r}}}function O4(e,t){return{kind:"schema",type:"set",reference:O4,expects:"Set",async:!1,value:e,message:t,_run(n,r){var i;const s=n.value;if(s instanceof Set){n.typed=!0,n.value=new Set;for(const o of s){const a=this.value._run({typed:!1,value:o},r);if(a.issues){const c={type:"set",origin:"value",input:s,key:null,value:o};for(const u of a.issues)u.path?u.path.unshift(c):u.path=[c],(i=n.issues)==null||i.push(u);if(n.issues||(n.issues=a.issues),r.abortEarly){n.typed=!1;break}}a.typed||(n.typed=!1),n.value.add(a.value)}}else se(this,"type",n,r);return n}}}function P4(e,t){return{kind:"schema",type:"set",reference:P4,expects:"Set",async:!0,value:e,message:t,async _run(n,r){var i;const s=n.value;if(s instanceof Set){n.typed=!0,n.value=new Set;const o=await Promise.all([...s].map(async a=>[a,await this.value._run({typed:!1,value:a},r)]));for(const[a,c]of o){if(c.issues){const u={type:"set",origin:"value",input:s,key:null,value:a};for(const l of c.issues)l.path?l.path.unshift(u):l.path=[u],(i=n.issues)==null||i.push(l);if(n.issues||(n.issues=c.issues),r.abortEarly){n.typed=!1;break}}c.typed||(n.typed=!1),n.value.add(c.value)}}else se(this,"type",n,r);return n}}}function j4(e,t){return{kind:"schema",type:"strict_object",reference:j4,expects:"Object",async:!1,entries:e,message:t,_run(n,r){var i;const s=n.value;if(s&&typeof s=="object"){n.typed=!0,n.value={};for(const o in this.entries){const a=s[o],c=this.entries[o]._run({typed:!1,value:a},r);if(c.issues){const u={type:"object",origin:"value",input:s,key:o,value:a};for(const l of c.issues)l.path?l.path.unshift(u):l.path=[u],(i=n.issues)==null||i.push(l);if(n.issues||(n.issues=c.issues),r.abortEarly){n.typed=!1;break}}c.typed||(n.typed=!1),(c.value!==void 0||o in s)&&(n.value[o]=c.value)}if(!n.issues||!r.abortEarly){for(const o in s)if(!(o in this.entries)){const a=s[o];se(this,"type",n,r,{input:a,expected:"never",path:[{type:"object",origin:"value",input:s,key:o,value:a}]});break}}}else se(this,"type",n,r);return n}}}function R4(e,t){return{kind:"schema",type:"strict_object",reference:R4,expects:"Object",async:!0,entries:e,message:t,async _run(n,r){var i;const s=n.value;if(s&&typeof s=="object"){n.typed=!0,n.value={};const o=await Promise.all(Object.entries(this.entries).map(async([a,c])=>{const u=s[a];return[a,u,await c._run({typed:!1,value:u},r)]}));for(const[a,c,u]of o){if(u.issues){const l={type:"object",origin:"value",input:s,key:a,value:c};for(const f of u.issues)f.path?f.path.unshift(l):f.path=[l],(i=n.issues)==null||i.push(f);if(n.issues||(n.issues=u.issues),r.abortEarly){n.typed=!1;break}}u.typed||(n.typed=!1),(u.value!==void 0||a in s)&&(n.value[a]=u.value)}if(!n.issues||!r.abortEarly){for(const a in s)if(!(a in this.entries)){const c=s[a];se(this,"type",n,r,{input:c,expected:"never",path:[{type:"object",origin:"value",input:s,key:a,value:c}]});break}}}else se(this,"type",n,r);return n}}}function D4(e,t){return{kind:"schema",type:"strict_tuple",reference:D4,expects:"Array",async:!1,items:e,message:t,_run(n,r){var i;const s=n.value;if(Array.isArray(s)){n.typed=!0,n.value=[];for(let o=0;o<this.items.length;o++){const a=s[o],c=this.items[o]._run({typed:!1,value:a},r);if(c.issues){const u={type:"array",origin:"value",input:s,key:o,value:a};for(const l of c.issues)l.path?l.path.unshift(u):l.path=[u],(i=n.issues)==null||i.push(l);if(n.issues||(n.issues=c.issues),r.abortEarly){n.typed=!1;break}}c.typed||(n.typed=!1),n.value.push(c.value)}if(!(n.issues&&r.abortEarly)&&this.items.length<s.length){const o=s[e.length];se(this,"type",n,r,{input:o,expected:"never",path:[{type:"array",origin:"value",input:s,key:this.items.length,value:o}]})}}else se(this,"type",n,r);return n}}}function U4(e,t){return{kind:"schema",type:"strict_tuple",reference:U4,expects:"Array",async:!0,items:e,message:t,async _run(n,r){var i;const s=n.value;if(Array.isArray(s)){n.typed=!0,n.value=[];const o=await Promise.all(this.items.map(async(a,c)=>{const u=s[c];return[c,u,await a._run({typed:!1,value:u},r)]}));for(const[a,c,u]of o){if(u.issues){const l={type:"array",origin:"value",input:s,key:a,value:c};for(const f of u.issues)f.path?f.path.unshift(l):f.path=[l],(i=n.issues)==null||i.push(f);if(n.issues||(n.issues=u.issues),r.abortEarly){n.typed=!1;break}}u.typed||(n.typed=!1),n.value.push(u.value)}if(!(n.issues&&r.abortEarly)&&this.items.length<s.length){const a=s[e.length];se(this,"type",n,r,{input:a,expected:"never",path:[{type:"array",origin:"value",input:s,key:this.items.length,value:a}]})}}else se(this,"type",n,r);return n}}}function dt(e){return{kind:"schema",type:"string",reference:dt,expects:"string",async:!1,message:e,_run(t,n){return typeof t.value=="string"?t.typed=!0:se(this,"type",t,n),t}}}function L4(e){return{kind:"schema",type:"symbol",reference:L4,expects:"symbol",async:!1,message:e,_run(t,n){return typeof t.value=="symbol"?t.typed=!0:se(this,"type",t,n),t}}}function Yy(e,t){return{kind:"schema",type:"tuple",reference:Yy,expects:"Array",async:!1,items:e,message:t,_run(n,r){var i;const s=n.value;if(Array.isArray(s)){n.typed=!0,n.value=[];for(let o=0;o<this.items.length;o++){const a=s[o],c=this.items[o]._run({typed:!1,value:a},r);if(c.issues){const u={type:"array",origin:"value",input:s,key:o,value:a};for(const l of c.issues)l.path?l.path.unshift(u):l.path=[u],(i=n.issues)==null||i.push(l);if(n.issues||(n.issues=c.issues),r.abortEarly){n.typed=!1;break}}c.typed||(n.typed=!1),n.value.push(c.value)}}else se(this,"type",n,r);return n}}}function $4(e,t){return{kind:"schema",type:"tuple",reference:$4,expects:"Array",async:!0,items:e,message:t,async _run(n,r){var i;const s=n.value;if(Array.isArray(s)){n.typed=!0,n.value=[];const o=await Promise.all(this.items.map(async(a,c)=>{const u=s[c];return[c,u,await a._run({typed:!1,value:u},r)]}));for(const[a,c,u]of o){if(u.issues){const l={type:"array",origin:"value",input:s,key:a,value:c};for(const f of u.issues)f.path?f.path.unshift(l):f.path=[l],(i=n.issues)==null||i.push(f);if(n.issues||(n.issues=u.issues),r.abortEarly){n.typed=!1;break}}u.typed||(n.typed=!1),n.value.push(u.value)}}else se(this,"type",n,r);return n}}}function z4(e,t,n){return{kind:"schema",type:"tuple_with_rest",reference:z4,expects:"Array",async:!1,items:e,rest:t,message:n,_run(r,s){var o,a;const i=r.value;if(Array.isArray(i)){r.typed=!0,r.value=[];for(let c=0;c<this.items.length;c++){const u=i[c],l=this.items[c]._run({typed:!1,value:u},s);if(l.issues){const f={type:"array",origin:"value",input:i,key:c,value:u};for(const d of l.issues)d.path?d.path.unshift(f):d.path=[f],(o=r.issues)==null||o.push(d);if(r.issues||(r.issues=l.issues),s.abortEarly){r.typed=!1;break}}l.typed||(r.typed=!1),r.value.push(l.value)}if(!r.issues||!s.abortEarly)for(let c=this.items.length;c<i.length;c++){const u=i[c],l=this.rest._run({typed:!1,value:u},s);if(l.issues){const f={type:"array",origin:"value",input:i,key:c,value:u};for(const d of l.issues)d.path?d.path.unshift(f):d.path=[f],(a=r.issues)==null||a.push(d);if(r.issues||(r.issues=l.issues),s.abortEarly){r.typed=!1;break}}l.typed||(r.typed=!1),r.value.push(l.value)}}else se(this,"type",r,s);return r}}}function F4(e,t,n){return{kind:"schema",type:"tuple_with_rest",reference:F4,expects:"Array",async:!0,items:e,rest:t,message:n,async _run(r,s){var o,a;const i=r.value;if(Array.isArray(i)){r.typed=!0,r.value=[];const[c,u]=await Promise.all([Promise.all(this.items.map(async(l,f)=>{const d=i[f];return[f,d,await l._run({typed:!1,value:d},s)]})),Promise.all(i.slice(this.items.length).map(async(l,f)=>[f+this.items.length,l,await this.rest._run({typed:!1,value:l},s)]))]);for(const[l,f,d]of c){if(d.issues){const h={type:"array",origin:"value",input:i,key:l,value:f};for(const p of d.issues)p.path?p.path.unshift(h):p.path=[h],(o=r.issues)==null||o.push(p);if(r.issues||(r.issues=d.issues),s.abortEarly){r.typed=!1;break}}d.typed||(r.typed=!1),r.value.push(d.value)}if(!r.issues||!s.abortEarly)for(const[l,f,d]of u){if(d.issues){const h={type:"array",origin:"value",input:i,key:l,value:f};for(const p of d.issues)p.path?p.path.unshift(h):p.path=[h],(a=r.issues)==null||a.push(p);if(r.issues||(r.issues=d.issues),s.abortEarly){r.typed=!1;break}}d.typed||(r.typed=!1),r.value.push(d.value)}}else se(this,"type",r,s);return r}}}function ev(e){return{kind:"schema",type:"undefined",reference:ev,expects:"undefined",async:!1,message:e,_run(t,n){return t.value===void 0?t.typed=!0:se(this,"type",t,n),t}}}function Nm(e){let t;if(e)for(const n of e)t?t.push(...n.issues):t=n.issues;return t}function dr(e,t){return{kind:"schema",type:"union",reference:dr,expects:[...new Set(e.map(n=>n.expects))].join(" | ")||"never",async:!1,options:e,message:t,_run(n,r){let s,i,o;for(const a of this.options){const c=a._run({typed:!1,value:n.value},r);if(c.typed)if(c.issues)i?i.push(c):i=[c];else{s=c;break}else o?o.push(c):o=[c]}if(s)return s;if(i){if(i.length===1)return i[0];se(this,"type",n,r,{issues:Nm(i)}),n.typed=!0}else{if((o==null?void 0:o.length)===1)return o[0];se(this,"type",n,r,{issues:Nm(o)})}return n}}}function H4(e,t){return{kind:"schema",type:"union",reference:H4,expects:[...new Set(e.map(n=>n.expects))].join(" | ")||"never",async:!0,options:e,message:t,async _run(n,r){let s,i,o;for(const a of this.options){const c=await a._run({typed:!1,value:n.value},r);if(c.typed)if(c.issues)i?i.push(c):i=[c];else{s=c;break}else o?o.push(c):o=[c]}if(s)return s;if(i){if(i.length===1)return i[0];se(this,"type",n,r,{issues:Nm(i)}),n.typed=!0}else{if((o==null?void 0:o.length)===1)return o[0];se(this,"type",n,r,{issues:Nm(o)})}return n}}}function yc(){return{kind:"schema",type:"unknown",reference:yc,expects:"unknown",async:!1,_run(e){return e.typed=!0,e}}}function OE(e,t,n=new Set){for(const r of t)r.type==="variant"?OE(e,r.options,n):n.add(r.entries[e].expects);return n}function q4(e,t,n){let r;return{kind:"schema",type:"variant",reference:q4,expects:"Object",async:!1,key:e,options:t,message:n,_run(s,i){const o=s.value;if(o&&typeof o=="object"){const a=o[this.key];if(this.key in o){let c;for(const u of this.options)if(u.type==="variant"||!u.entries[this.key]._run({typed:!1,value:a},i).issues){const l=u._run({typed:!1,value:o},i);if(!l.issues)return l;(!c||!c.typed&&l.typed)&&(c=l)}if(c)return c}r||(r=[...OE(this.key,this.options)].join(" | ")||"never"),se(this,"type",s,i,{input:a,expected:r,path:[{type:"object",origin:"value",input:o,key:this.key,value:a}]})}else se(this,"type",s,i);return s}}}function W4(e,t,n){let r;return{kind:"schema",type:"variant",reference:W4,expects:"Object",async:!0,key:e,options:t,message:n,async _run(s,i){const o=s.value;if(o&&typeof o=="object"){const a=o[this.key];if(this.key in o){let c;for(const u of this.options)if(u.type==="variant"||!(await u.entries[this.key]._run({typed:!1,value:a},i)).issues){const l=await u._run({typed:!1,value:o},i);if(!l.issues)return l;(!c||!c.typed&&l.typed)&&(c=l)}if(c)return c}r||(r=[...OE(this.key,this.options)].join(" | ")||"never"),se(this,"type",s,i,{input:a,expected:r,path:[{type:"object",origin:"value",input:o,key:this.key,value:a}]})}else se(this,"type",s,i);return s}}}function tv(e){return{kind:"schema",type:"void",reference:tv,expects:"void",async:!1,message:e,_run(t,n){return t.value===void 0?t.typed=!0:se(this,"type",t,n),t}}}function H$(e,t){return NE(Object.keys(e.entries),t)}function q$(e,t){const n={...e.entries};for(const r of t)delete n[r];return{...e,entries:n}}function Ht(e,t,n){const r=e._run({typed:!1,value:t},fp(n));if(r.issues)throw new Qy(r.issues);return r.value}async function G4(e,t,n){const r=await e._run({typed:!1,value:t},fp(n));if(r.issues)throw new Qy(r.issues);return r.value}function W$(e,t){const n=r=>Ht(e,r,t);return n.schema=e,n.config=t,n}function G$(e,t){const n=r=>G4(e,r,t);return n.schema=e,n.config=t,n}function V$(e,t){const n={};for(const r in e.entries)n[r]=!t||t.includes(r)?In(e.entries[r]):e.entries[r];return{...e,entries:n}}function K$(e,t){const n={};for(const r in e.entries)n[r]=!t||t.includes(r)?BE(e.entries[r]):e.entries[r];return{...e,entries:n}}function Q$(e,t){const n={};for(const r of t)n[r]=e.entries[r];return{...e,entries:n}}function Rt(...e){return{...e[0],pipe:e,_run(t,n){for(let r=0;r<e.length;r++){if(t.issues&&(e[r].kind==="schema"||e[r].kind==="transformation")){t.typed=!1;break}(!t.issues||!n.abortEarly&&!n.abortPipeEarly)&&(t=e[r]._run(t,n))}return t}}}function Y$(...e){return{...e[0],pipe:e,async:!0,async _run(t,n){for(let r=0;r<e.length;r++){if(t.issues&&(e[r].kind==="schema"||e[r].kind==="transformation")){t.typed=!1;break}(!t.issues||!n.abortEarly&&!n.abortPipeEarly)&&(t=await e[r]._run(t,n))}return t}}}function Z$(e,t,n){const r=Array.isArray(t)?t:void 0,s=Array.isArray(t)?n:t,i={};for(const o in e.entries)i[o]=!r||r.includes(o)?_E(e.entries[o],s):e.entries[o];return{...e,entries:i}}function X$(e,t,n){const r=Array.isArray(t)?t:void 0,s=Array.isArray(t)?n:t,i={};for(const o in e.entries)i[o]=!r||r.includes(o)?ME(e.entries[o],s):e.entries[o];return{...e,entries:i}}function V4(e,t,n){const r=e._run({typed:!1,value:t},fp(n));return{typed:r.typed,success:!r.issues,output:r.value,issues:r.issues}}async function K4(e,t,n){const r=await e._run({typed:!1,value:t},fp(n));return{typed:r.typed,success:!r.issues,output:r.value,issues:r.issues}}function J$(e,t){const n=r=>V4(e,r,t);return n.schema=e,n.config=t,n}function ez(e,t){const n=r=>K4(e,r,t);return n.schema=e,n.config=t,n}function tz(e){return e.wrapped}const Xwe=Object.freeze(Object.defineProperty({__proto__:null,BIC_REGEX:sT,CUID2_REGEX:iT,DECIMAL_REGEX:oT,EMAIL_REGEX:aT,EMOJI_REGEX:cT,HEXADECIMAL_REGEX:uT,HEX_COLOR_REGEX:lT,IMEI_REGEX:dT,IPV4_REGEX:fT,IPV6_REGEX:hT,IP_REGEX:pT,ISO_DATE_REGEX:mT,ISO_DATE_TIME_REGEX:yT,ISO_TIMESTAMP_REGEX:bT,ISO_TIME_REGEX:gT,ISO_TIME_SECOND_REGEX:wT,ISO_WEEK_REGEX:vT,MAC48_REGEX:ET,MAC64_REGEX:xT,MAC_REGEX:AT,OCTAL_REGEX:IT,ULID_REGEX:ST,UUID_REGEX:kT,ValiError:Qy,_addIssue:se,_isLuhnAlgo:TE,_isValidObjectKey:zu,_stringify:is,any:r4,array:nt,arrayAsync:s4,awaitAsync:rT,bic:BT,bigint:mp,blob:i4,boolean:Fu,brand:NT,bytes:OT,check:Gd,checkAsync:PT,checkItems:jT,config:D$,creditCard:RT,cuid2:DT,custom:o4,customAsync:a4,date:c4,decimal:UT,deleteGlobalConfig:E$,deleteGlobalMessage:A$,deleteSchemaMessage:S$,deleteSpecificMessage:C$,email:LT,emoji:$T,empty:zT,endsWith:FT,entriesFromList:_$,enum:Zb,enum_:Zb,everyItem:HT,excludes:qT,fallback:U$,fallbackAsync:L$,file:u4,filterItems:WT,findItem:GT,finite:VT,flatten:$$,forward:z$,forwardAsync:F$,function:Xb,function_:Xb,getDefault:Sa,getDefaults:Vb,getDefaultsAsync:Kb,getDotPath:MT,getFallback:pp,getFallbacks:Qb,getFallbacksAsync:Yb,getGlobalConfig:fp,getGlobalMessage:CT,getSchemaMessage:TT,getSpecificMessage:_T,hash:KT,hexColor:YT,hexadecimal:QT,imei:ZT,includes:XT,instance:l4,integer:an,intersect:d4,intersectAsync:f4,ip:JT,ipv4:e8,ipv6:t8,is:Mm,isOfKind:M$,isOfType:B$,isValiError:N$,isoDate:n8,isoDateTime:r8,isoTime:s8,isoTimeSecond:i8,isoTimestamp:o8,isoWeek:a8,keyof:H$,lazy:fd,lazyAsync:h4,length:c8,literal:it,looseObject:p4,looseObjectAsync:m4,looseTuple:y4,looseTupleAsync:g4,mac:u8,mac48:l8,mac64:d8,map:w4,mapAsync:b4,mapItems:f8,maxBytes:h8,maxLength:p8,maxSize:m8,maxValue:y8,mimeType:g8,minBytes:w8,minLength:b8,minSize:v8,minValue:E8,multipleOf:x8,nan:v4,never:E4,nonEmpty:A8,nonNullable:x4,nonNullableAsync:A4,nonNullish:I4,nonNullishAsync:S4,nonOptional:_E,nonOptionalAsync:ME,normalize:I8,notBytes:S8,notLength:k8,notSize:C8,notValue:T8,null:Jb,null_:Jb,nullable:At,nullableAsync:k4,nullish:wu,nullishAsync:C4,number:tn,object:Ie,objectAsync:T4,objectWithRest:_4,objectWithRestAsync:M4,octal:_8,omit:q$,optional:In,optionalAsync:BE,parse:Ht,parseAsync:G4,parser:W$,parserAsync:G$,partial:V$,partialAsync:K$,partialCheck:B8,partialCheckAsync:N8,pick:Q$,picklist:NE,pipe:Rt,pipeAsync:Y$,promise:B4,rawCheck:O8,rawCheckAsync:P8,rawTransform:j8,rawTransformAsync:R8,readonly:D8,record:hd,recordAsync:N4,reduceItems:U8,regex:L8,required:Z$,requiredAsync:X$,safeInteger:$8,safeParse:V4,safeParseAsync:K4,safeParser:J$,safeParserAsync:ez,set:O4,setAsync:P4,setGlobalConfig:v$,setGlobalMessage:x$,setSchemaMessage:I$,setSpecificMessage:k$,size:z8,someItem:F8,sortItems:H8,startsWith:q8,strictObject:j4,strictObjectAsync:R4,strictTuple:D4,strictTupleAsync:U4,string:dt,symbol:L4,toLowerCase:W8,toMaxValue:G8,toMinValue:V8,toUpperCase:K8,transform:hp,transformAsync:Q8,trim:Y8,trimEnd:Z8,trimStart:X8,tuple:Yy,tupleAsync:$4,tupleWithRest:z4,tupleWithRestAsync:F4,ulid:J8,undefined:ev,undefined_:ev,union:dr,unionAsync:H4,unknown:yc,unwrap:tz,url:e4,uuid:t4,value:n4,variant:q4,variantAsync:W4,void:tv,void_:tv},Symbol.toStringTag,{value:"Module"}));function Hu(e){const t=Object.entries(e).map(([n,r])=>Ie({[n]:r}));return Rt(dr(t),hp(n=>({...n,$kind:Object.keys(n)[0]})))}const Vd=Rt(dt(),hp(e=>bt(e)),Gd(di)),Qs=Vd,bu=dt(),Cs=Rt(dr([dt(),Rt(tn(),an())]),Gd(e=>{try{return BigInt(e),BigInt(e)>=0&&BigInt(e)<=18446744073709551615n}catch{return!1}},"Invalid u64")),gc=Ie({objectId:Vd,version:Cs,digest:dt()}),Zt=Rt(dr([Ie({GasCoin:it(!0)}),Ie({Input:Rt(tn(),an()),type:In(it("pure"))}),Ie({Input:Rt(tn(),an()),type:In(it("object"))}),Ie({Result:Rt(tn(),an())}),Ie({NestedResult:Yy([Rt(tn(),an()),Rt(tn(),an())])})]),hp(e=>({...e,$kind:Object.keys(e)[0]}))),nz=Ie({budget:At(Cs),price:At(Cs),owner:At(Vd),payment:At(nt(gc))}),nv=dr([it("address"),it("bool"),it("u8"),it("u16"),it("u32"),it("u64"),it("u128"),it("u256"),Ie({vector:fd(()=>nv)}),Ie({datatype:Ie({package:dt(),module:dt(),type:dt(),typeParameters:nt(fd(()=>nv))})}),Ie({typeParameter:Rt(tn(),an())})]),rz=Ie({ref:At(dr([it("&"),it("&mut")])),body:nv}),sz=Ie({package:Qs,module:dt(),function:dt(),typeArguments:nt(dt()),arguments:nt(Zt),_argumentTypes:In(At(nt(rz)))}),iz=Ie({name:dt(),inputs:hd(dt(),dr([Zt,nt(Zt)])),data:hd(dt(),yc())}),oz=Hu({MoveCall:sz,TransferObjects:Ie({objects:nt(Zt),address:Zt}),SplitCoins:Ie({coin:Zt,amounts:nt(Zt)}),MergeCoins:Ie({destination:Zt,sources:nt(Zt)}),Publish:Ie({modules:nt(bu),dependencies:nt(Qs)}),MakeMoveVec:Ie({type:At(dt()),elements:nt(Zt)}),Upgrade:Ie({modules:nt(bu),dependencies:nt(Qs),package:Qs,ticket:Zt}),$Intent:iz}),Q4=Hu({ImmOrOwnedObject:gc,SharedObject:Ie({objectId:Qs,initialSharedVersion:Cs,mutable:Fu()}),Receiving:gc}),az=Hu({Object:Q4,Pure:Ie({bytes:bu}),UnresolvedPure:Ie({value:yc()}),UnresolvedObject:Ie({objectId:Qs,version:In(At(Cs)),digest:In(At(dt())),initialSharedVersion:In(At(Cs)),mutable:In(At(Fu()))})}),SI=Hu({Object:Q4,Pure:Ie({bytes:bu})}),Y4=Hu({None:it(!0),Epoch:Cs}),am=Ie({version:it(2),sender:wu(Vd),expiration:wu(Y4),gasData:nz,inputs:nt(az),commands:nt(oz)}),Bi={MoveCall(e){const[t,n="",r=""]="target"in e?e.target.split("::"):[e.package,e.module,e.function];return{$kind:"MoveCall",MoveCall:{package:t,module:n,function:r,typeArguments:e.typeArguments??[],arguments:e.arguments??[]}}},TransferObjects(e,t){return{$kind:"TransferObjects",TransferObjects:{objects:e.map(n=>Ht(Zt,n)),address:Ht(Zt,t)}}},SplitCoins(e,t){return{$kind:"SplitCoins",SplitCoins:{coin:Ht(Zt,e),amounts:t.map(n=>Ht(Zt,n))}}},MergeCoins(e,t){return{$kind:"MergeCoins",MergeCoins:{destination:Ht(Zt,e),sources:t.map(n=>Ht(Zt,n))}}},Publish({modules:e,dependencies:t}){return{$kind:"Publish",Publish:{modules:e.map(n=>typeof n=="string"?n:Hn(new Uint8Array(n))),dependencies:t.map(n=>yo(n))}}},Upgrade({modules:e,dependencies:t,package:n,ticket:r}){return{$kind:"Upgrade",Upgrade:{modules:e.map(s=>typeof s=="string"?s:Hn(new Uint8Array(s))),dependencies:t.map(s=>yo(s)),package:n,ticket:Ht(Zt,r)}}},MakeMoveVec({type:e,elements:t}){return{$kind:"MakeMoveVec",MakeMoveVec:{type:e??null,elements:t.map(n=>Ht(Zt,n))}}},Intent({name:e,inputs:t={},data:n={}}){return{$kind:"$Intent",$Intent:{name:e,inputs:Object.fromEntries(Object.entries(t).map(([r,s])=>[r,Array.isArray(s)?s.map(i=>Ht(Zt,i)):Ht(Zt,s)])),data:n}}}},rv=Ie({digest:dt(),objectId:dt(),version:dr([Rt(tn(),an()),dt(),mp()])}),cz=Hu({ImmOrOwned:rv,Shared:Ie({objectId:Qs,initialSharedVersion:Cs,mutable:Fu()}),Receiving:rv}),kI=Hu({Object:cz,Pure:nt(Rt(tn(),an()))}),Z4=dr([Ie({kind:it("Input"),index:Rt(tn(),an()),value:yc(),type:In(it("object"))}),Ie({kind:it("Input"),index:Rt(tn(),an()),value:yc(),type:it("pure")})]),uz=dr([Ie({Epoch:Rt(tn(),an())}),Ie({None:At(it(!0))})]),CI=Rt(dr([tn(),dt(),mp()]),Gd(e=>{if(!["string","number","bigint"].includes(typeof e))return!1;try{return BigInt(e),!0}catch{return!1}})),PE=dr([Ie({bool:At(it(!0))}),Ie({u8:At(it(!0))}),Ie({u64:At(it(!0))}),Ie({u128:At(it(!0))}),Ie({address:At(it(!0))}),Ie({signer:At(it(!0))}),Ie({vector:fd(()=>PE)}),Ie({struct:fd(()=>lz)}),Ie({u16:At(it(!0))}),Ie({u32:At(it(!0))}),Ie({u256:At(it(!0))})]),lz=Ie({address:dt(),module:dt(),name:dt(),typeParams:nt(PE)}),dz=Ie({budget:In(CI),price:In(CI),payment:In(nt(rv)),owner:In(dt())}),fz=[Z4,Ie({kind:it("GasCoin")}),Ie({kind:it("Result"),index:Rt(tn(),an())}),Ie({kind:it("NestedResult"),index:Rt(tn(),an()),resultIndex:Rt(tn(),an())})],ha=dr([...fz]),hz=Ie({kind:it("MoveCall"),target:Rt(dt(),Gd(e=>e.split("::").length===3)),typeArguments:nt(dt()),arguments:nt(ha)}),pz=Ie({kind:it("TransferObjects"),objects:nt(ha),address:ha}),mz=Ie({kind:it("SplitCoins"),coin:ha,amounts:nt(ha)}),yz=Ie({kind:it("MergeCoins"),destination:ha,sources:nt(ha)}),gz=Ie({kind:it("MakeMoveVec"),type:dr([Ie({Some:PE}),Ie({None:At(it(!0))})]),objects:nt(ha)}),wz=Ie({kind:it("Publish"),modules:nt(nt(Rt(tn(),an()))),dependencies:nt(dt())}),bz=Ie({kind:it("Upgrade"),modules:nt(nt(Rt(tn(),an()))),dependencies:nt(dt()),packageId:dt(),ticket:ha}),vz=[hz,pz,mz,yz,wz,bz,gz],Ez=dr([...vz]);Ie({version:it(1),sender:In(dt()),expiration:wu(uz),gasConfig:dz,inputs:nt(Z4),transactions:nt(Ez)});function TI(e){var n;const t=e.inputs.map((r,s)=>{if(r.Object)return{kind:"Input",index:s,value:{Object:r.Object.ImmOrOwnedObject?{ImmOrOwned:r.Object.ImmOrOwnedObject}:r.Object.Receiving?{Receiving:{digest:r.Object.Receiving.digest,version:r.Object.Receiving.version,objectId:r.Object.Receiving.objectId}}:{Shared:{mutable:r.Object.SharedObject.mutable,initialSharedVersion:r.Object.SharedObject.initialSharedVersion,objectId:r.Object.SharedObject.objectId}}},type:"object"};if(r.Pure)return{kind:"Input",index:s,value:{Pure:Array.from(ar(r.Pure.bytes))},type:"pure"};if(r.UnresolvedPure)return{kind:"Input",type:"pure",index:s,value:r.UnresolvedPure.value};if(r.UnresolvedObject)return{kind:"Input",type:"object",index:s,value:r.UnresolvedObject.objectId};throw new Error("Invalid input")});return{version:1,sender:e.sender??void 0,expiration:((n=e.expiration)==null?void 0:n.$kind)==="Epoch"?{Epoch:Number(e.expiration.Epoch)}:e.expiration?{None:!0}:null,gasConfig:{owner:e.gasData.owner??void 0,budget:e.gasData.budget??void 0,price:e.gasData.price??void 0,payment:e.gasData.payment??void 0},inputs:t,transactions:e.commands.map(r=>{if(r.MakeMoveVec)return{kind:"MakeMoveVec",type:r.MakeMoveVec.type===null?{None:!0}:{Some:ji.parseFromStr(r.MakeMoveVec.type)},objects:r.MakeMoveVec.elements.map(s=>Mo(s,t))};if(r.MergeCoins)return{kind:"MergeCoins",destination:Mo(r.MergeCoins.destination,t),sources:r.MergeCoins.sources.map(s=>Mo(s,t))};if(r.MoveCall)return{kind:"MoveCall",target:`${r.MoveCall.package}::${r.MoveCall.module}::${r.MoveCall.function}`,typeArguments:r.MoveCall.typeArguments,arguments:r.MoveCall.arguments.map(s=>Mo(s,t))};if(r.Publish)return{kind:"Publish",modules:r.Publish.modules.map(s=>Array.from(ar(s))),dependencies:r.Publish.dependencies};if(r.SplitCoins)return{kind:"SplitCoins",coin:Mo(r.SplitCoins.coin,t),amounts:r.SplitCoins.amounts.map(s=>Mo(s,t))};if(r.TransferObjects)return{kind:"TransferObjects",objects:r.TransferObjects.objects.map(s=>Mo(s,t)),address:Mo(r.TransferObjects.address,t)};if(r.Upgrade)return{kind:"Upgrade",modules:r.Upgrade.modules.map(s=>Array.from(ar(s))),dependencies:r.Upgrade.dependencies,packageId:r.Upgrade.package,ticket:Mo(r.Upgrade.ticket,t)};throw new Error(`Unknown transaction ${Object.keys(r)}`)})}}function Mo(e,t){if(e.$kind==="GasCoin")return{kind:"GasCoin"};if(e.$kind==="Result")return{kind:"Result",index:e.Result};if(e.$kind==="NestedResult")return{kind:"NestedResult",index:e.NestedResult[0],resultIndex:e.NestedResult[1]};if(e.$kind==="Input")return t[e.Input];throw new Error(`Invalid argument ${Object.keys(e)}`)}function xz(e){var t,n,r;return Ht(am,{version:2,sender:e.sender??null,expiration:e.expiration?"Epoch"in e.expiration?{Epoch:e.expiration.Epoch}:{None:!0}:null,gasData:{owner:e.gasConfig.owner??null,budget:((t=e.gasConfig.budget)==null?void 0:t.toString())??null,price:((n=e.gasConfig.price)==null?void 0:n.toString())??null,payment:((r=e.gasConfig.payment)==null?void 0:r.map(s=>({digest:s.digest,objectId:s.objectId,version:s.version.toString()})))??null},inputs:e.inputs.map(s=>{if(s.kind==="Input"){if(Mm(kI,s.value)){const i=Ht(kI,s.value);if(i.Object){if(i.Object.ImmOrOwned)return{Object:{ImmOrOwnedObject:{objectId:i.Object.ImmOrOwned.objectId,version:String(i.Object.ImmOrOwned.version),digest:i.Object.ImmOrOwned.digest}}};if(i.Object.Shared)return{Object:{SharedObject:{mutable:i.Object.Shared.mutable??null,initialSharedVersion:i.Object.Shared.initialSharedVersion,objectId:i.Object.Shared.objectId}}};if(i.Object.Receiving)return{Object:{Receiving:{digest:i.Object.Receiving.digest,version:String(i.Object.Receiving.version),objectId:i.Object.Receiving.objectId}}};throw new Error("Invalid object input")}return{Pure:{bytes:Hn(new Uint8Array(i.Pure))}}}return s.type==="object"?{UnresolvedObject:{objectId:s.value}}:{UnresolvedPure:{value:s.value}}}throw new Error("Invalid input")}),commands:e.transactions.map(s=>{switch(s.kind){case"MakeMoveVec":return{MakeMoveVec:{type:"Some"in s.type?ji.tagToString(s.type.Some):null,elements:s.objects.map(i=>Bo(i))}};case"MergeCoins":return{MergeCoins:{destination:Bo(s.destination),sources:s.sources.map(i=>Bo(i))}};case"MoveCall":{const[i,o,a]=s.target.split("::");return{MoveCall:{package:i,module:o,function:a,typeArguments:s.typeArguments,arguments:s.arguments.map(c=>Bo(c))}}}case"Publish":return{Publish:{modules:s.modules.map(i=>Hn(Uint8Array.from(i))),dependencies:s.dependencies}};case"SplitCoins":return{SplitCoins:{coin:Bo(s.coin),amounts:s.amounts.map(i=>Bo(i))}};case"TransferObjects":return{TransferObjects:{objects:s.objects.map(i=>Bo(i)),address:Bo(s.address)}};case"Upgrade":return{Upgrade:{modules:s.modules.map(i=>Hn(Uint8Array.from(i))),dependencies:s.dependencies,package:s.packageId,ticket:Bo(s.ticket)}}}throw new Error(`Unknown transaction ${Object.keys(s)}`)})})}function Bo(e){switch(e.kind){case"GasCoin":return{GasCoin:!0};case"Result":return{Result:e.index};case"NestedResult":return{NestedResult:[e.index,e.resultIndex]};case"Input":return{Input:e.index}}}function yp(e){return dr(Object.entries(e).map(([t,n])=>Ie({[t]:n})))}const Ti=yp({GasCoin:it(!0),Input:Rt(tn(),an()),Result:Rt(tn(),an()),NestedResult:Yy([Rt(tn(),an()),Rt(tn(),an())])}),Az=Ie({budget:At(Cs),price:At(Cs),owner:At(Vd),payment:At(nt(gc))}),Iz=Ie({package:Qs,module:dt(),function:dt(),typeArguments:nt(dt()),arguments:nt(Ti)}),Sz=Ie({name:dt(),inputs:hd(dt(),dr([Ti,nt(Ti)])),data:hd(dt(),yc())}),kz=yp({MoveCall:Iz,TransferObjects:Ie({objects:nt(Ti),address:Ti}),SplitCoins:Ie({coin:Ti,amounts:nt(Ti)}),MergeCoins:Ie({destination:Ti,sources:nt(Ti)}),Publish:Ie({modules:nt(bu),dependencies:nt(Qs)}),MakeMoveVec:Ie({type:At(dt()),elements:nt(Ti)}),Upgrade:Ie({modules:nt(bu),dependencies:nt(Qs),package:Qs,ticket:Ti}),$Intent:Sz}),Cz=yp({ImmOrOwnedObject:gc,SharedObject:Ie({objectId:Qs,initialSharedVersion:Cs,mutable:Fu()}),Receiving:gc}),Tz=yp({Object:Cz,Pure:Ie({bytes:bu}),UnresolvedPure:Ie({value:yc()}),UnresolvedObject:Ie({objectId:Qs,version:In(At(Cs)),digest:In(At(dt())),initialSharedVersion:In(At(Cs)),mutable:In(At(Fu()))})}),_z=yp({None:it(!0),Epoch:Cs}),Mz=Ie({version:it(2),sender:wu(Vd),expiration:wu(_z),gasData:Az,inputs:nt(Tz),commands:nt(kz),digest:In(At(dt()))}),Bz=50,Nz=1000n,Oz=5e10;function X4(e){return async function(n,r,s){return await Uz(n,e),await Dz(n,e),r.onlyTransactionKind||(await Pz(n,e),await jz(n,e),await Rz(n,e)),await s()}}async function Pz(e,t){e.gasConfig.price||(e.gasConfig.price=String(await t.getReferenceGasPrice()))}async function jz(e,t){if(e.gasConfig.budget)return;const n=await t.dryRunTransactionBlock({transactionBlock:e.build({overrides:{gasData:{budget:String(Oz),payment:[]}}})});if(n.effects.status.status!=="success")throw new Error(`Dry run failed, could not automatically determine a budget: ${n.effects.status.error}`,{cause:n});const r=Nz*BigInt(e.gasConfig.price||1n),s=BigInt(n.effects.gasUsed.computationCost)+r,i=s+BigInt(n.effects.gasUsed.storageCost)-BigInt(n.effects.gasUsed.storageRebate);e.gasConfig.budget=String(i>s?i:s)}async function Rz(e,t){if(!e.gasConfig.payment){const r=(await t.getCoins({owner:e.gasConfig.owner||e.sender,coinType:tL})).data.filter(s=>!e.inputs.find(o=>{var a;return(a=o.Object)!=null&&a.ImmOrOwnedObject?s.coinObjectId===o.Object.ImmOrOwnedObject.objectId:!1})).map(s=>({objectId:s.coinObjectId,digest:s.digest,version:s.version}));if(!r.length)throw new Error("No valid gas coins found for the transaction.");e.gasConfig.payment=r.map(s=>Ht(gc,s))}}async function Dz(e,t){const n=e.inputs.filter(l=>{var f;return l.UnresolvedObject&&!(l.UnresolvedObject.version||(f=l.UnresolvedObject)!=null&&f.initialSharedVersion)}),r=[...new Set(n.map(l=>yo(l.UnresolvedObject.objectId)))],s=r.length?up(r,Bz):[],i=(await Promise.all(s.map(l=>t.multiGetObjects({ids:l,options:{showOwner:!0}})))).flat(),o=new Map(r.map((l,f)=>[l,i[f]])),a=Array.from(o).filter(([l,f])=>f.error).map(([l,f])=>JSON.stringify(f.error));if(a.length)throw new Error(`The following input objects are invalid: ${a.join(", ")}`);const c=i.map(l=>{if(l.error||!l.data)throw new Error(`Failed to fetch object: ${l.error}`);const f=l.data.owner,d=f&&typeof f=="object"?"Shared"in f?f.Shared.initial_shared_version:"ConsensusAddressOwner"in f?f.ConsensusAddressOwner.start_version:null:null;return{objectId:l.data.objectId,digest:l.data.digest,version:l.data.version,initialSharedVersion:d}}),u=new Map(r.map((l,f)=>[l,c[f]]));for(const[l,f]of e.inputs.entries()){if(!f.UnresolvedObject)continue;let d;const h=bt(f.UnresolvedObject.objectId),p=u.get(h);f.UnresolvedObject.initialSharedVersion??(p==null?void 0:p.initialSharedVersion)?d=Vs.SharedObjectRef({objectId:h,initialSharedVersion:f.UnresolvedObject.initialSharedVersion||(p==null?void 0:p.initialSharedVersion),mutable:f.UnresolvedObject.mutable||Lz(e,l)}):$z(e,l)&&(d=Vs.ReceivingRef({objectId:h,digest:f.UnresolvedObject.digest??(p==null?void 0:p.digest),version:f.UnresolvedObject.version??(p==null?void 0:p.version)})),e.inputs[e.inputs.indexOf(f)]=d??Vs.ObjectRef({objectId:h,digest:f.UnresolvedObject.digest??(p==null?void 0:p.digest),version:f.UnresolvedObject.version??(p==null?void 0:p.version)})}}async function Uz(e,t){const{inputs:n,commands:r}=e,s=[],i=new Set;r.forEach(a=>{if(a.MoveCall){if(a.MoveCall._argumentTypes)return;if(a.MoveCall.arguments.map(l=>l.$kind==="Input"?e.inputs[l.Input]:null).some(l=>(l==null?void 0:l.UnresolvedPure)||(l==null?void 0:l.UnresolvedObject)&&typeof(l==null?void 0:l.UnresolvedObject.mutable)!="boolean")){const l=`${a.MoveCall.package}::${a.MoveCall.module}::${a.MoveCall.function}`;i.add(l),s.push(a.MoveCall)}}});const o=new Map;i.size>0&&await Promise.all([...i].map(async a=>{const[c,u,l]=a.split("::"),f=await t.getNormalizedMoveFunction({package:c,module:u,function:l});o.set(a,f.parameters.map(d=>w$(d)))})),s.length&&await Promise.all(s.map(async a=>{const c=o.get(`${a.package}::${a.module}::${a.function}`);if(!c)return;const l=c.length>0&&g$(c.at(-1))?c.slice(0,c.length-1):c;a._argumentTypes=l})),r.forEach(a=>{if(!a.MoveCall)return;const c=a.MoveCall,u=`${c.package}::${c.module}::${c.function}`,l=c._argumentTypes;if(l){if(l.length!==a.MoveCall.arguments.length)throw new Error(`Incorrect number of arguments for ${u}`);l.forEach((f,d)=>{var I,v;const h=c.arguments[d];if(h.$kind!=="Input")return;const p=n[h.Input];if(!p.UnresolvedPure&&!p.UnresolvedObject)return;const m=((I=p.UnresolvedPure)==null?void 0:I.value)??((v=p.UnresolvedObject)==null?void 0:v.objectId),y=Gb(f.body);if(y){h.type="pure",n[n.indexOf(p)]=Vs.Pure(y.serialize(m));return}if(typeof m!="string")throw new Error(`Expect the argument to be an object id string, got ${JSON.stringify(m,null,2)}`);h.type="object";const b=p.UnresolvedPure?{$kind:"UnresolvedObject",UnresolvedObject:{objectId:m}}:p;n[h.Input]=b})}})}function Lz(e,t){let n=!1;return e.getInputUses(t,(r,s)=>{if(s.MoveCall&&s.MoveCall._argumentTypes){const i=s.MoveCall.arguments.indexOf(r);n=s.MoveCall._argumentTypes[i].ref!=="&"||n}(s.$kind==="MakeMoveVec"||s.$kind==="MergeCoins"||s.$kind==="SplitCoins"||s.$kind==="TransferObjects")&&(n=!0)}),n}function $z(e,t){let n=!1;return e.getInputUses(t,(r,s)=>{if(s.MoveCall&&s.MoveCall._argumentTypes){const i=s.MoveCall.arguments.indexOf(r);n=zz(s.MoveCall._argumentTypes[i])||n}}),n}function zz(e){return typeof e.body!="object"||!("datatype"in e.body)?!1:e.body.datatype.package==="0x2"&&e.body.datatype.module==="transfer"&&e.body.datatype.type==="Receiving"}function J4(e,t){return!!(e.inputs.some(n=>n.UnresolvedObject||n.UnresolvedPure)||!t.onlyTransactionKind&&(!e.gasConfig.price||!e.gasConfig.budget||!e.gasConfig.payment))}async function Fz(e,t,n){var i;if(Hz(e),!J4(e,t))return await _I(e),n();const r=e_(t);return(((i=r.core)==null?void 0:i.resolveTransactionPlugin())??X4(r))(e,t,async()=>{await _I(e),await n()})}function _I(e){e.inputs.forEach((t,n)=>{if(t.$kind!=="Object"&&t.$kind!=="Pure")throw new Error(`Input at index ${n} has not been resolved.  Expected a Pure or Object input, but found ${JSON.stringify(t)}`)})}function e_(e){if(!e.client)throw new Error("No sui client passed to Transaction#build, but transaction data was not sufficient to build offline.");return e.client}function Hz(e){for(const t of e.commands)switch(t.$kind){case"SplitCoins":t.SplitCoins.amounts.forEach(n=>{MI(n,at.U64,e)});break;case"TransferObjects":MI(t.TransferObjects.address,at.Address,e);break}}function MI(e,t,n){if(e.$kind!=="Input")return;const r=n.inputs[e.Input];r.$kind==="UnresolvedPure"&&(n.inputs[e.Input]=Vs.Pure(t.serialize(r.UnresolvedPure.value)))}function qz(e){function t(n){return e(n)}return t.system=n=>{const r=n==null?void 0:n.mutable;return t(r!==void 0?Vs.SharedObjectRef({objectId:"0x5",initialSharedVersion:1,mutable:r}):{$kind:"UnresolvedObject",UnresolvedObject:{objectId:"0x5",initialSharedVersion:1}})},t.clock=()=>t(Vs.SharedObjectRef({objectId:"0x6",initialSharedVersion:1,mutable:!1})),t.random=()=>t({$kind:"UnresolvedObject",UnresolvedObject:{objectId:"0x8",mutable:!1}}),t.denyList=n=>t({$kind:"UnresolvedObject",UnresolvedObject:{objectId:"0x403",mutable:n==null?void 0:n.mutable}}),t.option=({type:n,value:r})=>s=>s.moveCall({typeArguments:[n],target:`0x1::option::${r===null?"none":"some"}`,arguments:r===null?[]:[s.object(r)]}),t}function Wz(e){function t(n,r){if(typeof n=="string")return e(Jf(n).serialize(r));if(n instanceof Uint8Array||qy(n))return e(n);throw new Error("tx.pure must be called either a bcs type name, or a serialized bcs value")}return t.u8=n=>e(at.U8.serialize(n)),t.u16=n=>e(at.U16.serialize(n)),t.u32=n=>e(at.U32.serialize(n)),t.u64=n=>e(at.U64.serialize(n)),t.u128=n=>e(at.U128.serialize(n)),t.u256=n=>e(at.U256.serialize(n)),t.bool=n=>e(at.Bool.serialize(n)),t.string=n=>e(at.String.serialize(n)),t.address=n=>e(at.Address.serialize(n)),t.id=t.address,t.vector=(n,r)=>e(at.vector(Jf(n)).serialize(r)),t.option=(n,r)=>e(at.option(Jf(n)).serialize(r)),t}function Gz(e,t){const n=Array.from(`${e}::`).map(s=>s.charCodeAt(0)),r=new Uint8Array(n.length+t.length);return r.set(n),r.set(t,n.length),IE(r,{dkLen:32})}function BI(e){return bt(e).replace("0x","")}class gs{constructor(t){this.version=2,this.sender=(t==null?void 0:t.sender)??null,this.expiration=(t==null?void 0:t.expiration)??null,this.inputs=(t==null?void 0:t.inputs)??[],this.commands=(t==null?void 0:t.commands)??[],this.gasData=(t==null?void 0:t.gasData)??{budget:null,price:null,owner:null,payment:null}}static fromKindBytes(t){const r=at.TransactionKind.parse(t).ProgrammableTransaction;if(!r)throw new Error("Unable to deserialize from bytes.");return gs.restore({version:2,sender:null,expiration:null,gasData:{budget:null,owner:null,payment:null,price:null},inputs:r.inputs,commands:r.commands})}static fromBytes(t){const n=at.TransactionData.parse(t),r=n==null?void 0:n.V1,s=r.kind.ProgrammableTransaction;if(!r||!s)throw new Error("Unable to deserialize from bytes.");return gs.restore({version:2,sender:r.sender,expiration:r.expiration,gasData:r.gasData,inputs:s.inputs,commands:s.commands})}static restore(t){return t.version===2?new gs(Ht(am,t)):new gs(Ht(am,xz(t)))}static getDigestFromBytes(t){const n=Gz("TransactionData",t);return $u(n)}get gasConfig(){return this.gasData}set gasConfig(t){this.gasData=t}build({maxSizeBytes:t=1/0,overrides:n,onlyTransactionKind:r}={}){const s=this.inputs,i=this.commands,o={ProgrammableTransaction:{inputs:s,commands:i}};if(r)return at.TransactionKind.serialize(o,{maxSize:t}).toBytes();const a=(n==null?void 0:n.expiration)??this.expiration,c=(n==null?void 0:n.sender)??this.sender,u={...this.gasData,...n==null?void 0:n.gasConfig,...n==null?void 0:n.gasData};if(!c)throw new Error("Missing transaction sender");if(!u.budget)throw new Error("Missing gas budget");if(!u.payment)throw new Error("Missing gas payment");if(!u.price)throw new Error("Missing gas price");const l={sender:BI(c),expiration:a||{None:!0},gasData:{payment:u.payment,owner:BI(this.gasData.owner??c),price:BigInt(u.price),budget:BigInt(u.budget)},kind:{ProgrammableTransaction:{inputs:s,commands:i}}};return at.TransactionData.serialize({V1:l},{maxSize:t}).toBytes()}addInput(t,n){const r=this.inputs.length;return this.inputs.push(n),{Input:r,type:t,$kind:"Input"}}getInputUses(t,n){this.mapArguments((r,s)=>(r.$kind==="Input"&&r.Input===t&&n(r,s),r))}mapCommandArguments(t,n){const r=this.commands[t];switch(r.$kind){case"MoveCall":r.MoveCall.arguments=r.MoveCall.arguments.map(i=>n(i,r,t));break;case"TransferObjects":r.TransferObjects.objects=r.TransferObjects.objects.map(i=>n(i,r,t)),r.TransferObjects.address=n(r.TransferObjects.address,r,t);break;case"SplitCoins":r.SplitCoins.coin=n(r.SplitCoins.coin,r,t),r.SplitCoins.amounts=r.SplitCoins.amounts.map(i=>n(i,r,t));break;case"MergeCoins":r.MergeCoins.destination=n(r.MergeCoins.destination,r,t),r.MergeCoins.sources=r.MergeCoins.sources.map(i=>n(i,r,t));break;case"MakeMoveVec":r.MakeMoveVec.elements=r.MakeMoveVec.elements.map(i=>n(i,r,t));break;case"Upgrade":r.Upgrade.ticket=n(r.Upgrade.ticket,r,t);break;case"$Intent":const s=r.$Intent.inputs;r.$Intent.inputs={};for(const[i,o]of Object.entries(s))r.$Intent.inputs[i]=Array.isArray(o)?o.map(a=>n(a,r,t)):n(o,r,t);break;case"Publish":break;default:throw new Error(`Unexpected transaction kind: ${r.$kind}`)}}mapArguments(t){for(const n of this.commands.keys())this.mapCommandArguments(n,t)}replaceCommand(t,n,r=t){if(!Array.isArray(n)){this.commands[t]=n;return}const s=n.length-1;this.commands.splice(t,1,...n),s!==0&&this.mapArguments((i,o,a)=>{if(a<t+n.length)return i;switch(i.$kind){case"Result":i.Result===t&&(i.Result=r),i.Result>t&&(i.Result+=s);break;case"NestedResult":i.NestedResult[0]===t&&(i.NestedResult[0]=r),i.NestedResult[0]>t&&(i.NestedResult[0]+=s);break}return i})}getDigest(){const t=this.build({onlyTransactionKind:!1});return gs.getDigestFromBytes(t)}snapshot(){return Ht(am,this)}shallowClone(){return new gs({version:this.version,sender:this.sender,expiration:this.expiration,gasData:{...this.gasData},inputs:[...this.inputs],commands:[...this.commands]})}applyResolvedData(t){this.sender||(this.sender=t.sender??null),this.expiration||(this.expiration=t.expiration??null),this.gasData.budget||(this.gasData.budget=t.gasData.budget),this.gasData.owner||(this.gasData.owner=t.gasData.owner??null),this.gasData.payment||(this.gasData.payment=t.gasData.payment),this.gasData.price||(this.gasData.price=t.gasData.price);for(let n=0;n<this.inputs.length;n++){const r=this.inputs[n],s=t.inputs[n];switch(r.$kind){case"UnresolvedPure":if(s.$kind!=="Pure")throw new Error(`Expected input at index ${n} to resolve to a Pure argument, but got ${JSON.stringify(s)}`);this.inputs[n]=s;break;case"UnresolvedObject":if(s.$kind!=="Object")throw new Error(`Expected input at index ${n} to resolve to an Object argument, but got ${JSON.stringify(s)}`);if(s.Object.$kind==="ImmOrOwnedObject"||s.Object.$kind==="Receiving"){const i=r.UnresolvedObject,o=s.Object.ImmOrOwnedObject??s.Object.Receiving;if(bt(i.objectId)!==bt(o.objectId)||i.version!=null&&i.version!==o.version||i.digest!=null&&i.digest!==o.digest||i.mutable!=null||i.initialSharedVersion!=null)throw new Error(`Input at index ${n} did not match unresolved object. ${JSON.stringify(i)} is not compatible with ${JSON.stringify(o)}`)}else if(s.Object.$kind==="SharedObject"){const i=r.UnresolvedObject,o=s.Object.SharedObject;if(bt(i.objectId)!==bt(o.objectId)||i.initialSharedVersion!=null&&i.initialSharedVersion!==o.initialSharedVersion||i.mutable!=null&&i.mutable!==o.mutable||i.version!=null||i.digest!=null)throw new Error(`Input at index ${n} did not match unresolved object. ${JSON.stringify(i)} is not compatible with ${JSON.stringify(o)}`)}else throw new Error(`Input at index ${n} resolved to an unexpected Object kind: ${JSON.stringify(s.Object)}`);this.inputs[n]=s;break}}}}function NI(e){if(typeof e=="string")return bt(e);if(e.Object)return e.Object.ImmOrOwnedObject?bt(e.Object.ImmOrOwnedObject.objectId):e.Object.Receiving?bt(e.Object.Receiving.objectId):bt(e.Object.SharedObject.objectId);if(e.UnresolvedObject)return bt(e.UnresolvedObject.objectId)}var t_=e=>{throw TypeError(e)},n_=(e,t,n)=>t.has(e)||t_("Cannot "+n),Or=(e,t,n)=>(n_(e,t,"read from private field"),t.get(e)),OI=(e,t,n)=>t.has(e)?t_("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),PI=(e,t,n,r)=>(n_(e,t,"write to private field"),t.set(e,n),n),Rc,Kr;const Vz=class r_{constructor({prefix:t,cache:n}={}){OI(this,Rc),OI(this,Kr),PI(this,Rc,t??[]),PI(this,Kr,n??new Map)}read(t,n){const r=[Or(this,Rc),...t].join(":");if(Or(this,Kr).has(r))return Or(this,Kr).get(r);const s=n();return Or(this,Kr).set(r,s),typeof s=="object"&&s!==null&&"then"in s?Promise.resolve(s).then(i=>(Or(this,Kr).set(r,i),i)).catch(i=>{throw Or(this,Kr).delete(r),i}):s}readSync(t,n){const r=[Or(this,Rc),...t].join(":");if(Or(this,Kr).has(r))return Or(this,Kr).get(r);const s=n();return Or(this,Kr).set(r,s),s}clear(t){const n=[...Or(this,Rc),...t??[]].join(":");if(!n){Or(this,Kr).clear();return}for(const r of Or(this,Kr).keys())r.startsWith(n)&&Or(this,Kr).delete(r)}scope(t){return new r_({prefix:[...Or(this,Rc),...Array.isArray(t)?t:[t]],cache:Or(this,Kr)})}};Rc=new WeakMap;Kr=new WeakMap;let Kz=Vz;const s_="1.43.1",Qz="1.60.0";var i_=e=>{throw TypeError(e)},jE=(e,t,n)=>t.has(e)||i_("Cannot "+n),Vn=(e,t,n)=>(jE(e,t,"read from private field"),n?n.call(e):t.get(e)),If=(e,t,n)=>t.has(e)?i_("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),o0=(e,t,n,r)=>(jE(e,t,"write to private field"),t.set(e,n),n),Zy=(e,t,n)=>(jE(e,t,"access private method"),n),ph,pa,mh,Ka,po,sv,iv,o_,a_,RE;const Yz="/",Zz={"Mvr-Source":`@mysten/sui@${s_}`};class Xz{constructor({cache:t,url:n,pageSize:r=50,overrides:s}){If(this,po),If(this,ph),If(this,pa),If(this,mh),If(this,Ka),o0(this,ph,t),o0(this,pa,n),o0(this,mh,r),o0(this,Ka,{packages:s==null?void 0:s.packages,types:s==null?void 0:s.types}),Jz(Vn(this,Ka))}async resolvePackage({package:t}){return qr(t)?{package:await Vn(this,po,sv).load(t)}:{package:t}}async resolveType({type:t}){if(!qr(t))return{type:t};const n=[...ov(t)],r=await Vn(this,po,iv).loadMany(n),s={};for(let i=0;i<n.length;i++){const o=r[i];if(o instanceof Error)throw o;s[n[i]]=o}return{type:av(t,s)}}async resolve({types:t=[],packages:n=[]}){var l,f,d;const r=new Set;for(const h of t??[])ov(h,r);const s=[...r],[i,o]=await Promise.all([s.length>0?Vn(this,po,iv).loadMany(s):[],n.length>0?Vn(this,po,sv).loadMany(n):[]]),a={...(l=Vn(this,Ka))==null?void 0:l.types};for(const[h,p]of s.entries()){const m=i[h];if(m instanceof Error)throw m;a[p]=m}const c={};for(const h of t??[]){const p=av(h,a);c[h]={type:p}}const u={};for(const[h,p]of(n??[]).entries()){const m=((d=(f=Vn(this,Ka))==null?void 0:f.packages)==null?void 0:d[p])??o[h];if(m instanceof Error)throw m;u[p]={package:m}}return{types:c,packages:u}}}ph=new WeakMap;pa=new WeakMap;mh=new WeakMap;Ka=new WeakMap;po=new WeakSet;sv=function(){return Vn(this,ph).readSync(["#mvrPackageDataLoader",Vn(this,pa)??""],()=>{var n;const e=new mE(async r=>{if(!Vn(this,pa))throw new Error(`MVR Api URL is not set for the current client (resolving ${r.join(", ")})`);const s=await Zy(this,po,o_).call(this,r);return r.map(i=>s[i]??new Error(`Failed to resolve package: ${i}`))}),t=(n=Vn(this,Ka))==null?void 0:n.packages;if(t)for(const[r,s]of Object.entries(t))e.prime(r,s);return e})};iv=function(){return Vn(this,ph).readSync(["#mvrTypeDataLoader",Vn(this,pa)??""],()=>{var n;const e=new mE(async r=>{if(!Vn(this,pa))throw new Error(`MVR Api URL is not set for the current client (resolving ${r.join(", ")})`);const s=await Zy(this,po,a_).call(this,r);return r.map(i=>s[i]??new Error(`Failed to resolve type: ${i}`))}),t=(n=Vn(this,Ka))==null?void 0:n.types;if(t)for(const[r,s]of Object.entries(t))e.prime(r,s);return e})};o_=async function(e){if(e.length===0)return{};const t=up(e,Vn(this,mh)),n={};return await Promise.all(t.map(async r=>{var i;const s=await Zy(this,po,RE).call(this,"/v1/resolution/bulk",{names:r});if(s!=null&&s.resolution)for(const o of Object.keys(s==null?void 0:s.resolution)){const a=(i=s.resolution[o])==null?void 0:i.package_id;a&&(n[o]=a)}})),n};a_=async function(e){if(e.length===0)return{};const t=up(e,Vn(this,mh)),n={};return await Promise.all(t.map(async r=>{var i;const s=await Zy(this,po,RE).call(this,"/v1/struct-definition/bulk",{types:r});if(s!=null&&s.resolution)for(const o of Object.keys(s==null?void 0:s.resolution)){const a=(i=s.resolution[o])==null?void 0:i.type_tag;a&&(n[o]=a)}})),n};RE=async function(e,t){if(!Vn(this,pa))throw new Error("MVR Api URL is not set for the current client");const n=await fetch(`${Vn(this,pa)}${e}`,{method:"POST",headers:{"Content-Type":"application/json",...Zz},body:JSON.stringify(t)});if(!n.ok){const r=await n.json().catch(()=>({}));throw new Error(`Failed to resolve types: ${r==null?void 0:r.message}`)}return n.json()};function Jz(e){if(e!=null&&e.packages)for(const[t,n]of Object.entries(e.packages)){if(!Rs(t))throw new Error(`Invalid package name: ${t}`);if(!di(bt(n)))throw new Error(`Invalid package ID: ${n}`)}if(e!=null&&e.types)for(const[t,n]of Object.entries(e.types)){if(gu(t).typeParams.length>0)throw new Error("Type overrides must be first-level only. If you want to supply generic types, just pass each type individually.");const r=gu(n);if(!di(r.address))throw new Error(`Invalid type: ${n}`)}}function ov(e,t=new Set){if(typeof e=="string"&&!qr(e))return t;const n=c_(e)?e:gu(e);qr(n.address)&&t.add(`${n.address}::${n.module}::${n.name}`);for(const r of n.typeParams)ov(r,t);return t}function av(e,t){const n=c_(e)?e:gu(e),r=`${n.address}::${n.module}::${n.name}`,s=t[r];return ld({...n,address:s?s.split("::")[0]:n.address,typeParams:n.typeParams.map(i=>av(i,t))})}function qr(e){return e.includes(Yz)||e.includes("@")||e.includes(".sui")}function c_(e){return typeof e=="object"&&"address"in e&&"module"in e&&"name"in e&&"typeParams"in e}function eF(e){const t=new Set,n=new Set;for(const r of e.commands)switch(r.$kind){case"MakeMoveVec":r.MakeMoveVec.type&&jI([r.MakeMoveVec.type]).forEach(o=>{n.add(o)});break;case"MoveCall":const s=r.MoveCall,i=s.package.split("::")[0];if(qr(i)){if(!Rs(i))throw new Error(`Invalid package name: ${i}`);t.add(i)}jI(s.typeArguments??[]).forEach(o=>{n.add(o)});break}return{packages:[...t],types:[...n]}}function tF(e,t){var n;for(const r of e.commands){if((n=r.MakeMoveVec)!=null&&n.type){if(!qr(r.MakeMoveVec.type))continue;if(!t.types[r.MakeMoveVec.type])throw new Error(`No resolution found for type: ${r.MakeMoveVec.type}`);r.MakeMoveVec.type=t.types[r.MakeMoveVec.type].type}const s=r.MoveCall;if(!s)continue;const i=s.package.split("::"),o=i[0];if(qr(o)&&!t.packages[o])throw new Error(`No address found for package: ${o}`);qr(o)&&(i[0]=t.packages[o].package,s.package=i.join("::"));const a=s.typeArguments;if(a){for(let c=0;c<a.length;c++)if(qr(a[c])){if(!t.types[a[c]])throw new Error(`No resolution found for type: ${a[c]}`);a[c]=t.types[a[c]].type}s.typeArguments=a}}}function jI(e){const t=new Set;for(const n of e)if(qr(n)){if(!QU(n))throw new Error(`Invalid type with names: ${n}`);t.add(n)}return t}const nF=e=>async(t,n,r)=>{const s=eF(t);if(s.types.length===0&&s.packages.length===0)return r();const i=await rF(n).core.mvr.resolve({types:s.types,packages:s.packages});tF(t,i),await r()};function rF(e){if(!e.client)throw new Error("No sui client passed to Transaction#build, but transaction data was not sufficient to build offline.");return e.client}var u_=e=>{throw TypeError(e)},DE=(e,t,n)=>t.has(e)||u_("Cannot "+n),be=(e,t,n)=>(DE(e,t,"read from private field"),n?n.call(e):t.get(e)),ro=(e,t,n)=>t.has(e)?u_("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),$t=(e,t,n,r)=>(DE(e,t,"write to private field"),t.set(e,n),n),Gn=(e,t,n)=>(DE(e,t,"access private method"),n),Gc,hu,zo,wo,pi,mi,Di,Qa,Ke,vn,l_,cm,um,lm,Om,cv,UE,d_,f_;function Jw(e,t=1/0){const n={$kind:"Result",get Result(){return typeof e=="function"?e():e}},r=[],s=i=>r[i]??(r[i]={$kind:"NestedResult",get NestedResult(){return[typeof e=="function"?e():e,i]}});return new Proxy(n,{set(){throw new Error("The transaction result is a proxy, and does not support setting properties directly")},get(i,o){if(o in i)return Reflect.get(i,o);if(o===Symbol.iterator)return function*(){let c=0;for(;c<t;)yield s(c),c++};if(typeof o=="symbol")return;const a=parseInt(o,10);if(!(Number.isNaN(a)||a<0))return s(a)}})}const h_=Symbol.for("@mysten/transaction");function p_(e){return!!e&&typeof e=="object"&&e[h_]===!0}const RI={buildPlugins:new Map,serializationPlugins:new Map},e1=Symbol.for("@mysten/transaction/registry");function Sf(){try{const e=globalThis;return e[e1]||(e[e1]=RI),e[e1]}catch{return RI}}const m_=class uv{constructor(){ro(this,vn),ro(this,Gc),ro(this,hu),ro(this,zo,new Map),ro(this,wo,[]),ro(this,pi,[]),ro(this,mi,new Set),ro(this,Di,new Set),ro(this,Qa,new Map),ro(this,Ke),this.object=qz(n=>{var i,o;if(typeof n=="function")return this.object(this.add(n));if(typeof n=="object"&&Mm(Zt,n))return n;const r=NI(n),s=be(this,Ke).inputs.find(a=>r===NI(a));return(i=s==null?void 0:s.Object)!=null&&i.SharedObject&&typeof n=="object"&&((o=n.Object)!=null&&o.SharedObject)&&(s.Object.SharedObject.mutable=s.Object.SharedObject.mutable||n.Object.SharedObject.mutable),s?{$kind:"Input",Input:be(this,Ke).inputs.indexOf(s),type:"object"}:Gn(this,vn,um).call(this,"object",typeof n=="string"?{$kind:"UnresolvedObject",UnresolvedObject:{objectId:bt(n)}}:n)});const t=Sf();$t(this,Ke,new gs),$t(this,hu,[...t.buildPlugins.values()]),$t(this,Gc,[...t.serializationPlugins.values()])}static fromKind(t){const n=new uv;return $t(n,Ke,gs.fromKindBytes(typeof t=="string"?ar(t):t)),$t(n,wo,be(n,Ke).inputs.slice()),$t(n,pi,be(n,Ke).commands.slice()),$t(n,mi,new Set(be(n,pi).map((r,s)=>s))),n}static from(t){const n=new uv;return p_(t)?$t(n,Ke,gs.restore(t.getData())):typeof t!="string"||!t.startsWith("{")?$t(n,Ke,gs.fromBytes(typeof t=="string"?ar(t):t)):$t(n,Ke,gs.restore(JSON.parse(t))),$t(n,wo,be(n,Ke).inputs.slice()),$t(n,pi,be(n,Ke).commands.slice()),$t(n,mi,new Set(be(n,pi).map((r,s)=>s))),n}static registerGlobalSerializationPlugin(t,n){Sf().serializationPlugins.set(t,n??t)}static unregisterGlobalSerializationPlugin(t){Sf().serializationPlugins.delete(t)}static registerGlobalBuildPlugin(t,n){Sf().buildPlugins.set(t,n??t)}static unregisterGlobalBuildPlugin(t){Sf().buildPlugins.delete(t)}addSerializationPlugin(t){be(this,Gc).push(t)}addBuildPlugin(t){be(this,hu).push(t)}addIntentResolver(t,n){if(be(this,zo).has(t)&&be(this,zo).get(t)!==n)throw new Error(`Intent resolver for ${t} already exists`);be(this,zo).set(t,n)}setSender(t){be(this,Ke).sender=t}setSenderIfNotSet(t){be(this,Ke).sender||(be(this,Ke).sender=t)}setExpiration(t){be(this,Ke).expiration=t?Ht(Y4,t):null}setGasPrice(t){be(this,Ke).gasConfig.price=String(t)}setGasBudget(t){be(this,Ke).gasConfig.budget=String(t)}setGasBudgetIfNotSet(t){be(this,Ke).gasData.budget==null&&(be(this,Ke).gasConfig.budget=String(t))}setGasOwner(t){be(this,Ke).gasConfig.owner=t}setGasPayment(t){be(this,Ke).gasConfig.payment=t.map(n=>Ht(gc,n))}get blockData(){return TI(be(this,Ke).snapshot())}getData(){return be(this,Ke).snapshot()}get[h_](){return!0}get pure(){return Object.defineProperty(this,"pure",{enumerable:!1,value:Wz(t=>qy(t)?Gn(this,vn,um).call(this,"pure",{$kind:"Pure",Pure:{bytes:t.toBase64()}}):Gn(this,vn,um).call(this,"pure",Mm(SI,t)?Ht(SI,t):t instanceof Uint8Array?Vs.Pure(t):{$kind:"UnresolvedPure",UnresolvedPure:{value:t}}))}),this.pure}get gas(){return{$kind:"GasCoin",GasCoin:!0}}objectRef(...t){return this.object(Vs.ObjectRef(...t))}receivingRef(...t){return this.object(Vs.ReceivingRef(...t))}sharedObjectRef(...t){return this.object(Vs.SharedObjectRef(...t))}add(t){if(typeof t=="function"){if(be(this,Qa).has(t))return be(this,Qa).get(t);const n=Gn(this,vn,l_).call(this),r=t(n);if(!(r&&typeof r=="object"&&"then"in r))return $t(this,mi,be(n,mi)),be(this,Qa).set(t,r),r;const s=Gn(this,vn,cm).call(this,{$kind:"$Intent",$Intent:{name:"AsyncTransactionThunk",inputs:{},data:{resultIndex:be(this,Ke).commands.length,result:null}}});be(this,Di).add(Promise.resolve(r).then(o=>{s.$Intent.data.result=o}));const i=Jw(()=>s.$Intent.data.resultIndex);return be(this,Qa).set(t,i),i}else Gn(this,vn,cm).call(this,t);return Jw(be(this,Ke).commands.length-1)}splitCoins(t,n){const r=Bi.SplitCoins(typeof t=="string"?this.object(t):Gn(this,vn,Om).call(this,t),n.map(s=>typeof s=="number"||typeof s=="bigint"||typeof s=="string"?this.pure.u64(s):Gn(this,vn,lm).call(this,s)));return Gn(this,vn,cm).call(this,r),Jw(be(this,Ke).commands.length-1,n.length)}mergeCoins(t,n){return this.add(Bi.MergeCoins(this.object(t),n.map(r=>this.object(r))))}publish({modules:t,dependencies:n}){return this.add(Bi.Publish({modules:t,dependencies:n}))}upgrade({modules:t,dependencies:n,package:r,ticket:s}){return this.add(Bi.Upgrade({modules:t,dependencies:n,package:r,ticket:this.object(s)}))}moveCall({arguments:t,...n}){return this.add(Bi.MoveCall({...n,arguments:t==null?void 0:t.map(r=>Gn(this,vn,lm).call(this,r))}))}transferObjects(t,n){return this.add(Bi.TransferObjects(t.map(r=>this.object(r)),typeof n=="string"?this.pure.address(n):Gn(this,vn,lm).call(this,n)))}makeMoveVec({type:t,elements:n}){return this.add(Bi.MakeMoveVec({type:t,elements:n.map(r=>this.object(r))}))}serialize(){return JSON.stringify(TI(be(this,Ke).snapshot()))}async toJSON(t={}){await this.prepareForSerialization(t);const n=this.isFullyResolved();return JSON.stringify(Ht(Mz,n?{...be(this,Ke).snapshot(),digest:be(this,Ke).getDigest()}:be(this,Ke).snapshot()),(r,s)=>typeof s=="bigint"?s.toString():s,2)}async sign(t){const{signer:n,...r}=t,s=await this.build(r);return n.signTransaction(s)}isFullyResolved(){return!(!be(this,Ke).sender||be(this,Di).size>0||be(this,Ke).commands.some(t=>t.$Intent)||J4(be(this,Ke),{}))}async build(t={}){return await this.prepareForSerialization(t),await Gn(this,vn,cv).call(this,t),be(this,Ke).build({onlyTransactionKind:t.onlyTransactionKind})}async getDigest(t={}){return await this.prepareForSerialization(t),await Gn(this,vn,cv).call(this,t),be(this,Ke).getDigest()}async prepareForSerialization(t){var s;await Gn(this,vn,d_).call(this),Gn(this,vn,f_).call(this);const n=new Set;for(const i of be(this,Ke).commands)i.$Intent&&n.add(i.$Intent.name);const r=[...be(this,Gc)];for(const i of n)if(!((s=t.supportedIntents)!=null&&s.includes(i))){if(!be(this,zo).has(i))throw new Error(`Missing intent resolver for ${i}`);r.push(be(this,zo).get(i))}r.push(nF()),await Gn(this,vn,UE).call(this,r,t)}};Gc=new WeakMap;hu=new WeakMap;zo=new WeakMap;wo=new WeakMap;pi=new WeakMap;mi=new WeakMap;Di=new WeakMap;Qa=new WeakMap;Ke=new WeakMap;vn=new WeakSet;l_=function(){const e=new m_;return $t(e,Ke,be(this,Ke)),$t(e,Gc,be(this,Gc)),$t(e,hu,be(this,hu)),$t(e,zo,be(this,zo)),$t(e,Di,be(this,Di)),$t(e,mi,new Set(be(this,mi))),$t(e,Qa,be(this,Qa)),be(this,wo).push(be(e,wo)),be(this,pi).push(be(e,pi)),e};cm=function(e){const t=be(this,Ke).commands.length;return be(this,pi).push(e),be(this,mi).add(t),be(this,Ke).commands.push(e),be(this,Ke).mapCommandArguments(t,n=>{if(n.$kind==="Result"&&!be(this,mi).has(n.Result))throw new Error(`Result { Result: ${n.Result} } is not available to use the current transaction`);if(n.$kind==="NestedResult"&&!be(this,mi).has(n.NestedResult[0]))throw new Error(`Result { NestedResult: [${n.NestedResult[0]}, ${n.NestedResult[1]}] } is not available to use the current transaction`);if(n.$kind==="Input"&&n.Input>=be(this,Ke).inputs.length)throw new Error(`Input { Input: ${n.Input} } references an input that does not exist in the current transaction`);return n}),e};um=function(e,t){return be(this,wo).push(t),be(this,Ke).addInput(e,t)};lm=function(e){return qy(e)?this.pure(e):Gn(this,vn,Om).call(this,e)};Om=function(e){if(typeof e=="function"){const t=this.add(e);return typeof t=="function"?Gn(this,vn,Om).call(this,t):Ht(Zt,t)}return Ht(Zt,e)};cv=async function(e){if(!e.onlyTransactionKind&&!be(this,Ke).sender)throw new Error("Missing transaction sender");await Gn(this,vn,UE).call(this,[...be(this,hu),Fz],e)};UE=async function(e,t){try{const n=r=>{if(r>=e.length)return()=>{};const s=e[r];return async()=>{const i=n(r+1);let o=!1,a=!1;if(await s(be(this,Ke),t,async()=>{if(o)throw new Error(`next() was call multiple times in TransactionPlugin ${r}`);o=!0,await i(),a=!0}),!o)throw new Error(`next() was not called in TransactionPlugin ${r}`);if(!a)throw new Error(`next() was not awaited in TransactionPlugin ${r}`)}};await n(0)()}finally{$t(this,wo,be(this,Ke).inputs.slice()),$t(this,pi,be(this,Ke).commands.slice())}};d_=async function(){for(;be(this,Di).size>0;){const e=Promise.all(be(this,Di));be(this,Di).clear(),be(this,Di).add(e),await e,be(this,Di).delete(e)}};f_=function(){var o;const e=be(this,Ke).commands,t=be(this,Ke).inputs,n=be(this,pi).flat(1/0),r=be(this,wo).flat(1/0);if(n.length!==e.length)throw new Error("Unexpected number of commands found in transaction data");if(r.length!==t.length)throw new Error("Unexpected number of inputs found in transaction data");const s=n.filter(a=>{var c;return((c=a.$Intent)==null?void 0:c.name)!=="AsyncTransactionThunk"});be(this,Ke).commands=s,be(this,Ke).inputs=r,$t(this,pi,s),$t(this,wo,r),$t(this,mi,new Set(s.map((a,c)=>c)));function i(a){var l;const c=e[a];if(((l=c.$Intent)==null?void 0:l.name)==="AsyncTransactionThunk"){const f=c.$Intent.data.result;if(f==null)throw new Error("AsyncTransactionThunk has not been resolved");return i(f.Result)}const u=s.indexOf(c);if(u===-1)throw new Error("Unable to find original index for command");return u}be(this,Ke).mapArguments(a=>{if(a.$kind==="Input"){const c=r.indexOf(t[a.Input]);if(c===-1)throw new Error("Input has not been resolved");return{...a,Input:c}}else if(a.$kind==="Result"){const c=i(a.Result);return{...a,Result:c}}else if(a.$kind==="NestedResult"){const c=i(a.NestedResult[0]);return{...a,NestedResult:[c,a.NestedResult[1]]}}return a});for(const[a,c]of e.entries())if(((o=c.$Intent)==null?void 0:o.name)==="AsyncTransactionThunk")try{c.$Intent.data.resultIndex=i(a)}catch{}};let y_=m_;const Pm="CoinWithBalance",DI=ld("0x2::sui::SUI");function Jwe({type:e=DI,balance:t,useGasCoin:n=!0}){let r=null;return s=>{if(r)return r;s.addIntentResolver(Pm,iF);const i=e==="gas"?e:ld(e);return r=s.add(Bi.Intent({name:Pm,inputs:{},data:{type:i===DI&&n?"gas":i,balance:BigInt(t)}})),r}}const sF=Ie({type:dt(),balance:mp()});async function iF(e,t,n){var u,l;const r=new Set,s=new Map;if(!e.sender)throw new Error("Sender must be set to resolve CoinWithBalance");for(const f of e.commands)if(f.$kind==="$Intent"&&f.$Intent.name===Pm){const{type:d,balance:h}=Ht(sF,f.$Intent.data);d!=="gas"&&h>0n&&r.add(d),s.set(d,(s.get(d)??0n)+h)}const i=new Set;for(const f of e.inputs)(u=f.Object)!=null&&u.ImmOrOwnedObject&&i.add(f.Object.ImmOrOwnedObject.objectId),(l=f.UnresolvedObject)!=null&&l.objectId&&i.add(f.UnresolvedObject.objectId);const o=new Map,a=aF(t);await Promise.all([...r].map(async f=>{o.set(f,await oF({coinType:f,balance:s.get(f),client:a,owner:e.sender,usedIds:i}))}));const c=new Map;c.set("gas",{$kind:"GasCoin",GasCoin:!0});for(const[f,d]of e.commands.entries()){if(d.$kind!=="$Intent"||d.$Intent.name!==Pm)continue;const{type:h,balance:p}=d.$Intent.data;if(p===0n&&h!=="gas"){e.replaceCommand(f,Bi.MoveCall({target:"0x2::coin::zero",typeArguments:[h]}));continue}const m=[];if(!c.has(h)){const[y,...b]=o.get(h).map(I=>e.addInput("object",Vs.ObjectRef({objectId:I.coinObjectId,digest:I.digest,version:I.version})));b.length>0&&m.push(Bi.MergeCoins(y,b)),c.set(h,y)}m.push(Bi.SplitCoins(c.get(h),[e.addInput("pure",Vs.Pure(at.u64().serialize(p)))])),e.replaceCommand(f,m),e.mapArguments(y=>y.$kind==="Result"&&y.Result===f?{$kind:"NestedResult",NestedResult:[f+m.length-1,0]}:y)}return n()}async function oF({coinType:e,balance:t,client:n,owner:r,usedIds:s}){let i=t;const o=[];return a();async function a(c=null){const{data:u,hasNextPage:l,nextCursor:f}=await n.getCoins({owner:r,coinType:e,cursor:c}),d=u.sort((h,p)=>Number(BigInt(p.balance)-BigInt(h.balance)));for(const h of d){if(s.has(h.coinObjectId))continue;const p=BigInt(h.balance);if(o.push(h),i-=p,i<=0)return o}if(l)return a(f);throw new Error(`Not enough coins of type ${e} to satisfy requested balance`)}}function aF(e){const t=e_(e);if(!t.jsonRpc)throw new Error("CoinWithBalance intent currently only works with SuiClient");return t}var qu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},cF={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Za,uE,Lk,uF=(Lk=class{constructor(){Ue(this,Za,cF);Ue(this,uE,!1)}setTimeoutProvider(e){ge(this,Za,e)}setTimeout(e,t){return q(this,Za).setTimeout(e,t)}clearTimeout(e){q(this,Za).clearTimeout(e)}setInterval(e,t){return q(this,Za).setInterval(e,t)}clearInterval(e){q(this,Za).clearInterval(e)}},Za=new WeakMap,uE=new WeakMap,Lk),Vc=new uF;function lF(e){setTimeout(e,0)}var vu=typeof window>"u"||"Deno"in globalThis;function Hr(){}function dF(e,t){return typeof e=="function"?e(t):e}function lv(e){return typeof e=="number"&&e>=0&&e!==1/0}function g_(e,t){return Math.max(e+(t||0)-Date.now(),0)}function fc(e,t){return typeof e=="function"?e(t):e}function ui(e,t){return typeof e=="function"?e(t):e}function UI(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==LE(o,t.options))return!1}else if(!yh(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||i&&!i(t))}function LI(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Eu(t.options.mutationKey)!==Eu(i))return!1}else if(!yh(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function LE(e,t){return((t==null?void 0:t.queryKeyHashFn)||Eu)(e)}function Eu(e){return JSON.stringify(e,(t,n)=>dv(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function yh(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>yh(e[n],t[n])):!1}var fF=Object.prototype.hasOwnProperty;function $E(e,t){if(e===t)return e;const n=$I(e)&&$I(t);if(!n&&!(dv(e)&&dv(t)))return t;const s=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),o=i.length,a=n?new Array(o):{};let c=0;for(let u=0;u<o;u++){const l=n?u:i[u],f=e[l],d=t[l];if(f===d){a[l]=f,(n?u<s:fF.call(e,l))&&c++;continue}if(f===null||d===null||typeof f!="object"||typeof d!="object"){a[l]=d;continue}const h=$E(f,d);a[l]=h,h===f&&c++}return s===o&&c===s?e:a}function gh(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function $I(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function dv(e){if(!zI(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!zI(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function zI(e){return Object.prototype.toString.call(e)==="[object Object]"}function hF(e){return new Promise(t=>{Vc.setTimeout(t,e)})}function fv(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?$E(e,t):t}function pF(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function mF(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var zE=Symbol();function w_(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===zE?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function b_(e,t){return typeof e=="function"?e(...t):!!e}var su,Xa,Kl,$k,yF=($k=class extends qu{constructor(){super();Ue(this,su);Ue(this,Xa);Ue(this,Kl);ge(this,Kl,t=>{if(!vu&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){q(this,Xa)||this.setEventListener(q(this,Kl))}onUnsubscribe(){var t;this.hasListeners()||((t=q(this,Xa))==null||t.call(this),ge(this,Xa,void 0))}setEventListener(t){var n;ge(this,Kl,t),(n=q(this,Xa))==null||n.call(this),ge(this,Xa,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){q(this,su)!==t&&(ge(this,su,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof q(this,su)=="boolean"?q(this,su):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},su=new WeakMap,Xa=new WeakMap,Kl=new WeakMap,$k),FE=new yF;function hv(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var gF=lF;function wF(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=gF;const i=a=>{t?e.push(a):s(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;t++;try{c=a()}finally{t--,t||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var yn=wF(),Ql,Ja,Yl,zk,bF=(zk=class extends qu{constructor(){super();Ue(this,Ql,!0);Ue(this,Ja);Ue(this,Yl);ge(this,Yl,t=>{if(!vu&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){q(this,Ja)||this.setEventListener(q(this,Yl))}onUnsubscribe(){var t;this.hasListeners()||((t=q(this,Ja))==null||t.call(this),ge(this,Ja,void 0))}setEventListener(t){var n;ge(this,Yl,t),(n=q(this,Ja))==null||n.call(this),ge(this,Ja,t(this.setOnline.bind(this)))}setOnline(t){q(this,Ql)!==t&&(ge(this,Ql,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return q(this,Ql)}},Ql=new WeakMap,Ja=new WeakMap,Yl=new WeakMap,zk),jm=new bF;function vF(e){return Math.min(1e3*2**e,3e4)}function v_(e){return(e??"online")==="online"?jm.isOnline():!0}var pv=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function E_(e){let t=!1,n=0,r;const s=hv(),i=()=>s.status!=="pending",o=m=>{var y;if(!i()){const b=new pv(m);d(b),(y=e.onCancel)==null||y.call(e,b)}},a=()=>{t=!0},c=()=>{t=!1},u=()=>FE.isFocused()&&(e.networkMode==="always"||jm.isOnline())&&e.canRun(),l=()=>v_(e.networkMode)&&e.canRun(),f=m=>{i()||(r==null||r(),s.resolve(m))},d=m=>{i()||(r==null||r(),s.reject(m))},h=()=>new Promise(m=>{var y;r=b=>{(i()||u())&&m(b)},(y=e.onPause)==null||y.call(e)}).then(()=>{var m;r=void 0,i()||(m=e.onContinue)==null||m.call(e)}),p=()=>{if(i())return;let m;const y=n===0?e.initialPromise:void 0;try{m=y??e.fn()}catch(b){m=Promise.reject(b)}Promise.resolve(m).then(f).catch(b=>{var N;if(i())return;const I=e.retry??(vu?0:3),v=e.retryDelay??vF,E=typeof v=="function"?v(n,b):v,S=I===!0||typeof I=="number"&&n<I||typeof I=="function"&&I(n,b);if(t||!S){d(b);return}n++,(N=e.onFail)==null||N.call(e,n,b),hF(E).then(()=>u()?void 0:h()).then(()=>{t?d(b):p()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:c,canStart:l,start:()=>(l()?p():h().then(p),s)}}var iu,Fk,x_=(Fk=class{constructor(){Ue(this,iu)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),lv(this.gcTime)&&ge(this,iu,Vc.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(vu?1/0:5*60*1e3))}clearGcTimeout(){q(this,iu)&&(Vc.clearTimeout(q(this,iu)),ge(this,iu,void 0))}},iu=new WeakMap,Fk),ou,Zl,oi,au,sr,Jh,cu,_i,Do,Hk,EF=(Hk=class extends x_{constructor(t){super();Ue(this,_i);Ue(this,ou);Ue(this,Zl);Ue(this,oi);Ue(this,au);Ue(this,sr);Ue(this,Jh);Ue(this,cu);ge(this,cu,!1),ge(this,Jh,t.defaultOptions),this.setOptions(t.options),this.observers=[],ge(this,au,t.client),ge(this,oi,q(this,au).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ge(this,ou,FI(this.options)),this.state=t.state??q(this,ou),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=q(this,sr))==null?void 0:t.promise}setOptions(t){if(this.options={...q(this,Jh),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=FI(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),ge(this,ou,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&q(this,oi).remove(this)}setData(t,n){const r=fv(this.state.data,t,this.options);return Je(this,_i,Do).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Je(this,_i,Do).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=q(this,sr))==null?void 0:r.promise;return(s=q(this,sr))==null||s.cancel(t),n?n.then(Hr).catch(Hr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(q(this,ou))}isActive(){return this.observers.some(t=>ui(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===zE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>fc(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!g_(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=q(this,sr))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=q(this,sr))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),q(this,oi).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(q(this,sr)&&(q(this,cu)?q(this,sr).cancel({revert:!0}):q(this,sr).cancelRetry()),this.scheduleGc()),q(this,oi).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Je(this,_i,Do).call(this,{type:"invalidate"})}async fetch(t,n){var c,u,l,f,d,h,p,m,y,b,I,v;if(this.state.fetchStatus!=="idle"&&((c=q(this,sr))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(q(this,sr))return q(this,sr).continueRetry(),q(this,sr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const E=this.observers.find(S=>S.options.queryFn);E&&this.setOptions(E.options)}const r=new AbortController,s=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(ge(this,cu,!0),r.signal)})},i=()=>{const E=w_(this.options,n),N=(()=>{const O={client:q(this,au),queryKey:this.queryKey,meta:this.meta};return s(O),O})();return ge(this,cu,!1),this.options.persister?this.options.persister(E,N,this):E(N)},a=(()=>{const E={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:q(this,au),state:this.state,fetchFn:i};return s(E),E})();(u=this.options.behavior)==null||u.onFetch(a,this),ge(this,Zl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((l=a.fetchOptions)==null?void 0:l.meta))&&Je(this,_i,Do).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta}),ge(this,sr,E_({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,onCancel:E=>{E instanceof pv&&E.revert&&this.setState({...q(this,Zl),fetchStatus:"idle"}),r.abort()},onFail:(E,S)=>{Je(this,_i,Do).call(this,{type:"failed",failureCount:E,error:S})},onPause:()=>{Je(this,_i,Do).call(this,{type:"pause"})},onContinue:()=>{Je(this,_i,Do).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const E=await q(this,sr).start();if(E===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(E),(h=(d=q(this,oi).config).onSuccess)==null||h.call(d,E,this),(m=(p=q(this,oi).config).onSettled)==null||m.call(p,E,this.state.error,this),E}catch(E){if(E instanceof pv){if(E.silent)return q(this,sr).promise;if(E.revert){if(this.state.data===void 0)throw E;return this.state.data}}throw Je(this,_i,Do).call(this,{type:"error",error:E}),(b=(y=q(this,oi).config).onError)==null||b.call(y,E,this),(v=(I=q(this,oi).config).onSettled)==null||v.call(I,this.state.data,E,this),E}finally{this.scheduleGc()}}},ou=new WeakMap,Zl=new WeakMap,oi=new WeakMap,au=new WeakMap,sr=new WeakMap,Jh=new WeakMap,cu=new WeakMap,_i=new WeakSet,Do=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...A_(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ge(this,Zl,t.manual?s:void 0),s;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),yn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),q(this,oi).notify({query:this,type:"updated",action:t})})},Hk);function A_(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:v_(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function FI(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var hs,Et,ep,Qr,uu,Xl,Wo,ec,tp,Jl,ed,lu,du,tc,td,_t,zf,mv,yv,gv,wv,bv,vv,Ev,I_,qk,HE=(qk=class extends qu{constructor(t,n){super();Ue(this,_t);Ue(this,hs);Ue(this,Et);Ue(this,ep);Ue(this,Qr);Ue(this,uu);Ue(this,Xl);Ue(this,Wo);Ue(this,ec);Ue(this,tp);Ue(this,Jl);Ue(this,ed);Ue(this,lu);Ue(this,du);Ue(this,tc);Ue(this,td,new Set);this.options=n,ge(this,hs,t),ge(this,ec,null),ge(this,Wo,hv()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(q(this,Et).addObserver(this),HI(q(this,Et),this.options)?Je(this,_t,zf).call(this):this.updateResult(),Je(this,_t,wv).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return xv(q(this,Et),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return xv(q(this,Et),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Je(this,_t,bv).call(this),Je(this,_t,vv).call(this),q(this,Et).removeObserver(this)}setOptions(t){const n=this.options,r=q(this,Et);if(this.options=q(this,hs).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ui(this.options.enabled,q(this,Et))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Je(this,_t,Ev).call(this),q(this,Et).setOptions(this.options),n._defaulted&&!gh(this.options,n)&&q(this,hs).getQueryCache().notify({type:"observerOptionsUpdated",query:q(this,Et),observer:this});const s=this.hasListeners();s&&qI(q(this,Et),r,this.options,n)&&Je(this,_t,zf).call(this),this.updateResult(),s&&(q(this,Et)!==r||ui(this.options.enabled,q(this,Et))!==ui(n.enabled,q(this,Et))||fc(this.options.staleTime,q(this,Et))!==fc(n.staleTime,q(this,Et)))&&Je(this,_t,mv).call(this);const i=Je(this,_t,yv).call(this);s&&(q(this,Et)!==r||ui(this.options.enabled,q(this,Et))!==ui(n.enabled,q(this,Et))||i!==q(this,tc))&&Je(this,_t,gv).call(this,i)}getOptimisticResult(t){const n=q(this,hs).getQueryCache().build(q(this,hs),t),r=this.createResult(n,t);return AF(this,r)&&(ge(this,Qr,r),ge(this,Xl,this.options),ge(this,uu,q(this,Et).state)),r}getCurrentResult(){return q(this,Qr)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&!this.options.experimental_prefetchInRender&&q(this,Wo).status==="pending"&&q(this,Wo).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,s))})}trackProp(t){q(this,td).add(t)}getCurrentQuery(){return q(this,Et)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=q(this,hs).defaultQueryOptions(t),r=q(this,hs).getQueryCache().build(q(this,hs),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return Je(this,_t,zf).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),q(this,Qr)))}createResult(t,n){var L;const r=q(this,Et),s=this.options,i=q(this,Qr),o=q(this,uu),a=q(this,Xl),u=t!==r?t.state:q(this,ep),{state:l}=t;let f={...l},d=!1,h;if(n._optimisticResults){const F=this.hasListeners(),H=!F&&HI(t,n),G=F&&qI(t,r,n,s);(H||G)&&(f={...f,...A_(l.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:p,errorUpdatedAt:m,status:y}=f;h=f.data;let b=!1;if(n.placeholderData!==void 0&&h===void 0&&y==="pending"){let F;i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(F=i.data,b=!0):F=typeof n.placeholderData=="function"?n.placeholderData((L=q(this,ed))==null?void 0:L.state.data,q(this,ed)):n.placeholderData,F!==void 0&&(y="success",h=fv(i==null?void 0:i.data,F,n),d=!0)}if(n.select&&h!==void 0&&!b)if(i&&h===(o==null?void 0:o.data)&&n.select===q(this,tp))h=q(this,Jl);else try{ge(this,tp,n.select),h=n.select(h),h=fv(i==null?void 0:i.data,h,n),ge(this,Jl,h),ge(this,ec,null)}catch(F){ge(this,ec,F)}q(this,ec)&&(p=q(this,ec),h=q(this,Jl),m=Date.now(),y="error");const I=f.fetchStatus==="fetching",v=y==="pending",E=y==="error",S=v&&I,N=h!==void 0,z={status:y,fetchStatus:f.fetchStatus,isPending:v,isSuccess:y==="success",isError:E,isInitialLoading:S,isLoading:S,data:h,dataUpdatedAt:f.dataUpdatedAt,error:p,errorUpdatedAt:m,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:I,isRefetching:I&&!v,isLoadingError:E&&!N,isPaused:f.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:E&&N,isStale:qE(t,n),refetch:this.refetch,promise:q(this,Wo),isEnabled:ui(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const F=M=>{z.status==="error"?M.reject(z.error):z.data!==void 0&&M.resolve(z.data)},H=()=>{const M=ge(this,Wo,z.promise=hv());F(M)},G=q(this,Wo);switch(G.status){case"pending":t.queryHash===r.queryHash&&F(G);break;case"fulfilled":(z.status==="error"||z.data!==G.value)&&H();break;case"rejected":(z.status!=="error"||z.error!==G.reason)&&H();break}}return z}updateResult(){const t=q(this,Qr),n=this.createResult(q(this,Et),this.options);if(ge(this,uu,q(this,Et).state),ge(this,Xl,this.options),q(this,uu).data!==void 0&&ge(this,ed,q(this,Et)),gh(n,t))return;ge(this,Qr,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!q(this,td).size)return!0;const o=new Set(i??q(this,td));return this.options.throwOnError&&o.add("error"),Object.keys(q(this,Qr)).some(a=>{const c=a;return q(this,Qr)[c]!==t[c]&&o.has(c)})};Je(this,_t,I_).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Je(this,_t,wv).call(this)}},hs=new WeakMap,Et=new WeakMap,ep=new WeakMap,Qr=new WeakMap,uu=new WeakMap,Xl=new WeakMap,Wo=new WeakMap,ec=new WeakMap,tp=new WeakMap,Jl=new WeakMap,ed=new WeakMap,lu=new WeakMap,du=new WeakMap,tc=new WeakMap,td=new WeakMap,_t=new WeakSet,zf=function(t){Je(this,_t,Ev).call(this);let n=q(this,Et).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Hr)),n},mv=function(){Je(this,_t,bv).call(this);const t=fc(this.options.staleTime,q(this,Et));if(vu||q(this,Qr).isStale||!lv(t))return;const r=g_(q(this,Qr).dataUpdatedAt,t)+1;ge(this,lu,Vc.setTimeout(()=>{q(this,Qr).isStale||this.updateResult()},r))},yv=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(q(this,Et)):this.options.refetchInterval)??!1},gv=function(t){Je(this,_t,vv).call(this),ge(this,tc,t),!(vu||ui(this.options.enabled,q(this,Et))===!1||!lv(q(this,tc))||q(this,tc)===0)&&ge(this,du,Vc.setInterval(()=>{(this.options.refetchIntervalInBackground||FE.isFocused())&&Je(this,_t,zf).call(this)},q(this,tc)))},wv=function(){Je(this,_t,mv).call(this),Je(this,_t,gv).call(this,Je(this,_t,yv).call(this))},bv=function(){q(this,lu)&&(Vc.clearTimeout(q(this,lu)),ge(this,lu,void 0))},vv=function(){q(this,du)&&(Vc.clearInterval(q(this,du)),ge(this,du,void 0))},Ev=function(){const t=q(this,hs).getQueryCache().build(q(this,hs),this.options);if(t===q(this,Et))return;const n=q(this,Et);ge(this,Et,t),ge(this,ep,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},I_=function(t){yn.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(q(this,Qr))}),q(this,hs).getQueryCache().notify({query:q(this,Et),type:"observerResultsUpdated"})})},qk);function xF(e,t){return ui(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function HI(e,t){return xF(e,t)||e.state.data!==void 0&&xv(e,t,t.refetchOnMount)}function xv(e,t,n){if(ui(t.enabled,e)!==!1&&fc(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&qE(e,t)}return!1}function qI(e,t,n,r){return(e!==t||ui(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&qE(e,n)}function qE(e,t){return ui(t.enabled,e)!==!1&&e.isStaleByTime(fc(t.staleTime,e))}function AF(e,t){return!gh(e.getCurrentResult(),t)}function WI(e){return{onFetch:(t,n)=>{var l,f,d,h,p;const r=t.options,s=(d=(f=(l=t.fetchOptions)==null?void 0:l.meta)==null?void 0:f.fetchMore)==null?void 0:d.direction,i=((h=t.state.data)==null?void 0:h.pages)||[],o=((p=t.state.data)==null?void 0:p.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const y=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},b=w_(t.options,t.fetchOptions),I=async(v,E,S)=>{if(m)return Promise.reject();if(E==null&&v.pages.length)return Promise.resolve(v);const O=(()=>{const H={client:t.client,queryKey:t.queryKey,pageParam:E,direction:S?"backward":"forward",meta:t.options.meta};return y(H),H})(),z=await b(O),{maxPages:L}=t.options,F=S?mF:pF;return{pages:F(v.pages,z,L),pageParams:F(v.pageParams,E,L)}};if(s&&i.length){const v=s==="backward",E=v?IF:GI,S={pages:i,pageParams:o},N=E(r,S);a=await I(S,N,v)}else{const v=e??i.length;do{const E=c===0?o[0]??r.initialPageParam:GI(r,a);if(c>0&&E==null)break;a=await I(a,E),c++}while(c<v)}return a};t.options.persister?t.fetchFn=()=>{var m,y;return(y=(m=t.options).persister)==null?void 0:y.call(m,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function GI(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function IF(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var np,lo,Yr,fu,fo,Ha,Wk,SF=(Wk=class extends x_{constructor(t){super();Ue(this,fo);Ue(this,np);Ue(this,lo);Ue(this,Yr);Ue(this,fu);ge(this,np,t.client),this.mutationId=t.mutationId,ge(this,Yr,t.mutationCache),ge(this,lo,[]),this.state=t.state||S_(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){q(this,lo).includes(t)||(q(this,lo).push(t),this.clearGcTimeout(),q(this,Yr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ge(this,lo,q(this,lo).filter(n=>n!==t)),this.scheduleGc(),q(this,Yr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){q(this,lo).length||(this.state.status==="pending"?this.scheduleGc():q(this,Yr).remove(this))}continue(){var t;return((t=q(this,fu))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,a,c,u,l,f,d,h,p,m,y,b,I,v,E,S,N,O,z,L;const n=()=>{Je(this,fo,Ha).call(this,{type:"continue"})},r={client:q(this,np),meta:this.options.meta,mutationKey:this.options.mutationKey};ge(this,fu,E_({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(F,H)=>{Je(this,fo,Ha).call(this,{type:"failed",failureCount:F,error:H})},onPause:()=>{Je(this,fo,Ha).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>q(this,Yr).canRun(this)}));const s=this.state.status==="pending",i=!q(this,fu).canStart();try{if(s)n();else{Je(this,fo,Ha).call(this,{type:"pending",variables:t,isPaused:i}),await((a=(o=q(this,Yr).config).onMutate)==null?void 0:a.call(o,t,this,r));const H=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,r));H!==this.state.context&&Je(this,fo,Ha).call(this,{type:"pending",context:H,variables:t,isPaused:i})}const F=await q(this,fu).start();return await((f=(l=q(this,Yr).config).onSuccess)==null?void 0:f.call(l,F,t,this.state.context,this,r)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,F,t,this.state.context,r)),await((m=(p=q(this,Yr).config).onSettled)==null?void 0:m.call(p,F,null,this.state.variables,this.state.context,this,r)),await((b=(y=this.options).onSettled)==null?void 0:b.call(y,F,null,t,this.state.context,r)),Je(this,fo,Ha).call(this,{type:"success",data:F}),F}catch(F){try{throw await((v=(I=q(this,Yr).config).onError)==null?void 0:v.call(I,F,t,this.state.context,this,r)),await((S=(E=this.options).onError)==null?void 0:S.call(E,F,t,this.state.context,r)),await((O=(N=q(this,Yr).config).onSettled)==null?void 0:O.call(N,void 0,F,this.state.variables,this.state.context,this,r)),await((L=(z=this.options).onSettled)==null?void 0:L.call(z,void 0,F,t,this.state.context,r)),F}finally{Je(this,fo,Ha).call(this,{type:"error",error:F})}}finally{q(this,Yr).runNext(this)}}},np=new WeakMap,lo=new WeakMap,Yr=new WeakMap,fu=new WeakMap,fo=new WeakSet,Ha=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),yn.batch(()=>{q(this,lo).forEach(r=>{r.onMutationUpdate(t)}),q(this,Yr).notify({mutation:this,type:"updated",action:t})})},Wk);function S_(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Go,Mi,rp,Gk,kF=(Gk=class extends qu{constructor(t={}){super();Ue(this,Go);Ue(this,Mi);Ue(this,rp);this.config=t,ge(this,Go,new Set),ge(this,Mi,new Map),ge(this,rp,0)}build(t,n,r){const s=new SF({client:t,mutationCache:this,mutationId:++r0(this,rp)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){q(this,Go).add(t);const n=a0(t);if(typeof n=="string"){const r=q(this,Mi).get(n);r?r.push(t):q(this,Mi).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(q(this,Go).delete(t)){const n=a0(t);if(typeof n=="string"){const r=q(this,Mi).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&q(this,Mi).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=a0(t);if(typeof n=="string"){const r=q(this,Mi).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=a0(t);if(typeof n=="string"){const s=(r=q(this,Mi).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){yn.batch(()=>{q(this,Go).forEach(t=>{this.notify({type:"removed",mutation:t})}),q(this,Go).clear(),q(this,Mi).clear()})}getAll(){return Array.from(q(this,Go))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>LI(n,r))}findAll(t={}){return this.getAll().filter(n=>LI(t,n))}notify(t){yn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return yn.batch(()=>Promise.all(t.map(n=>n.continue().catch(Hr))))}},Go=new WeakMap,Mi=new WeakMap,rp=new WeakMap,Gk);function a0(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Vo,nc,ps,Ko,ua,dm,Av,Vk,CF=(Vk=class extends qu{constructor(n,r){super();Ue(this,ua);Ue(this,Vo);Ue(this,nc);Ue(this,ps);Ue(this,Ko);ge(this,Vo,n),this.setOptions(r),this.bindMethods(),Je(this,ua,dm).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=q(this,Vo).defaultMutationOptions(n),gh(this.options,r)||q(this,Vo).getMutationCache().notify({type:"observerOptionsUpdated",mutation:q(this,ps),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Eu(r.mutationKey)!==Eu(this.options.mutationKey)?this.reset():((s=q(this,ps))==null?void 0:s.state.status)==="pending"&&q(this,ps).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=q(this,ps))==null||n.removeObserver(this)}onMutationUpdate(n){Je(this,ua,dm).call(this),Je(this,ua,Av).call(this,n)}getCurrentResult(){return q(this,nc)}reset(){var n;(n=q(this,ps))==null||n.removeObserver(this),ge(this,ps,void 0),Je(this,ua,dm).call(this),Je(this,ua,Av).call(this)}mutate(n,r){var s;return ge(this,Ko,r),(s=q(this,ps))==null||s.removeObserver(this),ge(this,ps,q(this,Vo).getMutationCache().build(q(this,Vo),this.options)),q(this,ps).addObserver(this),q(this,ps).execute(n)}},Vo=new WeakMap,nc=new WeakMap,ps=new WeakMap,Ko=new WeakMap,ua=new WeakSet,dm=function(){var r;const n=((r=q(this,ps))==null?void 0:r.state)??S_();ge(this,nc,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Av=function(n){yn.batch(()=>{var r,s,i,o,a,c,u,l;if(q(this,Ko)&&this.hasListeners()){const f=q(this,nc).variables,d=q(this,nc).context,h={client:q(this,Vo),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((s=(r=q(this,Ko)).onSuccess)==null||s.call(r,n.data,f,d,h),(o=(i=q(this,Ko)).onSettled)==null||o.call(i,n.data,null,f,d,h)):(n==null?void 0:n.type)==="error"&&((c=(a=q(this,Ko)).onError)==null||c.call(a,n.error,f,d,h),(l=(u=q(this,Ko)).onSettled)==null||l.call(u,void 0,n.error,f,d,h))}this.listeners.forEach(f=>{f(q(this,nc))})})},Vk);function VI(e,t){const n=new Set(t);return e.filter(r=>!n.has(r))}function TF(e,t,n){const r=e.slice(0);return r[t]=n,r}var nd,js,rd,sd,ai,rc,sp,ip,op,Cr,Iv,Sv,kv,Cv,Tv,Kk,_F=(Kk=class extends qu{constructor(t,n,r){super();Ue(this,Cr);Ue(this,nd);Ue(this,js);Ue(this,rd);Ue(this,sd);Ue(this,ai);Ue(this,rc);Ue(this,sp);Ue(this,ip);Ue(this,op,[]);ge(this,nd,t),ge(this,sd,r),ge(this,rd,[]),ge(this,ai,[]),ge(this,js,[]),this.setQueries(n)}onSubscribe(){this.listeners.size===1&&q(this,ai).forEach(t=>{t.subscribe(n=>{Je(this,Cr,Cv).call(this,t,n)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,q(this,ai).forEach(t=>{t.destroy()})}setQueries(t,n){ge(this,rd,t),ge(this,sd,n),yn.batch(()=>{const r=q(this,ai),s=Je(this,Cr,kv).call(this,q(this,rd));ge(this,op,s),s.forEach(f=>f.observer.setOptions(f.defaultedQueryOptions));const i=s.map(f=>f.observer),o=i.map(f=>f.getCurrentResult()),a=r.length!==i.length,c=i.some((f,d)=>f!==r[d]),u=a||c,l=u?!0:o.some((f,d)=>{const h=q(this,js)[d];return!h||!gh(f,h)});!u&&!l||(u&&ge(this,ai,i),ge(this,js,o),this.hasListeners()&&(u&&(VI(r,i).forEach(f=>{f.destroy()}),VI(i,r).forEach(f=>{f.subscribe(d=>{Je(this,Cr,Cv).call(this,f,d)})})),Je(this,Cr,Tv).call(this)))})}getCurrentResult(){return q(this,js)}getQueries(){return q(this,ai).map(t=>t.getCurrentQuery())}getObservers(){return q(this,ai)}getOptimisticResult(t,n){const r=Je(this,Cr,kv).call(this,t),s=r.map(i=>i.observer.getOptimisticResult(i.defaultedQueryOptions));return[s,i=>Je(this,Cr,Sv).call(this,i??s,n),()=>Je(this,Cr,Iv).call(this,s,r)]}},nd=new WeakMap,js=new WeakMap,rd=new WeakMap,sd=new WeakMap,ai=new WeakMap,rc=new WeakMap,sp=new WeakMap,ip=new WeakMap,op=new WeakMap,Cr=new WeakSet,Iv=function(t,n){return n.map((r,s)=>{const i=t[s];return r.defaultedQueryOptions.notifyOnChangeProps?i:r.observer.trackResult(i,o=>{n.forEach(a=>{a.observer.trackProp(o)})})})},Sv=function(t,n){return n?((!q(this,rc)||q(this,js)!==q(this,ip)||n!==q(this,sp))&&(ge(this,sp,n),ge(this,ip,q(this,js)),ge(this,rc,$E(q(this,rc),n(t)))),q(this,rc)):t},kv=function(t){const n=new Map(q(this,ai).map(s=>[s.options.queryHash,s])),r=[];return t.forEach(s=>{const i=q(this,nd).defaultQueryOptions(s),o=n.get(i.queryHash);o?r.push({defaultedQueryOptions:i,observer:o}):r.push({defaultedQueryOptions:i,observer:new HE(q(this,nd),i)})}),r},Cv=function(t,n){const r=q(this,ai).indexOf(t);r!==-1&&(ge(this,js,TF(q(this,js),r,n)),Je(this,Cr,Tv).call(this))},Tv=function(){var t;if(this.hasListeners()){const n=q(this,rc),r=Je(this,Cr,Iv).call(this,q(this,js),q(this,op)),s=Je(this,Cr,Sv).call(this,r,(t=q(this,sd))==null?void 0:t.combine);n!==s&&yn.batch(()=>{this.listeners.forEach(i=>{i(q(this,js))})})}},Kk),ho,Qk,MF=(Qk=class extends qu{constructor(t={}){super();Ue(this,ho);this.config=t,ge(this,ho,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??LE(s,n);let o=this.get(i);return o||(o=new EF({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){q(this,ho).has(t.queryHash)||(q(this,ho).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=q(this,ho).get(t.queryHash);n&&(t.destroy(),n===t&&q(this,ho).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){yn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return q(this,ho).get(t)}getAll(){return[...q(this,ho).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>UI(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>UI(t,r)):n}notify(t){yn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){yn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){yn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ho=new WeakMap,Qk),hn,sc,ic,id,od,oc,ad,cd,Yk,t1e=(Yk=class{constructor(e={}){Ue(this,hn);Ue(this,sc);Ue(this,ic);Ue(this,id);Ue(this,od);Ue(this,oc);Ue(this,ad);Ue(this,cd);ge(this,hn,e.queryCache||new MF),ge(this,sc,e.mutationCache||new kF),ge(this,ic,e.defaultOptions||{}),ge(this,id,new Map),ge(this,od,new Map),ge(this,oc,0)}mount(){r0(this,oc)._++,q(this,oc)===1&&(ge(this,ad,FE.subscribe(async e=>{e&&(await this.resumePausedMutations(),q(this,hn).onFocus())})),ge(this,cd,jm.subscribe(async e=>{e&&(await this.resumePausedMutations(),q(this,hn).onOnline())})))}unmount(){var e,t;r0(this,oc)._--,q(this,oc)===0&&((e=q(this,ad))==null||e.call(this),ge(this,ad,void 0),(t=q(this,cd))==null||t.call(this),ge(this,cd,void 0))}isFetching(e){return q(this,hn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return q(this,sc).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=q(this,hn).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=q(this,hn).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(fc(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return q(this,hn).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=q(this,hn).get(r.queryHash),i=s==null?void 0:s.state.data,o=dF(t,i);if(o!==void 0)return q(this,hn).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return yn.batch(()=>q(this,hn).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=q(this,hn).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=q(this,hn);yn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=q(this,hn);return yn.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=yn.batch(()=>q(this,hn).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Hr).catch(Hr)}invalidateQueries(e,t={}){return yn.batch(()=>(q(this,hn).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=yn.batch(()=>q(this,hn).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Hr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Hr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=q(this,hn).build(this,t);return n.isStaleByTime(fc(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Hr).catch(Hr)}fetchInfiniteQuery(e){return e.behavior=WI(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Hr).catch(Hr)}ensureInfiniteQueryData(e){return e.behavior=WI(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return jm.isOnline()?q(this,sc).resumePausedMutations():Promise.resolve()}getQueryCache(){return q(this,hn)}getMutationCache(){return q(this,sc)}getDefaultOptions(){return q(this,ic)}setDefaultOptions(e){ge(this,ic,e)}setQueryDefaults(e,t){q(this,id).set(Eu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...q(this,id).values()],n={};return t.forEach(r=>{yh(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){q(this,od).set(Eu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...q(this,od).values()],n={};return t.forEach(r=>{yh(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...q(this,ic).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=LE(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===zE&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...q(this,ic).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){q(this,hn).clear(),q(this,sc).clear()}},hn=new WeakMap,sc=new WeakMap,ic=new WeakMap,id=new WeakMap,od=new WeakMap,oc=new WeakMap,ad=new WeakMap,cd=new WeakMap,Yk),k_=Q.createContext(void 0),Xy=e=>{const t=Q.useContext(k_);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},n1e=({client:e,children:t})=>(Q.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),En.jsx(k_.Provider,{value:e,children:t})),C_=Q.createContext(!1),T_=()=>Q.useContext(C_);C_.Provider;function BF(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var NF=Q.createContext(BF()),__=()=>Q.useContext(NF),M_=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},B_=e=>{Q.useEffect(()=>{e.clearReset()},[e])},N_=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||b_(n,[e.error,r])),O_=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},P_=(e,t)=>e.isLoading&&e.isFetching&&!t,_v=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Rm=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function r1e({queries:e,...t},n){const r=Xy(),s=T_(),i=__(),o=Q.useMemo(()=>e.map(m=>{const y=r.defaultQueryOptions(m);return y._optimisticResults=s?"isRestoring":"optimistic",y}),[e,r,s]);o.forEach(m=>{O_(m),M_(m,i)}),B_(i);const[a]=Q.useState(()=>new _F(r,o,t)),[c,u,l]=a.getOptimisticResult(o,t.combine),f=!s&&t.subscribed!==!1;Q.useSyncExternalStore(Q.useCallback(m=>f?a.subscribe(yn.batchCalls(m)):Hr,[a,f]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),Q.useEffect(()=>{a.setQueries(o,t)},[o,t,a]);const h=c.some((m,y)=>_v(o[y],m))?c.flatMap((m,y)=>{const b=o[y];if(b){const I=new HE(r,b);if(_v(b,m))return Rm(b,I,i);P_(m,s)&&Rm(b,I,i)}return[]}):[];if(h.length>0)throw Promise.all(h);const p=c.find((m,y)=>{const b=o[y];return b&&N_({result:m,errorResetBoundary:i,throwOnError:b.throwOnError,query:r.getQueryCache().get(b.queryHash),suspense:b.suspense})});if(p!=null&&p.error)throw p.error;return u(l())}function OF(e,t,n){var f,d,h,p,m;const r=T_(),s=__(),i=Xy(),o=i.defaultQueryOptions(e);(d=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||d.call(f,o),o._optimisticResults=r?"isRestoring":"optimistic",O_(o),M_(o,s),B_(s);const a=!i.getQueryCache().get(o.queryHash),[c]=Q.useState(()=>new t(i,o)),u=c.getOptimisticResult(o),l=!r&&e.subscribed!==!1;if(Q.useSyncExternalStore(Q.useCallback(y=>{const b=l?c.subscribe(yn.batchCalls(y)):Hr;return c.updateResult(),b},[c,l]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),Q.useEffect(()=>{c.setOptions(o)},[o,c]),_v(o,u))throw Rm(o,c,s);if(N_({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((p=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||p.call(h,o,u),o.experimental_prefetchInRender&&!vu&&P_(u,r)){const y=a?Rm(o,c,s):(m=i.getQueryCache().get(o.queryHash))==null?void 0:m.promise;y==null||y.catch(Hr).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function j_(e,t){return OF(e,HE)}function gp(e,t){const n=Xy(),[r]=Q.useState(()=>new CF(n,e));Q.useEffect(()=>{r.setOptions(e)},[r,e]);const s=Q.useSyncExternalStore(Q.useCallback(o=>r.subscribe(yn.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=Q.useCallback((o,a)=>{r.mutate(o,a).catch(Hr)},[r]);if(s.error&&b_(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const PF={"-32700":"ParseError","-32701":"OversizedRequest","-32702":"OversizedResponse","-32600":"InvalidRequest","-32601":"MethodNotFound","-32602":"InvalidParams","-32603":"InternalError","-32604":"ServerBusy","-32000":"CallExecutionFailed","-32001":"UnknownError","-32003":"SubscriptionClosed","-32004":"SubscriptionClosedWithError","-32005":"BatchesNotSupported","-32006":"TooManySubscriptions","-32050":"TransientError","-32002":"TransactionExecutionClientError"};class R_ extends Error{}class D_ extends R_{constructor(t,n){super(t),this.code=n,this.type=PF[n]??"ServerError"}}class jF extends R_{constructor(t,n,r){super(t),this.status=n,this.statusText=r}}var U_=e=>{throw TypeError(e)},WE=(e,t,n)=>t.has(e)||U_("Cannot "+n),Yt=(e,t,n)=>(WE(e,t,"read from private field"),n?n.call(e):t.get(e)),Oc=(e,t,n)=>t.has(e)?U_("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ul=(e,t,n,r)=>(WE(e,t,"write to private field"),t.set(e,n),n),L_=(e,t,n)=>(WE(e,t,"access private method"),n),RF=(e,t,n,r)=>({set _(s){Ul(e,t,s)},get _(){return Yt(e,t,r)}}),qa,nh,Fo,Kc,wh,Qc,Dm,$_,z_;function DF(e){const t=new URL(e);return t.protocol=t.protocol.replace("http","ws"),t.toString()}const UF={WebSocketConstructor:typeof WebSocket<"u"?WebSocket:void 0,callTimeout:3e4,reconnectTimeout:3e3,maxReconnects:5};class LF{constructor(t,n={}){if(Oc(this,Dm),Oc(this,qa,0),Oc(this,nh,0),Oc(this,Fo,null),Oc(this,Kc,null),Oc(this,wh,new Set),Oc(this,Qc,new Map),this.endpoint=t,this.options={...UF,...n},!this.options.WebSocketConstructor)throw new Error("Missing WebSocket constructor");this.endpoint.startsWith("http")&&(this.endpoint=DF(this.endpoint))}async makeRequest(t,n,r){const s=await L_(this,Dm,$_).call(this);return new Promise((i,o)=>{Ul(this,qa,Yt(this,qa)+1),Yt(this,Qc).set(Yt(this,qa),{resolve:i,reject:o,timeout:setTimeout(()=>{Yt(this,Qc).delete(Yt(this,qa)),o(new Error(`Request timeout: ${t}`))},this.options.callTimeout)}),r==null||r.addEventListener("abort",()=>{Yt(this,Qc).delete(Yt(this,qa)),o(r.reason)}),s.send(JSON.stringify({jsonrpc:"2.0",id:Yt(this,qa),method:t,params:n}))}).then(({error:i,result:o})=>{if(i)throw new D_(i.message,i.code);return o})}async subscribe(t){const n=new $F(t);return Yt(this,wh).add(n),await n.subscribe(this),()=>n.unsubscribe(this)}}qa=new WeakMap;nh=new WeakMap;Fo=new WeakMap;Kc=new WeakMap;wh=new WeakMap;Qc=new WeakMap;Dm=new WeakSet;$_=function(){return Yt(this,Kc)?Yt(this,Kc):(Ul(this,Kc,new Promise(e=>{var t;(t=Yt(this,Fo))==null||t.close(),Ul(this,Fo,new this.options.WebSocketConstructor(this.endpoint)),Yt(this,Fo).addEventListener("open",()=>{Ul(this,nh,0),e(Yt(this,Fo))}),Yt(this,Fo).addEventListener("close",()=>{RF(this,nh)._++,Yt(this,nh)<=this.options.maxReconnects&&setTimeout(()=>{L_(this,Dm,z_).call(this)},this.options.reconnectTimeout)}),Yt(this,Fo).addEventListener("message",({data:n})=>{let r;try{r=JSON.parse(n)}catch(s){console.error(new Error(`Failed to parse RPC message: ${n}`,{cause:s}));return}if("id"in r&&r.id!=null&&Yt(this,Qc).has(r.id)){const{resolve:s,timeout:i}=Yt(this,Qc).get(r.id);clearTimeout(i),s(r)}else if("params"in r){const{params:s}=r;Yt(this,wh).forEach(i=>{i.subscriptionId===s.subscription&&s.subscription===i.subscriptionId&&i.onMessage(s.result)})}})})),Yt(this,Kc))};z_=async function(){var e;return(e=Yt(this,Fo))==null||e.close(),Ul(this,Kc,null),Promise.allSettled([...Yt(this,wh)].map(t=>t.subscribe(this)))};class $F{constructor(t){this.subscriptionId=null,this.subscribed=!1,this.input=t}onMessage(t){this.subscribed&&this.input.onMessage(t)}async unsubscribe(t){const{subscriptionId:n}=this;return this.subscribed=!1,n==null?!1:(this.subscriptionId=null,t.makeRequest(this.input.unsubscribe,[n]))}async subscribe(t){this.subscriptionId=null,this.subscribed=!0;const n=await t.makeRequest(this.input.method,this.input.params,this.input.signal);this.subscribed&&(this.subscriptionId=n)}}var F_=e=>{throw TypeError(e)},GE=(e,t,n)=>t.has(e)||F_("Cannot "+n),fi=(e,t,n)=>(GE(e,t,"read from private field"),n?n.call(e):t.get(e)),c0=(e,t,n)=>t.has(e)?F_("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Mv=(e,t,n,r)=>(GE(e,t,"write to private field"),t.set(e,n),n),zF=(e,t,n)=>(GE(e,t,"access private method"),n),Ff,Pi,rh,Bv,H_;class FF{constructor(t){c0(this,Bv),c0(this,Ff,0),c0(this,Pi),c0(this,rh),Mv(this,Pi,t)}fetch(t,n){const r=fi(this,Pi).fetch??fetch;if(!r)throw new Error("The current environment does not support fetch, you can provide a fetch implementation in the options for SuiHTTPTransport.");return r(t,n)}async request(t){var s,i;Mv(this,Ff,fi(this,Ff)+1);const n=await this.fetch(((s=fi(this,Pi).rpc)==null?void 0:s.url)??fi(this,Pi).url,{method:"POST",signal:t.signal,headers:{"Content-Type":"application/json","Client-Sdk-Type":"typescript","Client-Sdk-Version":s_,"Client-Target-Api-Version":Qz,"Client-Request-Method":t.method,...(i=fi(this,Pi).rpc)==null?void 0:i.headers},body:JSON.stringify({jsonrpc:"2.0",id:fi(this,Ff),method:t.method,params:t.params})});if(!n.ok)throw new jF(`Unexpected status code: ${n.status}`,n.status,n.statusText);const r=await n.json();if("error"in r&&r.error!=null)throw new D_(r.error.message,r.error.code);return r.result}async subscribe(t){const n=await zF(this,Bv,H_).call(this).subscribe(t);return t.signal&&(t.signal.throwIfAborted(),t.signal.addEventListener("abort",()=>{n()})),async()=>!!await n()}}Ff=new WeakMap;Pi=new WeakMap;rh=new WeakMap;Bv=new WeakSet;H_=function(){var e;if(!fi(this,rh)){const t=fi(this,Pi).WebSocketConstructor??WebSocket;if(!t)throw new Error("The current environment does not support WebSocket, you can provide a WebSocketConstructor in the options for SuiHTTPTransport.");Mv(this,rh,new LF(((e=fi(this,Pi).websocket)==null?void 0:e.url)??fi(this,Pi).url,{WebSocketConstructor:t,...fi(this,Pi).websocket}))}return fi(this,rh)};function s1e(e){switch(e){case"mainnet":return"https://fullnode.mainnet.sui.io:443";case"testnet":return"https://fullnode.testnet.sui.io:443";case"devnet":return"https://fullnode.devnet.sui.io:443";case"localnet":return"http://127.0.0.1:9000";default:throw new Error(`Unknown network: ${e}`)}}class q_{constructor({network:t,base:n,cache:r=(n==null?void 0:n.cache)??new Kz}){this.network=t,this.base=n??this,this.cache=r}$extend(...t){return Object.create(this,Object.fromEntries(t.map(n=>[n.name,{value:n.register(this)}])))}}const HF={mainnet:"https://mainnet.mvr.mystenlabs.com",testnet:"https://testnet.mvr.mystenlabs.com"};class qF extends q_{constructor(t){var n,r,s;super(t),this.core=this,this.mvr=new Xz({cache:this.cache.scope("core.mvr"),url:((n=t.mvr)==null?void 0:n.url)??HF[this.network],pageSize:(r=t.mvr)==null?void 0:r.pageSize,overrides:(s=t.mvr)==null?void 0:s.overrides})}async getObject(t){const{objectId:n}=t,{objects:[r]}=await this.getObjects({objectIds:[n],signal:t.signal});if(r instanceof Error)throw r;return{object:r}}async getDynamicField(t){const n=ji.parseFromStr((await this.core.mvr.resolveType({type:t.name.type})).type),r=tT(t.parentId,n,t.name.bcs),{objects:[s]}=await this.getObjects({objectIds:[r],signal:t.signal});if(s instanceof Error)throw s;const i=gu(s.type),o=await s.content;return{dynamicField:{id:s.id,digest:s.digest,version:s.version,type:s.type,previousTransaction:s.previousTransaction,name:{type:typeof i.typeParams[0]=="string"?i.typeParams[0]:ld(i.typeParams[0]),bcs:t.name.bcs},value:{type:typeof i.typeParams[1]=="string"?i.typeParams[1]:ld(i.typeParams[1]),bcs:o.slice(Wy+t.name.bcs.length)}}}}async waitForTransaction({signal:t,timeout:n=60*1e3,...r}){const s=t?AbortSignal.any([AbortSignal.timeout(n),t]):AbortSignal.timeout(n),i=new Promise((o,a)=>{s.addEventListener("abort",()=>a(s.reason))});for(i.catch(()=>{});;){s.throwIfAborted();try{return await this.getTransaction({...r,signal:s})}catch{await Promise.race([new Promise(o=>setTimeout(o,2e3)),i])}}}}class WF extends Error{}class Ya extends WF{constructor(t,n){super(n),this.code=t}static fromResponse(t,n){switch(t.code){case"notExists":return new Ya(t.code,`Object ${t.object_id} does not exist`);case"dynamicFieldNotFound":return new Ya(t.code,`Dynamic field not found for object ${t.parent_object_id}`);case"deleted":return new Ya(t.code,`Object ${t.object_id} has been deleted`);case"displayError":return new Ya(t.code,`Display error: ${t.error}`);case"unknown":default:return new Ya(t.code,`Unknown error while loading object${n?` ${n}`:""}`)}}}function GF(e){return{...gs.fromBytes(e).snapshot(),bcs:e}}function VF(e){const t=at.TransactionEffects.parse(e);switch(t.$kind){case"V1":return KF({effects:t.V1});case"V2":return QF({bytes:e,effects:t.V2});default:throw new Error(`Unknown transaction effects version: ${t.$kind}`)}}function KF(e){throw new Error("V1 effects are not supported yet")}function QF({bytes:e,effects:t}){const n=t.changedObjects.map(([r,s])=>{var i,o,a,c,u,l;return{id:r,inputState:s.inputState.$kind==="Exist"?"Exists":"DoesNotExist",inputVersion:((i=s.inputState.Exist)==null?void 0:i[0][0])??null,inputDigest:((o=s.inputState.Exist)==null?void 0:o[0][1])??null,inputOwner:((a=s.inputState.Exist)==null?void 0:a[1])??null,outputState:s.outputState.$kind==="NotExist"?"DoesNotExist":s.outputState.$kind,outputVersion:s.outputState.$kind==="PackageWrite"?(c=s.outputState.PackageWrite)==null?void 0:c[0]:s.outputState.ObjectWrite?t.lamportVersion:null,outputDigest:s.outputState.$kind==="PackageWrite"?(u=s.outputState.PackageWrite)==null?void 0:u[1]:((l=s.outputState.ObjectWrite)==null?void 0:l[0])??null,outputOwner:s.outputState.ObjectWrite?s.outputState.ObjectWrite[1]:null,idOperation:s.idOperation.$kind}});return{bcs:e,digest:t.transactionDigest,version:2,status:t.status.$kind==="Success"?{success:!0,error:null}:{success:!1,error:t.status.Failed.error.$kind},gasUsed:t.gasUsed,transactionDigest:t.transactionDigest,gasObject:t.gasObjectIndex===null?null:n[t.gasObjectIndex]??null,eventsDigest:t.eventsDigest,dependencies:t.dependencies,lamportVersion:t.lamportVersion,changedObjects:n,unchangedConsensusObjects:t.unchangedSharedObjects.map(([r,s])=>({kind:s.$kind==="MutateDeleted"?"MutateConsensusStreamEnded":s.$kind==="ReadDeleted"?"ReadConsensusStreamEnded":s.$kind,objectId:r,version:s.$kind==="ReadOnlyRoot"?s.ReadOnlyRoot[0]:s[s.$kind],digest:s.$kind==="ReadOnlyRoot"?s.ReadOnlyRoot[1]:null})),auxiliaryDataDigest:t.auxDataDigest}}var W_=e=>{throw TypeError(e)},G_=(e,t,n)=>t.has(e)||W_("Cannot "+n),fs=(e,t,n)=>(G_(e,t,"read from private field"),n?n.call(e):t.get(e)),YF=(e,t,n)=>t.has(e)?W_("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ZF=(e,t,n,r)=>(G_(e,t,"write to private field"),t.set(e,n),n),fr;class XF extends qF{constructor({jsonRpcClient:t,mvr:n}){super({network:t.network,base:t,mvr:n}),YF(this,fr),ZF(this,fr,t)}async getObjects(t){const n=up(t.objectIds,50),r=[];for(const s of n){const i=await fs(this,fr).multiGetObjects({ids:s,options:{showOwner:!0,showType:!0,showBcs:!0,showPreviousTransaction:!0},signal:t.signal});for(const[o,a]of i.entries())a.error?r.push(Ya.fromResponse(a.error,s[o])):r.push(KI(a.data))}return{objects:r}}async getOwnedObjects(t){const n=await fs(this,fr).getOwnedObjects({owner:t.address,limit:t.limit,cursor:t.cursor,options:{showOwner:!0,showType:!0,showBcs:!0,showPreviousTransaction:!0},filter:t.type?{StructType:t.type}:null,signal:t.signal});return{objects:n.data.map(r=>{if(r.error)throw Ya.fromResponse(r.error);return KI(r.data)}),hasNextPage:n.hasNextPage,cursor:n.nextCursor??null}}async getCoins(t){const n=await fs(this,fr).getCoins({owner:t.address,coinType:t.coinType,limit:t.limit,cursor:t.cursor,signal:t.signal});return{objects:n.data.map(r=>({id:r.coinObjectId,version:r.version,digest:r.digest,balance:r.balance,type:`0x2::coin::Coin<${r.coinType}>`,content:Promise.resolve(tH.serialize({id:r.coinObjectId,balance:{value:r.balance}}).toBytes()),owner:{$kind:"ObjectOwner",ObjectOwner:t.address},previousTransaction:r.previousTransaction})),hasNextPage:n.hasNextPage,cursor:n.nextCursor??null}}async getBalance(t){const n=await fs(this,fr).getBalance({owner:t.address,coinType:t.coinType,signal:t.signal});return{balance:{coinType:n.coinType,balance:n.totalBalance}}}async getAllBalances(t){return{balances:(await fs(this,fr).getAllBalances({owner:t.address,signal:t.signal})).map(r=>({coinType:r.coinType,balance:r.totalBalance})),hasNextPage:!1,cursor:null}}async getTransaction(t){const n=await fs(this,fr).getTransactionBlock({digest:t.digest,options:{showRawInput:!0,showObjectChanges:!0,showRawEffects:!0,showEvents:!0,showEffects:!0,showBalanceChanges:!0},signal:t.signal});return{transaction:QI(n)}}async executeTransaction(t){const n=await fs(this,fr).executeTransactionBlock({transactionBlock:t.transaction,signature:t.signatures,options:{showRawEffects:!0,showEvents:!0,showObjectChanges:!0,showRawInput:!0,showEffects:!0,showBalanceChanges:!0},signal:t.signal});return{transaction:QI(n)}}async dryRunTransaction(t){const n=y_.from(t.transaction),r=await fs(this,fr).dryRunTransactionBlock({transactionBlock:t.transaction,signal:t.signal}),{effects:s,objectTypes:i}=JF({effects:r.effects,objectChanges:r.objectChanges});return{transaction:{digest:await n.getDigest(),epoch:null,effects:s,objectTypes:Promise.resolve(i),signatures:[],transaction:GF(t.transaction),balanceChanges:r.balanceChanges.map(o=>({coinType:o.coinType,address:V_(o.owner),amount:o.amount}))}}}async getReferenceGasPrice(t){const n=await fs(this,fr).getReferenceGasPrice({signal:t==null?void 0:t.signal});return{referenceGasPrice:String(n)}}async getDynamicFields(t){const n=await fs(this,fr).getDynamicFields({parentId:t.parentId,limit:t.limit,cursor:t.cursor});return{dynamicFields:n.data.map(r=>({id:r.objectId,type:r.objectType,name:{type:r.name.type,bcs:ar(r.bcsName)}})),hasNextPage:n.hasNextPage,cursor:n.nextCursor}}async verifyZkLoginSignature(t){const n=await fs(this,fr).verifyZkLoginSignature({bytes:t.bytes,signature:t.signature,intentScope:t.intentScope,author:t.author});return{success:n.success,errors:n.errors}}resolveNameServiceNames(t){return fs(this,fr).resolveNameServiceNames(t)}resolveTransactionPlugin(){return X4(fs(this,fr))}async getMoveFunction(t){const n=await fs(this,fr).getNormalizedMoveFunction({package:(await this.mvr.resolvePackage({package:t.packageId})).package,module:t.moduleName,function:t.name});return{function:{packageId:bt(t.packageId),moduleName:t.moduleName,name:t.name,visibility:rH(n.visibility),isEntry:n.isEntry,typeParameters:n.typeParameters.map(r=>({isPhantom:!1,constraints:nH(r)})),parameters:n.parameters.map(r=>YI(r)),returns:n.return.map(r=>YI(r))}}}}fr=new WeakMap;function KI(e){var t;return{id:e.objectId,version:e.version,digest:e.digest,type:e.type,content:Promise.resolve(((t=e.bcs)==null?void 0:t.dataType)==="moveObject"?ar(e.bcs.bcsBytes):new Uint8Array),owner:xl(e.owner),previousTransaction:e.previousTransaction??null}}function xl(e){if(e==="Immutable")return{$kind:"Immutable",Immutable:!0};if("ConsensusAddressOwner"in e)return{$kind:"ConsensusAddressOwner",ConsensusAddressOwner:{owner:e.ConsensusAddressOwner.owner,startVersion:e.ConsensusAddressOwner.start_version}};if("AddressOwner"in e)return{$kind:"AddressOwner",AddressOwner:e.AddressOwner};if("ObjectOwner"in e)return{$kind:"ObjectOwner",ObjectOwner:e.ObjectOwner};if("Shared"in e)return{$kind:"Shared",Shared:{initialSharedVersion:e.Shared.initial_shared_version}};throw new Error(`Unknown owner type: ${JSON.stringify(e)}`)}function V_(e){if(e==="Immutable")return null;if("ConsensusAddressOwner"in e)return e.ConsensusAddressOwner.owner;if("AddressOwner"in e)return e.AddressOwner;if("ObjectOwner"in e)return e.ObjectOwner;if("Shared"in e)return null;throw new Error(`Unknown owner type: ${JSON.stringify(e)}`)}function QI(e){var i,o,a;const t=at.SenderSignedData.parse(ar(e.rawTransaction))[0],n={};(i=e.objectChanges)==null||i.forEach(c=>{c.type!=="published"&&(n[c.objectId]=c.objectType)});const r=at.TransactionData.serialize(t.intentMessage.value).toBytes(),s=gs.restore({version:2,sender:t.intentMessage.value.V1.sender,expiration:t.intentMessage.value.V1.expiration,gasData:t.intentMessage.value.V1.gasData,inputs:t.intentMessage.value.V1.kind.ProgrammableTransaction.inputs,commands:t.intentMessage.value.V1.kind.ProgrammableTransaction.commands});return{digest:e.digest,epoch:((o=e.effects)==null?void 0:o.executedEpoch)??null,effects:VF(new Uint8Array(e.rawEffects)),objectTypes:Promise.resolve(n),transaction:{...s,bcs:r},signatures:t.txSignatures,balanceChanges:((a=e.balanceChanges)==null?void 0:a.map(c=>({coinType:c.coinType,address:V_(c.owner),amount:c.amount})))??[]}}function JF({bytes:e,effects:t,objectChanges:n}){var o;const r=[],s=[],i={};return n==null||n.forEach(a=>{var c,u,l,f;switch(a.type){case"published":r.push({id:a.packageId,inputState:"DoesNotExist",inputVersion:null,inputDigest:null,inputOwner:null,outputState:"PackageWrite",outputVersion:a.version,outputDigest:a.digest,outputOwner:null,idOperation:"Created"});break;case"transferred":r.push({id:a.objectId,inputState:"Exists",inputVersion:a.version,inputDigest:a.digest,inputOwner:{$kind:"AddressOwner",AddressOwner:a.sender},outputState:"ObjectWrite",outputVersion:a.version,outputDigest:a.digest,outputOwner:xl(a.recipient),idOperation:"None"}),i[a.objectId]=a.objectType;break;case"mutated":r.push({id:a.objectId,inputState:"Exists",inputVersion:a.previousVersion,inputDigest:null,inputOwner:xl(a.owner),outputState:"ObjectWrite",outputVersion:a.version,outputDigest:a.digest,outputOwner:xl(a.owner),idOperation:"None"}),i[a.objectId]=a.objectType;break;case"deleted":r.push({id:a.objectId,inputState:"Exists",inputVersion:a.version,inputDigest:((u=(c=t.deleted)==null?void 0:c.find(d=>d.objectId===a.objectId))==null?void 0:u.digest)??null,inputOwner:null,outputState:"DoesNotExist",outputVersion:null,outputDigest:null,outputOwner:null,idOperation:"Deleted"}),i[a.objectId]=a.objectType;break;case"wrapped":r.push({id:a.objectId,inputState:"Exists",inputVersion:a.version,inputDigest:null,inputOwner:{$kind:"AddressOwner",AddressOwner:a.sender},outputState:"ObjectWrite",outputVersion:a.version,outputDigest:((f=(l=t.wrapped)==null?void 0:l.find(d=>d.objectId===a.objectId))==null?void 0:f.digest)??null,outputOwner:{$kind:"ObjectOwner",ObjectOwner:a.sender},idOperation:"None"}),i[a.objectId]=a.objectType;break;case"created":r.push({id:a.objectId,inputState:"DoesNotExist",inputVersion:null,inputDigest:null,inputOwner:null,outputState:"ObjectWrite",outputVersion:a.version,outputDigest:a.digest,outputOwner:xl(a.owner),idOperation:"Created"}),i[a.objectId]=a.objectType;break}}),{objectTypes:i,effects:{bcs:e??null,digest:t.transactionDigest,version:2,status:t.status.status==="success"?{success:!0,error:null}:{success:!1,error:t.status.error},gasUsed:t.gasUsed,transactionDigest:t.transactionDigest,gasObject:{id:(o=t.gasObject)==null?void 0:o.reference.objectId,inputState:"Exists",inputVersion:null,inputDigest:null,inputOwner:null,outputState:"ObjectWrite",outputVersion:t.gasObject.reference.version,outputDigest:t.gasObject.reference.digest,outputOwner:xl(t.gasObject.owner),idOperation:"None"},eventsDigest:t.eventsDigest??null,dependencies:t.dependencies??[],lamportVersion:t.gasObject.reference.version,changedObjects:r,unchangedConsensusObjects:s,auxiliaryDataDigest:null}}}const eH=at.struct("Balance",{value:at.u64()}),tH=at.struct("Coin",{id:at.Address,balance:eH});function YI(e){if(typeof e!="string"){if("Reference"in e)return{reference:"immutable",body:sh(e.Reference)};if("MutableReference"in e)return{reference:"mutable",body:sh(e.MutableReference)}}return{reference:null,body:sh(e)}}function sh(e){switch(e){case"Address":return{$kind:"address"};case"Bool":return{$kind:"bool"};case"U8":return{$kind:"u8"};case"U16":return{$kind:"u16"};case"U32":return{$kind:"u32"};case"U64":return{$kind:"u64"};case"U128":return{$kind:"u128"};case"U256":return{$kind:"u256"}}if(typeof e=="string")throw new Error(`Unknown type: ${e}`);if("Vector"in e)return{$kind:"vector",vector:sh(e.Vector)};if("Struct"in e)return{$kind:"datatype",datatype:{typeName:`${bt(e.Struct.address)}::${e.Struct.module}::${e.Struct.name}`,typeParameters:e.Struct.typeArguments.map(t=>sh(t))}};if("TypeParameter"in e)return{$kind:"typeParameter",index:e.TypeParameter};throw new Error(`Unknown type: ${JSON.stringify(e)}`)}function nH(e){return e.abilities.map(t=>{switch(t){case"Copy":return"copy";case"Drop":return"drop";case"Store":return"store";case"Key":return"key";default:return"unknown"}})}function rH(e){switch(e){case"Public":return"public";case"Private":return"private";case"Friend":return"friend";default:return"unknown"}}const K_=Symbol.for("@mysten/SuiClient");function i1e(e){return typeof e=="object"&&e!==null&&e[K_]===!0}class Q_ extends q_{constructor(t){super({network:t.network??"unknown"}),this.jsonRpc=this,this.transport=t.transport??new FF({url:t.url}),this.core=new XF({jsonRpcClient:this,mvr:t.mvr})}get[K_](){return!0}async getRpcApiVersion({signal:t}={}){return(await this.transport.request({method:"rpc.discover",params:[],signal:t})).info.version}async getCoins({coinType:t,owner:n,cursor:r,limit:s,signal:i}){if(!n||!di(bt(n)))throw new Error("Invalid Sui address");return t&&qr(t)&&(t=(await this.core.mvr.resolveType({type:t})).type),await this.transport.request({method:"suix_getCoins",params:[n,t,r,s],signal:i})}async getAllCoins(t){if(!t.owner||!di(bt(t.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllCoins",params:[t.owner,t.cursor,t.limit],signal:t.signal})}async getBalance({owner:t,coinType:n,signal:r}){if(!t||!di(bt(t)))throw new Error("Invalid Sui address");return n&&qr(n)&&(n=(await this.core.mvr.resolveType({type:n})).type),await this.transport.request({method:"suix_getBalance",params:[t,n],signal:r})}async getAllBalances(t){if(!t.owner||!di(bt(t.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllBalances",params:[t.owner],signal:t.signal})}async getCoinMetadata({coinType:t,signal:n}){return t&&qr(t)&&(t=(await this.core.mvr.resolveType({type:t})).type),await this.transport.request({method:"suix_getCoinMetadata",params:[t],signal:n})}async getTotalSupply({coinType:t,signal:n}){return t&&qr(t)&&(t=(await this.core.mvr.resolveType({type:t})).type),await this.transport.request({method:"suix_getTotalSupply",params:[t],signal:n})}async call(t,n,{signal:r}={}){return await this.transport.request({method:t,params:n,signal:r})}async getMoveFunctionArgTypes({package:t,module:n,function:r,signal:s}){return t&&Rs(t)&&(t=(await this.core.mvr.resolvePackage({package:t})).package),await this.transport.request({method:"sui_getMoveFunctionArgTypes",params:[t,n,r],signal:s})}async getNormalizedMoveModulesByPackage({package:t,signal:n}){return t&&Rs(t)&&(t=(await this.core.mvr.resolvePackage({package:t})).package),await this.transport.request({method:"sui_getNormalizedMoveModulesByPackage",params:[t],signal:n})}async getNormalizedMoveModule({package:t,module:n,signal:r}){return t&&Rs(t)&&(t=(await this.core.mvr.resolvePackage({package:t})).package),await this.transport.request({method:"sui_getNormalizedMoveModule",params:[t,n],signal:r})}async getNormalizedMoveFunction({package:t,module:n,function:r,signal:s}){return t&&Rs(t)&&(t=(await this.core.mvr.resolvePackage({package:t})).package),await this.transport.request({method:"sui_getNormalizedMoveFunction",params:[t,n,r],signal:s})}async getNormalizedMoveStruct({package:t,module:n,struct:r,signal:s}){return t&&Rs(t)&&(t=(await this.core.mvr.resolvePackage({package:t})).package),await this.transport.request({method:"sui_getNormalizedMoveStruct",params:[t,n,r],signal:s})}async getOwnedObjects(t){if(!t.owner||!di(bt(t.owner)))throw new Error("Invalid Sui address");const n=t.filter?{...t.filter}:void 0;return n&&"MoveModule"in n&&Rs(n.MoveModule.package)?n.MoveModule={module:n.MoveModule.module,package:(await this.core.mvr.resolvePackage({package:n.MoveModule.package})).package}:n&&"StructType"in n&&qr(n.StructType)&&(n.StructType=(await this.core.mvr.resolveType({type:n.StructType})).type),await this.transport.request({method:"suix_getOwnedObjects",params:[t.owner,{filter:n,options:t.options},t.cursor,t.limit],signal:t.signal})}async getObject(t){if(!t.id||!s0(yo(t.id)))throw new Error("Invalid Sui Object id");return await this.transport.request({method:"sui_getObject",params:[t.id,t.options],signal:t.signal})}async tryGetPastObject(t){return await this.transport.request({method:"sui_tryGetPastObject",params:[t.id,t.version,t.options],signal:t.signal})}async multiGetObjects(t){if(t.ids.forEach(r=>{if(!r||!s0(yo(r)))throw new Error(`Invalid Sui Object id ${r}`)}),t.ids.length!==new Set(t.ids).size)throw new Error(`Duplicate object ids in batch call ${t.ids}`);return await this.transport.request({method:"sui_multiGetObjects",params:[t.ids,t.options],signal:t.signal})}async queryTransactionBlocks({filter:t,options:n,cursor:r,limit:s,order:i,signal:o}){return t&&"MoveFunction"in t&&Rs(t.MoveFunction.package)&&(t={...t,MoveFunction:{package:(await this.core.mvr.resolvePackage({package:t.MoveFunction.package})).package}}),await this.transport.request({method:"suix_queryTransactionBlocks",params:[{filter:t,options:n},r,s,(i||"descending")==="descending"],signal:o})}async getTransactionBlock(t){if(!wI(t.digest))throw new Error("Invalid Transaction digest");return await this.transport.request({method:"sui_getTransactionBlock",params:[t.digest,t.options],signal:t.signal})}async multiGetTransactionBlocks(t){if(t.digests.forEach(r=>{if(!wI(r))throw new Error(`Invalid Transaction digest ${r}`)}),t.digests.length!==new Set(t.digests).size)throw new Error(`Duplicate digests in batch call ${t.digests}`);return await this.transport.request({method:"sui_multiGetTransactionBlocks",params:[t.digests,t.options],signal:t.signal})}async executeTransactionBlock({transactionBlock:t,signature:n,options:r,requestType:s,signal:i}){const o=await this.transport.request({method:"sui_executeTransactionBlock",params:[typeof t=="string"?t:Hn(t),Array.isArray(n)?n:[n],r],signal:i});if(s==="WaitForLocalExecution")try{await this.waitForTransaction({digest:o.digest})}catch{}return o}async signAndExecuteTransaction({transaction:t,signer:n,...r}){let s;t instanceof Uint8Array?s=t:(t.setSenderIfNotSet(n.toSuiAddress()),s=await t.build({client:this}));const{signature:i,bytes:o}=await n.signTransaction(s);return this.executeTransactionBlock({transactionBlock:o,signature:i,...r})}async getTotalTransactionBlocks({signal:t}={}){const n=await this.transport.request({method:"sui_getTotalTransactionBlocks",params:[],signal:t});return BigInt(n)}async getReferenceGasPrice({signal:t}={}){const n=await this.transport.request({method:"suix_getReferenceGasPrice",params:[],signal:t});return BigInt(n)}async getStakes(t){if(!t.owner||!di(bt(t.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getStakes",params:[t.owner],signal:t.signal})}async getStakesByIds(t){return t.stakedSuiIds.forEach(n=>{if(!n||!s0(yo(n)))throw new Error(`Invalid Sui Stake id ${n}`)}),await this.transport.request({method:"suix_getStakesByIds",params:[t.stakedSuiIds],signal:t.signal})}async getLatestSuiSystemState({signal:t}={}){return await this.transport.request({method:"suix_getLatestSuiSystemState",params:[],signal:t})}async queryEvents({query:t,cursor:n,limit:r,order:s,signal:i}){return t&&"MoveEventType"in t&&qr(t.MoveEventType)&&(t={...t,MoveEventType:(await this.core.mvr.resolveType({type:t.MoveEventType})).type}),t&&"MoveEventModule"in t&&Rs(t.MoveEventModule.package)&&(t={...t,MoveEventModule:{module:t.MoveEventModule.module,package:(await this.core.mvr.resolvePackage({package:t.MoveEventModule.package})).package}}),"MoveModule"in t&&Rs(t.MoveModule.package)&&(t={...t,MoveModule:{module:t.MoveModule.module,package:(await this.core.mvr.resolvePackage({package:t.MoveModule.package})).package}}),await this.transport.request({method:"suix_queryEvents",params:[t,n,r,(s||"descending")==="descending"],signal:i})}async subscribeEvent(t){return this.transport.subscribe({method:"suix_subscribeEvent",unsubscribe:"suix_unsubscribeEvent",params:[t.filter],onMessage:t.onMessage,signal:t.signal})}async subscribeTransaction(t){return this.transport.subscribe({method:"suix_subscribeTransaction",unsubscribe:"suix_unsubscribeTransaction",params:[t.filter],onMessage:t.onMessage,signal:t.signal})}async devInspectTransactionBlock(t){var r,s;let n;if(p_(t.transactionBlock))t.transactionBlock.setSenderIfNotSet(t.sender),n=Hn(await t.transactionBlock.build({client:this,onlyTransactionKind:!0}));else if(typeof t.transactionBlock=="string")n=t.transactionBlock;else if(t.transactionBlock instanceof Uint8Array)n=Hn(t.transactionBlock);else throw new Error("Unknown transaction block format.");return(r=t.signal)==null||r.throwIfAborted(),await this.transport.request({method:"sui_devInspectTransactionBlock",params:[t.sender,n,(s=t.gasPrice)==null?void 0:s.toString(),t.epoch],signal:t.signal})}async dryRunTransactionBlock(t){return await this.transport.request({method:"sui_dryRunTransactionBlock",params:[typeof t.transactionBlock=="string"?t.transactionBlock:Hn(t.transactionBlock)]})}async getDynamicFields(t){if(!t.parentId||!s0(yo(t.parentId)))throw new Error("Invalid Sui Object id");return await this.transport.request({method:"suix_getDynamicFields",params:[t.parentId,t.cursor,t.limit],signal:t.signal})}async getDynamicFieldObject(t){return await this.transport.request({method:"suix_getDynamicFieldObject",params:[t.parentId,t.name],signal:t.signal})}async getLatestCheckpointSequenceNumber({signal:t}={}){const n=await this.transport.request({method:"sui_getLatestCheckpointSequenceNumber",params:[],signal:t});return String(n)}async getCheckpoint(t){return await this.transport.request({method:"sui_getCheckpoint",params:[t.id],signal:t.signal})}async getCheckpoints(t){return await this.transport.request({method:"sui_getCheckpoints",params:[t.cursor,t==null?void 0:t.limit,t.descendingOrder],signal:t.signal})}async getCommitteeInfo(t){return await this.transport.request({method:"suix_getCommitteeInfo",params:[t==null?void 0:t.epoch],signal:t==null?void 0:t.signal})}async getNetworkMetrics({signal:t}={}){return await this.transport.request({method:"suix_getNetworkMetrics",params:[],signal:t})}async getAddressMetrics({signal:t}={}){return await this.transport.request({method:"suix_getLatestAddressMetrics",params:[],signal:t})}async getEpochMetrics(t){return await this.transport.request({method:"suix_getEpochMetrics",params:[t==null?void 0:t.cursor,t==null?void 0:t.limit,t==null?void 0:t.descendingOrder],signal:t==null?void 0:t.signal})}async getAllEpochAddressMetrics(t){return await this.transport.request({method:"suix_getAllEpochAddressMetrics",params:[t==null?void 0:t.descendingOrder],signal:t==null?void 0:t.signal})}async getEpochs(t){return await this.transport.request({method:"suix_getEpochs",params:[t==null?void 0:t.cursor,t==null?void 0:t.limit,t==null?void 0:t.descendingOrder],signal:t==null?void 0:t.signal})}async getMoveCallMetrics({signal:t}={}){return await this.transport.request({method:"suix_getMoveCallMetrics",params:[],signal:t})}async getCurrentEpoch({signal:t}={}){return await this.transport.request({method:"suix_getCurrentEpoch",params:[],signal:t})}async getValidatorsApy({signal:t}={}){return await this.transport.request({method:"suix_getValidatorsApy",params:[],signal:t})}async getChainIdentifier({signal:t}={}){const n=await this.getCheckpoint({id:"0",signal:t}),r=la(n.digest);return da(r.slice(0,4))}async resolveNameServiceAddress(t){return await this.transport.request({method:"suix_resolveNameServiceAddress",params:[t.name],signal:t.signal})}async resolveNameServiceNames({format:t="dot",...n}){const{nextCursor:r,hasNextPage:s,data:i}=await this.transport.request({method:"suix_resolveNameServiceNames",params:[n.address,n.cursor,n.limit],signal:n.signal});return{hasNextPage:s,nextCursor:r,data:i.map(o=>WU(o,t))}}async getProtocolConfig(t){return await this.transport.request({method:"sui_getProtocolConfig",params:[t==null?void 0:t.version],signal:t==null?void 0:t.signal})}async verifyZkLoginSignature(t){return await this.transport.request({method:"sui_verifyZkLoginSignature",params:[t.bytes,t.signature,t.intentScope,t.author],signal:t.signal})}async waitForTransaction({signal:t,timeout:n=60*1e3,pollInterval:r=2*1e3,...s}){const i=AbortSignal.timeout(n),o=new Promise((a,c)=>{i.addEventListener("abort",()=>c(i.reason))});for(o.catch(()=>{});!i.aborted;){t==null||t.throwIfAborted();try{return await this.getTransactionBlock(s)}catch{await Promise.race([new Promise(a=>setTimeout(a,r)),o])}}throw i.throwIfAborted(),new Error("Unexpected error while waiting for transaction block.")}}const sH=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ja=new Uint32Array(64);class VE extends EE{constructor(t=32){super(64,t,8,!1),this.A=Ba[0]|0,this.B=Ba[1]|0,this.C=Ba[2]|0,this.D=Ba[3]|0,this.E=Ba[4]|0,this.F=Ba[5]|0,this.G=Ba[6]|0,this.H=Ba[7]|0}get(){const{A:t,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[t,n,r,s,i,o,a,c]}set(t,n,r,s,i,o,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,n){for(let f=0;f<16;f++,n+=4)ja[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){const d=ja[f-15],h=ja[f-2],p=Ii(d,7)^Ii(d,18)^d>>>3,m=Ii(h,17)^Ii(h,19)^h>>>10;ja[f]=m+ja[f-7]+p+ja[f-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let f=0;f<64;f++){const d=Ii(a,6)^Ii(a,11)^Ii(a,25),h=l+d+hL(a,c,u)+sH[f]+ja[f]|0,m=(Ii(r,2)^Ii(r,13)^Ii(r,22))+pL(r,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+m|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,c,u,l)}roundClean(){ss(ja)}destroy(){this.set(0,0,0,0,0,0,0,0),ss(this.buffer)}}class Y_ extends VE{constructor(){super(28),this.A=Na[0]|0,this.B=Na[1]|0,this.C=Na[2]|0,this.D=Na[3]|0,this.E=Na[4]|0,this.F=Na[5]|0,this.G=Na[6]|0,this.H=Na[7]|0}}const Z_=_C(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),iH=Z_[0],oH=Z_[1],Ra=new Uint32Array(80),Da=new Uint32Array(80);class wp extends EE{constructor(t=64){super(128,t,16,!1),this.Ah=Nr[0]|0,this.Al=Nr[1]|0,this.Bh=Nr[2]|0,this.Bl=Nr[3]|0,this.Ch=Nr[4]|0,this.Cl=Nr[5]|0,this.Dh=Nr[6]|0,this.Dl=Nr[7]|0,this.Eh=Nr[8]|0,this.El=Nr[9]|0,this.Fh=Nr[10]|0,this.Fl=Nr[11]|0,this.Gh=Nr[12]|0,this.Gl=Nr[13]|0,this.Hh=Nr[14]|0,this.Hl=Nr[15]|0}get(){const{Ah:t,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:f,Fl:d,Gh:h,Gl:p,Hh:m,Hl:y}=this;return[t,n,r,s,i,o,a,c,u,l,f,d,h,p,m,y]}set(t,n,r,s,i,o,a,c,u,l,f,d,h,p,m,y){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=f|0,this.Fl=d|0,this.Gh=h|0,this.Gl=p|0,this.Hh=m|0,this.Hl=y|0}process(t,n){for(let v=0;v<16;v++,n+=4)Ra[v]=t.getUint32(n),Da[v]=t.getUint32(n+=4);for(let v=16;v<80;v++){const E=Ra[v-15]|0,S=Da[v-15]|0,N=Ga(E,S,1)^Ga(E,S,8)^EI(E,S,7),O=Va(E,S,1)^Va(E,S,8)^xI(E,S,7),z=Ra[v-2]|0,L=Da[v-2]|0,F=Ga(z,L,19)^Lf(z,L,61)^EI(z,L,6),H=Va(z,L,19)^$f(z,L,61)^xI(z,L,6),G=EL(O,H,Da[v-7],Da[v-16]),M=xL(G,N,F,Ra[v-7],Ra[v-16]);Ra[v]=M|0,Da[v]=G|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:f,El:d,Fh:h,Fl:p,Gh:m,Gl:y,Hh:b,Hl:I}=this;for(let v=0;v<80;v++){const E=Ga(f,d,14)^Ga(f,d,18)^Lf(f,d,41),S=Va(f,d,14)^Va(f,d,18)^$f(f,d,41),N=f&h^~f&m,O=d&p^~d&y,z=AL(I,S,O,oH[v],Da[v]),L=IL(z,b,E,N,iH[v],Ra[v]),F=z|0,H=Ga(r,s,28)^Lf(r,s,34)^Lf(r,s,39),G=Va(r,s,28)^$f(r,s,34)^$f(r,s,39),M=r&i^r&a^i&a,g=s&o^s&c^o&c;b=m|0,I=y|0,m=h|0,y=p|0,h=f|0,p=d|0,{h:f,l:d}=ki(u|0,l|0,L|0,F|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const w=xE(F,G,g);r=AE(w,L,H,M),s=w|0}({h:r,l:s}=ki(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=ki(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=ki(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=ki(this.Dh|0,this.Dl|0,u|0,l|0),{h:f,l:d}=ki(this.Eh|0,this.El|0,f|0,d|0),{h,l:p}=ki(this.Fh|0,this.Fl|0,h|0,p|0),{h:m,l:y}=ki(this.Gh|0,this.Gl|0,m|0,y|0),{h:b,l:I}=ki(this.Hh|0,this.Hl|0,b|0,I|0),this.set(r,s,i,o,a,c,u,l,f,d,h,p,m,y,b,I)}roundClean(){ss(Ra,Da)}destroy(){ss(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class X_ extends wp{constructor(){super(48),this.Ah=Br[0]|0,this.Al=Br[1]|0,this.Bh=Br[2]|0,this.Bl=Br[3]|0,this.Ch=Br[4]|0,this.Cl=Br[5]|0,this.Dh=Br[6]|0,this.Dl=Br[7]|0,this.Eh=Br[8]|0,this.El=Br[9]|0,this.Fh=Br[10]|0,this.Fl=Br[11]|0,this.Gh=Br[12]|0,this.Gl=Br[13]|0,this.Hh=Br[14]|0,this.Hl=Br[15]|0}}const Pr=Uint32Array.from([2352822216,424955298,1944164710,2312950998,502970286,855612546,1738396948,1479516111,258812777,2077511080,2011393907,79989058,1067287976,1780299464,286451373,2446758561]),jr=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class J_ extends wp{constructor(){super(28),this.Ah=Pr[0]|0,this.Al=Pr[1]|0,this.Bh=Pr[2]|0,this.Bl=Pr[3]|0,this.Ch=Pr[4]|0,this.Cl=Pr[5]|0,this.Dh=Pr[6]|0,this.Dl=Pr[7]|0,this.Eh=Pr[8]|0,this.El=Pr[9]|0,this.Fh=Pr[10]|0,this.Fl=Pr[11]|0,this.Gh=Pr[12]|0,this.Gl=Pr[13]|0,this.Hh=Pr[14]|0,this.Hl=Pr[15]|0}}class eM extends wp{constructor(){super(32),this.Ah=jr[0]|0,this.Al=jr[1]|0,this.Bh=jr[2]|0,this.Bl=jr[3]|0,this.Ch=jr[4]|0,this.Cl=jr[5]|0,this.Dh=jr[6]|0,this.Dl=jr[7]|0,this.Eh=jr[8]|0,this.El=jr[9]|0,this.Fh=jr[10]|0,this.Fl=jr[11]|0,this.Gh=jr[12]|0,this.Gl=jr[13]|0,this.Hh=jr[14]|0,this.Hl=jr[15]|0}}const Jy=Ao(()=>new VE),aH=Ao(()=>new Y_),KE=Ao(()=>new wp),cH=Ao(()=>new X_),uH=Ao(()=>new eM),lH=Ao(()=>new J_),dH=Object.freeze(Object.defineProperty({__proto__:null,SHA224:Y_,SHA256:VE,SHA384:X_,SHA512:wp,SHA512_224:J_,SHA512_256:eM,sha224:aH,sha256:Jy,sha384:cH,sha512:KE,sha512_224:lH,sha512_256:uH},Symbol.toStringTag,{value:"Module"}));class QE extends lp{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Gy(t);const r=zi(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?t.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=t.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),ss(i)}update(t){return fa(this),this.iHash.update(t),this}digestInto(t){fa(this),vi(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=i,t.blockLen=o,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const bp=(e,t,n)=>new QE(e,t).update(n).digest();bp.create=(e,t)=>new QE(e,t);const fH=Object.freeze(Object.defineProperty({__proto__:null,HMAC:QE,hmac:bp},Symbol.toStringTag,{value:"Module"})),Fn=Jy;function hH(e,t,n,r){Gy(e);const s=kC({dkLen:32,asyncTick:10},r),{c:i,dkLen:o,asyncTick:a}=s;if(Ks(i),Ks(o),Ks(a),i<1)throw new Error("iterations (c) should be >= 1");const c=qb(t),u=qb(n),l=new Uint8Array(o),f=bp.create(e,c),d=f._cloneInto().update(u);return{c:i,dkLen:o,asyncTick:a,DK:l,PRF:f,PRFSalt:d}}function pH(e,t,n,r,s){return e.destroy(),t.destroy(),r&&r.destroy(),ss(s),n}function mH(e,t,n,r){const{c:s,dkLen:i,DK:o,PRF:a,PRFSalt:c}=hH(e,t,n,r);let u;const l=new Uint8Array(4),f=Xf(l),d=new Uint8Array(a.outputLen);for(let h=1,p=0;p<i;h++,p+=a.outputLen){const m=o.subarray(p,p+a.outputLen);f.setInt32(0,h,!1),(u=c._cloneInto(u)).update(l).digestInto(d),m.set(d.subarray(0,m.length));for(let y=1;y<s;y++){a._cloneInto(u).update(d).digestInto(d);for(let b=0;b<m.length;b++)m[b]^=d[b]}}return pH(a,c,o,u,d)}/*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) */function tM(e){if(typeof e!="string")throw new TypeError("invalid mnemonic type: "+typeof e);return e.normalize("NFKD")}function yH(e){const t=tM(e),n=t.split(" ");if(![12,15,18,21,24].includes(n.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:n}}const gH=e=>tM("mnemonic"+e);function o1e(e,t=""){return mH(KE,yH(e).nfkd,gH(t),{c:2048,dkLen:64})}function ZI(e){var t=e.match(/^var\((.*)\)$/);return t?t[1]:e}function wH(e,t){var n=e;for(var r of t){if(!(r in n))throw new Error("Path ".concat(t.join(" -> ")," does not exist in object"));n=n[r]}return n}function nM(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r={};for(var s in e){var i=e[s],o=[...n,s];typeof i=="string"||typeof i=="number"||i==null?r[s]=t(i,o):typeof i=="object"&&!Array.isArray(i)?r[s]=nM(i,t,o):console.warn('Skipping invalid key "'.concat(o.join("."),'". Should be a string, number, null or object. Received: "').concat(Array.isArray(i)?"Array":typeof i,'"'))}return r}var tr={},eg={};eg.byteLength=EH;eg.toByteArray=AH;eg.fromByteArray=kH;var mo=[],si=[],bH=typeof Uint8Array<"u"?Uint8Array:Array,t1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var pl=0,vH=t1.length;pl<vH;++pl)mo[pl]=t1[pl],si[t1.charCodeAt(pl)]=pl;si[45]=62;si[95]=63;function rM(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function EH(e){var t=rM(e),n=t[0],r=t[1];return(n+r)*3/4-r}function xH(e,t,n){return(t+n)*3/4-n}function AH(e){var t,n=rM(e),r=n[0],s=n[1],i=new bH(xH(e,r,s)),o=0,a=s>0?r-4:r,c;for(c=0;c<a;c+=4)t=si[e.charCodeAt(c)]<<18|si[e.charCodeAt(c+1)]<<12|si[e.charCodeAt(c+2)]<<6|si[e.charCodeAt(c+3)],i[o++]=t>>16&255,i[o++]=t>>8&255,i[o++]=t&255;return s===2&&(t=si[e.charCodeAt(c)]<<2|si[e.charCodeAt(c+1)]>>4,i[o++]=t&255),s===1&&(t=si[e.charCodeAt(c)]<<10|si[e.charCodeAt(c+1)]<<4|si[e.charCodeAt(c+2)]>>2,i[o++]=t>>8&255,i[o++]=t&255),i}function IH(e){return mo[e>>18&63]+mo[e>>12&63]+mo[e>>6&63]+mo[e&63]}function SH(e,t,n){for(var r,s=[],i=t;i<n;i+=3)r=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(e[i+2]&255),s.push(IH(r));return s.join("")}function kH(e){for(var t,n=e.length,r=n%3,s=[],i=16383,o=0,a=n-r;o<a;o+=i)s.push(SH(e,o,o+i>a?a:o+i));return r===1?(t=e[n-1],s.push(mo[t>>2]+mo[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],s.push(mo[t>>10]+mo[t>>4&63]+mo[t<<2&63]+"=")),s.join("")}var YE={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */YE.read=function(e,t,n,r,s){var i,o,a=s*8-r-1,c=(1<<a)-1,u=c>>1,l=-7,f=n?s-1:0,d=n?-1:1,h=e[t+f];for(f+=d,i=h&(1<<-l)-1,h>>=-l,l+=a;l>0;i=i*256+e[t+f],f+=d,l-=8);for(o=i&(1<<-l)-1,i>>=-l,l+=r;l>0;o=o*256+e[t+f],f+=d,l-=8);if(i===0)i=1-u;else{if(i===c)return o?NaN:(h?-1:1)*(1/0);o=o+Math.pow(2,r),i=i-u}return(h?-1:1)*o*Math.pow(2,i-r)};YE.write=function(e,t,n,r,s,i){var o,a,c,u=i*8-s-1,l=(1<<u)-1,f=l>>1,d=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,m=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+f>=1?t+=d/c:t+=d*Math.pow(2,1-f),t*c>=2&&(o++,c/=2),o+f>=l?(a=0,o=l):o+f>=1?(a=(t*c-1)*Math.pow(2,s),o=o+f):(a=t*Math.pow(2,f-1)*Math.pow(2,s),o=0));s>=8;e[n+h]=a&255,h+=p,a/=256,s-=8);for(o=o<<s|a,u+=s;u>0;e[n+h]=o&255,h+=p,o/=256,u-=8);e[n+h-p]|=m*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=eg,n=YE,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=l,e.SlowBuffer=S,e.INSPECT_MAX_BYTES=50;const s=2147483647;e.kMaxLength=s;const{Uint8Array:i,ArrayBuffer:o,SharedArrayBuffer:a}=globalThis;l.TYPED_ARRAY_SUPPORT=c(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{const R=new i(1),A={foo:function(){return 42}};return Object.setPrototypeOf(A,i.prototype),Object.setPrototypeOf(R,A),R.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function u(R){if(R>s)throw new RangeError('The value "'+R+'" is invalid for option "size"');const A=new i(R);return Object.setPrototypeOf(A,l.prototype),A}function l(R,A,C){if(typeof R=="number"){if(typeof A=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(R)}return f(R,A,C)}l.poolSize=8192;function f(R,A,C){if(typeof R=="string")return m(R,A);if(o.isView(R))return b(R);if(R==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof R);if(ce(R,o)||R&&ce(R.buffer,o)||typeof a<"u"&&(ce(R,a)||R&&ce(R.buffer,a)))return I(R,A,C);if(typeof R=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const U=R.valueOf&&R.valueOf();if(U!=null&&U!==R)return l.from(U,A,C);const W=v(R);if(W)return W;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof R[Symbol.toPrimitive]=="function")return l.from(R[Symbol.toPrimitive]("string"),A,C);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof R)}l.from=function(R,A,C){return f(R,A,C)},Object.setPrototypeOf(l.prototype,i.prototype),Object.setPrototypeOf(l,i);function d(R){if(typeof R!="number")throw new TypeError('"size" argument must be of type number');if(R<0)throw new RangeError('The value "'+R+'" is invalid for option "size"')}function h(R,A,C){return d(R),R<=0?u(R):A!==void 0?typeof C=="string"?u(R).fill(A,C):u(R).fill(A):u(R)}l.alloc=function(R,A,C){return h(R,A,C)};function p(R){return d(R),u(R<0?0:E(R)|0)}l.allocUnsafe=function(R){return p(R)},l.allocUnsafeSlow=function(R){return p(R)};function m(R,A){if((typeof A!="string"||A==="")&&(A="utf8"),!l.isEncoding(A))throw new TypeError("Unknown encoding: "+A);const C=N(R,A)|0;let U=u(C);const W=U.write(R,A);return W!==C&&(U=U.slice(0,W)),U}function y(R){const A=R.length<0?0:E(R.length)|0,C=u(A);for(let U=0;U<A;U+=1)C[U]=R[U]&255;return C}function b(R){if(ce(R,i)){const A=new i(R);return I(A.buffer,A.byteOffset,A.byteLength)}return y(R)}function I(R,A,C){if(A<0||R.byteLength<A)throw new RangeError('"offset" is outside of buffer bounds');if(R.byteLength<A+(C||0))throw new RangeError('"length" is outside of buffer bounds');let U;return A===void 0&&C===void 0?U=new i(R):C===void 0?U=new i(R,A):U=new i(R,A,C),Object.setPrototypeOf(U,l.prototype),U}function v(R){if(l.isBuffer(R)){const A=E(R.length)|0,C=u(A);return C.length===0||R.copy(C,0,0,A),C}if(R.length!==void 0)return typeof R.length!="number"||ie(R.length)?u(0):y(R);if(R.type==="Buffer"&&Array.isArray(R.data))return y(R.data)}function E(R){if(R>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return R|0}function S(R){return+R!=R&&(R=0),l.alloc(+R)}l.isBuffer=function(A){return A!=null&&A._isBuffer===!0&&A!==l.prototype},l.compare=function(A,C){if(ce(A,i)&&(A=l.from(A,A.offset,A.byteLength)),ce(C,i)&&(C=l.from(C,C.offset,C.byteLength)),!l.isBuffer(A)||!l.isBuffer(C))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(A===C)return 0;let U=A.length,W=C.length;for(let X=0,J=Math.min(U,W);X<J;++X)if(A[X]!==C[X]){U=A[X],W=C[X];break}return U<W?-1:W<U?1:0},l.isEncoding=function(A){switch(String(A).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(A,C){if(!Array.isArray(A))throw new TypeError('"list" argument must be an Array of Buffers');if(A.length===0)return l.alloc(0);let U;if(C===void 0)for(C=0,U=0;U<A.length;++U)C+=A[U].length;const W=l.allocUnsafe(C);let X=0;for(U=0;U<A.length;++U){let J=A[U];if(ce(J,i))X+J.length>W.length?(l.isBuffer(J)||(J=l.from(J)),J.copy(W,X)):i.prototype.set.call(W,J,X);else if(l.isBuffer(J))J.copy(W,X);else throw new TypeError('"list" argument must be an Array of Buffers');X+=J.length}return W};function N(R,A){if(l.isBuffer(R))return R.length;if(o.isView(R)||ce(R,o))return R.byteLength;if(typeof R!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof R);const C=R.length,U=arguments.length>2&&arguments[2]===!0;if(!U&&C===0)return 0;let W=!1;for(;;)switch(A){case"ascii":case"latin1":case"binary":return C;case"utf8":case"utf-8":return Re(R).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C*2;case"hex":return C>>>1;case"base64":return He(R).length;default:if(W)return U?-1:Re(R).length;A=(""+A).toLowerCase(),W=!0}}l.byteLength=N;function O(R,A,C){let U=!1;if((A===void 0||A<0)&&(A=0),A>this.length||((C===void 0||C>this.length)&&(C=this.length),C<=0)||(C>>>=0,A>>>=0,C<=A))return"";for(R||(R="utf8");;)switch(R){case"hex":return k(this,A,C);case"utf8":case"utf-8":return _(this,A,C);case"ascii":return D(this,A,C);case"latin1":case"binary":return P(this,A,C);case"base64":return T(this,A,C);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,A,C);default:if(U)throw new TypeError("Unknown encoding: "+R);R=(R+"").toLowerCase(),U=!0}}l.prototype._isBuffer=!0;function z(R,A,C){const U=R[A];R[A]=R[C],R[C]=U}l.prototype.swap16=function(){const A=this.length;if(A%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let C=0;C<A;C+=2)z(this,C,C+1);return this},l.prototype.swap32=function(){const A=this.length;if(A%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let C=0;C<A;C+=4)z(this,C,C+3),z(this,C+1,C+2);return this},l.prototype.swap64=function(){const A=this.length;if(A%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let C=0;C<A;C+=8)z(this,C,C+7),z(this,C+1,C+6),z(this,C+2,C+5),z(this,C+3,C+4);return this},l.prototype.toString=function(){const A=this.length;return A===0?"":arguments.length===0?_(this,0,A):O.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(A){if(!l.isBuffer(A))throw new TypeError("Argument must be a Buffer");return this===A?!0:l.compare(this,A)===0},l.prototype.inspect=function(){let A="";const C=e.INSPECT_MAX_BYTES;return A=this.toString("hex",0,C).replace(/(.{2})/g,"$1 ").trim(),this.length>C&&(A+=" ... "),"<Buffer "+A+">"},r&&(l.prototype[r]=l.prototype.inspect),l.prototype.compare=function(A,C,U,W,X){if(ce(A,i)&&(A=l.from(A,A.offset,A.byteLength)),!l.isBuffer(A))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof A);if(C===void 0&&(C=0),U===void 0&&(U=A?A.length:0),W===void 0&&(W=0),X===void 0&&(X=this.length),C<0||U>A.length||W<0||X>this.length)throw new RangeError("out of range index");if(W>=X&&C>=U)return 0;if(W>=X)return-1;if(C>=U)return 1;if(C>>>=0,U>>>=0,W>>>=0,X>>>=0,this===A)return 0;let J=X-W,ye=U-C;const ue=Math.min(J,ye),Oe=this.slice(W,X),Xe=A.slice(C,U);for(let Pe=0;Pe<ue;++Pe)if(Oe[Pe]!==Xe[Pe]){J=Oe[Pe],ye=Xe[Pe];break}return J<ye?-1:ye<J?1:0};function L(R,A,C,U,W){if(R.length===0)return-1;if(typeof C=="string"?(U=C,C=0):C>2147483647?C=2147483647:C<-2147483648&&(C=-2147483648),C=+C,ie(C)&&(C=W?0:R.length-1),C<0&&(C=R.length+C),C>=R.length){if(W)return-1;C=R.length-1}else if(C<0)if(W)C=0;else return-1;if(typeof A=="string"&&(A=l.from(A,U)),l.isBuffer(A))return A.length===0?-1:F(R,A,C,U,W);if(typeof A=="number")return A=A&255,typeof i.prototype.indexOf=="function"?W?i.prototype.indexOf.call(R,A,C):i.prototype.lastIndexOf.call(R,A,C):F(R,[A],C,U,W);throw new TypeError("val must be string, number or Buffer")}function F(R,A,C,U,W){let X=1,J=R.length,ye=A.length;if(U!==void 0&&(U=String(U).toLowerCase(),U==="ucs2"||U==="ucs-2"||U==="utf16le"||U==="utf-16le")){if(R.length<2||A.length<2)return-1;X=2,J/=2,ye/=2,C/=2}function ue(Xe,Pe){return X===1?Xe[Pe]:Xe.readUInt16BE(Pe*X)}let Oe;if(W){let Xe=-1;for(Oe=C;Oe<J;Oe++)if(ue(R,Oe)===ue(A,Xe===-1?0:Oe-Xe)){if(Xe===-1&&(Xe=Oe),Oe-Xe+1===ye)return Xe*X}else Xe!==-1&&(Oe-=Oe-Xe),Xe=-1}else for(C+ye>J&&(C=J-ye),Oe=C;Oe>=0;Oe--){let Xe=!0;for(let Pe=0;Pe<ye;Pe++)if(ue(R,Oe+Pe)!==ue(A,Pe)){Xe=!1;break}if(Xe)return Oe}return-1}l.prototype.includes=function(A,C,U){return this.indexOf(A,C,U)!==-1},l.prototype.indexOf=function(A,C,U){return L(this,A,C,U,!0)},l.prototype.lastIndexOf=function(A,C,U){return L(this,A,C,U,!1)};function H(R,A,C,U){C=Number(C)||0;const W=R.length-C;U?(U=Number(U),U>W&&(U=W)):U=W;const X=A.length;U>X/2&&(U=X/2);let J;for(J=0;J<U;++J){const ye=parseInt(A.substr(J*2,2),16);if(ie(ye))return J;R[C+J]=ye}return J}function G(R,A,C,U){return ae(Re(A,R.length-C),R,C,U)}function M(R,A,C,U){return ae(Bt(A),R,C,U)}function g(R,A,C,U){return ae(He(A),R,C,U)}function w(R,A,C,U){return ae(Mr(A,R.length-C),R,C,U)}l.prototype.write=function(A,C,U,W){if(C===void 0)W="utf8",U=this.length,C=0;else if(U===void 0&&typeof C=="string")W=C,U=this.length,C=0;else if(isFinite(C))C=C>>>0,isFinite(U)?(U=U>>>0,W===void 0&&(W="utf8")):(W=U,U=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const X=this.length-C;if((U===void 0||U>X)&&(U=X),A.length>0&&(U<0||C<0)||C>this.length)throw new RangeError("Attempt to write outside buffer bounds");W||(W="utf8");let J=!1;for(;;)switch(W){case"hex":return H(this,A,C,U);case"utf8":case"utf-8":return G(this,A,C,U);case"ascii":case"latin1":case"binary":return M(this,A,C,U);case"base64":return g(this,A,C,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,A,C,U);default:if(J)throw new TypeError("Unknown encoding: "+W);W=(""+W).toLowerCase(),J=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function T(R,A,C){return A===0&&C===R.length?t.fromByteArray(R):t.fromByteArray(R.slice(A,C))}function _(R,A,C){C=Math.min(R.length,C);const U=[];let W=A;for(;W<C;){const X=R[W];let J=null,ye=X>239?4:X>223?3:X>191?2:1;if(W+ye<=C){let ue,Oe,Xe,Pe;switch(ye){case 1:X<128&&(J=X);break;case 2:ue=R[W+1],(ue&192)===128&&(Pe=(X&31)<<6|ue&63,Pe>127&&(J=Pe));break;case 3:ue=R[W+1],Oe=R[W+2],(ue&192)===128&&(Oe&192)===128&&(Pe=(X&15)<<12|(ue&63)<<6|Oe&63,Pe>2047&&(Pe<55296||Pe>57343)&&(J=Pe));break;case 4:ue=R[W+1],Oe=R[W+2],Xe=R[W+3],(ue&192)===128&&(Oe&192)===128&&(Xe&192)===128&&(Pe=(X&15)<<18|(ue&63)<<12|(Oe&63)<<6|Xe&63,Pe>65535&&Pe<1114112&&(J=Pe))}}J===null?(J=65533,ye=1):J>65535&&(J-=65536,U.push(J>>>10&1023|55296),J=56320|J&1023),U.push(J),W+=ye}return j(U)}const x=4096;function j(R){const A=R.length;if(A<=x)return String.fromCharCode.apply(String,R);let C="",U=0;for(;U<A;)C+=String.fromCharCode.apply(String,R.slice(U,U+=x));return C}function D(R,A,C){let U="";C=Math.min(R.length,C);for(let W=A;W<C;++W)U+=String.fromCharCode(R[W]&127);return U}function P(R,A,C){let U="";C=Math.min(R.length,C);for(let W=A;W<C;++W)U+=String.fromCharCode(R[W]);return U}function k(R,A,C){const U=R.length;(!A||A<0)&&(A=0),(!C||C<0||C>U)&&(C=U);let W="";for(let X=A;X<C;++X)W+=me[R[X]];return W}function $(R,A,C){const U=R.slice(A,C);let W="";for(let X=0;X<U.length-1;X+=2)W+=String.fromCharCode(U[X]+U[X+1]*256);return W}l.prototype.slice=function(A,C){const U=this.length;A=~~A,C=C===void 0?U:~~C,A<0?(A+=U,A<0&&(A=0)):A>U&&(A=U),C<0?(C+=U,C<0&&(C=0)):C>U&&(C=U),C<A&&(C=A);const W=this.subarray(A,C);return Object.setPrototypeOf(W,l.prototype),W};function Z(R,A,C){if(R%1!==0||R<0)throw new RangeError("offset is not uint");if(R+A>C)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(A,C,U){A=A>>>0,C=C>>>0,U||Z(A,C,this.length);let W=this[A],X=1,J=0;for(;++J<C&&(X*=256);)W+=this[A+J]*X;return W},l.prototype.readUintBE=l.prototype.readUIntBE=function(A,C,U){A=A>>>0,C=C>>>0,U||Z(A,C,this.length);let W=this[A+--C],X=1;for(;C>0&&(X*=256);)W+=this[A+--C]*X;return W},l.prototype.readUint8=l.prototype.readUInt8=function(A,C){return A=A>>>0,C||Z(A,1,this.length),this[A]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(A,C){return A=A>>>0,C||Z(A,2,this.length),this[A]|this[A+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(A,C){return A=A>>>0,C||Z(A,2,this.length),this[A]<<8|this[A+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(A,C){return A=A>>>0,C||Z(A,4,this.length),(this[A]|this[A+1]<<8|this[A+2]<<16)+this[A+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(A,C){return A=A>>>0,C||Z(A,4,this.length),this[A]*16777216+(this[A+1]<<16|this[A+2]<<8|this[A+3])},l.prototype.readBigUInt64LE=xe(function(A){A=A>>>0,It(A,"offset");const C=this[A],U=this[A+7];(C===void 0||U===void 0)&&mt(A,this.length-8);const W=C+this[++A]*2**8+this[++A]*2**16+this[++A]*2**24,X=this[++A]+this[++A]*2**8+this[++A]*2**16+U*2**24;return BigInt(W)+(BigInt(X)<<BigInt(32))}),l.prototype.readBigUInt64BE=xe(function(A){A=A>>>0,It(A,"offset");const C=this[A],U=this[A+7];(C===void 0||U===void 0)&&mt(A,this.length-8);const W=C*2**24+this[++A]*2**16+this[++A]*2**8+this[++A],X=this[++A]*2**24+this[++A]*2**16+this[++A]*2**8+U;return(BigInt(W)<<BigInt(32))+BigInt(X)}),l.prototype.readIntLE=function(A,C,U){A=A>>>0,C=C>>>0,U||Z(A,C,this.length);let W=this[A],X=1,J=0;for(;++J<C&&(X*=256);)W+=this[A+J]*X;return X*=128,W>=X&&(W-=Math.pow(2,8*C)),W},l.prototype.readIntBE=function(A,C,U){A=A>>>0,C=C>>>0,U||Z(A,C,this.length);let W=C,X=1,J=this[A+--W];for(;W>0&&(X*=256);)J+=this[A+--W]*X;return X*=128,J>=X&&(J-=Math.pow(2,8*C)),J},l.prototype.readInt8=function(A,C){return A=A>>>0,C||Z(A,1,this.length),this[A]&128?(255-this[A]+1)*-1:this[A]},l.prototype.readInt16LE=function(A,C){A=A>>>0,C||Z(A,2,this.length);const U=this[A]|this[A+1]<<8;return U&32768?U|4294901760:U},l.prototype.readInt16BE=function(A,C){A=A>>>0,C||Z(A,2,this.length);const U=this[A+1]|this[A]<<8;return U&32768?U|4294901760:U},l.prototype.readInt32LE=function(A,C){return A=A>>>0,C||Z(A,4,this.length),this[A]|this[A+1]<<8|this[A+2]<<16|this[A+3]<<24},l.prototype.readInt32BE=function(A,C){return A=A>>>0,C||Z(A,4,this.length),this[A]<<24|this[A+1]<<16|this[A+2]<<8|this[A+3]},l.prototype.readBigInt64LE=xe(function(A){A=A>>>0,It(A,"offset");const C=this[A],U=this[A+7];(C===void 0||U===void 0)&&mt(A,this.length-8);const W=this[A+4]+this[A+5]*2**8+this[A+6]*2**16+(U<<24);return(BigInt(W)<<BigInt(32))+BigInt(C+this[++A]*2**8+this[++A]*2**16+this[++A]*2**24)}),l.prototype.readBigInt64BE=xe(function(A){A=A>>>0,It(A,"offset");const C=this[A],U=this[A+7];(C===void 0||U===void 0)&&mt(A,this.length-8);const W=(C<<24)+this[++A]*2**16+this[++A]*2**8+this[++A];return(BigInt(W)<<BigInt(32))+BigInt(this[++A]*2**24+this[++A]*2**16+this[++A]*2**8+U)}),l.prototype.readFloatLE=function(A,C){return A=A>>>0,C||Z(A,4,this.length),n.read(this,A,!0,23,4)},l.prototype.readFloatBE=function(A,C){return A=A>>>0,C||Z(A,4,this.length),n.read(this,A,!1,23,4)},l.prototype.readDoubleLE=function(A,C){return A=A>>>0,C||Z(A,8,this.length),n.read(this,A,!0,52,8)},l.prototype.readDoubleBE=function(A,C){return A=A>>>0,C||Z(A,8,this.length),n.read(this,A,!1,52,8)};function Y(R,A,C,U,W,X){if(!l.isBuffer(R))throw new TypeError('"buffer" argument must be a Buffer instance');if(A>W||A<X)throw new RangeError('"value" argument is out of bounds');if(C+U>R.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(A,C,U,W){if(A=+A,C=C>>>0,U=U>>>0,!W){const ye=Math.pow(2,8*U)-1;Y(this,A,C,U,ye,0)}let X=1,J=0;for(this[C]=A&255;++J<U&&(X*=256);)this[C+J]=A/X&255;return C+U},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(A,C,U,W){if(A=+A,C=C>>>0,U=U>>>0,!W){const ye=Math.pow(2,8*U)-1;Y(this,A,C,U,ye,0)}let X=U-1,J=1;for(this[C+X]=A&255;--X>=0&&(J*=256);)this[C+X]=A/J&255;return C+U},l.prototype.writeUint8=l.prototype.writeUInt8=function(A,C,U){return A=+A,C=C>>>0,U||Y(this,A,C,1,255,0),this[C]=A&255,C+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(A,C,U){return A=+A,C=C>>>0,U||Y(this,A,C,2,65535,0),this[C]=A&255,this[C+1]=A>>>8,C+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(A,C,U){return A=+A,C=C>>>0,U||Y(this,A,C,2,65535,0),this[C]=A>>>8,this[C+1]=A&255,C+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(A,C,U){return A=+A,C=C>>>0,U||Y(this,A,C,4,4294967295,0),this[C+3]=A>>>24,this[C+2]=A>>>16,this[C+1]=A>>>8,this[C]=A&255,C+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(A,C,U){return A=+A,C=C>>>0,U||Y(this,A,C,4,4294967295,0),this[C]=A>>>24,this[C+1]=A>>>16,this[C+2]=A>>>8,this[C+3]=A&255,C+4};function ne(R,A,C,U,W){Ve(A,U,W,R,C,7);let X=Number(A&BigInt(4294967295));R[C++]=X,X=X>>8,R[C++]=X,X=X>>8,R[C++]=X,X=X>>8,R[C++]=X;let J=Number(A>>BigInt(32)&BigInt(4294967295));return R[C++]=J,J=J>>8,R[C++]=J,J=J>>8,R[C++]=J,J=J>>8,R[C++]=J,C}function he(R,A,C,U,W){Ve(A,U,W,R,C,7);let X=Number(A&BigInt(4294967295));R[C+7]=X,X=X>>8,R[C+6]=X,X=X>>8,R[C+5]=X,X=X>>8,R[C+4]=X;let J=Number(A>>BigInt(32)&BigInt(4294967295));return R[C+3]=J,J=J>>8,R[C+2]=J,J=J>>8,R[C+1]=J,J=J>>8,R[C]=J,C+8}l.prototype.writeBigUInt64LE=xe(function(A,C=0){return ne(this,A,C,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=xe(function(A,C=0){return he(this,A,C,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(A,C,U,W){if(A=+A,C=C>>>0,!W){const ue=Math.pow(2,8*U-1);Y(this,A,C,U,ue-1,-ue)}let X=0,J=1,ye=0;for(this[C]=A&255;++X<U&&(J*=256);)A<0&&ye===0&&this[C+X-1]!==0&&(ye=1),this[C+X]=(A/J>>0)-ye&255;return C+U},l.prototype.writeIntBE=function(A,C,U,W){if(A=+A,C=C>>>0,!W){const ue=Math.pow(2,8*U-1);Y(this,A,C,U,ue-1,-ue)}let X=U-1,J=1,ye=0;for(this[C+X]=A&255;--X>=0&&(J*=256);)A<0&&ye===0&&this[C+X+1]!==0&&(ye=1),this[C+X]=(A/J>>0)-ye&255;return C+U},l.prototype.writeInt8=function(A,C,U){return A=+A,C=C>>>0,U||Y(this,A,C,1,127,-128),A<0&&(A=255+A+1),this[C]=A&255,C+1},l.prototype.writeInt16LE=function(A,C,U){return A=+A,C=C>>>0,U||Y(this,A,C,2,32767,-32768),this[C]=A&255,this[C+1]=A>>>8,C+2},l.prototype.writeInt16BE=function(A,C,U){return A=+A,C=C>>>0,U||Y(this,A,C,2,32767,-32768),this[C]=A>>>8,this[C+1]=A&255,C+2},l.prototype.writeInt32LE=function(A,C,U){return A=+A,C=C>>>0,U||Y(this,A,C,4,2147483647,-2147483648),this[C]=A&255,this[C+1]=A>>>8,this[C+2]=A>>>16,this[C+3]=A>>>24,C+4},l.prototype.writeInt32BE=function(A,C,U){return A=+A,C=C>>>0,U||Y(this,A,C,4,2147483647,-2147483648),A<0&&(A=4294967295+A+1),this[C]=A>>>24,this[C+1]=A>>>16,this[C+2]=A>>>8,this[C+3]=A&255,C+4},l.prototype.writeBigInt64LE=xe(function(A,C=0){return ne(this,A,C,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=xe(function(A,C=0){return he(this,A,C,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function de(R,A,C,U,W,X){if(C+U>R.length)throw new RangeError("Index out of range");if(C<0)throw new RangeError("Index out of range")}function le(R,A,C,U,W){return A=+A,C=C>>>0,W||de(R,A,C,4),n.write(R,A,C,U,23,4),C+4}l.prototype.writeFloatLE=function(A,C,U){return le(this,A,C,!0,U)},l.prototype.writeFloatBE=function(A,C,U){return le(this,A,C,!1,U)};function Se(R,A,C,U,W){return A=+A,C=C>>>0,W||de(R,A,C,8),n.write(R,A,C,U,52,8),C+8}l.prototype.writeDoubleLE=function(A,C,U){return Se(this,A,C,!0,U)},l.prototype.writeDoubleBE=function(A,C,U){return Se(this,A,C,!1,U)},l.prototype.copy=function(A,C,U,W){if(!l.isBuffer(A))throw new TypeError("argument should be a Buffer");if(U||(U=0),!W&&W!==0&&(W=this.length),C>=A.length&&(C=A.length),C||(C=0),W>0&&W<U&&(W=U),W===U||A.length===0||this.length===0)return 0;if(C<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(W<0)throw new RangeError("sourceEnd out of bounds");W>this.length&&(W=this.length),A.length-C<W-U&&(W=A.length-C+U);const X=W-U;return this===A&&typeof i.prototype.copyWithin=="function"?this.copyWithin(C,U,W):i.prototype.set.call(A,this.subarray(U,W),C),X},l.prototype.fill=function(A,C,U,W){if(typeof A=="string"){if(typeof C=="string"?(W=C,C=0,U=this.length):typeof U=="string"&&(W=U,U=this.length),W!==void 0&&typeof W!="string")throw new TypeError("encoding must be a string");if(typeof W=="string"&&!l.isEncoding(W))throw new TypeError("Unknown encoding: "+W);if(A.length===1){const J=A.charCodeAt(0);(W==="utf8"&&J<128||W==="latin1")&&(A=J)}}else typeof A=="number"?A=A&255:typeof A=="boolean"&&(A=Number(A));if(C<0||this.length<C||this.length<U)throw new RangeError("Out of range index");if(U<=C)return this;C=C>>>0,U=U===void 0?this.length:U>>>0,A||(A=0);let X;if(typeof A=="number")for(X=C;X<U;++X)this[X]=A;else{const J=l.isBuffer(A)?A:l.from(A,W),ye=J.length;if(ye===0)throw new TypeError('The value "'+A+'" is invalid for argument "value"');for(X=0;X<U-C;++X)this[X+C]=J[X%ye]}return this};const Me={};function Ne(R,A,C){Me[R]=class extends C{constructor(){super(),Object.defineProperty(this,"message",{value:A.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${R}]`,this.stack,delete this.name}get code(){return R}set code(W){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:W,writable:!0})}toString(){return`${this.name} [${R}]: ${this.message}`}}}Ne("ERR_BUFFER_OUT_OF_BOUNDS",function(R){return R?`${R} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ne("ERR_INVALID_ARG_TYPE",function(R,A){return`The "${R}" argument must be of type number. Received type ${typeof A}`},TypeError),Ne("ERR_OUT_OF_RANGE",function(R,A,C){let U=`The value of "${R}" is out of range.`,W=C;return Number.isInteger(C)&&Math.abs(C)>2**32?W=ot(String(C)):typeof C=="bigint"&&(W=String(C),(C>BigInt(2)**BigInt(32)||C<-(BigInt(2)**BigInt(32)))&&(W=ot(W)),W+="n"),U+=` It must be ${A}. Received ${W}`,U},RangeError);function ot(R){let A="",C=R.length;const U=R[0]==="-"?1:0;for(;C>=U+4;C-=3)A=`_${R.slice(C-3,C)}${A}`;return`${R.slice(0,C)}${A}`}function De(R,A,C){It(A,"offset"),(R[A]===void 0||R[A+C]===void 0)&&mt(A,R.length-(C+1))}function Ve(R,A,C,U,W,X){if(R>C||R<A){const J=typeof A=="bigint"?"n":"";let ye;throw A===0||A===BigInt(0)?ye=`>= 0${J} and < 2${J} ** ${(X+1)*8}${J}`:ye=`>= -(2${J} ** ${(X+1)*8-1}${J}) and < 2 ** ${(X+1)*8-1}${J}`,new Me.ERR_OUT_OF_RANGE("value",ye,R)}De(U,W,X)}function It(R,A){if(typeof R!="number")throw new Me.ERR_INVALID_ARG_TYPE(A,"number",R)}function mt(R,A,C){throw Math.floor(R)!==R?(It(R,C),new Me.ERR_OUT_OF_RANGE("offset","an integer",R)):A<0?new Me.ERR_BUFFER_OUT_OF_BOUNDS:new Me.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${A}`,R)}const ht=/[^+/0-9A-Za-z-_]/g;function Cn(R){if(R=R.split("=")[0],R=R.trim().replace(ht,""),R.length<2)return"";for(;R.length%4!==0;)R=R+"=";return R}function Re(R,A){A=A||1/0;let C;const U=R.length;let W=null;const X=[];for(let J=0;J<U;++J){if(C=R.charCodeAt(J),C>55295&&C<57344){if(!W){if(C>56319){(A-=3)>-1&&X.push(239,191,189);continue}else if(J+1===U){(A-=3)>-1&&X.push(239,191,189);continue}W=C;continue}if(C<56320){(A-=3)>-1&&X.push(239,191,189),W=C;continue}C=(W-55296<<10|C-56320)+65536}else W&&(A-=3)>-1&&X.push(239,191,189);if(W=null,C<128){if((A-=1)<0)break;X.push(C)}else if(C<2048){if((A-=2)<0)break;X.push(C>>6|192,C&63|128)}else if(C<65536){if((A-=3)<0)break;X.push(C>>12|224,C>>6&63|128,C&63|128)}else if(C<1114112){if((A-=4)<0)break;X.push(C>>18|240,C>>12&63|128,C>>6&63|128,C&63|128)}else throw new Error("Invalid code point")}return X}function Bt(R){const A=[];for(let C=0;C<R.length;++C)A.push(R.charCodeAt(C)&255);return A}function Mr(R,A){let C,U,W;const X=[];for(let J=0;J<R.length&&!((A-=2)<0);++J)C=R.charCodeAt(J),U=C>>8,W=C%256,X.push(W),X.push(U);return X}function He(R){return t.toByteArray(Cn(R))}function ae(R,A,C,U){let W;for(W=0;W<U&&!(W+C>=A.length||W>=R.length);++W)A[W+C]=R[W];return W}function ce(R,A){return R instanceof A||R!=null&&R.constructor!=null&&R.constructor.name!=null&&R.constructor.name===A.name}function ie(R){return R!==R}const me=function(){const R="0123456789abcdef",A=new Array(256);for(let C=0;C<16;++C){const U=C*16;for(let W=0;W<16;++W)A[U+W]=R[C]+R[W]}return A}();function xe(R){return typeof BigInt>"u"?ke:R}function ke(){throw new Error("BigInt not supported")}})(tr);const zr=tr.Buffer,CH=tr.Blob,TH=tr.BlobOptions,lt=tr.Buffer,_H=tr.File,MH=tr.FileOptions,BH=tr.INSPECT_MAX_BYTES,NH=tr.SlowBuffer,OH=tr.TranscodeEncoding,PH=tr.atob,jH=tr.btoa,RH=tr.constants,DH=tr.isAscii,UH=tr.isUtf8,LH=tr.kMaxLength,$H=tr.kStringMaxLength,zH=tr.resolveObjectURL,FH=tr.transcode,HH=Object.freeze(Object.defineProperty({__proto__:null,Blob:CH,BlobOptions:TH,Buffer:lt,File:_H,FileOptions:MH,INSPECT_MAX_BYTES:BH,SlowBuffer:NH,TranscodeEncoding:OH,atob:PH,btoa:jH,constants:RH,default:zr,isAscii:DH,isUtf8:UH,kMaxLength:LH,kStringMaxLength:$H,resolveObjectURL:zH,transcode:FH},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ZE=BigInt(0),Nv=BigInt(1);function xu(e,t=""){if(typeof e!="boolean"){const n=t&&`"${t}"`;throw new Error(n+"expected boolean, got type="+typeof e)}return e}function Li(e,t,n=""){const r=Wd(e),s=e==null?void 0:e.length,i=t!==void 0;if(!r||i&&s!==t){const o=n&&`"${n}" `,a=i?` of length ${t}`:"",c=r?`length=${s}`:`type=${typeof e}`;throw new Error(o+"expected Uint8Array"+a+", got "+c)}return e}function u0(e){const t=e.toString(16);return t.length&1?"0"+t:t}function sM(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?ZE:BigInt("0x"+e)}function tg(e){return sM(dc(e))}function bh(e){return vi(e),sM(dc(Uint8Array.from(e).reverse()))}function XE(e,t){return hh(e.toString(16).padStart(t*2,"0"))}function iM(e,t){return XE(e,t).reverse()}function mn(e,t,n){let r;if(typeof t=="string")try{r=hh(t)}catch(i){throw new Error(e+" must be hex string or Uint8Array, cause: "+i)}else if(Wd(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function XI(e){return Uint8Array.from(e)}const n1=e=>typeof e=="bigint"&&ZE<=e;function qH(e,t,n){return n1(e)&&n1(t)&&n1(n)&&t<=e&&e<n}function Ov(e,t,n,r){if(!qH(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function oM(e){let t;for(t=0;e>ZE;e>>=Nv,t+=1);return t}const vp=e=>(Nv<<BigInt(e))-Nv;function WH(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=h=>new Uint8Array(h),s=h=>Uint8Array.of(h);let i=r(e),o=r(e),a=0;const c=()=>{i.fill(1),o.fill(0),a=0},u=(...h)=>n(o,i,...h),l=(h=r(0))=>{o=u(s(0),h),i=u(),h.length!==0&&(o=u(s(1),h),i=u())},f=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const p=[];for(;h<t;){i=u();const m=i.slice();p.push(m),h+=i.length}return hi(...p)};return(h,p)=>{c(),l(h);let m;for(;!(m=p(f()));)l();return c(),m}}function Ep(e,t,n={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function r(s,i,o){const a=e[s];if(o&&a===void 0)return;const c=typeof a;if(c!==i||a===null)throw new Error(`param "${s}" is invalid: expected ${i}, got ${c}`)}Object.entries(t).forEach(([s,i])=>r(s,i,!1)),Object.entries(n).forEach(([s,i])=>r(s,i,!0))}function Um(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const i=e(n,...r);return t.set(n,i),i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vs=BigInt(0),Er=BigInt(1),Yc=BigInt(2),aM=BigInt(3),cM=BigInt(4),uM=BigInt(5),GH=BigInt(7),lM=BigInt(8),VH=BigInt(9),dM=BigInt(16);function zn(e,t){const n=e%t;return n>=vs?n:t+n}function pn(e,t,n){let r=e;for(;t-- >vs;)r*=r,r%=n;return r}function JI(e,t){if(e===vs)throw new Error("invert: expected non-zero number");if(t<=vs)throw new Error("invert: expected positive modulus, got "+t);let n=zn(e,t),r=t,s=vs,i=Er;for(;n!==vs;){const a=r/n,c=r%n,u=s-i*a;r=n,n=c,s=i,i=u}if(r!==Er)throw new Error("invert: does not exist");return zn(s,t)}function JE(e,t,n){if(!e.eql(e.sqr(t),n))throw new Error("Cannot find square root")}function fM(e,t){const n=(e.ORDER+Er)/cM,r=e.pow(t,n);return JE(e,r,t),r}function KH(e,t){const n=(e.ORDER-uM)/lM,r=e.mul(t,Yc),s=e.pow(r,n),i=e.mul(t,s),o=e.mul(e.mul(i,Yc),s),a=e.mul(i,e.sub(o,e.ONE));return JE(e,a,t),a}function QH(e){const t=Wu(e),n=hM(e),r=n(t,t.neg(t.ONE)),s=n(t,r),i=n(t,t.neg(r)),o=(e+GH)/dM;return(a,c)=>{let u=a.pow(c,o),l=a.mul(u,r);const f=a.mul(u,s),d=a.mul(u,i),h=a.eql(a.sqr(l),c),p=a.eql(a.sqr(f),c);u=a.cmov(u,l,h),l=a.cmov(d,f,p);const m=a.eql(a.sqr(l),c),y=a.cmov(u,l,m);return JE(a,y,c),y}}function hM(e){if(e<aM)throw new Error("sqrt is not defined for small field");let t=e-Er,n=0;for(;t%Yc===vs;)t/=Yc,n++;let r=Yc;const s=Wu(e);for(;e3(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return fM;let i=s.pow(r,t);const o=(t+Er)/Yc;return function(c,u){if(c.is0(u))return u;if(e3(c,u)!==1)throw new Error("Cannot find square root");let l=n,f=c.mul(c.ONE,i),d=c.pow(u,t),h=c.pow(u,o);for(;!c.eql(d,c.ONE);){if(c.is0(d))return c.ZERO;let p=1,m=c.sqr(d);for(;!c.eql(m,c.ONE);)if(p++,m=c.sqr(m),p===l)throw new Error("Cannot find square root");const y=Er<<BigInt(l-p-1),b=c.pow(f,y);l=p,f=c.sqr(b),d=c.mul(d,f),h=c.mul(h,b)}return h}}function YH(e){return e%cM===aM?fM:e%lM===uM?KH:e%dM===VH?QH(e):hM(e)}const ZH=(e,t)=>(zn(e,t)&Er)===Er,XH=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function JH(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=XH.reduce((r,s)=>(r[s]="function",r),t);return Ep(e,n),e}function eq(e,t,n){if(n<vs)throw new Error("invalid exponent, negatives unsupported");if(n===vs)return e.ONE;if(n===Er)return t;let r=e.ONE,s=t;for(;n>vs;)n&Er&&(r=e.mul(r,s)),s=e.sqr(s),n>>=Er;return r}function pM(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((o,a,c)=>e.is0(a)?o:(r[c]=o,e.mul(o,a)),e.ONE),i=e.inv(s);return t.reduceRight((o,a,c)=>e.is0(a)?o:(r[c]=e.mul(o,r[c]),e.mul(o,a)),i),r}function e3(e,t){const n=(e.ORDER-Er)/Yc,r=e.pow(t,n),s=e.eql(r,e.ONE),i=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function mM(e,t){t!==void 0&&Ks(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Wu(e,t,n=!1,r={}){if(e<=vs)throw new Error("invalid field: expected ORDER > 0, got "+e);let s,i,o=!1,a;if(typeof t=="object"&&t!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const d=t;d.BITS&&(s=d.BITS),d.sqrt&&(i=d.sqrt),typeof d.isLE=="boolean"&&(n=d.isLE),typeof d.modFromBytes=="boolean"&&(o=d.modFromBytes),a=d.allowedLengths}else typeof t=="number"&&(s=t),r.sqrt&&(i=r.sqrt);const{nBitLength:c,nByteLength:u}=mM(e,s);if(u>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const f=Object.freeze({ORDER:e,isLE:n,BITS:c,BYTES:u,MASK:vp(c),ZERO:vs,ONE:Er,allowedLengths:a,create:d=>zn(d,e),isValid:d=>{if(typeof d!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof d);return vs<=d&&d<e},is0:d=>d===vs,isValidNot0:d=>!f.is0(d)&&f.isValid(d),isOdd:d=>(d&Er)===Er,neg:d=>zn(-d,e),eql:(d,h)=>d===h,sqr:d=>zn(d*d,e),add:(d,h)=>zn(d+h,e),sub:(d,h)=>zn(d-h,e),mul:(d,h)=>zn(d*h,e),pow:(d,h)=>eq(f,d,h),div:(d,h)=>zn(d*JI(h,e),e),sqrN:d=>d*d,addN:(d,h)=>d+h,subN:(d,h)=>d-h,mulN:(d,h)=>d*h,inv:d=>JI(d,e),sqrt:i||(d=>(l||(l=YH(e)),l(f,d))),toBytes:d=>n?iM(d,u):XE(d,u),fromBytes:(d,h=!0)=>{if(a){if(!a.includes(d.length)||d.length>u)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+d.length);const m=new Uint8Array(u);m.set(d,n?0:m.length-d.length),d=m}if(d.length!==u)throw new Error("Field.fromBytes: expected "+u+" bytes, got "+d.length);let p=n?bh(d):tg(d);if(o&&(p=zn(p,e)),!h&&!f.isValid(p))throw new Error("invalid field element: outside of range 0..ORDER");return p},invertBatch:d=>pM(f,d),cmov:(d,h,p)=>p?h:d});return Object.freeze(f)}function yM(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function gM(e){const t=yM(e);return t+Math.ceil(t/2)}function tq(e,t,n=!1){const r=e.length,s=yM(t),i=gM(t);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?bh(e):tg(e),a=zn(o,t-Er)+Er;return n?iM(a,s):XE(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const pd=BigInt(0),Zc=BigInt(1);function Lm(e,t){const n=t.negate();return e?n:t}function Xc(e,t){const n=pM(e.Fp,t.map(r=>r.Z));return t.map((r,s)=>e.fromAffine(r.toAffine(n[s])))}function wM(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function r1(e,t){wM(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,i=vp(e),o=BigInt(e);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function t3(e,t,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(e&s),c=e>>o;a>r&&(a-=i,c+=Zc);const u=t*r,l=u+Math.abs(a)-1,f=a===0,d=a<0,h=t%2!==0;return{nextN:c,offset:l,isZero:f,isNeg:d,isNegF:h,offsetF:u}}function nq(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function rq(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const s1=new WeakMap,bM=new WeakMap;function i1(e){return bM.get(e)||1}function n3(e){if(e!==pd)throw new Error("invalid wNAF")}let vM=class{constructor(t,n){this.BASE=t.BASE,this.ZERO=t.ZERO,this.Fn=t.Fn,this.bits=n}_unsafeLadder(t,n,r=this.ZERO){let s=t;for(;n>pd;)n&Zc&&(r=r.add(s)),s=s.double(),n>>=Zc;return r}precomputeWindow(t,n){const{windows:r,windowSize:s}=r1(n,this.bits),i=[];let o=t,a=o;for(let c=0;c<r;c++){a=o,i.push(a);for(let u=1;u<s;u++)a=a.add(o),i.push(a);o=a.double()}return i}wNAF(t,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let s=this.ZERO,i=this.BASE;const o=r1(t,this.bits);for(let a=0;a<o.windows;a++){const{nextN:c,offset:u,isZero:l,isNeg:f,isNegF:d,offsetF:h}=t3(r,a,o);r=c,l?i=i.add(Lm(d,n[h])):s=s.add(Lm(f,n[u]))}return n3(r),{p:s,f:i}}wNAFUnsafe(t,n,r,s=this.ZERO){const i=r1(t,this.bits);for(let o=0;o<i.windows&&r!==pd;o++){const{nextN:a,offset:c,isZero:u,isNeg:l}=t3(r,o,i);if(r=a,!u){const f=n[c];s=s.add(l?f.negate():f)}}return n3(r),s}getPrecomputes(t,n,r){let s=s1.get(n);return s||(s=this.precomputeWindow(n,t),t!==1&&(typeof r=="function"&&(s=r(s)),s1.set(n,s))),s}cached(t,n,r){const s=i1(t);return this.wNAF(s,this.getPrecomputes(s,t,r),n)}unsafe(t,n,r,s){const i=i1(t);return i===1?this._unsafeLadder(t,n,s):this.wNAFUnsafe(i,this.getPrecomputes(i,t,r),n,s)}createCache(t,n){wM(n,this.bits),bM.set(t,n),s1.delete(t)}hasCache(t){return i1(t)!==1}};function sq(e,t,n,r){let s=t,i=e.ZERO,o=e.ZERO;for(;n>pd||r>pd;)n&Zc&&(i=i.add(s)),r&Zc&&(o=o.add(s)),s=s.double(),n>>=Zc,r>>=Zc;return{p1:i,p2:o}}function EM(e,t,n,r){nq(n,e),rq(r,t);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=oM(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=vp(c),l=new Array(Number(u)+1).fill(o),f=Math.floor((t.BITS-1)/c)*c;let d=o;for(let h=f;h>=0;h-=c){l.fill(o);for(let m=0;m<i;m++){const y=r[m],b=Number(y>>BigInt(h)&u);l[b]=l[b].add(n[m])}let p=o;for(let m=l.length-1,y=o;m>0;m--)y=y.add(l[m]),p=p.add(y);if(d=d.add(p),h!==0)for(let m=0;m<c;m++)d=d.double()}return d}function r3(e,t,n){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return JH(t),t}else return Wu(e,{isLE:n})}function xM(e,t,n={},r){if(r===void 0&&(r=e==="edwards"),!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const c of["p","n","h"]){const u=t[c];if(!(typeof u=="bigint"&&u>pd))throw new Error(`CURVE.${c} must be positive bigint`)}const s=r3(t.p,n.Fp,r),i=r3(t.n,n.Fn,r),a=["Gx","Gy","a",e==="weierstrass"?"b":"d"];for(const c of a)if(!s.isValid(t[c]))throw new Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return t=Object.freeze(Object.assign({},t)),{CURVE:t,Fp:s,Fn:i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const s3=(e,t)=>(e+(e>=0?t:-t)/AM)/t;function iq(e,t,n){const[[r,s],[i,o]]=t,a=s3(o*e,n),c=s3(-s*e,n);let u=e-a*r-c*i,l=-a*s-c*o;const f=u<Jo,d=l<Jo;f&&(u=-u),d&&(l=-l);const h=vp(Math.ceil(oM(n)/2))+Ll;if(u<Jo||u>=h||l<Jo||l>=h)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:f,k1:u,k2neg:d,k2:l}}function Pv(e){if(!["compact","recovered","der"].includes(e))throw new Error('Signature format must be "compact", "recovered", or "der"');return e}function o1(e,t){const n={};for(let r of Object.keys(t))n[r]=e[r]===void 0?t[r]:e[r];return xu(n.lowS,"lowS"),xu(n.prehash,"prehash"),n.format!==void 0&&Pv(n.format),n}let oq=class extends Error{constructor(t=""){super(t)}};const Ho={Err:oq,_tlv:{encode:(e,t)=>{const{Err:n}=Ho;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=u0(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?u0(s.length/2|128):"";return u0(e)+i+s+t},decode(e,t){const{Err:n}=Ho;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const l of u)o=o<<8|l;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=Ho;if(e<Jo)throw new t("integer: negative integers are not allowed");let n=u0(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Ho;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return tg(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Ho,s=mn("signature",e),{v:i,l:o}=r.decode(48,s);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,i),{v:u,l}=r.decode(2,c);if(l.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=Ho,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),i=r+s;return t.encode(48,i)}},Jo=BigInt(0),Ll=BigInt(1),AM=BigInt(2),l0=BigInt(3),aq=BigInt(4);function Nl(e,t){const{BYTES:n}=e;let r;if(typeof t=="bigint")r=t;else{let s=mn("private key",t);try{r=e.fromBytes(s)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof t}`)}}if(!e.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function cq(e,t={}){const n=xM("weierstrass",e,t),{Fp:r,Fn:s}=n;let i=n.CURVE;const{h:o,n:a}=i;Ep(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=t;if(c&&(!r.is0(i.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const u=SM(r,s);function l(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function f(G,M,g){const{x:w,y:T}=M.toAffine(),_=r.toBytes(w);if(xu(g,"isCompressed"),g){l();const x=!r.isOdd(T);return hi(IM(x),_)}else return hi(Uint8Array.of(4),_,r.toBytes(T))}function d(G){Li(G,void 0,"Point");const{publicKey:M,publicKeyUncompressed:g}=u,w=G.length,T=G[0],_=G.subarray(1);if(w===M&&(T===2||T===3)){const x=r.fromBytes(_);if(!r.isValid(x))throw new Error("bad point: is not on curve, wrong x");const j=m(x);let D;try{D=r.sqrt(j)}catch($){const Z=$ instanceof Error?": "+$.message:"";throw new Error("bad point: is not on curve, sqrt error"+Z)}l();const P=r.isOdd(D);return(T&1)===1!==P&&(D=r.neg(D)),{x,y:D}}else if(w===g&&T===4){const x=r.BYTES,j=r.fromBytes(_.subarray(0,x)),D=r.fromBytes(_.subarray(x,x*2));if(!y(j,D))throw new Error("bad point: is not on curve");return{x:j,y:D}}else throw new Error(`bad point: got length ${w}, expected compressed=${M} or uncompressed=${g}`)}const h=t.toBytes||f,p=t.fromBytes||d;function m(G){const M=r.sqr(G),g=r.mul(M,G);return r.add(r.add(g,r.mul(G,i.a)),i.b)}function y(G,M){const g=r.sqr(M),w=m(G);return r.eql(g,w)}if(!y(i.Gx,i.Gy))throw new Error("bad curve params: generator point");const b=r.mul(r.pow(i.a,l0),aq),I=r.mul(r.sqr(i.b),BigInt(27));if(r.is0(r.add(b,I)))throw new Error("bad curve params: a or b");function v(G,M,g=!1){if(!r.isValid(M)||g&&r.is0(M))throw new Error(`bad point coordinate ${G}`);return M}function E(G){if(!(G instanceof L))throw new Error("ProjectivePoint expected")}function S(G){if(!c||!c.basises)throw new Error("no endo");return iq(G,c.basises,s.ORDER)}const N=Um((G,M)=>{const{X:g,Y:w,Z:T}=G;if(r.eql(T,r.ONE))return{x:g,y:w};const _=G.is0();M==null&&(M=_?r.ONE:r.inv(T));const x=r.mul(g,M),j=r.mul(w,M),D=r.mul(T,M);if(_)return{x:r.ZERO,y:r.ZERO};if(!r.eql(D,r.ONE))throw new Error("invZ was invalid");return{x,y:j}}),O=Um(G=>{if(G.is0()){if(t.allowInfinityPoint&&!r.is0(G.Y))return;throw new Error("bad point: ZERO")}const{x:M,y:g}=G.toAffine();if(!r.isValid(M)||!r.isValid(g))throw new Error("bad point: x or y not field elements");if(!y(M,g))throw new Error("bad point: equation left != right");if(!G.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function z(G,M,g,w,T){return g=new L(r.mul(g.X,G),g.Y,g.Z),M=Lm(w,M),g=Lm(T,g),M.add(g)}class L{constructor(M,g,w){this.X=v("x",M),this.Y=v("y",g,!0),this.Z=v("z",w),Object.freeze(this)}static CURVE(){return i}static fromAffine(M){const{x:g,y:w}=M||{};if(!M||!r.isValid(g)||!r.isValid(w))throw new Error("invalid affine point");if(M instanceof L)throw new Error("projective point not allowed");return r.is0(g)&&r.is0(w)?L.ZERO:new L(g,w,r.ONE)}static fromBytes(M){const g=L.fromAffine(p(Li(M,void 0,"point")));return g.assertValidity(),g}static fromHex(M){return L.fromBytes(mn("pointHex",M))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(M=8,g=!0){return H.createCache(this,M),g||this.multiply(l0),this}assertValidity(){O(this)}hasEvenY(){const{y:M}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(M)}equals(M){E(M);const{X:g,Y:w,Z:T}=this,{X:_,Y:x,Z:j}=M,D=r.eql(r.mul(g,j),r.mul(_,T)),P=r.eql(r.mul(w,j),r.mul(x,T));return D&&P}negate(){return new L(this.X,r.neg(this.Y),this.Z)}double(){const{a:M,b:g}=i,w=r.mul(g,l0),{X:T,Y:_,Z:x}=this;let j=r.ZERO,D=r.ZERO,P=r.ZERO,k=r.mul(T,T),$=r.mul(_,_),Z=r.mul(x,x),Y=r.mul(T,_);return Y=r.add(Y,Y),P=r.mul(T,x),P=r.add(P,P),j=r.mul(M,P),D=r.mul(w,Z),D=r.add(j,D),j=r.sub($,D),D=r.add($,D),D=r.mul(j,D),j=r.mul(Y,j),P=r.mul(w,P),Z=r.mul(M,Z),Y=r.sub(k,Z),Y=r.mul(M,Y),Y=r.add(Y,P),P=r.add(k,k),k=r.add(P,k),k=r.add(k,Z),k=r.mul(k,Y),D=r.add(D,k),Z=r.mul(_,x),Z=r.add(Z,Z),k=r.mul(Z,Y),j=r.sub(j,k),P=r.mul(Z,$),P=r.add(P,P),P=r.add(P,P),new L(j,D,P)}add(M){E(M);const{X:g,Y:w,Z:T}=this,{X:_,Y:x,Z:j}=M;let D=r.ZERO,P=r.ZERO,k=r.ZERO;const $=i.a,Z=r.mul(i.b,l0);let Y=r.mul(g,_),ne=r.mul(w,x),he=r.mul(T,j),de=r.add(g,w),le=r.add(_,x);de=r.mul(de,le),le=r.add(Y,ne),de=r.sub(de,le),le=r.add(g,T);let Se=r.add(_,j);return le=r.mul(le,Se),Se=r.add(Y,he),le=r.sub(le,Se),Se=r.add(w,T),D=r.add(x,j),Se=r.mul(Se,D),D=r.add(ne,he),Se=r.sub(Se,D),k=r.mul($,le),D=r.mul(Z,he),k=r.add(D,k),D=r.sub(ne,k),k=r.add(ne,k),P=r.mul(D,k),ne=r.add(Y,Y),ne=r.add(ne,Y),he=r.mul($,he),le=r.mul(Z,le),ne=r.add(ne,he),he=r.sub(Y,he),he=r.mul($,he),le=r.add(le,he),Y=r.mul(ne,le),P=r.add(P,Y),Y=r.mul(Se,le),D=r.mul(de,D),D=r.sub(D,Y),Y=r.mul(de,ne),k=r.mul(Se,k),k=r.add(k,Y),new L(D,P,k)}subtract(M){return this.add(M.negate())}is0(){return this.equals(L.ZERO)}multiply(M){const{endo:g}=t;if(!s.isValidNot0(M))throw new Error("invalid scalar: out of range");let w,T;const _=x=>H.cached(this,x,j=>Xc(L,j));if(g){const{k1neg:x,k1:j,k2neg:D,k2:P}=S(M),{p:k,f:$}=_(j),{p:Z,f:Y}=_(P);T=$.add(Y),w=z(g.beta,k,Z,x,D)}else{const{p:x,f:j}=_(M);w=x,T=j}return Xc(L,[w,T])[0]}multiplyUnsafe(M){const{endo:g}=t,w=this;if(!s.isValid(M))throw new Error("invalid scalar: out of range");if(M===Jo||w.is0())return L.ZERO;if(M===Ll)return w;if(H.hasCache(this))return this.multiply(M);if(g){const{k1neg:T,k1:_,k2neg:x,k2:j}=S(M),{p1:D,p2:P}=sq(L,w,_,j);return z(g.beta,D,P,T,x)}else return H.unsafe(w,M)}multiplyAndAddUnsafe(M,g,w){const T=this.multiplyUnsafe(g).add(M.multiplyUnsafe(w));return T.is0()?void 0:T}toAffine(M){return N(this,M)}isTorsionFree(){const{isTorsionFree:M}=t;return o===Ll?!0:M?M(L,this):H.unsafe(this,a).is0()}clearCofactor(){const{clearCofactor:M}=t;return o===Ll?this:M?M(L,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(M=!0){return xu(M,"isCompressed"),this.assertValidity(),h(L,this,M)}toHex(M=!0){return dc(this.toBytes(M))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(M=!0){return this.toBytes(M)}_setWindowSize(M){this.precompute(M)}static normalizeZ(M){return Xc(L,M)}static msm(M,g){return EM(L,s,M,g)}static fromPrivateKey(M){return L.BASE.multiply(Nl(s,M))}}L.BASE=new L(i.Gx,i.Gy,r.ONE),L.ZERO=new L(r.ZERO,r.ONE,r.ZERO),L.Fp=r,L.Fn=s;const F=s.BITS,H=new vM(L,t.endo?Math.ceil(F/2):F);return L.BASE.precompute(8),L}function IM(e){return Uint8Array.of(e?2:3)}function SM(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function uq(e,t={}){const{Fn:n}=e,r=t.randomBytes||dp,s=Object.assign(SM(e.Fp,n),{seed:gM(n.ORDER)});function i(h){try{return!!Nl(n,h)}catch{return!1}}function o(h,p){const{publicKey:m,publicKeyUncompressed:y}=s;try{const b=h.length;return p===!0&&b!==m||p===!1&&b!==y?!1:!!e.fromBytes(h)}catch{return!1}}function a(h=r(s.seed)){return tq(Li(h,s.seed,"seed"),n.ORDER)}function c(h,p=!0){return e.BASE.multiply(Nl(n,h)).toBytes(p)}function u(h){const p=a(h);return{secretKey:p,publicKey:c(p)}}function l(h){if(typeof h=="bigint")return!1;if(h instanceof e)return!0;const{secretKey:p,publicKey:m,publicKeyUncompressed:y}=s;if(n.allowedLengths||p===m)return;const b=mn("key",h).length;return b===m||b===y}function f(h,p,m=!0){if(l(h)===!0)throw new Error("first arg must be private key");if(l(p)===!1)throw new Error("second arg must be public key");const y=Nl(n,h);return e.fromHex(p).multiply(y).toBytes(m)}return Object.freeze({getPublicKey:c,getSharedSecret:f,keygen:u,Point:e,utils:{isValidSecretKey:i,isValidPublicKey:o,randomSecretKey:a,isValidPrivateKey:i,randomPrivateKey:a,normPrivateKeyToScalar:h=>Nl(n,h),precompute(h=8,p=e.BASE){return p.precompute(h,!1)}},lengths:s})}function lq(e,t,n={}){Gy(t),Ep(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||dp,s=n.hmac||((g,...w)=>bp(t,g,hi(...w))),{Fp:i,Fn:o}=e,{ORDER:a,BITS:c}=o,{keygen:u,getPublicKey:l,getSharedSecret:f,utils:d,lengths:h}=uq(e,n),p={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},m="compact";function y(g){const w=a>>Ll;return g>w}function b(g,w){if(!o.isValidNot0(w))throw new Error(`invalid signature ${g}: out of range 1..Point.Fn.ORDER`);return w}function I(g,w){Pv(w);const T=h.signature,_=w==="compact"?T:w==="recovered"?T+1:void 0;return Li(g,_,`${w} signature`)}class v{constructor(w,T,_){this.r=b("r",w),this.s=b("s",T),_!=null&&(this.recovery=_),Object.freeze(this)}static fromBytes(w,T=m){I(w,T);let _;if(T==="der"){const{r:P,s:k}=Ho.toSig(Li(w));return new v(P,k)}T==="recovered"&&(_=w[0],T="compact",w=w.subarray(1));const x=o.BYTES,j=w.subarray(0,x),D=w.subarray(x,x*2);return new v(o.fromBytes(j),o.fromBytes(D),_)}static fromHex(w,T){return this.fromBytes(hh(w),T)}addRecoveryBit(w){return new v(this.r,this.s,w)}recoverPublicKey(w){const T=i.ORDER,{r:_,s:x,recovery:j}=this;if(j==null||![0,1,2,3].includes(j))throw new Error("recovery id invalid");if(a*AM<T&&j>1)throw new Error("recovery id is ambiguous for h>1 curve");const P=j===2||j===3?_+a:_;if(!i.isValid(P))throw new Error("recovery id 2 or 3 invalid");const k=i.toBytes(P),$=e.fromBytes(hi(IM((j&1)===0),k)),Z=o.inv(P),Y=S(mn("msgHash",w)),ne=o.create(-Y*Z),he=o.create(x*Z),de=e.BASE.multiplyUnsafe(ne).add($.multiplyUnsafe(he));if(de.is0())throw new Error("point at infinify");return de.assertValidity(),de}hasHighS(){return y(this.s)}toBytes(w=m){if(Pv(w),w==="der")return hh(Ho.hexFromSig(this));const T=o.toBytes(this.r),_=o.toBytes(this.s);if(w==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return hi(Uint8Array.of(this.recovery),T,_)}return hi(T,_)}toHex(w){return dc(this.toBytes(w))}assertValidity(){}static fromCompact(w){return v.fromBytes(mn("sig",w),"compact")}static fromDER(w){return v.fromBytes(mn("sig",w),"der")}normalizeS(){return this.hasHighS()?new v(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return dc(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return dc(this.toBytes("compact"))}}const E=n.bits2int||function(w){if(w.length>8192)throw new Error("input is too large");const T=tg(w),_=w.length*8-c;return _>0?T>>BigInt(_):T},S=n.bits2int_modN||function(w){return o.create(E(w))},N=vp(c);function O(g){return Ov("num < 2^"+c,g,Jo,N),o.toBytes(g)}function z(g,w){return Li(g,void 0,"message"),w?Li(t(g),void 0,"prehashed message"):g}function L(g,w,T){if(["recovered","canonical"].some(ne=>ne in T))throw new Error("sign() legacy options not supported");const{lowS:_,prehash:x,extraEntropy:j}=o1(T,p);g=z(g,x);const D=S(g),P=Nl(o,w),k=[O(P),O(D)];if(j!=null&&j!==!1){const ne=j===!0?r(h.secretKey):j;k.push(mn("extraEntropy",ne))}const $=hi(...k),Z=D;function Y(ne){const he=E(ne);if(!o.isValidNot0(he))return;const de=o.inv(he),le=e.BASE.multiply(he).toAffine(),Se=o.create(le.x);if(Se===Jo)return;const Me=o.create(de*o.create(Z+Se*P));if(Me===Jo)return;let Ne=(le.x===Se?0:2)|Number(le.y&Ll),ot=Me;return _&&y(Me)&&(ot=o.neg(Me),Ne^=1),new v(Se,ot,Ne)}return{seed:$,k2sig:Y}}function F(g,w,T={}){g=mn("message",g);const{seed:_,k2sig:x}=L(g,w,T);return WH(t.outputLen,o.BYTES,s)(_,x)}function H(g){let w;const T=typeof g=="string"||Wd(g),_=!T&&g!==null&&typeof g=="object"&&typeof g.r=="bigint"&&typeof g.s=="bigint";if(!T&&!_)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(_)w=new v(g.r,g.s);else if(T){try{w=v.fromBytes(mn("sig",g),"der")}catch(x){if(!(x instanceof Ho.Err))throw x}if(!w)try{w=v.fromBytes(mn("sig",g),"compact")}catch{return!1}}return w||!1}function G(g,w,T,_={}){const{lowS:x,prehash:j,format:D}=o1(_,p);if(T=mn("publicKey",T),w=z(mn("message",w),j),"strict"in _)throw new Error("options.strict was renamed to lowS");const P=D===void 0?H(g):v.fromBytes(mn("sig",g),D);if(P===!1)return!1;try{const k=e.fromBytes(T);if(x&&P.hasHighS())return!1;const{r:$,s:Z}=P,Y=S(w),ne=o.inv(Z),he=o.create(Y*ne),de=o.create($*ne),le=e.BASE.multiplyUnsafe(he).add(k.multiplyUnsafe(de));return le.is0()?!1:o.create(le.x)===$}catch{return!1}}function M(g,w,T={}){const{prehash:_}=o1(T,p);return w=z(w,_),v.fromBytes(g,"recovered").recoverPublicKey(w).toBytes()}return Object.freeze({keygen:u,getPublicKey:l,getSharedSecret:f,utils:d,lengths:h,Point:e,sign:F,verify:G,recoverPublicKey:M,Signature:v,hash:t})}function dq(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp;let r=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(o=>Math.ceil(o/2)))):void 0;const s=Wu(t.n,{BITS:e.nBitLength,allowedLengths:r,modFromBytes:e.wrapPrivateKey}),i={Fp:n,Fn:s,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:i}}function fq(e){const{CURVE:t,curveOpts:n}=dq(e),r={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:n,hash:e.hash,ecdsaOpts:r}}function hq(e,t){const n=t.Point;return Object.assign({},t,{ProjectivePoint:n,CURVE:Object.assign({},e,mM(n.Fn.ORDER,n.Fn.BITS))})}function pq(e){const{CURVE:t,curveOpts:n,hash:r,ecdsaOpts:s}=fq(e),i=cq(t,n),o=lq(i,r,s);return hq(e,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function mq(e,t){const n=r=>pq({...e,hash:r});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e6={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},yq={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},i3=BigInt(2);function gq(e){const t=e6.p,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,l=u*u*e%t,f=pn(l,n,t)*l%t,d=pn(f,n,t)*l%t,h=pn(d,i3,t)*u%t,p=pn(h,s,t)*h%t,m=pn(p,i,t)*p%t,y=pn(m,a,t)*m%t,b=pn(y,c,t)*y%t,I=pn(b,a,t)*m%t,v=pn(I,n,t)*l%t,E=pn(v,o,t)*p%t,S=pn(E,r,t)*u%t,N=pn(S,i3,t);if(!jv.eql(jv.sqr(N),e))throw new Error("Cannot find square root");return N}const jv=Wu(e6.p,{sqrt:gq}),wq=mq({...e6,Fp:jv,lowS:!0,endo:yq},Jy),bq=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),kM=Uint8Array.from(new Array(16).fill(0).map((e,t)=>t)),vq=kM.map(e=>(9*e+5)%16),CM=(()=>{const n=[[kM],[vq]];for(let r=0;r<4;r++)for(let s of n)s.push(s[r].map(i=>bq[i]));return n})(),TM=CM[0],_M=CM[1],MM=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>Uint8Array.from(e)),Eq=TM.map((e,t)=>e.map(n=>MM[t][n])),xq=_M.map((e,t)=>e.map(n=>MM[t][n])),Aq=Uint32Array.from([0,1518500249,1859775393,2400959708,2840853838]),Iq=Uint32Array.from([1352829926,1548603684,1836072691,2053994217,0]);function o3(e,t,n,r){return e===0?t^n^r:e===1?t&n|~t&r:e===2?(t|~n)^r:e===3?t&r|n&~r:t^(n|~r)}const d0=new Uint32Array(16);class Sq extends EE{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:n,h2:r,h3:s,h4:i}=this;return[t,n,r,s,i]}set(t,n,r,s,i){this.h0=t|0,this.h1=n|0,this.h2=r|0,this.h3=s|0,this.h4=i|0}process(t,n){for(let h=0;h<16;h++,n+=4)d0[h]=t.getUint32(n,!0);let r=this.h0|0,s=r,i=this.h1|0,o=i,a=this.h2|0,c=a,u=this.h3|0,l=u,f=this.h4|0,d=f;for(let h=0;h<5;h++){const p=4-h,m=Aq[h],y=Iq[h],b=TM[h],I=_M[h],v=Eq[h],E=xq[h];for(let S=0;S<16;S++){const N=Uf(r+o3(h,i,a,u)+d0[b[S]]+m,v[S])+f|0;r=f,f=u,u=Uf(a,10)|0,a=i,i=N}for(let S=0;S<16;S++){const N=Uf(s+o3(p,o,c,l)+d0[I[S]]+y,E[S])+d|0;s=d,d=l,l=Uf(c,10)|0,c=o,o=N}}this.set(this.h1+a+l|0,this.h2+u+d|0,this.h3+f+s|0,this.h4+r+o|0,this.h0+i+c|0)}roundClean(){ss(d0)}destroy(){this.destroyed=!0,ss(this.buffer),this.set(0,0,0,0,0)}}const kq=Ao(()=>new Sq);function Gu(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function Cq(e,t){let n;const r=()=>{if(n)return n;const s=indexedDB.open(e);return s.onupgradeneeded=()=>s.result.createObjectStore(t),n=Gu(s),n.then(i=>{i.onclose=()=>n=void 0},()=>{}),n};return(s,i)=>r().then(o=>i(o.transaction(t,s).objectStore(t)))}let a1;function xp(){return a1||(a1=Cq("keyval-store","keyval")),a1}function l1e(e,t=xp()){return t("readonly",n=>Gu(n.get(e)))}function d1e(e,t,n=xp()){return n("readwrite",r=>(r.put(t,e),Gu(r.transaction)))}function f1e(e,t=xp()){return t("readwrite",n=>(n.delete(e),Gu(n.transaction)))}function h1e(e=xp()){return e("readwrite",t=>(t.clear(),Gu(t.transaction)))}function Tq(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},Gu(e.transaction)}function p1e(e=xp()){return e("readonly",t=>{if(t.getAllKeys)return Gu(t.getAllKeys());const n=[];return Tq(t,r=>n.push(r.key)).then(()=>n)})}const _q=BigInt(0),kf=BigInt(1),Mq=BigInt(2),Bq=BigInt(7),Nq=BigInt(256),Oq=BigInt(113),BM=[],NM=[],OM=[];for(let e=0,t=kf,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],BM.push(2*(5*r+n)),NM.push((e+1)*(e+2)/2%64);let s=_q;for(let i=0;i<7;i++)t=(t<<kf^(t>>Bq)*Oq)%Nq,t&Mq&&(s^=kf<<(kf<<BigInt(i))-kf);OM.push(s)}const PM=_C(OM,!0),Pq=PM[0],jq=PM[1],a3=(e,t,n)=>n>32?bL(e,t,n):gL(e,t,n),c3=(e,t,n)=>n>32?vL(e,t,n):wL(e,t,n);function Rq(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=n[c],l=n[c+1],f=a3(u,l,1)^n[a],d=c3(u,l,1)^n[a+1];for(let h=0;h<50;h+=10)e[o+h]^=f,e[o+h+1]^=d}let s=e[2],i=e[3];for(let o=0;o<24;o++){const a=NM[o],c=a3(s,i,a),u=c3(s,i,a),l=BM[o];s=e[l],i=e[l+1],e[l]=c,e[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=Pq[r],e[1]^=jq[r]}ss(n)}class t6 extends lp{constructor(t,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,Ks(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=dd(this.state)}clone(){return this._cloneInto()}keccak(){$o(this.state32),Rq(this.state32,this.rounds),$o(this.state32),this.posOut=0,this.pos=0}update(t){fa(this),t=zi(t),vi(t);const{blockLen:n,state:r}=this,s=t.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=t[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,n&128&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){fa(this,!1),vi(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=t.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);t.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Ks(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Vy(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,ss(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return t||(t=new t6(n,r,s,o,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=s,t.enableXOF=o,t.destroyed=this.destroyed,t}}const Dq=(e,t,n)=>Ao(()=>new t6(t,e,n)),jM=Dq(1,136,256/8),Uq="modulepreload",Lq=function(e){return"/"+e},u3={},we=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=Lq(c),c in u3)return;u3[c]=!0;const u=c.endsWith(".css"),l=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${l}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Uq,u||(f.as="script"),f.crossOrigin="",f.href=c,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((d,h)=>{f.addEventListener("load",d),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},RM=kq;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const n6=BigInt(0),Rv=BigInt(1);function Ap(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function r6(e){if(!Ap(e))throw new Error("Uint8Array expected")}function vh(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function f0(e){const t=e.toString(16);return t.length&1?"0"+t:t}function DM(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?n6:BigInt("0x"+e)}const UM=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",$q=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Eh(e){if(r6(e),UM)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=$q[e[n]];return t}const No={_0:48,_9:57,A:65,F:70,a:97,f:102};function l3(e){if(e>=No._0&&e<=No._9)return e-No._0;if(e>=No.A&&e<=No.F)return e-(No.A-10);if(e>=No.a&&e<=No.f)return e-(No.a-10)}function $m(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(UM)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=l3(e.charCodeAt(i)),a=l3(e.charCodeAt(i+1));if(o===void 0||a===void 0){const c=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function pu(e){return DM(Eh(e))}function LM(e){return r6(e),DM(Eh(Uint8Array.from(e).reverse()))}function Ip(e,t){return $m(e.toString(16).padStart(t*2,"0"))}function $M(e,t){return Ip(e,t).reverse()}function ii(e,t,n){let r;if(typeof t=="string")try{r=$m(t)}catch(i){throw new Error(e+" must be hex string or Uint8Array, cause: "+i)}else if(Ap(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function zm(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];r6(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}const c1=e=>typeof e=="bigint"&&n6<=e;function s6(e,t,n){return c1(e)&&c1(t)&&c1(n)&&t<=e&&e<n}function $l(e,t,n,r){if(!s6(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function zq(e){let t;for(t=0;e>n6;e>>=Rv,t+=1);return t}const ng=e=>(Rv<<BigInt(e))-Rv,u1=e=>new Uint8Array(e),d3=e=>Uint8Array.from(e);function Fq(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=u1(e),s=u1(e),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...f)=>n(s,r,...f),c=(f=u1(0))=>{s=a(d3([0]),f),r=a(),f.length!==0&&(s=a(d3([1]),f),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const d=[];for(;f<t;){r=a();const h=r.slice();d.push(h),f+=r.length}return zm(...d)};return(f,d)=>{o(),c(f);let h;for(;!(h=d(u()));)c();return o(),h}}const Hq={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Ap(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function rg(e,t,n={}){const r=(s,i,o)=>{const a=Hq[i];if(typeof a!="function")throw new Error("invalid validator function");const c=e[s];if(!(o&&c===void 0)&&!a(c,e))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(t))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return e}function f3(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const i=e(n,...r);return t.set(n,i),i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Es=BigInt(0),es=BigInt(1),Jc=BigInt(2),qq=BigInt(3),zM=BigInt(4),FM=BigInt(5),HM=BigInt(8);function ys(e,t){const n=e%t;return n>=Es?n:t+n}function ei(e,t,n){let r=e;for(;t-- >Es;)r*=r,r%=n;return r}function Dv(e,t){if(e===Es)throw new Error("invert: expected non-zero number");if(t<=Es)throw new Error("invert: expected positive modulus, got "+t);let n=ys(e,t),r=t,s=Es,i=es;for(;n!==Es;){const a=r/n,c=r%n,u=s-i*a;r=n,n=c,s=i,i=u}if(r!==es)throw new Error("invert: does not exist");return ys(s,t)}function qM(e,t){const n=(e.ORDER+es)/zM,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function Wq(e,t){const n=(e.ORDER-FM)/HM,r=e.mul(t,Jc),s=e.pow(r,n),i=e.mul(t,s),o=e.mul(e.mul(i,Jc),s),a=e.mul(i,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function Gq(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-es,n=0;for(;t%Jc===Es;)t/=Jc,n++;let r=Jc;const s=i6(e);for(;h3(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return qM;let i=s.pow(r,t);const o=(t+es)/Jc;return function(c,u){if(c.is0(u))return u;if(h3(c,u)!==1)throw new Error("Cannot find square root");let l=n,f=c.mul(c.ONE,i),d=c.pow(u,t),h=c.pow(u,o);for(;!c.eql(d,c.ONE);){if(c.is0(d))return c.ZERO;let p=1,m=c.sqr(d);for(;!c.eql(m,c.ONE);)if(p++,m=c.sqr(m),p===l)throw new Error("Cannot find square root");const y=es<<BigInt(l-p-1),b=c.pow(f,y);l=p,f=c.sqr(b),d=c.mul(d,f),h=c.mul(h,b)}return h}}function Vq(e){return e%zM===qq?qM:e%HM===FM?Wq:Gq(e)}const Kq=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Qq(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Kq.reduce((r,s)=>(r[s]="function",r),t);return rg(e,n)}function Yq(e,t,n){if(n<Es)throw new Error("invalid exponent, negatives unsupported");if(n===Es)return e.ONE;if(n===es)return t;let r=e.ONE,s=t;for(;n>Es;)n&es&&(r=e.mul(r,s)),s=e.sqr(s),n>>=es;return r}function WM(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((o,a,c)=>e.is0(a)?o:(r[c]=o,e.mul(o,a)),e.ONE),i=e.inv(s);return t.reduceRight((o,a,c)=>e.is0(a)?o:(r[c]=e.mul(o,r[c]),e.mul(o,a)),i),r}function h3(e,t){const n=(e.ORDER-es)/Jc,r=e.pow(t,n),s=e.eql(r,e.ONE),i=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function GM(e,t){t!==void 0&&Ks(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function i6(e,t,n=!1,r={}){if(e<=Es)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:i}=GM(e,t);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:i,MASK:ng(s),ZERO:Es,ONE:es,create:c=>ys(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Es<=c&&c<e},is0:c=>c===Es,isOdd:c=>(c&es)===es,neg:c=>ys(-c,e),eql:(c,u)=>c===u,sqr:c=>ys(c*c,e),add:(c,u)=>ys(c+u,e),sub:(c,u)=>ys(c-u,e),mul:(c,u)=>ys(c*u,e),pow:(c,u)=>Yq(a,c,u),div:(c,u)=>ys(c*Dv(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>Dv(c,e),sqrt:r.sqrt||(c=>(o||(o=Vq(e)),o(a,c))),toBytes:c=>n?$M(c,i):Ip(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return n?LM(c):pu(c)},invertBatch:c=>WM(a,c),cmov:(c,u,l)=>l?u:c});return Object.freeze(a)}function VM(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function KM(e){const t=VM(e);return t+Math.ceil(t/2)}function Zq(e,t,n=!1){const r=e.length,s=VM(t),i=KM(t);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?LM(e):pu(e),a=ys(o,t-es)+es;return n?$M(a,s):Ip(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const p3=BigInt(0),Uv=BigInt(1);function l1(e,t){const n=t.negate();return e?n:t}function QM(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function d1(e,t){QM(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,i=ng(e),o=BigInt(e);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function m3(e,t,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(e&s),c=e>>o;a>r&&(a-=i,c+=Uv);const u=t*r,l=u+Math.abs(a)-1,f=a===0,d=a<0,h=t%2!==0;return{nextN:c,offset:l,isZero:f,isNeg:d,isNegF:h,offsetF:u}}function Xq(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function Jq(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const f1=new WeakMap,YM=new WeakMap;function h1(e){return YM.get(e)||1}function eW(e,t){return{constTimeNegate:l1,hasPrecomputes(n){return h1(n)!==1},unsafeLadder(n,r,s=e.ZERO){let i=n;for(;r>p3;)r&Uv&&(s=s.add(i)),i=i.double(),r>>=Uv;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=d1(r,t),o=[];let a=n,c=a;for(let u=0;u<s;u++){c=a,o.push(c);for(let l=1;l<i;l++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){let i=e.ZERO,o=e.BASE;const a=d1(n,t);for(let c=0;c<a.windows;c++){const{nextN:u,offset:l,isZero:f,isNeg:d,isNegF:h,offsetF:p}=m3(s,c,a);s=u,f?o=o.add(l1(h,r[p])):i=i.add(l1(d,r[l]))}return{p:i,f:o}},wNAFUnsafe(n,r,s,i=e.ZERO){const o=d1(n,t);for(let a=0;a<o.windows&&s!==p3;a++){const{nextN:c,offset:u,isZero:l,isNeg:f}=m3(s,a,o);if(s=c,!l){const d=r[u];i=i.add(f?d.negate():d)}}return i},getPrecomputes(n,r,s){let i=f1.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&f1.set(r,s(i))),i},wNAFCached(n,r,s){const i=h1(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=h1(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){QM(r,t),YM.set(n,r),f1.delete(n)}}}function tW(e,t,n,r){Xq(n,e),Jq(r,t);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=zq(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=ng(c),l=new Array(Number(u)+1).fill(o),f=Math.floor((t.BITS-1)/c)*c;let d=o;for(let h=f;h>=0;h-=c){l.fill(o);for(let m=0;m<i;m++){const y=r[m],b=Number(y>>BigInt(h)&u);l[b]=l[b].add(n[m])}let p=o;for(let m=l.length-1,y=o;m>0;m--)y=y.add(l[m]),p=p.add(y);if(d=d.add(p),h!==0)for(let m=0;m<c;m++)d=d.double()}return d}function ZM(e){return Qq(e.Fp),rg(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...GM(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function y3(e){e.lowS!==void 0&&vh("lowS",e.lowS),e.prehash!==void 0&&vh("prehash",e.prehash)}function nW(e){const t=ZM(e);rg(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class rW extends Error{constructor(t=""){super(t)}}const qo={Err:rW,_tlv:{encode:(e,t)=>{const{Err:n}=qo;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=f0(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?f0(s.length/2|128):"";return f0(e)+i+s+t},decode(e,t){const{Err:n}=qo;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const l of u)o=o<<8|l;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=qo;if(e<Qo)throw new t("integer: negative integers are not allowed");let n=f0(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=qo;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return pu(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=qo,s=ii("signature",e),{v:i,l:o}=r.decode(48,s);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,i),{v:u,l}=r.decode(2,c);if(l.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=qo,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),i=r+s;return t.encode(48,i)}};function p1(e,t){return Eh(Ip(e,t))}const Qo=BigInt(0),or=BigInt(1);BigInt(2);const m1=BigInt(3),sW=BigInt(4);function iW(e){const t=nW(e),{Fp:n}=t,r=i6(t.n,t.nBitLength),s=t.toBytes||((v,E,S)=>{const N=E.toAffine();return zm(Uint8Array.from([4]),n.toBytes(N.x),n.toBytes(N.y))}),i=t.fromBytes||(v=>{const E=v.subarray(1),S=n.fromBytes(E.subarray(0,n.BYTES)),N=n.fromBytes(E.subarray(n.BYTES,2*n.BYTES));return{x:S,y:N}});function o(v){const{a:E,b:S}=t,N=n.sqr(v),O=n.mul(N,v);return n.add(n.add(O,n.mul(v,E)),S)}function a(v,E){const S=n.sqr(E),N=o(v);return n.eql(S,N)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(t.a,m1),sW),u=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(c,u)))throw new Error("bad curve params: a or b");function l(v){return s6(v,or,t.n)}function f(v){const{allowedPrivateKeyLengths:E,nByteLength:S,wrapPrivateKey:N,n:O}=t;if(E&&typeof v!="bigint"){if(Ap(v)&&(v=Eh(v)),typeof v!="string"||!E.includes(v.length))throw new Error("invalid private key");v=v.padStart(S*2,"0")}let z;try{z=typeof v=="bigint"?v:pu(ii("private key",v,S))}catch{throw new Error("invalid private key, expected hex or "+S+" bytes, got "+typeof v)}return N&&(z=ys(z,O)),$l("private key",z,or,O),z}function d(v){if(!(v instanceof m))throw new Error("ProjectivePoint expected")}const h=f3((v,E)=>{const{px:S,py:N,pz:O}=v;if(n.eql(O,n.ONE))return{x:S,y:N};const z=v.is0();E==null&&(E=z?n.ONE:n.inv(O));const L=n.mul(S,E),F=n.mul(N,E),H=n.mul(O,E);if(z)return{x:n.ZERO,y:n.ZERO};if(!n.eql(H,n.ONE))throw new Error("invZ was invalid");return{x:L,y:F}}),p=f3(v=>{if(v.is0()){if(t.allowInfinityPoint&&!n.is0(v.py))return;throw new Error("bad point: ZERO")}const{x:E,y:S}=v.toAffine();if(!n.isValid(E)||!n.isValid(S))throw new Error("bad point: x or y not FE");if(!a(E,S))throw new Error("bad point: equation left != right");if(!v.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class m{constructor(E,S,N){if(E==null||!n.isValid(E))throw new Error("x required");if(S==null||!n.isValid(S)||n.is0(S))throw new Error("y required");if(N==null||!n.isValid(N))throw new Error("z required");this.px=E,this.py=S,this.pz=N,Object.freeze(this)}static fromAffine(E){const{x:S,y:N}=E||{};if(!E||!n.isValid(S)||!n.isValid(N))throw new Error("invalid affine point");if(E instanceof m)throw new Error("projective point not allowed");const O=z=>n.eql(z,n.ZERO);return O(S)&&O(N)?m.ZERO:new m(S,N,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(E){const S=WM(n,E.map(N=>N.pz));return E.map((N,O)=>N.toAffine(S[O])).map(m.fromAffine)}static fromHex(E){const S=m.fromAffine(i(ii("pointHex",E)));return S.assertValidity(),S}static fromPrivateKey(E){return m.BASE.multiply(f(E))}static msm(E,S){return tW(m,r,E,S)}_setWindowSize(E){I.setWindowSize(this,E)}assertValidity(){p(this)}hasEvenY(){const{y:E}=this.toAffine();if(n.isOdd)return!n.isOdd(E);throw new Error("Field doesn't support isOdd")}equals(E){d(E);const{px:S,py:N,pz:O}=this,{px:z,py:L,pz:F}=E,H=n.eql(n.mul(S,F),n.mul(z,O)),G=n.eql(n.mul(N,F),n.mul(L,O));return H&&G}negate(){return new m(this.px,n.neg(this.py),this.pz)}double(){const{a:E,b:S}=t,N=n.mul(S,m1),{px:O,py:z,pz:L}=this;let F=n.ZERO,H=n.ZERO,G=n.ZERO,M=n.mul(O,O),g=n.mul(z,z),w=n.mul(L,L),T=n.mul(O,z);return T=n.add(T,T),G=n.mul(O,L),G=n.add(G,G),F=n.mul(E,G),H=n.mul(N,w),H=n.add(F,H),F=n.sub(g,H),H=n.add(g,H),H=n.mul(F,H),F=n.mul(T,F),G=n.mul(N,G),w=n.mul(E,w),T=n.sub(M,w),T=n.mul(E,T),T=n.add(T,G),G=n.add(M,M),M=n.add(G,M),M=n.add(M,w),M=n.mul(M,T),H=n.add(H,M),w=n.mul(z,L),w=n.add(w,w),M=n.mul(w,T),F=n.sub(F,M),G=n.mul(w,g),G=n.add(G,G),G=n.add(G,G),new m(F,H,G)}add(E){d(E);const{px:S,py:N,pz:O}=this,{px:z,py:L,pz:F}=E;let H=n.ZERO,G=n.ZERO,M=n.ZERO;const g=t.a,w=n.mul(t.b,m1);let T=n.mul(S,z),_=n.mul(N,L),x=n.mul(O,F),j=n.add(S,N),D=n.add(z,L);j=n.mul(j,D),D=n.add(T,_),j=n.sub(j,D),D=n.add(S,O);let P=n.add(z,F);return D=n.mul(D,P),P=n.add(T,x),D=n.sub(D,P),P=n.add(N,O),H=n.add(L,F),P=n.mul(P,H),H=n.add(_,x),P=n.sub(P,H),M=n.mul(g,D),H=n.mul(w,x),M=n.add(H,M),H=n.sub(_,M),M=n.add(_,M),G=n.mul(H,M),_=n.add(T,T),_=n.add(_,T),x=n.mul(g,x),D=n.mul(w,D),_=n.add(_,x),x=n.sub(T,x),x=n.mul(g,x),D=n.add(D,x),T=n.mul(_,D),G=n.add(G,T),T=n.mul(P,D),H=n.mul(j,H),H=n.sub(H,T),T=n.mul(j,_),M=n.mul(P,M),M=n.add(M,T),new m(H,G,M)}subtract(E){return this.add(E.negate())}is0(){return this.equals(m.ZERO)}wNAF(E){return I.wNAFCached(this,E,m.normalizeZ)}multiplyUnsafe(E){const{endo:S,n:N}=t;$l("scalar",E,Qo,N);const O=m.ZERO;if(E===Qo)return O;if(this.is0()||E===or)return this;if(!S||I.hasPrecomputes(this))return I.wNAFCachedUnsafe(this,E,m.normalizeZ);let{k1neg:z,k1:L,k2neg:F,k2:H}=S.splitScalar(E),G=O,M=O,g=this;for(;L>Qo||H>Qo;)L&or&&(G=G.add(g)),H&or&&(M=M.add(g)),g=g.double(),L>>=or,H>>=or;return z&&(G=G.negate()),F&&(M=M.negate()),M=new m(n.mul(M.px,S.beta),M.py,M.pz),G.add(M)}multiply(E){const{endo:S,n:N}=t;$l("scalar",E,or,N);let O,z;if(S){const{k1neg:L,k1:F,k2neg:H,k2:G}=S.splitScalar(E);let{p:M,f:g}=this.wNAF(F),{p:w,f:T}=this.wNAF(G);M=I.constTimeNegate(L,M),w=I.constTimeNegate(H,w),w=new m(n.mul(w.px,S.beta),w.py,w.pz),O=M.add(w),z=g.add(T)}else{const{p:L,f:F}=this.wNAF(E);O=L,z=F}return m.normalizeZ([O,z])[0]}multiplyAndAddUnsafe(E,S,N){const O=m.BASE,z=(F,H)=>H===Qo||H===or||!F.equals(O)?F.multiplyUnsafe(H):F.multiply(H),L=z(this,S).add(z(E,N));return L.is0()?void 0:L}toAffine(E){return h(this,E)}isTorsionFree(){const{h:E,isTorsionFree:S}=t;if(E===or)return!0;if(S)return S(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:E,clearCofactor:S}=t;return E===or?this:S?S(m,this):this.multiplyUnsafe(t.h)}toRawBytes(E=!0){return vh("isCompressed",E),this.assertValidity(),s(m,this,E)}toHex(E=!0){return vh("isCompressed",E),Eh(this.toRawBytes(E))}}m.BASE=new m(t.Gx,t.Gy,n.ONE),m.ZERO=new m(n.ZERO,n.ONE,n.ZERO);const{endo:y,nBitLength:b}=t,I=eW(m,y?Math.ceil(b/2):b);return{CURVE:t,ProjectivePoint:m,normPrivateKeyToScalar:f,weierstrassEquation:o,isWithinCurveOrder:l}}function oW(e){const t=ZM(e);return rg(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function aW(e){const t=oW(e),{Fp:n,n:r,nByteLength:s,nBitLength:i}=t,o=n.BYTES+1,a=2*n.BYTES+1;function c(w){return ys(w,r)}function u(w){return Dv(w,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:f,weierstrassEquation:d,isWithinCurveOrder:h}=iW({...t,toBytes(w,T,_){const x=T.toAffine(),j=n.toBytes(x.x),D=zm;return vh("isCompressed",_),_?D(Uint8Array.from([T.hasEvenY()?2:3]),j):D(Uint8Array.from([4]),j,n.toBytes(x.y))},fromBytes(w){const T=w.length,_=w[0],x=w.subarray(1);if(T===o&&(_===2||_===3)){const j=pu(x);if(!s6(j,or,n.ORDER))throw new Error("Point is not on curve");const D=d(j);let P;try{P=n.sqrt(D)}catch(Z){const Y=Z instanceof Error?": "+Z.message:"";throw new Error("Point is not on curve"+Y)}const k=(P&or)===or;return(_&1)===1!==k&&(P=n.neg(P)),{x:j,y:P}}else if(T===a&&_===4){const j=n.fromBytes(x.subarray(0,n.BYTES)),D=n.fromBytes(x.subarray(n.BYTES,2*n.BYTES));return{x:j,y:D}}else{const j=o,D=a;throw new Error("invalid Point, expected length of "+j+", or uncompressed "+D+", got "+T)}}});function p(w){const T=r>>or;return w>T}function m(w){return p(w)?c(-w):w}const y=(w,T,_)=>pu(w.slice(T,_));class b{constructor(T,_,x){$l("r",T,or,r),$l("s",_,or,r),this.r=T,this.s=_,x!=null&&(this.recovery=x),Object.freeze(this)}static fromCompact(T){const _=s;return T=ii("compactSignature",T,_*2),new b(y(T,0,_),y(T,_,2*_))}static fromDER(T){const{r:_,s:x}=qo.toSig(ii("DER",T));return new b(_,x)}assertValidity(){}addRecoveryBit(T){return new b(this.r,this.s,T)}recoverPublicKey(T){const{r:_,s:x,recovery:j}=this,D=O(ii("msgHash",T));if(j==null||![0,1,2,3].includes(j))throw new Error("recovery id invalid");const P=j===2||j===3?_+t.n:_;if(P>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const k=j&1?"03":"02",$=l.fromHex(k+p1(P,n.BYTES)),Z=u(P),Y=c(-D*Z),ne=c(x*Z),he=l.BASE.multiplyAndAddUnsafe($,Y,ne);if(!he)throw new Error("point at infinify");return he.assertValidity(),he}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return $m(this.toDERHex())}toDERHex(){return qo.hexFromSig(this)}toCompactRawBytes(){return $m(this.toCompactHex())}toCompactHex(){const T=s;return p1(this.r,T)+p1(this.s,T)}}const I={isValidPrivateKey(w){try{return f(w),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const w=KM(t.n);return Zq(t.randomBytes(w),t.n)},precompute(w=8,T=l.BASE){return T._setWindowSize(w),T.multiply(BigInt(3)),T}};function v(w,T=!0){return l.fromPrivateKey(w).toRawBytes(T)}function E(w){if(typeof w=="bigint")return!1;if(w instanceof l)return!0;const _=ii("key",w).length,x=n.BYTES,j=x+1,D=2*x+1;if(!(t.allowedPrivateKeyLengths||s===j))return _===j||_===D}function S(w,T,_=!0){if(E(w)===!0)throw new Error("first arg must be private key");if(E(T)===!1)throw new Error("second arg must be public key");return l.fromHex(T).multiply(f(w)).toRawBytes(_)}const N=t.bits2int||function(w){if(w.length>8192)throw new Error("input is too large");const T=pu(w),_=w.length*8-i;return _>0?T>>BigInt(_):T},O=t.bits2int_modN||function(w){return c(N(w))},z=ng(i);function L(w){return $l("num < 2^"+i,w,Qo,z),Ip(w,s)}function F(w,T,_=H){if(["recovered","canonical"].some(le=>le in _))throw new Error("sign() legacy options not supported");const{hash:x,randomBytes:j}=t;let{lowS:D,prehash:P,extraEntropy:k}=_;D==null&&(D=!0),w=ii("msgHash",w),y3(_),P&&(w=ii("prehashed msgHash",x(w)));const $=O(w),Z=f(T),Y=[L(Z),L($)];if(k!=null&&k!==!1){const le=k===!0?j(n.BYTES):k;Y.push(ii("extraEntropy",le))}const ne=zm(...Y),he=$;function de(le){const Se=N(le);if(!h(Se))return;const Me=u(Se),Ne=l.BASE.multiply(Se).toAffine(),ot=c(Ne.x);if(ot===Qo)return;const De=c(Me*c(he+ot*Z));if(De===Qo)return;let Ve=(Ne.x===ot?0:2)|Number(Ne.y&or),It=De;return D&&p(De)&&(It=m(De),Ve^=1),new b(ot,It,Ve)}return{seed:ne,k2sig:de}}const H={lowS:t.lowS,prehash:!1},G={lowS:t.lowS,prehash:!1};function M(w,T,_=H){const{seed:x,k2sig:j}=F(w,T,_),D=t;return Fq(D.hash.outputLen,D.nByteLength,D.hmac)(x,j)}l.BASE._setWindowSize(8);function g(w,T,_,x=G){var Ve;const j=w;T=ii("msgHash",T),_=ii("publicKey",_);const{lowS:D,prehash:P,format:k}=x;if(y3(x),"strict"in x)throw new Error("options.strict was renamed to lowS");if(k!==void 0&&k!=="compact"&&k!=="der")throw new Error("format must be compact or der");const $=typeof j=="string"||Ap(j),Z=!$&&!k&&typeof j=="object"&&j!==null&&typeof j.r=="bigint"&&typeof j.s=="bigint";if(!$&&!Z)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Y,ne;try{if(Z&&(Y=new b(j.r,j.s)),$){try{k!=="compact"&&(Y=b.fromDER(j))}catch(It){if(!(It instanceof qo.Err))throw It}!Y&&k!=="der"&&(Y=b.fromCompact(j))}ne=l.fromHex(_)}catch{return!1}if(!Y||D&&Y.hasHighS())return!1;P&&(T=t.hash(T));const{r:he,s:de}=Y,le=O(T),Se=u(de),Me=c(le*Se),Ne=c(he*Se),ot=(Ve=l.BASE.multiplyAndAddUnsafe(ne,Me,Ne))==null?void 0:Ve.toAffine();return ot?c(ot.x)===he:!1}return{CURVE:t,getPublicKey:v,getSharedSecret:S,sign:M,verify:g,ProjectivePoint:l,Signature:b,utils:I}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function cW(e){return{hash:e,hmac:(t,...n)=>bp(e,t,hi(...n)),randomBytes:dp}}function uW(e,t){const n=r=>aW({...e,...cW(r)});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const XM=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),g3=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),lW=BigInt(0),dW=BigInt(1),Lv=BigInt(2),w3=(e,t)=>(e+t/Lv)/t;function fW(e){const t=XM,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,l=u*u*e%t,f=ei(l,n,t)*l%t,d=ei(f,n,t)*l%t,h=ei(d,Lv,t)*u%t,p=ei(h,s,t)*h%t,m=ei(p,i,t)*p%t,y=ei(m,a,t)*m%t,b=ei(y,c,t)*y%t,I=ei(b,a,t)*m%t,v=ei(I,n,t)*l%t,E=ei(v,o,t)*p%t,S=ei(E,r,t)*u%t,N=ei(S,Lv,t);if(!$v.eql($v.sqr(N),e))throw new Error("Cannot find square root");return N}const $v=i6(XM,void 0,void 0,{sqrt:fW}),Kd=uW({a:lW,b:BigInt(7),Fp:$v,n:g3,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=g3,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-dW*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,o=BigInt("0x100000000000000000000000000000000"),a=w3(i*e,t),c=w3(-r*e,t);let u=ys(e-a*n-c*s,t),l=ys(-a*r-c*i,t);const f=u>o,d=l>o;if(f&&(u=t-u),d&&(l=t-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:u,k2neg:d,k2:l}}}},Jy),hW=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:Kd},Symbol.toStringTag,{value:"Module"}));function pW(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let u=0;u<t.length;u++)t[u]=255;for(let u=0;u<e.length;u++){const l=e.charAt(u),f=l.charCodeAt(0);if(t[f]!==255)throw new TypeError(l+" is ambiguous");t[f]=u}const n=e.length,r=e.charAt(0),s=Math.log(n)/Math.log(256),i=Math.log(256)/Math.log(n);function o(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";let l=0,f=0,d=0;const h=u.length;for(;d!==h&&u[d]===0;)d++,l++;const p=(h-d)*i+1>>>0,m=new Uint8Array(p);for(;d!==h;){let I=u[d],v=0;for(let E=p-1;(I!==0||v<f)&&E!==-1;E--,v++)I+=256*m[E]>>>0,m[E]=I%n>>>0,I=I/n>>>0;if(I!==0)throw new Error("Non-zero carry");f=v,d++}let y=p-f;for(;y!==p&&m[y]===0;)y++;let b=r.repeat(l);for(;y<p;++y)b+=e.charAt(m[y]);return b}function a(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;let l=0,f=0,d=0;for(;u[l]===r;)f++,l++;const h=(u.length-l)*s+1>>>0,p=new Uint8Array(h);for(;l<u.length;){const I=u.charCodeAt(l);if(I>255)return;let v=t[I];if(v===255)return;let E=0;for(let S=h-1;(v!==0||E<d)&&S!==-1;S--,E++)v+=n*p[S]>>>0,p[S]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");d=E,l++}let m=h-d;for(;m!==h&&p[m]===0;)m++;const y=new Uint8Array(f+(h-m));let b=f;for(;m!==h;)y[b++]=p[m++];return y}function c(u){const l=a(u);if(l)return l;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var mW="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const ih=pW(mW),yW="1.1.0";let ls=class zv extends Error{constructor(t,n={}){var o;const r=n.cause instanceof zv?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,s=n.cause instanceof zv&&n.cause.docsPath||n.docsPath,i=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${yW}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function ka(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const JM=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,eB=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,tB=/^\(.+?\).*?$/,b3=/^tuple(?<array>(\[(\d*)\])*)$/;function Fv(e){let t=e.type;if(b3.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const i=e.components[s];t+=Fv(i),s<n-1&&(t+=", ")}const r=ka(b3,e.type);return t+=`)${(r==null?void 0:r.array)??""}`,Fv({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function Al(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=Fv(s),r!==n-1&&(t+=", ")}return t}function Fm(e){var t;return e.type==="function"?`function ${e.name}(${Al(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${(t=e.outputs)!=null&&t.length?` returns (${Al(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${Al(e.inputs)})`:e.type==="error"?`error ${e.name}(${Al(e.inputs)})`:e.type==="constructor"?`constructor(${Al(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const nB=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function gW(e){return nB.test(e)}function wW(e){return ka(nB,e)}const rB=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function bW(e){return rB.test(e)}function vW(e){return ka(rB,e)}const sB=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function EW(e){return sB.test(e)}function xW(e){return ka(sB,e)}const iB=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Sp(e){return iB.test(e)}function AW(e){return ka(iB,e)}const oB=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function IW(e){return oB.test(e)}function SW(e){return ka(oB,e)}const aB=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function kW(e){return aB.test(e)}function CW(e){return ka(aB,e)}const TW=/^receive\(\) external payable$/;function _W(e){return TW.test(e)}const Hm=new Set(["memory","indexed","storage","calldata"]),MW=new Set(["indexed"]),Hv=new Set(["calldata","memory","storage"]);class cB extends ls{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class uB extends ls{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class BW extends ls{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class lB extends ls{constructor({param:t}){super("Failed to parse ABI parameter.",{details:`parseAbiParameter(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameter-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParameterError"})}}class dB extends ls{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class fB extends ls{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class hB extends ls{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class pB extends ls{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class mB extends ls{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class yB extends ls{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Vu extends ls{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class gB extends ls{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class wB extends ls{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class bB extends ls{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class vB extends ls{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function NW(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let i="";for(const o of s[1])i+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${s[0]}{${i}})`}return t?`${t}:${e}${r}`:e}const y1=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function qv(e,t={}){if(EW(e))return OW(e,t);if(bW(e))return PW(e,t);if(gW(e))return jW(e,t);if(IW(e))return RW(e,t);if(kW(e))return DW(e);if(_W(e))return{type:"receive",stateMutability:"payable"};throw new gB({signature:e})}function OW(e,t={}){const n=xW(e);if(!n)throw new Vu({signature:e,type:"function"});const r=Ws(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(Vi(r[a],{modifiers:Hv,structs:t,type:"function"}));const o=[];if(n.returns){const a=Ws(n.returns),c=a.length;for(let u=0;u<c;u++)o.push(Vi(a[u],{modifiers:Hv,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:o}}function PW(e,t={}){const n=vW(e);if(!n)throw new Vu({signature:e,type:"event"});const r=Ws(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Vi(r[o],{modifiers:MW,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function jW(e,t={}){const n=wW(e);if(!n)throw new Vu({signature:e,type:"error"});const r=Ws(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Vi(r[o],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function RW(e,t={}){const n=SW(e);if(!n)throw new Vu({signature:e,type:"constructor"});const r=Ws(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Vi(r[o],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function DW(e){const t=CW(e);if(!t)throw new Vu({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const UW=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,LW=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,$W=/^u?int$/;function Vi(e,t){var f,d;const n=NW(e,t==null?void 0:t.type,t==null?void 0:t.structs);if(y1.has(n))return y1.get(n);const r=tB.test(e),s=ka(r?LW:UW,e);if(!s)throw new fB({param:e});if(s.name&&FW(s.name))throw new hB({param:e,name:s.name});const i=s.name?{name:s.name}:{},o=s.modifier==="indexed"?{indexed:!0}:{},a=(t==null?void 0:t.structs)??{};let c,u={};if(r){c="tuple";const h=Ws(s.type),p=[],m=h.length;for(let y=0;y<m;y++)p.push(Vi(h[y],{structs:a}));u={components:p}}else if(s.type in a)c="tuple",u={components:a[s.type]};else if($W.test(s.type))c=`${s.type}256`;else if(s.type==="address payable")c="address";else if(c=s.type,(t==null?void 0:t.type)!=="struct"&&!EB(c))throw new BW({type:c});if(s.modifier){if(!((d=(f=t==null?void 0:t.modifiers)==null?void 0:f.has)!=null&&d.call(f,s.modifier)))throw new pB({param:e,type:t==null?void 0:t.type,modifier:s.modifier});if(Hv.has(s.modifier)&&!HW(c,!!s.array))throw new mB({param:e,type:t==null?void 0:t.type,modifier:s.modifier})}const l={type:`${c}${s.array??""}`,...i,...o,...u};return y1.set(n,l),l}function Ws(e,t=[],n="",r=0){const s=e.trim().length;for(let i=0;i<s;i++){const o=e[i],a=e.slice(i+1);switch(o){case",":return r===0?Ws(a,[...t,n.trim()]):Ws(a,t,`${n}${o}`,r);case"(":return Ws(a,t,`${n}${o}`,r+1);case")":return Ws(a,t,`${n}${o}`,r-1);default:return Ws(a,t,`${n}${o}`,r)}}if(n==="")return t;if(r!==0)throw new vB({current:n,depth:r});return t.push(n.trim()),t}function EB(e){return e==="address"||e==="bool"||e==="function"||e==="string"||JM.test(e)||eB.test(e)}const zW=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function FW(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||JM.test(e)||eB.test(e)||zW.test(e)}function HW(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function sg(e){const t={},n=e.length;for(let o=0;o<n;o++){const a=e[o];if(!Sp(a))continue;const c=AW(a);if(!c)throw new Vu({signature:a,type:"struct"});const u=c.properties.split(";"),l=[],f=u.length;for(let d=0;d<f;d++){const p=u[d].trim();if(!p)continue;const m=Vi(p,{type:"struct"});l.push(m)}if(!l.length)throw new wB({signature:a});t[c.name]=l}const r={},s=Object.entries(t),i=s.length;for(let o=0;o<i;o++){const[a,c]=s[o];r[a]=xB(c,t)}return r}const qW=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function xB(e,t,n=new Set){const r=[],s=e.length;for(let i=0;i<s;i++){const o=e[i];if(tB.test(o.type))r.push(o);else{const c=ka(qW,o.type);if(!(c!=null&&c.type))throw new yB({abiParameter:o});const{array:u,type:l}=c;if(l in t){if(n.has(l))throw new bB({type:l});r.push({...o,type:`tuple${u??""}`,components:xB(t[l]??[],t,new Set([...n,l]))})}else if(EB(l))r.push(o);else throw new uB({type:l})}}return r}function Ca(e){const t=sg(e),n=[],r=e.length;for(let s=0;s<r;s++){const i=e[s];Sp(i)||n.push(qv(i,t))}return n}function Wv(e){let t;if(typeof e=="string")t=qv(e);else{const n=sg(e),r=e.length;for(let s=0;s<r;s++){const i=e[s];if(!Sp(i)){t=qv(i,n);break}}}if(!t)throw new cB({signature:e});return t}function WW(e){let t;if(typeof e=="string")t=Vi(e,{modifiers:Hm});else{const n=sg(e),r=e.length;for(let s=0;s<r;s++){const i=e[s];if(!Sp(i)){t=Vi(i,{modifiers:Hm,structs:n});break}}}if(!t)throw new lB({param:e});return t}function xh(e){const t=[];if(typeof e=="string"){const n=Ws(e),r=n.length;for(let s=0;s<r;s++)t.push(Vi(n[s],{modifiers:Hm}))}else{const n=sg(e),r=e.length;for(let s=0;s<r;s++){const i=e[s];if(Sp(i))continue;const o=Ws(i),a=o.length;for(let c=0;c<a;c++)t.push(Vi(o[c],{modifiers:Hm,structs:n}))}}if(t.length===0)throw new dB({params:e});return t}function Ee(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:i=>t(e,i)}function Ki(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new NB(e.type);return`${e.name}(${ig(e.inputs,{includeName:t})})`}function ig(e,{includeName:t=!1}={}){return e?e.map(n=>GW(n,{includeName:t})).join(t?", ":","):""}function GW(e,{includeName:t}){return e.type.startsWith("tuple")?`(${ig(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function rt(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function Vt(e){return rt(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const AB="2.38.2";let Il={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${AB}`};function VW(e){Il=e}let re=class Gv extends Error{constructor(t,n={}){var a;const r=(()=>{var c;return n.cause instanceof Gv?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof Gv&&n.cause.docsPath||n.docsPath,i=(a=Il.getDocsUrl)==null?void 0:a.call(Il,{...n,docsPath:s}),o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...Il.version?[`Version: ${Il.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=AB}walk(t){return IB(this,t)}};function IB(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?IB(e.cause,t):t?null:e}class o6 extends re{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class Ah extends re{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class KW extends re{constructor({data:t,size:n}){super([`Data size of ${n} bytes is invalid.`,"Size must be in increments of 32 bytes (size % 32 === 0)."].join(`
`),{metaMessages:[`Data: ${t} (${n} bytes)`],name:"AbiDecodingDataSizeInvalidError"})}}class a6 extends re{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${ig(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class Qd extends re{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class SB extends re{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class kB extends re{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${Vt(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class c6 extends re{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class CB extends re{constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class Vv extends re{constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class u6 extends re{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class TB extends re{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class l6 extends re{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class Kv extends re{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class Au extends re{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class d6 extends re{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class _B extends re{constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class QW extends re{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${Ki(t.abiItem)}\`, and`,`\`${n.type}\` in \`${Ki(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let f6=class extends re{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class md extends re{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${ig(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class kp extends re{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Ki(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class MB extends re{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class BB extends re{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let h6=class extends re{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class NB extends re{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class OB extends re{constructor(t){super(`Type "${t}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}class PB extends re{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}let p6=class extends re{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},m6=class extends re{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class v3 extends re{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`,{name:"InvalidBytesLengthError"})}}function Is(e,{dir:t,size:n=32}={}){return typeof e=="string"?Fi(e,{dir:t,size:n}):jB(e,{dir:t,size:n})}function Fi(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new m6({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function jB(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new m6({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=t==="right";r[i?s:n-s-1]=e[i?s:e.length-s-1]}return r}let y6=class extends re{constructor({max:t,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},RB=class extends re{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class DB extends re{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let UB=class extends re{constructor(t){super(`Hex value "${t}" is an odd length (${t.length}). It must be an even length.`,{name:"InvalidHexValueError"})}},LB=class extends re{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}};function Zn(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let s=0;s<n.length-1&&n[t==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function Ai(e,{size:t}){if(Vt(e)>t)throw new LB({givenSize:Vt(e),maxSize:t})}function YW(e,t){const n=typeof t=="string"?{to:t}:t,r=n.to;return r==="number"?Mt(e,n):r==="bigint"?Ge(e,n):r==="string"?w6(e,n):r==="boolean"?g6(e,n):wn(e,n)}function Ge(e,t={}){const{signed:n}=t;t.size&&Ai(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function g6(e,t={}){let n=e;if(t.size&&(Ai(n,{size:t.size}),n=Zn(n)),Zn(n)==="0x00")return!1;if(Zn(n)==="0x01")return!0;throw new DB(n)}function Mt(e,t={}){return Number(Ge(e,t))}function w6(e,t={}){let n=wn(e);return t.size&&(Ai(n,{size:t.size}),n=Zn(n,{dir:"right"})),new TextDecoder().decode(n)}const ZW=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function pt(e,t={}){return typeof e=="number"||typeof e=="bigint"?oe(e,t):typeof e=="string"?wc(e,t):typeof e=="boolean"?og(e,t):Ut(e,t)}function og(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Ai(n,{size:t.size}),Is(n,{size:t.size})):n}function Ut(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=ZW[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(Ai(r,{size:t.size}),Is(r,{dir:"right",size:t.size})):r}function oe(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const c=typeof e=="bigint"?"n":"";throw new y6({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${e}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Is(a,{size:r}):a}const XW=new TextEncoder;function wc(e,t={}){const n=XW.encode(e);return Ut(n,t)}const JW=new TextEncoder;function Yn(e,t={}){return typeof e=="number"||typeof e=="bigint"?zB(e,t):typeof e=="boolean"?$B(e,t):rt(e)?wn(e,t):hc(e,t)}function $B(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(Ai(n,{size:t.size}),Is(n,{size:t.size})):n}const Oo={zero:48,nine:57,A:65,F:70,a:97,f:102};function E3(e){if(e>=Oo.zero&&e<=Oo.nine)return e-Oo.zero;if(e>=Oo.A&&e<=Oo.F)return e-(Oo.A-10);if(e>=Oo.a&&e<=Oo.f)return e-(Oo.a-10)}function wn(e,t={}){let n=e;t.size&&(Ai(n,{size:t.size}),n=Is(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=E3(r.charCodeAt(a++)),u=E3(r.charCodeAt(a++));if(c===void 0||u===void 0)throw new re(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[o]=c*16+u}return i}function zB(e,t){const n=oe(e,t);return wn(n)}function hc(e,t={}){const n=JW.encode(e);return typeof t.size=="number"?(Ai(n,{size:t.size}),Is(n,{dir:"right",size:t.size})):n}function zt(e,t){const n=t||"hex",r=jM(rt(e,{strict:!1})?Yn(e):e);return n==="bytes"?r:pt(r)}const eG=e=>zt(Yn(e));function tG(e){return eG(e)}function nG(e){let t=!0,n="",r=0,s="",i=!1;for(let o=0;o<e.length;o++){const a=e[o];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){i=!0;break}continue}if(a===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!i)throw new re("Unable to normalize signature.");return s}const Hf=e=>{const t=typeof e=="string"?e:Fm(e);return nG(t)};function qm(e){return tG(Hf(e))}const yd=qm;let bn=class extends re{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},Yd=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const g1=new Yd(8192);function Zd(e,t){if(g1.has(`${e}.${t}`))return g1.get(`${e}.${t}`);const n=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),r=zt(hc(n),"bytes"),s=(t?n.substring(`${t}0x`.length):n).split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return g1.set(`${e}.${t}`,i),i}function St(e,t){if(!Pt(e,{strict:!1}))throw new bn({address:e});return Zd(e,t)}const rG=/^0x[a-fA-F0-9]{40}$/,w1=new Yd(8192);function Pt(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(w1.has(r))return w1.get(r);const s=rG.test(e)?e.toLowerCase()===e?!0:n?Zd(e)===e:!0:!1;return w1.set(r,s),s}function os(e){return typeof e[0]=="string"?Tr(e):FB(e)}function FB(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function Tr(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function ma(e,t,n,{strict:r}={}){return rt(e,{strict:!1})?gd(e,t,n,{strict:r}):b6(e,t,n,{strict:r})}function HB(e,t){if(typeof t=="number"&&t>0&&t>Vt(e)-1)throw new p6({offset:t,position:"start",size:Vt(e)})}function qB(e,t,n){if(typeof t=="number"&&typeof n=="number"&&Vt(e)!==n-t)throw new p6({offset:n,position:"end",size:Vt(e)})}function b6(e,t,n,{strict:r}={}){HB(e,t);const s=e.slice(t,n);return r&&qB(s,t,n),s}function gd(e,t,n,{strict:r}={}){HB(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&qB(s,t,n),s}const sG=/^(.*)\[([0-9]*)\]$/,WB=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,v6=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Ei(e,t){if(e.length!==t.length)throw new c6({expectedLength:e.length,givenLength:t.length});const n=iG({params:e,values:t}),r=x6(n);return r.length===0?"0x":r}function iG({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(E6({param:e[r],value:t[r]}));return n}function E6({param:e,value:t}){const n=A6(e.type);if(n){const[r,s]=n;return aG(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return fG(t,{param:e});if(e.type==="address")return oG(t);if(e.type==="bool")return uG(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,s="256"]=v6.exec(e.type)??[];return lG(t,{signed:r,size:Number(s)})}if(e.type.startsWith("bytes"))return cG(t,{param:e});if(e.type==="string")return dG(t);throw new MB(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function x6(e){let t=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:a}=e[i];o?t+=32:t+=Vt(a)}const n=[],r=[];let s=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:a}=e[i];o?(n.push(oe(t+s,{size:32})),r.push(a),s+=Vt(a)):n.push(a)}return os([...n,...r])}function oG(e){if(!Pt(e))throw new bn({address:e});return{dynamic:!1,encoded:Fi(e.toLowerCase())}}function aG(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new h6(e);if(!r&&e.length!==t)throw new SB({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const i=[];for(let o=0;o<e.length;o++){const a=E6({param:n,value:e[o]});a.dynamic&&(s=!0),i.push(a)}if(r||s){const o=x6(i);if(r){const a=oe(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?os([a,o]):a}}if(s)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:os(i.map(({encoded:o})=>o))}}function cG(e,{param:t}){const[,n]=t.type.split("bytes"),r=Vt(e);if(!n){let s=e;return r%32!==0&&(s=Fi(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:os([Fi(oe(r,{size:32})),s])}}if(r!==Number.parseInt(n,10))throw new kB({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Fi(e,{dir:"right"})}}function uG(e){if(typeof e!="boolean")throw new re(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Fi(og(e))}}function lG(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new y6({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:oe(e,{size:32,signed:t})}}function dG(e){const t=wc(e),n=Math.ceil(Vt(t)/32),r=[];for(let s=0;s<n;s++)r.push(Fi(ma(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:os([Fi(oe(Vt(t),{size:32})),...r])}}function fG(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const i=t.components[s],o=Array.isArray(e)?s:i.name,a=E6({param:i,value:e[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?x6(r):os(r.map(({encoded:s})=>s))}}function A6(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const Iu=e=>ma(qm(e),0,4);function Cc(e){const{abi:t,args:n=[],name:r}=e,s=rt(r,{strict:!1}),i=t.filter(a=>s?a.type==="function"?Iu(a)===r:a.type==="event"?yd(a)===r:!1:"name"in a&&a.name===r);if(i.length===0)return;if(i.length===1)return i[0];let o;for(const a of i){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((u,l)=>{const f="inputs"in a&&a.inputs[l];return f?Qv(u,f):!1})){if(o&&"inputs"in o&&o.inputs){const u=GB(a.inputs,o.inputs,n);if(u)throw new QW({abiItem:a,type:u[0]},{abiItem:o,type:u[1]})}o=a}}return o||i[0]}function Qv(e,t){const n=typeof e,r=t.type;switch(r){case"address":return Pt(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,i)=>Qv(Object.values(e)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Qv(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function GB(e,t,n){for(const r in e){const s=e[r],i=t[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return GB(s.components,i.components,n[r]);const o=[s.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?Pt(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?Pt(n[r],{strict:!1}):!1)return o}}const x3="/docs/contract/encodeEventTopics";function Xd(e){var c;const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const u=Cc({abi:t,name:n});if(!u)throw new Kv(n,{docsPath:x3});s=u}if(s.type!=="event")throw new Kv(void 0,{docsPath:x3});const i=Ki(s),o=yd(i);let a=[];if(r&&"inputs"in s){const u=(c=s.inputs)==null?void 0:c.filter(f=>"indexed"in f&&f.indexed),l=Array.isArray(r)?r:Object.values(r).length>0?(u==null?void 0:u.map(f=>r[f.name]))??[]:[];l.length>0&&(a=(u==null?void 0:u.map((f,d)=>Array.isArray(l[d])?l[d].map((h,p)=>A3({param:f,value:l[d][p]})):typeof l[d]<"u"&&l[d]!==null?A3({param:f,value:l[d]}):null))??[])}return[o,...a]}function A3({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return zt(Yn(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new PB(e.type);return Ei([e],[t])}function ag(e,{method:t}){var r,s;const n={};return e.transport.type==="fallback"&&((s=(r=e.transport).onResponse)==null||s.call(r,({method:i,response:o,status:a,transport:c})=>{a==="success"&&t===i&&(n[o]=c.request)})),i=>n[i]||e.request}async function I6(e,t){const{address:n,abi:r,args:s,eventName:i,fromBlock:o,strict:a,toBlock:c}=t,u=ag(e,{method:"eth_newFilter"}),l=i?Xd({abi:r,args:s,eventName:i}):void 0,f=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof o=="bigint"?oe(o):o,toBlock:typeof c=="bigint"?oe(c):c,topics:l}]});return{abi:r,args:s,eventName:i,id:f,request:u(f),strict:!!a,type:"event"}}function nn(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const I3="/docs/contract/encodeFunctionData";function VB(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const i=Cc({abi:t,args:n,name:r});if(!i)throw new Au(r,{docsPath:I3});s=i}if(s.type!=="function")throw new Au(void 0,{docsPath:I3});return{abi:[s],functionName:Iu(Ki(s))}}function _r(e){const{args:t}=e,{abi:n,functionName:r}=(()=>{var a;return e.abi.length===1&&((a=e.functionName)!=null&&a.startsWith("0x"))?e:VB(e)})(),s=n[0],i=r,o="inputs"in s&&s.inputs?Ei(s.inputs,t??[]):void 0;return Tr([i,o??"0x"])}const hG={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},KB={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},pG={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};let S3=class extends re{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}},QB=class extends re{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}},mG=class extends re{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}};const yG={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new mG({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new QB({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new S3({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new S3({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function wd(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(yG);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function gG(e,t){const n=typeof t=="string"?{to:t}:t,r=n.to;return r==="number"?Hi(e,n):r==="bigint"?S6(e,n):r==="boolean"?k6(e,n):r==="string"?C6(e,n):Ut(e,n)}function S6(e,t={}){typeof t.size<"u"&&Ai(e,{size:t.size});const n=Ut(e,t);return Ge(n,t)}function k6(e,t={}){let n=e;if(typeof t.size<"u"&&(Ai(n,{size:t.size}),n=Zn(n)),n.length>1||n[0]>1)throw new RB(n);return!!n[0]}function Hi(e,t={}){typeof t.size<"u"&&Ai(e,{size:t.size});const n=Ut(e,t);return Mt(n,t)}function C6(e,t={}){let n=e;return typeof t.size<"u"&&(Ai(n,{size:t.size}),n=Zn(n,{dir:"right"})),new TextDecoder().decode(n)}function Tc(e,t){const n=typeof t=="string"?wn(t):t,r=wd(n);if(Vt(n)===0&&e.length>0)throw new Qd;if(Vt(t)&&Vt(t)<32)throw new a6({data:typeof t=="string"?t:Ut(t),params:e,size:Vt(t)});let s=0;const i=[];for(let o=0;o<e.length;++o){const a=e[o];r.setPosition(s);const[c,u]=zl(r,a,{staticPosition:0});s+=u,i.push(c)}return i}function zl(e,t,{staticPosition:n}){const r=A6(t.type);if(r){const[s,i]=r;return bG(e,{...t,type:i},{length:s,staticPosition:n})}if(t.type==="tuple")return AG(e,t,{staticPosition:n});if(t.type==="address")return wG(e);if(t.type==="bool")return vG(e);if(t.type.startsWith("bytes"))return EG(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return xG(e,t);if(t.type==="string")return IG(e,{staticPosition:n});throw new BB(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const k3=32,Yv=32;function wG(e){const t=e.readBytes(32);return[Zd(Ut(b6(t,-20))),32]}function bG(e,t,{length:n,staticPosition:r}){if(!n){const o=Hi(e.readBytes(Yv)),a=r+o,c=a+k3;e.setPosition(a);const u=Hi(e.readBytes(k3)),l=Ih(t);let f=0;const d=[];for(let h=0;h<u;++h){e.setPosition(c+(l?h*32:f));const[p,m]=zl(e,t,{staticPosition:c});f+=m,d.push(p)}return e.setPosition(r+32),[d,32]}if(Ih(t)){const o=Hi(e.readBytes(Yv)),a=r+o,c=[];for(let u=0;u<n;++u){e.setPosition(a+u*32);const[l]=zl(e,t,{staticPosition:a});c.push(l)}return e.setPosition(r+32),[c,32]}let s=0;const i=[];for(let o=0;o<n;++o){const[a,c]=zl(e,t,{staticPosition:r+s});s+=c,i.push(a)}return[i,s]}function vG(e){return[k6(e.readBytes(32),{size:32}),32]}function EG(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const o=Hi(e.readBytes(32));e.setPosition(n+o);const a=Hi(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[Ut(c),32]}return[Ut(e.readBytes(Number.parseInt(s,10),32)),32]}function xG(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?S6(s,{signed:n}):Hi(s,{signed:n}),32]}function AG(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:o})=>!o),s=r?[]:{};let i=0;if(Ih(t)){const o=Hi(e.readBytes(Yv)),a=n+o;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(a+i);const[l,f]=zl(e,u,{staticPosition:a});i+=f,s[r?c:u==null?void 0:u.name]=l}return e.setPosition(n+32),[s,32]}for(let o=0;o<t.components.length;++o){const a=t.components[o],[c,u]=zl(e,a,{staticPosition:n});s[r?o:a==null?void 0:a.name]=c,i+=u}return[s,i]}function IG(e,{staticPosition:t}){const n=Hi(e.readBytes(32)),r=t+n;e.setPosition(r);const s=Hi(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const i=e.readBytes(s,32),o=C6(Zn(i));return e.setPosition(t+32),[o,32]}function Ih(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(Ih);const n=A6(e.type);return!!(n&&Ih({...e,type:n[1]}))}function T6(e){const{abi:t,data:n}=e,r=ma(n,0,4);if(r==="0x")throw new Qd;const i=[...t||[],KB,pG].find(o=>o.type==="error"&&r===Iu(Ki(o)));if(!i)throw new u6(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?Tc(i.inputs,ma(n,4)):void 0,errorName:i.name}}const un=(e,t,n)=>JSON.stringify(e,(r,s)=>{const i=typeof s=="bigint"?s.toString():s;return typeof t=="function"?t(r,i):i},n);function YB({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,i)=>`${r&&s.name?`${s.name}: `:""}${typeof t[i]=="object"?un(t[i]):t[i]}`).join(", ")})`}const _6={gwei:9,wei:18},M6={ether:-9,wei:9},ZB={ether:-18,gwei:-9};function Su(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,i]=[n.slice(0,n.length-t),n.slice(n.length-t)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${i?`.${i}`:""}`}function cg(e,t="wei"){return Su(e,_6[t])}function ts(e,t="wei"){return Su(e,M6[t])}class XB extends re{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class JB extends re{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function C3(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function SG(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=C3(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=C3(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function Cp(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class eN extends re{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class B6 extends re{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class tN extends re{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Cp(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class nN extends re{constructor({serializedType:t}){super(`Serialized transaction type "${t}" is invalid.`,{name:"InvalidSerializedTransactionType"}),Object.defineProperty(this,"serializedType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.serializedType=t}}class Jd extends re{constructor({attributes:t,serializedTransaction:n,type:r}){const s=Object.entries(t).map(([i,o])=>typeof o>"u"?i:void 0).filter(Boolean);super(`Invalid serialized transaction of type "${r}" was provided.`,{metaMessages:[`Serialized Transaction: "${n}"`,s.length>0?`Missing Attributes: ${s.join(", ")}`:""].filter(Boolean),name:"InvalidSerializedTransactionError"}),Object.defineProperty(this,"serializedTransaction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.serializedTransaction=n,this.type=r}}class rN extends re{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class sN extends re{constructor(t,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:f,value:d}){var p;const h=Cp({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:f,value:typeof d<"u"&&`${cg(d)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${ts(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${ts(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ts(u)} gwei`,nonce:l});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}let N6=class extends re{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:i}){let o="Transaction";r&&i!==void 0&&(o=`Transaction at block time "${r}" at index "${i}"`),t&&i!==void 0&&(o=`Transaction at block hash "${t}" at index "${i}"`),n&&i!==void 0&&(o=`Transaction at block number "${n}" at index "${i}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}},O6=class extends re{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}};class iN extends re{constructor({receipt:t}){super(`Transaction with hash "${t.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=t}}let oN=class extends re{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}};const kG=e=>e,Ku=e=>e;class P6 extends re{constructor(t,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:f,value:d,stateOverride:h}){var y;const p=n?nn(n):void 0;let m=Cp({from:p==null?void 0:p.address,to:f,value:typeof d<"u"&&`${cg(d)} ${((y=s==null?void 0:s.nativeCurrency)==null?void 0:y.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${ts(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${ts(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ts(u)} gwei`,nonce:l});h&&(m+=`
${SG(h)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",m].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class ug extends re{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:i,functionName:o,sender:a}){const c=Cc({abi:n,args:r,name:o}),u=c?YB({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,l=c?Ki(c,{includeName:!0}):void 0,f=Cp({address:s&&kG(s),function:l,args:u&&u!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:t,docsPath:i,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],f&&"Contract Call:",f].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=o,this.sender=a}}class Wm extends re{constructor({abi:t,data:n,functionName:r,message:s}){let i,o,a,c;if(n&&n!=="0x")try{o=T6({abi:t,data:n});const{abiItem:l,errorName:f,args:d}=o;if(f==="Error")c=d[0];else if(f==="Panic"){const[h]=d;c=hG[h]}else{const h=l?Ki(l,{includeName:!0}):void 0,p=l&&d?YB({abiItem:l,args:d,includeFunctionName:!1,includeName:!1}):void 0;a=[h?`Error: ${h}`:"",p&&p!=="()"?`       ${[...Array((f==null?void 0:f.length)??0).keys()].map(()=>" ").join("")}${p}`:""]}}catch(l){i=l}else s&&(c=s);let u;i instanceof u6&&(u=i.signature,a=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:i,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=c,this.signature=u}}class aN extends re{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class cN extends re{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Tp extends re{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}let pc=class extends re{constructor({body:t,cause:n,details:r,headers:s,status:i,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${Ku(o)}`,t&&`Request body: ${un(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=s,this.status=i,this.url=o}};class Zv extends re{constructor({body:t,cause:n,details:r,url:s}){super("WebSocket request failed.",{cause:n,details:r,metaMessages:[`URL: ${Ku(s)}`,t&&`Request body: ${un(t)}`].filter(Boolean),name:"WebSocketRequestError"})}}let _p=class extends re{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${Ku(r)}`,`Request body: ${un(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}};class Sh extends re{constructor({url:t}={}){super("The socket has been closed.",{metaMessages:[t&&`URL: ${Ku(t)}`].filter(Boolean),name:"SocketClosedError"})}}let Gm=class extends re{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Ku(n)}`,`Request body: ${un(t)}`],name:"TimeoutError"})}};const CG=-1;class ds extends re{constructor(t,{code:n,docsPath:r,metaMessages:s,name:i,shortMessage:o}){super(o,{cause:t,docsPath:r,metaMessages:s||(t==null?void 0:t.metaMessages),name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||t.name,this.code=t instanceof _p?t.code:n??CG}}let Ns=class extends ds{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}};class bd extends ds{constructor(t){super(t,{code:bd.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(bd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class vd extends ds{constructor(t){super(t,{code:vd.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(vd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Ed extends ds{constructor(t,{method:n}={}){super(t,{code:Ed.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(Ed,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class xd extends ds{constructor(t){super(t,{code:xd.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(xd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class bc extends ds{constructor(t){super(t,{code:bc.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(bc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class vc extends ds{constructor(t){super(t,{code:vc.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(vc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Ad extends ds{constructor(t){super(t,{code:Ad.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Ad,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class qi extends ds{constructor(t){super(t,{code:qi.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(qi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class ku extends ds{constructor(t){super(t,{code:ku.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(ku,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});let Ol=class uN extends ds{constructor(t,{method:n}={}){super(t,{code:uN.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}};Object.defineProperty(Ol,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Cu extends ds{constructor(t){super(t,{code:Cu.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Cu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Id extends ds{constructor(t){super(t,{code:Id.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Id,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});let wt=class lN extends Ns{constructor(t){super(t,{code:lN.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}};Object.defineProperty(wt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Sd extends Ns{constructor(t){super(t,{code:Sd.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Sd,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class kd extends Ns{constructor(t,{method:n}={}){super(t,{code:kd.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(kd,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Cd extends Ns{constructor(t){super(t,{code:Cd.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Cd,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Td extends Ns{constructor(t){super(t,{code:Td.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Td,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class cr extends Ns{constructor(t){super(t,{code:cr.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(cr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Tu extends Ns{constructor(t){super(t,{code:Tu.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Tu,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class _d extends Ns{constructor(t){super(t,{code:_d.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(_d,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Md extends Ns{constructor(t){super(t,{code:Md.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Md,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Bd extends Ns{constructor(t){super(t,{code:Bd.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Bd,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Nd extends Ns{constructor(t){super(t,{code:Nd.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Nd,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class _u extends Ns{constructor(t){super(t,{code:_u.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(_u,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Mu extends Ns{constructor(t){super(t,{code:Mu.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Mu,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class dN extends ds{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const TG=3;function Ec(e,{abi:t,address:n,args:r,docsPath:s,functionName:i,sender:o}){const a=e instanceof Tp?e:e instanceof re?e.walk(p=>"data"in p)||e.walk():{},{code:c,data:u,details:l,message:f,shortMessage:d}=a,h=e instanceof Qd?new aN({functionName:i}):[TG,bc.code].includes(c)&&(u||l||f||d)?new Wm({abi:t,data:typeof u=="object"?u.data:u,functionName:i,message:a instanceof _p?l:d??f}):e;return new ug(h,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:i,sender:o})}function _G(e){const t=zt(`0x${e.substring(4)}`).substring(26);return Zd(`0x${t}`)}async function fN({hash:e,signature:t}){const n=rt(e)?e:pt(e),{secp256k1:r}=await we(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>hW);return{secp256k1:o}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:l,v:f,yParity:d}=t,h=Number(d??f),p=T3(h);return new r.Signature(Ge(u),Ge(l)).addRecoveryBit(p)}const o=rt(t)?t:pt(t);if(Vt(o)!==65)throw new Error("invalid signature length");const a=Mt(`0x${o.slice(130)}`),c=T3(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function T3(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function Qu({hash:e,signature:t}){return _G(await fN({hash:e,signature:t}))}function Ts(e,t="hex"){const n=hN(e),r=wd(new Uint8Array(n.length));return n.encode(r),t==="hex"?Ut(r.bytes):r.bytes}function MG(e,t="bytes"){return Ts(e,t)}function BG(e,t="hex"){return Ts(e,t)}function hN(e){return Array.isArray(e)?NG(e.map(t=>hN(t))):OG(e)}function NG(e){const t=e.reduce((s,i)=>s+i.length,0),n=pN(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:i}of e)i(s)}}}function OG(e){const t=typeof e=="string"?wn(e):e,n=pN(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function pN(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new re("Length is too large.")}function PG(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,i=zt(Tr(["0x05",Ts([t?oe(t):"0x",s,n?oe(n):"0x"])]));return r==="bytes"?wn(i):i}async function lg(e){const{authorization:t,signature:n}=e;return Qu({hash:PG(t),signature:n??t})}class mN extends re{constructor(t,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:f,value:d}){var p;const h=Cp({from:n==null?void 0:n.address,to:f,value:typeof d<"u"&&`${cg(d)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${ts(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${ts(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ts(u)} gwei`,nonce:l});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class ac extends re{constructor({cause:t,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(ac,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(ac,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class ya extends re{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ts(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(ya,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Vm extends re{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ts(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(Vm,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Km extends re{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(Km,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Qm extends re{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(Qm,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Ym extends re{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(Ym,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Zm extends re{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(Zm,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class Xm extends re{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(Xm,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Jm extends re{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(Jm,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class ey extends re{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(ey,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Bu extends re{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${ts(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${ts(r)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(Bu,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class ef extends re{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function dg(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof re?e.walk(s=>(s==null?void 0:s.code)===ac.code):e;return r instanceof re?new ac({cause:e,message:r.details}):ac.nodeMessage.test(n)?new ac({cause:e,message:e.details}):ya.nodeMessage.test(n)?new ya({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Vm.nodeMessage.test(n)?new Vm({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Km.nodeMessage.test(n)?new Km({cause:e,nonce:t==null?void 0:t.nonce}):Qm.nodeMessage.test(n)?new Qm({cause:e,nonce:t==null?void 0:t.nonce}):Ym.nodeMessage.test(n)?new Ym({cause:e,nonce:t==null?void 0:t.nonce}):Zm.nodeMessage.test(n)?new Zm({cause:e}):Xm.nodeMessage.test(n)?new Xm({cause:e,gas:t==null?void 0:t.gas}):Jm.nodeMessage.test(n)?new Jm({cause:e,gas:t==null?void 0:t.gas}):ey.nodeMessage.test(n)?new ey({cause:e}):Bu.nodeMessage.test(n)?new Bu({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new ef({cause:e})}function jG(e,{docsPath:t,...n}){const r=(()=>{const s=dg(e,n);return s instanceof ef?e:s})();return new mN(r,{docsPath:t,...n})}function Yu(e,{format:t}){if(!t)return{};const n={};function r(i){const o=Object.keys(i);for(const a of o)a in e&&(n[a]=e[a]),i[a]&&typeof i[a]=="object"&&!Array.isArray(i[a])&&r(i[a])}const s=t(e||{});return r(s),n}function fg(e,t){return({exclude:n,format:r})=>({exclude:n,format:(s,i)=>{const o=t(s,i);if(n)for(const a of n)delete o[a];return{...o,...r(s,i)}},type:e})}const yN={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Ji(e,t){const n={};return typeof e.authorizationList<"u"&&(n.authorizationList=RG(e.authorizationList)),typeof e.accessList<"u"&&(n.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(n.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?n.blobs=e.blobs.map(r=>Ut(r)):n.blobs=e.blobs),typeof e.data<"u"&&(n.data=e.data),typeof e.from<"u"&&(n.from=e.from),typeof e.gas<"u"&&(n.gas=oe(e.gas)),typeof e.gasPrice<"u"&&(n.gasPrice=oe(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=oe(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(n.maxFeePerGas=oe(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=oe(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(n.nonce=oe(e.nonce)),typeof e.to<"u"&&(n.to=e.to),typeof e.type<"u"&&(n.type=yN[e.type]),typeof e.value<"u"&&(n.value=oe(e.value)),n}const j6=fg("transactionRequest",Ji);function RG(e){return e.map(t=>({address:t.address,r:t.r?oe(BigInt(t.r)):t.r,s:t.s?oe(BigInt(t.s)):t.s,chainId:oe(t.chainId),nonce:oe(t.nonce),...typeof t.yParity<"u"?{yParity:oe(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:oe(t.v)}:{}}))}function _3(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new v3({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new v3({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function DG(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:i}=e,o={};if(i!==void 0&&(o.code=i),t!==void 0&&(o.balance=oe(t)),n!==void 0&&(o.nonce=oe(n)),r!==void 0&&(o.state=_3(r)),s!==void 0){if(o.state)throw new JB;o.stateDiff=_3(s)}return o}function R6(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!Pt(n,{strict:!1}))throw new bn({address:n});if(t[n])throw new XB({address:n});t[n]=DG(r)}return t}const UG=2n**(8n-1n)-1n,LG=2n**(16n-1n)-1n,$G=2n**(24n-1n)-1n,zG=2n**(32n-1n)-1n,FG=2n**(40n-1n)-1n,HG=2n**(48n-1n)-1n,qG=2n**(56n-1n)-1n,WG=2n**(64n-1n)-1n,GG=2n**(72n-1n)-1n,VG=2n**(80n-1n)-1n,KG=2n**(88n-1n)-1n,QG=2n**(96n-1n)-1n,YG=2n**(104n-1n)-1n,ZG=2n**(112n-1n)-1n,XG=2n**(120n-1n)-1n,JG=2n**(128n-1n)-1n,eV=2n**(136n-1n)-1n,tV=2n**(144n-1n)-1n,nV=2n**(152n-1n)-1n,rV=2n**(160n-1n)-1n,sV=2n**(168n-1n)-1n,iV=2n**(176n-1n)-1n,oV=2n**(184n-1n)-1n,aV=2n**(192n-1n)-1n,cV=2n**(200n-1n)-1n,uV=2n**(208n-1n)-1n,lV=2n**(216n-1n)-1n,dV=2n**(224n-1n)-1n,fV=2n**(232n-1n)-1n,hV=2n**(240n-1n)-1n,pV=2n**(248n-1n)-1n,mV=2n**(256n-1n)-1n,yV=-(2n**(8n-1n)),gV=-(2n**(16n-1n)),wV=-(2n**(24n-1n)),bV=-(2n**(32n-1n)),vV=-(2n**(40n-1n)),EV=-(2n**(48n-1n)),xV=-(2n**(56n-1n)),AV=-(2n**(64n-1n)),IV=-(2n**(72n-1n)),SV=-(2n**(80n-1n)),kV=-(2n**(88n-1n)),CV=-(2n**(96n-1n)),TV=-(2n**(104n-1n)),_V=-(2n**(112n-1n)),MV=-(2n**(120n-1n)),BV=-(2n**(128n-1n)),NV=-(2n**(136n-1n)),OV=-(2n**(144n-1n)),PV=-(2n**(152n-1n)),jV=-(2n**(160n-1n)),RV=-(2n**(168n-1n)),DV=-(2n**(176n-1n)),UV=-(2n**(184n-1n)),LV=-(2n**(192n-1n)),$V=-(2n**(200n-1n)),zV=-(2n**(208n-1n)),FV=-(2n**(216n-1n)),HV=-(2n**(224n-1n)),qV=-(2n**(232n-1n)),WV=-(2n**(240n-1n)),GV=-(2n**(248n-1n)),VV=-(2n**(256n-1n)),KV=2n**8n-1n,gN=2n**16n-1n,QV=2n**24n-1n,YV=2n**32n-1n,ZV=2n**40n-1n,XV=2n**48n-1n,JV=2n**56n-1n,eK=2n**64n-1n,tK=2n**72n-1n,nK=2n**80n-1n,rK=2n**88n-1n,sK=2n**96n-1n,iK=2n**104n-1n,oK=2n**112n-1n,aK=2n**120n-1n,cK=2n**128n-1n,uK=2n**136n-1n,lK=2n**144n-1n,dK=2n**152n-1n,fK=2n**160n-1n,hK=2n**168n-1n,pK=2n**176n-1n,mK=2n**184n-1n,yK=2n**192n-1n,gK=2n**200n-1n,wK=2n**208n-1n,bK=2n**216n-1n,vK=2n**224n-1n,EK=2n**232n-1n,xK=2n**240n-1n,AK=2n**248n-1n,tf=2n**256n-1n;function Io(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:i}=e,o=t?nn(t):void 0;if(o&&!Pt(o.address))throw new bn({address:o.address});if(i&&!Pt(i))throw new bn({address:i});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new eN;if(r&&r>tf)throw new ya({maxFeePerGas:r});if(s&&r&&s>r)throw new Bu({maxFeePerGas:r,maxPriorityFeePerGas:s})}class wN extends re{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class hg extends re{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class bN extends re{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${ts(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}let D6=class extends re{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}};const U6={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function nf(e,t){const n={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?Mt(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?Mt(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?U6[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(n.authorizationList=IK(e.authorizationList)),n.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}const pg=fg("transaction",nf);function IK(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function mg(e,t){const n=(e.transactions??[]).map(r=>typeof r=="string"?r:nf(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const yg=fg("block",mg);async function $i(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){var u,l,f;const i=s??!1,o=n!==void 0?oe(n):void 0;let a=null;if(t?a=await e.request({method:"eth_getBlockByHash",params:[t,i]},{dedupe:!0}):a=await e.request({method:"eth_getBlockByNumber",params:[o||r,i]},{dedupe:!!o}),!a)throw new D6({blockHash:t,blockNumber:n});return(((f=(l=(u=e.chain)==null?void 0:u.formatters)==null?void 0:l.block)==null?void 0:f.format)||mg)(a,"getBlock")}async function L6(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function SK(e,t){return vN(e,t)}async function vN(e,t){var i,o;const{block:n,chain:r=e.chain,request:s}=t||{};try{const a=((i=r==null?void 0:r.fees)==null?void 0:i.maxPriorityFeePerGas)??((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee);if(typeof a=="function"){const u=n||await Ee(e,$i,"getBlock")({}),l=await a({block:u,client:e,request:s});if(l===null)throw new Error;return l}if(typeof a<"u")return a;const c=await e.request({method:"eth_maxPriorityFeePerGas"});return Ge(c)}catch{const[a,c]=await Promise.all([n?Promise.resolve(n):Ee(e,$i,"getBlock")({}),Ee(e,L6,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new hg;const u=c-a.baseFeePerGas;return u<0n?0n:u}}async function kK(e,t){return Xv(e,t)}async function Xv(e,t){var d,h;const{block:n,chain:r=e.chain,request:s,type:i="eip1559"}=t||{},o=await(async()=>{var p,m;return typeof((p=r==null?void 0:r.fees)==null?void 0:p.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):((m=r==null?void 0:r.fees)==null?void 0:m.baseFeeMultiplier)??1.2})();if(o<1)throw new wN;const c=10**(((d=o.toString().split(".")[1])==null?void 0:d.length)??0),u=p=>p*BigInt(Math.ceil(o*c))/BigInt(c),l=n||await Ee(e,$i,"getBlock")({});if(typeof((h=r==null?void 0:r.fees)==null?void 0:h.estimateFeesPerGas)=="function"){const p=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:i});if(p!==null)return p}if(i==="eip1559"){if(typeof l.baseFeePerGas!="bigint")throw new hg;const p=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await vN(e,{block:l,chain:r,request:s}),m=u(l.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??m+p,maxPriorityFeePerGas:p}}return{gasPrice:(s==null?void 0:s.gasPrice)??u(await Ee(e,L6,"getGasPrice")({}))}}async function gg(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?oe(r):n]},{dedupe:!!r});return Mt(s)}function wg(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>wn(i)):e.blobs,s=[];for(const i of r)s.push(Uint8Array.from(t.blobToKzgCommitment(i)));return n==="bytes"?s:s.map(i=>Ut(i))}function bg(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>wn(o)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(o=>wn(o)):e.commitments,i=[];for(let o=0;o<r.length;o++){const a=r[o],c=s[o];i.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return n==="bytes"?i:i.map(o=>Ut(o))}function $6(e,t){const n=t||"hex",r=Fn(rt(e,{strict:!1})?Yn(e):e);return n==="bytes"?r:pt(r)}function z6(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=$6(t,"bytes");return s.set([n],0),r==="bytes"?s:Ut(s)}function F6(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),s=[];for(const i of t)s.push(z6({commitment:i,to:r,version:n}));return s}const M3=6,EN=32,H6=4096,xN=EN*H6,B3=xN*M3-1-1*H6*M3,AN=1;class CK extends re{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class IN extends re{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class TK extends re{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class _K extends re{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${AN}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function SN(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?wn(e.data):e.data,r=Vt(n);if(!r)throw new IN;if(r>B3)throw new CK({maxSize:B3,size:r});const s=[];let i=!0,o=0;for(;i;){const a=wd(new Uint8Array(xN));let c=0;for(;c<H6;){const u=n.slice(o,o+(EN-1));if(a.pushByte(0),a.pushBytes(u),u.length<31){a.pushByte(128),i=!1;break}c++,o+=31}s.push(a)}return t==="bytes"?s.map(a=>a.bytes):s.map(a=>Ut(a.bytes))}function vg(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??SN({data:t,to:r}),i=e.commitments??wg({blobs:s,kzg:n,to:r}),o=e.proofs??bg({blobs:s,commitments:i,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:i[c],proof:o[c]});return a}function q6(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new tN({transaction:e})}async function ga(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return Mt(t)}const W6=["blobVersionedHashes","chainId","fees","gas","nonce","type"],N3=new Map;async function Mp(e,t){const{account:n=e.account,blobs:r,chain:s,gas:i,kzg:o,nonce:a,nonceManager:c,parameters:u=W6,type:l}=t,f=n&&nn(n),d={...t,...f?{from:f==null?void 0:f.address}:{}};let h;async function p(){return h||(h=await Ee(e,$i,"getBlock")({blockTag:"latest"}),h)}let m;async function y(){return m||(s?s.id:typeof t.chainId<"u"?t.chainId:(m=await Ee(e,ga,"getChainId")({}),m))}if(u.includes("nonce")&&typeof a>"u"&&f)if(c){const b=await y();d.nonce=await c.consume({address:f.address,chainId:b,client:e})}else d.nonce=await Ee(e,gg,"getTransactionCount")({address:f.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&o){const b=wg({blobs:r,kzg:o});if(u.includes("blobVersionedHashes")){const I=F6({commitments:b,to:"hex"});d.blobVersionedHashes=I}if(u.includes("sidecars")){const I=bg({blobs:r,commitments:b,kzg:o}),v=vg({blobs:r,commitments:b,proofs:I,to:"hex"});d.sidecars=v}}if(u.includes("chainId")&&(d.chainId=await y()),(u.includes("fees")||u.includes("type"))&&typeof l>"u")try{d.type=q6(d)}catch{let b=N3.get(e.uid);if(typeof b>"u"){const I=await p();b=typeof(I==null?void 0:I.baseFeePerGas)=="bigint",N3.set(e.uid,b)}d.type=b?"eip1559":"legacy"}if(u.includes("fees"))if(d.type!=="legacy"&&d.type!=="eip2930"){if(typeof d.maxFeePerGas>"u"||typeof d.maxPriorityFeePerGas>"u"){const b=await p(),{maxFeePerGas:I,maxPriorityFeePerGas:v}=await Xv(e,{block:b,chain:s,request:d});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<v)throw new bN({maxPriorityFeePerGas:v});d.maxPriorityFeePerGas=v,d.maxFeePerGas=I}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new hg;if(typeof t.gasPrice>"u"){const b=await p(),{gasPrice:I}=await Xv(e,{block:b,chain:s,request:d,type:"legacy"});d.gasPrice=I}}return u.includes("gas")&&typeof i>"u"&&(d.gas=await Ee(e,Eg,"estimateGas")({...d,account:f&&{address:f.address,type:"json-rpc"}})),Io(d),delete d.parameters,d}async function Eg(e,t){var s,i,o;const{account:n=e.account}=t,r=n?nn(n):void 0;try{const{accessList:a,authorizationList:c,blobs:u,blobVersionedHashes:l,blockNumber:f,blockTag:d,data:h,gas:p,gasPrice:m,maxFeePerBlobGas:y,maxFeePerGas:b,maxPriorityFeePerGas:I,nonce:v,value:E,stateOverride:S,...N}=await Mp(e,{...t,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),z=(typeof f=="bigint"?oe(f):void 0)||d,L=R6(S),F=await(async()=>{if(N.to)return N.to;if(c&&c.length>0)return await lg({authorization:c[0]}).catch(()=>{throw new re("`to` is required. Could not infer from `authorizationList`")})})();Io(t);const H=(o=(i=(s=e.chain)==null?void 0:s.formatters)==null?void 0:i.transactionRequest)==null?void 0:o.format,M=(H||Ji)({...Yu(N,{format:H}),from:r==null?void 0:r.address,accessList:a,authorizationList:c,blobs:u,blobVersionedHashes:l,data:h,gas:p,gasPrice:m,maxFeePerBlobGas:y,maxFeePerGas:b,maxPriorityFeePerGas:I,nonce:v,to:F,value:E},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:L?[M,z??e.experimental_blockTag??"latest",L]:z?[M,z]:[M]}))}catch(a){throw jG(a,{...t,account:r,chain:e.chain})}}async function kN(e,t){const{abi:n,address:r,args:s,functionName:i,dataSuffix:o,...a}=t,c=_r({abi:n,args:s,functionName:i});try{return await Ee(e,Eg,"estimateGas")({data:`${c}${o?o.replace("0x",""):""}`,to:r,...a})}catch(u){const l=a.account?nn(a.account):void 0;throw Ec(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:i,sender:l==null?void 0:l.address})}}function So(e,t){if(!Pt(e,{strict:!1}))throw new bn({address:e});if(!Pt(t,{strict:!1}))throw new bn({address:t});return e.toLowerCase()===t.toLowerCase()}const O3="/docs/contract/decodeEventLog";function xg(e){const{abi:t,data:n,strict:r,topics:s}=e,i=r??!0,[o,...a]=s;if(!o)throw new TB({docsPath:O3});const c=t.find(m=>m.type==="event"&&o===yd(Ki(m)));if(!(c&&"name"in c)||c.type!=="event")throw new l6(o,{docsPath:O3});const{name:u,inputs:l}=c,f=l==null?void 0:l.some(m=>!("name"in m&&m.name)),d=f?[]:{},h=l.map((m,y)=>[m,y]).filter(([m])=>"indexed"in m&&m.indexed);for(let m=0;m<h.length;m++){const[y,b]=h[m],I=a[m];if(!I)throw new kp({abiItem:c,param:y});d[f?b:y.name||b]=MK({param:y,value:I})}const p=l.filter(m=>!("indexed"in m&&m.indexed));if(p.length>0){if(n&&n!=="0x")try{const m=Tc(p,n);if(m)if(f)for(let y=0;y<l.length;y++)d[y]=d[y]??m.shift();else for(let y=0;y<p.length;y++)d[p[y].name]=m[y]}catch(m){if(i)throw m instanceof a6||m instanceof QB?new md({abiItem:c,data:n,params:p,size:Vt(n)}):m}else if(i)throw new md({abiItem:c,data:"0x",params:p,size:0})}return{eventName:u,args:Object.values(d).length>0?d:void 0}}function MK({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(Tc([e],t)||[])[0]}function Ag(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,i=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(o=>{var a;try{const c=t.find(l=>l.type==="event"&&o.topics[0]===yd(l));if(!c)return null;const u=xg({...o,abi:[c],strict:s});return i&&!i.includes(u.eventName)||!BK({args:u.args,inputs:c.inputs,matchArgs:n})?null:{...u,...o}}catch(c){let u,l;if(c instanceof l6)return null;if(c instanceof md||c instanceof kp){if(s)return null;u=c.abiItem.name,l=(a=c.abiItem.inputs)==null?void 0:a.some(f=>!("name"in f&&f.name))}return{...o,args:l?[]:{},eventName:u}}}).filter(Boolean)}function BK(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(i,o,a){try{return i.type==="address"?So(o,a):i.type==="string"||i.type==="bytes"?zt(Yn(o))===a:o===a}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((i,o)=>{if(i==null)return!0;const a=n[o];return a?(Array.isArray(i)?i:[i]).some(u=>s(a,u,t[o])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([i,o])=>{if(o==null)return!0;const a=n.find(u=>u.name===i);return a?(Array.isArray(o)?o:[o]).some(u=>s(a,u,t[i])):!1}):!1}function Qi(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function G6(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:i,events:o,args:a,strict:c}={}){const u=c??!1,l=o??(i?[i]:void 0);let f=[];l&&(f=[l.flatMap(m=>Xd({abi:[m],eventName:m.name,args:o?void 0:a}))],i&&(f=f[0]));let d;n?d=await e.request({method:"eth_getLogs",params:[{address:t,topics:f,blockHash:n}]}):d=await e.request({method:"eth_getLogs",params:[{address:t,topics:f,fromBlock:typeof r=="bigint"?oe(r):r,toBlock:typeof s=="bigint"?oe(s):s}]});const h=d.map(p=>Qi(p));return l?Ag({abi:l,args:a,logs:h,strict:u}):h}async function V6(e,t){const{abi:n,address:r,args:s,blockHash:i,eventName:o,fromBlock:a,toBlock:c,strict:u}=t,l=o?Cc({abi:n,name:o}):void 0,f=l?void 0:n.filter(d=>d.type==="event");return Ee(e,G6,"getLogs")({address:r,args:s,blockHash:i,event:l,events:f,fromBlock:a,toBlock:c,strict:u})}const b1="/docs/contract/decodeFunctionResult";function _c(e){const{abi:t,args:n,functionName:r,data:s}=e;let i=t[0];if(r){const a=Cc({abi:t,args:n,name:r});if(!a)throw new Au(r,{docsPath:b1});i=a}if(i.type!=="function")throw new Au(void 0,{docsPath:b1});if(!i.outputs)throw new d6(i.name,{docsPath:b1});const o=Tc(i.outputs,s);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const NK="0.1.1";function OK(){return NK}let ut=class Jv extends Error{constructor(t,n={}){const r=(()=>{var c;if(n.cause instanceof Jv){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof Jv&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${s??""}`,a=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${OK()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=s,this.shortMessage=t}walk(t){return CN(this,t)}};function CN(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?CN(e.cause,t):t?null:e}function Bp(e,t){if(Pl(e)>t)throw new JK({givenSize:Pl(e),maxSize:t})}const Po={zero:48,nine:57,A:65,F:70,a:97,f:102};function P3(e){if(e>=Po.zero&&e<=Po.nine)return e-Po.zero;if(e>=Po.A&&e<=Po.F)return e-(Po.A-10);if(e>=Po.a&&e<=Po.f)return e-(Po.a-10)}function PK(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new eQ({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let i=0;i<r;i++){const o=n==="right";s[o?i:r-i-1]=e[o?i:e.length-i-1]}return s}function TN(e,t={}){const{dir:n="left"}=t;let r=e,s=0;for(let i=0;i<r.length-1&&r[n==="left"?i:r.length-i-1].toString()==="0";i++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r}function Ig(e,t){if(as(e)>t)throw new sQ({givenSize:as(e),maxSize:t})}function jK(e,t){if(typeof t=="number"&&t>0&&t>as(e)-1)throw new RN({offset:t,position:"start",size:as(e)})}function RK(e,t,n){if(typeof t=="number"&&typeof n=="number"&&as(e)!==n-t)throw new RN({offset:n,position:"end",size:as(e)})}function _N(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new iQ({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}function DK(e,t={}){const{dir:n="left"}=t;let r=e.replace("0x",""),s=0;for(let i=0;i<r.length-1&&r[n==="left"?i:r.length-i-1].toString()==="0";i++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r==="0"?"0x":n==="right"&&r.length%2===1?`0x${r}0`:`0x${r}`}const UK="#__bigint";function Sg(e,t,n){return JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString()+UK:s,n)}const LK=new TextDecoder,$K=new TextEncoder;function zK(e){if(!(e instanceof Uint8Array)){if(!e)throw new h0(e);if(typeof e!="object")throw new h0(e);if(!("BYTES_PER_ELEMENT"in e))throw new h0(e);if(e.BYTES_PER_ELEMENT!==1||e.constructor.name!=="Uint8Array")throw new h0(e)}}function FK(e){return e instanceof Uint8Array?e:typeof e=="string"?K6(e):HK(e)}function HK(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function K6(e,t={}){const{size:n}=t;let r=e;n&&(Ig(e,n),r=Ou(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const i=s.length/2,o=new Uint8Array(i);for(let a=0,c=0;a<i;a++){const u=P3(s.charCodeAt(c++)),l=P3(s.charCodeAt(c++));if(u===void 0||l===void 0)throw new ut(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);o[a]=u*16+l}return o}function qK(e,t={}){const{size:n}=t,r=$K.encode(e);return typeof n=="number"?(Bp(r,n),WK(r,n)):r}function WK(e,t){return PK(e,{dir:"right",size:t})}function Pl(e){return e.length}function GK(e,t,n,r={}){const{strict:s}=r;return e.slice(t,n)}function VK(e,t={}){const{size:n}=t;typeof n<"u"&&Bp(e,n);const r=Zs(e,t);return NN(r,t)}function KK(e,t={}){const{size:n}=t;let r=e;if(typeof n<"u"&&(Bp(r,n),r=MN(r)),r.length>1||r[0]>1)throw new XK(r);return!!r[0]}function sa(e,t={}){const{size:n}=t;typeof n<"u"&&Bp(e,n);const r=Zs(e,t);return ON(r,t)}function QK(e,t={}){const{size:n}=t;let r=e;return typeof n<"u"&&(Bp(r,n),r=YK(r)),LK.decode(r)}function MN(e){return TN(e,{dir:"left"})}function YK(e){return TN(e,{dir:"right"})}function ZK(e){try{return zK(e),!0}catch{return!1}}class XK extends ut{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}class h0 extends ut{constructor(t){super(`Value \`${typeof t=="object"?Sg(t):t}\` of type \`${typeof t}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}let JK=class extends ut{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},eQ=class extends ut{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const tQ=new TextEncoder,nQ=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function rQ(e,t={}){const{strict:n=!1}=t;if(!e)throw new R3(e);if(typeof e!="string")throw new R3(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new D3(e);if(!e.startsWith("0x"))throw new D3(e)}function _s(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function Q6(e){return e instanceof Uint8Array?Zs(e):Array.isArray(e)?Zs(new Uint8Array(e)):e}function BN(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Ig(n,t.size),Nu(n,t.size)):n}function Zs(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=nQ[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(Ig(r,t.size),Ou(r,t.size)):r}function on(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const u=typeof e=="bigint"?"n":"";throw new jN({max:i?`${i}${u}`:void 0,min:`${o}${u}`,signed:n,size:r,value:`${e}${u}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Nu(c,r):c}function Y6(e,t={}){return Zs(tQ.encode(e),t)}function Nu(e,t){return _N(e,{dir:"left",size:t})}function Ou(e,t){return _N(e,{dir:"right",size:t})}function br(e,t,n,r={}){const{strict:s}=r;jK(e,t);const i=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&RK(i,t,n),i}function as(e){return Math.ceil((e.length-2)/2)}function j3(e){return DK(e,{dir:"left"})}function NN(e,t={}){const{signed:n}=t;t.size&&Ig(e,t.size);const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,i=(1n<<BigInt(s)*8n)-1n,o=i>>1n;return r<=o?r:r-i-1n}function ON(e,t={}){const{signed:n,size:r}=t;return Number(!n&&!r?e:NN(e,t))}function PN(e,t={}){const{strict:n=!1}=t;try{return rQ(e,{strict:n}),!0}catch{return!1}}class jN extends ut{constructor({max:t,min:n,signed:r,size:s,value:i}){super(`Number \`${i}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class R3 extends ut{constructor(t){super(`Value \`${typeof t=="object"?Sg(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class D3 extends ut{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class sQ extends ut{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class RN extends ut{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class iQ extends ut{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function oQ(e){return{address:e.address,amount:on(e.amount),index:on(e.index),validatorIndex:on(e.validatorIndex)}}function DN(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:on(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:on(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:on(e.gasLimit)},...typeof e.number=="bigint"&&{number:on(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:on(e.prevRandao)},...typeof e.time=="bigint"&&{time:on(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(oQ)}}}const kh=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],e2=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],UN=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],LN=[...UN,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],aQ=[...UN,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],U3=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],L3=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],$N=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],ty=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],cQ=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],uQ=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"bytes32"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"bytes32"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],lQ=[{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint256",name:"needed",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ERC1155InsufficientBalance",type:"error"},{inputs:[{internalType:"address",name:"approver",type:"address"}],name:"ERC1155InvalidApprover",type:"error"},{inputs:[{internalType:"uint256",name:"idsLength",type:"uint256"},{internalType:"uint256",name:"valuesLength",type:"uint256"}],name:"ERC1155InvalidArrayLength",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"}],name:"ERC1155InvalidOperator",type:"error"},{inputs:[{internalType:"address",name:"receiver",type:"address"}],name:"ERC1155InvalidReceiver",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"ERC1155InvalidSender",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"ERC1155MissingApprovalForAll",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],dQ=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}]},{type:"event",name:"ApprovalForAll",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"operator",type:"address"},{indexed:!1,name:"approved",type:"bool"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"payable",inputs:[{name:"spender",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"getApproved",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{type:"address"}]},{type:"function",name:"isApprovedForAll",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"operator",type:"address"}],outputs:[{type:"bool"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"ownerOf",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"owner",type:"address"}]},{type:"function",name:"safeTransferFrom",stateMutability:"payable",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{type:"function",name:"safeTransferFrom",stateMutability:"nonpayable",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"id",type:"uint256"},{name:"data",type:"bytes"}],outputs:[]},{type:"function",name:"setApprovalForAll",stateMutability:"nonpayable",inputs:[{name:"operator",type:"address"},{name:"approved",type:"bool"}],outputs:[]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"tokenByIndex",stateMutability:"view",inputs:[{name:"index",type:"uint256"}],outputs:[{type:"uint256"}]},{type:"function",name:"tokenByIndex",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"index",type:"uint256"}],outputs:[{name:"tokenId",type:"uint256"}]},{type:"function",name:"tokenURI",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transferFrom",stateMutability:"payable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]}],fQ=[{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"receiver",type:"address"},{indexed:!1,name:"assets",type:"uint256"},{indexed:!1,name:"shares",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"receiver",type:"address"},{indexed:!0,name:"owner",type:"address"},{indexed:!1,name:"assets",type:"uint256"},{indexed:!1,name:"shares",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],name:"approve",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"asset",outputs:[{name:"assetTokenAddress",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"convertToAssets",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"convertToShares",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"},{name:"receiver",type:"address"}],name:"deposit",outputs:[{name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"caller",type:"address"}],name:"maxDeposit",outputs:[{name:"maxAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"caller",type:"address"}],name:"maxMint",outputs:[{name:"maxShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"maxRedeem",outputs:[{name:"maxShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"maxWithdraw",outputs:[{name:"maxAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"},{name:"receiver",type:"address"}],name:"mint",outputs:[{name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"previewDeposit",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"previewMint",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"previewRedeem",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"previewWithdraw",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"},{name:"receiver",type:"address"},{name:"owner",type:"address"}],name:"redeem",outputs:[{name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"totalAssets",outputs:[{name:"totalManagedAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transfer",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"assets",type:"uint256"},{name:"receiver",type:"address"},{name:"owner",type:"address"}],name:"withdraw",outputs:[{name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],hQ="0x82ad56cb",Z6="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",zN="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",t2="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",X6="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class ny extends re{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class FN extends re{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id}  ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id}  ${t.name}`],name:"ChainMismatchError"})}}class HN extends re{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class J6 extends re{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class Zu extends re{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}const v1="/docs/contract/encodeDeployData";function Np(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new o6({docsPath:v1});if(!("inputs"in s))throw new Ah({docsPath:v1});if(!s.inputs||s.inputs.length===0)throw new Ah({docsPath:v1});const i=Ei(s.inputs,n);return Tr([r,i])}function Xu({blockNumber:e,chain:t,contract:n}){var s;const r=(s=t==null?void 0:t.contracts)==null?void 0:s[n];if(!r)throw new ny({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new ny({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function ex(e,{docsPath:t,...n}){const r=(()=>{const s=dg(e,n);return s instanceof ef?e:s})();return new P6(r,{docsPath:t,...n})}function tx(){let e=()=>{},t=()=>{};return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}const E1=new Map;function nx({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const i=async()=>{const l=c();o();const f=l.map(({args:d})=>d);f.length!==0&&e(f).then(d=>{s&&Array.isArray(d)&&d.sort(s);for(let h=0;h<l.length;h++){const{resolve:p}=l[h];p==null||p([d[h],d])}}).catch(d=>{for(let h=0;h<l.length;h++){const{reject:p}=l[h];p==null||p(d)}})},o=()=>E1.delete(t),a=()=>c().map(({args:l})=>l),c=()=>E1.get(t)||[],u=l=>E1.set(t,[...c(),l]);return{flush:o,async schedule(l){const{promise:f,resolve:d,reject:h}=tx();return(n==null?void 0:n([...a(),l]))&&i(),c().length>0?(u({args:l,resolve:d,reject:h}),f):(u({args:l,resolve:d,reject:h}),setTimeout(i,r),f)}}}async function Op(e,t){var M,g,w,T;const{account:n=e.account,authorizationList:r,batch:s=!!((M=e.batch)!=null&&M.multicall),blockNumber:i,blockTag:o=e.experimental_blockTag??"latest",accessList:a,blobs:c,blockOverrides:u,code:l,data:f,factory:d,factoryData:h,gas:p,gasPrice:m,maxFeePerBlobGas:y,maxFeePerGas:b,maxPriorityFeePerGas:I,nonce:v,to:E,value:S,stateOverride:N,...O}=t,z=n?nn(n):void 0;if(l&&(d||h))throw new re("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(l&&E)throw new re("Cannot provide both `code` & `to` as parameters.");const L=l&&f,F=d&&h&&E&&f,H=L||F,G=L?qN({code:l,data:f}):F?yQ({data:f,factory:d,factoryData:h,to:E}):f;try{Io(t);const x=(typeof i=="bigint"?oe(i):void 0)||o,j=u?DN(u):void 0,D=R6(N),P=(T=(w=(g=e.chain)==null?void 0:g.formatters)==null?void 0:w.transactionRequest)==null?void 0:T.format,$=(P||Ji)({...Yu(O,{format:P}),from:z==null?void 0:z.address,accessList:a,authorizationList:r,blobs:c,data:G,gas:p,gasPrice:m,maxFeePerBlobGas:y,maxFeePerGas:b,maxPriorityFeePerGas:I,nonce:v,to:H?void 0:E,value:S},"call");if(s&&pQ({request:$})&&!D&&!j)try{return await mQ(e,{...$,blockNumber:i,blockTag:o})}catch(ne){if(!(ne instanceof J6)&&!(ne instanceof ny))throw ne}const Z=(()=>{const ne=[$,x];return D&&j?[...ne,D,j]:D?[...ne,D]:j?[...ne,{},j]:ne})(),Y=await e.request({method:"eth_call",params:Z});return Y==="0x"?{data:void 0}:{data:Y}}catch(_){const x=gQ(_),{offchainLookup:j,offchainLookupSignature:D}=await we(async()=>{const{offchainLookup:P,offchainLookupSignature:k}=await Promise.resolve().then(()=>uY);return{offchainLookup:P,offchainLookupSignature:k}},void 0);if(e.ccipRead!==!1&&(x==null?void 0:x.slice(0,10))===D&&E)return{data:await j(e,{data:x,to:E})};throw H&&(x==null?void 0:x.slice(0,10))==="0x101bb98d"?new cN({factory:d}):ex(_,{...t,account:z,chain:e.chain})}}function pQ({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(hQ)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function mQ(e,t){var m;const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof((m=e.batch)==null?void 0:m.multicall)=="object"?e.batch.multicall:{},{blockNumber:i,blockTag:o=e.experimental_blockTag??"latest",data:a,to:c}=t,u=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return Xu({blockNumber:i,chain:e.chain,contract:"multicall3"});throw new J6})(),f=(typeof i=="bigint"?oe(i):void 0)||o,{schedule:d}=nx({id:`${e.uid}.${f}`,wait:s,shouldSplitBatch(y){return y.reduce((I,{data:v})=>I+(v.length-2),0)>n*2},fn:async y=>{const b=y.map(E=>({allowFailure:!0,callData:E.data,target:E.to})),I=_r({abi:kh,args:[b],functionName:"aggregate3"}),v=await e.request({method:"eth_call",params:[{...u===null?{data:qN({code:X6,data:I})}:{to:u,data:I}},f]});return _c({abi:kh,args:[b],functionName:"aggregate3",data:v||"0x"})}}),[{returnData:h,success:p}]=await d({data:a,to:c});if(!p)throw new Tp({data:h});return h==="0x"?{data:void 0}:{data:h}}function qN(e){const{code:t,data:n}=e;return Np({abi:Ca(["constructor(bytes, bytes)"]),bytecode:Z6,args:[t,n]})}function yQ(e){const{data:t,factory:n,factoryData:r,to:s}=e;return Np({abi:Ca(["constructor(address, bytes, address, bytes)"]),bytecode:zN,args:[s,t,n,r]})}function gQ(e){var n;if(!(e instanceof re))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}async function Jn(e,t){const{abi:n,address:r,args:s,functionName:i,...o}=t,a=_r({abi:n,args:s,functionName:i});try{const{data:c}=await Ee(e,Op,"call")({...o,data:a,to:r});return _c({abi:n,args:s,functionName:i,data:c||"0x"})}catch(c){throw Ec(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:i})}}async function WN(e,t){const{abi:n,address:r,args:s,dataSuffix:i,functionName:o,...a}=t,c=a.account?nn(a.account):e.account,u=_r({abi:n,args:s,functionName:o});try{const{data:l}=await Ee(e,Op,"call")({batch:!1,data:`${u}${i?i.replace("0x",""):""}`,to:r,...a,account:c}),f=_c({abi:n,args:s,functionName:o,data:l||"0x"}),d=n.filter(h=>"name"in h&&h.name===t.functionName);return{result:f,request:{abi:d,address:r,args:s,dataSuffix:i,functionName:o,...a,account:c}}}catch(l){throw Ec(l,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c==null?void 0:c.address})}}const x1=new Map,$3=new Map;let wQ=0;function wa(e,t,n){const r=++wQ,s=()=>x1.get(e)||[],i=()=>{const l=s();x1.set(e,l.filter(f=>f.id!==r))},o=()=>{const l=s();if(!l.some(d=>d.id===r))return;const f=$3.get(e);if(l.length===1&&f){const d=f();d instanceof Promise&&d.catch(()=>{})}i()},a=s();if(x1.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return o;const c={};for(const l in t)c[l]=(...f)=>{var h,p;const d=s();if(d.length!==0)for(const m of d)(p=(h=m.fns)[l])==null||p.call(h,...f)};const u=n(c);return typeof u=="function"&&$3.set(e,u),o}async function ry(e){return new Promise(t=>setTimeout(t,e))}function rf(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const i=()=>s=!1;return(async()=>{let a;t&&(a=await e({unpoll:i}));const c=await(n==null?void 0:n(a))??r;await ry(c);const u=async()=>{s&&(await e({unpoll:i}),await ry(r),u())};u()})(),i}const bQ=new Map,vQ=new Map;function EQ(e){const t=(s,i)=>({clear:()=>i.delete(s),get:()=>i.get(s),set:o=>i.set(s,o)}),n=t(e,bQ),r=t(e,vQ);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function GN(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=EQ(t),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let i=r.promise.get();i||(i=e(),r.promise.set(i));try{const o=await i;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const xQ=e=>`blockNumber.${e}`;async function Ju(e,{cacheTime:t=e.cacheTime}={}){const n=await GN(()=>e.request({method:"eth_blockNumber"}),{cacheKey:xQ(e.uid),cacheTime:t});return BigInt(n)}async function kg(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(i=>Qi(i));return!("abi"in t)||!t.abi?s:Ag({abi:t.abi,logs:s,strict:n})}async function Cg(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function VN(e,t){const{abi:n,address:r,args:s,batch:i=!0,eventName:o,fromBlock:a,onError:c,onLogs:u,poll:l,pollingInterval:f=e.pollingInterval,strict:d}=t;return(typeof l<"u"?l:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const y=d??!1,b=un(["watchContractEvent",r,s,i,e.uid,o,f,y,a]);return wa(b,{onLogs:u,onError:c},I=>{let v;a!==void 0&&(v=a-1n);let E,S=!1;const N=rf(async()=>{var O;if(!S){try{E=await Ee(e,I6,"createContractEventFilter")({abi:n,address:r,args:s,eventName:o,strict:y,fromBlock:a})}catch{}S=!0;return}try{let z;if(E)z=await Ee(e,kg,"getFilterChanges")({filter:E});else{const L=await Ee(e,Ju,"getBlockNumber")({});v&&v<L?z=await Ee(e,V6,"getContractEvents")({abi:n,address:r,args:s,eventName:o,fromBlock:v+1n,toBlock:L,strict:y}):z=[],v=L}if(z.length===0)return;if(i)I.onLogs(z);else for(const L of z)I.onLogs([L])}catch(z){E&&z instanceof vc&&(S=!1),(O=I.onError)==null||O.call(I,z)}},{emitOnBegin:!0,interval:f});return async()=>{E&&await Ee(e,Cg,"uninstallFilter")({filter:E}),N()}})})():(()=>{const y=d??!1,b=un(["watchContractEvent",r,s,i,e.uid,o,f,y]);let I=!0,v=()=>I=!1;return wa(b,{onLogs:u,onError:c},E=>((async()=>{try{const S=(()=>{if(e.transport.type==="fallback"){const z=e.transport.transports.find(L=>L.config.type==="webSocket"||L.config.type==="ipc");return z?z.value:e.transport}return e.transport})(),N=o?Xd({abi:n,eventName:o,args:s}):[],{unsubscribe:O}=await S.subscribe({params:["logs",{address:r,topics:N}],onData(z){var F;if(!I)return;const L=z.result;try{const{eventName:H,args:G}=xg({abi:n,data:L.data,topics:L.topics,strict:d}),M=Qi(L,{args:G,eventName:H});E.onLogs([M])}catch(H){let G,M;if(H instanceof md||H instanceof kp){if(d)return;G=H.abiItem.name,M=(F=H.abiItem.inputs)==null?void 0:F.some(w=>!("name"in w&&w.name))}const g=Qi(L,{args:M?[]:{},eventName:G});E.onLogs([g])}},onError(z){var L;(L=E.onError)==null||L.call(E,z)}});v=O,I||v()}catch(S){c==null||c(S)}})(),()=>v()))})()}class Ta extends re{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class mu extends re{constructor({docsPath:t,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:t,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function Tg({chain:e,currentChainId:t}){if(!e)throw new HN;if(t!==e.id)throw new FN({chain:e,currentChainId:t})}function rx(e,{docsPath:t,...n}){const r=(()=>{const s=dg(e,n);return s instanceof ef?e:s})();return new sN(r,{docsPath:t,...n})}async function sx(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const A1=new Yd(128);async function sf(e,t){var I,v,E,S;const{account:n=e.account,chain:r=e.chain,accessList:s,authorizationList:i,blobs:o,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:l,maxFeePerGas:f,maxPriorityFeePerGas:d,nonce:h,type:p,value:m,...y}=t;if(typeof n>"u")throw new Ta({docsPath:"/docs/actions/wallet/sendTransaction"});const b=n?nn(n):null;try{Io(t);const N=await(async()=>{if(t.to)return t.to;if(t.to!==null&&i&&i.length>0)return await lg({authorization:i[0]}).catch(()=>{throw new re("`to` is required. Could not infer from `authorizationList`.")})})();if((b==null?void 0:b.type)==="json-rpc"||b===null){let O;r!==null&&(O=await Ee(e,ga,"getChainId")({}),Tg({currentChainId:O,chain:r}));const z=(E=(v=(I=e.chain)==null?void 0:I.formatters)==null?void 0:v.transactionRequest)==null?void 0:E.format,F=(z||Ji)({...Yu(y,{format:z}),accessList:s,authorizationList:i,blobs:o,chainId:O,data:a,from:b==null?void 0:b.address,gas:c,gasPrice:u,maxFeePerBlobGas:l,maxFeePerGas:f,maxPriorityFeePerGas:d,nonce:h,to:N,type:p,value:m},"sendTransaction"),H=A1.get(e.uid),G=H?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:G,params:[F]},{retryCount:0})}catch(M){if(H===!1)throw M;const g=M;if(g.name==="InvalidInputRpcError"||g.name==="InvalidParamsRpcError"||g.name==="MethodNotFoundRpcError"||g.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[F]},{retryCount:0}).then(w=>(A1.set(e.uid,!0),w)).catch(w=>{const T=w;throw T.name==="MethodNotFoundRpcError"||T.name==="MethodNotSupportedRpcError"?(A1.set(e.uid,!1),g):T});throw g}}if((b==null?void 0:b.type)==="local"){const O=await Ee(e,Mp,"prepareTransactionRequest")({account:b,accessList:s,authorizationList:i,blobs:o,chain:r,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:l,maxFeePerGas:f,maxPriorityFeePerGas:d,nonce:h,nonceManager:b.nonceManager,parameters:[...W6,"sidecars"],type:p,value:m,...y,to:N}),z=(S=r==null?void 0:r.serializers)==null?void 0:S.transaction,L=await b.signTransaction(O,{serializer:z});return await Ee(e,sx,"sendRawTransaction")({serializedTransaction:L})}throw(b==null?void 0:b.type)==="smart"?new mu({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new mu({docsPath:"/docs/actions/wallet/sendTransaction",type:b==null?void 0:b.type})}catch(N){throw N instanceof mu?N:rx(N,{...t,account:b,chain:t.chain||void 0})}}async function Od(e,t){return Od.internal(e,sf,"sendTransaction",t)}(function(e){async function t(n,r,s,i){const{abi:o,account:a=n.account,address:c,args:u,dataSuffix:l,functionName:f,...d}=i;if(typeof a>"u")throw new Ta({docsPath:"/docs/contract/writeContract"});const h=a?nn(a):null,p=_r({abi:o,args:u,functionName:f});try{return await Ee(n,r,s)({data:`${p}${l?l.replace("0x",""):""}`,to:c,account:h,...d})}catch(m){throw Ec(m,{abi:o,address:c,args:u,docsPath:"/docs/contract/writeContract",functionName:f,sender:h==null?void 0:h.address})}}e.internal=t})(Od||(Od={}));function AQ({abi:e,address:t,client:n}){const r=n,[s,i]=r?"public"in r&&"wallet"in r?[r.public,r.wallet]:"public"in r?[r.public,void 0]:"wallet"in r?[void 0,r.wallet]:[r,r]:[void 0,void 0],o=s!=null,a=i!=null,c={};let u=!1,l=!1,f=!1;for(const d of e)if(d.type==="function"?d.stateMutability==="view"||d.stateMutability==="pure"?u=!0:l=!0:d.type==="event"&&(f=!0),u&&l&&f)break;return o&&(u&&(c.read=new Proxy({},{get(d,h){return(...p)=>{const{args:m,options:y}=p0(p);return Ee(s,Jn,"readContract")({abi:e,address:t,functionName:h,args:m,...y})}}})),l&&(c.simulate=new Proxy({},{get(d,h){return(...p)=>{const{args:m,options:y}=p0(p);return Ee(s,WN,"simulateContract")({abi:e,address:t,functionName:h,args:m,...y})}}})),f&&(c.createEventFilter=new Proxy({},{get(d,h){return(...p)=>{const m=e.find(I=>I.type==="event"&&I.name===h),{args:y,options:b}=I1(p,m);return Ee(s,I6,"createContractEventFilter")({abi:e,address:t,eventName:h,args:y,...b})}}}),c.getEvents=new Proxy({},{get(d,h){return(...p)=>{const m=e.find(I=>I.type==="event"&&I.name===h),{args:y,options:b}=I1(p,m);return Ee(s,V6,"getContractEvents")({abi:e,address:t,eventName:h,args:y,...b})}}}),c.watchEvent=new Proxy({},{get(d,h){return(...p)=>{const m=e.find(I=>I.type==="event"&&I.name===h),{args:y,options:b}=I1(p,m);return Ee(s,VN,"watchContractEvent")({abi:e,address:t,eventName:h,args:y,...b})}}}))),a&&l&&(c.write=new Proxy({},{get(d,h){return(...p)=>{const{args:m,options:y}=p0(p);return Ee(i,Od,"writeContract")({abi:e,address:t,functionName:h,args:m,...y})}}})),(o||a)&&l&&(c.estimateGas=new Proxy({},{get(d,h){return(...p)=>{const{args:m,options:y}=p0(p);return Ee(s??i,kN,"estimateContractGas")({abi:e,address:t,functionName:h,args:m,...y,account:y.account??i.account})}}})),c.address=t,c.abi=e,c}function p0(e){const t=e.length&&Array.isArray(e[0]),n=t?e[0]:[],r=(t?e[1]:e[0])??{};return{args:n,options:r}}function I1(e,t){let n=!1;Array.isArray(e[0])?n=!0:e.length===1?n=t.inputs.some(i=>i.indexed):e.length===2&&(n=!0);const r=n?e[0]:void 0,s=(n?e[1]:e[0])??{};return{args:r,options:s}}class KN extends re{constructor(t){super(`Call bundle failed with status: ${t.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=t}}function xc(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,i)=>{const o=async({count:a=0}={})=>{const c=async({error:u})=>{const l=typeof t=="function"?t({count:a,error:u}):t;l&&await ry(l),o({count:a+1})};try{const u=await e();s(u)}catch(u){if(a<n&&await r({count:a,error:u}))return c({error:u});i(u)}};o()})}const QN={"0x0":"reverted","0x1":"success"};function _g(e,t){const n={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(r=>Qi(r)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Mt(e.transactionIndex):null,status:e.status?QN[e.status]:null,type:e.type?U6[e.type]||e.type:null};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),n}const ix=fg("transactionReceipt",_g),YN="0x5792579257925792579257925792579257925792579257925792579257925792",ZN=oe(0,{size:32});async function ox(e,t){const{account:n=e.account,capabilities:r,chain:s=e.chain,experimental_fallback:i,experimental_fallbackDelay:o=32,forceAtomic:a=!1,id:c,version:u="2.0.0"}=t,l=n?nn(n):null,f=t.calls.map(d=>{const h=d,p=h.abi?_r({abi:h.abi,functionName:h.functionName,args:h.args}):h.data;return{data:h.dataSuffix&&p?os([p,h.dataSuffix]):p,to:h.to,value:h.value?oe(h.value):void 0}});try{const d=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:f,capabilities:r,chainId:oe(s.id),from:l==null?void 0:l.address,id:c,version:u}]},{retryCount:0});return typeof d=="string"?{id:d}:d}catch(d){const h=d;if(i&&(h.name==="MethodNotFoundRpcError"||h.name==="MethodNotSupportedRpcError"||h.name==="UnknownRpcError"||h.details.toLowerCase().includes("does not exist / is not available")||h.details.toLowerCase().includes("missing or invalid. request()")||h.details.toLowerCase().includes("did not match any variant of untagged enum")||h.details.toLowerCase().includes("account upgraded to unsupported contract")||h.details.toLowerCase().includes("eip-7702 not supported")||h.details.toLowerCase().includes("unsupported wc_ method")||h.details.toLowerCase().includes("feature toggled misconfigured")||h.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(r&&Object.values(r).some(I=>!I.optional)){const I="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new Tu(new re(I,{details:I}))}if(a&&f.length>1){const b="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new Mu(new re(b,{details:b}))}const p=[];for(const b of f){const I=sf(e,{account:l,chain:s,data:b.data,to:b.to,value:b.value?Ge(b.value):void 0});p.push(I),o>0&&await new Promise(v=>setTimeout(v,o))}const m=await Promise.allSettled(p);if(m.every(b=>b.status==="rejected"))throw m[0].reason;const y=m.map(b=>b.status==="fulfilled"?b.value:ZN);return{id:os([...y,oe(s.id,{size:32}),YN])}}throw rx(d,{...t,account:l,chain:t.chain})}}async function XN(e,t){async function n(l){if(l.endsWith(YN.slice(2))){const d=Zn(gd(l,-64,-32)),h=gd(l,0,-64).slice(2).match(/.{1,64}/g),p=await Promise.all(h.map(y=>ZN.slice(2)!==y?e.request({method:"eth_getTransactionReceipt",params:[`0x${y}`]},{dedupe:!0}):void 0)),m=p.some(y=>y===null)?100:p.every(y=>(y==null?void 0:y.status)==="0x1")?200:p.every(y=>(y==null?void 0:y.status)==="0x0")?500:600;return{atomic:!1,chainId:Mt(d),receipts:p.filter(Boolean),status:m,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[l]})}const{atomic:r=!1,chainId:s,receipts:i,version:o="2.0.0",...a}=await n(t.id),[c,u]=(()=>{const l=a.status;return l>=100&&l<200?["pending",l]:l>=200&&l<300?["success",l]:l>=300&&l<700?["failure",l]:l==="CONFIRMED"?["success",200]:l==="PENDING"?["pending",100]:[void 0,l]})();return{...a,atomic:r,chainId:s?Mt(s):void 0,receipts:(i==null?void 0:i.map(l=>({...l,blockNumber:Ge(l.blockNumber),gasUsed:Ge(l.gasUsed),status:QN[l.status]})))??[],statusCode:u,status:c,version:o}}async function ax(e,t){const{id:n,pollingInterval:r=e.pollingInterval,status:s=({statusCode:m})=>m===200||m>=300,retryCount:i=4,retryDelay:o=({count:m})=>~~(1<<m)*200,timeout:a=6e4,throwOnFailure:c=!1}=t,u=un(["waitForCallsStatus",e.uid,n]),{promise:l,resolve:f,reject:d}=tx();let h;const p=wa(u,{resolve:f,reject:d},m=>{const y=rf(async()=>{const b=I=>{clearTimeout(h),y(),I(),p()};try{const I=await xc(async()=>{const v=await Ee(e,XN,"getCallsStatus")({id:n});if(c&&v.status==="failure")throw new KN(v);return v},{retryCount:i,delay:o});if(!s(I))return;b(()=>m.resolve(I))}catch(I){b(()=>m.reject(I))}},{interval:r,emitOnBegin:!0});return y});return h=a?setTimeout(()=>{p(),clearTimeout(h),d(new JN({id:n}))},a):void 0,await l}class JN extends re{constructor({id:t}){super(`Timed out while waiting for call bundle with id "${t}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const n2=256;let m0=n2,y0;function eO(e=11){if(!y0||m0+e>n2*2){y0="",m0=0;for(let t=0;t<n2;t++)y0+=(256+Math.random()*256|0).toString(16).substring(1)}return y0.substring(m0,m0+++e)}function el(e){const{batch:t,chain:n,ccipRead:r,key:s="base",name:i="Base Client",type:o="base"}=e,a=e.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)=="number"?"pending":void 0),c=(n==null?void 0:n.blockTime)??12e3,u=Math.min(Math.max(Math.floor(c/2),500),4e3),l=e.pollingInterval??u,f=e.cacheTime??l,d=e.account?nn(e.account):void 0,{config:h,request:p,value:m}=e.transport({chain:n,pollingInterval:l}),y={...h,...m},b={account:d,batch:t,cacheTime:f,ccipRead:r,chain:n,key:s,name:i,pollingInterval:l,request:p,transport:y,type:o,uid:eO(),...a?{experimental_blockTag:a}:{}};function I(v){return E=>{const S=E(v);for(const O in b)delete S[O];const N={...v,...S};return Object.assign(N,{extend:I(N)})}}return Object.assign(b,{extend:I(b)})}function IQ(){return null}function cx(e){var n,r,s,i,o,a;if(!(e instanceof re))return!1;const t=e.walk(c=>c instanceof Wm);return t instanceof Wm?((n=t.data)==null?void 0:n.errorName)==="HttpError"||((r=t.data)==null?void 0:r.errorName)==="ResolverError"||((s=t.data)==null?void 0:s.errorName)==="ResolverNotContract"||((i=t.data)==null?void 0:i.errorName)==="ResolverNotFound"||((o=t.data)==null?void 0:o.errorName)==="ReverseAddressMismatch"||((a=t.data)==null?void 0:a.errorName)==="UnsupportedResolverProfile":!1}function tO(e){const{abi:t,data:n}=e,r=ma(n,0,4),s=t.find(i=>i.type==="function"&&r===Iu(Ki(i)));if(!s)throw new _B(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Tc(s.inputs,ma(n,4)):void 0}}const S1="/docs/contract/encodeErrorResult";function r2(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const c=Cc({abi:t,args:r,name:n});if(!c)throw new Vv(n,{docsPath:S1});s=c}if(s.type!=="error")throw new Vv(void 0,{docsPath:S1});const i=Ki(s),o=Iu(i);let a="0x";if(r&&r.length>0){if(!s.inputs)throw new CB(s.name,{docsPath:S1});a=Ei(s.inputs,r)}return Tr([o,a])}const k1="/docs/contract/encodeFunctionResult";function nO(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const o=Cc({abi:t,name:n});if(!o)throw new Au(n,{docsPath:k1});s=o}if(s.type!=="function")throw new Au(void 0,{docsPath:k1});if(!s.outputs)throw new d6(s.name,{docsPath:k1});const i=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new h6(r)})();return Ei(s.outputs,i)}const Pp="x-batch-gateway:true";async function rO(e){const{data:t,ccipRequest:n}=e,{args:[r]}=tO({abi:e2,data:t}),s=[],i=[];return await Promise.all(r.map(async(o,a)=>{try{i[a]=o.urls.includes(Pp)?await rO({data:o.data,ccipRequest:n}):await n(o),s[a]=!1}catch(c){s[a]=!0,i[a]=SQ(c)}})),nO({abi:e2,functionName:"query",result:[s,i]})}function SQ(e){return e.name==="HttpRequestError"&&e.status?r2({abi:e2,errorName:"HttpError",args:[e.status,e.shortMessage]}):r2({abi:[KB],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function sO(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return rt(t)?t:null}function Ch(e){let t=new Uint8Array(32).fill(0);if(!e)return Ut(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=sO(n[r]),i=s?Yn(s):zt(hc(n[r]),"bytes");t=zt(os([t,i]),"bytes")}return Ut(t)}function kQ(e){return`[${e.slice(2)}]`}function iO(e){const t=new Uint8Array(32).fill(0);return e?sO(e)||zt(hc(e)):Ut(t)}function ux(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(hc(t).byteLength+2);let r=0;const s=t.split(".");for(let i=0;i<s.length;i++){let o=hc(s[i]);o.byteLength>255&&(o=hc(kQ(iO(s[i])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function oO(e,t){const{blockNumber:n,blockTag:r,coinType:s,name:i,gatewayUrls:o,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Xu({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),l=c==null?void 0:c.ensTlds;if(l&&!l.some(d=>i.endsWith(d)))return null;const f=s!=null?[Ch(i),BigInt(s)]:[Ch(i)];try{const d=_r({abi:L3,functionName:"addr",args:f}),h={address:u,abi:LN,functionName:"resolveWithGateways",args:[pt(ux(i)),d,o??[Pp]],blockNumber:n,blockTag:r},m=await Ee(e,Jn,"readContract")(h);if(m[0]==="0x")return null;const y=_c({abi:L3,args:f,functionName:"addr",data:m[0]});return y==="0x"||Zn(y)==="0x00"?null:y}catch(d){if(a)throw d;if(cx(d))return null;throw d}}class CQ extends re{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class Sl extends re{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class Mg extends re{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class aO extends re{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}class cO extends re{constructor({chainId:t}){super(`Invalid ENSIP-11 chainId: ${t}. Must be between 0 and 0x7fffffff, or 1.`,{name:"EnsInvalidChainIdError"})}}const TQ=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,_Q=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,MQ=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,BQ=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function NQ(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function z3(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function uO({uri:e,gatewayUrls:t}){const n=MQ.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=z3(t==null?void 0:t.ipfs,"https://ipfs.io"),s=z3(t==null?void 0:t.arweave,"https://arweave.net"),i=e.match(TQ),{protocol:o,subpath:a,target:c,subtarget:u=""}=(i==null?void 0:i.groups)||{},l=o==="ipns:/"||a==="ipns/",f=o==="ipfs:/"||a==="ipfs/"||_Q.test(e);if(e.startsWith("http")&&!l&&!f){let h=e;return t!=null&&t.arweave&&(h=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((l||f)&&c)return{uri:`${r}/${l?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let d=e.replace(BQ,"");if(d.startsWith("<svg")&&(d=`data:image/svg+xml;base64,${btoa(d)}`),d.startsWith("data:")||d.startsWith("{"))return{uri:d,isOnChain:!0,isEncoded:!1};throw new Mg({uri:e})}function lO(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new CQ({data:e});return e.image||e.image_url||e.image_data}async function OQ({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await lx({gatewayUrls:e,uri:lO(n)})}catch{throw new Mg({uri:t})}}async function lx({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=uO({uri:t,gatewayUrls:e});if(r||await NQ(n))return n;throw new Mg({uri:t})}function PQ(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[i,o]=n.split(":"),[a,c]=r.split(":");if(!i||i.toLowerCase()!=="eip155")throw new Sl({reason:"Only EIP-155 supported"});if(!o)throw new Sl({reason:"Chain ID not found"});if(!c)throw new Sl({reason:"Contract address not found"});if(!s)throw new Sl({reason:"Token ID not found"});if(!a)throw new Sl({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o,10),namespace:a.toLowerCase(),contractAddress:c,tokenID:s}}async function jQ(e,{nft:t}){if(t.namespace==="erc721")return Jn(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return Jn(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new aO({namespace:t.namespace})}async function RQ(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?DQ(e,{gatewayUrls:t,record:n}):lx({uri:n,gatewayUrls:t})}async function DQ(e,{gatewayUrls:t,record:n}){const r=PQ(n),s=await jQ(e,{nft:r}),{uri:i,isOnChain:o,isEncoded:a}=uO({uri:s,gatewayUrls:t});if(o&&(i.includes("data:application/json;base64,")||i.startsWith("{"))){const u=a?atob(i.replace("data:application/json;base64,","")):i,l=JSON.parse(u);return lx({uri:lO(l),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),OQ({gatewayUrls:t,uri:i.replace(/(?:0x)?{id}/,c)})}async function dO(e,t){const{blockNumber:n,blockTag:r,key:s,name:i,gatewayUrls:o,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Xu({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),l=c==null?void 0:c.ensTlds;if(l&&!l.some(f=>i.endsWith(f)))return null;try{const f={address:u,abi:LN,args:[pt(ux(i)),_r({abi:U3,functionName:"text",args:[Ch(i),s]}),o??[Pp]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},h=await Ee(e,Jn,"readContract")(f);if(h[0]==="0x")return null;const p=_c({abi:U3,functionName:"text",data:h[0]});return p===""?null:p}catch(f){if(a)throw f;if(cx(f))return null;throw f}}async function fO(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:i,strict:o,universalResolverAddress:a}){const c=await Ee(e,dO,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:a,gatewayUrls:i,strict:o});if(!c)return null;try{return await RQ(e,{record:c,gatewayUrls:r})}catch{return null}}async function hO(e,t){const{address:n,blockNumber:r,blockTag:s,coinType:i=60n,gatewayUrls:o,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Xu({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})();try{const l={address:u,abi:aQ,args:[n,i,o??[Pp]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},f=Ee(e,Jn,"readContract"),[d]=await f(l);return d||null}catch(l){if(a)throw l;if(cx(l))return null;throw l}}async function UQ(e,t){const{blockNumber:n,blockTag:r,name:s}=t,{chain:i}=e,o=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!i)throw new Error("client chain not configured. universalResolverAddress is required.");return Xu({blockNumber:n,chain:i,contract:"ensUniversalResolver"})})(),a=i==null?void 0:i.ensTlds;if(a&&!a.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${a==null?void 0:a.join(", ")}) for chain "${i.name}" (id: ${i.id}).`);const[c]=await Ee(e,Jn,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[pt(ux(s))],blockNumber:n,blockTag:r});return c}async function pO(e,t){var y,b,I;const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:i,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:l,maxPriorityFeePerGas:f,to:d,value:h,...p}=t,m=n?nn(n):void 0;try{Io(t);const E=(typeof r=="bigint"?oe(r):void 0)||s,S=(I=(b=(y=e.chain)==null?void 0:y.formatters)==null?void 0:b.transactionRequest)==null?void 0:I.format,O=(S||Ji)({...Yu(p,{format:S}),from:m==null?void 0:m.address,blobs:i,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:l,maxPriorityFeePerGas:f,to:d,value:h},"createAccessList"),z=await e.request({method:"eth_createAccessList",params:[O,E]});return{accessList:z.accessList,gasUsed:BigInt(z.gasUsed)}}catch(v){throw ex(v,{...t,account:m,chain:e.chain})}}async function LQ(e){const t=ag(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function mO(e,{address:t,args:n,event:r,events:s,fromBlock:i,strict:o,toBlock:a}={}){const c=s??(r?[r]:void 0),u=ag(e,{method:"eth_newFilter"});let l=[];c&&(l=[c.flatMap(h=>Xd({abi:[h],eventName:h.name,args:n}))],r&&(l=l[0]));const f=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof i=="bigint"?oe(i):i,toBlock:typeof a=="bigint"?oe(a):a,...l.length?{topics:l}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:i,id:f,request:u(f),strict:!!o,toBlock:a,type:"event"}}async function yO(e){const t=ag(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function dx(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?oe(n):void 0,i=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(i)}async function $Q(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function zQ(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?oe(n):void 0;let i;return t?i=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):i=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),Mt(i)}async function sy(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?oe(n):void 0,i=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(i!=="0x")return i}class FQ extends re{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function HQ(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[i,o,a,c,u,l,f]=await Ee(e,Jn,"readContract")({abi:qQ,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:o,version:a,chainId:Number(c),verifyingContract:u,salt:l},extensions:f,fields:i}}catch(i){const o=i;throw o.name==="ContractFunctionExecutionError"&&o.cause.name==="ContractFunctionZeroDataError"?new FQ({address:n}):o}}const qQ=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function WQ(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function GQ(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const i=typeof n=="bigint"?oe(n):void 0,o=await e.request({method:"eth_feeHistory",params:[oe(t),i||r,s]},{dedupe:!!i});return WQ(o)}async function VQ(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(i=>Qi(i));return t.abi?Ag({abi:t.abi,logs:s,strict:n}):s}function KQ(e,t){if(e.length!==t.length)throw new c6({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],i=t[r];n.push(gO(s,i))}return Tr(n)}function gO(e,t,n=!1){if(e==="address"){const o=t;if(!Pt(o))throw new bn({address:o});return Is(o.toLowerCase(),{size:n?32:null})}if(e==="string")return wc(t);if(e==="bytes")return t;if(e==="bool")return Is(og(t),{size:n?32:1});const r=e.match(v6);if(r){const[o,a,c="256"]=r,u=Number.parseInt(c,10)/8;return oe(t,{size:n?32:u,signed:a==="int"})}const s=e.match(WB);if(s){const[o,a]=s;if(Number.parseInt(a,10)!==(t.length-2)/2)throw new f6({expectedSize:Number.parseInt(a,10),givenSize:(t.length-2)/2});return Is(t,{dir:"right",size:n?32:null})}const i=e.match(sG);if(i&&Array.isArray(t)){const[o,a]=i,c=[];for(let u=0;u<t.length;u++)c.push(gO(a,t[u],!0));return c.length===0?"0x":Tr(c)}throw new OB(e)}function s2(e){return!e||typeof e!="object"||!("BYTES_PER_ELEMENT"in e)?!1:e.BYTES_PER_ELEMENT===1&&e.constructor.name==="Uint8Array"}function QQ(e){return e.opcode==="CREATE2"?bO(e):wO(e)}function wO(e){const t=Yn(St(e.from));let n=Yn(e.nonce);return n[0]===0&&(n=new Uint8Array([])),St(`0x${zt(Ts([t,n],"bytes")).slice(26)}`)}function bO(e){const t=Yn(St(e.from)),n=Is(s2(e.salt)?e.salt:Yn(e.salt),{size:32}),r="bytecodeHash"in e?s2(e.bytecodeHash)?e.bytecodeHash:Yn(e.bytecodeHash):zt(e.bytecode,"bytes");return St(ma(zt(os([Yn("0xff"),t,n,r])),12))}function vO(e){const{authorizationList:t}=e;if(t)for(const n of t){const{chainId:r}=n,s=n.address;if(!Pt(s))throw new bn({address:s});if(r<0)throw new Zu({chainId:r})}jp(e)}function EO(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new IN;for(const n of t){const r=Vt(n),s=Mt(ma(n,0,1));if(r!==32)throw new TK({hash:n,size:r});if(s!==AN)throw new _K({hash:n,version:s})}}jp(e)}function jp(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:s}=e;if(t<=0)throw new Zu({chainId:t});if(s&&!Pt(s))throw new bn({address:s});if(r&&r>tf)throw new ya({maxFeePerGas:r});if(n&&r&&n>r)throw new Bu({maxFeePerGas:r,maxPriorityFeePerGas:n})}function fx(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:i}=e;if(t<=0)throw new Zu({chainId:t});if(i&&!Pt(i))throw new bn({address:i});if(n||s)throw new re("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>tf)throw new ya({maxFeePerGas:r})}function hx(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:i}=e;if(i&&!Pt(i))throw new bn({address:i});if(typeof t<"u"&&t<=0)throw new Zu({chainId:t});if(n||s)throw new re("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>tf)throw new ya({maxFeePerGas:r})}function of(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:r,storageKeys:s}=e[n];for(let i=0;i<s.length;i++)if(s[i].length-2!==64)throw new rN({storageKey:s[i]});if(!Pt(r,{strict:!1}))throw new bn({address:r});t.push([r,s])}return t}function Bg(e,t){const n=q6(e);return n==="eip1559"?XQ(e,t):n==="eip2930"?JQ(e,t):n==="eip4844"?ZQ(e,t):n==="eip7702"?YQ(e,t):eY(e,t)}function YQ(e,t){const{authorizationList:n,chainId:r,gas:s,nonce:i,to:o,value:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:l,data:f}=e;vO(e);const d=of(l),h=tY(n);return Tr(["0x04",Ts([oe(r),i?oe(i):"0x",u?oe(u):"0x",c?oe(c):"0x",s?oe(s):"0x",o??"0x",a?oe(a):"0x",f??"0x",d,h,...af(e,t)])])}function ZQ(e,t){const{chainId:n,gas:r,nonce:s,to:i,value:o,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:l,data:f}=e;EO(e);let d=e.blobVersionedHashes,h=e.sidecars;if(e.blobs&&(typeof d>"u"||typeof h>"u")){const v=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(N=>Ut(N)),E=e.kzg,S=wg({blobs:v,kzg:E});if(typeof d>"u"&&(d=F6({commitments:S})),typeof h>"u"){const N=bg({blobs:v,commitments:S,kzg:E});h=vg({blobs:v,commitments:S,proofs:N})}}const p=of(l),m=[oe(n),s?oe(s):"0x",u?oe(u):"0x",c?oe(c):"0x",r?oe(r):"0x",i??"0x",o?oe(o):"0x",f??"0x",p,a?oe(a):"0x",d??[],...af(e,t)],y=[],b=[],I=[];if(h)for(let v=0;v<h.length;v++){const{blob:E,commitment:S,proof:N}=h[v];y.push(E),b.push(S),I.push(N)}return Tr(["0x03",Ts(h?[m,y,b,I]:m)])}function XQ(e,t){const{chainId:n,gas:r,nonce:s,to:i,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:u,data:l}=e;jp(e);const f=of(u),d=[oe(n),s?oe(s):"0x",c?oe(c):"0x",a?oe(a):"0x",r?oe(r):"0x",i??"0x",o?oe(o):"0x",l??"0x",f,...af(e,t)];return Tr(["0x02",Ts(d)])}function JQ(e,t){const{chainId:n,gas:r,data:s,nonce:i,to:o,value:a,accessList:c,gasPrice:u}=e;fx(e);const l=of(c),f=[oe(n),i?oe(i):"0x",u?oe(u):"0x",r?oe(r):"0x",o??"0x",a?oe(a):"0x",s??"0x",l,...af(e,t)];return Tr(["0x01",Ts(f)])}function eY(e,t){const{chainId:n=0,gas:r,data:s,nonce:i,to:o,value:a,gasPrice:c}=e;hx(e);let u=[i?oe(i):"0x",c?oe(c):"0x",r?oe(r):"0x",o??"0x",a?oe(a):"0x",s??"0x"];if(t){const l=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const h=27n+(t.v===27n?0n:1n);if(t.v!==h)throw new B6({v:t.v});return h})(),f=Zn(t.r),d=Zn(t.s);u=[...u,oe(l),f==="0x00"?"0x":f,d==="0x00"?"0x":d]}else n>0&&(u=[...u,oe(n),"0x","0x"]);return Ts(u)}function af(e,t){const n=t??e,{v:r,yParity:s}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof s>"u")return[];const i=Zn(n.r),o=Zn(n.s);return[typeof s=="number"?s?oe(1):"0x":r===0n?"0x":r===1n?oe(1):r===27n?"0x":oe(1),i==="0x00"?"0x":i,o==="0x00"?"0x":o]}function tY(e){if(!e||e.length===0)return[];const t=[];for(const n of e){const{chainId:r,nonce:s,...i}=n,o=n.address;t.push([r?pt(r):"0x",o,s?pt(s):"0x",...af({},i)])}return t}async function nY({address:e,authorization:t,signature:n}){return So(St(e),await lg({authorization:t,signature:n}))}const g0=new Yd(8192);function rY(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(g0.get(n))return g0.get(n);const r=e().finally(()=>g0.delete(n));return g0.set(n,r),r}function sY(e,t={}){return async(n,r={})=>{var f;const{dedupe:s=!1,methods:i,retryDelay:o=150,retryCount:a=3,uid:c}={...t,...r},{method:u}=n;if((f=i==null?void 0:i.exclude)!=null&&f.includes(u))throw new Ol(new Error("method not supported"),{method:u});if(i!=null&&i.include&&!i.include.includes(u))throw new Ol(new Error("method not supported"),{method:u});const l=s?wc(`${c}.${un(n)}`):void 0;return rY(()=>xc(async()=>{try{return await e(n)}catch(d){const h=d;switch(h.code){case bd.code:throw new bd(h);case vd.code:throw new vd(h);case Ed.code:throw new Ed(h,{method:n.method});case xd.code:throw new xd(h);case bc.code:throw new bc(h);case vc.code:throw new vc(h);case Ad.code:throw new Ad(h);case qi.code:throw new qi(h);case ku.code:throw new ku(h);case Ol.code:throw new Ol(h,{method:n.method});case Cu.code:throw new Cu(h);case Id.code:throw new Id(h);case wt.code:throw new wt(h);case Sd.code:throw new Sd(h);case kd.code:throw new kd(h);case Cd.code:throw new Cd(h);case Td.code:throw new Td(h);case cr.code:throw new cr(h);case Tu.code:throw new Tu(h);case _d.code:throw new _d(h);case Md.code:throw new Md(h);case Bd.code:throw new Bd(h);case Nd.code:throw new Nd(h);case _u.code:throw new _u(h);case Mu.code:throw new Mu(h);case 5e3:throw new wt(h);default:throw d instanceof re?d:new dN(h)}}},{delay:({count:d,error:h})=>{var p;if(h&&h instanceof pc){const m=(p=h==null?void 0:h.headers)==null?void 0:p.get("Retry-After");if(m!=null&&m.match(/\d/))return Number.parseInt(m,10)*1e3}return~~(1<<d)*o},retryCount:a,shouldRetry:({error:d})=>iY(d)}),{enabled:s,id:l})}}function iY(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===Cu.code||e.code===bc.code:e instanceof pc&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}class oY extends re{constructor({callbackSelector:t,cause:n,data:r,extraData:s,sender:i,urls:o}){var a;super(n.shortMessage||"An error occurred while fetching for an offchain result.",{cause:n,metaMessages:[...n.metaMessages||[],(a=n.metaMessages)!=null&&a.length?"":[],"Offchain Gateway Call:",o&&["  Gateway URL(s):",...o.map(c=>`    ${Ku(c)}`)],`  Sender: ${i}`,`  Data: ${r}`,`  Callback selector: ${t}`,`  Extra data: ${s}`].flat(),name:"OffchainLookupError"})}}class aY extends re{constructor({result:t,url:n}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${Ku(n)}`,`Response: ${un(t)}`],name:"OffchainLookupResponseMalformedError"})}}class cY extends re{constructor({sender:t,to:n}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${t}`],name:"OffchainLookupSenderMismatchError"})}}const xO="0x556f1830",px={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function AO(e,{blockNumber:t,blockTag:n,data:r,to:s}){const{args:i}=T6({data:r,abi:[px]}),[o,a,c,u,l]=i,{ccipRead:f}=e,d=f&&typeof(f==null?void 0:f.request)=="function"?f.request:iy;try{if(!So(s,o))throw new cY({sender:o,to:s});const h=a.includes(Pp)?await rO({data:c,ccipRequest:d}):await d({data:c,sender:o,urls:a}),{data:p}=await Op(e,{blockNumber:t,blockTag:n,data:os([u,Ei([{type:"bytes"},{type:"bytes"}],[h,l])]),to:s});return p}catch(h){throw new oY({callbackSelector:u,cause:h,data:r,extraData:l,sender:o,urls:a})}}async function iy({data:e,sender:t,urls:n}){var s;let r=new Error("An unknown error occurred.");for(let i=0;i<n.length;i++){const o=n[i],a=o.includes("{data}")?"GET":"POST",c=a==="POST"?{data:e,sender:t}:void 0,u=a==="POST"?{"Content-Type":"application/json"}:{};try{const l=await fetch(o.replace("{sender}",t.toLowerCase()).replace("{data}",e),{body:JSON.stringify(c),headers:u,method:a});let f;if((s=l.headers.get("Content-Type"))!=null&&s.startsWith("application/json")?f=(await l.json()).data:f=await l.text(),!l.ok){r=new pc({body:c,details:f!=null&&f.error?un(f.error):l.statusText,headers:l.headers,status:l.status,url:o});continue}if(!rt(f)){r=new aY({result:f,url:o});continue}return f}catch(l){r=new pc({body:c,details:l.message,url:o})}}throw r}const uY=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:iy,offchainLookup:AO,offchainLookupAbiItem:px,offchainLookupSignature:xO},Symbol.toStringTag,{value:"Module"}));function st(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}function lY({chains:e,id:t}){return e.find(n=>n.id===t)}function mx(e,t="hex"){const n=(()=>{if(typeof e=="string"){if(e.length>3&&e.length%2!==0)throw new UB(e);return wn(e)}return e})(),r=wd(n,{recursiveReadLimit:Number.POSITIVE_INFINITY});return IO(r,t)}function IO(e,t="hex"){if(e.bytes.length===0)return t==="hex"?Ut(e.bytes):e.bytes;const n=e.readByte();if(n<128&&e.decrementPosition(1),n<192){const s=F3(e,n,128),i=e.readBytes(s);return t==="hex"?Ut(i):i}const r=F3(e,n,192);return dY(e,r,t)}function F3(e,t,n){if(n===128&&t<128)return 1;if(t<=n+55)return t-n;if(t===n+55+1)return e.readUint8();if(t===n+55+2)return e.readUint16();if(t===n+55+3)return e.readUint24();if(t===n+55+4)return e.readUint32();throw new re("Invalid RLP prefix")}function dY(e,t,n){const r=e.position,s=[];for(;e.position-r<t;)s.push(IO(e,n));return s}function SO(e){return rt(e)&&Vt(e)===32}function fY(e,t){const n=t||"hex",r=RM(rt(e,{strict:!1})?Yn(e):e);return n==="bytes"?r:pt(r)}function kO(e){const{source:t}=e,n=new Map,r=new Yd(8192),s=new Map,i=({address:o,chainId:a})=>`${o}.${a}`;return{async consume({address:o,chainId:a,client:c}){const u=i({address:o,chainId:a}),l=this.get({address:o,chainId:a,client:c});this.increment({address:o,chainId:a});const f=await l;return await t.set({address:o,chainId:a},f),r.set(u,f),f},async increment({address:o,chainId:a}){const c=i({address:o,chainId:a}),u=n.get(c)??0;n.set(c,u+1)},async get({address:o,chainId:a,client:c}){const u=i({address:o,chainId:a});let l=s.get(u);return l||(l=(async()=>{try{const d=await t.get({address:o,chainId:a,client:c}),h=r.get(u)??0;return h>0&&d<=h?h+1:(r.delete(u),d)}finally{this.reset({address:o,chainId:a})}})(),s.set(u,l)),(n.get(u)??0)+await l},reset({address:o,chainId:a}){const c=i({address:o,chainId:a});n.delete(c),s.delete(c)}}}function hY(){return{async get(e){const{address:t,client:n}=e;return gg(n,{address:t,blockTag:"pending"})},set(){}}}const pY=kO({source:hY()});function tl(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,i)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r?a.abort():i(t)},n)),s(await e({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&i(t),i(a)}finally{clearTimeout(o)}})()})}function mY(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const i2=mY();function yY(e,t={}){return{async request(n){var d;const{body:r,fetchFn:s=t.fetchFn??fetch,onRequest:i=t.onRequest,onResponse:o=t.onResponse,timeout:a=t.timeout??1e4}=n,c={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:u,method:l,signal:f}=c;try{const h=await tl(async({signal:m})=>{const y={...c,body:Array.isArray(r)?un(r.map(E=>({jsonrpc:"2.0",id:E.id??i2.take(),...E}))):un({jsonrpc:"2.0",id:r.id??i2.take(),...r}),headers:{"Content-Type":"application/json",...u},method:l||"POST",signal:f||(a>0?m:null)},b=new Request(e,y),I=await(i==null?void 0:i(b,y))??{...y,url:e};return await s(I.url??e,I)},{errorInstance:new Gm({body:r,url:e}),timeout:a,signal:!0});o&&await o(h);let p;if((d=h.headers.get("Content-Type"))!=null&&d.startsWith("application/json"))p=await h.json();else{p=await h.text();try{p=JSON.parse(p||"{}")}catch(m){if(h.ok)throw m;p={error:p}}}if(!h.ok)throw new pc({body:r,details:un(p.error)||h.statusText,headers:h.headers,status:h.status,url:e});return p}catch(h){throw h instanceof pc||h instanceof Gm?h:new pc({body:r,cause:h,url:e})}}}}const C1=new Map;async function gY(e){const{getSocket:t,keepAlive:n=!0,key:r="socket",reconnect:s=!0,url:i}=e,{interval:o=3e4}=typeof n=="object"?n:{},{attempts:a=5,delay:c=2e3}=typeof s=="object"?s:{},u=JSON.stringify({keepAlive:n,key:r,url:i,reconnect:s});let l=C1.get(u);if(l)return l;let f=0;const{schedule:d}=nx({id:u,fn:async()=>{const m=new Map,y=new Map;let b,I,v,E=!1;function S(){if(s&&f<a){if(E)return;E=!0,f++,I==null||I.close(),setTimeout(async()=>{await N().catch(console.error),E=!1},c)}else m.clear(),y.clear()}async function N(){const O=await t({onClose(){var z,L;for(const F of m.values())(z=F.onError)==null||z.call(F,new Sh({url:i}));for(const F of y.values())(L=F.onError)==null||L.call(F,new Sh({url:i}));S()},onError(z){var L,F;b=z;for(const H of m.values())(L=H.onError)==null||L.call(H,b);for(const H of y.values())(F=H.onError)==null||F.call(H,b);S()},onOpen(){b=void 0,f=0},onResponse(z){const L=z.method==="eth_subscription",F=L?z.params.subscription:z.id,H=L?y:m,G=H.get(F);G&&G.onResponse(z),L||H.delete(F)}});if(I=O,n&&(v&&clearInterval(v),v=setInterval(()=>{var z;return(z=I.ping)==null?void 0:z.call(I)},o)),s&&y.size>0){const z=y.entries();for(const[L,{onResponse:F,body:H,onError:G}]of z)H&&(y.delete(L),l==null||l.request({body:H,onResponse:F,onError:G}))}return O}return await N(),b=void 0,l={close(){v&&clearInterval(v),I.close(),C1.delete(u)},get socket(){return I},request({body:O,onError:z,onResponse:L}){b&&z&&z(b);const F=O.id??i2.take(),H=G=>{var M;typeof G.id=="number"&&F!==G.id||(O.method==="eth_subscribe"&&typeof G.result=="string"&&y.set(G.result,{onResponse:H,onError:z,body:O}),O.method==="eth_unsubscribe"&&y.delete((M=O.params)==null?void 0:M[0]),L(G))};m.set(F,{onResponse:H,onError:z});try{I.request({body:{jsonrpc:"2.0",id:F,...O}})}catch(G){z==null||z(G)}},requestAsync({body:O,timeout:z=1e4}){return tl(()=>new Promise((L,F)=>this.request({body:O,onError:F,onResponse:L})),{errorInstance:new Gm({body:O,url:i}),timeout:z})},requests:m,subscriptions:y,url:i},C1.set(u,l),[l]}}),[h,[p]]=await d();return p}async function fm(e,t={}){const{keepAlive:n,reconnect:r}=t;return gY({async getSocket({onClose:s,onError:i,onOpen:o,onResponse:a}){const c=await we(()=>import("./native-1fsxcdbe.js"),__vite__mapDeps([0,1,2,3])).then(h=>h.WebSocket),u=new c(e);function l(){u.removeEventListener("close",l),u.removeEventListener("message",f),u.removeEventListener("error",i),u.removeEventListener("open",o),s()}function f({data:h}){if(!(typeof h=="string"&&h.trim().length===0))try{const p=JSON.parse(h);a(p)}catch(p){i(p)}}u.addEventListener("close",l),u.addEventListener("message",f),u.addEventListener("error",i),u.addEventListener("open",o),u.readyState===c.CONNECTING&&await new Promise((h,p)=>{u&&(u.onopen=h,u.onerror=p)});const{close:d}=u;return Object.assign(u,{close(){d.bind(u)(),l()},ping(){try{if(u.readyState===u.CLOSED||u.readyState===u.CLOSING)throw new Zv({url:u.url,cause:new Sh({url:u.url})});const h={jsonrpc:"2.0",id:null,method:"net_version",params:[]};u.send(JSON.stringify(h))}catch(h){i(h)}},request({body:h}){if(u.readyState===u.CLOSED||u.readyState===u.CLOSING)throw new Zv({body:h,url:u.url,cause:new Sh({url:u.url})});return u.send(JSON.stringify(h))}})},keepAlive:n,reconnect:r,url:e})}async function wY(e){const t=await fm(e);return Object.assign(t.socket,{requests:t.requests,subscriptions:t.subscriptions})}const CO=`Ethereum Signed Message:
`;function TO(e){const t=typeof e=="string"?wc(e):typeof e.raw=="string"?e.raw:Ut(e.raw),n=wc(`${CO}${Vt(t)}`);return os([n,t])}function Ng(e,t){return zt(TO(e),t)}class _O extends re{constructor({domain:t}){super(`Invalid domain "${un(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class MO extends re{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class BO extends re{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function NO(e){const{domain:t,message:n,primaryType:r,types:s}=e,i=(c,u)=>{const l={...u};for(const f of c){const{name:d,type:h}=f;h==="address"&&(l[d]=l[d].toLowerCase())}return l},o=s.EIP712Domain?t?i(s.EIP712Domain,t):{}:{},a=(()=>{if(r!=="EIP712Domain")return i(s[r],n)})();return un({domain:o,message:a,primaryType:r,types:s})}function yx(e){const{domain:t,message:n,primaryType:r,types:s}=e,i=(o,a)=>{for(const c of o){const{name:u,type:l}=c,f=a[u],d=l.match(v6);if(d&&(typeof f=="number"||typeof f=="bigint")){const[m,y,b]=d;oe(f,{signed:y==="int",size:Number.parseInt(b,10)/8})}if(l==="address"&&typeof f=="string"&&!Pt(f))throw new bn({address:f});const h=l.match(WB);if(h){const[m,y]=h;if(y&&Vt(f)!==Number.parseInt(y,10))throw new f6({expectedSize:Number.parseInt(y,10),givenSize:Vt(f)})}const p=s[l];p&&(vY(l),i(p,f))}};if(s.EIP712Domain&&t){if(typeof t!="object")throw new _O({domain:t});i(s.EIP712Domain,t)}if(r!=="EIP712Domain")if(s[r])i(s[r],n);else throw new MO({primaryType:r,types:s})}function Og({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},(typeof(e==null?void 0:e.chainId)=="number"||typeof(e==null?void 0:e.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function bY({domain:e}){return wx({domain:e,types:{EIP712Domain:Og({domain:e})}})}function vY(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new BO({type:e})}function gx(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:Og({domain:t}),...e.types};yx({domain:t,message:n,primaryType:r,types:s});const i=["0x1901"];return t&&i.push(wx({domain:t,types:s})),r!=="EIP712Domain"&&i.push(bx({data:n,primaryType:r,types:s})),zt(os(i))}function wx({domain:e,types:t}){return bx({data:e,primaryType:"EIP712Domain",types:t})}function bx({data:e,primaryType:t,types:n}){const r=OO({data:e,primaryType:t,types:n});return zt(r)}function OO({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[EY({primaryType:t,types:n})];for(const i of n[t]){const[o,a]=jO({types:n,name:i.name,type:i.type,value:e[i.name]});r.push(o),s.push(a)}return Ei(r,s)}function EY({primaryType:e,types:t}){const n=pt(xY({primaryType:e,types:t}));return zt(n)}function xY({primaryType:e,types:t}){let n="";const r=PO({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const i of s)n+=`${i}(${t[i].map(({name:o,type:a})=>`${a} ${o}`).join(",")})`;return n}function PO({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),s=r==null?void 0:r[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const i of t[s])PO({primaryType:i.type,types:t},n);return n}function jO({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},zt(OO({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},zt(r)];if(n==="string")return[{type:"bytes32"},zt(pt(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),i=r.map(o=>jO({name:t,type:s,types:e,value:o}));return[{type:"bytes32"},zt(Ei(i.map(([o])=>o),i.map(([,o])=>o)))]}return[{type:n},r]}const RO="0x6492649264926492649264926492649264926492649264926492649264926492",o2="0x0000000000000000000000000000000000000000000000000000000000000000";function DO(e){return gd(e,-32)===RO}let AY=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const IY={checksum:new AY(8192)},T1=IY.checksum;function Pg(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=jM(FK(e));return n==="Bytes"?r:Zs(r)}function UO(e,t={}){const{compressed:n}=t,{prefix:r,x:s,y:i}=e;if(n===!1||typeof s=="bigint"&&typeof i=="bigint"){if(r!==4)throw new H3({prefix:r,cause:new MY});return}if(n===!0||typeof s=="bigint"&&typeof i>"u"){if(r!==3&&r!==2)throw new H3({prefix:r,cause:new _Y});return}throw new TY({publicKey:e})}function SY(e){const t=(()=>{if(PN(e))return LO(e);if(ZK(e))return kY(e);const{prefix:n,x:r,y:s}=e;return typeof r=="bigint"&&typeof s=="bigint"?{prefix:n??4,x:r,y:s}:{prefix:n,x:r}})();return UO(t),t}function kY(e){return LO(Zs(e))}function LO(e){if(e.length!==132&&e.length!==130&&e.length!==68)throw new BY({publicKey:e});if(e.length===130){const r=BigInt(br(e,0,32)),s=BigInt(br(e,32,64));return{prefix:4,x:r,y:s}}if(e.length===132){const r=Number(br(e,0,1)),s=BigInt(br(e,1,33)),i=BigInt(br(e,33,65));return{prefix:r,x:s,y:i}}const t=Number(br(e,0,1)),n=BigInt(br(e,1,33));return{prefix:t,x:n}}function CY(e,t={}){UO(e);const{prefix:n,x:r,y:s}=e,{includePrefix:i=!0}=t;return _s(i?on(n,{size:1}):"0x",on(r,{size:32}),typeof s=="bigint"?on(s,{size:32}):"0x")}class TY extends ut{constructor({publicKey:t}){super(`Value \`${Sg(t)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class H3 extends ut{constructor({prefix:t,cause:n}){super(`Prefix "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class _Y extends ut{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class MY extends ut{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}let BY=class extends ut{constructor({publicKey:t}){super(`Value \`${t}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${as(Q6(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}};const NY=/^0x[a-fA-F0-9]{40}$/;function Rp(e,t={}){const{strict:n=!0}=t;if(!NY.test(e))throw new q3({address:e,cause:new jY});if(n){if(e.toLowerCase()===e)return;if(vx(e)!==e)throw new q3({address:e,cause:new RY})}}function vx(e){if(T1.has(e))return T1.get(e);Rp(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=Pg(qK(t),{as:"Bytes"}),r=t.split("");for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&r[i]&&(r[i]=r[i].toUpperCase()),(n[i>>1]&15)>=8&&r[i+1]&&(r[i+1]=r[i+1].toUpperCase());const s=`0x${r.join("")}`;return T1.set(e,s),s}function OY(e,t={}){const{checksum:n=!1}=t;return Rp(e),n?vx(e):e}function PY(e,t={}){const n=Pg(`0x${CY(e).slice(4)}`).substring(26);return OY(`0x${n}`,t)}function a2(e,t={}){const{strict:n=!0}=t??{};try{return Rp(e,{strict:n}),!0}catch{return!1}}class q3 extends ut{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class jY extends ut{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class RY extends ut{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const DY=/^(.*)\[([0-9]*)\]$/,UY=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,$O=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,W3=2n**256n-1n;function Fl(e,t,n){const{checksumAddress:r,staticPosition:s}=n,i=Ax(t.type);if(i){const[o,a]=i;return $Y(e,{...t,type:a},{checksumAddress:r,length:o,staticPosition:s})}if(t.type==="tuple")return qY(e,t,{checksumAddress:r,staticPosition:s});if(t.type==="address")return LY(e,{checksum:r});if(t.type==="bool")return zY(e);if(t.type.startsWith("bytes"))return FY(e,t,{staticPosition:s});if(t.type.startsWith("uint")||t.type.startsWith("int"))return HY(e,t);if(t.type==="string")return WY(e,{staticPosition:s});throw new Ix(t.type)}const G3=32,c2=32;function LY(e,t={}){const{checksum:n=!1}=t,r=e.readBytes(32);return[(i=>n?vx(i):i)(Zs(GK(r,-20))),32]}function $Y(e,t,n){const{checksumAddress:r,length:s,staticPosition:i}=n;if(!s){const c=sa(e.readBytes(c2)),u=i+c,l=u+G3;e.setPosition(u);const f=sa(e.readBytes(G3)),d=Th(t);let h=0;const p=[];for(let m=0;m<f;++m){e.setPosition(l+(d?m*32:h));const[y,b]=Fl(e,t,{checksumAddress:r,staticPosition:l});h+=b,p.push(y)}return e.setPosition(i+32),[p,32]}if(Th(t)){const c=sa(e.readBytes(c2)),u=i+c,l=[];for(let f=0;f<s;++f){e.setPosition(u+f*32);const[d]=Fl(e,t,{checksumAddress:r,staticPosition:u});l.push(d)}return e.setPosition(i+32),[l,32]}let o=0;const a=[];for(let c=0;c<s;++c){const[u,l]=Fl(e,t,{checksumAddress:r,staticPosition:i+o});o+=l,a.push(u)}return[a,o]}function zY(e){return[KK(e.readBytes(32),{size:32}),32]}function FY(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const o=sa(e.readBytes(32));e.setPosition(n+o);const a=sa(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[Zs(c),32]}return[Zs(e.readBytes(Number.parseInt(s,10),32)),32]}function HY(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?VK(s,{signed:n}):sa(s,{signed:n}),32]}function qY(e,t,n){const{checksumAddress:r,staticPosition:s}=n,i=t.components.length===0||t.components.some(({name:c})=>!c),o=i?[]:{};let a=0;if(Th(t)){const c=sa(e.readBytes(c2)),u=s+c;for(let l=0;l<t.components.length;++l){const f=t.components[l];e.setPosition(u+a);const[d,h]=Fl(e,f,{checksumAddress:r,staticPosition:u});a+=h,o[i?l:f==null?void 0:f.name]=d}return e.setPosition(s+32),[o,32]}for(let c=0;c<t.components.length;++c){const u=t.components[c],[l,f]=Fl(e,u,{checksumAddress:r,staticPosition:s});o[i?c:u==null?void 0:u.name]=l,a+=f}return[o,a]}function WY(e,{staticPosition:t}){const n=sa(e.readBytes(32)),r=t+n;e.setPosition(r);const s=sa(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const i=e.readBytes(s,32),o=QK(MN(i));return e.setPosition(t+32),[o,32]}function GY({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(Ex({checksumAddress:e,parameter:t[s],value:n[s]}));return r}function Ex({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=Ax(r.type);if(s){const[i,o]=s;return KY(n,{checksumAddress:e,length:i,parameter:{...r,type:o}})}if(r.type==="tuple")return JY(n,{checksumAddress:e,parameter:r});if(r.type==="address")return VY(n,{checksum:e});if(r.type==="bool")return YY(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const i=r.type.startsWith("int"),[,,o="256"]=$O.exec(r.type)??[];return ZY(n,{signed:i,size:Number(o)})}if(r.type.startsWith("bytes"))return QY(n,{type:r.type});if(r.type==="string")return XY(n);throw new Ix(r.type)}function xx(e){let t=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:a}=e[i];o?t+=32:t+=as(a)}const n=[],r=[];let s=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:a}=e[i];o?(n.push(on(t+s,{size:32})),r.push(a),s+=as(a)):n.push(a)}return _s(...n,...r)}function VY(e,t){const{checksum:n=!1}=t;return Rp(e,{strict:n}),{dynamic:!1,encoded:Nu(e.toLowerCase())}}function KY(e,t){const{checksumAddress:n,length:r,parameter:s}=t,i=r===null;if(!Array.isArray(e))throw new aZ(e);if(!i&&e.length!==r)throw new oZ({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let o=!1;const a=[];for(let c=0;c<e.length;c++){const u=Ex({checksumAddress:n,parameter:s,value:e[c]});u.dynamic&&(o=!0),a.push(u)}if(i||o){const c=xx(a);if(i){const u=on(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?_s(u,c):u}}if(o)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:_s(...a.map(({encoded:c})=>c))}}function QY(e,{type:t}){const[,n]=t.split("bytes"),r=as(e);if(!n){let s=e;return r%32!==0&&(s=Ou(s,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:_s(Nu(on(r,{size:32})),s)}}if(r!==Number.parseInt(n,10))throw new HO({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Ou(e)}}function YY(e){if(typeof e!="boolean")throw new ut(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Nu(BN(e))}}function ZY(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new jN({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:on(e,{size:32,signed:t})}}function XY(e){const t=Y6(e),n=Math.ceil(as(t)/32),r=[];for(let s=0;s<n;s++)r.push(Ou(br(t,s*32,(s+1)*32)));return{dynamic:!0,encoded:_s(Ou(on(as(t),{size:32})),...r)}}function JY(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const i=[];for(let o=0;o<r.components.length;o++){const a=r.components[o],c=Array.isArray(e)?o:a.name,u=Ex({checksumAddress:n,parameter:a,value:e[c]});i.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?xx(i):_s(...i.map(({encoded:o})=>o))}}function Ax(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function Th(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(Th);const n=Ax(e.type);return!!(n&&Th({...e,type:n[1]}))}const eZ={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new nZ({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new tZ({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new V3({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new V3({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function zO(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(eZ);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}class V3 extends ut{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class tZ extends ut{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class nZ extends ut{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function rZ(e,t,n={}){const{as:r="Array",checksumAddress:s=!1}=n,i=typeof t=="string"?K6(t):t,o=zO(i);if(Pl(i)===0&&e.length>0)throw new iZ;if(Pl(i)&&Pl(i)<32)throw new sZ({data:typeof t=="string"?t:Zs(t),parameters:e,size:Pl(i)});let a=0;const c=r==="Array"?[]:{};for(let u=0;u<e.length;++u){const l=e[u];o.setPosition(a);const[f,d]=Fl(o,l,{checksumAddress:s,staticPosition:0});a+=d,r==="Array"?c.push(f):c[l.name??u]=f}return c}function jg(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new qO({expectedLength:e.length,givenLength:t.length});const s=GY({checksumAddress:r,parameters:e,values:t}),i=xx(s);return i.length===0?"0x":i}function u2(e,t){if(e.length!==t.length)throw new qO({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],i=t[r];n.push(u2.encode(s,i))}return _s(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const c=r;return Rp(c),Nu(c.toLowerCase(),s?32:0)}if(n==="string")return Y6(r);if(n==="bytes")return r;if(n==="bool")return Nu(BN(r),s?32:1);const i=n.match($O);if(i){const[c,u,l="256"]=i,f=Number.parseInt(l,10)/8;return on(r,{size:s?32:f,signed:u==="int"})}const o=n.match(UY);if(o){const[c,u]=o;if(Number.parseInt(u,10)!==(r.length-2)/2)throw new HO({expectedSize:Number.parseInt(u,10),value:r});return Ou(r,s?32:0)}const a=n.match(DY);if(a&&Array.isArray(r)){const[c,u]=a,l=[];for(let f=0;f<r.length;f++)l.push(t(u,r[f],!0));return l.length===0?"0x":_s(...l)}throw new Ix(n)}e.encode=t})(u2||(u2={}));function FO(e){return Array.isArray(e)&&typeof e[0]=="string"||typeof e=="string"?xh(e):e}class sZ extends ut{constructor({data:t,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Al(n)})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class iZ extends ut{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class oZ extends ut{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class HO extends ut{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${as(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class qO extends ut{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class aZ extends ut{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class Ix extends ut{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function cZ(e,t){const{as:n}=t,r=WO(e),s=zO(new Uint8Array(r.length));return r.encode(s),n==="Hex"?Zs(s.bytes):s.bytes}function uZ(e,t={}){const{as:n="Hex"}=t;return cZ(e,{as:n})}function WO(e){return Array.isArray(e)?lZ(e.map(t=>WO(t))):dZ(e)}function lZ(e){const t=e.reduce((s,i)=>s+i.length,0),n=GO(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:i}of e)i(s)}}}function dZ(e){const t=typeof e=="string"?K6(e):e,n=GO(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function GO(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new ut("Length is too large.")}function VO(e,t={}){const{recovered:n}=t;if(typeof e.r>"u")throw new _1({signature:e});if(typeof e.s>"u")throw new _1({signature:e});if(n&&typeof e.yParity>"u")throw new _1({signature:e});if(e.r<0n||e.r>W3)throw new gZ({value:e.r});if(e.s<0n||e.s>W3)throw new wZ({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new kx({value:e.yParity})}function fZ(e){return KO(Zs(e))}function KO(e){if(e.length!==130&&e.length!==132)throw new yZ({signature:e});const t=BigInt(br(e,0,32)),n=BigInt(br(e,32,64)),r=(()=>{const s=+`0x${e.slice(130)}`;if(!Number.isNaN(s))try{return Sx(s)}catch{throw new kx({value:s})}})();return typeof r>"u"?{r:t,s:n}:{r:t,s:n,yParity:r}}function QO(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return YO(e)}function YO(e){const t=typeof e=="string"?KO(e):e instanceof Uint8Array?fZ(e):typeof e.r=="string"?pZ(e):e.v?hZ(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return VO(t),t}function hZ(e){return{r:e.r,s:e.s,yParity:Sx(e.v)}}function pZ(e){const t=(()=>{const n=e.v?Number(e.v):void 0;let r=e.yParity?Number(e.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=Sx(n)),typeof r!="number")throw new kx({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function mZ(e){const{r:t,s:n,yParity:r}=e;return[r?"0x01":"0x",t===0n?"0x":j3(on(t)),n===0n?"0x":j3(on(n))]}function Sx(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new bZ({value:e})}class yZ extends ut{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${as(Q6(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class _1 extends ut{constructor({signature:t}){super(`Signature \`${Sg(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class gZ extends ut{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class wZ extends ut{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class kx extends ut{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class bZ extends ut{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function vZ(e,t={}){return typeof e.chainId=="string"?EZ(e):{...e,...t.signature}}function EZ(e){const{address:t,chainId:n,nonce:r}=e,s=QO(e);return{address:t,chainId:Number(n),nonce:BigInt(r),...s}}function xZ(e){return AZ(e,{presign:!0})}function AZ(e,t={}){const{presign:n}=t;return Pg(_s("0x05",uZ(IZ(n?{address:e.address,chainId:e.chainId,nonce:e.nonce}:e))))}function IZ(e){const{address:t,chainId:n,nonce:r}=e,s=QO(e);return[n?on(n):"0x",t,r?on(r):"0x",...s?mZ(s):[]]}function SZ(e){return PY(kZ(e))}function kZ(e){const{payload:t,signature:n}=e,{r,s,yParity:i}=n,a=new Kd.Signature(BigInt(r),BigInt(s)).addRecoveryBit(i).recoverPublicKey(Q6(t).substring(2));return SY(a)}const ZO="0x8010801080108010801080108010801080108010801080108010801080108010",XO=FO("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function Cx(e){if(typeof e=="string"){if(br(e,-32)!==ZO)throw new TZ(e)}else VO(e.authorization)}function JO(e){Cx(e);const t=ON(br(e,-64,-32)),n=br(e,-t-64,-64),r=br(e,0,-t-64),[s,i,o]=rZ(XO,n);return{authorization:vZ({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:r,...o&&o!=="0x"?{data:o,to:i}:{}}}function CZ(e){const{data:t,signature:n}=e;Cx(e);const r=SZ({payload:xZ(e.authorization),signature:YO(e.authorization)}),s=jg(XO,[{...e.authorization,delegation:e.authorization.address,chainId:BigInt(e.authorization.chainId)},e.to??r,t??"0x"]),i=on(as(s),{size:32});return _s(n,s,i,ZO)}function eP(e){try{return Cx(e),!0}catch{return!1}}let TZ=class extends ut{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function tP(e){return eP(e)}function _Z(e){if(!DO(e))return{signature:e};const[t,n,r]=Tc([{type:"address"},{type:"bytes"},{type:"bytes"}],e);return{address:t,data:n,signature:r}}function MZ(e){if(!tP(e))return{signature:e};const{authorization:t,to:n,...r}=JO(e);return{authorization:{address:t.address,chainId:t.chainId,nonce:Number(t.nonce),r:oe(t.r,{size:32}),s:oe(t.s,{size:32}),yParity:t.yParity},...n?{address:n}:{},...r}}async function nP({message:e,signature:t}){return Qu({hash:Ng(e),signature:t})}async function rP(e){const{domain:t,message:n,primaryType:r,signature:s,types:i}=e;return Qu({hash:gx({domain:t,message:n,primaryType:r,types:i}),signature:s})}function BZ(e){const{address:t,data:n,signature:r,to:s="hex"}=e,i=Tr([Ei([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,n,r]),RO]);return s==="hex"?i:wn(i)}function NZ(e){const{address:t,data:n,signature:r,to:s="hex"}=e,i=CZ({authorization:{address:e.authorization.address,chainId:e.authorization.chainId,nonce:BigInt(e.authorization.nonce),r:BigInt(e.authorization.r),s:BigInt(e.authorization.s),yParity:e.authorization.yParity},data:n,signature:r,to:t});return s==="hex"?i:wn(i)}async function OZ({address:e,hash:t,signature:n}){return So(St(e),await Qu({hash:t,signature:n}))}async function PZ({address:e,message:t,signature:n}){return So(St(e),await nP({message:t,signature:n}))}async function jZ(e){const{address:t,domain:n,message:r,primaryType:s,signature:i,types:o}=e;return So(St(t),await rP({domain:n,message:r,primaryType:s,signature:i,types:o}))}function sP(e){const t=gd(e,0,1);if(t==="0x04")return"eip7702";if(t==="0x03")return"eip4844";if(t==="0x02")return"eip1559";if(t==="0x01")return"eip2930";if(t!=="0x"&&Mt(t)>=192)return"legacy";throw new nN({serializedType:t})}function iP(e){const t=sP(e);return t==="eip1559"?UZ(e):t==="eip2930"?LZ(e):t==="eip4844"?DZ(e):t==="eip7702"?RZ(e):$Z(e)}function RZ(e){const t=Rg(e),[n,r,s,i,o,a,c,u,l,f,d,h,p]=t;if(t.length!==10&&t.length!==13)throw new Jd({attributes:{chainId:n,nonce:r,maxPriorityFeePerGas:s,maxFeePerGas:i,gas:o,to:a,value:c,data:u,accessList:l,authorizationList:f,...t.length>9?{v:d,r:h,s:p}:{}},serializedTransaction:e,type:"eip7702"});const m={chainId:Mt(n),type:"eip7702"};return rt(a)&&a!=="0x"&&(m.to=a),rt(o)&&o!=="0x"&&(m.gas=Ge(o)),rt(u)&&u!=="0x"&&(m.data=u),rt(r)&&(m.nonce=r==="0x"?0:Mt(r)),rt(c)&&c!=="0x"&&(m.value=Ge(c)),rt(i)&&i!=="0x"&&(m.maxFeePerGas=Ge(i)),rt(s)&&s!=="0x"&&(m.maxPriorityFeePerGas=Ge(s)),l.length!==0&&l!=="0x"&&(m.accessList=Dg(l)),f.length!==0&&f!=="0x"&&(m.authorizationList=zZ(f)),vO(m),{...t.length===13?Dp(t):void 0,...m}}function DZ(e){const t=Rg(e),n=t.length===4,r=n?t[0]:t,s=n?t.slice(1):[],[i,o,a,c,u,l,f,d,h,p,m,y,b,I]=r,[v,E,S]=s;if(!(r.length===11||r.length===14))throw new Jd({attributes:{chainId:i,nonce:o,maxPriorityFeePerGas:a,maxFeePerGas:c,gas:u,to:l,value:f,data:d,accessList:h,...r.length>9?{v:y,r:b,s:I}:{}},serializedTransaction:e,type:"eip4844"});const N={blobVersionedHashes:m,chainId:Mt(i),to:l,type:"eip4844"};return rt(u)&&u!=="0x"&&(N.gas=Ge(u)),rt(d)&&d!=="0x"&&(N.data=d),rt(o)&&(N.nonce=o==="0x"?0:Mt(o)),rt(f)&&f!=="0x"&&(N.value=Ge(f)),rt(p)&&p!=="0x"&&(N.maxFeePerBlobGas=Ge(p)),rt(c)&&c!=="0x"&&(N.maxFeePerGas=Ge(c)),rt(a)&&a!=="0x"&&(N.maxPriorityFeePerGas=Ge(a)),h.length!==0&&h!=="0x"&&(N.accessList=Dg(h)),v&&E&&S&&(N.sidecars=vg({blobs:v,commitments:E,proofs:S})),EO(N),{...r.length===14?Dp(r):void 0,...N}}function UZ(e){const t=Rg(e),[n,r,s,i,o,a,c,u,l,f,d,h]=t;if(!(t.length===9||t.length===12))throw new Jd({attributes:{chainId:n,nonce:r,maxPriorityFeePerGas:s,maxFeePerGas:i,gas:o,to:a,value:c,data:u,accessList:l,...t.length>9?{v:f,r:d,s:h}:{}},serializedTransaction:e,type:"eip1559"});const p={chainId:Mt(n),type:"eip1559"};return rt(a)&&a!=="0x"&&(p.to=a),rt(o)&&o!=="0x"&&(p.gas=Ge(o)),rt(u)&&u!=="0x"&&(p.data=u),rt(r)&&(p.nonce=r==="0x"?0:Mt(r)),rt(c)&&c!=="0x"&&(p.value=Ge(c)),rt(i)&&i!=="0x"&&(p.maxFeePerGas=Ge(i)),rt(s)&&s!=="0x"&&(p.maxPriorityFeePerGas=Ge(s)),l.length!==0&&l!=="0x"&&(p.accessList=Dg(l)),jp(p),{...t.length===12?Dp(t):void 0,...p}}function LZ(e){const t=Rg(e),[n,r,s,i,o,a,c,u,l,f,d]=t;if(!(t.length===8||t.length===11))throw new Jd({attributes:{chainId:n,nonce:r,gasPrice:s,gas:i,to:o,value:a,data:c,accessList:u,...t.length>8?{v:l,r:f,s:d}:{}},serializedTransaction:e,type:"eip2930"});const h={chainId:Mt(n),type:"eip2930"};return rt(o)&&o!=="0x"&&(h.to=o),rt(i)&&i!=="0x"&&(h.gas=Ge(i)),rt(c)&&c!=="0x"&&(h.data=c),rt(r)&&(h.nonce=r==="0x"?0:Mt(r)),rt(a)&&a!=="0x"&&(h.value=Ge(a)),rt(s)&&s!=="0x"&&(h.gasPrice=Ge(s)),u.length!==0&&u!=="0x"&&(h.accessList=Dg(u)),fx(h),{...t.length===11?Dp(t):void 0,...h}}function $Z(e){const t=mx(e,"hex"),[n,r,s,i,o,a,c,u,l]=t;if(!(t.length===6||t.length===9))throw new Jd({attributes:{nonce:n,gasPrice:r,gas:s,to:i,value:o,data:a,...t.length>6?{v:c,r:u,s:l}:{}},serializedTransaction:e,type:"legacy"});const f={type:"legacy"};if(rt(i)&&i!=="0x"&&(f.to=i),rt(s)&&s!=="0x"&&(f.gas=Ge(s)),rt(a)&&a!=="0x"&&(f.data=a),rt(n)&&(f.nonce=n==="0x"?0:Mt(n)),rt(o)&&o!=="0x"&&(f.value=Ge(o)),rt(r)&&r!=="0x"&&(f.gasPrice=Ge(r)),hx(f),t.length===6)return f;const d=rt(c)&&c!=="0x"?Ge(c):0n;if(l==="0x"&&u==="0x")return d>0&&(f.chainId=Number(d)),f;const h=d,p=Number((h-35n)/2n);if(p>0)f.chainId=p;else if(h!==27n&&h!==28n)throw new B6({v:h});return f.v=h,f.s=l,f.r=u,f.yParity=h%2n===0n?1:0,f}function Rg(e){return mx(`0x${e.slice(4)}`,"hex")}function Dg(e){const t=[];for(let n=0;n<e.length;n++){const[r,s]=e[n];if(!Pt(r,{strict:!1}))throw new bn({address:r});t.push({address:r,storageKeys:s.map(i=>SO(i)?i:Zn(i))})}return t}function zZ(e){const t=[];for(let n=0;n<e.length;n++){const[r,s,i,o,a,c]=e[n];t.push({address:s,chainId:r==="0x"?0:Mt(r),nonce:i==="0x"?0:Mt(i),...Dp([o,a,c])})}return t}function Dp(e){const t=e.slice(-3),n=t[0]==="0x"||Ge(t[0])===0n?27n:28n;return{r:Fi(t[1],{size:32}),s:Fi(t[2],{size:32}),v:n,yParity:n===27n?0:1}}class oP extends re{constructor({value:t}){super(`Number \`${t}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function Tx(e,t){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new oP({value:e});let[n,r="0"]=e.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),t===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>t){const[i,o,a]=[r.slice(0,t-1),r.slice(t-1,t),r.slice(t)],c=Math.round(+`${o}.${a}`);c>9?r=`${BigInt(i)+BigInt(1)}0`.padStart(i.length+1,"0"):r=`${i}${c}`,r.length>t&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,t)}else r=r.padEnd(t,"0");return BigInt(`${s?"-":""}${n}${r}`)}function FZ(e,t="wei"){return Tx(e,_6[t])}function HZ(e,t="wei"){return Tx(e,M6[t])}function qZ(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function WZ(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?Mt(e.nonce):void 0,storageProof:e.storageProof?qZ(e.storageProof):void 0}}async function GZ(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const i=r??"latest",o=n!==void 0?oe(n):void 0,a=await e.request({method:"eth_getProof",params:[t,s,o||i]});return WZ(a)}async function VZ(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const i=n!==void 0?oe(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,i||r]})}async function _x(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:i}){var l,f,d;const o=r||"latest",a=n!==void 0?oe(n):void 0;let c=null;if(s?c=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,oe(i)]},{dedupe:!0}):c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||o,oe(i)]},{dedupe:!!a}),!c)throw new N6({blockHash:t,blockNumber:n,blockTag:o,hash:s,index:i});return(((d=(f=(l=e.chain)==null?void 0:l.formatters)==null?void 0:f.transaction)==null?void 0:d.format)||nf)(c,"getTransaction")}async function KZ(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([Ee(e,Ju,"getBlockNumber")({}),t?Ee(e,_x,"getTransaction")({hash:t}):void 0]),i=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return i?r-i+1n:0n}async function hm(e,{hash:t}){var s,i,o;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new O6({hash:t});return(((o=(i=(s=e.chain)==null?void 0:s.formatters)==null?void 0:i.transactionReceipt)==null?void 0:o.format)||_g)(n,"getTransactionReceipt")}async function Up(e,t){var I;const{account:n,authorizationList:r,allowFailure:s=!0,blockNumber:i,blockOverrides:o,blockTag:a,stateOverride:c}=t,u=t.contracts,{batchSize:l=t.batchSize??1024,deployless:f=t.deployless??!1}=typeof((I=e.batch)==null?void 0:I.multicall)=="object"?e.batch.multicall:{},d=(()=>{if(t.multicallAddress)return t.multicallAddress;if(f)return null;if(e.chain)return Xu({blockNumber:i,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),h=[[]];let p=0,m=0;for(let v=0;v<u.length;v++){const{abi:E,address:S,args:N,functionName:O}=u[v];try{const z=_r({abi:E,args:N,functionName:O});m+=(z.length-2)/2,l>0&&m>l&&h[p].length>0&&(p++,m=(z.length-2)/2,h[p]=[]),h[p]=[...h[p],{allowFailure:!0,callData:z,target:S}]}catch(z){const L=Ec(z,{abi:E,address:S,args:N,docsPath:"/docs/contract/multicall",functionName:O,sender:n});if(!s)throw L;h[p]=[...h[p],{allowFailure:!0,callData:"0x",target:S}]}}const y=await Promise.allSettled(h.map(v=>Ee(e,Jn,"readContract")({...d===null?{code:X6}:{address:d},abi:kh,account:n,args:[v],authorizationList:r,blockNumber:i,blockOverrides:o,blockTag:a,functionName:"aggregate3",stateOverride:c}))),b=[];for(let v=0;v<y.length;v++){const E=y[v];if(E.status==="rejected"){if(!s)throw E.reason;for(let N=0;N<h[v].length;N++)b.push({status:"failure",error:E.reason,result:void 0});continue}const S=E.value;for(let N=0;N<S.length;N++){const{returnData:O,success:z}=S[N],{callData:L}=h[v][N],{abi:F,address:H,functionName:G,args:M}=u[b.length];try{if(L==="0x")throw new Qd;if(!z)throw new Tp({data:O});const g=_c({abi:F,args:M,data:O,functionName:G});b.push(s?{result:g,status:"success"}:g)}catch(g){const w=Ec(g,{abi:F,address:H,args:M,docsPath:"/docs/contract/multicall",functionName:G});if(!s)throw w;b.push({error:w,result:void 0,status:"failure"})}}}if(b.length!==u.length)throw new re("multicall results mismatch");return b}async function l2(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:i,traceTransfers:o,validation:a}=t;try{const c=[];for(const d of s){const h=d.blockOverrides?DN(d.blockOverrides):void 0,p=d.calls.map(y=>{const b=y,I=b.account?nn(b.account):void 0,v=b.abi?_r(b):b.data,E={...b,data:b.dataSuffix?os([v||"0x",b.dataSuffix]):v,from:b.from??(I==null?void 0:I.address)};return Io(E),Ji(E)}),m=d.stateOverrides?R6(d.stateOverrides):void 0;c.push({blockOverrides:h,calls:p,stateOverrides:m})}const l=(typeof n=="bigint"?oe(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:i,traceTransfers:o,validation:a},l]})).map((d,h)=>({...mg(d),calls:d.calls.map((p,m)=>{var F,H;const{abi:y,args:b,functionName:I,to:v}=s[h].calls[m],E=((F=p.error)==null?void 0:F.data)??p.returnData,S=BigInt(p.gasUsed),N=(H=p.logs)==null?void 0:H.map(G=>Qi(G)),O=p.status==="0x1"?"success":"failure",z=y&&O==="success"&&E!=="0x"?_c({abi:y,data:E,functionName:I}):null,L=(()=>{var M;if(O==="success")return;let G;if(((M=p.error)==null?void 0:M.data)==="0x"?G=new Qd:p.error&&(G=new Tp(p.error)),!!G)return Ec(G,{abi:y??[],address:v??"0x",args:b,functionName:I??"<unknown>"})})();return{data:E,gasUsed:S,logs:N,status:O,...O==="success"?{result:z}:{error:L}}})}))}catch(c){const u=c,l=dg(u,{});throw l instanceof ef?u:l}}function d2(e){let t=!0,n="",r=0,s="",i=!1;for(let o=0;o<e.length;o++){const a=e[o];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function","error",""].includes(s))s="";else if(s+=a,a===")"){i=!0;break}continue}if(a===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!i)throw new ut("Unable to normalize signature.");return s}function f2(e,t){const n=typeof e,r=t.type;switch(r){case"address":return a2(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,i)=>f2(Object.values(e)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>f2(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function aP(e,t,n){for(const r in e){const s=e[r],i=t[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return aP(s.components,i.components,n[r]);const o=[s.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?a2(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?a2(n[r],{strict:!1}):!1)return o}}function cP(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||typeof e=="string"?Wv(e):e;return{...r,...n?{hash:jl(r)}:{}}}function Ug(e,t,n){const{args:r=[],prepare:s=!0}=n??{},i=PN(t,{strict:!1}),o=e.filter(u=>i?u.type==="function"||u.type==="error"?uP(u)===br(t,0,4):u.type==="event"?jl(u)===t:!1:"name"in u&&u.name===t);if(o.length===0)throw new oy({name:t});if(o.length===1)return{...o[0],...s?{hash:jl(o[0])}:{}};let a;for(const u of o){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:jl(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((f,d)=>{const h="inputs"in u&&u.inputs[d];return h?f2(f,h):!1})){if(a&&"inputs"in a&&a.inputs){const f=aP(u.inputs,a.inputs,r);if(f)throw new YZ({abiItem:u,type:f[0]},{abiItem:a,type:f[1]})}a=u}}const c=(()=>{if(a)return a;const[u,...l]=o;return{...u,overloads:l}})();if(!c)throw new oy({name:t});return{...c,...s?{hash:jl(c)}:{}}}function uP(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return Ug(n,r)}return e[0]})();return br(jl(t),0,4)}function QZ(...e){const t=(()=>{if(Array.isArray(e[0])){const[r,s]=e;return Ug(r,s)}return e[0]})(),n=typeof t=="string"?t:Fm(t);return d2(n)}function jl(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return Ug(n,r)}return e[0]})();return typeof t!="string"&&"hash"in t&&t.hash?t.hash:Pg(Y6(QZ(t)))}class YZ extends ut{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${d2(Fm(t.abiItem))}\`, and`,`\`${n.type}\` in \`${d2(Fm(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class oy extends ut{constructor({name:t,data:n,type:r="item"}){const s=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function ZZ(...e){var i;const[t,n]=(()=>{if(Array.isArray(e[0])){const[o,a]=e;return[JZ(o),a]}return e})(),{bytecode:r,args:s}=n;return _s(r,(i=t.inputs)!=null&&i.length&&(s!=null&&s.length)?jg(t.inputs,s):"0x")}function XZ(e){return cP(e)}function JZ(e){const t=e.find(n=>n.type==="constructor");if(!t)throw new oy({name:"constructor"});return t}function eX(...e){const[t,n=[]]=(()=>{if(Array.isArray(e[0])){const[u,l,f]=e;return[K3(u,l,{args:f}),f]}const[a,c]=e;return[a,c]})(),{overloads:r}=t,s=r?K3([t,...r],t.name,{args:n}):t,i=tX(s),o=n.length>0?jg(s.inputs,n):void 0;return o?_s(i,o):i}function ml(e,t={}){return cP(e,t)}function K3(e,t,n){const r=Ug(e,t,n);if(r.type!=="function")throw new oy({name:t,type:"function"});return r}function tX(e){return uP(e)}const lP="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Si="0x0000000000000000000000000000000000000000",nX="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function rX(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:i,traceAssetChanges:o,traceTransfers:a,validation:c}=t,u=t.account?nn(t.account):void 0;if(o&&!u)throw new re("`account` is required when `traceAssetChanges` is true");const l=u?ZZ(XZ("constructor(bytes, bytes)"),{bytecode:Z6,args:[nX,eX(ml("function getBalance(address)"),[u.address])]}):void 0,f=o?await Promise.all(t.calls.map(async x=>{if(!x.data&&!x.abi)return;const{accessList:j}=await pO(e,{account:u.address,...x,data:x.abi?_r(x):x.data});return j.map(({address:D,storageKeys:P})=>P.length>0?D:null)})).then(x=>x.flat().filter(Boolean)):[],d=await l2(e,{blockNumber:n,blockTag:r,blocks:[...o?[{calls:[{data:l}],stateOverrides:i},{calls:f.map((x,j)=>({abi:[ml("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:x,from:Si,nonce:j})),stateOverrides:[{address:Si,nonce:0}]}]:[],{calls:[...s,{}].map(x=>({...x,from:u==null?void 0:u.address})),stateOverrides:i},...o?[{calls:[{data:l}]},{calls:f.map((x,j)=>({abi:[ml("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:x,from:Si,nonce:j})),stateOverrides:[{address:Si,nonce:0}]},{calls:f.map((x,j)=>({to:x,abi:[ml("function decimals() returns (uint256)")],functionName:"decimals",from:Si,nonce:j})),stateOverrides:[{address:Si,nonce:0}]},{calls:f.map((x,j)=>({to:x,abi:[ml("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Si,nonce:j})),stateOverrides:[{address:Si,nonce:0}]},{calls:f.map((x,j)=>({to:x,abi:[ml("function symbol() returns (string)")],functionName:"symbol",from:Si,nonce:j})),stateOverrides:[{address:Si,nonce:0}]}]:[]],traceTransfers:a,validation:c}),h=o?d[2]:d[0],[p,m,,y,b,I,v,E]=o?d:[],{calls:S,...N}=h,O=S.slice(0,-1)??[],z=(p==null?void 0:p.calls)??[],L=(m==null?void 0:m.calls)??[],F=[...z,...L].map(x=>x.status==="success"?Ge(x.data):null),H=(y==null?void 0:y.calls)??[],G=(b==null?void 0:b.calls)??[],M=[...H,...G].map(x=>x.status==="success"?Ge(x.data):null),g=((I==null?void 0:I.calls)??[]).map(x=>x.status==="success"?x.result:null),w=((E==null?void 0:E.calls)??[]).map(x=>x.status==="success"?x.result:null),T=((v==null?void 0:v.calls)??[]).map(x=>x.status==="success"?x.result:null),_=[];for(const[x,j]of M.entries()){const D=F[x];if(typeof j!="bigint"||typeof D!="bigint")continue;const P=g[x-1],k=w[x-1],$=T[x-1],Z=x===0?{address:lP,decimals:18,symbol:"ETH"}:{address:f[x-1],decimals:$||P?Number(P??1):void 0,symbol:k??void 0};_.some(Y=>Y.token.address===Z.address)||_.push({token:Z,value:{pre:D,post:j,diff:j-D}})}return{assetChanges:_,block:N,results:O}}const dP="0x6492649264926492649264926492649264926492649264926492649264926492";function sX(e){if(br(e,-32)!==dP)throw new aX(e)}function iX(e){const{data:t,signature:n,to:r}=e;return _s(jg(FO("address, bytes, bytes"),[r,t,n]),dP)}function oX(e){try{return sX(e),!0}catch{return!1}}class aX extends ut{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function h2({r:e,s:t,to:n="hex",v:r,yParity:s}){const i=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new Kd.Signature(Ge(e),Ge(t)).toCompactHex()}${i===0?"1b":"1c"}`;return n==="hex"?o:wn(o)}async function Lg(e,t){var a,c,u,l,f,d;const{address:n,hash:r,erc6492VerifierAddress:s=t.universalSignatureVerifierAddress??((u=(c=(a=e.chain)==null?void 0:a.contracts)==null?void 0:c.erc6492Verifier)==null?void 0:u.address),multicallAddress:i=t.multicallAddress??((d=(f=(l=e.chain)==null?void 0:l.contracts)==null?void 0:f.multicall3)==null?void 0:d.address)}=t,o=(()=>{const h=t.signature;return rt(h)?h:typeof h=="object"&&"r"in h&&"s"in h?h2(h):Ut(h)})();try{return eP(o)?await cX(e,{...t,multicallAddress:i,signature:o}):await uX(e,{...t,verifierAddress:s,signature:o})}catch(h){try{if(So(St(n),await Qu({hash:r,signature:o})))return!0}catch{}if(h instanceof Pu)return!1;throw h}}async function cX(e,t){var y;const{address:n,blockNumber:r,blockTag:s,hash:i,multicallAddress:o}=t,{authorization:a,data:c,signature:u,to:l}=JO(t.signature);if(await sy(e,{address:n,blockNumber:r,blockTag:s})===Tr(["0xef0100",a.address]))return await lX(e,{address:n,blockNumber:r,blockTag:s,hash:i,signature:u});const d={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:oe(a.r,{size:32}),s:oe(a.s,{size:32}),yParity:a.yParity};if(!await nY({address:n,authorization:d}))throw new Pu;const p=await Ee(e,Jn,"readContract")({...o?{address:o}:{code:X6},authorizationList:[d],abi:kh,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:l??n,callData:c}]:[],{allowFailure:!0,target:n,callData:_r({abi:$N,functionName:"isValidSignature",args:[i,u]})}]]}),m=(y=p[p.length-1])==null?void 0:y.returnData;if(m!=null&&m.startsWith("0x1626ba7e"))return!0;throw new Pu}async function uX(e,t){const{address:n,factory:r,factoryData:s,hash:i,signature:o,verifierAddress:a,...c}=t,u=await(async()=>!r&&!s||oX(o)?o:iX({data:s,signature:o,to:r}))(),l=a?{to:a,data:_r({abi:ty,functionName:"isValidSig",args:[n,i,u]}),...c}:{data:Np({abi:ty,args:[n,i,u],bytecode:t2}),...c},{data:f}=await Ee(e,Op,"call")(l).catch(d=>{throw d instanceof P6?new Pu:d});if(g6(f??"0x0"))return!0;throw new Pu}async function lX(e,t){const{address:n,blockNumber:r,blockTag:s,hash:i,signature:o}=t;if((await Ee(e,Jn,"readContract")({address:n,abi:$N,args:[i,o],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(c=>{throw c instanceof ug?new Pu:c})).startsWith("0x1626ba7e"))return!0;throw new Pu}class Pu extends Error{}async function dX(e,{address:t,message:n,factory:r,factoryData:s,signature:i,...o}){const a=Ng(n);return Lg(e,{address:t,factory:r,factoryData:s,hash:a,signature:i,...o})}async function fX(e,t){const{address:n,factory:r,factoryData:s,signature:i,message:o,primaryType:a,types:c,domain:u,...l}=t,f=gx({message:o,primaryType:a,types:c,domain:u});return Lg(e,{address:n,factory:r,factoryData:s,hash:f,signature:i,...l})}function fP(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:i,pollingInterval:o=e.pollingInterval}){const a=typeof i<"u"?i:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const f=un(["watchBlockNumber",e.uid,t,n,o]);return wa(f,{onBlockNumber:r,onError:s},d=>rf(async()=>{var h;try{const p=await Ee(e,Ju,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(p===c)return;if(p-c>1&&n)for(let m=c+1n;m<p;m++)d.onBlockNumber(m,c),c=m}(c===void 0||p>c)&&(d.onBlockNumber(p,c),c=p)}catch(p){(h=d.onError)==null||h.call(d,p)}},{emitOnBegin:t,interval:o}))})():(()=>{const f=un(["watchBlockNumber",e.uid,t,n]);return wa(f,{onBlockNumber:r,onError:s},d=>{let h=!0,p=()=>h=!1;return(async()=>{try{const m=(()=>{if(e.transport.type==="fallback"){const b=e.transport.transports.find(I=>I.config.type==="webSocket"||I.config.type==="ipc");return b?b.value:e.transport}return e.transport})(),{unsubscribe:y}=await m.subscribe({params:["newHeads"],onData(b){var v;if(!h)return;const I=Ge((v=b.result)==null?void 0:v.number);d.onBlockNumber(I,c),c=I},onError(b){var I;(I=d.onError)==null||I.call(d,b)}});p=y,h||p()}catch(m){s==null||s(m)}})(),()=>p()})})()}async function Mx(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:i,retryCount:o=6,retryDelay:a=({count:S})=>~~(1<<S)*200,timeout:c=18e4}=t,u=un(["waitForTransactionReceipt",e.uid,s]),l=(()=>{var S;return t.pollingInterval?t.pollingInterval:(S=e.chain)!=null&&S.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval})();let f,d,h,p=!1,m,y;const{promise:b,resolve:I,reject:v}=tx(),E=c?setTimeout(()=>{y==null||y(),m==null||m(),v(new oN({hash:s}))},c):void 0;return m=wa(u,{onReplaced:i,resolve:I,reject:v},async S=>{if(h=await Ee(e,hm,"getTransactionReceipt")({hash:s}).catch(()=>{}),h&&r<=1){clearTimeout(E),S.resolve(h),m==null||m();return}y=Ee(e,fP,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:l,async onBlockNumber(N){const O=L=>{clearTimeout(E),y==null||y(),L(),m==null||m()};let z=N;if(!p)try{if(h){if(r>1&&(!h.blockNumber||z-h.blockNumber+1n<r))return;O(()=>S.resolve(h));return}if(n&&!f&&(p=!0,await xc(async()=>{f=await Ee(e,_x,"getTransaction")({hash:s}),f.blockNumber&&(z=f.blockNumber)},{delay:a,retryCount:o}),p=!1),h=await Ee(e,hm,"getTransactionReceipt")({hash:s}),r>1&&(!h.blockNumber||z-h.blockNumber+1n<r))return;O(()=>S.resolve(h))}catch(L){if(L instanceof N6||L instanceof O6){if(!f){p=!1;return}try{d=f,p=!0;const F=await xc(()=>Ee(e,$i,"getBlock")({blockNumber:z,includeTransactions:!0}),{delay:a,retryCount:o,shouldRetry:({error:M})=>M instanceof D6});p=!1;const H=F.transactions.find(({from:M,nonce:g})=>M===d.from&&g===d.nonce);if(!H||(h=await Ee(e,hm,"getTransactionReceipt")({hash:H.hash}),r>1&&(!h.blockNumber||z-h.blockNumber+1n<r)))return;let G="replaced";H.to===d.to&&H.value===d.value&&H.input===d.input?G="repriced":H.from===H.to&&H.value===0n&&(G="cancelled"),O(()=>{var M;(M=S.onReplaced)==null||M.call(S,{reason:G,replacedTransaction:d,transaction:H,transactionReceipt:h}),S.resolve(h)})}catch(F){O(()=>S.reject(F))}}else O(()=>S.reject(L))}}})}),b}function hX(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:i,includeTransactions:o,poll:a,pollingInterval:c=e.pollingInterval}){const u=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),l=o??!1;let f;return u?(()=>{const p=un(["watchBlocks",e.uid,t,n,r,l,c]);return wa(p,{onBlock:s,onError:i},m=>rf(async()=>{var y;try{const b=await Ee(e,$i,"getBlock")({blockTag:t,includeTransactions:l});if(b.number!==null&&(f==null?void 0:f.number)!=null){if(b.number===f.number)return;if(b.number-f.number>1&&n)for(let I=(f==null?void 0:f.number)+1n;I<b.number;I++){const v=await Ee(e,$i,"getBlock")({blockNumber:I,includeTransactions:l});m.onBlock(v,f),f=v}}((f==null?void 0:f.number)==null||t==="pending"&&(b==null?void 0:b.number)==null||b.number!==null&&b.number>f.number)&&(m.onBlock(b,f),f=b)}catch(b){(y=m.onError)==null||y.call(m,b)}},{emitOnBegin:r,interval:c}))})():(()=>{let p=!0,m=!0,y=()=>p=!1;return(async()=>{try{r&&Ee(e,$i,"getBlock")({blockTag:t,includeTransactions:l}).then(v=>{p&&m&&(s(v,void 0),m=!1)}).catch(i);const b=(()=>{if(e.transport.type==="fallback"){const v=e.transport.transports.find(E=>E.config.type==="webSocket"||E.config.type==="ipc");return v?v.value:e.transport}return e.transport})(),{unsubscribe:I}=await b.subscribe({params:["newHeads"],async onData(v){var S;if(!p)return;const E=await Ee(e,$i,"getBlock")({blockNumber:(S=v.result)==null?void 0:S.number,includeTransactions:l}).catch(()=>{});p&&(s(E,f),m=!1,f=E)},onError(v){i==null||i(v)}});y=I,p||y()}catch(b){i==null||i(b)}})(),()=>y()})()}function pX(e,{address:t,args:n,batch:r=!0,event:s,events:i,fromBlock:o,onError:a,onLogs:c,poll:u,pollingInterval:l=e.pollingInterval,strict:f}){const d=typeof u<"u"?u:typeof o=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),h=f??!1;return d?(()=>{const y=un(["watchEvent",t,n,r,e.uid,s,l,o]);return wa(y,{onLogs:c,onError:a},b=>{let I;o!==void 0&&(I=o-1n);let v,E=!1;const S=rf(async()=>{var N;if(!E){try{v=await Ee(e,mO,"createEventFilter")({address:t,args:n,event:s,events:i,strict:h,fromBlock:o})}catch{}E=!0;return}try{let O;if(v)O=await Ee(e,kg,"getFilterChanges")({filter:v});else{const z=await Ee(e,Ju,"getBlockNumber")({});I&&I!==z?O=await Ee(e,G6,"getLogs")({address:t,args:n,event:s,events:i,fromBlock:I+1n,toBlock:z}):O=[],I=z}if(O.length===0)return;if(r)b.onLogs(O);else for(const z of O)b.onLogs([z])}catch(O){v&&O instanceof vc&&(E=!1),(N=b.onError)==null||N.call(b,O)}},{emitOnBegin:!0,interval:l});return async()=>{v&&await Ee(e,Cg,"uninstallFilter")({filter:v}),S()}})})():(()=>{let y=!0,b=()=>y=!1;return(async()=>{try{const I=(()=>{if(e.transport.type==="fallback"){const N=e.transport.transports.find(O=>O.config.type==="webSocket"||O.config.type==="ipc");return N?N.value:e.transport}return e.transport})(),v=i??(s?[s]:void 0);let E=[];v&&(E=[v.flatMap(O=>Xd({abi:[O],eventName:O.name,args:n}))],s&&(E=E[0]));const{unsubscribe:S}=await I.subscribe({params:["logs",{address:t,topics:E}],onData(N){var z;if(!y)return;const O=N.result;try{const{eventName:L,args:F}=xg({abi:v??[],data:O.data,topics:O.topics,strict:h}),H=Qi(O,{args:F,eventName:L});c([H])}catch(L){let F,H;if(L instanceof md||L instanceof kp){if(f)return;F=L.abiItem.name,H=(z=L.abiItem.inputs)==null?void 0:z.some(M=>!("name"in M&&M.name))}const G=Qi(O,{args:H?[]:{},eventName:F});c([G])}},onError(N){a==null||a(N)}});b=S,y||b()}catch(I){a==null||a(I)}})(),()=>b()})()}function mX(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:i=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const u=un(["watchPendingTransactions",e.uid,t,i]);return wa(u,{onTransactions:r,onError:n},l=>{let f;const d=rf(async()=>{var h;try{if(!f)try{f=await Ee(e,yO,"createPendingTransactionFilter")({});return}catch(m){throw d(),m}const p=await Ee(e,kg,"getFilterChanges")({filter:f});if(p.length===0)return;if(t)l.onTransactions(p);else for(const m of p)l.onTransactions([m])}catch(p){(h=l.onError)==null||h.call(l,p)}},{emitOnBegin:!0,interval:i});return async()=>{f&&await Ee(e,Cg,"uninstallFilter")({filter:f}),d()}})})():(()=>{let u=!0,l=()=>u=!1;return(async()=>{try{const{unsubscribe:f}=await e.transport.subscribe({params:["newPendingTransactions"],onData(d){if(!u)return;const h=d.result;r([h])},onError(d){n==null||n(d)}});l=f,u||l()}catch(f){n==null||n(f)}})(),()=>l()})()}function yX(e){var f,d,h;const{scheme:t,statement:n,...r}=((f=e.match(gX))==null?void 0:f.groups)??{},{chainId:s,expirationTime:i,issuedAt:o,notBefore:a,requestId:c,...u}=((d=e.match(wX))==null?void 0:d.groups)??{},l=(h=e.split("Resources:")[1])==null?void 0:h.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...i?{expirationTime:new Date(i)}:{},...o?{issuedAt:new Date(o)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...l?{resources:l}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const gX=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,wX=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function bX(e){const{address:t,domain:n,message:r,nonce:s,scheme:i,time:o=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||i&&r.scheme!==i||r.expirationTime&&o>=r.expirationTime||r.notBefore&&o<r.notBefore)return!1;try{if(!r.address||!Pt(r.address,{strict:!1})||t&&!So(r.address,t))return!1}catch{return!1}return!0}async function vX(e,t){const{address:n,domain:r,message:s,nonce:i,scheme:o,signature:a,time:c=new Date,...u}=t,l=yX(s);if(!l.address||!bX({address:n,domain:r,message:l,nonce:i,scheme:o,time:c}))return!1;const d=Ng(s);return Lg(e,{address:l.address,hash:d,signature:a,...u})}async function Bx(e,{serializedTransaction:t,throwOnReceiptRevert:n,timeout:r}){var a,c,u;const s=await e.request({method:"eth_sendRawTransactionSync",params:r?[t,oe(r)]:[t]},{retryCount:0}),o=(((u=(c=(a=e.chain)==null?void 0:a.formatters)==null?void 0:c.transactionReceipt)==null?void 0:u.format)||_g)(s);if(o.status==="reverted"&&n)throw new iN({receipt:o});return o}function Nx(e){return{call:t=>Op(e,t),createAccessList:t=>pO(e,t),createBlockFilter:()=>LQ(e),createContractEventFilter:t=>I6(e,t),createEventFilter:t=>mO(e,t),createPendingTransactionFilter:()=>yO(e),estimateContractGas:t=>kN(e,t),estimateGas:t=>Eg(e,t),getBalance:t=>dx(e,t),getBlobBaseFee:()=>$Q(e),getBlock:t=>$i(e,t),getBlockNumber:t=>Ju(e,t),getBlockTransactionCount:t=>zQ(e,t),getBytecode:t=>sy(e,t),getChainId:()=>ga(e),getCode:t=>sy(e,t),getContractEvents:t=>V6(e,t),getEip712Domain:t=>HQ(e,t),getEnsAddress:t=>oO(e,t),getEnsAvatar:t=>fO(e,t),getEnsName:t=>hO(e,t),getEnsResolver:t=>UQ(e,t),getEnsText:t=>dO(e,t),getFeeHistory:t=>GQ(e,t),estimateFeesPerGas:t=>kK(e,t),getFilterChanges:t=>kg(e,t),getFilterLogs:t=>VQ(e,t),getGasPrice:()=>L6(e),getLogs:t=>G6(e,t),getProof:t=>GZ(e,t),estimateMaxPriorityFeePerGas:t=>SK(e,t),getStorageAt:t=>VZ(e,t),getTransaction:t=>_x(e,t),getTransactionConfirmations:t=>KZ(e,t),getTransactionCount:t=>gg(e,t),getTransactionReceipt:t=>hm(e,t),multicall:t=>Up(e,t),prepareTransactionRequest:t=>Mp(e,t),readContract:t=>Jn(e,t),sendRawTransaction:t=>sx(e,t),sendRawTransactionSync:t=>Bx(e,t),simulate:t=>l2(e,t),simulateBlocks:t=>l2(e,t),simulateCalls:t=>rX(e,t),simulateContract:t=>WN(e,t),verifyHash:t=>Lg(e,t),verifyMessage:t=>dX(e,t),verifySiweMessage:t=>vX(e,t),verifyTypedData:t=>fX(e,t),uninstallFilter:t=>Cg(e,t),waitForTransactionReceipt:t=>Mx(e,t),watchBlocks:t=>hX(e,t),watchBlockNumber:t=>fP(e,t),watchContractEvent:t=>VN(e,t),watchEvent:t=>pX(e,t),watchPendingTransactions:t=>mX(e,t)}}function EX(e){const{key:t="public",name:n="Public Client"}=e;return el({...e,key:t,name:n,type:"publicClient"}).extend(Nx)}async function xX(e,{hash:t}){await e.request({method:`${e.mode}_dropTransaction`,params:[t]})}async function AX(e){return e.request({method:`${e.mode}_dumpState`})}async function IX(e){return e.mode==="ganache"?await e.request({method:"eth_mining"}):await e.request({method:`${e.mode}_getAutomine`})}async function SX(e){return await e.request({method:"txpool_content"})}async function kX(e){const{pending:t,queued:n}=await e.request({method:"txpool_status"});return{pending:Mt(t),queued:Mt(n)}}async function CX(e,{address:t}){await e.request({method:`${e.mode}_impersonateAccount`,params:[t]})}async function TX(e,{seconds:t}){return await e.request({method:"evm_increaseTime",params:[oe(t)]})}async function _X(e){return await e.request({method:"txpool_inspect"})}async function MX(e,{state:t}){await e.request({method:`${e.mode}_loadState`,params:[t]})}async function BX(e,{blocks:t,interval:n}){e.mode==="ganache"?await e.request({method:"evm_mine",params:[{blocks:oe(t)}]}):await e.request({method:`${e.mode}_mine`,params:[oe(t),oe(n||0)]})}async function NX(e){await e.request({method:`${e.mode}_removeBlockTimestampInterval`})}async function OX(e,{blockNumber:t,jsonRpcUrl:n}={}){await e.request({method:`${e.mode}_reset`,params:[{forking:{blockNumber:Number(t),jsonRpcUrl:n}}]})}async function PX(e,{id:t}){await e.request({method:"evm_revert",params:[t]})}async function jX(e,t){var b,I,v;const{accessList:n,data:r,from:s,gas:i,gasPrice:o,maxFeePerGas:a,maxPriorityFeePerGas:c,nonce:u,to:l,value:f,...d}=t,h=(v=(I=(b=e.chain)==null?void 0:b.formatters)==null?void 0:I.transactionRequest)==null?void 0:v.format,m=(h||Ji)({...Yu(d,{format:h}),accessList:n,data:r,from:s,gas:i,gasPrice:o,maxFeePerGas:a,maxPriorityFeePerGas:c,nonce:u,to:l,value:f},"sendUnsignedTransaction");return await e.request({method:"eth_sendUnsignedTransaction",params:[m]})}async function RX(e,t){e.mode==="ganache"?t?await e.request({method:"miner_start"}):await e.request({method:"miner_stop"}):await e.request({method:"evm_setAutomine",params:[t]})}async function DX(e,{address:t,value:n}){e.mode==="ganache"?await e.request({method:"evm_setAccountBalance",params:[t,oe(n)]}):await e.request({method:`${e.mode}_setBalance`,params:[t,oe(n)]})}async function UX(e,{gasLimit:t}){await e.request({method:"evm_setBlockGasLimit",params:[oe(t)]})}async function LX(e,{interval:t}){const n=e.mode==="hardhat"?t*1e3:t;await e.request({method:`${e.mode}_setBlockTimestampInterval`,params:[n]})}async function $X(e,{address:t,bytecode:n}){e.mode==="ganache"?await e.request({method:"evm_setAccountCode",params:[t,n]}):await e.request({method:`${e.mode}_setCode`,params:[t,n]})}async function zX(e,{address:t}){await e.request({method:`${e.mode}_setCoinbase`,params:[t]})}async function FX(e,{interval:t}){const n=e.mode==="hardhat"?t*1e3:t;await e.request({method:"evm_setIntervalMining",params:[n]})}async function HX(e,t){await e.request({method:`${e.mode}_setLoggingEnabled`,params:[t]})}async function qX(e,{gasPrice:t}){await e.request({method:`${e.mode}_setMinGasPrice`,params:[oe(t)]})}async function WX(e,{baseFeePerGas:t}){await e.request({method:`${e.mode}_setNextBlockBaseFeePerGas`,params:[oe(t)]})}async function GX(e,{timestamp:t}){await e.request({method:"evm_setNextBlockTimestamp",params:[oe(t)]})}async function VX(e,{address:t,nonce:n}){await e.request({method:`${e.mode}_setNonce`,params:[t,oe(n)]})}async function KX(e,t){await e.request({method:`${e.mode}_setRpcUrl`,params:[t]})}async function QX(e,{address:t,index:n,value:r}){await e.request({method:`${e.mode}_setStorageAt`,params:[t,typeof n=="number"?oe(n):n,r]})}async function YX(e){return await e.request({method:"evm_snapshot"})}async function ZX(e,{address:t}){await e.request({method:`${e.mode}_stopImpersonatingAccount`,params:[t]})}function hP({mode:e}){return t=>{const n=t.extend(()=>({mode:e}));return{dropTransaction:r=>xX(n,r),dumpState:()=>AX(n),getAutomine:()=>IX(n),getTxpoolContent:()=>SX(n),getTxpoolStatus:()=>kX(n),impersonateAccount:r=>CX(n,r),increaseTime:r=>TX(n,r),inspectTxpool:()=>_X(n),loadState:r=>MX(n,r),mine:r=>BX(n,r),removeBlockTimestampInterval:()=>NX(n),reset:r=>OX(n,r),revert:r=>PX(n,r),sendUnsignedTransaction:r=>jX(n,r),setAutomine:r=>RX(n,r),setBalance:r=>DX(n,r),setBlockGasLimit:r=>UX(n,r),setBlockTimestampInterval:r=>LX(n,r),setCode:r=>$X(n,r),setCoinbase:r=>zX(n,r),setIntervalMining:r=>FX(n,r),setLoggingEnabled:r=>HX(n,r),setMinGasPrice:r=>qX(n,r),setNextBlockBaseFeePerGas:r=>WX(n,r),setNextBlockTimestamp:r=>GX(n,r),setNonce:r=>VX(n,r),setRpcUrl:r=>KX(n,r),setStorageAt:r=>QX(n,r),snapshot:()=>YX(n),stopImpersonatingAccount:r=>ZX(n,r)}}}function XX(e){const{key:t="test",name:n="Test Client",mode:r}=e;return el({...e,key:t,name:n,type:"testClient"}).extend(i=>({mode:r,...hP({mode:r})(i)}))}async function JX(e,{chain:t}){const{id:n,name:r,nativeCurrency:s,rpcUrls:i,blockExplorers:o}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:oe(n),chainName:r,nativeCurrency:s,rpcUrls:i.default.http,blockExplorerUrls:o?Object.values(o).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}function eJ(e,t){const{abi:n,args:r,bytecode:s,...i}=t,o=Np({abi:n,args:r,bytecode:s});return sf(e,{...i,...i.authorizationList?{to:null}:{},data:o})}async function pP(e){var n;return((n=e.account)==null?void 0:n.type)==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(r=>Zd(r))}async function mP(e,t={}){const{account:n=e.account,chainId:r}=t,s=n?nn(n):void 0,i=r?[s==null?void 0:s.address,[oe(r)]]:[s==null?void 0:s.address],o=await e.request({method:"wallet_getCapabilities",params:i}),a={};for(const[c,u]of Object.entries(o)){a[Number(c)]={};for(let[l,f]of Object.entries(u))l==="addSubAccount"&&(l="unstable_addSubAccount"),a[Number(c)][l]=f}return typeof r=="number"?a[r]:a}async function tJ(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}async function yP(e,t){var c;const{account:n=e.account,chainId:r,nonce:s}=t;if(!n)throw new Ta({docsPath:"/docs/eip7702/prepareAuthorization"});const i=nn(n),o=(()=>{if(t.executor)return t.executor==="self"?t.executor:nn(t.executor)})(),a={address:t.contractAddress??t.address,chainId:r,nonce:s};return typeof a.chainId>"u"&&(a.chainId=((c=e.chain)==null?void 0:c.id)??await Ee(e,ga,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await Ee(e,gg,"getTransactionCount")({address:i.address,blockTag:"pending"}),(o==="self"||o!=null&&o.address&&So(o.address,i.address))&&(a.nonce+=1)),a}async function nJ(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>St(n))}async function rJ(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}async function sJ(e,t){const{chain:n=e.chain}=t,r=t.timeout??Math.max(((n==null?void 0:n.blockTime)??0)*3,5e3),s=await ox(e,t);return await ax(e,{...t,id:s.id,timeout:r})}const M1=new Yd(128);async function gP(e,t){var S,N,O,z;const{account:n=e.account,chain:r=e.chain,accessList:s,authorizationList:i,blobs:o,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:l,maxFeePerGas:f,maxPriorityFeePerGas:d,nonce:h,pollingInterval:p,throwOnReceiptRevert:m,type:y,value:b,...I}=t,v=t.timeout??Math.max(((r==null?void 0:r.blockTime)??0)*3,5e3);if(typeof n>"u")throw new Ta({docsPath:"/docs/actions/wallet/sendTransactionSync"});const E=n?nn(n):null;try{Io(t);const L=await(async()=>{if(t.to)return t.to;if(t.to!==null&&i&&i.length>0)return await lg({authorization:i[0]}).catch(()=>{throw new re("`to` is required. Could not infer from `authorizationList`.")})})();if((E==null?void 0:E.type)==="json-rpc"||E===null){let F;r!==null&&(F=await Ee(e,ga,"getChainId")({}),Tg({currentChainId:F,chain:r}));const H=(O=(N=(S=e.chain)==null?void 0:S.formatters)==null?void 0:N.transactionRequest)==null?void 0:O.format,M=(H||Ji)({...Yu(I,{format:H}),accessList:s,authorizationList:i,blobs:o,chainId:F,data:a,from:E==null?void 0:E.address,gas:c,gasPrice:u,maxFeePerBlobGas:l,maxFeePerGas:f,maxPriorityFeePerGas:d,nonce:h,to:L,type:y,value:b},"sendTransaction"),g=M1.get(e.uid),w=g?"wallet_sendTransaction":"eth_sendTransaction",T=await(async()=>{try{return await e.request({method:w,params:[M]},{retryCount:0})}catch(x){if(g===!1)throw x;const j=x;if(j.name==="InvalidInputRpcError"||j.name==="InvalidParamsRpcError"||j.name==="MethodNotFoundRpcError"||j.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[M]},{retryCount:0}).then(D=>(M1.set(e.uid,!0),D)).catch(D=>{const P=D;throw P.name==="MethodNotFoundRpcError"||P.name==="MethodNotSupportedRpcError"?(M1.set(e.uid,!1),j):P});throw j}})(),_=await Ee(e,Mx,"waitForTransactionReceipt")({checkReplacement:!1,hash:T,pollingInterval:p,timeout:v});if(m&&_.status==="reverted")throw new iN({receipt:_});return _}if((E==null?void 0:E.type)==="local"){const F=await Ee(e,Mp,"prepareTransactionRequest")({account:E,accessList:s,authorizationList:i,blobs:o,chain:r,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:l,maxFeePerGas:f,maxPriorityFeePerGas:d,nonce:h,nonceManager:E.nonceManager,parameters:[...W6,"sidecars"],type:y,value:b,...I,to:L}),H=(z=r==null?void 0:r.serializers)==null?void 0:z.transaction,G=await E.signTransaction(F,{serializer:H});return await Ee(e,Bx,"sendRawTransactionSync")({serializedTransaction:G,throwOnReceiptRevert:m})}throw(E==null?void 0:E.type)==="smart"?new mu({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new mu({docsPath:"/docs/actions/wallet/sendTransactionSync",type:E==null?void 0:E.type})}catch(L){throw L instanceof mu?L:rx(L,{...t,account:E,chain:t.chain||void 0})}}async function iJ(e,t){const{id:n}=t;await e.request({method:"wallet_showCallsStatus",params:[n]})}async function oJ(e,t){const{account:n=e.account}=t;if(!n)throw new Ta({docsPath:"/docs/eip7702/signAuthorization"});const r=nn(n);if(!r.signAuthorization)throw new mu({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const s=await yP(e,t);return r.signAuthorization(s)}async function wP(e,{account:t=e.account,message:n}){if(!t)throw new Ta({docsPath:"/docs/actions/wallet/signMessage"});const r=nn(t);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?wc(n):n.raw instanceof Uint8Array?pt(n.raw):n.raw;return e.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function aJ(e,t){var u,l,f,d;const{account:n=e.account,chain:r=e.chain,...s}=t;if(!n)throw new Ta({docsPath:"/docs/actions/wallet/signTransaction"});const i=nn(n);Io({account:i,...t});const o=await Ee(e,ga,"getChainId")({});r!==null&&Tg({currentChainId:o,chain:r});const a=(r==null?void 0:r.formatters)||((u=e.chain)==null?void 0:u.formatters),c=((l=a==null?void 0:a.transactionRequest)==null?void 0:l.format)||Ji;return i.signTransaction?i.signTransaction({...s,chainId:o},{serializer:(d=(f=e.chain)==null?void 0:f.serializers)==null?void 0:d.transaction}):await e.request({method:"eth_signTransaction",params:[{...c(s,"signTransaction"),chainId:oe(o),from:i.address}]},{retryCount:0})}async function _h(e,t){const{account:n=e.account,domain:r,message:s,primaryType:i}=t;if(!n)throw new Ta({docsPath:"/docs/actions/wallet/signTypedData"});const o=nn(n),a={EIP712Domain:Og({domain:r}),...t.types};if(yx({domain:r,message:s,primaryType:i,types:a}),o.signTypedData)return o.signTypedData({domain:r,message:s,primaryType:i,types:a});const c=NO({domain:r,message:s,primaryType:i,types:a});return e.request({method:"eth_signTypedData_v4",params:[o.address,c]},{retryCount:0})}async function cJ(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:oe(t)}]},{retryCount:0})}async function uJ(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}async function lJ(e,t){return Od.internal(e,gP,"sendTransactionSync",t)}function Ox(e){return{addChain:t=>JX(e,t),deployContract:t=>eJ(e,t),getAddresses:()=>pP(e),getCallsStatus:t=>XN(e,t),getCapabilities:t=>mP(e,t),getChainId:()=>ga(e),getPermissions:()=>tJ(e),prepareAuthorization:t=>yP(e,t),prepareTransactionRequest:t=>Mp(e,t),requestAddresses:()=>nJ(e),requestPermissions:t=>rJ(e,t),sendCalls:t=>ox(e,t),sendCallsSync:t=>sJ(e,t),sendRawTransaction:t=>sx(e,t),sendRawTransactionSync:t=>Bx(e,t),sendTransaction:t=>sf(e,t),sendTransactionSync:t=>gP(e,t),showCallsStatus:t=>iJ(e,t),signAuthorization:t=>oJ(e,t),signMessage:t=>wP(e,t),signTransaction:t=>aJ(e,t),signTypedData:t=>_h(e,t),switchChain:t=>cJ(e,t),waitForCallsStatus:t=>ax(e,t),watchAsset:t=>uJ(e,t),writeContract:t=>Od(e,t),writeContractSync:t=>lJ(e,t)}}function dJ(e){const{key:t="wallet",name:n="Wallet Client",transport:r}=e;return el({...e,key:t,name:n,transport:r,type:"walletClient"}).extend(Ox)}function Lp({key:e,methods:t,name:n,request:r,retryCount:s=3,retryDelay:i=150,timeout:o,type:a},c){const u=eO();return{config:{key:e,methods:t,name:n,request:r,retryCount:s,retryDelay:i,timeout:o,type:a},request:sY(r,{methods:t,retryCount:s,retryDelay:i,uid:u}),value:c}}function bP(e,t={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:i}=t;return({retryCount:o})=>Lp({key:n,methods:r,name:s,request:e.request.bind(e),retryCount:t.retryCount??o,retryDelay:i,type:"custom"})}function vP(e,t={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,shouldThrow:i=EP,retryCount:o,retryDelay:a}=t;return({chain:c,pollingInterval:u=4e3,timeout:l,...f})=>{let d=e,h=()=>{};const p=Lp({key:n,name:r,async request({method:m,params:y}){let b;const I=async(v=0)=>{const E=d[v]({...f,chain:c,retryCount:0,timeout:l});try{const S=await E.request({method:m,params:y});return h({method:m,params:y,response:S,transport:E,status:"success"}),S}catch(S){if(h({error:S,method:m,params:y,transport:E,status:"error"}),i(S)||v===d.length-1||(b??(b=d.slice(v+1).some(N=>{const{include:O,exclude:z}=N({chain:c}).config.methods||{};return O?O.includes(m):z?!z.includes(m):!0})),!b))throw S;return I(v+1)}};return I()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:m=>h=m,transports:d.map(m=>m({chain:c,retryCount:0}))});if(s){const m=typeof s=="object"?s:{};fJ({chain:c,interval:m.interval??u,onTransports:y=>d=y,ping:m.ping,sampleCount:m.sampleCount,timeout:m.timeout,transports:d,weights:m.weights})}return p}}function EP(e){return!!("code"in e&&typeof e.code=="number"&&(e.code===ku.code||e.code===wt.code||ac.nodeMessage.test(e.message)||e.code===5e3))}function fJ({chain:e,interval:t=4e3,onTransports:n,ping:r,sampleCount:s=10,timeout:i=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:u=.3}=a,l=[],f=async()=>{const d=await Promise.all(o.map(async m=>{const y=m({chain:e,retryCount:0,timeout:i}),b=Date.now();let I,v;try{await(r?r({transport:y}):y.request({method:"net_listening"})),v=1}catch{v=0}finally{I=Date.now()}return{latency:I-b,success:v}}));l.push(d),l.length>s&&l.shift();const h=Math.max(...l.map(m=>Math.max(...m.map(({latency:y})=>y)))),p=o.map((m,y)=>{const b=l.map(N=>N[y].latency),v=1-b.reduce((N,O)=>N+O,0)/b.length/h,E=l.map(N=>N[y].success),S=E.reduce((N,O)=>N+O,0)/E.length;return S===0?[0,y]:[u*v+c*S,y]}).sort((m,y)=>y[0]-m[0]);n(p.map(([,m])=>o[m])),await ry(t),f()};f()}let Px=class extends re{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}};function jx(e,t={}){const{batch:n,fetchFn:r,fetchOptions:s,key:i="http",methods:o,name:a="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:u,retryDelay:l,raw:f}=t;return({chain:d,retryCount:h,timeout:p})=>{const{batchSize:m=1e3,wait:y=0}=typeof n=="object"?n:{},b=t.retryCount??h,I=p??t.timeout??1e4,v=e||(d==null?void 0:d.rpcUrls.default.http[0]);if(!v)throw new Px;const E=yY(v,{fetchFn:r,fetchOptions:s,onRequest:c,onResponse:u,timeout:I});return Lp({key:i,methods:o,name:a,async request({method:S,params:N}){const O={method:S,params:N},{schedule:z}=nx({id:v,wait:y,shouldSplitBatch(G){return G.length>m},fn:G=>E.request({body:G}),sort:(G,M)=>G.id-M.id}),L=async G=>n?z(G):[await E.request({body:G})],[{error:F,result:H}]=await L(O);if(f)return{error:F,result:H};if(F)throw new _p({body:O,error:F,url:v});return H},retryCount:b,retryDelay:l,timeout:I,type:"http"},{fetchOptions:s,url:v})}}function xP(e,t={}){const{keepAlive:n,key:r="webSocket",methods:s,name:i="WebSocket JSON-RPC",reconnect:o,retryDelay:a}=t;return({chain:c,retryCount:u,timeout:l})=>{var m;const f=t.retryCount??u,d=l??t.timeout??1e4,h=e||((m=c==null?void 0:c.rpcUrls.default.webSocket)==null?void 0:m[0]),p={keepAlive:n,reconnect:o};if(!h)throw new Px;return Lp({key:r,methods:s,name:i,async request({method:y,params:b}){const I={method:y,params:b},v=await fm(h,p),{error:E,result:S}=await v.requestAsync({body:I,timeout:d});if(E)throw new _p({body:I,error:E,url:h});return S},retryCount:f,retryDelay:a,timeout:d,type:"webSocket"},{getSocket(){return wY(h)},getRpcClient(){return fm(h,p)},async subscribe({params:y,onData:b,onError:I}){const v=await fm(h,p),{result:E}=await new Promise((S,N)=>v.request({body:{method:"eth_subscribe",params:y},onError(O){N(O),I==null||I(O)},onResponse(O){if(O.error){N(O.error),I==null||I(O.error);return}if(typeof O.id=="number"){S(O);return}O.method==="eth_subscription"&&b(O.params)}}));return{subscriptionId:E,async unsubscribe(){return new Promise(S=>v.request({body:{method:"eth_unsubscribe",params:[E]},onResponse:S}))}}}})}}class hJ extends Error{constructor(t,n){super(n),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t,this.details=n}}const B1="/docs/contract/decodeDeployData";function pJ(e){const{abi:t,bytecode:n,data:r}=e;if(r===n)return{bytecode:n};const s=t.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new o6({docsPath:B1});if(!("inputs"in s))throw new Ah({docsPath:B1});if(!s.inputs||s.inputs.length===0)throw new Ah({docsPath:B1});return{args:Tc(s.inputs,`0x${r.replace(n,"")}`),bytecode:n}}function mJ(e){const t=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),n=typeof e.blobs[0]=="string"?e.blobs.map(a=>wn(a)):e.blobs,r=n.reduce((a,c)=>a+c.length,0),s=wd(new Uint8Array(r));let i=!0;for(const a of n){const c=wd(a);for(;i&&c.position<a.length;){c.incrementPosition(1);let u=31;a.length-c.position<31&&(u=a.length-c.position);for(const l in Array.from({length:u})){const f=c.readByte();if(f===128&&!c.inspectBytes(c.remaining).includes(128)){i=!1;break}s.pushByte(f)}}}const o=s.bytes.slice(0,s.position);return t==="hex"?Ut(o):o}function yJ(e){const{sidecars:t,version:n}=e,r=e.to??(typeof t[0].blob=="string"?"hex":"bytes"),s=[];for(const{commitment:i}of t)s.push(z6({commitment:i,to:r,version:n}));return s}const gJ=2147483648;function wJ(e){if(e===1)return 60n;if(e>=gJ||e<0)throw new cO({chainId:e});return BigInt((2147483648|e)>>>0)}function AP({blobToKzgCommitment:e,computeBlobKzgProof:t}){return{blobToKzgCommitment:e,computeBlobKzgProof:t}}function bJ(e,t){try{e.loadTrustedSetup(t)}catch(n){const r=n;if(!r.message.includes("trusted setup is already loaded"))throw r}return AP(e)}function vJ({r:e,yParityAndS:t}){const n=wn(t),r=n[0]&128?1:0,s=n;return r===1&&(s[0]&=127),{r:e,s:Ut(s),yParity:r}}function Q3(e){const{r:t,s:n}=Kd.Signature.fromCompact(e.slice(2,130));return{r:oe(t,{size:32}),yParityAndS:oe(n,{size:32})}}function p2(e){const{r:t,s:n}=Kd.Signature.fromCompact(e.slice(2,130)),r=+`0x${e.slice(130)}`,[s,i]=(()=>{if(r===0||r===1)return[void 0,r];if(r===27)return[BigInt(r),0];if(r===28)return[BigInt(r),1];throw new Error("Invalid yParityOrV value")})();return typeof s<"u"?{r:oe(t,{size:32}),s:oe(n,{size:32}),v:s,yParity:i}:{r:oe(t,{size:32}),s:oe(n,{size:32}),yParity:i}}async function EJ(e){const{serializedTransaction:t,signature:n}=e,r=iP(t),s=n??{r:r.r,s:r.s,v:r.v,yParity:r.yParity},i=Bg({...r,r:void 0,s:void 0,v:void 0,yParity:void 0,sidecars:void 0});return await Qu({hash:zt(i),signature:s})}function Y3({r:e,yParityAndS:t}){return`0x${new Kd.Signature(Ge(e),Ge(t)).toCompactHex()}`}function xJ(e){const{r:t,s:n,v:r,yParity:s}=e,i=Number(s??r-27n);let o=n;if(i===1){const a=wn(n);a[0]|=128,o=Ut(a)}return{r:t,yParityAndS:o}}const F1e=Object.freeze(Object.defineProperty({__proto__:null,AbiConstructorNotFoundError:o6,AbiConstructorParamsNotFoundError:Ah,AbiDecodingDataSizeInvalidError:KW,AbiDecodingDataSizeTooSmallError:a6,AbiDecodingZeroDataError:Qd,AbiEncodingArrayLengthMismatchError:SB,AbiEncodingBytesSizeMismatchError:kB,AbiEncodingLengthMismatchError:c6,AbiErrorInputsNotFoundError:CB,AbiErrorNotFoundError:Vv,AbiErrorSignatureNotFoundError:u6,AbiEventNotFoundError:Kv,AbiEventSignatureEmptyTopicsError:TB,AbiEventSignatureNotFoundError:l6,AbiFunctionNotFoundError:Au,AbiFunctionOutputsNotFoundError:d6,AbiFunctionSignatureNotFoundError:_B,AccountStateConflictError:XB,AtomicReadyWalletRejectedUpgradeError:_u,AtomicityNotSupportedError:Mu,BaseError:re,BaseFeeScalarError:wN,BlockNotFoundError:D6,BundleFailedError:KN,BundleTooLargeError:Nd,BytesSizeMismatchError:f6,CallExecutionError:P6,ChainDisconnectedError:Td,ChainDoesNotSupportContract:ny,ChainMismatchError:FN,ChainNotFoundError:HN,CircularReferenceError:bB,ClientChainNotConfiguredError:J6,ContractFunctionExecutionError:ug,ContractFunctionRevertedError:Wm,ContractFunctionZeroDataError:aN,CounterfactualDeploymentFailedError:cN,DecodeLogDataMismatch:md,DecodeLogTopicsMismatch:kp,DuplicateIdError:Md,EIP1193ProviderRpcError:hJ,Eip1559FeesNotSupportedError:hg,EnsAvatarInvalidNftUriError:Sl,EnsAvatarUnsupportedNamespaceError:aO,EnsAvatarUriResolutionError:Mg,EnsInvalidChainIdError:cO,EstimateGasExecutionError:mN,ExecutionRevertedError:ac,FeeCapTooHighError:ya,FeeCapTooLowError:Vm,FeeConflictError:eN,FilterTypeNotSupportedError:PB,HttpRequestError:pc,InsufficientFundsError:Zm,IntegerOutOfRangeError:y6,InternalRpcError:bc,IntrinsicGasTooHighError:Xm,IntrinsicGasTooLowError:Jm,InvalidAbiDecodingTypeError:BB,InvalidAbiEncodingTypeError:MB,InvalidAbiItemError:cB,InvalidAbiParameterError:lB,InvalidAbiParametersError:dB,InvalidAbiTypeParameterError:yB,InvalidAddressError:bn,InvalidArrayError:h6,InvalidBytesBooleanError:RB,InvalidChainIdError:Zu,InvalidDecimalNumberError:oP,InvalidDefinitionTypeError:NB,InvalidDomainError:_O,InvalidFunctionModifierError:mB,InvalidHexBooleanError:DB,InvalidHexValueError:UB,InvalidInputRpcError:vc,InvalidLegacyVError:B6,InvalidModifierError:pB,InvalidParameterError:fB,InvalidParamsRpcError:xd,InvalidParenthesisError:vB,InvalidPrimaryTypeError:MO,InvalidRequestRpcError:vd,InvalidSerializableTransactionError:tN,InvalidSerializedTransactionError:Jd,InvalidSerializedTransactionTypeError:nN,InvalidSignatureError:Vu,InvalidStorageKeySizeError:rN,InvalidStructSignatureError:wB,InvalidStructTypeError:BO,JsonRpcVersionUnsupportedError:Id,LimitExceededRpcError:Cu,MaxFeePerGasTooLowError:bN,MethodNotFoundRpcError:Ed,MethodNotSupportedRpcError:Ol,NonceMaxValueError:Ym,NonceTooHighError:Km,NonceTooLowError:Qm,ParseRpcError:bd,ProviderDisconnectedError:Cd,ProviderRpcError:Ns,RawContractError:Tp,ResourceNotFoundRpcError:Ad,ResourceUnavailableRpcError:qi,RpcError:ds,RpcRequestError:_p,SizeExceedsPaddingSizeError:m6,SizeOverflowError:LB,SliceOffsetOutOfBoundsError:p6,SocketClosedError:Sh,SolidityProtectedKeywordError:hB,StateAssignmentConflictError:JB,SwitchChainError:cr,TimeoutError:Gm,TipAboveFeeCapError:Bu,TransactionExecutionError:sN,TransactionNotFoundError:N6,TransactionReceiptNotFoundError:O6,TransactionRejectedRpcError:ku,TransactionTypeNotSupportedError:ey,UnauthorizedProviderError:Sd,UnknownBundleIdError:Bd,UnknownNodeError:ef,UnknownRpcError:dN,UnknownSignatureError:gB,UnknownTypeError:uB,UnsupportedChainIdError:_d,UnsupportedNonOptionalCapabilityError:Tu,UnsupportedPackedAbiType:OB,UnsupportedProviderMethodError:kd,UrlRequiredError:Px,UserRejectedRequestError:wt,WaitForCallsStatusTimeoutError:JN,WaitForTransactionReceiptTimeoutError:oN,WebSocketRequestError:Zv,assertCurrentChain:Tg,assertRequest:Io,assertTransactionEIP1559:jp,assertTransactionEIP2930:fx,assertTransactionLegacy:hx,blobsToCommitments:wg,blobsToProofs:bg,boolToBytes:$B,boolToHex:og,bytesToBigInt:S6,bytesToBool:k6,bytesToHex:Ut,bytesToNumber:Hi,bytesToRlp:MG,bytesToString:C6,ccipFetch:iy,ccipRequest:iy,checksumAddress:Zd,commitmentToVersionedHash:z6,commitmentsToVersionedHashes:F6,compactSignatureToHex:Y3,compactSignatureToSignature:vJ,concat:os,concatBytes:FB,concatHex:Tr,createClient:el,createNonceManager:kO,createPublicClient:EX,createTestClient:XX,createTransport:Lp,createWalletClient:dJ,custom:bP,decodeAbiParameters:Tc,decodeDeployData:pJ,decodeErrorResult:T6,decodeEventLog:xg,decodeFunctionData:tO,decodeFunctionResult:_c,defineBlock:yg,defineChain:st,defineKzg:AP,defineTransaction:pg,defineTransactionReceipt:ix,defineTransactionRequest:j6,deploylessCallViaBytecodeBytecode:Z6,deploylessCallViaFactoryBytecode:zN,domainSeparator:bY,encodeAbiParameters:Ei,encodeDeployData:Np,encodeErrorResult:r2,encodeEventTopics:Xd,encodeFunctionData:_r,encodeFunctionResult:nO,encodePacked:KQ,erc1155Abi:lQ,erc20Abi:cQ,erc20Abi_bytes32:uQ,erc4626Abi:fQ,erc6492SignatureValidatorAbi:ty,erc6492SignatureValidatorByteCode:t2,erc721Abi:dQ,ethAddress:lP,etherUnits:_6,extractChain:lY,fallback:vP,formatBlock:mg,formatEther:cg,formatGwei:ts,formatLog:Qi,formatTransaction:nf,formatTransactionReceipt:_g,formatTransactionRequest:Ji,formatUnits:Su,fromBlobs:mJ,fromBytes:gG,fromHex:YW,fromRlp:mx,getAbiItem:Cc,getAddress:St,getChainContractAddress:Xu,getContract:AQ,getContractAddress:QQ,getContractError:Ec,getCreate2Address:bO,getCreateAddress:wO,getEventSelector:yd,getEventSignature:Hf,getFunctionSelector:Iu,getFunctionSignature:Hf,getSerializedTransactionType:sP,getTransactionType:q6,getTypesForEIP712Domain:Og,gweiUnits:M6,hashDomain:wx,hashMessage:Ng,hashStruct:bx,hashTypedData:gx,hexToBigInt:Ge,hexToBool:g6,hexToBytes:wn,hexToCompactSignature:Q3,hexToNumber:Mt,hexToRlp:BG,hexToSignature:p2,hexToString:w6,http:jx,isAddress:Pt,isAddressEqual:So,isBytes:s2,isErc6492Signature:DO,isErc8010Signature:tP,isHash:SO,isHex:rt,keccak256:zt,labelhash:iO,maxInt104:YG,maxInt112:ZG,maxInt120:XG,maxInt128:JG,maxInt136:eV,maxInt144:tV,maxInt152:nV,maxInt16:LG,maxInt160:rV,maxInt168:sV,maxInt176:iV,maxInt184:oV,maxInt192:aV,maxInt200:cV,maxInt208:uV,maxInt216:lV,maxInt224:dV,maxInt232:fV,maxInt24:$G,maxInt240:hV,maxInt248:pV,maxInt256:mV,maxInt32:zG,maxInt40:FG,maxInt48:HG,maxInt56:qG,maxInt64:WG,maxInt72:GG,maxInt8:UG,maxInt80:VG,maxInt88:KG,maxInt96:QG,maxUint104:iK,maxUint112:oK,maxUint120:aK,maxUint128:cK,maxUint136:uK,maxUint144:lK,maxUint152:dK,maxUint16:gN,maxUint160:fK,maxUint168:hK,maxUint176:pK,maxUint184:mK,maxUint192:yK,maxUint200:gK,maxUint208:wK,maxUint216:bK,maxUint224:vK,maxUint232:EK,maxUint24:QV,maxUint240:xK,maxUint248:AK,maxUint256:tf,maxUint32:YV,maxUint40:ZV,maxUint48:XV,maxUint56:JV,maxUint64:eK,maxUint72:tK,maxUint8:KV,maxUint80:nK,maxUint88:rK,maxUint96:sK,minInt104:TV,minInt112:_V,minInt120:MV,minInt128:BV,minInt136:NV,minInt144:OV,minInt152:PV,minInt16:gV,minInt160:jV,minInt168:RV,minInt176:DV,minInt184:UV,minInt192:LV,minInt200:$V,minInt208:zV,minInt216:FV,minInt224:HV,minInt232:qV,minInt24:wV,minInt240:WV,minInt248:GV,minInt256:VV,minInt32:bV,minInt40:vV,minInt48:EV,minInt56:xV,minInt64:AV,minInt72:IV,minInt8:yV,minInt80:SV,minInt88:kV,minInt96:CV,multicall3Abi:kh,namehash:Ch,nonceManager:pY,numberToBytes:zB,numberToHex:oe,offchainLookup:AO,offchainLookupAbiItem:px,offchainLookupSignature:xO,pad:Is,padBytes:jB,padHex:Fi,parseAbi:Ca,parseAbiItem:Wv,parseAbiParameter:WW,parseAbiParameters:xh,parseCompactSignature:Q3,parseErc6492Signature:_Z,parseErc8010Signature:MZ,parseEther:FZ,parseEventLogs:Ag,parseGwei:HZ,parseSignature:p2,parseTransaction:iP,parseUnits:Tx,prepareEncodeFunctionData:VB,presignMessagePrefix:CO,publicActions:Nx,recoverAddress:Qu,recoverMessageAddress:nP,recoverPublicKey:fN,recoverTransactionAddress:EJ,recoverTypedDataAddress:rP,ripemd160:fY,rpcSchema:IQ,rpcTransactionType:yN,serializeAccessList:of,serializeCompactSignature:Y3,serializeErc6492Signature:BZ,serializeErc8010Signature:NZ,serializeSignature:h2,serializeTransaction:Bg,serializeTypedData:NO,setErrorConfig:VW,setupKzg:bJ,sha256:$6,shouldThrow:EP,sidecarsToVersionedHashes:yJ,signatureToCompactSignature:xJ,signatureToHex:h2,size:Vt,slice:ma,sliceBytes:b6,sliceHex:gd,stringToBytes:hc,stringToHex:wc,stringify:un,testActions:hP,toBlobSidecars:vg,toBlobs:SN,toBytes:Yn,toCoinType:wJ,toEventHash:qm,toEventSelector:yd,toEventSignature:Hf,toFunctionHash:qm,toFunctionSelector:Iu,toFunctionSignature:Hf,toHex:pt,toPrefixedMessage:TO,toRlp:Ts,transactionType:U6,trim:Zn,universalSignatureValidatorAbi:ty,universalSignatureValidatorByteCode:t2,validateTypedData:yx,verifyHash:OZ,verifyMessage:PZ,verifyTypedData:jZ,walletActions:Ox,webSocket:xP,weiUnits:ZB,withCache:GN,withRetry:xc,withTimeout:tl,zeroAddress:Si,zeroHash:o2},Symbol.toStringTag,{value:"Module"})),Rx=50000n,Z3=gN*32n,IP={block:yg({format(e){var n;const t=(n=e.transactions)==null?void 0:n.map(r=>{var i;if(typeof r=="string")return r;const s=(i=IP.transaction)==null?void 0:i.format(r);return s.typeHex==="0x71"?s.type="eip712":s.typeHex==="0xff"&&(s.type="priority"),s});return{l1BatchNumber:e.l1BatchNumber?Ge(e.l1BatchNumber):null,l1BatchTimestamp:e.l1BatchTimestamp?Ge(e.l1BatchTimestamp):null,transactions:t}}}),transaction:pg({format(e){const t={};return e.type==="0x71"?t.type="eip712":e.type==="0xff"&&(t.type="priority"),{...t,l1BatchNumber:e.l1BatchNumber?Ge(e.l1BatchNumber):null,l1BatchTxIndex:e.l1BatchTxIndex?Ge(e.l1BatchTxIndex):null}}}),transactionReceipt:ix({format(e){return{l1BatchNumber:e.l1BatchNumber?Ge(e.l1BatchNumber):null,l1BatchTxIndex:e.l1BatchTxIndex?Ge(e.l1BatchTxIndex):null,logs:e.logs.map(t=>({...Qi(t),l1BatchNumber:t.l1BatchNumber?Ge(t.l1BatchNumber):null,transactionLogIndex:Mt(t.transactionLogIndex),logType:t.logType})),l2ToL1Logs:e.l2ToL1Logs.map(t=>({blockNumber:Ge(t.blockHash),blockHash:t.blockHash,l1BatchNumber:t.l1BatchNumber?Ge(t.l1BatchNumber):null,transactionIndex:Ge(t.transactionIndex),shardId:Ge(t.shardId),isService:t.isService,sender:t.sender,key:t.key,value:t.value,transactionHash:t.transactionHash,logIndex:Ge(t.logIndex)}))}}}),transactionRequest:j6({exclude:["customSignature","factoryDeps","gasPerPubdata","paymaster","paymasterInput"],format(e){return e.gasPerPubdata||e.paymaster&&e.paymasterInput||e.factoryDeps||e.customSignature?{eip712Meta:{...e.gasPerPubdata?{gasPerPubdata:pt(e.gasPerPubdata)}:{gasPerPubdata:pt(Rx)},...e.paymaster&&e.paymasterInput?{paymasterParams:{paymaster:e.paymaster,paymasterInput:Array.from(wn(e.paymasterInput))}}:{},...e.factoryDeps?{factoryDeps:e.factoryDeps.map(t=>Array.from(wn(t)))}:{},...e.customSignature?{customSignature:Array.from(wn(e.customSignature))}:{}},type:"0x71"}:{}}})};class AJ extends re{constructor(){super(["Transaction is not an EIP712 transaction.","","Transaction must:",'  - include `type: "eip712"`',"  - include one of the following: `customSignature`, `paymaster`, `paymasterInput`, `gasPerPubdata`, `factoryDeps`"].join(`
`),{name:"InvalidEip712TransactionError"})}}function SP(e){return!!(e.type==="eip712"||"customSignature"in e&&e.customSignature||"paymaster"in e&&e.paymaster||"paymasterInput"in e&&e.paymasterInput||"gasPerPubdata"in e&&typeof e.gasPerPubdata=="bigint"||"factoryDeps"in e&&e.factoryDeps)}function kP(e){const{chainId:t,to:n,from:r,paymaster:s,paymasterInput:i}=e;if(!SP(e))throw new AJ;if(!t||t<=0)throw new Zu({chainId:t});if(n&&!Pt(n))throw new bn({address:n});if(r&&!Pt(r))throw new bn({address:r});if(s&&!Pt(s))throw new bn({address:s});if(s&&!i)throw new re("`paymasterInput` must be provided when `paymaster` is defined");if(!s&&i)throw new re("`paymaster` must be provided when `paymasterInput` is defined")}function IJ(e,t){return SP(e)?kJ(e):Bg(e,t)}const SJ={transaction:IJ};function kJ(e){const{chainId:t,gas:n,nonce:r,to:s,from:i,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,customSignature:u,factoryDeps:l,paymaster:f,paymasterInput:d,gasPerPubdata:h,data:p}=e;kP(e);const m=[r?pt(r):"0x",c?pt(c):"0x",a?pt(a):"0x",n?pt(n):"0x",s??"0x",o?pt(o):"0x",p??"0x",pt(t),pt(""),pt(""),pt(t),i??"0x",pt(h||Rx),l??[],u??"0x",f&&d?[f,d]:[]];return Tr(["0x71",Ts(m)])}class CJ extends re{constructor({givenLength:t,maxBytecodeSize:n}){super(`Bytecode cannot be longer than ${n} bytes. Given length: ${t}`,{name:"BytecodeLengthExceedsMaxSizeError"})}}class TJ extends re{constructor({givenLengthInWords:t}){super(`Bytecode length in 32-byte words must be odd. Given length in words: ${t}`,{name:"BytecodeLengthInWordsMustBeOddError"})}}class _J extends re{constructor({givenLength:t}){super(`The bytecode length in bytes must be divisible by 32. Given length: ${t}`,{name:"BytecodeLengthMustBeDivisibleBy32Error"})}}function MJ(e){const t=Yn(e);if(t.length%32!==0)throw new _J({givenLength:t.length});if(t.length>Z3)throw new CJ({givenLength:t.length,maxBytecodeSize:Z3});const n=$6(t),r=Yn(n),s=t.length/32;if(s%2===0)throw new TJ({givenLengthInWords:s});const i=Yn(s),o=Is(i,{size:2}),a=new Uint8Array([1,0]);return r.set(a,0),r.set(o,2),r}const BJ=e=>{kP(e);const t=NJ(e);return{domain:{name:"zkSync",version:"2",chainId:e.chainId},types:{Transaction:[{name:"txType",type:"uint256"},{name:"from",type:"uint256"},{name:"to",type:"uint256"},{name:"gasLimit",type:"uint256"},{name:"gasPerPubdataByteLimit",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymaster",type:"uint256"},{name:"nonce",type:"uint256"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"factoryDeps",type:"bytes32[]"},{name:"paymasterInput",type:"bytes"}]},primaryType:"Transaction",message:t}};function NJ(e){const{gas:t,nonce:n,to:r,from:s,value:i,maxFeePerGas:o,maxPriorityFeePerGas:a,factoryDeps:c,paymaster:u,paymasterInput:l,gasPerPubdata:f,data:d}=e;return{txType:113n,from:BigInt(s),to:r?BigInt(r):0n,gasLimit:t??0n,gasPerPubdataByteLimit:f??Rx,maxFeePerGas:o??0n,maxPriorityFeePerGas:a??0n,paymaster:u?BigInt(u):0n,nonce:n?BigInt(n):0n,value:i??0n,data:d??"0x",factoryDeps:(c==null?void 0:c.map(h=>pt(MJ(h))))??[],paymasterInput:l||"0x"}}const CP={blockTime:1e3,formatters:IP,serializers:SJ,custom:{getEip712Domain:BJ}},H1e=st({...CP,id:2741,name:"Abstract",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://api.mainnet.abs.xyz"],webSocket:["wss://api.mainnet.abs.xyz/ws"]}},blockExplorers:{default:{name:"Etherscan",url:"https://abscan.org"},native:{name:"Abstract Explorer",url:"https://explorer.mainnet.abs.xyz"}},contracts:{multicall3:{address:"0xAa4De41dba0Ca5dCBb288b7cC6b708F3aaC759E7",blockCreated:5288},erc6492Verifier:{address:"0xfB688330379976DA81eB64Fe4BF50d7401763B9C",blockCreated:5263}}}),TP={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},OJ={block:yg({format(e){var n;return{transactions:(n=e.transactions)==null?void 0:n.map(r=>{if(typeof r=="string")return r;const s=nf(r);return s.typeHex==="0x7e"&&(s.isSystemTx=r.isSystemTx,s.mint=r.mint?Ge(r.mint):void 0,s.sourceHash=r.sourceHash,s.type="deposit"),s}),stateRoot:e.stateRoot}}}),transaction:pg({format(e){const t={};return e.type==="0x7e"&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?Ge(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:ix({format(e){return{l1GasPrice:e.l1GasPrice?Ge(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?Ge(e.l1GasUsed):null,l1Fee:e.l1Fee?Ge(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null}}})};function _P(e,t){return RJ(e)?jJ(e):Bg(e,t)}const PJ={transaction:_P};function jJ(e){DJ(e);const{sourceHash:t,data:n,from:r,gas:s,isSystemTx:i,mint:o,to:a,value:c}=e,u=[t,r,a??"0x",o?pt(o):"0x",c?pt(c):"0x",s?pt(s):"0x",i?"0x1":"0x",n??"0x"];return Tr(["0x7e",Ts(u)])}function RJ(e){return e.type==="deposit"||typeof e.sourceHash<"u"}function DJ(e){const{from:t,to:n}=e;if(t&&!Pt(t))throw new bn({address:t});if(n&&!Pt(n))throw new bn({address:n})}const ln={blockTime:2e3,contracts:TP,formatters:OJ,serializers:PJ},UJ=42161,q1e=st({id:33139,name:"Ape Chain",nativeCurrency:{name:"ApeCoin",symbol:"APE",decimals:18},rpcUrls:{default:{http:["https://rpc.apechain.com/http"],webSocket:["wss://rpc.apechain.com/ws"]}},blockExplorers:{default:{name:"Apescan",url:"https://apescan.io",apiUrl:"https://api.apescan.io/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:20889}},sourceId:UJ}),W1e=st({id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockTime:250,rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io",apiUrl:"https://api.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}}),G1e=st({id:1313161554,name:"Aurora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://mainnet.aurora.dev"]}},blockExplorers:{default:{name:"Aurorascan",url:"https://aurorascan.dev",apiUrl:"https://aurorascan.dev/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:62907816}}}),V1e=st({id:43114,name:"Avalanche",blockTime:1700,nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://snowtrace.io",apiUrl:"https://api.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:11907934}}}),Cf=1,LJ=st({...ln,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...ln.contracts,disputeGameFactory:{[Cf]:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{[Cf]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[Cf]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[Cf]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:Cf});({...LJ});const K1e=st({id:80094,name:"Berachain",blockTime:2e3,nativeCurrency:{decimals:18,name:"BERA Token",symbol:"BERA"},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:0},ensRegistry:{address:"0x5b22280886a2f5e09a49bea7e320eab0e5320e28",blockCreated:877007},ensUniversalResolver:{address:"0x4D41762915F83c76EcaF6776d9b08076aA32b492",blockCreated:9310021}},rpcUrls:{default:{http:["https://rpc.berachain.com"]}},blockExplorers:{default:{name:"Berascan",url:"https://berascan.com"}},ensTlds:[".bera"],testnet:!1}),w0=1,Q1e=st({...ln,id:81457,name:"Blast",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.blast.io"]}},blockExplorers:{default:{name:"Blastscan",url:"https://blastscan.io",apiUrl:"https://api.blastscan.io/api"}},contracts:{...ln.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:212929},l2OutputOracle:{[w0]:{address:"0x826D1B0D4111Ad9146Eb8941D7Ca2B6a44215c76",blockCreated:19300358}},portal:{[w0]:{address:"0x0Ec68c5B10F21EFFb74f2A5C61DFe6b08C0Db6Cb",blockCreated:19300357}},l1StandardBridge:{[w0]:{address:"0x697402166Fbf2F22E970df8a6486Ef171dbfc524",blockCreated:19300360}}},sourceId:w0}),N1=1,Y1e=st({...ln,id:60808,name:"BOB",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.gobob.xyz"],webSocket:["wss://rpc.gobob.xyz"]}},blockExplorers:{default:{name:"BOB Explorer",url:"https://explorer.gobob.xyz"}},contracts:{...ln.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:23131},l2OutputOracle:{[N1]:{address:"0xdDa53E23f8a32640b04D7256e651C1db98dB11C1",blockCreated:4462615}},portal:{[N1]:{address:"0x8AdeE124447435fE03e3CD24dF3f4cAE32E65a3E",blockCreated:4462615}}},sourceId:N1}),Z1e=st({id:288,name:"Boba Network",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://mainnet.boba.network"]}},blockExplorers:{default:{name:"BOBAScan",url:"https://bobascan.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:446859}}}),X1e=st({id:56,name:"BNB Smart Chain",blockTime:750,nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}}),$J={estimateFeesPerGas:async e=>{var s;if(!((s=e.request)!=null&&s.feeCurrency))return null;const[t,n]=await Promise.all([zJ(e.client,e.request.feeCurrency),FJ(e.client,e.request.feeCurrency)]);return{maxFeePerGas:e.multiply(t-n)+n,maxPriorityFeePerGas:n}}};async function zJ(e,t){const n=await e.request({method:"eth_gasPrice",params:[t]});return BigInt(n)}async function FJ(e,t){const n=await e.request({method:"eth_maxPriorityFeePerGas",params:[t]});return BigInt(n)}function MP(e){return e===0||e===0n||e===void 0||e===null||e==="0"||e===""||typeof e=="string"&&(Zn(e).toLowerCase()==="0x"||Zn(e).toLowerCase()==="0x00")}function qf(e){return!MP(e)}function HJ(e){return typeof e.maxFeePerGas<"u"&&typeof e.maxPriorityFeePerGas<"u"}function BP(e){return e.type==="cip64"?!0:HJ(e)&&qf(e.feeCurrency)}const qJ={block:yg({format(e){var n;return{transactions:(n=e.transactions)==null?void 0:n.map(r=>typeof r=="string"?r:{...nf(r),...r.gatewayFee?{gatewayFee:Ge(r.gatewayFee),gatewayFeeRecipient:r.gatewayFeeRecipient}:{},feeCurrency:r.feeCurrency})}}}),transaction:pg({format(e){if(e.type==="0x7e")return{isSystemTx:e.isSystemTx,mint:e.mint?Ge(e.mint):void 0,sourceHash:e.sourceHash,type:"deposit"};const t={feeCurrency:e.feeCurrency};return e.type==="0x7b"?t.type="cip64":(e.type==="0x7c"&&(t.type="cip42"),t.gatewayFee=e.gatewayFee?Ge(e.gatewayFee):null,t.gatewayFeeRecipient=e.gatewayFeeRecipient),t}}),transactionRequest:j6({format(e){const t={};return e.feeCurrency&&(t.feeCurrency=e.feeCurrency),BP(e)&&(t.type="0x7b"),t}})};function WJ(e,t){return BP(e)?VJ(e,t):_P(e,t)}const GJ={transaction:WJ};function VJ(e,t){QJ(e);const{chainId:n,gas:r,nonce:s,to:i,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:u,feeCurrency:l,data:f}=e,d=[pt(n),s?pt(s):"0x",c?pt(c):"0x",a?pt(a):"0x",r?pt(r):"0x",i??"0x",o?pt(o):"0x",f??"0x",of(u),l,...af(e,t)];return Tr(["0x7b",Ts(d)])}const KJ=tf;function QJ(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:i,feeCurrency:o}=e;if(t<=0)throw new Zu({chainId:t});if(i&&!Pt(i))throw new bn({address:i});if(r)throw new re("`gasPrice` is not a valid CIP-64 Transaction attribute.");if(qf(s)&&s>KJ)throw new ya({maxFeePerGas:s});if(qf(n)&&qf(s)&&n>s)throw new Bu({maxFeePerGas:s,maxPriorityFeePerGas:n});if(qf(o)&&!Pt(o))throw new re("`feeCurrency` MUST be a token address for CIP-64 transactions.");if(MP(o))throw new re("`feeCurrency` must be provided for CIP-64 transactions.")}const YJ={blockTime:1e3,contracts:TP,formatters:qJ,serializers:GJ,fees:$J},J1e=st({...YJ,id:42220,name:"Celo",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://forno.celo.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://celoscan.io",apiUrl:"https://api.celoscan.io/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:13112599}},testnet:!1}),ZJ=1,ebe=st({id:21e6,name:"Corn",nativeCurrency:{decimals:18,name:"Bitcorn",symbol:"BTCN"},rpcUrls:{default:{http:["https://21000000.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"Corn Explorer",url:"https://cornscan.io",apiUrl:"https://api.routescan.io/v2/network/mainnet/evm/21000000/etherscan/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:3228}},sourceId:ZJ}),tbe=st({id:25,name:"Cronos Mainnet",nativeCurrency:{decimals:18,name:"Cronos",symbol:"CRO"},rpcUrls:{default:{http:["https://evm.cronos.org"]}},blockExplorers:{default:{name:"Cronos Explorer",url:"https://explorer.cronos.org",apiUrl:"https://explorer-api.cronos.org/mainnet/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:1963112}}}),nbe=st({id:250,name:"Fantom",nativeCurrency:{decimals:18,name:"Fantom",symbol:"FTM"},rpcUrls:{default:{http:["https://250.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"FTMScan",url:"https://ftmscan.com",apiUrl:"https://api.ftmscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:33001987}}}),rbe=st({id:122,name:"Fuse",nativeCurrency:{name:"Fuse",symbol:"FUSE",decimals:18},rpcUrls:{default:{http:["https://rpc.fuse.io"]}},blockExplorers:{default:{name:"Fuse Explorer",url:"https://explorer.fuse.io",apiUrl:"https://explorer.fuse.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:16146628}}}),sbe=st({id:100,name:"Gnosis",nativeCurrency:{decimals:18,name:"xDAI",symbol:"XDAI"},blockTime:5e3,rpcUrls:{default:{http:["https://rpc.gnosischain.com"],webSocket:["wss://rpc.gnosischain.com/wss"]}},blockExplorers:{default:{name:"Gnosisscan",url:"https://gnosisscan.io",apiUrl:"https://api.gnosisscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:21022491}}}),ibe=st({id:1625,name:"Gravity Alpha Mainnet",nativeCurrency:{name:"G",symbol:"G",decimals:18},rpcUrls:{default:{http:["https://rpc.gravity.xyz"]}},blockExplorers:{default:{name:"Gravity Explorer",url:"https://explorer.gravity.xyz",apiUrl:"https://explorer.gravity.xyz/api"}},contracts:{multicall3:{address:"0xf8ac4BEB2F75d2cFFb588c63251347fdD629B92c",blockCreated:16851}}}),obe=st({id:13371,name:"Immutable zkEVM",nativeCurrency:{decimals:18,name:"Immutable Coin",symbol:"IMX"},rpcUrls:{default:{http:["https://rpc.immutable.com"]}},blockExplorers:{default:{name:"Immutable Explorer",url:"https://explorer.immutable.com",apiUrl:"https://explorer.immutable.com/api"}},contracts:{multicall3:{address:"0x236bdA4589e44e6850f5aC6a74BfCa398a86c6c0",blockCreated:4335972}}}),b0=1,abe=st({...ln,id:57073,name:"Ink",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc-gel.inkonchain.com","https://rpc-qnd.inkonchain.com"],webSocket:["wss://rpc-gel.inkonchain.com","wss://rpc-qnd.inkonchain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.inkonchain.com",apiUrl:"https://explorer.inkonchain.com/api/v2"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:0},...ln.contracts,disputeGameFactory:{[b0]:{address:"0x10d7b35078d3baabb96dd45a9143b94be65b12cd"}},portal:{[b0]:{address:"0x5d66c1782664115999c47c9fa5cd031f495d3e4f"}},l1StandardBridge:{[b0]:{address:"0x88ff1e5b602916615391f55854588efcbb7663f0"}}},testnet:!1,sourceId:b0}),cbe=st({id:8217,name:"Kaia",nativeCurrency:{decimals:18,name:"Kaia",symbol:"KAIA"},rpcUrls:{default:{http:["https://public-en.node.kaia.io"]}},blockExplorers:{default:{name:"KaiaScan",url:"https://kaiascan.io",apiUrl:"https://api-cypress.klaytnscope.com/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:96002415}}}),ube=st({id:232,name:"Lens",nativeCurrency:{name:"GHO",symbol:"GHO",decimals:18},rpcUrls:{default:{http:["https://rpc.lens.xyz"]}},blockExplorers:{default:{name:"Lens Block Explorer",url:"https://explorer.lens.xyz",apiUrl:"https://explorer.lens.xyz/api"}}});async function XJ(e,t){var s,i,o;const{account:n=e.account}=t;if(!n)throw new Ta;const r=nn(n);try{const{accessList:a,blockNumber:c,blockTag:u,data:l,gas:f,gasPrice:d,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:m,to:y,value:b,...I}=t,E=(typeof c=="bigint"?oe(c):void 0)||u;Io(t);const S=(o=(i=(s=e.chain)==null?void 0:s.formatters)==null?void 0:i.transactionRequest)==null?void 0:o.format,O=(S||Ji)({...Yu(I,{format:S}),from:r==null?void 0:r.address,accessList:a,data:l,gas:f,gasPrice:d,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:m,to:y,value:b},"estimateGas"),{baseFeePerGas:z,gasLimit:L,priorityFeePerGas:F}=await e.request({method:"linea_estimateGas",params:E?[O,E]:[O]});return{baseFeePerGas:BigInt(z),gasLimit:BigInt(L),priorityFeePerGas:BigInt(F)}}catch(a){throw ex(a,{...t,account:r,chain:e.chain})}}const JJ={fees:{estimateFeesPerGas:X3,async maxPriorityFeePerGas({block:e,client:t,request:n}){const r=await X3({block:e,client:t,multiply:s=>s,request:n,type:"eip1559"});return r!=null&&r.maxPriorityFeePerGas?r.maxPriorityFeePerGas:null}}};async function X3({client:e,multiply:t,request:n,type:r}){try{const s=await XJ(e,{...n,account:n==null?void 0:n.account}),{priorityFeePerGas:i}=s,a=t(BigInt(s.baseFeePerGas))+i;return r==="legacy"?{gasPrice:a}:{maxFeePerGas:a,maxPriorityFeePerGas:i}}catch{return null}}const lbe=st({...JJ,id:59144,name:"Linea Mainnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://lineascan.build",apiUrl:"https://api.lineascan.build/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:42},ensRegistry:{address:"0x50130b669B28C339991d8676FA73CF122a121267",blockCreated:6682888},ensUniversalResolver:{address:"0x4D41762915F83c76EcaF6776d9b08076aA32b492",blockCreated:22222151}},ensTlds:[".linea.eth"],testnet:!1}),v0=1,dbe=st({...ln,id:1135,name:"Lisk",network:"lisk",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.api.lisk.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://blockscout.lisk.com",apiUrl:"https://blockscout.lisk.com/api"}},contracts:{...ln.contracts,multicall3:{address:"0xA9d71E1dd7ca26F26e656E66d6AA81ed7f745bf0"},l2OutputOracle:{[v0]:{address:"0x113cB99283AF242Da0A0C54347667edF531Aa7d6"}},portal:{[v0]:{address:"0x26dB93F8b8b4f7016240af62F7730979d353f9A7"}},l1StandardBridge:{[v0]:{address:"0x2658723Bf70c7667De6B25F99fcce13A16D25d08"}}},sourceId:v0}),$g=st({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockTime:12e3,rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:23085558},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),fbe=st({id:5e3,name:"Mantle",nativeCurrency:{decimals:18,name:"MNT",symbol:"MNT"},rpcUrls:{default:{http:["https://rpc.mantle.xyz"]}},blockExplorers:{default:{name:"Mantle Explorer",url:"https://mantlescan.xyz/",apiUrl:"https://api.mantlescan.xyz/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:304717}}}),hbe=st({id:1088,name:"Metis",nativeCurrency:{decimals:18,name:"Metis",symbol:"METIS"},rpcUrls:{default:{http:["https://metis.rpc.hypersync.xyz","https://metis-pokt.nodies.app","https://api.blockeden.xyz/metis/67nCBdZQSH9z3YqDDjdm","https://metis-andromeda.rpc.thirdweb.com","https://metis-andromeda.gateway.tenderly.co","https://metis.api.onfinality.io/public","https://andromeda.metis.io/?owner=1088","https://metis-mainnet.public.blastapi.io"],webSocket:["wss://metis-rpc.publicnode.com","wss://metis.drpc.org"]}},blockExplorers:{default:{name:"Metis Explorer",url:"https://explorer.metis.io",apiUrl:"https://api.routescan.io/v2/network/mainnet/evm/1088/etherscan/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:2338552}}}),E0=1,pbe=st({...ln,id:34443,name:"Mode Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.mode.network"]}},blockExplorers:{default:{name:"Modescan",url:"https://modescan.io"}},contracts:{...ln.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:2465882},l2OutputOracle:{[E0]:{address:"0x4317ba146D4933D889518a3e5E11Fe7a53199b04"}},portal:{[E0]:{address:"0x8B34b14c7c7123459Cf3076b8Cb929BE097d0C07"}},l1StandardBridge:{[E0]:{address:"0x735aDBbE72226BD52e818E7181953f42E3b0FF21"}}},sourceId:E0}),mbe=st({id:1284,name:"Moonbeam",nativeCurrency:{decimals:18,name:"GLMR",symbol:"GLMR"},rpcUrls:{default:{http:["https://moonbeam.public.blastapi.io"],webSocket:["wss://moonbeam.public.blastapi.io"]}},blockExplorers:{default:{name:"Moonscan",url:"https://moonscan.io",apiUrl:"https://api-moonbeam.moonscan.io/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:609002}},testnet:!1}),ybe=st({id:1285,name:"Moonriver",nativeCurrency:{decimals:18,name:"MOVR",symbol:"MOVR"},rpcUrls:{default:{http:["https://moonriver.public.blastapi.io"],webSocket:["wss://moonriver.public.blastapi.io"]}},blockExplorers:{default:{name:"Moonscan",url:"https://moonriver.moonscan.io",apiUrl:"https://api-moonriver.moonscan.io/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:1597904}},testnet:!1}),x0=56,gbe=st({id:204,name:"opBNB",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrls:{default:{http:["https://opbnb-mainnet-rpc.bnbchain.org"]}},blockExplorers:{default:{name:"opBNB (BSCScan)",url:"https://opbnb.bscscan.com",apiUrl:"https://api-opbnb.bscscan.com/api"}},contracts:{...ln.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:512881},l2OutputOracle:{[x0]:{address:"0x153CAB79f4767E2ff862C94aa49573294B13D169"}},portal:{[x0]:{address:"0x1876EA7702C0ad0C6A2ae6036DE7733edfBca519"}},l1StandardBridge:{[x0]:{address:"0xF05F0e4362859c3331Cb9395CBC201E3Fa6757Ea"}}},sourceId:x0}),Tf=1,wbe=st({...ln,id:10,name:"OP Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.optimism.io"]}},blockExplorers:{default:{name:"Optimism Explorer",url:"https://optimistic.etherscan.io",apiUrl:"https://api-optimistic.etherscan.io/api"}},contracts:{...ln.contracts,disputeGameFactory:{[Tf]:{address:"0xe5965Ab5962eDc7477C8520243A95517CD252fA9"}},l2OutputOracle:{[Tf]:{address:"0xdfe97868233d1aa22e815a266982f2cf17685a27"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4286263},portal:{[Tf]:{address:"0xbEb5Fc579115071764c7423A4f12eDde41f106Ed"}},l1StandardBridge:{[Tf]:{address:"0x99C9fc46f92E8a1c0deC1b1747d010903E884bE1"}}},sourceId:Tf}),bbe=st({id:137,name:"Polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}}),vbe=st({id:1101,name:"Polygon zkEVM",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://zkevm-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://zkevm.polygonscan.com",apiUrl:"https://api-zkevm.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:57746}}}),Ebe=st({id:30,name:"Rootstock Mainnet",network:"rootstock",nativeCurrency:{decimals:18,name:"Rootstock Bitcoin",symbol:"RBTC"},rpcUrls:{default:{http:["https://public-node.rsk.co"]}},blockExplorers:{default:{name:"RSK Explorer",url:"https://explorer.rsk.co"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:4249540}}}),xbe=st({id:534352,name:"Scroll",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.scroll.io"],webSocket:["wss://wss-rpc.scroll.io/ws"]}},blockExplorers:{default:{name:"Scrollscan",url:"https://scrollscan.com",apiUrl:"https://api.scrollscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14}},testnet:!1}),Abe=st({id:1329,name:"Sei Network",nativeCurrency:{name:"Sei",symbol:"SEI",decimals:18},rpcUrls:{default:{http:["https://evm-rpc.sei-apis.com/"],webSocket:["wss://evm-ws.sei-apis.com/"]}},blockExplorers:{default:{name:"Seitrace",url:"https://seitrace.com",apiUrl:"https://seitrace.com/pacific-1/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11"}}}),_f=1,Ibe=st({...ln,id:1868,name:"Soneium Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.soneium.org"]}},blockExplorers:{default:{name:"Blockscout",url:"https://soneium.blockscout.com",apiUrl:"https://soneium.blockscout.com/api"}},contracts:{...ln.contracts,disputeGameFactory:{[_f]:{address:"0x512a3d2c7a43bd9261d2b8e8c9c70d4bd4d503c0"}},l2OutputOracle:{[_f]:{address:"0x0000000000000000000000000000000000000000"}},portal:{[_f]:{address:"0x88e529a6ccd302c948689cd5156c83d4614fae92",blockCreated:7061266}},l1StandardBridge:{[_f]:{address:"0xeb9bf100225c214efc3e7c651ebbadcf85177607",blockCreated:7061266}},multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:1}},sourceId:_f}),Sbe=st({id:146,name:"Sonic",blockTime:630,nativeCurrency:{decimals:18,name:"Sonic",symbol:"S"},rpcUrls:{default:{http:["https://rpc.soniclabs.com"]}},blockExplorers:{default:{name:"Sonic Explorer",url:"https://sonicscan.org"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:60}},testnet:!1}),kbe=st({id:55244,name:"Superposition",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.superposition.so"]}},blockExplorers:{default:{name:"Superposition Explorer",url:"https://explorer.superposition.so"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:39}},testnet:!1}),Cbe=st({...ln,id:1923,name:"Swellchain",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://swell-mainnet.alt.technology"]}},blockExplorers:{default:{name:"Swell Explorer",url:"https://explorer.swellnetwork.io",apiUrl:"https://explorer.swellnetwork.io/api"}},contracts:{...ln.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:1}}}),Tbe=st({id:167e3,name:"Taiko Mainnet",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.mainnet.taiko.xyz"],webSocket:["wss://ws.mainnet.taiko.xyz"]}},blockExplorers:{default:{name:"Taikoscan",url:"https://taikoscan.io",apiUrl:"https://api.taikoscan.io/api"}},contracts:{multicall3:{address:"0xcb2436774C3e191c85056d248EF4260ce5f27A9D"}}}),A0=1,_be=st({...ln,id:130,name:"Unichain",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockTime:1e3,rpcUrls:{default:{http:["https://mainnet.unichain.org/"]}},blockExplorers:{default:{name:"Uniscan",url:"https://uniscan.xyz",apiUrl:"https://api.uniscan.xyz/api"}},contracts:{...ln.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:0},disputeGameFactory:{[A0]:{address:"0x2F12d621a16e2d3285929C9996f478508951dFe4"}},portal:{[A0]:{address:"0x0bd48f6B86a26D3a217d0Fa6FfE2B491B956A7a2"}},l1StandardBridge:{[A0]:{address:"0x81014F44b0a345033bB2b3B21C7a1A308B35fEeA"}}},sourceId:A0}),Mf=1,Mbe=st({...ln,id:480,name:"World Chain",network:"worldchain",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://worldchain-mainnet.g.alchemy.com/public"]}},blockExplorers:{default:{name:"Worldscan",url:"https://worldscan.org",apiUrl:"https://api.worldscan.org/api"},blockscout:{name:"Blockscout",url:"https://worldchain-mainnet.explorer.alchemy.com",apiUrl:"https://worldchain-mainnet.explorer.alchemy.com/api"}},contracts:{...ln.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:0},disputeGameFactory:{[Mf]:{address:"0x069c4c579671f8c120b1327a73217D01Ea2EC5ea"}},l2OutputOracle:{[Mf]:{address:"0x19A6d1E9034596196295CF148509796978343c5D"}},portal:{[Mf]:{address:"0xd5ec14a83B7d95BE1E2Ac12523e2dEE12Cbeea6C"}},l1StandardBridge:{[Mf]:{address:"0x470458C91978D2d929704489Ad730DC3E3001113"}}},testnet:!1,sourceId:Mf}),Bbe=st({id:50,name:"XDC Network",nativeCurrency:{decimals:18,name:"XDC",symbol:"XDC"},rpcUrls:{default:{http:["https://rpc.xdcrpc.com"]}},blockExplorers:{default:{name:"XDCScan",url:"https://xdcscan.com"}},contracts:{multicall3:{address:"0x0B1795ccA8E4eC4df02346a082df54D437F8D9aF",blockCreated:75884020}}}),Nbe=st({...CP,id:324,name:"ZKsync Era",network:"zksync-era",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://mainnet.era.zksync.io"],webSocket:["wss://mainnet.era.zksync.io/ws"]}},blockExplorers:{default:{name:"Etherscan",url:"https://era.zksync.network/",apiUrl:"https://api-era.zksync.network/api"},native:{name:"ZKsync Explorer",url:"https://explorer.zksync.io/",apiUrl:"https://block-explorer-api.mainnet.zksync.io/api"}},contracts:{multicall3:{address:"0xF9cda624FBC7e059355ce98a31693d299FACd963"},erc6492Verifier:{address:"0xfB688330379976DA81eB64Fe4BF50d7401763B9C",blockCreated:45659388}}});var Dx={exports:{}};const Ux=Hd(HH);Dx.exports;(function(e){(function(t,n){function r(M,g){if(!M)throw new Error(g||"Assertion failed")}function s(M,g){M.super_=g;var w=function(){};w.prototype=g.prototype,M.prototype=new w,M.prototype.constructor=M}function i(M,g,w){if(i.isBN(M))return M;this.negative=0,this.words=null,this.length=0,this.red=null,M!==null&&((g==="le"||g==="be")&&(w=g,g=10),this._init(M||0,g||10,w||"be"))}typeof t=="object"?t.exports=i:n.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Ux.Buffer}catch{}i.isBN=function(g){return g instanceof i?!0:g!==null&&typeof g=="object"&&g.constructor.wordSize===i.wordSize&&Array.isArray(g.words)},i.max=function(g,w){return g.cmp(w)>0?g:w},i.min=function(g,w){return g.cmp(w)<0?g:w},i.prototype._init=function(g,w,T){if(typeof g=="number")return this._initNumber(g,w,T);if(typeof g=="object")return this._initArray(g,w,T);w==="hex"&&(w=16),r(w===(w|0)&&w>=2&&w<=36),g=g.toString().replace(/\s+/g,"");var _=0;g[0]==="-"&&(_++,this.negative=1),_<g.length&&(w===16?this._parseHex(g,_,T):(this._parseBase(g,w,_),T==="le"&&this._initArray(this.toArray(),w,T)))},i.prototype._initNumber=function(g,w,T){g<0&&(this.negative=1,g=-g),g<67108864?(this.words=[g&67108863],this.length=1):g<4503599627370496?(this.words=[g&67108863,g/67108864&67108863],this.length=2):(r(g<9007199254740992),this.words=[g&67108863,g/67108864&67108863,1],this.length=3),T==="le"&&this._initArray(this.toArray(),w,T)},i.prototype._initArray=function(g,w,T){if(r(typeof g.length=="number"),g.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(g.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var x,j,D=0;if(T==="be")for(_=g.length-1,x=0;_>=0;_-=3)j=g[_]|g[_-1]<<8|g[_-2]<<16,this.words[x]|=j<<D&67108863,this.words[x+1]=j>>>26-D&67108863,D+=24,D>=26&&(D-=26,x++);else if(T==="le")for(_=0,x=0;_<g.length;_+=3)j=g[_]|g[_+1]<<8|g[_+2]<<16,this.words[x]|=j<<D&67108863,this.words[x+1]=j>>>26-D&67108863,D+=24,D>=26&&(D-=26,x++);return this._strip()};function a(M,g){var w=M.charCodeAt(g);if(w>=48&&w<=57)return w-48;if(w>=65&&w<=70)return w-55;if(w>=97&&w<=102)return w-87;r(!1,"Invalid character in "+M)}function c(M,g,w){var T=a(M,w);return w-1>=g&&(T|=a(M,w-1)<<4),T}i.prototype._parseHex=function(g,w,T){this.length=Math.ceil((g.length-w)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var x=0,j=0,D;if(T==="be")for(_=g.length-1;_>=w;_-=2)D=c(g,w,_)<<x,this.words[j]|=D&67108863,x>=18?(x-=18,j+=1,this.words[j]|=D>>>26):x+=8;else{var P=g.length-w;for(_=P%2===0?w+1:w;_<g.length;_+=2)D=c(g,w,_)<<x,this.words[j]|=D&67108863,x>=18?(x-=18,j+=1,this.words[j]|=D>>>26):x+=8}this._strip()};function u(M,g,w,T){for(var _=0,x=0,j=Math.min(M.length,w),D=g;D<j;D++){var P=M.charCodeAt(D)-48;_*=T,P>=49?x=P-49+10:P>=17?x=P-17+10:x=P,r(P>=0&&x<T,"Invalid character"),_+=x}return _}i.prototype._parseBase=function(g,w,T){this.words=[0],this.length=1;for(var _=0,x=1;x<=67108863;x*=w)_++;_--,x=x/w|0;for(var j=g.length-T,D=j%_,P=Math.min(j,j-D)+T,k=0,$=T;$<P;$+=_)k=u(g,$,$+_,w),this.imuln(x),this.words[0]+k<67108864?this.words[0]+=k:this._iaddn(k);if(D!==0){var Z=1;for(k=u(g,$,g.length,w),$=0;$<D;$++)Z*=w;this.imuln(Z),this.words[0]+k<67108864?this.words[0]+=k:this._iaddn(k)}this._strip()},i.prototype.copy=function(g){g.words=new Array(this.length);for(var w=0;w<this.length;w++)g.words[w]=this.words[w];g.length=this.length,g.negative=this.negative,g.red=this.red};function l(M,g){M.words=g.words,M.length=g.length,M.negative=g.negative,M.red=g.red}if(i.prototype._move=function(g){l(g,this)},i.prototype.clone=function(){var g=new i(null);return this.copy(g),g},i.prototype._expand=function(g){for(;this.length<g;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{i.prototype.inspect=f}else i.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(g,w){g=g||10,w=w|0||1;var T;if(g===16||g==="hex"){T="";for(var _=0,x=0,j=0;j<this.length;j++){var D=this.words[j],P=((D<<_|x)&16777215).toString(16);x=D>>>24-_&16777215,_+=2,_>=26&&(_-=26,j--),x!==0||j!==this.length-1?T=d[6-P.length]+P+T:T=P+T}for(x!==0&&(T=x.toString(16)+T);T.length%w!==0;)T="0"+T;return this.negative!==0&&(T="-"+T),T}if(g===(g|0)&&g>=2&&g<=36){var k=h[g],$=p[g];T="";var Z=this.clone();for(Z.negative=0;!Z.isZero();){var Y=Z.modrn($).toString(g);Z=Z.idivn($),Z.isZero()?T=Y+T:T=d[k-Y.length]+Y+T}for(this.isZero()&&(T="0"+T);T.length%w!==0;)T="0"+T;return this.negative!==0&&(T="-"+T),T}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var g=this.words[0];return this.length===2?g+=this.words[1]*67108864:this.length===3&&this.words[2]===1?g+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-g:g},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(g,w){return this.toArrayLike(o,g,w)}),i.prototype.toArray=function(g,w){return this.toArrayLike(Array,g,w)};var m=function(g,w){return g.allocUnsafe?g.allocUnsafe(w):new g(w)};i.prototype.toArrayLike=function(g,w,T){this._strip();var _=this.byteLength(),x=T||Math.max(1,_);r(_<=x,"byte array longer than desired length"),r(x>0,"Requested array length <= 0");var j=m(g,x),D=w==="le"?"LE":"BE";return this["_toArrayLike"+D](j,_),j},i.prototype._toArrayLikeLE=function(g,w){for(var T=0,_=0,x=0,j=0;x<this.length;x++){var D=this.words[x]<<j|_;g[T++]=D&255,T<g.length&&(g[T++]=D>>8&255),T<g.length&&(g[T++]=D>>16&255),j===6?(T<g.length&&(g[T++]=D>>24&255),_=0,j=0):(_=D>>>24,j+=2)}if(T<g.length)for(g[T++]=_;T<g.length;)g[T++]=0},i.prototype._toArrayLikeBE=function(g,w){for(var T=g.length-1,_=0,x=0,j=0;x<this.length;x++){var D=this.words[x]<<j|_;g[T--]=D&255,T>=0&&(g[T--]=D>>8&255),T>=0&&(g[T--]=D>>16&255),j===6?(T>=0&&(g[T--]=D>>24&255),_=0,j=0):(_=D>>>24,j+=2)}if(T>=0)for(g[T--]=_;T>=0;)g[T--]=0},Math.clz32?i.prototype._countBits=function(g){return 32-Math.clz32(g)}:i.prototype._countBits=function(g){var w=g,T=0;return w>=4096&&(T+=13,w>>>=13),w>=64&&(T+=7,w>>>=7),w>=8&&(T+=4,w>>>=4),w>=2&&(T+=2,w>>>=2),T+w},i.prototype._zeroBits=function(g){if(g===0)return 26;var w=g,T=0;return w&8191||(T+=13,w>>>=13),w&127||(T+=7,w>>>=7),w&15||(T+=4,w>>>=4),w&3||(T+=2,w>>>=2),w&1||T++,T},i.prototype.bitLength=function(){var g=this.words[this.length-1],w=this._countBits(g);return(this.length-1)*26+w};function y(M){for(var g=new Array(M.bitLength()),w=0;w<g.length;w++){var T=w/26|0,_=w%26;g[w]=M.words[T]>>>_&1}return g}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var g=0,w=0;w<this.length;w++){var T=this._zeroBits(this.words[w]);if(g+=T,T!==26)break}return g},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(g){return this.negative!==0?this.abs().inotn(g).iaddn(1):this.clone()},i.prototype.fromTwos=function(g){return this.testn(g-1)?this.notn(g).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(g){for(;this.length<g.length;)this.words[this.length++]=0;for(var w=0;w<g.length;w++)this.words[w]=this.words[w]|g.words[w];return this._strip()},i.prototype.ior=function(g){return r((this.negative|g.negative)===0),this.iuor(g)},i.prototype.or=function(g){return this.length>g.length?this.clone().ior(g):g.clone().ior(this)},i.prototype.uor=function(g){return this.length>g.length?this.clone().iuor(g):g.clone().iuor(this)},i.prototype.iuand=function(g){var w;this.length>g.length?w=g:w=this;for(var T=0;T<w.length;T++)this.words[T]=this.words[T]&g.words[T];return this.length=w.length,this._strip()},i.prototype.iand=function(g){return r((this.negative|g.negative)===0),this.iuand(g)},i.prototype.and=function(g){return this.length>g.length?this.clone().iand(g):g.clone().iand(this)},i.prototype.uand=function(g){return this.length>g.length?this.clone().iuand(g):g.clone().iuand(this)},i.prototype.iuxor=function(g){var w,T;this.length>g.length?(w=this,T=g):(w=g,T=this);for(var _=0;_<T.length;_++)this.words[_]=w.words[_]^T.words[_];if(this!==w)for(;_<w.length;_++)this.words[_]=w.words[_];return this.length=w.length,this._strip()},i.prototype.ixor=function(g){return r((this.negative|g.negative)===0),this.iuxor(g)},i.prototype.xor=function(g){return this.length>g.length?this.clone().ixor(g):g.clone().ixor(this)},i.prototype.uxor=function(g){return this.length>g.length?this.clone().iuxor(g):g.clone().iuxor(this)},i.prototype.inotn=function(g){r(typeof g=="number"&&g>=0);var w=Math.ceil(g/26)|0,T=g%26;this._expand(w),T>0&&w--;for(var _=0;_<w;_++)this.words[_]=~this.words[_]&67108863;return T>0&&(this.words[_]=~this.words[_]&67108863>>26-T),this._strip()},i.prototype.notn=function(g){return this.clone().inotn(g)},i.prototype.setn=function(g,w){r(typeof g=="number"&&g>=0);var T=g/26|0,_=g%26;return this._expand(T+1),w?this.words[T]=this.words[T]|1<<_:this.words[T]=this.words[T]&~(1<<_),this._strip()},i.prototype.iadd=function(g){var w;if(this.negative!==0&&g.negative===0)return this.negative=0,w=this.isub(g),this.negative^=1,this._normSign();if(this.negative===0&&g.negative!==0)return g.negative=0,w=this.isub(g),g.negative=1,w._normSign();var T,_;this.length>g.length?(T=this,_=g):(T=g,_=this);for(var x=0,j=0;j<_.length;j++)w=(T.words[j]|0)+(_.words[j]|0)+x,this.words[j]=w&67108863,x=w>>>26;for(;x!==0&&j<T.length;j++)w=(T.words[j]|0)+x,this.words[j]=w&67108863,x=w>>>26;if(this.length=T.length,x!==0)this.words[this.length]=x,this.length++;else if(T!==this)for(;j<T.length;j++)this.words[j]=T.words[j];return this},i.prototype.add=function(g){var w;return g.negative!==0&&this.negative===0?(g.negative=0,w=this.sub(g),g.negative^=1,w):g.negative===0&&this.negative!==0?(this.negative=0,w=g.sub(this),this.negative=1,w):this.length>g.length?this.clone().iadd(g):g.clone().iadd(this)},i.prototype.isub=function(g){if(g.negative!==0){g.negative=0;var w=this.iadd(g);return g.negative=1,w._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(g),this.negative=1,this._normSign();var T=this.cmp(g);if(T===0)return this.negative=0,this.length=1,this.words[0]=0,this;var _,x;T>0?(_=this,x=g):(_=g,x=this);for(var j=0,D=0;D<x.length;D++)w=(_.words[D]|0)-(x.words[D]|0)+j,j=w>>26,this.words[D]=w&67108863;for(;j!==0&&D<_.length;D++)w=(_.words[D]|0)+j,j=w>>26,this.words[D]=w&67108863;if(j===0&&D<_.length&&_!==this)for(;D<_.length;D++)this.words[D]=_.words[D];return this.length=Math.max(this.length,D),_!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(g){return this.clone().isub(g)};function b(M,g,w){w.negative=g.negative^M.negative;var T=M.length+g.length|0;w.length=T,T=T-1|0;var _=M.words[0]|0,x=g.words[0]|0,j=_*x,D=j&67108863,P=j/67108864|0;w.words[0]=D;for(var k=1;k<T;k++){for(var $=P>>>26,Z=P&67108863,Y=Math.min(k,g.length-1),ne=Math.max(0,k-M.length+1);ne<=Y;ne++){var he=k-ne|0;_=M.words[he]|0,x=g.words[ne]|0,j=_*x+Z,$+=j/67108864|0,Z=j&67108863}w.words[k]=Z|0,P=$|0}return P!==0?w.words[k]=P|0:w.length--,w._strip()}var I=function(g,w,T){var _=g.words,x=w.words,j=T.words,D=0,P,k,$,Z=_[0]|0,Y=Z&8191,ne=Z>>>13,he=_[1]|0,de=he&8191,le=he>>>13,Se=_[2]|0,Me=Se&8191,Ne=Se>>>13,ot=_[3]|0,De=ot&8191,Ve=ot>>>13,It=_[4]|0,mt=It&8191,ht=It>>>13,Cn=_[5]|0,Re=Cn&8191,Bt=Cn>>>13,Mr=_[6]|0,He=Mr&8191,ae=Mr>>>13,ce=_[7]|0,ie=ce&8191,me=ce>>>13,xe=_[8]|0,ke=xe&8191,R=xe>>>13,A=_[9]|0,C=A&8191,U=A>>>13,W=x[0]|0,X=W&8191,J=W>>>13,ye=x[1]|0,ue=ye&8191,Oe=ye>>>13,Xe=x[2]|0,Pe=Xe&8191,Ft=Xe>>>13,xf=x[3]|0,rn=xf&8191,Tn=xf>>>13,aI=x[4]|0,_n=aI&8191,Mn=aI>>>13,cI=x[5]|0,Bn=cI&8191,Nn=cI>>>13,uI=x[6]|0,On=uI&8191,Pn=uI>>>13,lI=x[7]|0,jn=lI&8191,Rn=lI>>>13,dI=x[8]|0,Dn=dI&8191,Un=dI>>>13,fI=x[9]|0,Ln=fI&8191,$n=fI>>>13;T.negative=g.negative^w.negative,T.length=19,P=Math.imul(Y,X),k=Math.imul(Y,J),k=k+Math.imul(ne,X)|0,$=Math.imul(ne,J);var Cw=(D+P|0)+((k&8191)<<13)|0;D=($+(k>>>13)|0)+(Cw>>>26)|0,Cw&=67108863,P=Math.imul(de,X),k=Math.imul(de,J),k=k+Math.imul(le,X)|0,$=Math.imul(le,J),P=P+Math.imul(Y,ue)|0,k=k+Math.imul(Y,Oe)|0,k=k+Math.imul(ne,ue)|0,$=$+Math.imul(ne,Oe)|0;var Tw=(D+P|0)+((k&8191)<<13)|0;D=($+(k>>>13)|0)+(Tw>>>26)|0,Tw&=67108863,P=Math.imul(Me,X),k=Math.imul(Me,J),k=k+Math.imul(Ne,X)|0,$=Math.imul(Ne,J),P=P+Math.imul(de,ue)|0,k=k+Math.imul(de,Oe)|0,k=k+Math.imul(le,ue)|0,$=$+Math.imul(le,Oe)|0,P=P+Math.imul(Y,Pe)|0,k=k+Math.imul(Y,Ft)|0,k=k+Math.imul(ne,Pe)|0,$=$+Math.imul(ne,Ft)|0;var _w=(D+P|0)+((k&8191)<<13)|0;D=($+(k>>>13)|0)+(_w>>>26)|0,_w&=67108863,P=Math.imul(De,X),k=Math.imul(De,J),k=k+Math.imul(Ve,X)|0,$=Math.imul(Ve,J),P=P+Math.imul(Me,ue)|0,k=k+Math.imul(Me,Oe)|0,k=k+Math.imul(Ne,ue)|0,$=$+Math.imul(Ne,Oe)|0,P=P+Math.imul(de,Pe)|0,k=k+Math.imul(de,Ft)|0,k=k+Math.imul(le,Pe)|0,$=$+Math.imul(le,Ft)|0,P=P+Math.imul(Y,rn)|0,k=k+Math.imul(Y,Tn)|0,k=k+Math.imul(ne,rn)|0,$=$+Math.imul(ne,Tn)|0;var Mw=(D+P|0)+((k&8191)<<13)|0;D=($+(k>>>13)|0)+(Mw>>>26)|0,Mw&=67108863,P=Math.imul(mt,X),k=Math.imul(mt,J),k=k+Math.imul(ht,X)|0,$=Math.imul(ht,J),P=P+Math.imul(De,ue)|0,k=k+Math.imul(De,Oe)|0,k=k+Math.imul(Ve,ue)|0,$=$+Math.imul(Ve,Oe)|0,P=P+Math.imul(Me,Pe)|0,k=k+Math.imul(Me,Ft)|0,k=k+Math.imul(Ne,Pe)|0,$=$+Math.imul(Ne,Ft)|0,P=P+Math.imul(de,rn)|0,k=k+Math.imul(de,Tn)|0,k=k+Math.imul(le,rn)|0,$=$+Math.imul(le,Tn)|0,P=P+Math.imul(Y,_n)|0,k=k+Math.imul(Y,Mn)|0,k=k+Math.imul(ne,_n)|0,$=$+Math.imul(ne,Mn)|0;var Bw=(D+P|0)+((k&8191)<<13)|0;D=($+(k>>>13)|0)+(Bw>>>26)|0,Bw&=67108863,P=Math.imul(Re,X),k=Math.imul(Re,J),k=k+Math.imul(Bt,X)|0,$=Math.imul(Bt,J),P=P+Math.imul(mt,ue)|0,k=k+Math.imul(mt,Oe)|0,k=k+Math.imul(ht,ue)|0,$=$+Math.imul(ht,Oe)|0,P=P+Math.imul(De,Pe)|0,k=k+Math.imul(De,Ft)|0,k=k+Math.imul(Ve,Pe)|0,$=$+Math.imul(Ve,Ft)|0,P=P+Math.imul(Me,rn)|0,k=k+Math.imul(Me,Tn)|0,k=k+Math.imul(Ne,rn)|0,$=$+Math.imul(Ne,Tn)|0,P=P+Math.imul(de,_n)|0,k=k+Math.imul(de,Mn)|0,k=k+Math.imul(le,_n)|0,$=$+Math.imul(le,Mn)|0,P=P+Math.imul(Y,Bn)|0,k=k+Math.imul(Y,Nn)|0,k=k+Math.imul(ne,Bn)|0,$=$+Math.imul(ne,Nn)|0;var Nw=(D+P|0)+((k&8191)<<13)|0;D=($+(k>>>13)|0)+(Nw>>>26)|0,Nw&=67108863,P=Math.imul(He,X),k=Math.imul(He,J),k=k+Math.imul(ae,X)|0,$=Math.imul(ae,J),P=P+Math.imul(Re,ue)|0,k=k+Math.imul(Re,Oe)|0,k=k+Math.imul(Bt,ue)|0,$=$+Math.imul(Bt,Oe)|0,P=P+Math.imul(mt,Pe)|0,k=k+Math.imul(mt,Ft)|0,k=k+Math.imul(ht,Pe)|0,$=$+Math.imul(ht,Ft)|0,P=P+Math.imul(De,rn)|0,k=k+Math.imul(De,Tn)|0,k=k+Math.imul(Ve,rn)|0,$=$+Math.imul(Ve,Tn)|0,P=P+Math.imul(Me,_n)|0,k=k+Math.imul(Me,Mn)|0,k=k+Math.imul(Ne,_n)|0,$=$+Math.imul(Ne,Mn)|0,P=P+Math.imul(de,Bn)|0,k=k+Math.imul(de,Nn)|0,k=k+Math.imul(le,Bn)|0,$=$+Math.imul(le,Nn)|0,P=P+Math.imul(Y,On)|0,k=k+Math.imul(Y,Pn)|0,k=k+Math.imul(ne,On)|0,$=$+Math.imul(ne,Pn)|0;var Ow=(D+P|0)+((k&8191)<<13)|0;D=($+(k>>>13)|0)+(Ow>>>26)|0,Ow&=67108863,P=Math.imul(ie,X),k=Math.imul(ie,J),k=k+Math.imul(me,X)|0,$=Math.imul(me,J),P=P+Math.imul(He,ue)|0,k=k+Math.imul(He,Oe)|0,k=k+Math.imul(ae,ue)|0,$=$+Math.imul(ae,Oe)|0,P=P+Math.imul(Re,Pe)|0,k=k+Math.imul(Re,Ft)|0,k=k+Math.imul(Bt,Pe)|0,$=$+Math.imul(Bt,Ft)|0,P=P+Math.imul(mt,rn)|0,k=k+Math.imul(mt,Tn)|0,k=k+Math.imul(ht,rn)|0,$=$+Math.imul(ht,Tn)|0,P=P+Math.imul(De,_n)|0,k=k+Math.imul(De,Mn)|0,k=k+Math.imul(Ve,_n)|0,$=$+Math.imul(Ve,Mn)|0,P=P+Math.imul(Me,Bn)|0,k=k+Math.imul(Me,Nn)|0,k=k+Math.imul(Ne,Bn)|0,$=$+Math.imul(Ne,Nn)|0,P=P+Math.imul(de,On)|0,k=k+Math.imul(de,Pn)|0,k=k+Math.imul(le,On)|0,$=$+Math.imul(le,Pn)|0,P=P+Math.imul(Y,jn)|0,k=k+Math.imul(Y,Rn)|0,k=k+Math.imul(ne,jn)|0,$=$+Math.imul(ne,Rn)|0;var Pw=(D+P|0)+((k&8191)<<13)|0;D=($+(k>>>13)|0)+(Pw>>>26)|0,Pw&=67108863,P=Math.imul(ke,X),k=Math.imul(ke,J),k=k+Math.imul(R,X)|0,$=Math.imul(R,J),P=P+Math.imul(ie,ue)|0,k=k+Math.imul(ie,Oe)|0,k=k+Math.imul(me,ue)|0,$=$+Math.imul(me,Oe)|0,P=P+Math.imul(He,Pe)|0,k=k+Math.imul(He,Ft)|0,k=k+Math.imul(ae,Pe)|0,$=$+Math.imul(ae,Ft)|0,P=P+Math.imul(Re,rn)|0,k=k+Math.imul(Re,Tn)|0,k=k+Math.imul(Bt,rn)|0,$=$+Math.imul(Bt,Tn)|0,P=P+Math.imul(mt,_n)|0,k=k+Math.imul(mt,Mn)|0,k=k+Math.imul(ht,_n)|0,$=$+Math.imul(ht,Mn)|0,P=P+Math.imul(De,Bn)|0,k=k+Math.imul(De,Nn)|0,k=k+Math.imul(Ve,Bn)|0,$=$+Math.imul(Ve,Nn)|0,P=P+Math.imul(Me,On)|0,k=k+Math.imul(Me,Pn)|0,k=k+Math.imul(Ne,On)|0,$=$+Math.imul(Ne,Pn)|0,P=P+Math.imul(de,jn)|0,k=k+Math.imul(de,Rn)|0,k=k+Math.imul(le,jn)|0,$=$+Math.imul(le,Rn)|0,P=P+Math.imul(Y,Dn)|0,k=k+Math.imul(Y,Un)|0,k=k+Math.imul(ne,Dn)|0,$=$+Math.imul(ne,Un)|0;var jw=(D+P|0)+((k&8191)<<13)|0;D=($+(k>>>13)|0)+(jw>>>26)|0,jw&=67108863,P=Math.imul(C,X),k=Math.imul(C,J),k=k+Math.imul(U,X)|0,$=Math.imul(U,J),P=P+Math.imul(ke,ue)|0,k=k+Math.imul(ke,Oe)|0,k=k+Math.imul(R,ue)|0,$=$+Math.imul(R,Oe)|0,P=P+Math.imul(ie,Pe)|0,k=k+Math.imul(ie,Ft)|0,k=k+Math.imul(me,Pe)|0,$=$+Math.imul(me,Ft)|0,P=P+Math.imul(He,rn)|0,k=k+Math.imul(He,Tn)|0,k=k+Math.imul(ae,rn)|0,$=$+Math.imul(ae,Tn)|0,P=P+Math.imul(Re,_n)|0,k=k+Math.imul(Re,Mn)|0,k=k+Math.imul(Bt,_n)|0,$=$+Math.imul(Bt,Mn)|0,P=P+Math.imul(mt,Bn)|0,k=k+Math.imul(mt,Nn)|0,k=k+Math.imul(ht,Bn)|0,$=$+Math.imul(ht,Nn)|0,P=P+Math.imul(De,On)|0,k=k+Math.imul(De,Pn)|0,k=k+Math.imul(Ve,On)|0,$=$+Math.imul(Ve,Pn)|0,P=P+Math.imul(Me,jn)|0,k=k+Math.imul(Me,Rn)|0,k=k+Math.imul(Ne,jn)|0,$=$+Math.imul(Ne,Rn)|0,P=P+Math.imul(de,Dn)|0,k=k+Math.imul(de,Un)|0,k=k+Math.imul(le,Dn)|0,$=$+Math.imul(le,Un)|0,P=P+Math.imul(Y,Ln)|0,k=k+Math.imul(Y,$n)|0,k=k+Math.imul(ne,Ln)|0,$=$+Math.imul(ne,$n)|0;var Rw=(D+P|0)+((k&8191)<<13)|0;D=($+(k>>>13)|0)+(Rw>>>26)|0,Rw&=67108863,P=Math.imul(C,ue),k=Math.imul(C,Oe),k=k+Math.imul(U,ue)|0,$=Math.imul(U,Oe),P=P+Math.imul(ke,Pe)|0,k=k+Math.imul(ke,Ft)|0,k=k+Math.imul(R,Pe)|0,$=$+Math.imul(R,Ft)|0,P=P+Math.imul(ie,rn)|0,k=k+Math.imul(ie,Tn)|0,k=k+Math.imul(me,rn)|0,$=$+Math.imul(me,Tn)|0,P=P+Math.imul(He,_n)|0,k=k+Math.imul(He,Mn)|0,k=k+Math.imul(ae,_n)|0,$=$+Math.imul(ae,Mn)|0,P=P+Math.imul(Re,Bn)|0,k=k+Math.imul(Re,Nn)|0,k=k+Math.imul(Bt,Bn)|0,$=$+Math.imul(Bt,Nn)|0,P=P+Math.imul(mt,On)|0,k=k+Math.imul(mt,Pn)|0,k=k+Math.imul(ht,On)|0,$=$+Math.imul(ht,Pn)|0,P=P+Math.imul(De,jn)|0,k=k+Math.imul(De,Rn)|0,k=k+Math.imul(Ve,jn)|0,$=$+Math.imul(Ve,Rn)|0,P=P+Math.imul(Me,Dn)|0,k=k+Math.imul(Me,Un)|0,k=k+Math.imul(Ne,Dn)|0,$=$+Math.imul(Ne,Un)|0,P=P+Math.imul(de,Ln)|0,k=k+Math.imul(de,$n)|0,k=k+Math.imul(le,Ln)|0,$=$+Math.imul(le,$n)|0;var Dw=(D+P|0)+((k&8191)<<13)|0;D=($+(k>>>13)|0)+(Dw>>>26)|0,Dw&=67108863,P=Math.imul(C,Pe),k=Math.imul(C,Ft),k=k+Math.imul(U,Pe)|0,$=Math.imul(U,Ft),P=P+Math.imul(ke,rn)|0,k=k+Math.imul(ke,Tn)|0,k=k+Math.imul(R,rn)|0,$=$+Math.imul(R,Tn)|0,P=P+Math.imul(ie,_n)|0,k=k+Math.imul(ie,Mn)|0,k=k+Math.imul(me,_n)|0,$=$+Math.imul(me,Mn)|0,P=P+Math.imul(He,Bn)|0,k=k+Math.imul(He,Nn)|0,k=k+Math.imul(ae,Bn)|0,$=$+Math.imul(ae,Nn)|0,P=P+Math.imul(Re,On)|0,k=k+Math.imul(Re,Pn)|0,k=k+Math.imul(Bt,On)|0,$=$+Math.imul(Bt,Pn)|0,P=P+Math.imul(mt,jn)|0,k=k+Math.imul(mt,Rn)|0,k=k+Math.imul(ht,jn)|0,$=$+Math.imul(ht,Rn)|0,P=P+Math.imul(De,Dn)|0,k=k+Math.imul(De,Un)|0,k=k+Math.imul(Ve,Dn)|0,$=$+Math.imul(Ve,Un)|0,P=P+Math.imul(Me,Ln)|0,k=k+Math.imul(Me,$n)|0,k=k+Math.imul(Ne,Ln)|0,$=$+Math.imul(Ne,$n)|0;var Uw=(D+P|0)+((k&8191)<<13)|0;D=($+(k>>>13)|0)+(Uw>>>26)|0,Uw&=67108863,P=Math.imul(C,rn),k=Math.imul(C,Tn),k=k+Math.imul(U,rn)|0,$=Math.imul(U,Tn),P=P+Math.imul(ke,_n)|0,k=k+Math.imul(ke,Mn)|0,k=k+Math.imul(R,_n)|0,$=$+Math.imul(R,Mn)|0,P=P+Math.imul(ie,Bn)|0,k=k+Math.imul(ie,Nn)|0,k=k+Math.imul(me,Bn)|0,$=$+Math.imul(me,Nn)|0,P=P+Math.imul(He,On)|0,k=k+Math.imul(He,Pn)|0,k=k+Math.imul(ae,On)|0,$=$+Math.imul(ae,Pn)|0,P=P+Math.imul(Re,jn)|0,k=k+Math.imul(Re,Rn)|0,k=k+Math.imul(Bt,jn)|0,$=$+Math.imul(Bt,Rn)|0,P=P+Math.imul(mt,Dn)|0,k=k+Math.imul(mt,Un)|0,k=k+Math.imul(ht,Dn)|0,$=$+Math.imul(ht,Un)|0,P=P+Math.imul(De,Ln)|0,k=k+Math.imul(De,$n)|0,k=k+Math.imul(Ve,Ln)|0,$=$+Math.imul(Ve,$n)|0;var Lw=(D+P|0)+((k&8191)<<13)|0;D=($+(k>>>13)|0)+(Lw>>>26)|0,Lw&=67108863,P=Math.imul(C,_n),k=Math.imul(C,Mn),k=k+Math.imul(U,_n)|0,$=Math.imul(U,Mn),P=P+Math.imul(ke,Bn)|0,k=k+Math.imul(ke,Nn)|0,k=k+Math.imul(R,Bn)|0,$=$+Math.imul(R,Nn)|0,P=P+Math.imul(ie,On)|0,k=k+Math.imul(ie,Pn)|0,k=k+Math.imul(me,On)|0,$=$+Math.imul(me,Pn)|0,P=P+Math.imul(He,jn)|0,k=k+Math.imul(He,Rn)|0,k=k+Math.imul(ae,jn)|0,$=$+Math.imul(ae,Rn)|0,P=P+Math.imul(Re,Dn)|0,k=k+Math.imul(Re,Un)|0,k=k+Math.imul(Bt,Dn)|0,$=$+Math.imul(Bt,Un)|0,P=P+Math.imul(mt,Ln)|0,k=k+Math.imul(mt,$n)|0,k=k+Math.imul(ht,Ln)|0,$=$+Math.imul(ht,$n)|0;var $w=(D+P|0)+((k&8191)<<13)|0;D=($+(k>>>13)|0)+($w>>>26)|0,$w&=67108863,P=Math.imul(C,Bn),k=Math.imul(C,Nn),k=k+Math.imul(U,Bn)|0,$=Math.imul(U,Nn),P=P+Math.imul(ke,On)|0,k=k+Math.imul(ke,Pn)|0,k=k+Math.imul(R,On)|0,$=$+Math.imul(R,Pn)|0,P=P+Math.imul(ie,jn)|0,k=k+Math.imul(ie,Rn)|0,k=k+Math.imul(me,jn)|0,$=$+Math.imul(me,Rn)|0,P=P+Math.imul(He,Dn)|0,k=k+Math.imul(He,Un)|0,k=k+Math.imul(ae,Dn)|0,$=$+Math.imul(ae,Un)|0,P=P+Math.imul(Re,Ln)|0,k=k+Math.imul(Re,$n)|0,k=k+Math.imul(Bt,Ln)|0,$=$+Math.imul(Bt,$n)|0;var zw=(D+P|0)+((k&8191)<<13)|0;D=($+(k>>>13)|0)+(zw>>>26)|0,zw&=67108863,P=Math.imul(C,On),k=Math.imul(C,Pn),k=k+Math.imul(U,On)|0,$=Math.imul(U,Pn),P=P+Math.imul(ke,jn)|0,k=k+Math.imul(ke,Rn)|0,k=k+Math.imul(R,jn)|0,$=$+Math.imul(R,Rn)|0,P=P+Math.imul(ie,Dn)|0,k=k+Math.imul(ie,Un)|0,k=k+Math.imul(me,Dn)|0,$=$+Math.imul(me,Un)|0,P=P+Math.imul(He,Ln)|0,k=k+Math.imul(He,$n)|0,k=k+Math.imul(ae,Ln)|0,$=$+Math.imul(ae,$n)|0;var Fw=(D+P|0)+((k&8191)<<13)|0;D=($+(k>>>13)|0)+(Fw>>>26)|0,Fw&=67108863,P=Math.imul(C,jn),k=Math.imul(C,Rn),k=k+Math.imul(U,jn)|0,$=Math.imul(U,Rn),P=P+Math.imul(ke,Dn)|0,k=k+Math.imul(ke,Un)|0,k=k+Math.imul(R,Dn)|0,$=$+Math.imul(R,Un)|0,P=P+Math.imul(ie,Ln)|0,k=k+Math.imul(ie,$n)|0,k=k+Math.imul(me,Ln)|0,$=$+Math.imul(me,$n)|0;var Hw=(D+P|0)+((k&8191)<<13)|0;D=($+(k>>>13)|0)+(Hw>>>26)|0,Hw&=67108863,P=Math.imul(C,Dn),k=Math.imul(C,Un),k=k+Math.imul(U,Dn)|0,$=Math.imul(U,Un),P=P+Math.imul(ke,Ln)|0,k=k+Math.imul(ke,$n)|0,k=k+Math.imul(R,Ln)|0,$=$+Math.imul(R,$n)|0;var qw=(D+P|0)+((k&8191)<<13)|0;D=($+(k>>>13)|0)+(qw>>>26)|0,qw&=67108863,P=Math.imul(C,Ln),k=Math.imul(C,$n),k=k+Math.imul(U,Ln)|0,$=Math.imul(U,$n);var Ww=(D+P|0)+((k&8191)<<13)|0;return D=($+(k>>>13)|0)+(Ww>>>26)|0,Ww&=67108863,j[0]=Cw,j[1]=Tw,j[2]=_w,j[3]=Mw,j[4]=Bw,j[5]=Nw,j[6]=Ow,j[7]=Pw,j[8]=jw,j[9]=Rw,j[10]=Dw,j[11]=Uw,j[12]=Lw,j[13]=$w,j[14]=zw,j[15]=Fw,j[16]=Hw,j[17]=qw,j[18]=Ww,D!==0&&(j[19]=D,T.length++),T};Math.imul||(I=b);function v(M,g,w){w.negative=g.negative^M.negative,w.length=M.length+g.length;for(var T=0,_=0,x=0;x<w.length-1;x++){var j=_;_=0;for(var D=T&67108863,P=Math.min(x,g.length-1),k=Math.max(0,x-M.length+1);k<=P;k++){var $=x-k,Z=M.words[$]|0,Y=g.words[k]|0,ne=Z*Y,he=ne&67108863;j=j+(ne/67108864|0)|0,he=he+D|0,D=he&67108863,j=j+(he>>>26)|0,_+=j>>>26,j&=67108863}w.words[x]=D,T=j,j=_}return T!==0?w.words[x]=T:w.length--,w._strip()}function E(M,g,w){return v(M,g,w)}i.prototype.mulTo=function(g,w){var T,_=this.length+g.length;return this.length===10&&g.length===10?T=I(this,g,w):_<63?T=b(this,g,w):_<1024?T=v(this,g,w):T=E(this,g,w),T},i.prototype.mul=function(g){var w=new i(null);return w.words=new Array(this.length+g.length),this.mulTo(g,w)},i.prototype.mulf=function(g){var w=new i(null);return w.words=new Array(this.length+g.length),E(this,g,w)},i.prototype.imul=function(g){return this.clone().mulTo(g,this)},i.prototype.imuln=function(g){var w=g<0;w&&(g=-g),r(typeof g=="number"),r(g<67108864);for(var T=0,_=0;_<this.length;_++){var x=(this.words[_]|0)*g,j=(x&67108863)+(T&67108863);T>>=26,T+=x/67108864|0,T+=j>>>26,this.words[_]=j&67108863}return T!==0&&(this.words[_]=T,this.length++),this.length=g===0?1:this.length,w?this.ineg():this},i.prototype.muln=function(g){return this.clone().imuln(g)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(g){var w=y(g);if(w.length===0)return new i(1);for(var T=this,_=0;_<w.length&&w[_]===0;_++,T=T.sqr());if(++_<w.length)for(var x=T.sqr();_<w.length;_++,x=x.sqr())w[_]!==0&&(T=T.mul(x));return T},i.prototype.iushln=function(g){r(typeof g=="number"&&g>=0);var w=g%26,T=(g-w)/26,_=67108863>>>26-w<<26-w,x;if(w!==0){var j=0;for(x=0;x<this.length;x++){var D=this.words[x]&_,P=(this.words[x]|0)-D<<w;this.words[x]=P|j,j=D>>>26-w}j&&(this.words[x]=j,this.length++)}if(T!==0){for(x=this.length-1;x>=0;x--)this.words[x+T]=this.words[x];for(x=0;x<T;x++)this.words[x]=0;this.length+=T}return this._strip()},i.prototype.ishln=function(g){return r(this.negative===0),this.iushln(g)},i.prototype.iushrn=function(g,w,T){r(typeof g=="number"&&g>=0);var _;w?_=(w-w%26)/26:_=0;var x=g%26,j=Math.min((g-x)/26,this.length),D=67108863^67108863>>>x<<x,P=T;if(_-=j,_=Math.max(0,_),P){for(var k=0;k<j;k++)P.words[k]=this.words[k];P.length=j}if(j!==0)if(this.length>j)for(this.length-=j,k=0;k<this.length;k++)this.words[k]=this.words[k+j];else this.words[0]=0,this.length=1;var $=0;for(k=this.length-1;k>=0&&($!==0||k>=_);k--){var Z=this.words[k]|0;this.words[k]=$<<26-x|Z>>>x,$=Z&D}return P&&$!==0&&(P.words[P.length++]=$),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(g,w,T){return r(this.negative===0),this.iushrn(g,w,T)},i.prototype.shln=function(g){return this.clone().ishln(g)},i.prototype.ushln=function(g){return this.clone().iushln(g)},i.prototype.shrn=function(g){return this.clone().ishrn(g)},i.prototype.ushrn=function(g){return this.clone().iushrn(g)},i.prototype.testn=function(g){r(typeof g=="number"&&g>=0);var w=g%26,T=(g-w)/26,_=1<<w;if(this.length<=T)return!1;var x=this.words[T];return!!(x&_)},i.prototype.imaskn=function(g){r(typeof g=="number"&&g>=0);var w=g%26,T=(g-w)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=T)return this;if(w!==0&&T++,this.length=Math.min(T,this.length),w!==0){var _=67108863^67108863>>>w<<w;this.words[this.length-1]&=_}return this._strip()},i.prototype.maskn=function(g){return this.clone().imaskn(g)},i.prototype.iaddn=function(g){return r(typeof g=="number"),r(g<67108864),g<0?this.isubn(-g):this.negative!==0?this.length===1&&(this.words[0]|0)<=g?(this.words[0]=g-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(g),this.negative=1,this):this._iaddn(g)},i.prototype._iaddn=function(g){this.words[0]+=g;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},i.prototype.isubn=function(g){if(r(typeof g=="number"),r(g<67108864),g<0)return this.iaddn(-g);if(this.negative!==0)return this.negative=0,this.iaddn(g),this.negative=1,this;if(this.words[0]-=g,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this._strip()},i.prototype.addn=function(g){return this.clone().iaddn(g)},i.prototype.subn=function(g){return this.clone().isubn(g)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(g,w,T){var _=g.length+T,x;this._expand(_);var j,D=0;for(x=0;x<g.length;x++){j=(this.words[x+T]|0)+D;var P=(g.words[x]|0)*w;j-=P&67108863,D=(j>>26)-(P/67108864|0),this.words[x+T]=j&67108863}for(;x<this.length-T;x++)j=(this.words[x+T]|0)+D,D=j>>26,this.words[x+T]=j&67108863;if(D===0)return this._strip();for(r(D===-1),D=0,x=0;x<this.length;x++)j=-(this.words[x]|0)+D,D=j>>26,this.words[x]=j&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(g,w){var T=this.length-g.length,_=this.clone(),x=g,j=x.words[x.length-1]|0,D=this._countBits(j);T=26-D,T!==0&&(x=x.ushln(T),_.iushln(T),j=x.words[x.length-1]|0);var P=_.length-x.length,k;if(w!=="mod"){k=new i(null),k.length=P+1,k.words=new Array(k.length);for(var $=0;$<k.length;$++)k.words[$]=0}var Z=_.clone()._ishlnsubmul(x,1,P);Z.negative===0&&(_=Z,k&&(k.words[P]=1));for(var Y=P-1;Y>=0;Y--){var ne=(_.words[x.length+Y]|0)*67108864+(_.words[x.length+Y-1]|0);for(ne=Math.min(ne/j|0,67108863),_._ishlnsubmul(x,ne,Y);_.negative!==0;)ne--,_.negative=0,_._ishlnsubmul(x,1,Y),_.isZero()||(_.negative^=1);k&&(k.words[Y]=ne)}return k&&k._strip(),_._strip(),w!=="div"&&T!==0&&_.iushrn(T),{div:k||null,mod:_}},i.prototype.divmod=function(g,w,T){if(r(!g.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var _,x,j;return this.negative!==0&&g.negative===0?(j=this.neg().divmod(g,w),w!=="mod"&&(_=j.div.neg()),w!=="div"&&(x=j.mod.neg(),T&&x.negative!==0&&x.iadd(g)),{div:_,mod:x}):this.negative===0&&g.negative!==0?(j=this.divmod(g.neg(),w),w!=="mod"&&(_=j.div.neg()),{div:_,mod:j.mod}):this.negative&g.negative?(j=this.neg().divmod(g.neg(),w),w!=="div"&&(x=j.mod.neg(),T&&x.negative!==0&&x.isub(g)),{div:j.div,mod:x}):g.length>this.length||this.cmp(g)<0?{div:new i(0),mod:this}:g.length===1?w==="div"?{div:this.divn(g.words[0]),mod:null}:w==="mod"?{div:null,mod:new i(this.modrn(g.words[0]))}:{div:this.divn(g.words[0]),mod:new i(this.modrn(g.words[0]))}:this._wordDiv(g,w)},i.prototype.div=function(g){return this.divmod(g,"div",!1).div},i.prototype.mod=function(g){return this.divmod(g,"mod",!1).mod},i.prototype.umod=function(g){return this.divmod(g,"mod",!0).mod},i.prototype.divRound=function(g){var w=this.divmod(g);if(w.mod.isZero())return w.div;var T=w.div.negative!==0?w.mod.isub(g):w.mod,_=g.ushrn(1),x=g.andln(1),j=T.cmp(_);return j<0||x===1&&j===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},i.prototype.modrn=function(g){var w=g<0;w&&(g=-g),r(g<=67108863);for(var T=(1<<26)%g,_=0,x=this.length-1;x>=0;x--)_=(T*_+(this.words[x]|0))%g;return w?-_:_},i.prototype.modn=function(g){return this.modrn(g)},i.prototype.idivn=function(g){var w=g<0;w&&(g=-g),r(g<=67108863);for(var T=0,_=this.length-1;_>=0;_--){var x=(this.words[_]|0)+T*67108864;this.words[_]=x/g|0,T=x%g}return this._strip(),w?this.ineg():this},i.prototype.divn=function(g){return this.clone().idivn(g)},i.prototype.egcd=function(g){r(g.negative===0),r(!g.isZero());var w=this,T=g.clone();w.negative!==0?w=w.umod(g):w=w.clone();for(var _=new i(1),x=new i(0),j=new i(0),D=new i(1),P=0;w.isEven()&&T.isEven();)w.iushrn(1),T.iushrn(1),++P;for(var k=T.clone(),$=w.clone();!w.isZero();){for(var Z=0,Y=1;!(w.words[0]&Y)&&Z<26;++Z,Y<<=1);if(Z>0)for(w.iushrn(Z);Z-- >0;)(_.isOdd()||x.isOdd())&&(_.iadd(k),x.isub($)),_.iushrn(1),x.iushrn(1);for(var ne=0,he=1;!(T.words[0]&he)&&ne<26;++ne,he<<=1);if(ne>0)for(T.iushrn(ne);ne-- >0;)(j.isOdd()||D.isOdd())&&(j.iadd(k),D.isub($)),j.iushrn(1),D.iushrn(1);w.cmp(T)>=0?(w.isub(T),_.isub(j),x.isub(D)):(T.isub(w),j.isub(_),D.isub(x))}return{a:j,b:D,gcd:T.iushln(P)}},i.prototype._invmp=function(g){r(g.negative===0),r(!g.isZero());var w=this,T=g.clone();w.negative!==0?w=w.umod(g):w=w.clone();for(var _=new i(1),x=new i(0),j=T.clone();w.cmpn(1)>0&&T.cmpn(1)>0;){for(var D=0,P=1;!(w.words[0]&P)&&D<26;++D,P<<=1);if(D>0)for(w.iushrn(D);D-- >0;)_.isOdd()&&_.iadd(j),_.iushrn(1);for(var k=0,$=1;!(T.words[0]&$)&&k<26;++k,$<<=1);if(k>0)for(T.iushrn(k);k-- >0;)x.isOdd()&&x.iadd(j),x.iushrn(1);w.cmp(T)>=0?(w.isub(T),_.isub(x)):(T.isub(w),x.isub(_))}var Z;return w.cmpn(1)===0?Z=_:Z=x,Z.cmpn(0)<0&&Z.iadd(g),Z},i.prototype.gcd=function(g){if(this.isZero())return g.abs();if(g.isZero())return this.abs();var w=this.clone(),T=g.clone();w.negative=0,T.negative=0;for(var _=0;w.isEven()&&T.isEven();_++)w.iushrn(1),T.iushrn(1);do{for(;w.isEven();)w.iushrn(1);for(;T.isEven();)T.iushrn(1);var x=w.cmp(T);if(x<0){var j=w;w=T,T=j}else if(x===0||T.cmpn(1)===0)break;w.isub(T)}while(!0);return T.iushln(_)},i.prototype.invm=function(g){return this.egcd(g).a.umod(g)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(g){return this.words[0]&g},i.prototype.bincn=function(g){r(typeof g=="number");var w=g%26,T=(g-w)/26,_=1<<w;if(this.length<=T)return this._expand(T+1),this.words[T]|=_,this;for(var x=_,j=T;x!==0&&j<this.length;j++){var D=this.words[j]|0;D+=x,x=D>>>26,D&=67108863,this.words[j]=D}return x!==0&&(this.words[j]=x,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(g){var w=g<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;this._strip();var T;if(this.length>1)T=1;else{w&&(g=-g),r(g<=67108863,"Number is too big");var _=this.words[0]|0;T=_===g?0:_<g?-1:1}return this.negative!==0?-T|0:T},i.prototype.cmp=function(g){if(this.negative!==0&&g.negative===0)return-1;if(this.negative===0&&g.negative!==0)return 1;var w=this.ucmp(g);return this.negative!==0?-w|0:w},i.prototype.ucmp=function(g){if(this.length>g.length)return 1;if(this.length<g.length)return-1;for(var w=0,T=this.length-1;T>=0;T--){var _=this.words[T]|0,x=g.words[T]|0;if(_!==x){_<x?w=-1:_>x&&(w=1);break}}return w},i.prototype.gtn=function(g){return this.cmpn(g)===1},i.prototype.gt=function(g){return this.cmp(g)===1},i.prototype.gten=function(g){return this.cmpn(g)>=0},i.prototype.gte=function(g){return this.cmp(g)>=0},i.prototype.ltn=function(g){return this.cmpn(g)===-1},i.prototype.lt=function(g){return this.cmp(g)===-1},i.prototype.lten=function(g){return this.cmpn(g)<=0},i.prototype.lte=function(g){return this.cmp(g)<=0},i.prototype.eqn=function(g){return this.cmpn(g)===0},i.prototype.eq=function(g){return this.cmp(g)===0},i.red=function(g){return new H(g)},i.prototype.toRed=function(g){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),g.convertTo(this)._forceRed(g)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(g){return this.red=g,this},i.prototype.forceRed=function(g){return r(!this.red,"Already a number in reduction context"),this._forceRed(g)},i.prototype.redAdd=function(g){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,g)},i.prototype.redIAdd=function(g){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,g)},i.prototype.redSub=function(g){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,g)},i.prototype.redISub=function(g){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,g)},i.prototype.redShl=function(g){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,g)},i.prototype.redMul=function(g){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.mul(this,g)},i.prototype.redIMul=function(g){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.imul(this,g)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(g){return r(this.red&&!g.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,g)};var S={k256:null,p224:null,p192:null,p25519:null};function N(M,g){this.name=M,this.p=new i(g,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}N.prototype._tmp=function(){var g=new i(null);return g.words=new Array(Math.ceil(this.n/13)),g},N.prototype.ireduce=function(g){var w=g,T;do this.split(w,this.tmp),w=this.imulK(w),w=w.iadd(this.tmp),T=w.bitLength();while(T>this.n);var _=T<this.n?-1:w.ucmp(this.p);return _===0?(w.words[0]=0,w.length=1):_>0?w.isub(this.p):w.strip!==void 0?w.strip():w._strip(),w},N.prototype.split=function(g,w){g.iushrn(this.n,0,w)},N.prototype.imulK=function(g){return g.imul(this.k)};function O(){N.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(O,N),O.prototype.split=function(g,w){for(var T=4194303,_=Math.min(g.length,9),x=0;x<_;x++)w.words[x]=g.words[x];if(w.length=_,g.length<=9){g.words[0]=0,g.length=1;return}var j=g.words[9];for(w.words[w.length++]=j&T,x=10;x<g.length;x++){var D=g.words[x]|0;g.words[x-10]=(D&T)<<4|j>>>22,j=D}j>>>=22,g.words[x-10]=j,j===0&&g.length>10?g.length-=10:g.length-=9},O.prototype.imulK=function(g){g.words[g.length]=0,g.words[g.length+1]=0,g.length+=2;for(var w=0,T=0;T<g.length;T++){var _=g.words[T]|0;w+=_*977,g.words[T]=w&67108863,w=_*64+(w/67108864|0)}return g.words[g.length-1]===0&&(g.length--,g.words[g.length-1]===0&&g.length--),g};function z(){N.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(z,N);function L(){N.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(L,N);function F(){N.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(F,N),F.prototype.imulK=function(g){for(var w=0,T=0;T<g.length;T++){var _=(g.words[T]|0)*19+w,x=_&67108863;_>>>=26,g.words[T]=x,w=_}return w!==0&&(g.words[g.length++]=w),g},i._prime=function(g){if(S[g])return S[g];var w;if(g==="k256")w=new O;else if(g==="p224")w=new z;else if(g==="p192")w=new L;else if(g==="p25519")w=new F;else throw new Error("Unknown prime "+g);return S[g]=w,w};function H(M){if(typeof M=="string"){var g=i._prime(M);this.m=g.p,this.prime=g}else r(M.gtn(1),"modulus must be greater than 1"),this.m=M,this.prime=null}H.prototype._verify1=function(g){r(g.negative===0,"red works only with positives"),r(g.red,"red works only with red numbers")},H.prototype._verify2=function(g,w){r((g.negative|w.negative)===0,"red works only with positives"),r(g.red&&g.red===w.red,"red works only with red numbers")},H.prototype.imod=function(g){return this.prime?this.prime.ireduce(g)._forceRed(this):(l(g,g.umod(this.m)._forceRed(this)),g)},H.prototype.neg=function(g){return g.isZero()?g.clone():this.m.sub(g)._forceRed(this)},H.prototype.add=function(g,w){this._verify2(g,w);var T=g.add(w);return T.cmp(this.m)>=0&&T.isub(this.m),T._forceRed(this)},H.prototype.iadd=function(g,w){this._verify2(g,w);var T=g.iadd(w);return T.cmp(this.m)>=0&&T.isub(this.m),T},H.prototype.sub=function(g,w){this._verify2(g,w);var T=g.sub(w);return T.cmpn(0)<0&&T.iadd(this.m),T._forceRed(this)},H.prototype.isub=function(g,w){this._verify2(g,w);var T=g.isub(w);return T.cmpn(0)<0&&T.iadd(this.m),T},H.prototype.shl=function(g,w){return this._verify1(g),this.imod(g.ushln(w))},H.prototype.imul=function(g,w){return this._verify2(g,w),this.imod(g.imul(w))},H.prototype.mul=function(g,w){return this._verify2(g,w),this.imod(g.mul(w))},H.prototype.isqr=function(g){return this.imul(g,g.clone())},H.prototype.sqr=function(g){return this.mul(g,g)},H.prototype.sqrt=function(g){if(g.isZero())return g.clone();var w=this.m.andln(3);if(r(w%2===1),w===3){var T=this.m.add(new i(1)).iushrn(2);return this.pow(g,T)}for(var _=this.m.subn(1),x=0;!_.isZero()&&_.andln(1)===0;)x++,_.iushrn(1);r(!_.isZero());var j=new i(1).toRed(this),D=j.redNeg(),P=this.m.subn(1).iushrn(1),k=this.m.bitLength();for(k=new i(2*k*k).toRed(this);this.pow(k,P).cmp(D)!==0;)k.redIAdd(D);for(var $=this.pow(k,_),Z=this.pow(g,_.addn(1).iushrn(1)),Y=this.pow(g,_),ne=x;Y.cmp(j)!==0;){for(var he=Y,de=0;he.cmp(j)!==0;de++)he=he.redSqr();r(de<ne);var le=this.pow($,new i(1).iushln(ne-de-1));Z=Z.redMul(le),$=le.redSqr(),Y=Y.redMul($),ne=de}return Z},H.prototype.invm=function(g){var w=g._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},H.prototype.pow=function(g,w){if(w.isZero())return new i(1).toRed(this);if(w.cmpn(1)===0)return g.clone();var T=4,_=new Array(1<<T);_[0]=new i(1).toRed(this),_[1]=g;for(var x=2;x<_.length;x++)_[x]=this.mul(_[x-1],g);var j=_[0],D=0,P=0,k=w.bitLength()%26;for(k===0&&(k=26),x=w.length-1;x>=0;x--){for(var $=w.words[x],Z=k-1;Z>=0;Z--){var Y=$>>Z&1;if(j!==_[0]&&(j=this.sqr(j)),Y===0&&D===0){P=0;continue}D<<=1,D|=Y,P++,!(P!==T&&(x!==0||Z!==0))&&(j=this.mul(j,_[D]),P=0,D=0)}k=26}return j},H.prototype.convertTo=function(g){var w=g.umod(this.m);return w===g?w.clone():w},H.prototype.convertFrom=function(g){var w=g.clone();return w.red=null,w},i.mont=function(g){return new G(g)};function G(M){H.call(this,M),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(G,H),G.prototype.convertTo=function(g){return this.imod(g.ushln(this.shift))},G.prototype.convertFrom=function(g){var w=this.imod(g.mul(this.rinv));return w.red=null,w},G.prototype.imul=function(g,w){if(g.isZero()||w.isZero())return g.words[0]=0,g.length=1,g;var T=g.imul(w),_=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=T.isub(_).iushrn(this.shift),j=x;return x.cmp(this.m)>=0?j=x.isub(this.m):x.cmpn(0)<0&&(j=x.iadd(this.m)),j._forceRed(this)},G.prototype.mul=function(g,w){if(g.isZero()||w.isZero())return new i(0)._forceRed(this);var T=g.mul(w),_=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=T.isub(_).iushrn(this.shift),j=x;return x.cmp(this.m)>=0?j=x.isub(this.m):x.cmpn(0)<0&&(j=x.iadd(this.m)),j._forceRed(this)},G.prototype.invm=function(g){var w=this.imod(g._invmp(this.m).mul(this.r2));return w._forceRed(this)}})(e,bi)})(Dx);var NP=Dx.exports;const J3=ap(NP);var e5;(function(e){e.ETH="eth",e.POL="pol",e.BSC="bsc",e.DAI="dai",e.FTM="ftm",e.AVA="ava",e.ARB="arb",e.OPT="opt",e.ONE="one",e.FSN="fsn",e.MOR="mor",e.CEL="cel",e.FUS="fus",e.TLO="tlo",e.CRO="cro",e.BOB="bob",e.RSK="rsk",e.VEL="vel",e.MOO="moo",e.MAM="mam",e.AUR="aur",e.EVM="evm",e.ARN="arn",e.ERA="era",e.PZE="pze",e.LNA="lna",e.BAS="bas",e.SCL="scl",e.MOD="mod",e.MNT="mnt",e.BLS="bls",e.SEI="sei",e.FRA="fra",e.TAI="tai",e.GRA="gra",e.IMX="imx",e.KAI="kai",e.XLY="xly",e.OPB="opb",e.WCC="wcc",e.LSK="lsk",e.ABS="abs",e.BER="ber",e.SON="son",e.UNI="uni",e.APE="ape",e.SOE="soe",e.INK="ink",e.LNS="lns",e.SWL="swl",e.CRN="crn",e.ETL="etl",e.SUP="sup",e.HYP="hyp",e.XDC="xdc",e.BOC="boc",e.VIC="vic",e.FLR="flr",e.KAT="kat",e.VAN="van",e.RON="ron",e.PLU="plu",e.NIB="nib",e.HPL="hpl",e.SOP="sop",e.PLA="pla",e.FLW="flw",e.HMI="hmi",e.SOL="sol",e.TER="ter",e.OAS="oas",e.SUI="sui",e.BTC="btc",e.BCH="bch",e.LTC="ltc",e.DGE="dge",e.TRN="trn"})(e5||(e5={}));var Jt;(function(e){e[e.ETH=1]="ETH",e[e.POL=137]="POL",e[e.BSC=56]="BSC",e[e.DAI=100]="DAI",e[e.FTM=250]="FTM",e[e.AVA=43114]="AVA",e[e.ARB=42161]="ARB",e[e.OPT=10]="OPT",e[e.ONE=16666e5]="ONE",e[e.FSN=32659]="FSN",e[e.MOR=1285]="MOR",e[e.CEL=42220]="CEL",e[e.FUS=122]="FUS",e[e.TLO=40]="TLO",e[e.CRO=25]="CRO",e[e.BOB=288]="BOB",e[e.RSK=30]="RSK",e[e.VEL=106]="VEL",e[e.MOO=1284]="MOO",e[e.MAM=1088]="MAM",e[e.AUR=1313161554]="AUR",e[e.EVM=9001]="EVM",e[e.ARN=42170]="ARN",e[e.ERA=324]="ERA",e[e.PZE=1101]="PZE",e[e.LNA=59144]="LNA",e[e.BAS=8453]="BAS",e[e.SCL=534352]="SCL",e[e.MOD=34443]="MOD",e[e.MNT=5e3]="MNT",e[e.BLS=81457]="BLS",e[e.SEI=1329]="SEI",e[e.FRA=252]="FRA",e[e.TAI=167e3]="TAI",e[e.GRA=1625]="GRA",e[e.IMX=13371]="IMX",e[e.KAI=8217]="KAI",e[e.XLY=196]="XLY",e[e.OPB=204]="OPB",e[e.WCC=480]="WCC",e[e.LSK=1135]="LSK",e[e.ABS=2741]="ABS",e[e.BER=80094]="BER",e[e.SON=146]="SON",e[e.UNI=130]="UNI",e[e.APE=33139]="APE",e[e.SOE=1868]="SOE",e[e.INK=57073]="INK",e[e.LNS=232]="LNS",e[e.SWL=1923]="SWL",e[e.CRN=21e6]="CRN",e[e.ETL=42793]="ETL",e[e.SUP=55244]="SUP",e[e.HYP=999]="HYP",e[e.XDC=50]="XDC",e[e.BOC=60808]="BOC",e[e.VIC=88]="VIC",e[e.FLR=14]="FLR",e[e.KAT=747474]="KAT",e[e.VAN=1480]="VAN",e[e.RON=2020]="RON",e[e.PLU=98866]="PLU",e[e.NIB=6900]="NIB",e[e.HPL=1337]="HPL",e[e.SOP=50104]="SOP",e[e.PLA=9745]="PLA",e[e.FLW=747]="FLW",e[e.HMI=43111]="HMI",e[e.SOL=0x416edef1601be]="SOL",e[e.TER=0x41feef8a540be]="TER",e[e.OAS=0x65d650afb73e]="OAS",e[e.SUI=927e13]="SUI",e[e.BTC=20000000000001]="BTC",e[e.BCH=20000000000002]="BCH",e[e.LTC=20000000000003]="LTC",e[e.DGE=20000000000004]="DGE",e[e.TRN=728126428]="TRN"})(Jt||(Jt={}));var cn;(function(e){e.EVM="EVM",e.SVM="SVM",e.MVM="MVM",e.UTXO="UTXO",e.TVM="TVM"})(cn||(cn={}));const xt=(()=>{const e={integrator:"lifi-sdk",apiUrl:"https://li.quest/v1",rpcUrls:{},chains:[],providers:[],preloadChains:!0,debug:!1};let t;return{set loading(n){t=n},get(){return e},set(n){const{chains:r,providers:s,rpcUrls:i,...o}=n;return Object.assign(e,o),r&&this.setChains(r),s&&this.setProviders(s),i&&this.setRPCUrls(i),e},getProvider(n){return e.providers.find(r=>r.type===n)},setProviders(n){const r=new Map(e.providers.map(s=>[s.type,s]));for(const s of n)r.set(s.type,s);e.providers=Array.from(r.values())},setChains(n){const r=n.reduce((s,i)=>{var o,a;return(a=(o=i.metamask)==null?void 0:o.rpcUrls)!=null&&a.length&&(s[i.id]=i.metamask.rpcUrls),s},{});this.setRPCUrls(r,[Jt.SOL]),e.chains=n,t=void 0},async getChains(){return t&&await t,e.chains},async getChainById(n){var s;t&&await t;const r=(s=e.chains)==null?void 0:s.find(i=>i.id===n);if(!r)throw new Error(`ChainId ${n} not found`);return r},setRPCUrls(n,r){var s;for(const i in n){const o=Number(i),a=n[o];if(a!=null&&a.length){if(!((s=e.rpcUrls[o])!=null&&s.length))e.rpcUrls[o]=Array.from(a);else if(!(r!=null&&r.includes(o))){const c=a.filter(u=>{var l;return!((l=e.rpcUrls[o])!=null&&l.includes(u))});e.rpcUrls[o].push(...c)}}}},async getRPCUrls(){return t&&await t,e.rpcUrls}}})(),zg=async e=>{const t=(await xt.getRPCUrls())[e];if(!(t!=null&&t.length))throw new Error(`RPC URL not found for chainId: ${e}`);return t},OP={[Jt.ETH]:"0x578853aa776Eef10CeE6c4dd2B5862bdcE767A8B",[Jt.POL]:"0x91EDd8708062bd4233f4Dd0FCE15A7cb4d500091"},eee=e=>OP[e],t5=[{constant:!0,inputs:[{internalType:"string[]",name:"keys",type:"string[]"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getData",outputs:[{internalType:"address",name:"resolver",type:"address"},{internalType:"address",name:"owner",type:"address"},{internalType:"string[]",name:"values",type:"string[]"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"exists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],tee={[cn.EVM]:"ETH",[cn.MVM]:"SUI",[cn.SVM]:"SOL",[cn.UTXO]:"BTC",[cn.TVM]:"TRON"},nee={[Jt.ETH]:"ETH",[Jt.BTC]:"BTC",[Jt.SUI]:"SUI",[Jt.SOL]:"SOL",[Jt.BAS]:"BASE",[Jt.POL]:"MATIC",[Jt.ARB]:"ARB1",[Jt.AVA]:"AVAX"},ree={[cn.EVM]:"EVM",[cn.UTXO]:"BTC",[cn.SVM]:"SOL",[cn.MVM]:"SUI",[cn.TVM]:"TRON"},I0={},ju=async e=>{var o;if(I0[e])return I0[e];const n=(await zg(e)).map(a=>a.startsWith("wss")?xP(a):jx(a,{batch:{batchSize:64}})),r=await xt.getChainById(e),s={...r,...r.metamask,name:r.metamask.chainName,rpcUrls:{default:{http:r.metamask.rpcUrls},public:{http:r.metamask.rpcUrls}}};if(s.id===Jt.ETH&&(s.contracts={...$g.contracts,...s.contracts}),s.id===Jt.ETH||s.id===Jt.POL){const a=OP[s.id];s.contracts={...s.contracts,unsProxyReader:{address:a}}}const i=xt.getProvider(cn.EVM);return I0[e]=el({chain:s,transport:vP(n,(o=i==null?void 0:i.options)==null?void 0:o.fallbackTransportConfig),batch:{multicall:!0}}),I0[e]},vo=async(e,t,n,r)=>{var s,i;try{return await Ee(e,t,n)(r)}catch(o){if(!((s=e.account)!=null&&s.address))throw o;const a=(i=e.chain)==null?void 0:i.id;if(!a)throw o;const c=await ju(a);return await Ee(c,t,n)(r)}},see="0x0000000000000000000000000000000000000000",iee="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",oee="11111111111111111111111111111111";BigInt("0xffffffffffff");BigInt("0xffffffffffffffffffffffffffffffffffffffff");const Fg=0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffn,Lx=e=>e===see||e===iee,$x=Ca(["function callDiamondWithPermit2(bytes, ((address, uint256), uint256, uint256), bytes) external","function callDiamondWithEIP2612Signature(address, uint256, uint256, uint8, bytes32, bytes32, bytes) external payable","function nextNonce(address) external view returns (uint256)","function callDiamondWithPermit2Witness(bytes, address, ((address, uint256), uint256, uint256), bytes) external payable"]),Lc=Ca(["function permit(address, address, uint256, uint256, uint8, bytes32, bytes32) external","function DOMAIN_SEPARATOR() external view returns (bytes32)","function nonces(address) external view returns (uint256)","function name() external view returns (string)","function version() external view returns (string)","function PERMIT_TYPEHASH() external view returns (bytes32)","function eip712Domain() external view returns (bytes1, string, string, uint256, address, bytes32, uint256[])"]),aee=Ca(["function approve(address, uint256) external returns (bool)"]),cee=Ca(["function allowance(address, address) external view returns (uint256)"]),uee=Ca(["function getEthBalance(address) external view returns (uint256)"]),PP=Ca(["function balanceOf(address) external view returns (uint256)"]),lee=e=>{if(!e.length)return;const t=[...e].sort((r,s)=>r>s?1:r<s?-1:0),n=Math.floor(t.length/2);return t.length%2===0?(t[n-1]+t[n])/2n:t[n]},dee=e=>({...e,...e.metamask,blockExplorers:e.metamask.blockExplorerUrls.reduce((t,n,r)=>(t[r===0?"default":`${r}`]={name:n,url:n},t),{}),name:e.metamask.chainName,rpcUrls:{default:{http:e.metamask.rpcUrls},public:{http:e.metamask.rpcUrls}},contracts:{...e.multicallAddress?{multicall3:{address:e.multicallAddress}}:void 0}}),jP=async e=>{const n=(await vo(e,$i,"getBlock",{includeTransactions:!0})).transactions.filter(o=>o.maxPriorityFeePerGas).map(o=>o.maxPriorityFeePerGas);if(!n.length)return;let r=0n;for(const o of n)r+=o;const s=lee(n)??0n,i=r/BigInt(n.length);return s>i?i:s},zx=async e=>{var n;return(n=(await xt.getChains()).find(r=>r.id===e))==null?void 0:n.multicallAddress},ay=e=>{if(e.chainId)return Number(e.chainId);if(!e.salt)return null;try{const t=Number(e.salt);return Number.isNaN(t)?null:t}catch{return null}},fee=e=>e==null?void 0:e.startsWith("0xef0100"),hee=async(e,t,n,r)=>{try{return await vo(e,Jn,"readContract",{address:t,abi:cee,functionName:"allowance",args:[n,r]})}catch{return 0n}},pee=Fg,RP=Fg,DP=Fg,mee="0x8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f",yee="0x36c25de3e541d5d970f66e4210d728721220fff5c077cc6cd008b3a0c62adab7",gee="0xea2aa0a1be11a07ed86d755c93467f4f82362b452371d1ba94d1715123511acb",wee={Permit:[{name:"owner",type:"address"},{name:"spender",type:"address"},{name:"value",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}]};function bee({name:e,version:t,chainId:n,verifyingContract:r,withSalt:s=!1}){const i=zt(Yn(e)),o=zt(Yn(t)),a=s?Ei(xh("bytes32, bytes32, bytes32, address, bytes32"),[yee,i,o,r,Is(pt(n),{size:32})]):Ei(xh("bytes32, bytes32, bytes32, uint256, address"),[mee,i,o,BigInt(n),r]);return zt(a)}function n5({name:e,version:t,chainId:n,verifyingContract:r,domainSeparator:s}){if(!e||!s)return{isValid:!1,domain:{}};for(const i of[!1,!0]){const o=bee({name:e,version:t,chainId:n,verifyingContract:r,withSalt:i});if(s.toLowerCase()===o.toLowerCase())return{isValid:!0,domain:i?{name:e,version:t,verifyingContract:r,salt:Is(pt(n),{size:32})}:{name:e,version:t,chainId:n,verifyingContract:r}}}return{isValid:!1,domain:{}}}const vee=async e=>{try{const t=await vo(e,sy,"getCode",{address:e.account.address});return!!(!t||t==="0x"||fee(t))}catch{return!1}},Eee=async(e,t,n)=>{try{const r=await zx(t),s=[{address:n,abi:Lc,functionName:"eip712Domain"},{address:n,abi:Lc,functionName:"nonces",args:[e.account.address]}];if(r)try{const[p,m]=await vo(e,Up,"multicall",{contracts:s,multicallAddress:r});if(p.status!=="success"||m.status!=="success"||!p.result||m.result===void 0)throw new Error("EIP-5267 multicall failed");const[,y,b,I,v,E]=p.result;return Number(I)!==t||v.toLowerCase()!==n.toLowerCase()?void 0:{name:y,version:b,domain:E!==o2?{name:y,version:b,verifyingContract:n,salt:E}:{name:y,version:b,chainId:t,verifyingContract:n},permitTypehash:void 0,nonce:m.result}}catch{}const[i,o]=await Promise.allSettled(s.map(p=>vo(e,Jn,"readContract",p)));if(i.status!=="fulfilled"||o.status!=="fulfilled")return;const[,a,c,u,l,f]=i.value;return Number(u)!==t||l.toLowerCase()!==n.toLowerCase()?void 0:{name:a,version:c,domain:f!==o2?{name:a,version:c,verifyingContract:n,salt:f}:{name:a,version:c,chainId:t,verifyingContract:n},permitTypehash:void 0,nonce:o.value}}catch{return}},xee=async(e,t,n)=>{try{const r=await Eee(e,t,n);if(r)return r;const s=await zx(t),i=[{address:n,abi:Lc,functionName:"name"},{address:n,abi:Lc,functionName:"DOMAIN_SEPARATOR"},{address:n,abi:Lc,functionName:"PERMIT_TYPEHASH"},{address:n,abi:Lc,functionName:"nonces",args:[e.account.address]},{address:n,abi:Lc,functionName:"version"}];if(s)try{const[m,y,b,I,v]=await vo(e,Up,"multicall",{contracts:i,multicallAddress:s});if(m.status!=="success"||y.status!=="success"||I.status!=="success"||!m.result||!y.result||I.result===void 0)throw new Error("Multicall failed");const{isValid:E,domain:S}=n5({name:m.result,version:v.result??"1",chainId:t,verifyingContract:n,domainSeparator:y.result});return E?{name:m.result,domain:S,permitTypehash:b.result,nonce:I.result,version:v.result??"1"}:void 0}catch{}const[o,a,c,u,l]=await Promise.allSettled(i.map(m=>vo(e,Jn,"readContract",m)));if(o.status!=="fulfilled"||a.status!=="fulfilled"||u.status!=="fulfilled")return;const f=o.value,d=l.status==="fulfilled"?l.value:"1",{isValid:h,domain:p}=n5({name:f,version:d,chainId:t,verifyingContract:n,domainSeparator:a.value});return h?{name:f,domain:p,permitTypehash:c.status==="fulfilled"?c.value:void 0,nonce:u.value,version:d}:void 0}catch{return}},Aee=async(e,{chainId:t,tokenAddress:n,spenderAddress:r,amount:s})=>{if(!await vee(e))return;const o=await xee(e,t,n);if(!o||o.permitTypehash===gee)return;const a=BigInt(Math.floor(Date.now()/1e3)+30*60).toString(),c={owner:e.account.address,spender:r,value:s.toString(),nonce:o.nonce.toString(),deadline:a};return{primaryType:"Permit",domain:o.domain,types:wee,message:c}};var Qn;(function(e){e.RPCError="RPCError",e.ProviderError="ProviderError",e.ServerError="ServerError",e.TransactionError="TransactionError",e.ValidationError="ValidationError",e.BalanceError="BalanceError",e.NotFoundError="NotFoundError",e.UnknownError="UnknownError",e.SlippageError="SlippageError",e.HTTPError="HTTPError"})(Qn||(Qn={}));var $e;(function(e){e[e.InternalError=1e3]="InternalError",e[e.ValidationError=1001]="ValidationError",e[e.TransactionUnderpriced=1002]="TransactionUnderpriced",e[e.TransactionFailed=1003]="TransactionFailed",e[e.Timeout=1004]="Timeout",e[e.ProviderUnavailable=1005]="ProviderUnavailable",e[e.NotFound=1006]="NotFound",e[e.ChainSwitchError=1007]="ChainSwitchError",e[e.TransactionUnprepared=1008]="TransactionUnprepared",e[e.GasLimitError=1009]="GasLimitError",e[e.TransactionCanceled=1010]="TransactionCanceled",e[e.SlippageError=1011]="SlippageError",e[e.SignatureRejected=1012]="SignatureRejected",e[e.BalanceError=1013]="BalanceError",e[e.AllowanceRequired=1014]="AllowanceRequired",e[e.InsufficientFunds=1015]="InsufficientFunds",e[e.ExchangeRateUpdateCanceled=1016]="ExchangeRateUpdateCanceled",e[e.WalletChangedDuringExecution=1017]="WalletChangedDuringExecution",e[e.TransactionExpired=1018]="TransactionExpired",e[e.TransactionSimulationFailed=1019]="TransactionSimulationFailed",e[e.TransactionConflict=1020]="TransactionConflict",e[e.TransactionNotFound=1021]="TransactionNotFound",e[e.TransactionRejected=1022]="TransactionRejected",e[e.RateLimitExceeded=1023]="RateLimitExceeded",e[e.ThirdPartyError=1024]="ThirdPartyError",e[e.InsufficientGas=1025]="InsufficientGas"})($e||($e={}));var ia;(function(e){e.UnknownError="Unknown error occurred.",e.SlippageError="The slippage is larger than the defined threshold. Please request a new route to get a fresh quote.",e.GasLimitLow="Gas limit is too low.",e.TransactionUnderpriced="Transaction is underpriced.",e.TransactionReverted="Transaction was reverted."})(ia||(ia={}));const Iee=e=>{let t=e;for(;t!=null&&t.cause;)t=t.cause;return t};let Os=class extends Error{constructor(n,r,s,i){super(s);pe(this,"code");pe(this,"cause");this.name=n,this.code=r,this.cause=i;const o=Iee(this.cause);o!=null&&o.stack&&(this.stack=o.stack)}};class m2 extends Os{constructor(t,n,r){super(Qn.ProviderError,t,n,r)}}class ct extends Os{constructor(t,n,r){super(Qn.TransactionError,t,n,r)}}class Hg extends Os{constructor(t,n){super(Qn.UnknownError,$e.InternalError,t,n)}}class See extends Os{constructor(t,n){super(Qn.BalanceError,$e.BalanceError,t,n)}}class kee extends Os{constructor(t){super(Qn.ServerError,$e.InternalError,t)}}class Yi extends Os{constructor(t){super(Qn.ValidationError,$e.ValidationError,t)}}const y2="3.12.14";class ur extends Error{constructor(n,r,s){const i=`${n.message?`[${n.name}] ${n.message}`:"Unknown error occurred"}
LI.FI SDK version: ${y2}`;super(i);pe(this,"step");pe(this,"process");pe(this,"code");pe(this,"name","SDKError");pe(this,"cause");this.name="SDKError",this.step=r,this.process=s,this.cause=n,this.stack=this.cause.stack,this.code=n.code}}const Cee=new Map([[400,{type:Qn.ValidationError,code:$e.ValidationError}],[404,{type:Qn.NotFoundError,code:$e.NotFound}],[409,{type:Qn.SlippageError,code:$e.SlippageError,message:ia.SlippageError}],[424,{type:Qn.ServerError,code:$e.ThirdPartyError}],[429,{type:Qn.ServerError,code:$e.RateLimitExceeded}],[500,{type:Qn.ServerError,code:$e.InternalError}]]),Tee=e=>Cee.get(e)??{type:Qn.ServerError,code:$e.InternalError},_ee=e=>{const t=e.status||e.status===0?e.status:"",n=e.statusText||"",r=`${t} ${n}`.trim();return`Request failed with ${r?`status code ${r}`:"an unknown error"}`};class Mee extends Os{constructor(n,r,s){const i=Tee(n.status),o=i!=null&&i.message?`
${i.message}`:"",a=_ee(n)+o;super(Qn.HTTPError,i.code,a);pe(this,"response");pe(this,"status");pe(this,"url");pe(this,"fetchOptions");pe(this,"type");pe(this,"responseBody");this.type=i.type,this.response=n,this.status=n.status,this.message=a,this.url=r,this.fetchOptions=s}async buildAdditionalDetails(){var n,r;this.type&&(this.message=`[${this.type}] ${this.message}`);try{this.responseBody=await this.response.json(),this.responseBody&&(this.message+=this.message.endsWith(".")?` ${(n=this.responseBody)==null?void 0:n.message.toString()}`:`. ${(r=this.responseBody)==null?void 0:r.message.toString()}`)}catch{}return this}}function Ru(e){return new Promise(t=>{setTimeout(()=>t(null),e)})}const r5={retries:1},Bee=({retries:e,...t})=>({...t}),eo=async(e,t={retries:r5.retries})=>{var o;const{userId:n,integrator:r,widgetVersion:s,apiKey:i}=xt.get();if(!r)throw new ur(new Yi("You need to provide the Integrator property. Please see documentation https://docs.li.fi/integrate-li.fi-js-sdk/set-up-the-sdk"));t.retries=t.retries??r5.retries;try{i&&(t.headers={...t.headers,"x-lifi-api-key":i}),n&&(t.headers={...t.headers,"x-lifi-userid":n}),s&&(t.headers={...t.headers,"x-lifi-widget":s}),y2&&(t.headers={...t.headers,"x-lifi-sdk":y2}),t.headers={...t.headers,"x-lifi-integrator":r};const a=await fetch(e,Bee(t));if(!a.ok)throw new Mee(a,e,t);return await a.json()}catch(a){if(t.retries>0&&a.status===500)return await Ru(500),eo(e,{...t,retries:t.retries-1});throw await((o=a.buildAdditionalDetails)==null?void 0:o.call(a)),new ur(a)}},Nee=e=>{const{fromChainId:t,fromAmount:n,fromTokenAddress:r,toChainId:s,toTokenAddress:i,options:o}=e;return typeof t=="number"&&typeof n=="string"&&n!==""&&typeof r=="string"&&r!==""&&typeof s=="number"&&typeof i=="string"&&i!==""&&(!o||Oee(o))},Oee=e=>!(e!=null&&e.slippage)||typeof e.slippage=="number",Pee=e=>{const{id:t,type:n,tool:r,action:s,estimate:i}=e;return typeof t=="string"&&["swap","cross","lifi"].includes(n)&&typeof r=="string"&&jee(s)&&Ree(i)},jee=e=>{const{fromChainId:t,fromAmount:n,fromToken:r,toChainId:s,toToken:i}=e;return typeof t=="number"&&typeof n=="string"&&n!==""&&g2(r)&&typeof s=="number"&&g2(i)},Ree=e=>{const{fromAmount:t,toAmount:n,toAmountMin:r,approvalAddress:s}=e;return typeof t=="string"&&t!==""&&typeof n=="string"&&n!==""&&typeof r=="string"&&r!==""&&(typeof s=="string"||s===null)},g2=e=>{const{address:t,decimals:n,chainId:r}=e;return typeof t=="string"&&typeof n=="number"&&typeof r=="number"};let Dee=class extends Map{constructor(n){super();pe(this,"maxSize");this.maxSize=n}set(n,r){return super.set(n,r),this.maxSize&&this.size>this.maxSize&&this.delete(this.keys().next().value),this}};const S0=new Dee(8192);function cc(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(S0.get(n))return S0.get(n);const r=e().finally(()=>S0.delete(n));return S0.set(n,r),r}const jbe=async(e,t)=>{if(!Nee(e))throw new ur(new Yi("Invalid routes request."));const n=xt.get();return e.options={integrator:n.integrator,...n.routeOptions,...e.options},await eo(`${n.apiUrl}/advanced/routes`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),signal:t==null?void 0:t.signal})},qg=async(e,t)=>(Pee(e)||console.warn("SDK Validation: Invalid Step",e),await eo(`${xt.get().apiUrl}/advanced/stepTransaction`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),signal:t==null?void 0:t.signal})),Uee=async(e,t)=>{if(!e.txHash)throw new ur(new Yi('Required parameter "txHash" is missing.'));const n=new URLSearchParams(e);return await eo(`${xt.get().apiUrl}/status?${n}`,{signal:t==null?void 0:t.signal})},Lee=async(e,t)=>{var i,o,a,c,u,l,f,d,h,p,m,y,b,I,v,E;const n=["fromChain","fromToken","fromAddress","fromAmount","toChain","toToken"];for(const S of n)if(!e[S])throw new ur(new Yi(`Required parameter "${S}" is missing.`));const r=xt.get();e.integrator??(e.integrator=r.integrator),e.order??(e.order=(i=r.routeOptions)==null?void 0:i.order),e.slippage??(e.slippage=(o=r.routeOptions)==null?void 0:o.slippage),e.referrer??(e.referrer=(a=r.routeOptions)==null?void 0:a.referrer),e.fee??(e.fee=(c=r.routeOptions)==null?void 0:c.fee),e.allowBridges??(e.allowBridges=(l=(u=r.routeOptions)==null?void 0:u.bridges)==null?void 0:l.allow),e.denyBridges??(e.denyBridges=(d=(f=r.routeOptions)==null?void 0:f.bridges)==null?void 0:d.deny),e.preferBridges??(e.preferBridges=(p=(h=r.routeOptions)==null?void 0:h.bridges)==null?void 0:p.prefer),e.allowExchanges??(e.allowExchanges=(y=(m=r.routeOptions)==null?void 0:m.exchanges)==null?void 0:y.allow),e.denyExchanges??(e.denyExchanges=(I=(b=r.routeOptions)==null?void 0:b.exchanges)==null?void 0:I.deny),e.preferExchanges??(e.preferExchanges=(E=(v=r.routeOptions)==null?void 0:v.exchanges)==null?void 0:E.prefer);for(const S of Object.keys(e))e[S]||delete e[S];const s=await eo(`${xt.get().apiUrl}/relayer/quote?${new URLSearchParams(e)}`,{signal:t==null?void 0:t.signal});if(s.status==="error")throw new Os(Qn.ServerError,s.data.code,s.data.message);return s.data},$ee=async(e,t)=>{const n=["typedData"];for(const i of n)if(!e[i])throw new ur(new Yi(`Required parameter "${i}" is missing.`));const r=e.typedData.some(i=>i.primaryType==="PermitWitnessTransferFrom")?"/relayer/relay":"/advanced/relay",s=await eo(`${xt.get().apiUrl}${r}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e,(i,o)=>typeof o=="bigint"?o.toString():o),signal:t==null?void 0:t.signal});if(s.status==="error")throw new Os(Qn.ServerError,s.data.code,s.data.message);return s.data},zee=async(e,t)=>{if(!e.taskId)throw new ur(new Yi('Required parameter "taskId" is missing.'));const{taskId:n,...r}=e,s=new URLSearchParams(r),i=await eo(`${xt.get().apiUrl}/relayer/status/${n}?${s}`,{signal:t==null?void 0:t.signal});if(i.status==="error")throw new Os(Qn.ServerError,i.data.code,i.data.message);return i.data},UP=async(e,t)=>{if(e)for(const s of Object.keys(e))e[s]||delete e[s];const n=new URLSearchParams(e).toString();return(await cc(()=>eo(`${xt.get().apiUrl}/chains?${n}`,{signal:t==null?void 0:t.signal}),{id:`${UP.name}.${n}`})).chains};async function Fee(e,t){if(e)for(const s of Object.keys(e))e[s]||delete e[s];const n=new URLSearchParams(e).toString();return e==null||e.extended,await cc(()=>eo(`${xt.get().apiUrl}/tokens?${n}`,{signal:t==null?void 0:t.signal}),{id:`${Fee.name}.${n}`})}const Rbe=async(e,t,n)=>{if(!e)throw new ur(new Yi('Required parameter "chain" is missing.'));if(!t)throw new ur(new Yi('Required parameter "token" is missing.'));return await eo(`${xt.get().apiUrl}/token?${new URLSearchParams({chain:e,token:t})}`,{signal:n==null?void 0:n.signal})},Dbe=async({wallet:e,status:t,fromTimestamp:n,toTimestamp:r},s)=>{if(!e)throw new ur(new Yi('Required parameter "wallet" is missing.'));const i=xt.get(),o=new URL(`${i.apiUrl}/analytics/transfers`);return o.searchParams.append("integrator",i.integrator),o.searchParams.append("wallet",e),o.searchParams.append("status",t),n&&o.searchParams.append("fromTimestamp",n.toString()),r&&o.searchParams.append("toTimestamp",r.toString()),await eo(o,s)},oa={state:{},get(e){return this.state[e]},create(e){var t;return this.state[e.route.id]={...this.state[e.route.id],...e,executors:((t=this.state[e.route.id])==null?void 0:t.executors)??[]},this.state[e.route.id]},update(e){this.state[e.route.id]&&(this.state[e.route.id]={...this.state[e.route.id],...e})},delete(e){delete this.state[e]}},Hee={TOKEN_ALLOWANCE:{STARTED:"Setting token allowance",PENDING:"Waiting for token allowance",DONE:"Token allowance set"},SWAP:{STARTED:"Preparing swap transaction",ACTION_REQUIRED:"Sign swap transaction",MESSAGE_REQUIRED:"Sign swap message",PENDING:"Waiting for swap transaction",DONE:"Swap completed"},CROSS_CHAIN:{STARTED:"Preparing bridge transaction",ACTION_REQUIRED:"Sign bridge transaction",MESSAGE_REQUIRED:"Sign bridge message",PENDING:"Waiting for bridge transaction",DONE:"Bridge transaction confirmed"},RECEIVING_CHAIN:{PENDING:"Waiting for destination chain",DONE:"Bridge completed"},PERMIT:{STARTED:"Preparing transaction",ACTION_REQUIRED:"Sign permit message",PENDING:"Waiting for permit message",DONE:"Permit message signed"}},qee={PENDING:{BRIDGE_NOT_AVAILABLE:"Bridge communication is temporarily unavailable.",CHAIN_NOT_AVAILABLE:"RPC communication is temporarily unavailable.",UNKNOWN_ERROR:"An unexpected error occurred. Please seek assistance in the LI.FI discord server.",WAIT_SOURCE_CONFIRMATIONS:"The bridge deposit has been received. The bridge is waiting for more confirmations to start the off-chain logic.",WAIT_DESTINATION_TRANSACTION:"The bridge off-chain logic is being executed. Wait for the transaction to appear on the destination chain."},DONE:{PARTIAL:"Some of the received tokens are not the requested destination tokens.",REFUNDED:"The tokens were refunded to the sender address.",COMPLETED:"The transfer is complete."},FAILED:{},INVALID:{},NOT_FOUND:{}};function s5(e,t){return Hee[e][t]}function Wee(e,t){return t?qee[e][t]:void 0}class Gee{constructor(t){pe(this,"routeId");pe(this,"shouldUpdate",!0);pe(this,"initExecutionObject",t=>(t.execution||(t.execution={status:"PENDING",process:[],startedAt:Date.now()},this.updateStepInRoute(t)),t.execution.status==="FAILED"&&(t.execution.startedAt=Date.now(),t.execution.status="PENDING",this.updateStepInRoute(t)),t.execution));pe(this,"findOrCreateProcess",({step:t,type:n,chainId:r,status:s,startedAt:i})=>{const o=this.findProcess(t,n,s);if(o)return o;const a={type:n,startedAt:i??Date.now(),message:s5(n,s??"STARTED"),status:s??"STARTED",chainId:r};return t.execution.process.push(a),this.updateStepInRoute(t),a});pe(this,"updateProcess",(t,n,r,s)=>{if(!t.execution)throw new Error("Can't update an empty step execution.");const i=this.findProcess(t,n);if(!i)throw new Error("Can't find a process for the given type.");switch(r){case"CANCELLED":i.doneAt=Date.now();break;case"FAILED":i.doneAt=Date.now(),t.execution.status="FAILED";break;case"DONE":i.doneAt=Date.now();break;case"PENDING":t.execution.status="PENDING",i.pendingAt=Date.now();break;case"ACTION_REQUIRED":t.execution.status="ACTION_REQUIRED",i.actionRequiredAt=Date.now();break}if(i.status=r,i.message=s5(n,r),s)for(const[o,a]of Object.entries(s))i[o]=a;return t.execution.process=[...t.execution.process.filter(o=>o.status==="DONE"),...t.execution.process.filter(o=>o.status!=="DONE")],this.updateStepInRoute(t),i});pe(this,"removeProcess",(t,n)=>{if(!t.execution)throw new Error("Execution hasn't been initialized.");const r=t.execution.process.findIndex(s=>s.type===n);t.execution.process.splice(r,1),this.updateStepInRoute(t)});pe(this,"updateStepInRoute",t=>{var s,i;if(!this.shouldUpdate)return t;const n=oa.get(this.routeId);if(!n)throw new Error("Execution data not found.");const r=n.route.steps.findIndex(o=>o.id===t.id);if(r===-1)throw new Error("Couldn't find a step to update.");return n.route.steps[r]={...n.route.steps[r],...t},(i=(s=n.executionOptions)==null?void 0:s.updateRouteHook)==null||i.call(s,n.route),n.route.steps[r]});this.routeId=t}updateExecution(t,n,r){if(!t.execution)throw Error("Can't update empty execution.");return t.execution.status=n,n==="DONE"&&(t.execution.doneAt=Date.now()),r&&(t.execution={...t.execution,...r}),this.updateStepInRoute(t),t}findProcess(t,n,r){var i;if(!((i=t.execution)!=null&&i.process))throw new Error("Execution hasn't been initialized.");const s=t.execution.process.find(o=>o.type===n);return s&&r&&s.status!==r&&(s.status=r,this.updateStepInRoute(t)),s}allowUpdates(t){this.shouldUpdate=t}}const Vee={allowInteraction:!0,allowUpdates:!0,allowExecution:!0};class Wg{constructor(t){pe(this,"executionOptions");pe(this,"statusManager");pe(this,"allowUserInteraction",!0);pe(this,"allowExecution",!0);pe(this,"setInteraction",t=>{const n={...Vee,...t};this.allowUserInteraction=n.allowInteraction,this.statusManager.allowUpdates(n.allowUpdates),this.allowExecution=n.allowExecution});this.statusManager=new Gee(t.routeId),this.executionOptions=t.executionOptions}}const Kee=async(e,t)=>{const n=await Qee(e,[t]);return n.length?n[0]:null};async function Qee(e,t){const n=t.reduce((s,i)=>(s[i.chainId]||(s[i.chainId]=[]),s[i.chainId].push(i),s),{}),r=await Yee(e,n);return Object.values(r).flat()}async function Yee(e,t){if(!e)throw new Yi("Missing walletAddress.");if(Object.values(t).flat().filter(a=>!g2(a)).length)throw new Yi("Invalid tokens passed.");const s=xt.get().providers.find(a=>a.isAddress(e));if(!s)throw new Error(`SDK Token Provider for ${e} is not found.`);const i={},o=await Promise.allSettled(Object.keys(t).map(async a=>{const c=Number.parseInt(a,10),u=await xt.getChainById(c);if(s.type===u.chainType){const l=await s.getBalance(e,t[c]);i[c]=l}else i[c]=t[c]}));if(xt.get().debug)for(const a of o)a.status==="rejected"&&console.warn("Couldn't fetch token balance.",a.reason);return i}const $p=async(e,t,n=0)=>{const r=await Kee(e,t.action.fromToken);if(r){const s=r.amount??0n,i=BigInt(t.action.fromAmount);if(s<i)if(n<=3)await Ru(200),await $p(e,t,n+1);else if(i*BigInt((1-(t.action.slippage??0))*1e9)/1000000000n<=s)t.action.fromAmount=s.toString();else{const o=Su(i,r.decimals),a=Su(s,r.decimals);let c=`Your ${r.symbol} balance is too low, you try to transfer ${o} ${r.symbol}, but your wallet only holds ${a} ${r.symbol}. No funds have been sent.`;throw s!==0n&&(c+=`If the problem consists, please delete this transfer and start a new one with a maximum of ${a} ${r.symbol}.`),new See("The balance is too low.",new Error(c))}}},Zee=.005;function Xee(e,t){const n=e.action.slippage||Zee,r=BigInt(e.estimate.toAmountMin),s=BigInt(t.estimate.toAmountMin),i=r-s;let o=0;return r>0&&(o=Number(i*1000000000n/r)/1e9),o<=n}const Gg=async(e,t,n,r,s)=>{var o;if(Xee(t,n))return e.updateStepInRoute(n);let i;if(r&&(i=await((o=s==null?void 0:s.acceptExchangeRateUpdateHook)==null?void 0:o.call(s,{oldToAmount:t.estimate.toAmount,newToAmount:n.estimate.toAmount,toToken:n.action.toToken}))),!i)throw new ct($e.ExchangeRateUpdateCanceled,`Exchange rate has changed!
Transaction was not sent, your funds are still in your wallet.
The exchange rate has changed and the previous estimation can not be fulfilled due to value loss.`);return e.updateStepInRoute(n)},Jee=async(e,t)=>{const r=`It appears that your transaction may not have been successful.
  However, to confirm this, please check your ${(await xt.getChainById(e.action.toChainId)).name} wallet for ${e.action.toToken.symbol}.`;return t?`${r}
    You can also check the&nbsp;<a href="${t}" target="_blank" rel="nofollow noreferrer">block explorer</a> for more information.`:r},LP=async(e,t=5e3,n=3,r=()=>!0)=>{let s,i=0;for(;!s;)try{s=await e(),s||await Ru(t)}catch(o){if(!r(i,o)||(i++,i===n))throw o;await Ru(t)}return s},i5={};async function ete(e,t,n,r,s=5e3){const i=()=>Uee({fromChain:n.action.fromChainId,fromAddress:n.action.fromAddress,toChain:n.action.toChainId,txHash:t,...n.tool!=="custom"&&{bridge:n.tool}}).then(c=>{switch(c.status){case"DONE":return c;case"PENDING":e==null||e.updateProcess(n,r,"PENDING",{substatus:c.substatus,substatusMessage:c.substatusMessage||Wee(c.status,c.substatus),txLink:c.bridgeExplorerLink});return;case"NOT_FOUND":return;default:return Promise.reject()}}).catch(c=>{});let o=i5[t];o||(o=LP(i,s),i5[t]=o);const a=await o;if(!("receiving"in a))throw new kee("Status doesn't contain destination chain information.");return a}async function Mh(e,t,n,r,s,i){const o=t.txHash||t.taskId;let a=t.type;try{if(!o)throw new Error("Transaction hash is undefined.");n.id!==r.id&&(a=s.findOrCreateProcess({step:e,type:"RECEIVING_CHAIN",status:"PENDING",chainId:r.id,startedAt:t.doneAt}).type);const u=await ete(s,o,e,a,i),l=u.receiving;return s.updateProcess(e,a,"DONE",{substatus:u.substatus,substatusMessage:u.substatusMessage,txHash:l==null?void 0:l.txHash,txLink:(l==null?void 0:l.txLink)||`${r.metamask.blockExplorerUrls[0]}tx/${l==null?void 0:l.txHash}`}),s.updateExecution(e,"DONE",{...u.sending.amount&&{fromAmount:u.sending.amount},...(l==null?void 0:l.amount)&&{toAmount:l.amount},...(l==null?void 0:l.token)&&{toToken:l.token},internalTxLink:u==null?void 0:u.lifiExplorerLink,externalTxLink:u==null?void 0:u.bridgeExplorerLink,gasCosts:[{amount:u.sending.gasAmount,amountUSD:u.sending.gasAmountUSD,token:u.sending.gasToken,estimate:u.sending.gasUsed,limit:u.sending.gasUsed,price:u.sending.gasPrice,type:"SEND"}]}),e}catch(c){const u=await Jee(e,`${r.metamask.blockExplorerUrls[0]}tx/${o}`);throw s.updateProcess(e,a,"FAILED",{error:{code:$e.TransactionFailed,message:"Failed while waiting for status of destination chain transaction.",htmlMessage:u}}),s.updateExecution(e,"FAILED"),c}}const tte=async(e,t)=>{try{return await(await fetch(`https://api.tenderly.co/api/v1/public-contract/${t}/tx/${e}`)).json()}catch{}},w2=async(e,t,n)=>{if(e instanceof ur)return e.step=e.step??t,e.process=e.process??n,e;const r=await nte(e,t,n);return new ur(r,t,n)},nte=async(e,t,n)=>{var r,s,i,o,a,c,u,l;if(e.name==="UserRejectedRequestError"||((r=e.cause)==null?void 0:r.name)==="UserRejectedRequestError"||e.name==="UnknownBundleIdError")return new ct($e.SignatureRejected,e.message,e);if(((s=e.cause)==null?void 0:s.code)===-32e3||e.name==="TransactionExecutionError"&&((o=(i=e.cause)==null?void 0:i.details)!=null&&o.includes("rejected")))return new ct($e.SignatureRejected,e.message,e);if(((a=e.cause)==null?void 0:a.code)===-32603)return new ct($e.TransactionRejected,e.message,e);if(e.name==="InsufficientPrefundError"||((c=e.cause)==null?void 0:c.name)==="InsufficientPrefundError"||((l=(u=e.cause)==null?void 0:u.cause)==null?void 0:l.name)==="InsufficientPrefundError")return new ct($e.InsufficientGas,e.message,e);if(t&&(n!=null&&n.txHash)&&e.code===$e.TransactionFailed&&e.message===ia.TransactionReverted){const f=await tte(n.txHash,t.action.fromChainId),d=f==null?void 0:f.error_message;if(d!=null&&d.toLowerCase().includes("out of gas"))return new ct($e.GasLimitError,ia.GasLimitLow,e)}return e instanceof Os?e:new Hg(e.message||ia.UnknownError,e)},rte=e=>{var i,o,a,c;if(((i=e.cause)==null?void 0:i.code)===_u.code)return!0;const t=(a=(o=e.cause)==null?void 0:o.details)==null?void 0:a.toLowerCase(),n=e.name==="TransactionExecutionError"||((c=e.cause)==null?void 0:c.name)==="TransactionExecutionError",r=(t==null?void 0:t.includes("rejected"))&&(t==null?void 0:t.includes("upgrade")),s=t==null?void 0:t.includes("7702");return n&&(r||s)},b2=(e,t)=>{var o,a,c,u;if(e.primaryType!=="Permit"||Number(e.domain.chainId)!==Number(t.domain.chainId)||e.domain.salt&&e.domain.salt!==t.domain.salt)return!1;const n=e.message;if(!n||((o=n.spender)==null?void 0:o.toLowerCase())!==((a=t.message.spender)==null?void 0:a.toLowerCase())||((c=n.owner)==null?void 0:c.toLowerCase())!==((u=t.message.owner)==null?void 0:u.toLowerCase())||BigInt(n.value||0)<BigInt(t.message.value||0))return!1;const s=parseInt(n.deadline||0,10),i=Math.floor(Date.now()/1e3)+5*60;return!(s<=i)},ste=async(e,t,n,r,s,i)=>{var c;const o=_r({abi:aee,functionName:"approve",args:[n,r]});if(i)return o;let a={to:t,data:o,maxPriorityFeePerGas:((c=e.account)==null?void 0:c.type)==="local"?await jP(e):void 0};if(s!=null&&s.updateTransactionRequestHook){const u=await s.updateTransactionRequestHook({requestType:"approve",...a});a={...a,...u}}return Ee(e,sf,"sendTransaction")({to:a.to,account:e.account,data:a.data,gas:a.gas,gasPrice:a.gasPrice,maxFeePerGas:a.maxFeePerGas,maxPriorityFeePerGas:a.maxPriorityFeePerGas})};async function $P({client:e,chainId:t,txHash:n,onReplaced:r}){let{transactionReceipt:s,replacementReason:i}=await o5(e,n,r);if(!(s!=null&&s.status)){const o=await ju(t),a=await o5(o,n,r);s=a.transactionReceipt,i=a.replacementReason}if((s==null?void 0:s.status)==="reverted")throw new ct($e.TransactionFailed,"Transaction was reverted.");if(i==="cancelled"||i==="replaced")throw new ct($e.TransactionCanceled,"Transaction was canceled or replaced.");return s}async function o5(e,t,n){let r,s;try{s=await Mx(e,{hash:t,onReplaced:i=>{r=i.reason,n==null||n(i)}})}catch{}return{transactionReceipt:s,replacementReason:r}}const ite=async({checkClient:e,chain:t,step:n,statusManager:r,executionOptions:s,allowUserInteraction:i=!1,batchingSupported:o=!1,permit2Supported:a=!1,disableMessageSigning:c=!1})=>{var f;let u,l=[];try{const d=(f=n.typedData)==null?void 0:f.filter(S=>S.primaryType==="Permit");if(!c&&(d!=null&&d.length)){u=r.findOrCreateProcess({step:n,type:"PERMIT",chainId:n.action.fromChainId}),l=u.signedTypedData??l;for(const N of d){if(l.find(G=>b2(G,N)))continue;if(u=r.updateProcess(n,u.type,"ACTION_REQUIRED"),!i)return{status:"ACTION_REQUIRED"};const z=ay(N.domain)||n.action.fromChainId,L=await e(n,u,z);if(!L)return{status:"ACTION_REQUIRED"};const F=await Ee(L,_h,"signTypedData")({account:L.account,domain:N.domain,types:N.types,primaryType:N.primaryType,message:N.message}),H={...N,signature:F};l.push(H),u=r.updateProcess(n,u.type,"ACTION_REQUIRED",{signedTypedData:l})}if(r.updateProcess(n,u.type,"DONE",{signedTypedData:l}),l.find(N=>ay(N.domain)===n.action.fromChainId))return{status:"NATIVE_PERMIT",data:l}}u=r.findOrCreateProcess({step:n,type:"TOKEN_ALLOWANCE",chainId:n.action.fromChainId});const h=await e(n,u);if(!h)return{status:"ACTION_REQUIRED"};if(u.txHash&&u.status!=="DONE")return await a5(h,u.txHash,u.type,n,t,r),{status:"DONE",data:l};r.updateProcess(n,u.type,"STARTED");const p=a?t.permit2:n.estimate.approvalAddress,m=BigInt(n.action.fromAmount),y=await hee(h,n.action.fromToken.address,h.account.address,p);if(m<=y)return r.updateProcess(n,u.type,"DONE"),{status:"DONE",data:l};const b=!!t.permit2Proxy&&!o&&!c;let I;if(b&&(I=await vo(h,Aee,"getNativePermit",{chainId:t.id,tokenAddress:n.action.fromToken.address,spenderAddress:t.permit2Proxy,amount:m})),b&&I){if(l=l.length?l:u.signedTypedData||[],!l.find(N=>b2(N,I))){if(r.updateProcess(n,u.type,"ACTION_REQUIRED"),!i)return{status:"ACTION_REQUIRED"};const N=await Ee(h,_h,"signTypedData")({account:h.account,domain:I.domain,types:I.types,primaryType:I.primaryType,message:I.message}),O={...I,signature:N};l.push(O)}return r.updateProcess(n,u.type,"DONE",{signedTypedData:l}),{status:"NATIVE_PERMIT",data:l}}if(r.updateProcess(n,u.type,"ACTION_REQUIRED",{txHash:void 0,txLink:void 0}),!i)return{status:"ACTION_REQUIRED"};const v=a?Fg:m,E=await ste(h,n.action.fromToken.address,p,v,s,o);return o?(r.updateProcess(n,u.type,"DONE"),{status:"BATCH_APPROVAL",data:{call:{to:n.action.fromToken.address,data:E,chainId:n.action.fromToken.chainId},signedTypedData:l}}):(await a5(h,E,u.type,n,t,r),{status:"DONE",data:l})}catch(d){u||(u=r.findOrCreateProcess({step:n,type:"TOKEN_ALLOWANCE",chainId:n.action.fromChainId}));const h=await w2(d,n,u);throw r.updateProcess(n,u.type,"FAILED",{error:{message:h.cause.message,code:h.code}}),r.updateExecution(n,"FAILED"),h}},a5=async(e,t,n,r,s,i)=>{const o=s.metamask.blockExplorerUrls[0],a=l=>`${o}tx/${l}`;i.updateProcess(r,n,"PENDING",{txHash:t,txLink:a(t)});const c=await $P({client:e,chainId:s.id,txHash:t,onReplaced(l){const f=l.transaction.hash;i.updateProcess(r,n,"PENDING",{txHash:f,txLink:a(f)})}}),u=(c==null?void 0:c.transactionHash)||t;i.updateProcess(r,n,"DONE",{txHash:u,txLink:a(u)})};async function ote({client:e,chainId:t,skipReady:n=!1}){var s,i,o,a,c;const r=e??await((i=(s=xt.getProvider(cn.EVM))==null?void 0:s.getWalletClient)==null?void 0:i.call(s));if(!r)throw new Error("WalletClient is not provided.");try{const u=await Promise.race([Ee(r,mP,"getCapabilities")({chainId:t}),Ru(2e3)]);return((o=u==null?void 0:u.atomicBatch)==null?void 0:o.supported)||((a=u==null?void 0:u.atomic)==null?void 0:a.status)==="supported"||!n&&((c=u==null?void 0:u.atomic)==null?void 0:c.status)==="ready"||!1}catch{return!1}}const ate=(e,t,n,r,s)=>{const{v:i,r:o,s:a}=p2(r);return _r({abi:$x,functionName:"callDiamondWithEIP2612Signature",args:[e,t,n,Number(i),o,a,s]})},cte=(e,t,n,r,s,i,o,a)=>_r({abi:$x,functionName:"callDiamondWithPermit2",args:[s,[[e,t],n,r],i]}),ute=async(e,t,n,r)=>{const s=await vo(e,Jn,"readContract",{address:t.permit2Proxy,abi:$x,functionName:"nextNonce",args:[e.account.address]});return{permitted:{token:n,amount:r},spender:t.permit2Proxy,nonce:s,deadline:BigInt(Math.floor(Date.now()/1e3)+30*60)}},lte="Invariant failed";function Bh(e,t){if(!e)throw new Error(lte)}const dte="Permit2";function zP(e,t){return{name:dte,chainId:t,verifyingContract:e}}const Vg=[{name:"token",type:"address"},{name:"amount",type:"uint256"}],fte={TokenPermissions:Vg,PermitTransferFrom:[{name:"permitted",type:"TokenPermissions"},{name:"spender",type:"address"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}]},hte={TokenPermissions:Vg,PermitBatchTransferFrom:[{name:"permitted",type:"TokenPermissions[]"},{name:"spender",type:"address"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}]};function pte(e){return!Array.isArray(e.permitted)}function mte(e,t,n,r){Bh(DP>=e.deadline),Bh(RP>=e.nonce);const s=zP(t,n);FP(e.permitted);const i=r?{TokenPermissions:Vg,...r.witnessType,PermitWitnessTransferFrom:[{name:"permitted",type:"TokenPermissions"},{name:"spender",type:"address"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"},{name:"witness",type:r.witnessTypeName}]}:fte,o=r?Object.assign(e,{witness:r.witness}):e;return{domain:s,types:i,message:o}}function yte(e,t,n,r){Bh(DP>=e.deadline),Bh(RP>=e.nonce);const s=zP(t,n);e.permitted.forEach(FP);const i=r?{...r.witnessType,TokenPermissions:Vg,PermitBatchWitnessTransferFrom:[{name:"permitted",type:"TokenPermissions[]"},{name:"spender",type:"address"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"},{name:"witness",type:r.witnessTypeName}]}:hte,o=r?Object.assign(e,{witness:r.witness}):e;return{domain:s,types:i,message:o}}function gte(e,t,n,r){return pte(e)?mte(e,t,n,r):yte(e,t,n,r)}function FP(e){Bh(pee>=e.amount)}async function wte(e){const{client:t,chain:n,tokenAddress:r,amount:s,data:i,witness:o}=e,a=await ute(t,n,r,s),c=o?{witness:{diamondAddress:n.diamondAddress,diamondCalldataHash:zt(i)},witnessTypeName:"LiFiCall",witnessType:{LiFiCall:[{name:"diamondAddress",type:"address"},{name:"diamondCalldataHash",type:"bytes32"}]}}:void 0,u=gte(a,n.permit2,n.id,c),l=o?"PermitWitnessTransferFrom":"PermitTransferFrom",f=await Ee(t,_h,"signTypedData")({account:t.account,primaryType:l,domain:u.domain,types:u.types,message:u.message});return{...u,primaryType:l,signature:f}}const bte=async(e,t,n,r,s,i,o)=>{if(await Ee(e,ga,"getChainId")(void 0)===s)return e;if(i)try{if(!(o!=null&&o.switchChainHook))throw new m2($e.ChainSwitchError,"Chain switch hook is not provided.");const c=await o.switchChainHook(s);let u;if(c&&(u=await Ee(c,ga,"getChainId")(void 0)),u!==s)throw new m2($e.ChainSwitchError,"Chain switch required.");return c}catch(c){throw t.updateProcess(n,r.type,"FAILED",{error:{message:c.message,code:$e.ChainSwitchError}}),t.updateExecution(n,"FAILED"),c}};function O1(e){return!!e.typedData&&e.typedData.length>0}function vte(e,t){var n;return!!((n=e.typedData)!=null&&n.some(r=>r.primaryType==="PermitWitnessTransferFrom"))||!1}const Ete=async(e,t,n)=>{var s;const r=await Ee(e,ax,"waitForCallsStatus")({id:t,timeout:864e5});if(r.status==="success"){if(!((s=r.receipts)!=null&&s.length)||!r.receipts.every(o=>o.transactionHash)||r.receipts.some(o=>o.status==="reverted"))throw n==null||n(r),new ct($e.TransactionFailed,"Transaction was reverted.");return r.receipts.at(-1)}throw r.statusCode>=400&&r.statusCode<500?(n==null||n(r),new ct($e.TransactionCanceled,"Transaction was canceled.")):(n==null||n(r),new ct($e.TransactionFailed,"Transaction failed."))},xte=async(e,t)=>LP(async()=>{var r;const n=await zee({taskId:e,fromChain:t.action.fromChainId,toChain:t.action.toChainId,...t.tool!=="custom"&&{bridge:t.tool}}).catch(s=>{});switch(n==null?void 0:n.status){case"PENDING":return;case"DONE":{const s=(r=n==null?void 0:n.transactionStatus)==null?void 0:r.sending;return{status:"success",gasUsed:s==null?void 0:s.gasUsed,transactionHash:n==null?void 0:n.metadata.txHash,transactionLink:s==null?void 0:s.txLink}}case"FAILED":throw new ct($e.TransactionFailed,"Transaction was reverted.");default:throw new ct($e.TransactionNotFound,"Transaction not found.")}},5e3,3,(n,r)=>!(r instanceof ct&&r.code===$e.TransactionFailed));class Ate extends Wg{constructor(n){super(n);pe(this,"client");pe(this,"checkClient",async(n,r,s)=>{var a,c;const i=await bte(this.client,this.statusManager,n,r,s??n.action.fromChainId,this.allowUserInteraction,this.executionOptions);i&&(this.client=i);let o=(a=this.client.account)==null?void 0:a.address;if(!o){const u=await Ee(this.client,pP,"getAddresses")(void 0);o=u==null?void 0:u[0]}if((o==null?void 0:o.toLowerCase())!==((c=n.action.fromAddress)==null?void 0:c.toLowerCase())){const u="The wallet address that requested the quote does not match the wallet address attempting to sign the transaction.";throw this.statusManager.updateProcess(n,r.type,"FAILED",{error:{code:$e.WalletChangedDuringExecution,message:u}}),this.statusManager.updateExecution(n,"FAILED"),await w2(new ct($e.WalletChangedDuringExecution,u),n,r)}return i});pe(this,"waitForTransaction",async({step:n,process:r,fromChain:s,toChain:i,isBridgeExecution:o})=>{const a=u=>{if(u!=null&&u.transactionHash&&u.transactionHash!==r.txHash){const l=rt(u.transactionHash,{strict:!0})?u.transactionHash:void 0;r=this.statusManager.updateProcess(n,r.type,"PENDING",{txHash:l,txLink:u.transactionLink||(l?`${s.metamask.blockExplorerUrls[0]}tx/${l}`:void 0)})}};let c;switch(r.txType){case"batched":c=await Ete(this.client,r.taskId,u=>{var f;const l=(f=u.receipts)==null?void 0:f.find(d=>d.status==="reverted");l&&a(l)});break;case"relayed":c=await xte(r.taskId,n);break;default:c=await $P({client:this.client,chainId:s.id,txHash:r.txHash,onReplaced:u=>{this.statusManager.updateProcess(n,r.type,"PENDING",{txHash:u.transaction.hash,txLink:`${s.metamask.blockExplorerUrls[0]}tx/${u.transaction.hash}`})}})}a(c),o&&(r=this.statusManager.updateProcess(n,r.type,"DONE")),await Mh(n,r,s,i,this.statusManager)});pe(this,"prepareUpdatedStep",async(n,r)=>{var f,d,h;const{execution:s,...i}=n,o=O1(n),a=vte(n);let c;if(o&&a)c={...await Lee({fromChain:i.action.fromChainId,fromToken:i.action.fromToken.address,fromAddress:i.action.fromAddress,fromAmount:i.action.fromAmount,toChain:i.action.toChainId,toToken:i.action.toToken.address,slippage:i.action.slippage,toAddress:i.action.toAddress,allowBridges:[i.tool]}),id:i.id};else{const p=r==null?void 0:r.filter(I=>I.signature),{typedData:m,...y}=i,b=p!=null&&p.length?{...y,typedData:p}:y;c=await qg(b)}const u=await Gg(this.statusManager,n,c,this.allowUserInteraction,this.executionOptions);if(Object.assign(n,{...u,execution:n.execution,typedData:c.typedData??n.typedData}),!n.transactionRequest&&!((f=n.typedData)!=null&&f.length))throw new ct($e.TransactionUnprepared,"Unable to prepare transaction.");let l;if(n.transactionRequest&&(l={to:n.transactionRequest.to,from:n.transactionRequest.from,data:n.transactionRequest.data,value:n.transactionRequest.value?BigInt(n.transactionRequest.value):void 0,gas:n.transactionRequest.gasLimit?BigInt(n.transactionRequest.gasLimit):void 0,maxPriorityFeePerGas:((d=this.client.account)==null?void 0:d.type)==="local"?await jP(this.client):n.transactionRequest.maxPriorityFeePerGas?BigInt(n.transactionRequest.maxPriorityFeePerGas):void 0}),(h=this.executionOptions)!=null&&h.updateTransactionRequestHook&&l){const p=await this.executionOptions.updateTransactionRequestHook({requestType:"transaction",...l});l={...l,...p}}return{transactionRequest:l,isRelayerTransaction:O1(c)}});pe(this,"estimateTransactionRequest",async(n,r)=>{n.to=r.permit2Proxy;try{const s=await vo(this.client,Eg,"estimateGas",{account:this.client.account,to:n.to,data:n.data,value:n.value});n.gas=n.gas&&n.gas>s?n.gas:s}catch{n.gas&&(n.gas=n.gas+80000n)}return n});pe(this,"executeStep",async(n,r=!1)=>{var I,v,E;n.execution=this.statusManager.initExecutionObject(n);const s=(I=n.execution)==null?void 0:I.process.find(S=>S.type==="RECEIVING_CHAIN");if(s&&s.substatus!=="WAIT_DESTINATION_TRANSACTION"&&!await this.checkClient(n,s))return n;const i=await xt.getChainById(n.action.fromChainId),o=await xt.getChainById(n.action.toChainId),a=[];let c=[];const u=r||n.tool==="thorswap"||O1(n)?!1:await ote({client:this.client,chainId:i.id}),l=i.id!==o.id,f=l?"CROSS_CHAIN":"SWAP",d=n.execution.process.find(S=>S.type===f),h=i.nativeToken.address===n.action.fromToken.address&&Lx(n.action.fromToken.address),p=((v=this.executionOptions)==null?void 0:v.disableMessageSigning)||n.type!=="lifi",m=!!i.permit2&&!!i.permit2Proxy&&!u&&!h&&!p&&!!n.estimate.approvalAddress;if(!(d!=null&&d.txHash)&&!(d!=null&&d.taskId)&&!h&&!!n.estimate.approvalAddress){const S=await ite({checkClient:this.checkClient,chain:i,step:n,statusManager:this.statusManager,executionOptions:this.executionOptions,allowUserInteraction:this.allowUserInteraction,batchingSupported:u,permit2Supported:m,disableMessageSigning:p});switch(S.status){case"BATCH_APPROVAL":a.push(S.data.call),c=S.data.signedTypedData;break;case"NATIVE_PERMIT":c=S.data;break;case"DONE":c=S.data;break;default:if(!this.allowUserInteraction)return n;break}}let b=this.statusManager.findProcess(n,f);try{if((b==null?void 0:b.status)==="DONE")return await Mh(n,b,i,o,this.statusManager),n;if(b!=null&&b.txHash||b!=null&&b.taskId)return await this.checkClient(n,b)&&await this.waitForTransaction({step:n,process:b,fromChain:i,toChain:o,isBridgeExecution:l}),n;b=this.statusManager.findOrCreateProcess({step:n,type:f,status:"STARTED",chainId:i.id}),await $p(this.client.account.address,n);let{transactionRequest:S,isRelayerTransaction:N}=await this.prepareUpdatedStep(n,c);if(!await this.checkClient(n,b)||(b=this.statusManager.updateProcess(n,b.type,"ACTION_REQUIRED"),!this.allowUserInteraction))return n;let z,L,F="standard",H;if(u&&S){const G={chainId:i.id,data:S.data,to:S.to,value:S.value};a.push(G);const{id:M}=await Ee(this.client,ox,"sendCalls")({account:this.client.account,calls:a});L=M,F="batched"}else if(N){const G=(E=n.typedData)==null?void 0:E.filter(T=>!c.some(_=>b2(_,T)));if(!(G!=null&&G.length))throw new ct($e.TransactionUnprepared,"Unable to prepare transaction. Typed data for transfer is not found.");this.statusManager.updateProcess(n,b.type,"MESSAGE_REQUIRED");for(const T of G){if(!this.allowUserInteraction)return n;const _=ay(T.domain)||i.id,x=await this.checkClient(n,b,_);if(!x)return n;const j=await Ee(x,_h,"signTypedData")({account:x.account,primaryType:T.primaryType,domain:T.domain,types:T.types,message:T.message});c.push({...T,signature:j})}this.statusManager.updateProcess(n,b.type,"PENDING");const{execution:M,...g}=n,w=await $ee({...g,typedData:c});L=w.taskId,F="relayed",H=w.txLink}else{if(!S)throw new ct($e.TransactionUnprepared,"Unable to prepare transaction. Transaction request is not found.");const G=c.find(M=>M.primaryType==="Permit"&&ay(M.domain)===i.id);if(G)S.data=ate(n.action.fromToken.address,BigInt(n.action.fromAmount),G.message.deadline,G.signature,S.data);else if(m){this.statusManager.updateProcess(n,b.type,"MESSAGE_REQUIRED");const M=await wte({client:this.client,chain:i,tokenAddress:n.action.fromToken.address,amount:BigInt(n.action.fromAmount),data:S.data});S.data=cte(n.action.fromToken.address,BigInt(n.action.fromAmount),M.message.nonce,M.message.deadline,S.data,M.signature),this.statusManager.updateProcess(n,b.type,"ACTION_REQUIRED")}(G||m)&&(S=await this.estimateTransactionRequest(S,i)),z=await Ee(this.client,sf,"sendTransaction")({to:S.to,account:this.client.account,data:S.data,value:S.value,gas:S.gas,gasPrice:S.gasPrice,maxFeePerGas:S.maxFeePerGas,maxPriorityFeePerGas:S.maxPriorityFeePerGas,chain:dee(i)})}return b=this.statusManager.updateProcess(n,b.type,"PENDING",{txHash:z,taskId:L,txType:F,txLink:F==="standard"&&z?`${i.metamask.blockExplorerUrls[0]}tx/${z}`:H}),await this.waitForTransaction({step:n,process:b,fromChain:i,toChain:o,isBridgeExecution:l}),n}catch(S){if(rte(S)&&!r)return n.execution=void 0,this.executeStep(n,!0);const N=await w2(S,n,b);throw b=this.statusManager.updateProcess(n,(b==null?void 0:b.type)||f,"FAILED",{error:{message:N.cause.message,code:N.code}}),this.statusManager.updateExecution(n,"FAILED"),N}});this.client=n.client}}const Ite=async(e,t)=>{if(t.length===0)return[];const{chainId:n}=t[0];for(const s of t)s.chainId!==n&&console.warn("Requested tokens have to be on the same chain.");const r=await zx(n);return r&&t.length>1?Ste(n,t,e,r):kte(n,t,e)},Ste=async(e,t,n,r)=>{const s=await ju(e),i=t.map(c=>Lx(c.address)?{address:r,abi:uee,functionName:"getEthBalance",args:[n]}:{address:c.address,abi:PP,functionName:"balanceOf",args:[n]}),[o,a]=await Promise.all([Ju(s),Up(s,{contracts:i,multicallAddress:r})]);return a.length?t.map((c,u)=>({...c,amount:a[u].result,blockNumber:o})):[]},kte=async(e,t,n)=>{const r=await ju(e),s=t.map(c=>Lx(c.address)?dx(r,{address:n}):Jn(r,{address:c.address,abi:PP,functionName:"balanceOf",args:[n]})),[i,o]=await Promise.all([Ju(r),Promise.allSettled(s)]);return t.map((c,u)=>{const l=o[u];return l.status==="rejected"?{...c,blockNumber:i}:{...c,amount:l.value,blockNumber:i}})};var Cte="AEkVMQnvDV0B0wKWAQYBQgDpATQAoQDcAIUApwBsAOMAcACTAEUAigBRAHkAPgA/ACwANwAoAGIAHgAvACsAJQAXAC8AHAAhACIALwAVACsAEQAiAAsAGwARABgAFwA7ACoAKwAsADQAFgAtABIAHAAhAA4AHQAdABUAFgAZAA0ADgAXABAAGQAUABIEtAYQASIUOjfDBdMAsQCuPwFnAKUBA10jAK5/Ly8vLwE/pwUJ6/0HPwbkMQVXBVgAPSs5APa2EQbIwQuUCkEDyJ4zAsUKLwKOoQKG2D+Ob4kCxcsCg/IBH98JAPKtAUECLY0KP48A4wDiChUAF9S5yAwLPZ0EG3cA/QI5GL0P6wkGKekFBIFnDRsHLQCrAGmR76WcfwBbBpMjBukAGwA7DJMAWxVbqft7uycM2yDPCLspA7EUOwD3LWujAKF9GAAXBCXXFgEdALkZzQT6CSBMNwmXCYgeG1ZZTOODQgATAAwAFQAOa1QAIQAOAEfuFdg98zlYypXmLgoQHV9NWD3sABMADAAVAA5rIFxAlwDD6wAbADkMxQAbFVup+3EB224cHQVbBeIC0J8CxLAKTBykZRRzGm1M9QC7DWcC4QALLTSJF8mRAoF7ARMbAL0NZwLhAAstAUhQJZFMCgMt+wUyCddpF60B10MASSsSdwIxFiEC6ye5N2sAOeEB9SUAxw7LtQEbY4EAsQUABQCK00kFG8MfBxcAqCfRAaErLQObAGcBChk+7Td0BBgXAKoBxwIhANMrEnM681CwBZA6dyc1SAX6JwVZBVivuAVpO11CEjpYQZd7k2ZfofgLEwPFByXxdyMEo0sCU1MCdRurJwGPo6U1WwNFFwSDYQkA0QarPy8jBykCOV0AawFhH3EAgx0ZAJUBSbcAJ2kXAa/FAzctIUNTAW9ZBmUCZQDxSRcDKQEFAElBAKsAXQBzACu1Bgfz7xmNfwAJIQApALMbRwHRAdsHCzGXeIHoAAoAEQA0AD0AODN3edPAEF8QXAFNCUxsOhULAqwPpgvlERUM0SrL09gANKkH6wNTB+sDUwNTB+sH6wNTB+sDUwNTA1MDUxwK8BrTwBBfD0gEbQWOBYsE1giDJkkRgQcoCNJUDXQeHEcDRQD8IyVJHDuTMwslQkwMTQMH/DZCbKd9OANHMatU9ZCiA8syTzlsAR5xEqAAKg9zHDW1Tn56R3GgCktPrrV/SWJOZwK+Oqg/+AohCZNvu3dOBj0QFyehEPMMLwGxATcN6UvUBO0GNwTFH3kZFQ/JlZgIoS3ZDOkm3y6dgFYj8Sp/BelL8DzZC0lRZA9VC2EJ3zpfgUoDHQEJIocK2Q01CGkQ7wrFZw3hEUEHNQPRSZYAoQb9Cw0dMRWxJgxiqAsFOXMG9xryC4smqxMlevgFzxodBkkBJRr7AMsu44WsWi1cGE9bBf8LISPDFKRQHA0hQLN4RBoXBxElpQKNQ2xKg1EyHo8h8jw5DWIuD1F4B/E8ARlLC308mkanRQoRzj6JPUQiRUwoBDF7LCsnhwnLD4EMtXxuAVUJHQmtDG0TLRETN8EINQcVKZcgJxEIHUaRYJYE85sD7xPNAwcFOwk9Bw8DsRwpEyoVJQUJgSDTAu820S6vAotWfAETBccPIR/bEExH3A7lCJcCYQN/JecAKRUdABMilwg/XwBbj9RTAS7HCMNqaCNwA2MU410RbweNDlMHoxwvFbsc3XDEXgeGBCifqwlXAXEJlQFbBN8IBTVXjJwgPWdPi1QYlyBdQTtd+AItDGEVm0S5h3QChw9nEhcBMQFvBzUM/QJzEekRZxCRCOeGADWxM/Q6IQRLIX8gDQojA0tsygsjJvUM9GUBnxJeAwg0OXfqZ6dgsiAX+QcVMsFBXCHtC45PyQyYGr0YPlQqGeAHuwPvGu8n5kFTBfsDnw86STPqBLkLZQiHCTsARQ6fEwfTGGYKbYzMAS2HAbOVA1ONfwJriwYzBwcAYweDBXXhABkCowifAAEAywNTADUCqQeZABUAgT0BOQMjKwEd4QKLA48ILccBkSsB7yUEF78MEQDzM25GAsOtAoBmZp4F2VQCigJFMQFJIQQBSkNNA6tt3QDXAEcGD9tDARGnRscW3z8B22snAMMA9wABMQcBPQHJAe9pALMBWwstCZ6vsQFJ5SUAfwARZwHTAoUA2QAxAHvtAU8ASQVV9QXPAktFAQ0tFCdTXQG3AxsBLwEJAHUGx4mhxQMbBGkHzwIQFxXdAu8qB7EDItsTyULBAr3aUQAyEgo0CrUKtB9f81wvAi1uPUwACh+kPsM/SgVNO087VDtPO1Q7TztUO087VDtPO1QDk7veu94KaF9BYecMog3QRMQ6RRPXYE1gLhPELbMUvRXKJVIZORq4JwEl4FUFDwAtz2YsCCg0cRe4ADspZIM9Y4IeLApHHONTjVT0LRcArUueM6sNqBsRRDwFQ3XpYiYWCgoeAmR9AmI+V0mrVzccAqHzAmiUAmYFAp+AOBcHAmY3AmYiBGoEewN/DwN+jjkCOXMTOX46Hx8CbBkCMjI4BgJtwwJtquuGL2NBJwFjANoA3QBGAQeUDIkA+ge+AAmxAncrAnaeOwJ5Rz8CeLYZWNdFqkbTAnw7AnrEAn0FAnzsBVUFHEf8SHlfIAAnEUlUSlcRE0rIAtD9AtDISyMDiEsDh+JEwZEuAvKdXP8DA6pLykwpIctNSE2rAos7AorUvRcDGT9jAbMCjjMCjlg8k30CjtUCjlh0UbBTMQZS0FSBApP3ApMIAOUAGFUaVatVzAIsFymRgjLdeGJFNzUCl5sC765YHaQAVSEClosClniYAKVZqFoFfUkANwKWsQKWSlxAXM0CmccCmWBcxl0DFQKclzm+OpkCnBICn5cCnrSGABkLLSYLAp3tAp6OALE5YTBh6wKezwKgagGlAp6bGwKeSqFjxGQjIScCJ6sCJnoCoPcCoEgCotkCocACpisCpcoCp/sAeQKn7mh4aK3/RWoYas0CrN8CrKoCrWMCrP4CVxkCVdgCsd3TAx9KbJMCsrkJArLkE2zcbV9tRFsDJckCtlg3O26MAylBArhaArlDEQK5JnNwMnDdAr0VArvWcJIDMg0CvoRx/gMzbQK+FnMec0sCw8cCwwBzfnRHMUF03AM8owM8lgM9uwLFeALGQwLGDIUCyGVNAshAAslLAskqAmSZAt3OeHVdeKp5IUvMAxifZv4CYfAZ75Ugewdejl63DQLPZwLPaCtHT87vD5sAwqkCz28BJeYDTg5+RwEC3CMC24YC0ksDUlgDU1sA/QNViICFO8cS6VxBghiCz4LKg4kC2sMC2dqEDIRFpzgDhqEAKwNkCoZtVfUAUQLfYQLetG9zAuIr7RAB8ywjAfSXAfLOgwLr7wLpbHUC6vUC6uAA9UMBtQLuhQLrmJamlv8C7jsDhdyYdXDccZ0C8v8AZQOOEpmPAvcPA5FqA5KDAveUAvnVAvhimhiap7czmxoDnX8C/vYBFwA1nxifrwMFiQOmZgOm1QDNwQMGZqGEogEFAwxFAQsBGwdpBl21YwEAtwRnuw2HHq8JABNxNQAfAy8SSQOFewFfIx0AjOsAHQDmnwObjQizBhufwQCnBRG76R09PhZ4BWg3PkArQiFCtF9xEV+8AJbFBTIAkEwZm7k7JmAyEbrPDi8YxhiJyfYFVwVYBVcFWAVjBVgFVwVYBVcFWAVXBVgFVwVYRhUI14VnAgICCmRe6SsEyQOxBi+7uwC7BKe7AOdAKRayBUY+aT5wQj9Ctl91N1/oAFgRM6sAjP7Ma8v8pudGej0mIwQrFic2NX5t32rB8RnCLGkBa9duMBcFXwVqycHJuAjPSVsAAAAKfF59i74AMz+BAAMW0QblrSMFAIzDCwMBDQDlZR09JB9KQrFCvEE4I18nYDYnOCMJwT0KRD9DPng+gT5wPnECiUK8SUI7X8tOT2pNCixrVC9qC24fX+AzOhsJZ5sKYiMrPB0mQqtCvCvMAcv8X8kOHy4JCAkifp3fajotShfJq8msCWXBy8wKYEFfD+UQoxEAk40dRUIlG6ltOc44CjM/Qz5wQj8cBwodTEdsWywtWuG8Egp97R0rQj8cXQhKCQ4zVENCNwQ7Q5wsCoEbLUI/G/UIUyIjGDAxAAWPYfBeCnFkyWALYC0jbkNgGTkCGx5gswYCaxBlTmBNEQFk52AVYJVgfWCzYEtgkWgWFwa1DtxVqbxaC0MWqwG7K83BAh8VABwDHgF5AmwvMJVSgAGKCrhHGgDkI3SOCsoNpk3qAZsCh5xPBUBfAPf3BwA0FlcMC6UMJB+6r0eAgQw0ABUTnyuCCHoC0gtLZREbANhOBnUECh5aADEAtritAJQnCxZvqyQ4nxkBWwGGCfwD2e0PBqoGSga5AB3LValaCbthE4kLLT8OuwG7ASICR1ooKCggHh8hLBImBiEMjQBUAm5XkEmVAW4fD3FHAdN1D85RIBmpsE3qBxEFTF8A9/cHAHoGJGwKKwulODAtx69WDQsAX7wLAGNAlQh6AOpN7yIbvwAxALa4rQCUJy07Ds4CkBh7ULtYyHRyjsOlmw/ZFUkb7AEpEFwSBh/lAccJOhCTBQ8rDDYLABEAs+AiAQIApADhAJiCCrJrOS8AFABbG8YubHYqDcEQAjskHNPhHB4LG30CewTBCqrxbAAnLQ6mLs6hHAe7CQAQOg+7GkcczaF3HgE9Kl8cLs4RGQB9q9ocAuugCAHCAULz5B9lAb4Jtwz6CDwKPgAFwAs9AksNuwi8DTwKvAk8DrsFmAEbawouzqEqD4sa4QHDAREWOwCgCzsLuxC7BBiqe9wAO2sMPAACpgm8BRvQ9QUBvgH6bsoGewG7D00RErwBAQDqAQAAdBVbBhbLFPxvF7sYOxjbL7ZtvgNIqLsAB7sALrsC6w5WAAq7BAAeuwJVICp/FTwVuwG+J+QAsloBvSjgo7vIAAFbAAG7AAJbAALjAAg7AA67AgAbu6VbDr/EAPQAaPuoOwMBu5UnSwDn3Rm7CBp7CKEFCv9wAN+7p7sau6OLeXIG+6mbgwASuwYbCwG8AACGAG27BgALu6c7ARo7ugihnMoBuwvtB8CpOwDhewG/AADlABW7AAb7AAm7AGmLABq7GLuOaRX7AA5rAC5LHgAGuwAXuwghAA1KAcIAt68mAcAAALQADpsAHBsBv/7hCqEABcYLFRXbAAebAEK7AQIAabsAC3sAHbsACLsJoQAFygBunxnVAJEIIQAFygABOwAH2wAdmwghAAaaAAl7ABsrAG0bAOa7gAAIWwAUuwkhAAbKAOOLAAk7C6EOxPtfAAc7AG6cQEgARwADOwAJrQM3AAcbABl7Abv/Aab7AAobAAo7AAn7p+sGuwAJGwADCwAQOwAIPAAUOwARawAPiwAN6wANuwAZCwYWGwAVOwBumxm7ALobLgATOwMAaSsKAOFLAAI7AARSABd7BRsABtAAGLsAC/sAX7sAa/sA5IsBuwAXdgG8AAFyC6EABUoAbXYAB/sA5XsAHGseAXsoUgA5RQD+Bw0McgAoKnABpAUIXgG8XiMMCQdvS2xfKokfPBRiLTYDoQq0AdgAFgLRA24BdnJHUhQhA08CFT4BLAYDc0a8e1J6QAApADEB+wBTCtsAe5AsASsAduUNETJGAUoAVwUAAVABB4rMAHg7BCClAFoA1hUAlWg3H4sAzWuxAM/UFgjCdXMbGFYdCdEBiJCrIlNTTUgSPMKJ+QB/HDdAKSvgEZdPAHIBKSwwKUIZDwMwVQT3xe4AS2XcAGoCcQI/EXo6x3guNdUGBQAQGx0KCAwqBB8dKU5TTgi5ugAKEs0AJgABGgCGAIkAjjUA7gC0AOAAnTwAuwCrAKYAoQDyAJ8A0wCcAOsBDAEHAMAAeQBaAMsAzQEHANcA6wCIAKIBNQDjANgA1QMBByoz1NTU1LbA3M3QzkMyFwFNAVcvRwFVAWQBYwFWAUdLQ0VoDQFOFQcIAzI2DAcAIg0kJiksODo6PT09Pj8OQB5RUVFRU1NSUylUVVdWVhxdYWFgYmEjZmhwb3JycnJycnR0dHR0dHR0dHR0dnZ3dnVbAEDsAEUAlgB0AC4AYvIAigBTAFMAMwJz6QCH//LyAGAAj+wAmwBLAF4AYPn5qgCBAIEAZQBSAK0AHgCyAH8CPAI/APgA4wD6APoA5AD7AOUA5QDkAOIAKQJ3AU0BPAE6AVABOgE6AToBNQE0ATQBNAEYAVQPACsIAABNFwoWAxUWDgCKAJIAogBLAGQYAi0AcABpAJEDEgMkKgMeQT5HKQCLAksAwwJTAqAAugKSApICkgKSApICkgKHApICkgKSApICkgKSApECkQKUApwCkwKSApICkAKQApACkAKOApECcQHQApMCmwKSApICkRZ5CwD6BQOnAl0CNhcBUBA1At4RCisTAUo3E02RAXekPAFlWQD/Az1HAQAAkykeGI9qAClgAGkALgCJA5TMi/CuhFoFuisOwhEBndV0KgsEIzFsATNabAGyAN5+gH9+gH6BgoJ+g4aEfoWIhoCHgoiCiX6Kfot+jIqNfo5+j4KQfpF+kn6TfpSDlYiWgpd+2gLabOEC2GwAgmwkbKAAg2xsBEkERgRIBEsESQRPBEwERwRNBE8ETgRKBEwETwCWZmwAowOIbAC0ZgEFbADJUWxsAM9sAgxsAPZabAD2ARkA9gD0APQA9QD0A31ebNSEI2XAAPYA9AD0APUA9BxsbACJWmwA9gCJARkA9gCJAL4A6AAIAPYAiQN9XmzUhCNlwBxsAPdabAEZAPYA9gD0APQA9QD0APcA9AD0APUA9AN9XmzUhCNlwBxsbACJWmwBGQD2AIkA9gCJAu0A9gCJAL4CNwD3AIkDfV5s1IQjZcAcbAJDATZsAkoBOWwCS8FsbAJXbGwDnwLtA58DnwOgA6ADoAOg1IQjZcAGA31ebBxsbACJWmwBGQOfAIkDnwCJAu0DnwCJAL4CNwOfAInUhCNlwAYDfV5sHGwEPmwAiQQ/AIkGjTFtIDFs1m4DKGwDrAJsbABVWv4VMgJsbACJAmwAVAEAul5sAmxebGwAiV5sAmxebD3YAEls1gJsbEbCxxP/x5BApA0KYFA89AsjTx97EHmJQPyocItC2JnNFRCEnFU6SFTDoI0PxeRNRoNRWkpzVnWW8pTagkNmgf+jGupqZ3eu50LAFnc+OzfJwdub1AdpOy76VnijWNR/CMEevikQkFyQuLuPajxWi9chqOoMJ7qpCN4sx3LJG4Myu8kD68wC6+iAwt+pU1JEeY13rpCVkXSZfinVKn4xZpxsI3Lp8bJLrJ9ujkrIalMRBAcv/GSKEtowzcEn5XmJw2BagB8V2UWJoJHZ14SXhM7p0XeGFOuw6mlvyq99WYp5XxrO6ru9nn4RHcOkJ7hx5UqWtman7yVMLzYXQefQRUdIY70RYQE8+aAzCNSGQkXiHfnHYRMi+xczKDdZLk3AV1gzxkkSHLjBwuq8shIJ+/RAbqjqQbugFhe0rqklu432EERkM5k9y1DXzds46oLqKAx6OhPT2WiqEfhaITn7OF9Y694AmKmUvbpWp0xJqDaf3jeNJXnK6NpnGcFOmbclbARC+5+5U52ufw5b0Hh+2LrrNimvZe4eYmApRsZnJE310SqB+1xB6rSJfnV1f2D0awB18Oc0sXAFqIlgHgWiaZGdvP5CJUSsCTCQUC335+iSkwPlLJJ5lwjTSn9Lw22NbK1Tu8w+bUpHtDRDPho7Gun8aw2Jzu9i+N0Ot/kPMbLAb/rUQ82kfpk85qLDkfxLl39QPDngo72GYh/Xigbpcm1pA23D2ywt3D8GgMOao040wDqkHxOEx0OhC+ZmHiIdjK7yRbfJD2ouZbAedhD3p7s8WDmCJfNforgDYPGAXSI08fTjPZ5B37lc5VXGzc1vJmibDwBNVzXuaUzg7N5H4BxqjhJ+kz9HLUJys7bpBDYAPvbut13AwJCWd059tS8YTYgC8HwrkewBfa1LSSpmMr9uR2EekTiAMH+Mx4AGzgbquccwBDlLmRhgXL/YiLPCEb6d2k5qJ6o800qddABkpqt7NG+sc2uvHZwZs57W1AHTFM1KkMShasADAh2FvzbzJOzVDMS3ZlT2BSFKdnkZFB6JyqJbhm6XANis9TrtzJdlPVp+rl8v3nIke6Jou7m2TKu53Vounupgkz2LzrQPhhatLIG7rfF/gUKWp15X3LKt+ZvuCDSqPUigF9yJntimC1HJR7Yj/dUrLAXWrT+1tnwPJJLGKAlQ5VeNDWRKCTt2vz3rJuo4+gIt75/Mkfl/gSZblZ9r/SEeeosZXneli/xNh1WVCvkRt2RnyyjtMkMqhzXh1PVOCbILqv0r7rGYm0CHIyKdhHL90cl9E1I6eEtQTCt6RXj8M0HHrHCHLVRpNM6WIbT5BCMGVnL0o5895qSRbCJz+5I8PGMhAN/Xrj4BgIdlKqlHtBHqTJwmK169toZ2IWxNzrAbIG7zh85Q/LG2A4yBcaBel52zdunokB0lv3A7kXnTI7M6ZnfZ7nwuj5lkGhqSpW+w5CI/FmRlplBEbnZy1ZxS3DL8rf1YWhO5XivWZBSRh1gFsjjyj3qRG1cm/6ors7WsEif6WRxns1MKDZa6KrbfMQ/swIb+2nb0tqxHeii6FcgVeAjE/Xwac1owx04dJKG8R5YQgHNnEfHf0qb8WOnU0eQSjazq+IK7cSuCqYzPEUB/x+QgGZqM3dBoYvNvZVOHDkbgdilWdagqO5bkybXfLpyMPuGq8mvAAEZGbR6RwXGlW9ErOWTfnjfx6dXFJqBj0OBSGFz4lWQasNOmVJeN4SFWSLfOGB/7ehV5YuoNNROHZEG9ElVuMnqbDMMuDleOt/cN/gsWxGw128mwU8/HxkOKqdTZnI7dHka67WCTf/FmBrxpNCaKJ1GxBTCSS7MNfhNj8S4Gtotg6Z3AM9cAeVROnppUMaiV5jjudLnNqoVrKO1/FijLlAc74kxydxKX1RQuMqHR63eecYr5o6MJ+B78VsLlCrpelWh6GOrCOBIoQmIcdpJL1pwE2zzZqBkecGTdK8KMOB6r1eNRURyrz6M899TZaoS/vNOxHf+5gORU+OyYIcIW6diP25GHF6u8TNjuL/GJzCnLLXd01KrsjRa51v4+O/VIAWXESJxfxWjv628J+cWUQpoD+Yytzs3jSMRJ23/XT+vUdtUMLDQq1vnIoeg/GjWh88MT6k9dRqDaQ+vodilFgvjuNw5pJpId9mfwyYeLCGb3BmHXdfQfhfPRQaupe/f8TG4Bk3eDKlYBaEK3kZYNN2Sdxz47m/vYBxvIOKtnqplB1pebzuXmAr/MuzQCknKe653dzaWQQ7MUhWYWvzIZwLe1v0rXxImLaz+AkAu+sYikhouNF3EW6w4crZ6MuUiDbIAx8XhAfegcvW6x9BPb3/sCxGWu9YyatqExB+TSm69qIkI9IwhjrcnzME+jWBx4mNQm5WwLzUjSyY4FZ0aMF5YFlXUD4hL4XfOeYv5rDe2s2D/Cn+28fZ9UCnOQvXFMnQqfc0G+ZqOWWD9l/liqUPaNQzZjxCHpUAD8Rcc90MniQ02ugHWsUupFUvhC9usY7zNPt5F2jO7qgzhafsQSd50jgLrC6Qx6bpHbXR3WNAu1BzGmwbz+ebGmwTjdy006Y6zipP7n/OJlvSmbq+SY+nefAVKK6EBMPbce5n3IdRI8+vbxCpN53rw3TvgNds1SuMiuLGxt89L71mxPDeanGhyHvOjmO56tnVpoHalQnL6TqNuqKsHjHCIKB4pCgj4WyYPvRvYvqi5EMr7lN3MotPR/KH7JUD1lZbU0QzfbrEBJnuQiVAyAC9vwXWp2TRU1/0aapyAH2cbglEHVAdl+1rb1u147uV0td1eNoQZsqHrIMIYVPXtLk2TIU3cJE08PjoYNDpfF/IcJnYQHl6nsplczX3Rgah4NbJJHl//5scUufqsSd//kbIS406ZWoMP//+jhGUswX/5nVNz/jAj9KmXPtAmMiK+khhbn1w/mELzZMT/WxcW//y/jsHaOM/61oAW/CjYhJtY622/TtMYuP7bilBvbiT3vB9n8IcFPnwM78H0KfhYDRdY5PhWJ4jWRQzB+HT5NVZV56LG82hcQms+jOTT/c9Y9sx5rPi1/wB7f/+c5UfUCKk3iwwCuywUc2MGnAwsXf1E5hoI55x1Q/Qby+sWH8NRjavZ8VaDsdi1NUVhH86BJHX1yaFt1w1OYeL5LVmdN+5Q+KuTvXEPDzUCg6xp0HhsUhTWSe7MZMM/6rsTUb0/nbUE3YQlGGt48kT1/6cnf6yHnvHtQx9EosOXN077yyEq/jE3YTiG/5SEJmXFeocJJ1EAd6vKeK6VEdJLOZ1km/EwOnZWCQpzCLKPHxrfh4yJhGq//2dos2E/3+MOcdW5EsgIdmTQUQetzRy5fQHhDBl37XbWzsqO/cASEDjyst1/8NEROqVAxWnddQV+umJ8IrKVgKvGaTc0GsQ4s8h0Osql5QKwlddPDjJhKInyWqYUKmmlIts+FIcXZ6yM6cljbsjUG2ksSOkuIw4sYHffRNgBOLApvD6XrR6Rt0rV2Uf8IpnIUVnb9Twt91QjAaD/dStSWDxg7aYY+VXIgnuowYdOkjywa2hlgrnI6PjaU3e3UjQ5Yk5mdIJGyHnv3/P+1EkMav1yFyF+FeJE/RXnWBw+Nh0aOo6TGlKX7d+dkP9+brvr79SdtXJtcD/aXBGiMNfG6/NQniQHYQlK78FEHDqOh+bDI0o+2Ub0h53EL/vlzjrBczVEZz2bOtvIL+DIzDkk9nCWt7tlqsq3l9JMtJk3r5HG2iJ9b/X11TG6wwMAjHLQ2oasaMEsydh88QPvI+hmqIHhvalpKoKOueJR0eZ9J8G2alNOIOy98jwvbc87Ewk9d+5G/tUijTmlbjFlDKXV05HalKxaRTrucc73On7yzAPS6f2v4ogiaWyWeV73dv/MsQT5HjRrsYV9dLAcI3T+zC2qEVINyNpEhoKV+xVSuWtT4AhBfpnZ7unIM+HX3msI0HiI+P+z2PFgkjGi5PqEbG/wNIWeRUjPtDEgbbubN+I4JaDLrW9borRBDob7ZFx+JdKeFVUKVeWqb/c88Ol7DhM0suLtuEd8tkDSMTD3DFx8UphPINHMHi51hAPttXL4Ektt/lKEUG/R4qZKohHjVpAcPIMiHyWr6xR8/EWnNJvBFET76yCdk5er7ADB/1bgoImhpSiZ/omZjPKPCEeZsOwvPmXL+1vlJNeGO3TzySmGA1X6e58gLrazDM71jywM1XL8zKHN6G3kB31Y8vLtP982N975SZXk2JwDvmv7AY/aDsFFk1v+nE7/hbvuOWhBH4kuemeYozPk2K22Vx/YGiDTLU7YilpOt29u3RZMBh4UJjlTP5ItxTzWv6ebL9b+GSU1Vsm2S8LMfVfJczaBSqE8J1A4YUjpsALL7++bwCPXFhaufdpDFtBlHb9makeYbqdg9ltvK/HwF/rNE6KrtWUkEcxmTB7Iyu5TiVaIgW/YxzQhpArliIMkOoK5L7ShVtF+DYqV01mk7fwop04hQRwg4KFmr5z9nYf05VVqkSe7gfnx5bxxlQ0qEV0jiwzf064qG11iEqjHcUgDWWsDs/LEGlzX31T5KVL+7D4EoKim7HBagiqRo5JI3WfDBgpKIruWz9j/J6Hp5Q/EJbMWB8NeSMuFarNw3AEYPBJtYQO/4oD/ZgPTSQ06di0EeumX5EbrdThO+fvYEVSxLtZ3AJkee0Xn0sDwNtiiZhJjJRDuG1YRKB1vOulfd9JjHeyu+UHTmrtra/pm+8Rixh4WKiLaLOCxIbZNoWRZSyyUGLPjAaAo+SQBpfO2uruWrzFxLlpvrXJNMCWtlJDKGAnlWK5xpU2tcxXbeD+sbdfwYXt/qTwDk6UqXR/aUt099DhSNl4Nk8mXwpw+b0nvjKOG6Mg1PRXjrMUMANvNgEArv8nMJs3vj1aHi8MHz/UfJWWzkcrSpZTNBhduXlGR7i+ip/THDp5R9KRNcDKECgtwgXg4EFN5HHfikP/XvsoCkHTg+NbsD8Gl6eknk4Arwn/BWGJ0hgW0/gUKrzuGZhub7igRP3abetpIm+24xEOlWl3YKpm2qTBFvX8ddDRvm1LcwnCJuEfZx12qPY9TrntMIQsv316zvpyWnyStX8VU4j6tQk+CWlLBUCJR6MdH9Cp7g2qdn2WM9qFbREmejH09dlWEPm8hPF0L7RxwRRdiCs0DP8ewk6ApoELkKU9hckSdbnXm8UHJmaNXjxv/q0fTTpu8rnl9lN0vQCpDRbCtcz12rGRFEA7Cfg7FhZn5QFkNmv1ZURKEsiZce1nS9K7HrwpC7yJV4Xt3eAVbLJfoXHrtwG60Z8gwaSnmxoL3s2ZlRqggZN/MHo1oUS4L+GwObFI596Ld4Mvi8l+cQmF1gJpkpnDio7TuO35npaMHiWzFqPSX3qNgkIPGuX0qGYnPIVsM901Yu8oZnOZOY1TbtIdFUNKNq2dP8SJ4F/VCEzIjF0/Rh+7UrZj80tC6rognVH3mqa8eCs/lcQU1Pjj98kBmAKDbZUTwosv02UunRR3n0X6c+f73mtwB7/WbQ16gO431EtwZbNG1SM4TZPBnsQSESlsfG2JLQXx5xWf4bmQ/xcVCPISAX5897JxHKLD/Xkgu57+ABR2+MMtEbX64+MNlBHpKC7sjlWVEShf5qA+dGc59LFVlZrX/Enq9z/v+wnZ1HErmxmjJjxOA+hAjVUWgtq6ygAi/8ewJDjUMFw3zhQFtbyTLDPFd21Ji5S5QPZo9nMSxdg1+DGFSN0wlWt7XeYPbHqLfliV0J1kOhQNp0VbUPy0MS2Ms66OxtSWvaULaWHnfAA+sieVVgtjDwN3nKonWapkSKRN8BKKJQpCfqo8RQI5udhfu5s5+7vwsppmAJDgz2GNA7d43VdbV2l/SrvEu4RYslmNJmfSOVbssxAhSYy6WxpIQdDB0FVBpZ6IM8yr81QN+XLZ3n/wed/R+s6LslkxKbzzst/GkRbe6rFmtvJCwr1T44ETM+IMgOnjUO0eG6a1n2w7lwM1oFBvzMUWRkNFOvKcx3oSb5XdenZ5dXsute6nkRypBiSdAtA2fxAd8UdLOZW/MB7fZoEuFheQXijdaF8kuaRZoSeWdKOkKsGYEGaXfaDKTu0WMTcLniQs7KRCz9iK3SP+Y2xIjkfVGqFLSQ6vh+A1u6FdfwXsv1VPMfi2cxmdM+/xTgMXEyo2ZGcQ2YmPsghnYdv2+z48JpGZA4tUK1p1q2VdVxyfypXEXcrxKKtmt8UdW7sHWmKMqDuBBM3J/JUQx8eUYN4pJ5oRqvdiPHU1o/WPjiKvnlCqOdyxlxF54L9PrtLD1NejZ9aZDivVr6ZfMFK1/psVygoPIAnphcJWWb9+5IKMKmgRQULsTPZi6Bw4wP32zVEoKcHpP73CkFAqS98nSaGoWDjDJiaACJn4p5o1jq9R4Q4VcibhXF//LHP0bdf63kRVZdRbbhGe7sDQcyWS5tpkfeYHnff25WK+4FpzLlAcbaKmHdIBqOw3fImx1uqQIADH0TyHzFlqTG6nMoY81svP0T6BIyELMS8tMe+E1p6TFP6sVpZa6VNaTumufD5aj9goRa9SAmdJT4HhI2r0egj8UrgFb8L59wGLnYlzkLAiUd3m/WWIIEU61kPoEjd3gIVy/fiBcgqQqHnoXpL0SqLGdGGgn7DQeVMSYWHfjno1FngIKP9cjYaTlcRP6bZunjHP13/lbVm4awti894pTf/ZNNqr4OR+tDVie/m+rC8QpVnRbsCMPukOH87B2jM4AG6pHuXl1x9SiKdhYJVOhfo/+SCaGjUW2CoogL1FFhFGN9o+acoVLl0SXs/3vrSccmZeAF3NewFuOg/P12QYKQF+SH+KYcNnsAhIAELPBUgre/KRUJEA+KPD0MHRjv+3J/j2Z23MuJmkfy7leWcMsti8wXLSHgXFJTaksx1Woi6oljwxFVIJG12SBSZLNJDbXMYPekmiXT4FclKI35BFgqnYpKfcsr+f8HUXQoHJ9UYZ4J5YMiHHyAxg6eidhodgqJ2Htf/xYEx+G0zXchuzlt8hcAl+AT8NCQ4orFc4DerabF1enA7NTLnvtZh3FUwqIOvY7Q4DYmoDHwXTSw5UNNh6r7j0B/ezMYJMDcw4+6gCTZX4YQ+7Xs8de72vsR3cmfpxIX64/6KR1p3VX4F6vfHEzxzarh8aDH4G1DFoBBM6npXFpK+Rh+WrcFclAeAxi0PoaR9CpOxxGLSdvxKVSw8oOOanG/soKImRopN38AdcUhhM2GT/PgQeSQrG12njuJJD5Z7vWfAZmFybYLdSA91kB4aoBhoj1Z//KNIVVujqaLLRwCkbyn4vh0739C9V9iSjybeOIeSOvNs7LW1a7EUtNoKAnOGML4U8KBXpfrw73WjAszJG4Qscq+Xr3kZWR4Omm0xT6qE9y6FNSpstV4onMZSqCEJ+3VX9qjvdx5QVrM0WXxmPZxejdfnihcFAjzv5PjlTl6ickDbHe6+Lch52pjOPqk+m3RZ+bh2JSMGtFBuODbMchrpRVlt16NTQ05Ps0IDtWlUmWfP2vX8M4YDynIuOZ4Ck91+591B98Gw9fw+yQogTR8CSg0zaJu+rlBo/mr3A+1NziF+kdubz+whc857AZt6DwIBIF5+5yiaaf3ByQp1Fm3sOkZDAzwsYSQTM/Kv6idkugF63FDobDdUY3huruU+sCaBuRR+HmOowvmZoBjZHNh77SXFtmY/oOUE7ifN7nBHAo83S/xvcS6H4Ci2u/9Id62Wv6Ui+zMNLAzhfkTkVcW2BwrnYvpur0ZDlzs+ZLsmGTWvd1892t78gx1YjEJusGcxphjLkV0UfAKlekfSBVWHE2ahk4AbbRmHyL7GYdtKfdlINwrcdJuf3Cee1nfUojDQn/YmItESOFhtLzrkEv4k2XpMU9oaJQ3VUC+1INh6BE68pkHameGJm4Gvdb24Q0fXWxd9Tp3A9mzFSe4qXDGGDIV4AAGV1jIDfveknH1TwWpUT6HiQxKP3AAHJNkJeRlj/mXBmS4S1j8FK6YmpK7jyyAiRbsMCCLoJcx01fvgpMvKQRxu9IOwymconQjD56g7ksOrcOeoTbius4JnGesAS1DtgdaophYsw1wGIsMS3P7K6doE3K5czznqPQLSRRF/Ylzb5NtSKsL33SgskFNCF4khn5LWaDxI23ZRi2hzqN8uW8UzZEBYy68+VtGLSymQrXGUlr2nO2BbBIT5Vh1RmGAyDXaW0FPrpx3wv2UYdFk9tSl+906bMxCuXQaKDQP/U19UEcVGK4gmksL8lAorxQSAOwpeYX9xrZsh6yoGaL/X5O3tgQC8OM+/GvxnW9XvAtu/JxAigydfSmZfqZfg1XOcHNOpLlN8j64OZ36l5qawDBJ62YaTvxeNmm5gowCdBosgcpHOgNgwA+sknN8XmsR2IYChcafl9bGNMZ/nB5guWuvEziv6QI2bP2DtyKWG/qUjZMaxy+wASkkVGtuwGtywkTYG6MYrZBo18vYcww48G/+f+eITA/qMwbLlJC0S3+/ai2pPvkOhRRVmGTuSupaxhIk0xoXLtixCxSAn4Z3OnUS3wBqVscLI4P3GP7i/6gxYsswsVmkvDXFLhO/OKcur8flegCSKiqmVpIRvCzgbjEA0mXPn+RExXY/2OE1f/BYuWpRQY8gCDpMOYBx9Gn4tL3hihSIR1ixh2PIIT7cr2gUJbfs76EKYG52Jk0UZF/PQkBxGuFCEWXnG6ue/hTIqjTRq1sotVrKrwIGHDrITyuanUzbIYdgdEeV88K1VD82TYB2B61Ft+tB1KqHPmT9+hWoaV+iF3SuvtJqvnoLaA8wxrD56AUMULEgzO9SvBcBAfqz/dzMYzwMt/YLszDbmGe1bcHHfFMcvGql9bf/tp+Hrj4q18aNnftGjmXTfws39emn7/5IBxog9MrmftAA5Oq4awenm8HimWO72dwVlHcHmutVMdrMHw+p2vzpzT+B0iIZ+IEpplwWhClcXlxhxAsF3CHRnnaUEqq3ByQ+cqhe5SvR4SFxh/LZoQwtj8QZQGT1BzY2EMpYnUcZWQEPlwFZw+7UryK9qV8KgruYsvyMoK16KI2sN4SOblrVwhyiL8+IBZ8cpUhsJQSU7TFHAi+L2F0sn0y+FtDODlnuif2Mba8QddPZYYxjTsIgkMe3M6+7kXxUfZvbCUlyq71J1eNczGk6Vqw6rSx2K3vM+DjLxDRGzWepTO2qTT/W8S7u0QXcyFUahcB4vq8xCYTpy8iswtnyz7Kx6lgTEQJ9RqkgEIN6DOUqB0uRdeYuDa7AP7Zy9z+ZlTsmVR5vtV71m3dmdtNeWghbr5PnPJtjXAzcvZjxyV96VEx/B1TA0IEQSI50ywGuIbmAYdQg/l/rxhQLX+6uOLyFsaUt6mtjpAJkLfehnB6MlOHnNOrWLvCBqVBS07jcM+4RzLEed3f3/0Xwp92U+nataNHyEgnnuYR6PXEjRLETz0xrt3UglfK7Bn4aNlXG7cZco4lMziLv5+Mh2JCww3mz69Z9ZMRR/xv5EKJ38IFxKd9dw5CgPIXja/gzAshMbF14/qBIgNkdUQeP8YE7SrICGtiTnAKTyA9cXa3OauDHxZOdTP7yuYBzD1UcHstIO16FxF1bRUAlSkszI83YufTchU8OPnnozDl9bS0y6CnnjGwgj9M61cXcZsljjhLeT/Vq+30ScN2PcT/dOoxUDqDS38+OpCCzLDdnwHQc3ECQVIkaxmdPaZTSdfp2jjGzSdNLM5yPQsgJDl+ZnhclDQi8ltUnkqWJ323IvTZPN8rn0+EshL1cx9PiaLTzUsryn9Zp2Nt/detUAh4N/2I3dlMQqjHFxSihv0uykzflq5clMy2ZBaxoEb0/QMp03IQQus3vnZd/NOmSsmgqXqKFP3ozyDgY7RQS+npabe/hNG+5sa5FtvL8v0uYuag2NewYkcol3TOTadpuncCnDgOGpmLnTQ1PEPUN2cNsrW8LYfIv+hzfb7vod+ipXHzmbgj5Fzc6RcT/5PD7VQ8nTJBNj1urkVUx9uJvTWmqY08OC80rGDLaWXv243VB16gjt4Xtwp5H2UDR0LiKW24Ed/sOO8jl1yEU/XAb3h7ScKnCFy/V3sICrkY1D0K9fSokHIL0s5/7DLShLAPXRbV7fbv4qj6OwHC9d5PlEOX3LRpQ3P7hcSAKlIKPDM83ypz56U5+rJeo0cyUtC7wltL8wqEiNSgZsDWzACc7RFoZqhlD0+sihIBQlkQTXmvUyIOZhkQX2zqME5VRC7ms1sa3CY+odMn3mMBiTvCMKnnCxg5ZPLq4GUDB4jF8Br2K4x4sxfWjGXQatJ25I1JyrIv2Z4bP1jKw5C+B2/s0v4dGUOsaS6IPIQV3ETQ+F2fSl2BPBXHzyYN8VmwWIrKeMX9pyGWuAOVXwkxJsRBaBVzLhZDP8ONGncknL5DpTxHN32GgFWMwsc0GmL0oRDmRT8u2lvjAKUIi0MmXhIHSlFeh3Qh5pP6ap4YUd6b569ZIaHgya2AyD12cPxY0In/PBjzDctTaKJCU+xc6m9RkNLDEE8guvxtJP8sl8N9bLqw0F/qejaBlcHYqw31zYpsutQp07hsP1vhGdl4hJ1wA7OCsAHnKj9879uSHILEmuZ6vI1lT4tvnWCVKZhhYrWHW9oPKPKpbOC6FTjf/OtUvwmiXr2ykvyLzHGQeyS7BenZpL3N/CaF5T7Gkml7JXN5cj0PKaDpZVImD61FuMgFHPqSHvt4Ej4KBdAfdcoO3AjQPLwwtKsgGM+ty4lNZMBEItJSRLunG5ckrM/BeoXWoPZVvEoIzLgFQYPupMwZCXis4W2SCJ2zsefZqCj+aTfSq1FYdUj2UeJALvVTf7vuuikOE1Hit3UIAGUi/sqgMum9vw218y1FlY/9XnOji9nqhGAcMYICc7BiqLZj5N+cKEuSAuiyWbMg81ZD1lHovy/we2eaCcCv4MzEW3O0mVA/t2xdA0cxTVbXmFhn+tARDpvDz5ftLr15OAAmvo2QiAky+feVO4bGibv2nlBmBzqx0lEDfEm4UnEs11pbnwZlJ/0Y73/wBPYfTNZiJKR73TzdCW1BffiJq9bLjQmaKnU0+gN8sfe25IKSUCooQwxePDrFn3a/zUgWxvPoTYVXfobY/GV2qqTkeVDV9D8657fhY0/wiaJ5NfLxhXbE/naxs34N0hd6vxNfdm1TCnozm/NKSCThchoYgMF7Z2tzXFovRfsNVkf86JjrM60r7UIuV3bsmfrMOqzjXjN6HPBG25zCJ3QLueySbj9oFvX/HxWBqh31PBPxduCVAxMqC9HK+YL3oBZqBruoh6LKvdMqoz0PYXUBrwbiioyE8Tj5ImjJmiOOWLbAZvIZ/l9rIPljx3T5glJ2ewlfuIT5GlodQsAf/IEtmYkML5SRQGxxwW+rlZkD8belJNu09Itwx9xDULTnemVDeojdbgcd2gKGM9aO00Jivtbs7ZyOSE8IPh98GfvatD8Ud5uHcZfAfMiPSlIxd4UqeSDzuNfbKDuFepkyC/s3j9fawmhY1b9NqDi0ZS5eP35l7rL2eK5QlWLlyCmxx8AFaFiTuD2pMUxZV5mBSJuJduOaq2ZrWpu28DE8jl/hisBz7bGWH6qLF0ayWNq1Sejtcs8KQrQqJk5P9QHDYHOIolgNsMDmEaWcTelghbfFCDqWrq6YLwDWy+m68ec5nShgq2fduUBpQUuKKKgnttaUX9PRfMmxqJyU7e0RLr1bev+ge1KK0bZyhHKKDE8gQX9Vf7rNHWOxBtZcxwwGusyMpH77qWZxXsQmbgIGhtiO+gSSRCyu/ek+OFsz1HMiQH0IHV7PjJi3dszYfFp8ue9h4+AfKte4MTiehPvxNcm/T1t9vsFZx8rHN5ie77r2jzZOq/Em4Q+H9sNcZakf9HnzCc1fJixppxP8FQABmVnqa6GbJhwaka7WH7Wdoz1WxOjSNV8N9sgW5S3Ppgkut+TTCkjA+AodUOk1KIR+8G8S3WrSZG4nyqfJ6FEjXl6a/LEoRMHZUqfPRWvwqrtXYy9IUsmUGzkqi76ib4NANCe5DnyOxnFRZ9d8FdBVBjra3iNuZhJuWW5Omi/hBigqDsg0mu2AhfJDXdwyMIJ33HHHPfS2JtjegRejX11m41TbNL+Qp7mR0g9CPKTj9PIjuSycGN/YPozXI4zarXuAeLv5CHKtKcJKRbd6R2oLNiEt0T8+QIVJH7zt9ncKMgd49vV2P1AyScZ9Qzbu3m3LBnuu6dw7aE0b6r4kzVkI/GUS88mA53L/rLtntkFlZXGtIoqNP2mD3eVv08AVVPT3wJn81zpbJV9SuqZ6Pd1ge0Zz2RFHeCdV5CLPftH9V5o9+VzFu4R0QeumqDwUhXn3IyYotdJnxr1l3BqWnQVAeDBEOtPyJQx1q5+mODiClXtYeBLTWtsJ42AMBcf/IFIhpfhYO08hsg0Ik+DpQFNOKReK3o3cudkxWX0soPtI5eSFOA6yNylS+IQjrQtYQ/5s4UcixJfokumBUjpH9ofSjUTwPCapGFndfqqG5IHeMMvfg+88SXm7bNyjk6pGKzL+WxDAdqKtQ72WWVbOk3I+ueGuammmB2pvFZvqIcU/lvW3n9+r2lycnQLE4OX9R1jIgW4cDjJ3v8dAa66mVcfC7ptCr5io6mCaA9qI9T9FFWqo1ZAaMxgxAu8aXqmaOYryMND2sTUfoHvxcYK7hEiJhCLYFDx3PBhE97c2a0ub1/ePJcyJOqr7UaTAPTJ+xvZtjb/40sloY1ltRnTkWILmIP2b7S3AdXCR+YiArMUHwdncpjpyDGfzqGOUoAuaamWzAMacQtb34/M32FEgR5lUEf8fRzFrZUhzQj0fR7/6gdzdnVVvcSneLmtqJ930VCCDORY8CVdQWdo/S3PNkX3pQsPVKWIYGAMrFZoq8bQ/OJBDSXP7KSBdL3QN0Zqd393p6VFc7DnlnFiN00SY5Nux7yadeIM0Upl2rVsu8/VAI";const c5=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),u5=4;function Tte(e){let t=0;function n(){return e[t++]<<8|e[t++]}let r=n(),s=1,i=[0,1];for(let S=1;S<r;S++)i.push(s+=n());let o=n(),a=t;t+=o;let c=0,u=0;function l(){return c==0&&(u=u<<8|e[t++],c=8),u>>--c&1}const f=31,d=2**f,h=d>>>1,p=h>>1,m=d-1;let y=0;for(let S=0;S<f;S++)y=y<<1|l();let b=[],I=0,v=d;for(;;){let S=Math.floor(((y-I+1)*s-1)/v),N=0,O=r;for(;O-N>1;){let F=N+O>>>1;S<i[F]?O=F:N=F}if(N==0)break;b.push(N);let z=I+Math.floor(v*i[N]/s),L=I+Math.floor(v*i[N+1]/s)-1;for(;!((z^L)&h);)y=y<<1&m|l(),z=z<<1&m,L=L<<1&m|1;for(;z&~L&p;)y=y&h|y<<1&m>>>1|l(),z=z<<1^h,L=(L^h)<<1|h|1;I=z,v=1+L-z}let E=r-4;return b.map(S=>{switch(S-E){case 3:return E+65792+(e[a++]<<16|e[a++]<<8|e[a++]);case 2:return E+256+(e[a++]<<8|e[a++]);case 1:return E+e[a++];default:return S-1}})}function _te(e){let t=0;return()=>e[t++]}function HP(e){return _te(Tte(Mte(e)))}function Mte(e){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,i)=>t[s.charCodeAt(0)]=i);let n=e.length,r=new Uint8Array(6*n>>3);for(let s=0,i=0,o=0,a=0;s<n;s++)a=a<<6|t[e.charCodeAt(s)],o+=6,o>=8&&(r[i++]=a>>(o-=8));return r}function Bte(e){return e&1?~e>>1:e>>1}function Nte(e,t){let n=Array(e);for(let r=0,s=0;r<e;r++)n[r]=s+=Bte(t());return n}function Nh(e,t=0){let n=[];for(;;){let r=e(),s=e();if(!s)break;t+=r;for(let i=0;i<s;i++)n.push(t+i);t+=s+1}return n}function qP(e){return Oh(()=>{let t=Nh(e);if(t.length)return t})}function WP(e){let t=[];for(;;){let n=e();if(n==0)break;t.push(Ote(n,e))}for(;;){let n=e()-1;if(n<0)break;t.push(Pte(n,e))}return t.flat()}function Oh(e){let t=[];for(;;){let n=e(t.length);if(!n)break;t.push(n)}return t}function GP(e,t,n){let r=Array(e).fill().map(()=>[]);for(let s=0;s<t;s++)Nte(e,n).forEach((i,o)=>r[o].push(i));return r}function Ote(e,t){let n=1+t(),r=t(),s=Oh(t);return GP(s.length,1+e,t).flatMap((o,a)=>{let[c,...u]=o;return Array(s[a]).fill().map((l,f)=>{let d=f*r;return[c+f*n,u.map(h=>h+d)]})})}function Pte(e,t){let n=1+t();return GP(n,1+e,t).map(s=>[s[0],s.slice(1)])}function jte(e){let t=[],n=Nh(e);return s(r([]),[]),t;function r(i){let o=e(),a=Oh(()=>{let c=Nh(e).map(u=>n[u]);if(c.length)return r(c)});return{S:o,B:a,Q:i}}function s({S:i,B:o},a,c){if(!(i&4&&c===a[a.length-1])){i&2&&(c=a[a.length-1]),i&1&&t.push(a);for(let u of o)for(let l of u.Q)s(u,[...a,l],c)}}}function Rte(e){return e.toString(16).toUpperCase().padStart(2,"0")}function VP(e){return`{${Rte(e)}}`}function Dte(e){let t=[];for(let n=0,r=e.length;n<r;){let s=e.codePointAt(n);n+=s<65536?1:2,t.push(s)}return t}function Pd(e){let n=e.length;if(n<4096)return String.fromCodePoint(...e);let r=[];for(let s=0;s<n;)r.push(String.fromCodePoint(...e.slice(s,s+=4096)));return r.join("")}function Ute(e,t){let n=e.length,r=n-t.length;for(let s=0;r==0&&s<n;s++)r=e[s]-t[s];return r}var Lte="AEUDWAHSCGYATwDVADIAdgAiADQAFAAtABQAIQAPACcADQASAAsAGQAJABIACQARAAUACwAFAAwABQAQAAMABwAEAAoABQAJAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACwANAA0AAwAKAAkABAAdAAYAZwDTAecDNACxCmIB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgPi89uj00MsvBXxEPAGPCDwBnQKoEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJEMAJpIBpob5AERSMAKNoAXqaQLRBMCzEiC+AZ4EWRJJFbEu7QDQLARtEbgECxDwAb/RyAk1AV4nD2cEQQKTAzsAGpobPgAahAGPCrysdy0OAKwAfFIcBAQFUmoA/PtZADkBIadVj2UMUgx5Il4ANQC9vLIBDAHUGVsQ8wCzfQIbGVcCHBZHAZ8CBAgXOhG7AqMZ4M7+1M0UAPDNAWsC+mcJDe8AAQA99zkEXLICyQozAo6lAobcP5JvjQLFzwKD9gU/OD8FEQCtEQL6bW+nAKUEvzjDHsuRyUvOFHcacUz5AqIFRSE2kzsBEQCuaQL5DQTlcgO6twSpTiUgCwIFCAUXBHQEqQV6swAVxUlmTmsCwjqsP/wKJQmXb793UgZBEBsnpRD3DDMBtQE7De1L2ATxBjsEyR99GRkPzZWcCKUt3QztJuMuoYBaI/UqgwXtS/Q83QtNUWgPWQtlCeM6Y4FOAyEBDSKLCt0NOQhtEPMKyWsN5RFFBzkD1UmaAKUHAQsRHTUVtSYQYqwLCTl3Bvsa9guPJq8TKXr8BdMaIQZNASka/wDPLueFsFoxXBxPXwYDCyUjxxSoUCANJUC3eEgaGwcVJakCkUNwSodRNh6TIfY8PQ1mLhNRfAf1PAUZTwuBPJ5Gq0UOEdI+jT1IIklMLAQ1fywvJ4sJzw+FDLl8cgFZCSEJsQxxEzERFzfFCDkHGS2XJCcVCCFGlWCaBPefA/MT0QMLBT8JQQcTA7UcLRMuFSkFDYEk1wLzNtUuswKPVoABFwXLDyUf3xBQR+AO6QibAmUDgyXrAC0VIQAXIpsIQ2MAX4/YUwUuywjHamwjdANnFOdhEXMHkQ5XB6ccMxW/HOFwyF4Lhggoo68JWwF1CZkBXwTjCAk1W4ygIEFnU4tYGJsgYUE/XfwCMQxlFZ9EvYd4AosPaxIbATUBcwc5DQECdxHtEWsQlQjrhgQ1tTP4OiUETyGDIBEKJwNPbM4LJyb5DPhpAaMSYgMMND137merYLYkF/0HGTLFQWAh8QuST80MnBrBGEJULhnkB78D8xrzJ+pBVwX/A6MDEzpNM+4EvQtpCIsJPwBJDqMXB9cYagpxjNABMYsBt5kDV5GDAm+PBjcHCwBnC4cFeeUAHQKnCKMABQDPA1cAOQKtB50AGQCFQQE9AycvASHlAo8DkwgxywGVLwHzKQQbwwwVAPc3bkoCw7ECgGpmogXdWAKOAkk1AU0lBAVOR1EDr3HhANsASwYT30cBFatKyxrjQwHfbysAxwD7AAU1BwVBAc0B820AtwFfCzEJorO1AU3pKQCDABVrAdcCiQDdADUAf/EBUwBNBVn5BdMCT0kBETEYK1dhAbsDHwEzAQ0AeQbLjaXJBx8EbQfTAhAbFeEC7y4HtQEDIt8TzULFAr3eVaFgAmSBAmJCW02vWzcgAqH3AmiYAmYJAp+EOBsLAmY7AmYmBG4EfwN/EwN+kjkGOXcXOYI6IyMCbB0CMjY4CgJtxwJtru+KM2dFKwFnAN4A4QBKBQeYDI0A/gvCAA21AncvAnaiPwJ5S0MCeLodXNtFrkbXAnw/AnrIAn0JAnzwBVkFIEgASH1jJAKBbQKAAAKABQJ/rklYSlsVF0rMAtEBAtDMSycDiE8Dh+ZExZEyAvKhXQMDA65LzkwtJQPPTUxNrwKLPwKK2MEbBx1DZwW3Ao43Ao5cQJeBAo7ZAo5ceFG0UzUKUtRUhQKT+wKTDADpABxVHlWvVdAGLBsplYYy4XhmRTs5ApefAu+yWCGoAFklApaPApZ8nACpWaxaCYFNADsClrUClk5cRFzRApnLAplkXMpdBxkCnJs5wjqdApwWAp+bAp64igAdDzEqDwKd8QKekgC1PWE0Ye8CntMCoG4BqQKenx8Cnk6lY8hkJyUrAievAiZ+AqD7AqBMAqLdAqHEAqYvAqXOAqf/AH0Cp/JofGixAANJahxq0QKs4wKsrgKtZwKtAgJXHQJV3AKx4dcDH05slwKyvQ0CsugXbOBtY21IXwMlzQK2XDs/bpADKUUCuF4CuUcVArkqd3A2cOECvRkCu9pwlgMyEQK+iHICAzNxAr4acyJzTwLDywLDBHOCdEs1RXTgAzynAzyaAz2/AsV8AsZHAsYQiQLIaVECyEQCyU8CyS4CZJ0C3dJ4eWF4rnklS9ADGKNnAgJh9BnzlSR7C16SXrsRAs9rAs9sL0tT0vMTnwDGrQLPcwEp6gNOEn5LBQLcJwLbigLSTwNSXANTXwEBA1WMgIk/AMsW7WBFghyC04LOg40C2scC2d6EEIRJpzwDhqUALwNkDoZxWfkAVQLfZQLeuHN3AuIv7RQB8zAnAfSbAfLShwLr8wLpcHkC6vkC6uQA+UcBuQLuiQLrnJaqlwMC7j8DheCYeXDgcaEC8wMAaQOOFpmTAvcTA5FuA5KHAveYAvnZAvhmmhyaq7s3mx4DnYMC/voBGwA5nxyfswMFjQOmagOm2QDRxQMGaqGIogUJAwxJAtQAPwMA4UEXUwER8wNrB5dnBQCTLSu3r73bAYmZFH8RBDkB+ykFIQ6dCZ8Akv0TtRQrxQL3LScApQC3BbmOkRc/xqdtQS4UJo0uAUMBgPwBtSYAdQMOBG0ALAIWDKEAAAoCPQJqA90DfgSRASBFBSF8CgAFAEQAEwA2EgJ3AQAF1QNr7wrFAgD3Cp8nv7G35QGRIUFCAekUfxE0wIkABAAbAFoCRQKEiwAGOlM6lI1tALg6jzrQAI04wTrcAKUA6ADLATqBOjs5/Dn5O3aJOls7nok6bzkYAVYBMwFsBS81XTWeNa01ZjV1NbY1xTWCNZE10jXhNZ41rTXuNf01sjXBNgI2ETXGNdU2FjYnNd417TYuNj02LjUtITY6Nj02PDbJNwgEkDxXNjg23TcgNw82yiA3iTcwCgSwPGc2JDcZN2w6jTchQtRDB0LgQwscDw8JmyhtKFFVBgDpfwDpsAD+mxQ91wLpNSMArQC9BbeOkRdLxptzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgELgEaJZkC7aMAoQCjBcGOmxdNxrsBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUHqSvAj5Gqwr7YrMUACT9AN3rpF27H7fsd/twPt4l+UW1yQYKBt2Cgy7qJpGiLcdE2P1cQSImUbqJ6ICH27H4knQMIRMrFkHu3sx6tC35Y+eLIh4e4CMKJ4DfyV+8mfta499RCAJ0xfeZR8PsoYOApva9pjGn4PhvyZS7/h5JLuhaucfjuU+Z584wwqNO4hWYmaBCcjgQPale1bjoHzMUbut/zTgxHxBnAyrdKpF4IRMASLBtD/jviyLeCgj8twWjAd3HchN/uqaeRYeHJgl7JEY9/cTrvtfybx/r3Y/NtxJ9dp+MTVmiS9bwBH73s8Di56/Ma+mTPMHq4T1yEG1fWcqr0u+hrGnJEvU1JJAm/maQSrKrazIyvSkDFkj8UUlfBq8baniTGPng6YZRL661rDNw4w/1g2figG0IhXnL7wosd/sVNo5dYSmMBTP5c7rYLjRdCwg8quwljOMPf63D8ICAL0r71XRiyFHdgwHbwfgnPOf4Lzjf2v+j+IiDHG2isp5yUnzSDyDRb4i/Vs0qHSHq8PiEQ/JnBP7PxnjN0j6gT4AVAeRx/1o9VnEUlUwvFrzJqHk9jxAw4sYxCnrxaeBdCFFKbnE7z+x54F5W7ZZsU6kx8Qocul6FoAHHy01FGL/nne61mn4+uYXfQ1Uccn+HMLKE+cZzT8BB1E3FRskOgJrRsq25rauLm8+uamXpkS/bTy6y1wDbCrW4eD532kTWrtNUmVVZOIn/C+/JR9KVR5iG9TY8iaT67ubm/whL1xbKZoqtY+a6fNxMJrg211bGYJDUkYMNWA0BMB++9zOm6Eik4roqs9CCEFW0lyAK0PbvlzvoxrZuY/OEhNW/l/63U15Od/RSvmDvXpGLiVmeGi5PDSH2bYz5o2g6wFDQ2FbZgYgTF8rPlvA1ifjZD3NLtFdXdpSIJvgKR7GpjJWG7GZGawPomIH8B5tUmtHH9LpM+/KQKunEPa1GiQkCXv4Cnm9DLORo2joicHdPDZ64obQrPZ5bgqckkj0G6/NEiPYBY4bCkL7W8G5YzsUb6GakFjykSPkT7JGeLeB6uJOGMm+x7N381BCDfbJFx0dtLgV9Q477BfL1fvitX5anV/oYfxeYl+eF5x5bB8+Ep/L2nsmd56aKF4aAD4GbJWsdKyBW22xEmAD3XdbtsMyAFoR5mOla0gEd9U/YVB7zvHGpHbQonay9Sv0bQ8iZ8piaXVrKc5AG1AmqqgaEvzHSP2Wux7aZTWh6quVDVU01JtMIVRdCFwlSbbqqhoFlyzsotQzRexFvZ/MqUSFu3OhRIuNBbufvBpdVgb8XdGJ48/lJPCZ7dsOujTTbKPSEvGXkOnG2Xdi8/nM3EMRqITd5QeU7iOjKqC7URJY6TnLsHij22xAHKnVRD5MDtBYnoGFqZGMDmXCW6Oj+BAWw14hESY/xLF6bLku06AHkiXTHPCFZ0f9YSqqo27eAhhS67OrA2Het4M9JM3jm/yRX6bYxnfmzYl5qQdHxN08FsNuWDrWd4vMUY2QD3hr8vS73SCTkFoXZR3xNzOQt8d/6HfjBmXqvrE6EGkLzK6YK2U2/ksU/iUH+LvVIsJI+ri2AL/klo+ShdDyfs5A83i2prkMs51IKR7ZcqjZJi5X3+bd8GlyWvtddxKEoEqSgEO7A8jIgf2nH0h8FjM7oB6yte3X5mpL0i/E4Rx0CotKnILJj/vJqo4VkPQ93jRtRVfaitQPqldl5xRYPq8387Z0DcnZvOeION0Ht1+P27kFLGQIcLBX4FG3sffccNHh5cPfzp9INoRtqVtdViJfg8RjnXiIz/MNqEN6zvzX3hMzyWC7oSoXIT14ubc0abPX8Rp9GVa5NI/8iv+6ela1oTncbdimRKnrbRffDR/X4nH+bgqAuHWl7hOaeXPWVzIeRl7ga+JzD4Sx3mlj/q6Ra/E2HhDf21eEzTLNGfCZsY+/yxZzQzIAuijG65ii4O/waAJCrEJaWd/DRAKMQ5678Dw5AT7RCKzdadIwd8LsD+DgPBASmWsUlf8R0k1w/2k4lO2Wpb4zMI6EJVJs0xk/wn8/fRUPqrDKhbjHR41SqgFMx5RGMPuduFwlu5lK89tW11sTqiX/5EfGs5nO+y9FKvgXKPOEmgE05EKNL6Sjb3xS40H3BVPhm0ESOZgAjZoymc8be0inDVo4JdJVf+NKd3tN/CaB7GShhH27qf95NoFZVX/6ZkR2lX+CgWrQ2INgkh+bbMz68+uJ3Clsh8HSMPEQtAt+BBE6fXDab7KIlsKxU1lIXW/KWVstpdPanJ0pdXpQinDyUQjtY7ZVcfiecRxRDMAUhHFU2cEaciQ+htiPMPx1kdvtWG9T44w3r037ljHBFJdYR0r55qvMRixtAEFJAqA4T1ES87FAx7UozXasytg8MftZYt0rjYgLe6EJ5aWvy2qscBSBQ7yehoJIA3wIIZ9ukfkyBb6qnue5ko8W50rpV4kXqWjI5nbGRXrNW0tBZHXlY48nSgcUXBHWT4GcgLZJoLlKJnV96kCYpq9eWHh7xJzkCAyrQuQ5AJ0qq/uZ3toJglNterev+Qm0KXxPg/+YbFRJdfhbp1wOnVOEYdVHTya6CtO0afhEaBhx3oHwCb5Kq6RwHDzFMl2vfjL8GwzcCoTj7wZe+UFnYDV2yKpPU9dba29gYBdNqJg/KXozO+CJTlKmlKhnqTf5doeS35DZFV+cYJQVjd+oVY/Gtc/6XPzUxb1gMqf6cEjNNoRC8AObrp+fx0cVtGu4ffC2TgXRC8zPl8moUHCB5HZ25d87mlsiiK0aNwBtcEQjRNBT/QrXbw/8aVXdKMHn9EqYEKEyxSGTpYQOaes1G1Qq8pDgqkZtlO2HRyCXpmeM7TSrRPkAh004BfisVpF6zP44n2Jvxz/gOVocNCyy9V6lkod28QM4pbaMvVJigD/w3BrsjSJrXlqc4ulBYOCceiBN4b/gHajYyupbhEt63a619Ay4wsL6a6w6B+A7TnoyE7BliWHJfzVxxIKM/W3M/J8Bx99Op863Q8eNuIMGRx++VbYfjm+VGYBA3Ap/KEu/wxBNBpJJncwHPG45V8Gh98ZIrGCc20MwijGowZbcS7d1nEgcOW5cddZpHL2XPAIRbColiheZzXTvBxZOY3iMSDSKDrICyJ/iQs1vdplVdH/JrLJsQ2jtTnfCrITIghq3KFX3qAgLWAIp8IffNSdTYptnbGfc8s+qcr3zyzyHp1aJg+jxTF4kD1ry5Wauv5V3xnOGwTFecNzXSLHBW20/pCQjk4uorD0plIhMSTc79+/r4RKPClRYTBYex1Ob5crtfvRQBBv6re/6FhtCqtduag67glqRA77/3ulblh9YRtMdDxkCyJDeNnAuCLPQFmdRRWJtH20Z8DstfJf+5oj5SSB64d0iF5/Ya4KfTWxfivj9Ap2/zbYaTo/1gO3tM6RYsCZharMBFr7Fm61mLSrQnEI4OF1gbVS4k/JE9UotOrnLJZuswoWodCSV8zbybkJSVIP7n8UaE9xCR39rJZmf27HOAPVOGc9pdkQUcRrI0qyVF9Z3j1RHDbxIfwbWzmPVjwIdPJvtmBYwEQIUsIW1S939hcVikK00ozPRI02cqhzVUNzpOxVdrwRPvlh1aIOf0xFEqD3YkGnCnFah/cFN3J2gB7N+bZSGawwkKFu1tpQMrp1W+27YNkyT0TpcFpTqgOqqLabrgcCUPxh97mREOGy4xItzQ9xSl6rq+8BZsHcrQFReS+QeMxJ3P6CnL9EP/eOLDjumLhvrcQrpPiknsofbzBv9gTP0lU+TIVwE6E7CcKfT36q+ZiEOHJ9ayf0dyUJLezAb2M8aNHwd0+OJmsVgTzRWA";const Ph=44032,cy=4352,uy=4449,ly=4519,KP=19,QP=21,jd=28,dy=QP*jd,$te=KP*dy,zte=Ph+$te,Fte=cy+KP,Hte=uy+QP,qte=ly+jd;function Wf(e){return e>>24&255}function YP(e){return e&16777215}let v2,l5,E2,pm;function Wte(){let e=HP(Lte);v2=new Map(qP(e).flatMap((t,n)=>t.map(r=>[r,n+1<<24]))),l5=new Set(Nh(e)),E2=new Map,pm=new Map;for(let[t,n]of WP(e)){if(!l5.has(t)&&n.length==2){let[r,s]=n,i=pm.get(r);i||(i=new Map,pm.set(r,i)),i.set(s,t)}E2.set(t,n.reverse())}}function ZP(e){return e>=Ph&&e<zte}function Gte(e,t){if(e>=cy&&e<Fte&&t>=uy&&t<Hte)return Ph+(e-cy)*dy+(t-uy)*jd;if(ZP(e)&&t>ly&&t<qte&&(e-Ph)%jd==0)return e+(t-ly);{let n=pm.get(e);return n&&(n=n.get(t),n)?n:-1}}function XP(e){v2||Wte();let t=[],n=[],r=!1;function s(i){let o=v2.get(i);o&&(r=!0,i|=o),t.push(i)}for(let i of e)for(;;){if(i<128)t.push(i);else if(ZP(i)){let o=i-Ph,a=o/dy|0,c=o%dy/jd|0,u=o%jd;s(cy+a),s(uy+c),u>0&&s(ly+u)}else{let o=E2.get(i);o?n.push(...o):s(i)}if(!n.length)break;i=n.pop()}if(r&&t.length>1){let i=Wf(t[0]);for(let o=1;o<t.length;o++){let a=Wf(t[o]);if(a==0||i<=a){i=a;continue}let c=o-1;for(;;){let u=t[c+1];if(t[c+1]=t[c],t[c]=u,!c||(i=Wf(t[--c]),i<=a))break}i=Wf(t[o])}}return t}function Vte(e){let t=[],n=[],r=-1,s=0;for(let i of e){let o=Wf(i),a=YP(i);if(r==-1)o==0?r=a:t.push(a);else if(s>0&&s>=o)o==0?(t.push(r,...n),n.length=0,r=a):n.push(a),s=o;else{let c=Gte(r,a);c>=0?r=c:s==0&&o==0?(t.push(r),r=a):(n.push(a),s=o)}}return r>=0&&t.push(r,...n),t}function JP(e){return XP(e).map(YP)}function Kte(e){return Vte(XP(e))}const d5=45,ej=".",tj=65039,nj=1,fy=e=>Array.from(e);function jh(e,t){return e.P.has(t)||e.Q.has(t)}class Qte extends Array{get is_emoji(){return!0}}let x2,rj,eu,A2,sj,Hl,P1,kl,Dc,f5,I2;function Fx(){if(x2)return;let e=HP(Cte);const t=()=>Nh(e),n=()=>new Set(t()),r=(l,f)=>f.forEach(d=>l.add(d));x2=new Map(WP(e)),rj=n(),eu=t(),A2=new Set(t().map(l=>eu[l])),eu=new Set(eu),sj=n(),n();let s=qP(e),i=e();const o=()=>{let l=new Set;return t().forEach(f=>r(l,s[f])),r(l,t()),l};Hl=Oh(l=>{let f=Oh(e).map(d=>d+96);if(f.length){let d=l>=i;f[0]-=32,f=Pd(f),d&&(f=`Restricted[${f}]`);let h=o(),p=o(),m=!e();return{N:f,P:h,Q:p,M:m,R:d}}}),P1=n(),kl=new Map;let a=t().concat(fy(P1)).sort((l,f)=>l-f);a.forEach((l,f)=>{let d=e(),h=a[f]=d?a[f-d]:{V:[],M:new Map};h.V.push(l),P1.has(l)||kl.set(l,h)});for(let{V:l,M:f}of new Set(kl.values())){let d=[];for(let p of l){let m=Hl.filter(b=>jh(b,p)),y=d.find(({G:b})=>m.some(I=>b.has(I)));y||(y={G:new Set,V:[]},d.push(y)),y.V.push(p),r(y.G,m)}let h=d.flatMap(p=>fy(p.G));for(let{G:p,V:m}of d){let y=new Set(h.filter(b=>!p.has(b)));for(let b of m)f.set(b,y)}}Dc=new Set;let c=new Set;const u=l=>Dc.has(l)?c.add(l):Dc.add(l);for(let l of Hl){for(let f of l.P)u(f);for(let f of l.Q)u(f)}for(let l of Dc)!kl.has(l)&&!c.has(l)&&kl.set(l,nj);r(Dc,JP(Dc)),f5=jte(e).map(l=>Qte.from(l)).sort(Ute),I2=new Map;for(let l of f5){let f=[I2];for(let d of l){let h=f.map(p=>{let m=p.get(d);return m||(m=new Map,p.set(d,m)),m});d===tj?f.push(...h):f=h}for(let d of f)d.V=l}}function Hx(e){return(ij(e)?"":`${qx(Kg([e]))} `)+VP(e)}function qx(e){return`"${e}"`}function Yte(e){if(e.length>=4&&e[2]==d5&&e[3]==d5)throw new Error(`invalid label extension: "${Pd(e.slice(0,4))}"`)}function Zte(e){for(let n=e.lastIndexOf(95);n>0;)if(e[--n]!==95)throw new Error("underscore allowed only at start")}function Xte(e){let t=e[0],n=c5.get(t);if(n)throw oh(`leading ${n}`);let r=e.length,s=-1;for(let i=1;i<r;i++){t=e[i];let o=c5.get(t);if(o){if(s==i)throw oh(`${n} + ${o}`);s=i+1,n=o}}if(s==r)throw oh(`trailing ${n}`)}function Kg(e,t=1/0,n=VP){let r=[];Jte(e[0])&&r.push(""),e.length>t&&(t>>=1,e=[...e.slice(0,t),8230,...e.slice(-t)]);let s=0,i=e.length;for(let o=0;o<i;o++){let a=e[o];ij(a)&&(r.push(Pd(e.slice(s,o))),r.push(n(a)),s=o+1)}return r.push(Pd(e.slice(s,i))),r.join("")}function Jte(e,t){return Fx(),eu.has(e)}function ij(e){return Fx(),sj.has(e)}function ene(e){return sne(tne(e,Kte,ane))}function tne(e,t,n){if(!e)return[];Fx();let r=0;return e.split(ej).map(s=>{let i=Dte(s),o={input:i,offset:r};r+=i.length+1;try{let a=o.tokens=one(i,t,n),c=a.length,u;if(!c)throw new Error("empty label");let l=o.output=a.flat();if(Zte(l),!(o.emoji=c>1||a[0].is_emoji)&&l.every(d=>d<128))Yte(l),u="ASCII";else{let d=a.flatMap(h=>h.is_emoji?[]:h);if(!d.length)u="Emoji";else{if(eu.has(l[0]))throw oh("leading combining mark");for(let m=1;m<c;m++){let y=a[m];if(!y.is_emoji&&eu.has(y[0]))throw oh(`emoji + combining mark: "${Pd(a[m-1])} + ${Kg([y[0]])}"`)}Xte(l);let h=fy(new Set(d)),[p]=rne(h);ine(p,d),nne(p,h),u=p.N}}o.type=u}catch(a){o.error=a}return o})}function nne(e,t){let n,r=[];for(let s of t){let i=kl.get(s);if(i===nj)return;if(i){let o=i.M.get(s);if(n=n?n.filter(a=>o.has(a)):fy(o),!n.length)return}else r.push(s)}if(n){for(let s of n)if(r.every(i=>jh(s,i)))throw new Error(`whole-script confusable: ${e.N}/${s.N}`)}}function rne(e){let t=Hl;for(let n of e){let r=t.filter(s=>jh(s,n));if(!r.length)throw Hl.some(s=>jh(s,n))?aj(t[0],n):oj(n);if(t=r,r.length==1)break}return t}function sne(e){return e.map(({input:t,error:n,output:r})=>{if(n){let s=n.message;throw new Error(e.length==1?s:`Invalid label ${qx(Kg(t,63))}: ${s}`)}return Pd(r)}).join(ej)}function oj(e){return new Error(`disallowed character: ${Hx(e)}`)}function aj(e,t){let n=Hx(t),r=Hl.find(s=>s.P.has(t));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${e.N} + ${n}`)}function oh(e){return new Error(`illegal placement: ${e}`)}function ine(e,t){for(let n of t)if(!jh(e,n))throw aj(e,n);if(e.M){let n=JP(t);for(let r=1,s=n.length;r<s;r++)if(A2.has(n[r])){let i=r+1;for(let o;i<s&&A2.has(o=n[i]);i++)for(let a=r;a<i;a++)if(n[a]==o)throw new Error(`duplicate non-spacing marks: ${Hx(o)}`);if(i-r>u5)throw new Error(`excessive non-spacing marks: ${qx(Kg(n.slice(r-1,i)))} (${i-r}/${u5})`);r=i}}}function one(e,t,n){let r=[],s=[];for(e=e.slice().reverse();e.length;){let i=cne(e);if(i)s.length&&(r.push(t(s)),s=[]),r.push(n(i));else{let o=e.pop();if(Dc.has(o))s.push(o);else{let a=x2.get(o);if(a)s.push(...a);else if(!rj.has(o))throw oj(o)}}}return s.length&&r.push(t(s)),r}function ane(e){return e.filter(t=>t!=tj)}function cne(e,t){let n=I2,r,s=e.length;for(;s&&(n=n.get(e[--s]),!!n);){let{V:i}=n;i&&(r=i,e.length=s)}return r}var cj={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,u,l){this.fn=c,this.context=u,this.once=l||!1}function i(c,u,l,f,d){if(typeof l!="function")throw new TypeError("The listener must be a function");var h=new s(l,f||c,d),p=n?n+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],h]:c._events[p].push(h):(c._events[p]=h,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],l,f;if(this._eventsCount===0)return u;for(f in l=this._events)t.call(l,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(l)):u},a.prototype.listeners=function(u){var l=n?n+u:u,f=this._events[l];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,h=f.length,p=new Array(h);d<h;d++)p[d]=f[d].fn;return p},a.prototype.listenerCount=function(u){var l=n?n+u:u,f=this._events[l];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,l,f,d,h,p){var m=n?n+u:u;if(!this._events[m])return!1;var y=this._events[m],b=arguments.length,I,v;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,l),!0;case 3:return y.fn.call(y.context,l,f),!0;case 4:return y.fn.call(y.context,l,f,d),!0;case 5:return y.fn.call(y.context,l,f,d,h),!0;case 6:return y.fn.call(y.context,l,f,d,h,p),!0}for(v=1,I=new Array(b-1);v<b;v++)I[v-1]=arguments[v];y.fn.apply(y.context,I)}else{var E=y.length,S;for(v=0;v<E;v++)switch(y[v].once&&this.removeListener(u,y[v].fn,void 0,!0),b){case 1:y[v].fn.call(y[v].context);break;case 2:y[v].fn.call(y[v].context,l);break;case 3:y[v].fn.call(y[v].context,l,f);break;case 4:y[v].fn.call(y[v].context,l,f,d);break;default:if(!I)for(S=1,I=new Array(b-1);S<b;S++)I[S-1]=arguments[S];y[v].fn.apply(y[v].context,I)}}return!0},a.prototype.on=function(u,l,f){return i(this,u,l,f,!1)},a.prototype.once=function(u,l,f){return i(this,u,l,f,!0)},a.prototype.removeListener=function(u,l,f,d){var h=n?n+u:u;if(!this._events[h])return this;if(!l)return o(this,h),this;var p=this._events[h];if(p.fn)p.fn===l&&(!d||p.once)&&(!f||p.context===f)&&o(this,h);else{for(var m=0,y=[],b=p.length;m<b;m++)(p[m].fn!==l||d&&!p[m].once||f&&p[m].context!==f)&&y.push(p[m]);y.length?this._events[h]=y.length===1?y[0]:y:o(this,h)}return this},a.prototype.removeAllListeners=function(u){var l;return u?(l=n?n+u:u,this._events[l]&&o(this,l)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(cj);var une=cj.exports;const zp=ap(une);function lne(e){return ene(e)}function uj(e){return lne(e)}const dne=async e=>{try{const t=await ju(Jt.ETH);return await oO(t,{name:uj(e)})}catch{return}},fne=async(e,t,n,r)=>{try{const s=await ju(Jt.ETH),i=await ju(Jt.POL),o=Ch(e),a=[];if(n){const u=ree[t],l=nee[n];u&&(r&&a.push(`token.${u}.${l}.${r}.address`),l&&a.push(`token.${u}.${l}.address`),a.push(`token.${u}.address`))}const c=tee[t];a.push(`crypto.${c}.address`);for(const u of a){const l=await h5(i,{name:o,key:u})||await h5(s,{name:o,key:u});if(l)return l}return}catch{return}};async function h5(e,t){var h;const{name:n,key:r}=t,s=(h=e.chain)==null?void 0:h.id;if(!s)throw new Error("Chain ID not available");const i=eee(s);if(!i)throw new Error(`UNS contracts are not deployed on chain ${s}`);const o=Ee(e,Jn,"readContract"),a={abi:t5,address:i,functionName:"exists",args:[BigInt(n)]};if(!await o(a))return;const u={abi:t5,address:i,functionName:"getData",args:[[r],BigInt(n)]},l=await o(u),[,,f]=l,d=f[0];if(!(d==="0x"||d===""||Zn(d)==="0x00"))return d}async function hne(e,t,n){return await dne(e)||await fne(e,cn.EVM,t,n)}function Ube(e){const t=e??{};return{get type(){return cn.EVM},get options(){return t},isAddress:Pt,resolveAddress:hne,getBalance:Ite,getWalletClient:t.getWalletClient,async getStepExecutor(n){var i;if(!t.getWalletClient)throw new Error("Client is not provided.");const r=await t.getWalletClient();return new Ate({client:r,routeId:n.routeId,executionOptions:{...n.executionOptions,switchChainHook:t.switchChain??((i=n.executionOptions)==null?void 0:i.switchChainHook)}})},setOptions(n){Object.assign(t,n)}}}const Lbe=async(e,t)=>{var s;const n=structuredClone(e);let r=(s=oa.get(n.id))==null?void 0:s.promise;return r||(oa.create({route:n,executionOptions:t}),r=pne(n),oa.update({route:n,promise:r}),r)},pne=async e=>{var t,n,r,s;for(let i=0;i<e.steps.length;i++){const o=oa.get(e.id);if(!o)break;const a=e.steps[i],c=e.steps[i-1];if(((t=a.execution)==null?void 0:t.status)!=="DONE"){(n=c==null?void 0:c.execution)!=null&&n.toAmount&&(a.action.fromAmount=c.execution.toAmount,(r=a.includedSteps)!=null&&r.length&&(a.includedSteps[0].action.fromAmount=c.execution.toAmount));try{const u=a.action.fromAddress;if(!u)throw new Error("Action fromAddress is not specified.");const l=xt.get().providers.find(h=>h.isAddress(u));if(!l)throw new m2($e.ProviderUnavailable,"SDK Execution Provider not found.");const f=await l.getStepExecutor({routeId:e.id,executionOptions:o.executionOptions});if(o.executors.push(f),o.executionOptions&&mne(e,o.executionOptions),((s=(await f.executeStep(a)).execution)==null?void 0:s.status)!=="DONE"&&p5(e),!f.allowExecution)return e}catch(u){throw p5(e),u}}}return oa.delete(e.id),e},mne=(e,t)=>{const n=oa.get(e.id);if(n){if("executeInBackground"in t)for(const r of n.executors)r.setInteraction({allowInteraction:!(t!=null&&t.executeInBackground),allowUpdates:!0});n.executionOptions={...n.executionOptions,...t}}},p5=e=>{const t=oa.get(e.id);if(!t)return e;for(const n of t.executors)n.setInteraction({allowInteraction:!1,allowUpdates:!1,allowExecution:!1});return oa.delete(e.id),t.route};/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ua=BigInt(0),ir=BigInt(1),j1=BigInt(2),yne=BigInt(8);function gne(e,t,n,r){const s=e.sqr(n),i=e.sqr(r),o=e.add(e.mul(t.a,s),i),a=e.add(e.ONE,e.mul(t.d,e.mul(s,i)));return e.eql(o,a)}function wne(e,t={}){const n=xM("edwards",e,t,t.FpFnLE),{Fp:r,Fn:s}=n;let i=n.CURVE;const{h:o}=i;Ep(t,{},{uvRatio:"function"});const a=j1<<BigInt(s.BYTES*8)-ir,c=y=>r.create(y),u=t.uvRatio||((y,b)=>{try{return{isValid:!0,value:r.sqrt(r.div(y,b))}}catch{return{isValid:!1,value:Ua}}});if(!gne(r,i,i.Gx,i.Gy))throw new Error("bad curve params: generator point");function l(y,b,I=!1){const v=I?ir:Ua;return Ov("coordinate "+y,b,v,a),b}function f(y){if(!(y instanceof p))throw new Error("ExtendedPoint expected")}const d=Um((y,b)=>{const{X:I,Y:v,Z:E}=y,S=y.is0();b==null&&(b=S?yne:r.inv(E));const N=c(I*b),O=c(v*b),z=r.mul(E,b);if(S)return{x:Ua,y:ir};if(z!==ir)throw new Error("invZ was invalid");return{x:N,y:O}}),h=Um(y=>{const{a:b,d:I}=i;if(y.is0())throw new Error("bad point: ZERO");const{X:v,Y:E,Z:S,T:N}=y,O=c(v*v),z=c(E*E),L=c(S*S),F=c(L*L),H=c(O*b),G=c(L*c(H+z)),M=c(F+c(I*c(O*z)));if(G!==M)throw new Error("bad point: equation left != right (1)");const g=c(v*E),w=c(S*N);if(g!==w)throw new Error("bad point: equation left != right (2)");return!0});class p{constructor(b,I,v,E){this.X=l("x",b),this.Y=l("y",I),this.Z=l("z",v,!0),this.T=l("t",E),Object.freeze(this)}static CURVE(){return i}static fromAffine(b){if(b instanceof p)throw new Error("extended point not allowed");const{x:I,y:v}=b||{};return l("x",I),l("y",v),new p(I,v,ir,c(I*v))}static fromBytes(b,I=!1){const v=r.BYTES,{a:E,d:S}=i;b=XI(Li(b,v,"point")),xu(I,"zip215");const N=XI(b),O=b[v-1];N[v-1]=O&-129;const z=bh(N),L=I?a:r.ORDER;Ov("point.y",z,Ua,L);const F=c(z*z),H=c(F-ir),G=c(S*F-E);let{isValid:M,value:g}=u(H,G);if(!M)throw new Error("bad point: invalid y coordinate");const w=(g&ir)===ir,T=(O&128)!==0;if(!I&&g===Ua&&T)throw new Error("bad point: x=0 and x_0=1");return T!==w&&(g=c(-g)),p.fromAffine({x:g,y:z})}static fromHex(b,I=!1){return p.fromBytes(mn("point",b),I)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(b=8,I=!0){return m.createCache(this,b),I||this.multiply(j1),this}assertValidity(){h(this)}equals(b){f(b);const{X:I,Y:v,Z:E}=this,{X:S,Y:N,Z:O}=b,z=c(I*O),L=c(S*E),F=c(v*O),H=c(N*E);return z===L&&F===H}is0(){return this.equals(p.ZERO)}negate(){return new p(c(-this.X),this.Y,this.Z,c(-this.T))}double(){const{a:b}=i,{X:I,Y:v,Z:E}=this,S=c(I*I),N=c(v*v),O=c(j1*c(E*E)),z=c(b*S),L=I+v,F=c(c(L*L)-S-N),H=z+N,G=H-O,M=z-N,g=c(F*G),w=c(H*M),T=c(F*M),_=c(G*H);return new p(g,w,_,T)}add(b){f(b);const{a:I,d:v}=i,{X:E,Y:S,Z:N,T:O}=this,{X:z,Y:L,Z:F,T:H}=b,G=c(E*z),M=c(S*L),g=c(O*v*H),w=c(N*F),T=c((E+S)*(z+L)-G-M),_=w-g,x=w+g,j=c(M-I*G),D=c(T*_),P=c(x*j),k=c(T*j),$=c(_*x);return new p(D,P,$,k)}subtract(b){return this.add(b.negate())}multiply(b){if(!s.isValidNot0(b))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:I,f:v}=m.cached(this,b,E=>Xc(p,E));return Xc(p,[I,v])[0]}multiplyUnsafe(b,I=p.ZERO){if(!s.isValid(b))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return b===Ua?p.ZERO:this.is0()||b===ir?this:m.unsafe(this,b,v=>Xc(p,v),I)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}isTorsionFree(){return m.unsafe(this,i.n).is0()}toAffine(b){return d(this,b)}clearCofactor(){return o===ir?this:this.multiplyUnsafe(o)}toBytes(){const{x:b,y:I}=this.toAffine(),v=r.toBytes(I);return v[v.length-1]|=b&ir?128:0,v}toHex(){return dc(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(b){return Xc(p,b)}static msm(b,I){return EM(p,s,b,I)}_setWindowSize(b){this.precompute(b)}toRawBytes(){return this.toBytes()}}p.BASE=new p(i.Gx,i.Gy,ir,c(i.Gx*i.Gy)),p.ZERO=new p(Ua,ir,ir,Ua),p.Fp=r,p.Fn=s;const m=new vM(p,s.BITS);return p.BASE.precompute(8),p}function bne(e,t,n={}){if(typeof t!="function")throw new Error('"hash" function param is required');Ep(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=n,{BASE:s,Fp:i,Fn:o}=e,a=n.randomBytes||dp,c=n.adjustScalarBytes||(L=>L),u=n.domain||((L,F,H)=>{if(xu(H,"phflag"),F.length||H)throw new Error("Contexts/pre-hash are not supported");return L});function l(L){return o.create(bh(L))}function f(L){const F=v.secretKey;L=mn("private key",L,F);const H=mn("hashed private key",t(L),2*F),G=c(H.slice(0,F)),M=H.slice(F,2*F),g=l(G);return{head:G,prefix:M,scalar:g}}function d(L){const{head:F,prefix:H,scalar:G}=f(L),M=s.multiply(G),g=M.toBytes();return{head:F,prefix:H,scalar:G,point:M,pointBytes:g}}function h(L){return d(L).pointBytes}function p(L=Uint8Array.of(),...F){const H=hi(...F);return l(t(u(H,mn("context",L),!!r)))}function m(L,F,H={}){L=mn("message",L),r&&(L=r(L));const{prefix:G,scalar:M,pointBytes:g}=d(F),w=p(H.context,G,L),T=s.multiply(w).toBytes(),_=p(H.context,T,g,L),x=o.create(w+_*M);if(!o.isValid(x))throw new Error("sign failed: invalid s");const j=hi(T,o.toBytes(x));return Li(j,v.signature,"result")}const y={zip215:!0};function b(L,F,H,G=y){const{context:M,zip215:g}=G,w=v.signature;L=mn("signature",L,w),F=mn("message",F),H=mn("publicKey",H,v.publicKey),g!==void 0&&xu(g,"zip215"),r&&(F=r(F));const T=w/2,_=L.subarray(0,T),x=bh(L.subarray(T,w));let j,D,P;try{j=e.fromBytes(H,g),D=e.fromBytes(_,g),P=s.multiplyUnsafe(x)}catch{return!1}if(!g&&j.isSmallOrder())return!1;const k=p(M,D.toBytes(),j.toBytes(),F);return D.add(j.multiplyUnsafe(k)).subtract(P).clearCofactor().is0()}const I=i.BYTES,v={secretKey:I,publicKey:I,signature:2*I,seed:I};function E(L=a(v.seed)){return Li(L,v.seed,"seed")}function S(L){const F=z.randomSecretKey(L);return{secretKey:F,publicKey:h(F)}}function N(L){return Wd(L)&&L.length===o.BYTES}function O(L,F){try{return!!e.fromBytes(L,F)}catch{return!1}}const z={getExtendedPublicKey:d,randomSecretKey:E,isValidSecretKey:N,isValidPublicKey:O,toMontgomery(L){const{y:F}=e.fromBytes(L),H=v.publicKey,G=H===32;if(!G&&H!==57)throw new Error("only defined for 25519 and 448");const M=G?i.div(ir+F,ir-F):i.div(F-ir,F+ir);return i.toBytes(M)},toMontgomerySecret(L){const F=v.secretKey;Li(L,F);const H=t(L.subarray(0,F));return c(H).subarray(0,F)},randomPrivateKey:E,precompute(L=8,F=e.BASE){return F.precompute(L,!1)}};return Object.freeze({keygen:S,getPublicKey:h,sign:m,verify:b,utils:z,Point:e,lengths:v})}function vne(e){const t={a:e.a,d:e.d,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp,r=Wu(t.n,e.nBitLength,!0),s={Fp:n,Fn:r,uvRatio:e.uvRatio},i={randomBytes:e.randomBytes,adjustScalarBytes:e.adjustScalarBytes,domain:e.domain,prehash:e.prehash,mapToCurve:e.mapToCurve};return{CURVE:t,curveOpts:s,hash:e.hash,eddsaOpts:i}}function Ene(e,t){const n=t.Point;return Object.assign({},t,{ExtendedPoint:n,CURVE:e,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}function xne(e){const{CURVE:t,curveOpts:n,hash:r,eddsaOpts:s}=vne(e),i=wne(t,n),o=bne(i,r,s);return Ene(e,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ane=BigInt(1),m5=BigInt(2);BigInt(3);const Ine=BigInt(5),Sne=BigInt(8),Wx=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),lj={p:Wx,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:Sne,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function kne(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=Wx,a=e*e%i*e%i,c=pn(a,m5,i)*a%i,u=pn(c,Ane,i)*e%i,l=pn(u,Ine,i)*u%i,f=pn(l,t,i)*l%i,d=pn(f,n,i)*f%i,h=pn(d,r,i)*d%i,p=pn(h,s,i)*h%i,m=pn(p,s,i)*h%i,y=pn(m,t,i)*l%i;return{pow_p_5_8:pn(y,m5,i)*e%i,b2:a}}function Cne(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const y5=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function Tne(e,t){const n=Wx,r=zn(t*t*t,n),s=zn(r*r*t,n),i=kne(e*s).pow_p_5_8;let o=zn(e*r*i,n);const a=zn(t*o*o,n),c=o,u=zn(o*y5,n),l=a===e,f=a===zn(-e,n),d=a===zn(-e*y5,n);return l&&(o=c),(f||d)&&(o=u),ZH(o,n)&&(o=zn(-o,n)),{isValid:l||f,value:o}}const _ne=Wu(lj.p,{isLE:!0}),Mne={...lj,Fp:_ne,hash:KE,adjustScalarBytes:Cne,uvRatio:Tne},cf=xne(Mne);var S2={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var n=Ux,r=n.Buffer;function s(o,a){for(var c in o)a[c]=o[c]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(s(n,t),t.Buffer=i);function i(o,a,c){return r(o,a,c)}i.prototype=Object.create(r.prototype),s(r,i),i.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,c)},i.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=r(o);return a!==void 0?typeof c=="string"?u.fill(a,c):u.fill(a):u.fill(0),u},i.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},i.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(S2,S2.exports);var Bne=S2.exports,k0=Bne.Buffer;function Nne(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var s=e.charAt(r),i=s.charCodeAt(0);if(t[i]!==255)throw new TypeError(s+" is ambiguous");t[i]=r}var o=e.length,a=e.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function l(h){if((Array.isArray(h)||h instanceof Uint8Array)&&(h=k0.from(h)),!k0.isBuffer(h))throw new TypeError("Expected Buffer");if(h.length===0)return"";for(var p=0,m=0,y=0,b=h.length;y!==b&&h[y]===0;)y++,p++;for(var I=(b-y)*u+1>>>0,v=new Uint8Array(I);y!==b;){for(var E=h[y],S=0,N=I-1;(E!==0||S<m)&&N!==-1;N--,S++)E+=256*v[N]>>>0,v[N]=E%o>>>0,E=E/o>>>0;if(E!==0)throw new Error("Non-zero carry");m=S,y++}for(var O=I-m;O!==I&&v[O]===0;)O++;for(var z=a.repeat(p);O<I;++O)z+=e.charAt(v[O]);return z}function f(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return k0.alloc(0);for(var p=0,m=0,y=0;h[p]===a;)m++,p++;for(var b=(h.length-p)*c+1>>>0,I=new Uint8Array(b);p<h.length;){var v=h.charCodeAt(p);if(v>255)return;var E=t[v];if(E===255)return;for(var S=0,N=b-1;(E!==0||S<y)&&N!==-1;N--,S++)E+=o*I[N]>>>0,I[N]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");y=S,p++}for(var O=b-y;O!==b&&I[O]===0;)O++;var z=k0.allocUnsafe(m+(b-O));z.fill(0,0,m);for(var L=m;O!==b;)z[L++]=I[O++];return z}function d(h){var p=f(h);if(p)return p;throw new Error("Non-base"+o+" character")}return{encode:l,decodeUnsafe:f,decode:d}}var One=Nne,Pne=One,jne="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",dj=Pne(jne);const vr=ap(dj);var wr={};function Yo(e,t,n){return t<=e&&e<=n}function Qg(e){if(e===void 0)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function Rne(e){for(var t=String(e),n=t.length,r=0,s=[];r<n;){var i=t.charCodeAt(r);if(i<55296||i>57343)s.push(i);else if(56320<=i&&i<=57343)s.push(65533);else if(55296<=i&&i<=56319)if(r===n-1)s.push(65533);else{var o=e.charCodeAt(r+1);if(56320<=o&&o<=57343){var a=i&1023,c=o&1023;s.push(65536+(a<<10)+c),r+=1}else s.push(65533)}r+=1}return s}function Dne(e){for(var t="",n=0;n<e.length;++n){var r=e[n];r<=65535?t+=String.fromCharCode(r):(r-=65536,t+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return t}var hy=-1;function Gx(e){this.tokens=[].slice.call(e)}Gx.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():hy},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var Rd=-1;function R1(e,t){if(e)throw TypeError("Decoder error");return t||65533}var py="utf-8";function my(e,t){if(!(this instanceof my))return new my(e,t);if(e=e!==void 0?String(e).toLowerCase():py,e!==py)throw new Error("Encoding not supported. Only utf-8 is supported");t=Qg(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}my.prototype={decode:function(t,n){var r;typeof t=="object"&&t instanceof ArrayBuffer?r=new Uint8Array(t):typeof t=="object"&&"buffer"in t&&t.buffer instanceof ArrayBuffer?r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):r=new Uint8Array(0),n=Qg(n),this._streaming||(this._decoder=new Une({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var s=new Gx(r),i=[],o;!s.endOfStream()&&(o=this._decoder.handler(s,s.read()),o!==Rd);)o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o));if(!this._streaming){do{if(o=this._decoder.handler(s,s.read()),o===Rd)break;o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o))}while(!s.endOfStream());this._decoder=null}return i.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0),Dne(i)}};function yy(e,t){if(!(this instanceof yy))return new yy(e,t);if(e=e!==void 0?String(e).toLowerCase():py,e!==py)throw new Error("Encoding not supported. Only utf-8 is supported");t=Qg(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}yy.prototype={encode:function(t,n){t=t?String(t):"",n=Qg(n),this._streaming||(this._encoder=new Lne(this._options)),this._streaming=!!n.stream;for(var r=[],s=new Gx(Rne(t)),i;!s.endOfStream()&&(i=this._encoder.handler(s,s.read()),i!==Rd);)Array.isArray(i)?r.push.apply(r,i):r.push(i);if(!this._streaming){for(;i=this._encoder.handler(s,s.read()),i!==Rd;)Array.isArray(i)?r.push.apply(r,i):r.push(i);this._encoder=null}return new Uint8Array(r)}};function Une(e){var t=e.fatal,n=0,r=0,s=0,i=128,o=191;this.handler=function(a,c){if(c===hy&&s!==0)return s=0,R1(t);if(c===hy)return Rd;if(s===0){if(Yo(c,0,127))return c;if(Yo(c,194,223))s=1,n=c-192;else if(Yo(c,224,239))c===224&&(i=160),c===237&&(o=159),s=2,n=c-224;else if(Yo(c,240,244))c===240&&(i=144),c===244&&(o=143),s=3,n=c-240;else return R1(t);return n=n<<6*s,null}if(!Yo(c,i,o))return n=s=r=0,i=128,o=191,a.prepend(c),R1(t);if(i=128,o=191,r+=1,n+=c-128<<6*(s-r),r!==s)return null;var u=n;return n=s=r=0,u}}function Lne(e){e.fatal,this.handler=function(t,n){if(n===hy)return Rd;if(Yo(n,0,127))return n;var r,s;Yo(n,128,2047)?(r=1,s=192):Yo(n,2048,65535)?(r=2,s=224):Yo(n,65536,1114111)&&(r=3,s=240);for(var i=[(n>>6*r)+s];r>0;){var o=n>>6*(r-1);i.push(128|o&63),r-=1}return i}}const $ne=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:my,TextEncoder:yy},Symbol.toStringTag,{value:"Module"})),zne=Hd($ne);var Fne=bi&&bi.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Hne=bi&&bi.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ko=bi&&bi.__decorate||function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i},qne=bi&&bi.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.hasOwnProperty.call(e,n)&&Fne(t,e,n);return Hne(t,e),t},fj=bi&&bi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wr,"__esModule",{value:!0});var hj=wr.deserializeUnchecked=bj=wr.deserialize=wj=wr.serialize=wr.BinaryReader=wr.BinaryWriter=wr.BorshError=wr.baseDecode=wr.baseEncode=void 0;const uc=fj(NP),pj=fj(dj),Wne=qne(zne),Gne=typeof TextDecoder!="function"?Wne.TextDecoder:TextDecoder,Vne=new Gne("utf-8",{fatal:!0});function Kne(e){return typeof e=="string"&&(e=zr.from(e,"utf8")),pj.default.encode(zr.from(e))}wr.baseEncode=Kne;function Qne(e){return zr.from(pj.default.decode(e))}wr.baseDecode=Qne;const D1=1024;class Xr extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}wr.BorshError=Xr;class mj{constructor(){this.buf=zr.alloc(D1),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=zr.concat([this.buf,zr.alloc(D1)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(zr.from(new uc.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(zr.from(new uc.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(zr.from(new uc.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(zr.from(new uc.default(t).toArray("le",64)))}writeBuffer(t){this.buf=zr.concat([zr.from(this.buf.subarray(0,this.length)),t,zr.alloc(D1)]),this.length+=t.length}writeString(t){this.maybeResize();const n=zr.from(t,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(t){this.writeBuffer(zr.from(t))}writeArray(t,n){this.maybeResize(),this.writeU32(t.length);for(const r of t)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}}wr.BinaryWriter=mj;function Co(e,t,n){const r=n.value;n.value=function(...s){try{return r.apply(this,s)}catch(i){if(i instanceof RangeError){const o=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new Xr("Reached the end of buffer when deserializing")}throw i}}}class Js{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new uc.default(t,"le")}readU128(){const t=this.readBuffer(16);return new uc.default(t,"le")}readU256(){const t=this.readBuffer(32);return new uc.default(t,"le")}readU512(){const t=this.readBuffer(64);return new uc.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new Xr(`Expected buffer length ${t} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,n}readString(){const t=this.readU32(),n=this.readBuffer(t);try{return Vne.decode(n)}catch(r){throw new Xr(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const n=this.readU32(),r=Array();for(let s=0;s<n;++s)r.push(t());return r}}ko([Co],Js.prototype,"readU8",null);ko([Co],Js.prototype,"readU16",null);ko([Co],Js.prototype,"readU32",null);ko([Co],Js.prototype,"readU64",null);ko([Co],Js.prototype,"readU128",null);ko([Co],Js.prototype,"readU256",null);ko([Co],Js.prototype,"readU512",null);ko([Co],Js.prototype,"readString",null);ko([Co],Js.prototype,"readFixedArray",null);ko([Co],Js.prototype,"readArray",null);wr.BinaryReader=Js;function yj(e){return e.charAt(0).toUpperCase()+e.slice(1)}function $c(e,t,n,r,s){try{if(typeof r=="string")s[`write${yj(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new Xr(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);s.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new Xr(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let i=0;i<r[1];i++)$c(e,null,n[i],r[0],s)}else s.writeArray(n,i=>{$c(e,t,i,r[0],s)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?s.writeU8(0):(s.writeU8(1),$c(e,t,n,r.type,s));break}case"map":{s.writeU32(n.size),n.forEach((i,o)=>{$c(e,t,o,r.key,s),$c(e,t,i,r.value,s)});break}default:throw new Xr(`FieldType ${r} unrecognized`)}else gj(e,n,s)}catch(i){throw i instanceof Xr&&i.addToFieldPath(t),i}}function gj(e,t,n){if(typeof t.borshSerialize=="function"){t.borshSerialize(n);return}const r=e.get(t.constructor);if(!r)throw new Xr(`Class ${t.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([s,i])=>{$c(e,s,t[s],i,n)});else if(r.kind==="enum"){const s=t[r.field];for(let i=0;i<r.values.length;++i){const[o,a]=r.values[i];if(o===s){n.writeU8(i),$c(e,o,t[o],a,n);break}}}else throw new Xr(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`)}function Yne(e,t,n=mj){const r=new n;return gj(e,t,r),r.toArray()}var wj=wr.serialize=Yne;function zc(e,t,n,r){try{if(typeof n=="string")return r[`read${yj(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){const s=[];for(let i=0;i<n[1];i++)s.push(zc(e,null,n[0],r));return s}else return r.readArray(()=>zc(e,t,n[0],r))}if(n.kind==="option")return r.readU8()?zc(e,t,n.type,r):void 0;if(n.kind==="map"){let s=new Map;const i=r.readU32();for(let o=0;o<i;o++){const a=zc(e,t,n.key,r),c=zc(e,t,n.value,r);s.set(a,c)}return s}return Vx(e,n,r)}catch(s){throw s instanceof Xr&&s.addToFieldPath(t),s}}function Vx(e,t,n){if(typeof t.borshDeserialize=="function")return t.borshDeserialize(n);const r=e.get(t);if(!r)throw new Xr(`Class ${t.name} is missing in schema`);if(r.kind==="struct"){const s={};for(const[i,o]of e.get(t).fields)s[i]=zc(e,i,o,n);return new t(s)}if(r.kind==="enum"){const s=n.readU8();if(s>=r.values.length)throw new Xr(`Enum index: ${s} is out of range`);const[i,o]=r.values[s],a=zc(e,i,o,n);return new t({[i]:a})}throw new Xr(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`)}function Zne(e,t,n,r=Js){const s=new r(n),i=Vx(e,t,s);if(s.offset<n.length)throw new Xr(`Unexpected ${n.length-s.offset} bytes after deserialized data`);return i}var bj=wr.deserialize=Zne;function Xne(e,t,n,r=Js){const s=new r(n);return Vx(e,t,s)}hj=wr.deserializeUnchecked=Xne;var te={};Object.defineProperty(te,"__esModule",{value:!0});te.s16=te.s8=te.nu64be=te.u48be=te.u40be=te.u32be=te.u24be=te.u16be=pr=te.nu64=te.u48=te.u40=Ze=te.u32=te.u24=li=te.u16=Tt=te.u8=yu=te.offset=te.greedy=te.Constant=te.UTF8=te.CString=te.Blob=te.Boolean=te.BitField=te.BitStructure=te.VariantLayout=te.Union=te.UnionLayoutDiscriminator=te.UnionDiscriminator=te.Structure=te.Sequence=te.DoubleBE=te.Double=te.FloatBE=te.Float=te.NearInt64BE=te.NearInt64=te.NearUInt64BE=te.NearUInt64=te.IntBE=te.Int=te.UIntBE=te.UInt=te.OffsetLayout=te.GreedyCount=te.ExternalLayout=te.bindConstructorLayout=te.nameWithProperty=te.Layout=te.uint8ArrayToBuffer=te.checkUint8Array=void 0;te.constant=te.utf8=te.cstr=qt=te.blob=te.unionLayoutDiscriminator=te.union=Vr=te.seq=te.bits=ze=te.struct=te.f64be=te.f64=te.f32be=te.f32=te.ns64be=te.s48be=te.s40be=te.s32be=te.s24be=te.s16be=Ls=te.ns64=te.s48=te.s40=te.s32=te.s24=void 0;const Kx=Ux;function uf(e){if(!(e instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}te.checkUint8Array=uf;function kt(e){return uf(e),Kx.Buffer.from(e.buffer,e.byteOffset,e.length)}te.uint8ArrayToBuffer=kt;class jt{constructor(t,n){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=n}makeDestinationObject(){return{}}getSpan(t,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=t,n}fromArray(t){}}te.Layout=jt;function Qx(e,t){return t.property?e+"["+t.property+"]":e}te.nameWithProperty=Qx;function Jne(e,t){if(typeof e!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(e,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof jt))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=()=>new e,Object.defineProperty(e.prototype,"encode",{value(n,r){return t.encode(this,n,r)},writable:!0}),Object.defineProperty(e,"decode",{value(n,r){return t.decode(n,r)},writable:!0})}te.bindConstructorLayout=Jne;class ws extends jt{isCount(){throw new Error("ExternalLayout is abstract")}}te.ExternalLayout=ws;class vj extends ws{constructor(t=1,n){if(!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=t}isCount(){return!0}decode(t,n=0){uf(t);const r=t.length-n;return Math.floor(r/this.elementSpan)}encode(t,n,r){return 0}}te.GreedyCount=vj;class Yx extends ws{constructor(t,n=0,r){if(!(t instanceof jt))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(t.span,r||t.property),this.layout=t,this.offset=n}isCount(){return this.layout instanceof gi||this.layout instanceof Wi}decode(t,n=0){return this.layout.decode(t,n+this.offset)}encode(t,n,r=0){return this.layout.encode(t,n,r+this.offset)}}te.OffsetLayout=Yx;class gi extends jt{constructor(t,n){if(super(t,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,n=0){return kt(t).readUIntLE(n,this.span)}encode(t,n,r=0){return kt(n).writeUIntLE(t,r,this.span),this.span}}te.UInt=gi;class Wi extends jt{constructor(t,n){if(super(t,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,n=0){return kt(t).readUIntBE(n,this.span)}encode(t,n,r=0){return kt(n).writeUIntBE(t,r,this.span),this.span}}te.UIntBE=Wi;class nl extends jt{constructor(t,n){if(super(t,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,n=0){return kt(t).readIntLE(n,this.span)}encode(t,n,r=0){return kt(n).writeIntLE(t,r,this.span),this.span}}te.Int=nl;class lf extends jt{constructor(t,n){if(super(t,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,n=0){return kt(t).readIntBE(n,this.span)}encode(t,n,r=0){return kt(n).writeIntBE(t,r,this.span),this.span}}te.IntBE=lf;const k2=Math.pow(2,32);function Yg(e){const t=Math.floor(e/k2),n=e-t*k2;return{hi32:t,lo32:n}}function Zg(e,t){return e*k2+t}class Ej extends jt{constructor(t){super(8,t)}decode(t,n=0){const r=kt(t),s=r.readUInt32LE(n),i=r.readUInt32LE(n+4);return Zg(i,s)}encode(t,n,r=0){const s=Yg(t),i=kt(n);return i.writeUInt32LE(s.lo32,r),i.writeUInt32LE(s.hi32,r+4),8}}te.NearUInt64=Ej;class xj extends jt{constructor(t){super(8,t)}decode(t,n=0){const r=kt(t),s=r.readUInt32BE(n),i=r.readUInt32BE(n+4);return Zg(s,i)}encode(t,n,r=0){const s=Yg(t),i=kt(n);return i.writeUInt32BE(s.hi32,r),i.writeUInt32BE(s.lo32,r+4),8}}te.NearUInt64BE=xj;class Aj extends jt{constructor(t){super(8,t)}decode(t,n=0){const r=kt(t),s=r.readUInt32LE(n),i=r.readInt32LE(n+4);return Zg(i,s)}encode(t,n,r=0){const s=Yg(t),i=kt(n);return i.writeUInt32LE(s.lo32,r),i.writeInt32LE(s.hi32,r+4),8}}te.NearInt64=Aj;class Ij extends jt{constructor(t){super(8,t)}decode(t,n=0){const r=kt(t),s=r.readInt32BE(n),i=r.readUInt32BE(n+4);return Zg(s,i)}encode(t,n,r=0){const s=Yg(t),i=kt(n);return i.writeInt32BE(s.hi32,r),i.writeUInt32BE(s.lo32,r+4),8}}te.NearInt64BE=Ij;class Sj extends jt{constructor(t){super(4,t)}decode(t,n=0){return kt(t).readFloatLE(n)}encode(t,n,r=0){return kt(n).writeFloatLE(t,r),4}}te.Float=Sj;class kj extends jt{constructor(t){super(4,t)}decode(t,n=0){return kt(t).readFloatBE(n)}encode(t,n,r=0){return kt(n).writeFloatBE(t,r),4}}te.FloatBE=kj;class Cj extends jt{constructor(t){super(8,t)}decode(t,n=0){return kt(t).readDoubleLE(n)}encode(t,n,r=0){return kt(n).writeDoubleLE(t,r),8}}te.Double=Cj;class Tj extends jt{constructor(t){super(8,t)}decode(t,n=0){return kt(t).readDoubleBE(n)}encode(t,n,r=0){return kt(n).writeDoubleBE(t,r),8}}te.DoubleBE=Tj;class _j extends jt{constructor(t,n,r){if(!(t instanceof jt))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof ws&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let s=-1;!(n instanceof ws)&&0<t.span&&(s=n*t.span),super(s,r),this.elementLayout=t,this.count=n}getSpan(t,n=0){if(0<=this.span)return this.span;let r=0,s=this.count;if(s instanceof ws&&(s=s.decode(t,n)),0<this.elementLayout.span)r=s*this.elementLayout.span;else{let i=0;for(;i<s;)r+=this.elementLayout.getSpan(t,n+r),++i}return r}decode(t,n=0){const r=[];let s=0,i=this.count;for(i instanceof ws&&(i=i.decode(t,n));s<i;)r.push(this.elementLayout.decode(t,n)),n+=this.elementLayout.getSpan(t,n),s+=1;return r}encode(t,n,r=0){const s=this.elementLayout,i=t.reduce((o,a)=>o+s.encode(a,n,r+o),0);return this.count instanceof ws&&this.count.encode(t.length,n,r),i}}te.Sequence=_j;class Mj extends jt{constructor(t,n,r){if(!(Array.isArray(t)&&t.reduce((i,o)=>i&&o instanceof jt,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const i of t)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let s=-1;try{s=t.reduce((i,o)=>i+o.getSpan(),0)}catch{}super(s,n),this.fields=t,this.decodePrefixes=!!r}getSpan(t,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((s,i)=>{const o=i.getSpan(t,n);return n+=o,s+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(t,n=0){uf(t);const r=this.makeDestinationObject();for(const s of this.fields)if(s.property!==void 0&&(r[s.property]=s.decode(t,n)),n+=s.getSpan(t,n),this.decodePrefixes&&t.length===n)break;return r}encode(t,n,r=0){const s=r;let i=0,o=0;for(const a of this.fields){let c=a.span;if(o=0<c?c:0,a.property!==void 0){const u=t[a.property];u!==void 0&&(o=a.encode(u,n,r),0>c&&(c=a.getSpan(n,r)))}i=r,r+=c}return i+o-s}fromArray(t){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<t.length&&(n[r.property]=t.shift());return n}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===t)return n}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===t)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}te.Structure=Mj;class Zx{constructor(t){this.property=t}decode(t,n){throw new Error("UnionDiscriminator is abstract")}encode(t,n,r){throw new Error("UnionDiscriminator is abstract")}}te.UnionDiscriminator=Zx;class gy extends Zx{constructor(t,n){if(!(t instanceof ws&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||t.property||"variant"),this.layout=t}decode(t,n){return this.layout.decode(t,n)}encode(t,n,r){return this.layout.encode(t,n,r)}}te.UnionLayoutDiscriminator=gy;class Xx extends jt{constructor(t,n,r){let s;if(t instanceof gi||t instanceof Wi)s=new gy(new Yx(t));else if(t instanceof ws&&t.isCount())s=new gy(t);else if(t instanceof Zx)s=t;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof jt))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let i=-1;n&&(i=n.span,0<=i&&(t instanceof gi||t instanceof Wi)&&(i+=s.layout.span)),super(i,r),this.discriminator=s,this.usesPrefixDiscriminator=t instanceof gi||t instanceof Wi,this.defaultLayout=n,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(t,n=0){if(0<=this.span)return this.span;const r=this.getVariant(t,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(t,n)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;const n=this.registry[t[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(t,n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(t,r.property))return r}throw new Error("unable to infer src variant")}decode(t,n=0){let r;const s=this.discriminator,i=s.decode(t,n),o=this.registry[i];if(o===void 0){const a=this.defaultLayout;let c=0;this.usesPrefixDiscriminator&&(c=s.layout.span),r=this.makeDestinationObject(),r[s.property]=i,r[a.property]=a.decode(t,n+c)}else r=o.decode(t,n);return r}encode(t,n,r=0){const s=this.getSourceVariant(t);if(s===void 0){const i=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=i.layout.span),i.encode(t[i.property],n,r),a+o.encode(t[o.property],n,r+a)}return s.encode(t,n,r)}addVariant(t,n,r){const s=new Bj(this,t,n,r);return this.registry[t]=s,s}getVariant(t,n=0){let r;return t instanceof Uint8Array?r=this.discriminator.decode(t,n):r=t,this.registry[r]}}te.Union=Xx;class Bj extends jt{constructor(t,n,r,s){if(!(t instanceof Xx))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&s===void 0&&(s=r,r=null),r){if(!(r instanceof jt))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=r.span&&r.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof s!="string")throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=r?r.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,s),this.union=t,this.variant=n,this.layout=r||null}getSpan(t,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let s=0;return this.layout&&(s=this.layout.getSpan(t,n+r)),r+s}decode(t,n=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(t,n))throw new Error("variant mismatch");let s=0;return this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(t,n+s):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(t,n,r=0){let s=0;if(this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let i=s;if(this.layout&&(this.layout.encode(t[this.property],n,r+s),i+=this.layout.getSpan(n,r+s),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}te.VariantLayout=Bj;function Cl(e){return 0>e&&(e+=4294967296),e}class Jx extends jt{constructor(t,n,r){if(!(t instanceof gi||t instanceof Wi))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,r),this.word=t,this.msb=!!n,this.fields=[];let s=0;this._packedSetValue=function(i){return s=Cl(i),this},this._packedGetValue=function(){return s}}decode(t,n=0){const r=this.makeDestinationObject(),s=this.word.decode(t,n);this._packedSetValue(s);for(const i of this.fields)i.property!==void 0&&(r[i.property]=i.decode(t));return r}encode(t,n,r=0){const s=this.word.decode(n,r);this._packedSetValue(s);for(const i of this.fields)if(i.property!==void 0){const o=t[i.property];o!==void 0&&i.encode(o)}return this.word.encode(this._packedGetValue(),n,r)}addField(t,n){const r=new eA(this,t,n);return this.fields.push(r),r}addBoolean(t){const n=new Nj(this,t);return this.fields.push(n),n}fieldFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===t)return n}}te.BitStructure=Jx;class eA{constructor(t,n,r){if(!(t instanceof Jx))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const s=8*t.span,i=t.fields.reduce((o,a)=>o+a.bits,0);if(n+i>s)throw new Error("bits too long for span remainder ("+(s-i)+" of "+s+" remain)");this.container=t,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=s-i-n),this.wordMask=Cl(this.valueMask<<this.start),this.property=r}decode(t,n){const r=this.container._packedGetValue();return Cl(r&this.wordMask)>>>this.start}encode(t){if(typeof t!="number"||!Number.isInteger(t)||t!==Cl(t&this.valueMask))throw new TypeError(Qx("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=Cl(t<<this.start);this.container._packedSetValue(Cl(n&~this.wordMask)|r)}}te.BitField=eA;let Nj=class extends eA{constructor(t,n){super(t,1,n)}decode(t,n){return!!super.decode(t,n)}encode(t){typeof t=="boolean"&&(t=+t),super.encode(t)}};te.Boolean=Nj;let Oj=class extends jt{constructor(t,n){if(!(t instanceof ws&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;t instanceof ws||(r=t),super(r,n),this.length=t}getSpan(t,n){let r=this.span;return 0>r&&(r=this.length.decode(t,n)),r}decode(t,n=0){let r=this.span;return 0>r&&(r=this.length.decode(t,n)),kt(t).slice(n,n+r)}encode(t,n,r){let s=this.length;if(this.length instanceof ws&&(s=t.length),!(t instanceof Uint8Array&&s===t.length))throw new TypeError(Qx("Blob.encode",this)+" requires (length "+s+") Uint8Array as src");if(r+s>n.length)throw new RangeError("encoding overruns Uint8Array");const i=kt(t);return kt(n).write(i.toString("hex"),r,s,"hex"),this.length instanceof ws&&this.length.encode(s,n,r),s}};te.Blob=Oj;class Pj extends jt{constructor(t){super(-1,t)}getSpan(t,n=0){uf(t);let r=n;for(;r<t.length&&t[r]!==0;)r+=1;return 1+r-n}decode(t,n=0){const r=this.getSpan(t,n);return kt(t).slice(n,n+r-1).toString("utf-8")}encode(t,n,r=0){typeof t!="string"&&(t=String(t));const s=Kx.Buffer.from(t,"utf8"),i=s.length;if(r+i>n.length)throw new RangeError("encoding overruns Buffer");const o=kt(n);return s.copy(o,r),o[r+i]=0,i+1}}te.CString=Pj;class jj extends jt{constructor(t,n){if(typeof t=="string"&&n===void 0&&(n=t,t=void 0),t===void 0)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=t}getSpan(t,n=0){return uf(t),t.length-n}decode(t,n=0){const r=this.getSpan(t,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return kt(t).slice(n,n+r).toString("utf-8")}encode(t,n,r=0){typeof t!="string"&&(t=String(t));const s=Kx.Buffer.from(t,"utf8"),i=s.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(r+i>n.length)throw new RangeError("encoding overruns Buffer");return s.copy(kt(n),r),i}}te.UTF8=jj;class Rj extends jt{constructor(t,n){super(0,n),this.value=t}decode(t,n){return this.value}encode(t,n,r){return 0}}te.Constant=Rj;te.greedy=(e,t)=>new vj(e,t);var yu=te.offset=(e,t,n)=>new Yx(e,t,n),Tt=te.u8=e=>new gi(1,e),li=te.u16=e=>new gi(2,e);te.u24=e=>new gi(3,e);var Ze=te.u32=e=>new gi(4,e);te.u40=e=>new gi(5,e);te.u48=e=>new gi(6,e);var pr=te.nu64=e=>new Ej(e);te.u16be=e=>new Wi(2,e);te.u24be=e=>new Wi(3,e);te.u32be=e=>new Wi(4,e);te.u40be=e=>new Wi(5,e);te.u48be=e=>new Wi(6,e);te.nu64be=e=>new xj(e);te.s8=e=>new nl(1,e);te.s16=e=>new nl(2,e);te.s24=e=>new nl(3,e);te.s32=e=>new nl(4,e);te.s40=e=>new nl(5,e);te.s48=e=>new nl(6,e);var Ls=te.ns64=e=>new Aj(e);te.s16be=e=>new lf(2,e);te.s24be=e=>new lf(3,e);te.s32be=e=>new lf(4,e);te.s40be=e=>new lf(5,e);te.s48be=e=>new lf(6,e);te.ns64be=e=>new Ij(e);te.f32=e=>new Sj(e);te.f32be=e=>new kj(e);te.f64=e=>new Cj(e);te.f64be=e=>new Tj(e);var ze=te.struct=(e,t,n)=>new Mj(e,t,n);te.bits=(e,t,n)=>new Jx(e,t,n);var Vr=te.seq=(e,t,n)=>new _j(e,t,n);te.union=(e,t,n)=>new Xx(e,t,n);te.unionLayoutDiscriminator=(e,t)=>new gy(e,t);var qt=te.blob=(e,t)=>new Oj(e,t);te.cstr=e=>new Pj(e);te.utf8=(e,t)=>new jj(e,t);te.constant=(e,t)=>new Rj(e,t);var ere=8078e3,tre=8078001,nre=8078004,rre=8078005,sre=8078006,ire=8078011;function Dj(e){return Array.isArray(e)?"%5B"+e.map(Dj).join("%2C%20")+"%5D":typeof e=="bigint"?`${e}n`:encodeURIComponent(String(e!=null&&Object.getPrototypeOf(e)===null?{...e}:e))}function ore([e,t]){return`${e}=${Dj(t)}`}function are(e){const t=Object.entries(e).map(ore).join("&");return btoa(t)}function cre(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${are(t)}'`),`${n}\``}}var ql=class extends Error{constructor(...[t,n]){let r,s;if(n){const{cause:o,...a}=n;o&&(s={cause:o}),Object.keys(a).length>0&&(r=a)}const i=cre(t,r);super(i,s);pe(this,"cause",this.cause);pe(this,"context");this.context={__code:t,...r},this.name="SolanaError"}};function ure(e,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(e)}function lre(e){return Object.freeze({...e,encode:t=>{const n=new Uint8Array(ure(t,e));return e.write(t,n,0),n}})}function dre(e){return Object.freeze({...e,decode:(t,n=0)=>e.read(t,n)[0]})}function yl(e){return"fixedSize"in e&&typeof e.fixedSize=="number"}function fre(e,t){if(yl(e)!==yl(t))throw new ql(nre);if(yl(e)&&yl(t)&&e.fixedSize!==t.fixedSize)throw new ql(rre,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!yl(e)&&!yl(t)&&e.maxSize!==t.maxSize)throw new ql(sre,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}}function hre(e,t,n=0){if(t.length-n<=0)throw new ql(ere,{codecDescription:e})}function pre(e,t,n,r=0){const s=n.length-r;if(s<t)throw new ql(tre,{bytesLength:s,codecDescription:e,expected:t})}function mre(e,t,n,r){if(r<t||r>n)throw new ql(ire,{codecDescription:e,max:n,min:t,value:r})}function Uj(e){return(e==null?void 0:e.endian)!==1}function yre(e){return lre({fixedSize:e.size,write(t,n,r){e.range&&mre(e.name,e.range[0],e.range[1],t);const s=new ArrayBuffer(e.size);return e.set(new DataView(s),t,Uj(e.config)),n.set(new Uint8Array(s),r),r+e.size}})}function gre(e){return dre({fixedSize:e.size,read(t,n=0){hre(e.name,t,n),pre(e.name,e.size,t,n);const r=new DataView(wre(t,n,e.size));return[e.get(r,Uj(e.config)),n+e.size]}})}function wre(e,t,n){const r=e.byteOffset+(t??0),s=n??e.byteLength;return e.buffer.slice(r,r+s)}var bre=(e={})=>yre({config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(t,n,r)=>t.setBigUint64(0,BigInt(n),r),size:8}),vre=(e={})=>gre({config:e,get:(t,n)=>t.getBigUint64(0,n),name:"u64",size:8}),Ere=(e={})=>fre(bre(e),vre(e));class xre extends TypeError{constructor(t,n){let r;const{message:s,explanation:i,...o}=t,{path:a}=t,c=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[t,...n()])}}function Are(e){return df(e)&&typeof e[Symbol.iterator]=="function"}function df(e){return typeof e=="object"&&e!=null}function Dd(e){return df(e)&&!Array.isArray(e)}function xi(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function Ire(e){const{done:t,value:n}=e.next();return t?void 0:n}function Sre(e,t,n,r){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:s,branch:i}=t,{type:o}=n,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${xi(r)}\``}=e;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...e,message:c}}function*g5(e,t,n,r){Are(e)||(e=[e]);for(const s of e){const i=Sre(s,t,n,r);i&&(yield i)}}function*tA(e,t,n={}){const{path:r=[],branch:s=[e],coerce:i=!1,mask:o=!1}=n,a={path:r,branch:s,mask:o};i&&(e=t.coercer(e,a));let c="valid";for(const u of t.validator(e,a))u.explanation=n.message,c="not_valid",yield[u,void 0];for(let[u,l,f]of t.entries(e,a)){const d=tA(l,f,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,l],coerce:i,mask:o,message:n.message});for(const h of d)h[0]?(c=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):i&&(l=h[1],u===void 0?e=l:e instanceof Map?e.set(u,l):e instanceof Set?e.add(l):df(e)&&(l!==void 0||u in e)&&(e[u]=l))}if(c!=="not_valid")for(const u of t.refiner(e,a))u.explanation=n.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,e])}let to=class{constructor(t){const{type:n,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=t;this.type=n,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(c,u)=>{const l=s(c,u);return g5(l,u,this,c)}:this.validator=()=>[],i?this.refiner=(c,u)=>{const l=i(c,u);return g5(l,u,this,c)}:this.refiner=()=>[]}assert(t,n){return kre(t,this,n)}create(t,n){return Ae(t,this,n)}is(t){return Lj(t,this)}mask(t,n){return Cre(t,this,n)}validate(t,n={}){return Fp(t,this,n)}};function kre(e,t,n){const r=Fp(e,t,{message:n});if(r[0])throw r[0]}function Ae(e,t,n){const r=Fp(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function Cre(e,t,n){const r=Fp(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function Lj(e,t){return!Fp(e,t)[0]}function Fp(e,t,n={}){const r=tA(e,t,n),s=Ire(r);return s[0]?[new xre(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,s[1]]}function rl(e,t){return new to({type:e,schema:null,validator:t})}function Tre(){return rl("any",()=>!0)}function Ce(e){return new to({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${xi(t)}`}})}function Eo(){return rl("boolean",e=>typeof e=="boolean")}function nA(e){return rl("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${xi(t)}`)}function sn(e){const t=xi(e),n=typeof e;return new to({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?e:null,validator(r){return r===e||`Expected the literal \`${t}\`, but received: ${xi(r)}`}})}function $j(){return rl("never",()=>!1)}function _e(e){return new to({...e,validator:(t,n)=>t===null||e.validator(t,n),refiner:(t,n)=>t===null||e.refiner(t,n)})}function ee(){return rl("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${xi(e)}`)}function Hbe(e){const t=e?Object.keys(e):[],n=$j();return new to({type:"object",schema:e||null,*entries(r){if(e&&df(r)){const s=new Set(Object.keys(r));for(const i of t)s.delete(i),yield[i,r[i],e[i]];for(const i of s)yield[i,r[i],n]}},validator(r){return Dd(r)||`Expected an object, but received: ${xi(r)}`},coercer(r,s){if(!Dd(r))return r;const i={...r};if(s.mask&&e)for(const o in i)e[o]===void 0&&delete i[o];return i}})}function Qe(e){return new to({...e,validator:(t,n)=>t===void 0||e.validator(t,n),refiner:(t,n)=>t===void 0||e.refiner(t,n)})}function zj(e,t){return new to({type:"record",schema:null,*entries(n){if(df(n))for(const r in n){const s=n[r];yield[r,r,e],yield[r,s,t]}},validator(n){return Dd(n)||`Expected an object, but received: ${xi(n)}`},coercer(n){return Dd(n)?{...n}:n}})}function ve(){return rl("string",e=>typeof e=="string"||`Expected a string, but received: ${xi(e)}`)}function rA(e){const t=$j();return new to({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(e.length,n.length);for(let s=0;s<r;s++)yield[s,n[s],e[s]||t]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${xi(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function fe(e){const t=Object.keys(e);return new to({type:"type",schema:e,*entries(n){if(df(n))for(const r of t)yield[r,n[r],e[r]]},validator(n){return Dd(n)||`Expected an object, but received: ${xi(n)}`},coercer(n){return Dd(n)?{...n}:n}})}function cs(e){const t=e.map(n=>n.type).join(" | ");return new to({type:"union",schema:null,coercer(n,r){for(const s of e){const[i,o]=s.validate(n,{coerce:!0,mask:r.mask});if(!i)return o}return n},validator(n,r){const s=[];for(const i of e){const[...o]=tA(n,i,r),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${xi(n)}`,...s]}})}function ff(){return rl("unknown",()=>!0)}function Hp(e,t,n){return new to({...e,coercer:(r,s)=>Lj(r,t)?e.coercer(n(r,s),s):e.coercer(r,s)})}var C0,_re=new Uint8Array(16);function Fj(){if(!C0&&(C0=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!C0))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return C0(_re)}const Mre=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Xg(e){return typeof e=="string"&&Mre.test(e)}var hr=[];for(var U1=0;U1<256;++U1)hr.push((U1+256).toString(16).substr(1));function Jg(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(hr[e[t+0]]+hr[e[t+1]]+hr[e[t+2]]+hr[e[t+3]]+"-"+hr[e[t+4]]+hr[e[t+5]]+"-"+hr[e[t+6]]+hr[e[t+7]]+"-"+hr[e[t+8]]+hr[e[t+9]]+"-"+hr[e[t+10]]+hr[e[t+11]]+hr[e[t+12]]+hr[e[t+13]]+hr[e[t+14]]+hr[e[t+15]]).toLowerCase();if(!Xg(n))throw TypeError("Stringified UUID is invalid");return n}var w5,L1,$1=0,z1=0;function Bre(e,t,n){var r=t&&n||0,s=t||new Array(16);e=e||{};var i=e.node||w5,o=e.clockseq!==void 0?e.clockseq:L1;if(i==null||o==null){var a=e.random||(e.rng||Fj)();i==null&&(i=w5=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=L1=(a[6]<<8|a[7])&16383)}var c=e.msecs!==void 0?e.msecs:Date.now(),u=e.nsecs!==void 0?e.nsecs:z1+1,l=c-$1+(u-z1)/1e4;if(l<0&&e.clockseq===void 0&&(o=o+1&16383),(l<0||c>$1)&&e.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");$1=c,z1=u,L1=o,c+=122192928e5;var f=((c&268435455)*1e4+u)%4294967296;s[r++]=f>>>24&255,s[r++]=f>>>16&255,s[r++]=f>>>8&255,s[r++]=f&255;var d=c/4294967296*1e4&268435455;s[r++]=d>>>8&255,s[r++]=d&255,s[r++]=d>>>24&15|16,s[r++]=d>>>16&255,s[r++]=o>>>8|128,s[r++]=o&255;for(var h=0;h<6;++h)s[r+h]=i[h];return t||Jg(s)}function Hj(e){if(!Xg(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=t&255,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=t&255,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=t&255,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=t&255,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=t&255,n}function Nre(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}var Ore="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Pre="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function qj(e,t,n){function r(s,i,o,a){if(typeof s=="string"&&(s=Nre(s)),typeof i=="string"&&(i=Hj(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+s.length);if(c.set(i),c.set(s,i.length),c=n(c),c[6]=c[6]&15|t,c[8]=c[8]&63|128,o){a=a||0;for(var u=0;u<16;++u)o[a+u]=c[u];return o}return Jg(c)}try{r.name=e}catch{}return r.DNS=Ore,r.URL=Pre,r}function jre(e){if(typeof e=="string"){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return Rre(Dre(Ure(e),e.length*8))}function Rre(e){for(var t=[],n=e.length*32,r="0123456789abcdef",s=0;s<n;s+=8){var i=e[s>>5]>>>s%32&255,o=parseInt(r.charAt(i>>>4&15)+r.charAt(i&15),16);t.push(o)}return t}function Wj(e){return(e+64>>>9<<4)+14+1}function Dre(e,t){e[t>>5]|=128<<t%32,e[Wj(t)-1]=t;for(var n=1732584193,r=-271733879,s=-1732584194,i=271733878,o=0;o<e.length;o+=16){var a=n,c=r,u=s,l=i;n=Rr(n,r,s,i,e[o],7,-680876936),i=Rr(i,n,r,s,e[o+1],12,-389564586),s=Rr(s,i,n,r,e[o+2],17,606105819),r=Rr(r,s,i,n,e[o+3],22,-1044525330),n=Rr(n,r,s,i,e[o+4],7,-176418897),i=Rr(i,n,r,s,e[o+5],12,1200080426),s=Rr(s,i,n,r,e[o+6],17,-1473231341),r=Rr(r,s,i,n,e[o+7],22,-45705983),n=Rr(n,r,s,i,e[o+8],7,1770035416),i=Rr(i,n,r,s,e[o+9],12,-1958414417),s=Rr(s,i,n,r,e[o+10],17,-42063),r=Rr(r,s,i,n,e[o+11],22,-1990404162),n=Rr(n,r,s,i,e[o+12],7,1804603682),i=Rr(i,n,r,s,e[o+13],12,-40341101),s=Rr(s,i,n,r,e[o+14],17,-1502002290),r=Rr(r,s,i,n,e[o+15],22,1236535329),n=Dr(n,r,s,i,e[o+1],5,-165796510),i=Dr(i,n,r,s,e[o+6],9,-1069501632),s=Dr(s,i,n,r,e[o+11],14,643717713),r=Dr(r,s,i,n,e[o],20,-373897302),n=Dr(n,r,s,i,e[o+5],5,-701558691),i=Dr(i,n,r,s,e[o+10],9,38016083),s=Dr(s,i,n,r,e[o+15],14,-660478335),r=Dr(r,s,i,n,e[o+4],20,-405537848),n=Dr(n,r,s,i,e[o+9],5,568446438),i=Dr(i,n,r,s,e[o+14],9,-1019803690),s=Dr(s,i,n,r,e[o+3],14,-187363961),r=Dr(r,s,i,n,e[o+8],20,1163531501),n=Dr(n,r,s,i,e[o+13],5,-1444681467),i=Dr(i,n,r,s,e[o+2],9,-51403784),s=Dr(s,i,n,r,e[o+7],14,1735328473),r=Dr(r,s,i,n,e[o+12],20,-1926607734),n=Ur(n,r,s,i,e[o+5],4,-378558),i=Ur(i,n,r,s,e[o+8],11,-2022574463),s=Ur(s,i,n,r,e[o+11],16,1839030562),r=Ur(r,s,i,n,e[o+14],23,-35309556),n=Ur(n,r,s,i,e[o+1],4,-1530992060),i=Ur(i,n,r,s,e[o+4],11,1272893353),s=Ur(s,i,n,r,e[o+7],16,-155497632),r=Ur(r,s,i,n,e[o+10],23,-1094730640),n=Ur(n,r,s,i,e[o+13],4,681279174),i=Ur(i,n,r,s,e[o],11,-358537222),s=Ur(s,i,n,r,e[o+3],16,-722521979),r=Ur(r,s,i,n,e[o+6],23,76029189),n=Ur(n,r,s,i,e[o+9],4,-640364487),i=Ur(i,n,r,s,e[o+12],11,-421815835),s=Ur(s,i,n,r,e[o+15],16,530742520),r=Ur(r,s,i,n,e[o+2],23,-995338651),n=Lr(n,r,s,i,e[o],6,-198630844),i=Lr(i,n,r,s,e[o+7],10,1126891415),s=Lr(s,i,n,r,e[o+14],15,-1416354905),r=Lr(r,s,i,n,e[o+5],21,-57434055),n=Lr(n,r,s,i,e[o+12],6,1700485571),i=Lr(i,n,r,s,e[o+3],10,-1894986606),s=Lr(s,i,n,r,e[o+10],15,-1051523),r=Lr(r,s,i,n,e[o+1],21,-2054922799),n=Lr(n,r,s,i,e[o+8],6,1873313359),i=Lr(i,n,r,s,e[o+15],10,-30611744),s=Lr(s,i,n,r,e[o+6],15,-1560198380),r=Lr(r,s,i,n,e[o+13],21,1309151649),n=Lr(n,r,s,i,e[o+4],6,-145523070),i=Lr(i,n,r,s,e[o+11],10,-1120210379),s=Lr(s,i,n,r,e[o+2],15,718787259),r=Lr(r,s,i,n,e[o+9],21,-343485551),n=lc(n,a),r=lc(r,c),s=lc(s,u),i=lc(i,l)}return[n,r,s,i]}function Ure(e){if(e.length===0)return[];for(var t=e.length*8,n=new Uint32Array(Wj(t)),r=0;r<t;r+=8)n[r>>5]|=(e[r/8]&255)<<r%32;return n}function lc(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}function Lre(e,t){return e<<t|e>>>32-t}function ew(e,t,n,r,s,i){return lc(Lre(lc(lc(t,e),lc(r,i)),s),n)}function Rr(e,t,n,r,s,i,o){return ew(t&n|~t&r,e,t,s,i,o)}function Dr(e,t,n,r,s,i,o){return ew(t&r|n&~r,e,t,s,i,o)}function Ur(e,t,n,r,s,i,o){return ew(t^n^r,e,t,s,i,o)}function Lr(e,t,n,r,s,i,o){return ew(n^(t|~r),e,t,s,i,o)}var $re=qj("v3",48,jre);function zre(e,t,n){e=e||{};var r=e.random||(e.rng||Fj)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(var s=0;s<16;++s)t[n+s]=r[s];return t}return Jg(r)}function Fre(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}}function F1(e,t){return e<<t|e>>>32-t}function Hre(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var r=unescape(encodeURIComponent(e));e=[];for(var s=0;s<r.length;++s)e.push(r.charCodeAt(s))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var i=e.length/4+2,o=Math.ceil(i/16),a=new Array(o),c=0;c<o;++c){for(var u=new Uint32Array(16),l=0;l<16;++l)u[l]=e[c*64+l*4]<<24|e[c*64+l*4+1]<<16|e[c*64+l*4+2]<<8|e[c*64+l*4+3];a[c]=u}a[o-1][14]=(e.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(e.length-1)*8&4294967295;for(var f=0;f<o;++f){for(var d=new Uint32Array(80),h=0;h<16;++h)d[h]=a[f][h];for(var p=16;p<80;++p)d[p]=F1(d[p-3]^d[p-8]^d[p-14]^d[p-16],1);for(var m=n[0],y=n[1],b=n[2],I=n[3],v=n[4],E=0;E<80;++E){var S=Math.floor(E/20),N=F1(m,5)+Fre(S,y,b,I)+v+t[S]+d[E]>>>0;v=I,I=b,b=F1(y,30)>>>0,y=m,m=N}n[0]=n[0]+m>>>0,n[1]=n[1]+y>>>0,n[2]=n[2]+b>>>0,n[3]=n[3]+I>>>0,n[4]=n[4]+v>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var qre=qj("v5",80,Hre);const Wre="00000000-0000-0000-0000-000000000000";function Gre(e){if(!Xg(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}const Vre=Object.freeze(Object.defineProperty({__proto__:null,NIL:Wre,parse:Hj,stringify:Jg,v1:Bre,v3:$re,v4:zre,v5:qre,validate:Xg,version:Gre},Symbol.toStringTag,{value:"Module"})),Gj=Hd(Vre),Kre=Gj.v4,Qre=function(e,t,n,r){if(typeof e!="string")throw new TypeError(e+" must be a string");r=r||{};const s=typeof r.version=="number"?r.version:2;if(s!==1&&s!==2)throw new TypeError(s+" must be 1 or 2");const i={method:e};if(s===2&&(i.jsonrpc="2.0"),t){if(typeof t!="object"&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");i.params=t}if(typeof n>"u"){const o=typeof r.generator=="function"?r.generator:function(){return Kre()};i.id=o(i,r)}else s===2&&n===null?r.notificationIdNull&&(i.id=null):i.id=n;return i};var Yre=Qre;const Zre=Gj.v4,Xre=Yre,Rh=function(e,t){if(!(this instanceof Rh))return new Rh(e,t);t||(t={}),this.options={reviver:typeof t.reviver<"u"?t.reviver:null,replacer:typeof t.replacer<"u"?t.replacer:null,generator:typeof t.generator<"u"?t.generator:function(){return Zre()},version:typeof t.version<"u"?t.version:2,notificationIdNull:typeof t.notificationIdNull=="boolean"?t.notificationIdNull:!1},this.callServer=e};var Jre=Rh;Rh.prototype.request=function(e,t,n,r){const s=this;let i=null;const o=Array.isArray(e)&&typeof t=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&e&&typeof e=="object"&&typeof t=="function")r=t,i=e;else{typeof n=="function"&&(r=n,n=void 0);const u=typeof r=="function";try{i=Xre(e,t,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(l){if(u)return r(l);throw l}if(!u)return i}let c;try{c=JSON.stringify(i,this.options.replacer)}catch(u){return r(u)}return this.callServer(c,function(u,l){s._parseResponse(u,l,r)}),i};Rh.prototype._parseResponse=function(e,t,n){if(e){n(e);return}if(!t)return n();let r;try{r=JSON.parse(t,this.options.reviver)}catch(s){return n(s)}if(n.length===3)if(Array.isArray(r)){const s=function(o){return typeof o.error<"u"},i=function(o){return!s(o)};return n(null,r.filter(s),r.filter(i))}else return n(null,r.error,r.result);n(null,r)};const ese=ap(Jre);var tse=class extends zp{constructor(t,n,r){super();pe(this,"socket");this.socket=new window.WebSocket(t,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=s=>this.emit("message",s.data),this.socket.onerror=s=>this.emit("error",s),this.socket.onclose=s=>{this.emit("close",s.code,s.reason)}}send(t,n,r){const s=r||n;try{this.socket.send(t),s()}catch(i){s(i)}}close(t,n){this.socket.close(t,n)}addEventListener(t,n,r){this.socket.addEventListener(t,n,r)}};function nse(e,t){return new tse(e,t)}var rse=class{encode(e){return JSON.stringify(e)}decode(e){return JSON.parse(e)}},sse=class extends zp{constructor(t,n="ws://localhost:8080",{autoconnect:r=!0,reconnect:s=!0,reconnect_interval:i=1e3,max_reconnects:o=5,...a}={},c,u){super();pe(this,"address");pe(this,"rpc_id");pe(this,"queue");pe(this,"options");pe(this,"autoconnect");pe(this,"ready");pe(this,"reconnect");pe(this,"reconnect_timer_id");pe(this,"reconnect_interval");pe(this,"max_reconnects");pe(this,"rest_options");pe(this,"current_reconnects");pe(this,"generate_request_id");pe(this,"socket");pe(this,"webSocketFactory");pe(this,"dataPack");this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=n,this.autoconnect=r,this.ready=!1,this.reconnect=s,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=o,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=c||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),u?this.dataPack=u:this.dataPack=new rse,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(t,n,r,s){return!s&&typeof r=="object"&&(s=r,r=null),new Promise((i,o)=>{if(!this.ready)return o(new Error("socket not ready"));const a=this.generate_request_id(t,n),c={jsonrpc:"2.0",method:t,params:n||void 0,id:a};this.socket.send(this.dataPack.encode(c),s,u=>{if(u)return o(u);this.queue[a]={promise:[i,o]},r&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],o(new Error("reply timeout"))},r))})})}async login(t){const n=await this.call("rpc.login",t);if(!n)throw new Error("authentication failed");return n}async listMethods(){return await this.call("__listMethods")}notify(t,n){return new Promise((r,s)=>{if(!this.ready)return s(new Error("socket not ready"));const i={jsonrpc:"2.0",method:t,params:n};this.socket.send(this.dataPack.encode(i),o=>{if(o)return s(o);r()})})}async subscribe(t){typeof t=="string"&&(t=[t]);const n=await this.call("rpc.on",t);if(typeof t=="string"&&n[t]!=="ok")throw new Error("Failed subscribing to an event '"+t+"' with: "+n[t]);return n}async unsubscribe(t){typeof t=="string"&&(t=[t]);const n=await this.call("rpc.off",t);if(typeof t=="string"&&n[t]!=="ok")throw new Error("Failed unsubscribing from an event with: "+n);return n}close(t,n){this.socket&&this.socket.close(t||1e3,n)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}getCurrentReconnects(){return this.current_reconnects}getMaxReconnects(){return this.max_reconnects}isReconnecting(){return this.reconnect_timer_id!==void 0}willReconnect(){return this.reconnect&&(this.max_reconnects===0||this.current_reconnects<this.max_reconnects)}_connect(t,n){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,n),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=lt.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);const s=[r.notification];if(r.params.constructor===Object)s.push(r.params);else for(let i=0;i<r.params.length;i++)s.push(r.params[i]);return Promise.resolve().then(()=>{this.emit.apply(this,s)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r==null?void 0:r.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:s})=>{this.ready&&setTimeout(()=>this.emit("close",r,s),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)?this.reconnect_timer_id=setTimeout(()=>this._connect(t,n),this.reconnect_interval):this.reconnect&&this.max_reconnects>0&&this.current_reconnects>=this.max_reconnects&&setTimeout(()=>this.emit("max_reconnects_reached",r,s),1))})}};cf.utils.randomPrivateKey;const b5=()=>{const e=cf.utils.randomPrivateKey(),t=C2(e),n=new Uint8Array(64);return n.set(e),n.set(t,32),{publicKey:t,secretKey:n}},C2=cf.getPublicKey;function v5(e){try{return cf.ExtendedPoint.fromHex(e),!0}catch{return!1}}const Vj=(e,t)=>cf.sign(e,t.slice(0,32)),ise=cf.verify,yr=e=>lt.isBuffer(e)?e:e instanceof Uint8Array?lt.from(e.buffer,e.byteOffset,e.byteLength):lt.from(e);class ose{constructor(t){Object.assign(this,t)}encode(){return lt.from(wj(mm,this))}static decode(t){return bj(mm,this,t)}static decodeUnchecked(t){return hj(mm,this,t)}}const mm=new Map;var Kj;const ase=32,mc=32;function cse(e){return e._bn!==void 0}let E5=1;class Ye extends ose{constructor(t){if(super({}),this._bn=void 0,cse(t))this._bn=t._bn;else{if(typeof t=="string"){const n=vr.decode(t);if(n.length!=mc)throw new Error("Invalid public key input");this._bn=new J3(n)}else this._bn=new J3(t);if(this._bn.byteLength()>mc)throw new Error("Invalid public key input")}}static unique(){const t=new Ye(E5);return E5+=1,new Ye(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return vr.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(lt);if(t.length===mc)return t;const n=lt.alloc(32);return t.copy(n,32-t.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,n,r){const s=lt.concat([t.toBuffer(),lt.from(n),r.toBuffer()]),i=Fn(s);return new Ye(i)}static createProgramAddressSync(t,n){let r=lt.alloc(0);t.forEach(function(i){if(i.length>ase)throw new TypeError("Max seed length exceeded");r=lt.concat([r,yr(i)])}),r=lt.concat([r,n.toBuffer(),lt.from("ProgramDerivedAddress")]);const s=Fn(r);if(v5(s))throw new Error("Invalid seeds, address must fall off the curve");return new Ye(s)}static async createProgramAddress(t,n){return this.createProgramAddressSync(t,n)}static findProgramAddressSync(t,n){let r=255,s;for(;r!=0;){try{const i=t.concat(lt.from([r]));s=this.createProgramAddressSync(i,n)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,n){return this.findProgramAddressSync(t,n)}static isOnCurve(t){const n=new Ye(t);return v5(n.toBytes())}}Kj=Ye;Ye.default=new Kj("11111111111111111111111111111111");mm.set(Ye,{kind:"struct",fields:[["_bn","u256"]]});new Ye("BPFLoader1111111111111111111111111111111111");const Wl=1232,sA=127,wy=64;class Qj extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Qj.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Yj extends Error{constructor(t,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Yj.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Gf extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Gf.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class by{constructor(t,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=n}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const n of this.keySegments()){if(t<n.length)return n[t];t-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return t.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const gt=(e="publicKey")=>qt(32,e),use=(e="signature")=>qt(64,e),Rl=(e="string")=>{const t=ze([Ze("length"),Ze("lengthPadding"),qt(yu(Ze(),-8),"chars")],e),n=t.decode.bind(t),r=t.encode.bind(t),s=t;return s.decode=(i,o)=>n(i,o).chars.toString(),s.encode=(i,o,a)=>{const c={chars:lt.from(i,"utf8")};return r(c,o,a)},s.alloc=i=>Ze().span+Ze().span+lt.from(i,"utf8").length,s},lse=(e="authorized")=>ze([gt("staker"),gt("withdrawer")],e),dse=(e="lockup")=>ze([Ls("unixTimestamp"),Ls("epoch"),gt("custodian")],e),fse=(e="voteInit")=>ze([gt("nodePubkey"),gt("authorizedVoter"),gt("authorizedWithdrawer"),Tt("commission")],e),hse=(e="voteAuthorizeWithSeedArgs")=>ze([Ze("voteAuthorizationType"),gt("currentAuthorityDerivedKeyOwnerPubkey"),Rl("currentAuthorityDerivedKeySeed"),gt("newAuthorized")],e);function Zj(e,t){const n=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(t[s.property]);if("count"in s&&"elementLayout"in s){const i=t[s.property];if(Array.isArray(i))return i.length*n(s.elementLayout)}else if("fields"in s)return Zj({layout:s},t[s.property]);return 0};let r=0;return e.layout.fields.forEach(s=>{r+=n(s)}),r}function $s(e){let t=0,n=0;for(;;){let r=e.shift();if(t|=(r&127)<<n*7,n+=1,!(r&128))break}return t}function zs(e,t){let n=t;for(;;){let r=n&127;if(n>>=7,n==0){e.push(r);break}else r|=128,e.push(r)}}function Xt(e,t){if(!e)throw new Error(t||"Assertion failed")}class tw{constructor(t,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=n}static compile(t,n){const r=new Map,s=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},i=s(n);i.isSigner=!0,i.isWritable=!0;for(const o of t){s(o.programId).isInvoked=!0;for(const a of o.keys){const c=s(a.pubkey);c.isSigner||(c.isSigner=a.isSigner),c.isWritable||(c.isWritable=a.isWritable)}}return new tw(n,r)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];Xt(t.length<=256,"Max static account keys length exceeded");const n=t.filter(([,c])=>c.isSigner&&c.isWritable),r=t.filter(([,c])=>c.isSigner&&!c.isWritable),s=t.filter(([,c])=>!c.isSigner&&c.isWritable),i=t.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{Xt(n.length>0,"Expected at least one writable signer key");const[c]=n[0];Xt(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([c])=>new Ye(c)),...r.map(([c])=>new Ye(c)),...s.map(([c])=>new Ye(c)),...i.map(([c])=>new Ye(c))];return[o,a]}extractTableLookup(t){const[n,r]=this.drainKeysFoundInLookupTable(t.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(t.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(n.length===0&&s.length===0))return[{accountKey:t.key,writableIndexes:n,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(t,n){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(n(o)){const a=new Ye(i),c=t.findIndex(u=>u.equals(a));c>=0&&(Xt(c<256,"Max lookup table index exceeded"),r.push(c),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}const Xj="Reached end of buffer unexpectedly";function Zo(e){if(e.length===0)throw new Error(Xj);return e.shift()}function Fs(e,...t){const[n]=t;if(t.length===2?n+(t[1]??0)>e.length:n>=e.length)throw new Error(Xj);return e.splice(...t)}class ba{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(n=>new Ye(n)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:vr.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new by(this.staticAccountKeys)}static compile(t){const n=tw.compile(t.instructions,t.payerKey),[r,s]=n.getMessageComponents(),o=new by(s).compileInstructions(t.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:vr.encode(a.data)}));return new ba({header:r,accountKeys:s,recentBlockhash:t.recentBlockhash,instructions:o})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const r=t-n,i=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=n-this.header.numReadonlySignedAccounts;return t<r}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,n)=>!this.isProgramId(n))}serialize(){const t=this.accountKeys.length;let n=[];zs(n,t);const r=this.instructions.map(f=>{const{accounts:d,programIdIndex:h}=f,p=Array.from(vr.decode(f.data));let m=[];zs(m,d.length);let y=[];return zs(y,p.length),{programIdIndex:h,keyIndicesCount:lt.from(m),keyIndices:d,dataLength:lt.from(y),data:p}});let s=[];zs(s,r.length);let i=lt.alloc(Wl);lt.from(s).copy(i);let o=s.length;r.forEach(f=>{const h=ze([Tt("programIdIndex"),qt(f.keyIndicesCount.length,"keyIndicesCount"),Vr(Tt("keyIndex"),f.keyIndices.length,"keyIndices"),qt(f.dataLength.length,"dataLength"),Vr(Tt("userdatum"),f.data.length,"data")]).encode(f,i,o);o+=h}),i=i.slice(0,o);const a=ze([qt(1,"numRequiredSignatures"),qt(1,"numReadonlySignedAccounts"),qt(1,"numReadonlyUnsignedAccounts"),qt(n.length,"keyCount"),Vr(gt("key"),t,"keys"),gt("recentBlockhash")]),c={numRequiredSignatures:lt.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:lt.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:lt.from([this.header.numReadonlyUnsignedAccounts]),keyCount:lt.from(n),keys:this.accountKeys.map(f=>yr(f.toBytes())),recentBlockhash:vr.decode(this.recentBlockhash)};let u=lt.alloc(2048);const l=a.encode(c,u);return i.copy(u,l),u.slice(0,l+i.length)}static from(t){let n=[...t];const r=Zo(n);if(r!==(r&sA))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=Zo(n),i=Zo(n),o=$s(n);let a=[];for(let d=0;d<o;d++){const h=Fs(n,0,mc);a.push(new Ye(lt.from(h)))}const c=Fs(n,0,mc),u=$s(n);let l=[];for(let d=0;d<u;d++){const h=Zo(n),p=$s(n),m=Fs(n,0,p),y=$s(n),b=Fs(n,0,y),I=vr.encode(lt.from(b));l.push({programIdIndex:h,accounts:m,data:I})}const f={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:vr.encode(lt.from(c)),accountKeys:a,instructions:l};return new ba(f)}}class Dh{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const n of this.addressTableLookups)t+=n.readonlyIndexes.length+n.writableIndexes.length;return t}getAccountKeys(t){let n;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)n=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new by(this.staticAccountKeys,n)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(t>=r){const s=t-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(t>=this.header.numRequiredSignatures){const s=t-n,o=r-n-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=n-this.header.numReadonlySignedAccounts;return t<s}}resolveAddressTableLookups(t){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=t.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)n.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)n.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(t){const n=tw.compile(t.instructions,t.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=t.addressLookupTableAccounts||[];for(const l of i){const f=n.extractTableLookup(l);if(f!==void 0){const[d,{writable:h,readonly:p}]=f;r.push(d),s.writable.push(...h),s.readonly.push(...p)}}const[o,a]=n.getMessageComponents(),u=new by(a,s).compileInstructions(t.instructions);return new Dh({header:o,staticAccountKeys:a,recentBlockhash:t.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const t=Array();zs(t,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();zs(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();zs(i,this.addressTableLookups.length);const o=ze([Tt("prefix"),ze([Tt("numRequiredSignatures"),Tt("numReadonlySignedAccounts"),Tt("numReadonlyUnsignedAccounts")],"header"),qt(t.length,"staticAccountKeysLength"),Vr(gt(),this.staticAccountKeys.length,"staticAccountKeys"),gt("recentBlockhash"),qt(r.length,"instructionsLength"),qt(n.length,"serializedInstructions"),qt(i.length,"addressTableLookupsLength"),qt(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(Wl),u=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:vr.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,u)}serializeInstructions(){let t=0;const n=new Uint8Array(Wl);for(const r of this.compiledInstructions){const s=Array();zs(s,r.accountKeyIndexes.length);const i=Array();zs(i,r.data.length);const o=ze([Tt("programIdIndex"),qt(s.length,"encodedAccountKeyIndexesLength"),Vr(Tt(),r.accountKeyIndexes.length,"accountKeyIndexes"),qt(i.length,"encodedDataLength"),qt(r.data.length,"data")]);t+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},n,t)}return n.slice(0,t)}serializeAddressTableLookups(){let t=0;const n=new Uint8Array(Wl);for(const r of this.addressTableLookups){const s=Array();zs(s,r.writableIndexes.length);const i=Array();zs(i,r.readonlyIndexes.length);const o=ze([gt("accountKey"),qt(s.length,"encodedWritableIndexesLength"),Vr(Tt(),r.writableIndexes.length,"writableIndexes"),qt(i.length,"encodedReadonlyIndexesLength"),Vr(Tt(),r.readonlyIndexes.length,"readonlyIndexes")]);t+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},n,t)}return n.slice(0,t)}static deserialize(t){let n=[...t];const r=Zo(n),s=r&sA;Xt(r!==s,"Expected versioned message but received legacy message");const i=s;Xt(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:Zo(n),numReadonlySignedAccounts:Zo(n),numReadonlyUnsignedAccounts:Zo(n)},a=[],c=$s(n);for(let p=0;p<c;p++)a.push(new Ye(Fs(n,0,mc)));const u=vr.encode(Fs(n,0,mc)),l=$s(n),f=[];for(let p=0;p<l;p++){const m=Zo(n),y=$s(n),b=Fs(n,0,y),I=$s(n),v=new Uint8Array(Fs(n,0,I));f.push({programIdIndex:m,accountKeyIndexes:b,data:v})}const d=$s(n),h=[];for(let p=0;p<d;p++){const m=new Ye(Fs(n,0,mc)),y=$s(n),b=Fs(n,0,y),I=$s(n),v=Fs(n,0,I);h.push({accountKey:m,writableIndexes:b,readonlyIndexes:v})}return new Dh({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:f,addressTableLookups:h})}}const Jj={deserializeMessageVersion(e){const t=e[0],n=t&sA;return n===t?"legacy":n},deserialize:e=>{const t=Jj.deserializeMessageVersion(e);if(t==="legacy")return ba.from(e);if(t===0)return Dh.deserialize(e);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let La=function(e){return e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT",e[e.NONCE_INVALID=3]="NONCE_INVALID",e}({});const pse=lt.alloc(wy).fill(0);class Zr{constructor(t){this.keys=void 0,this.programId=void 0,this.data=lt.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:n,isWritable:r})=>({pubkey:t.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}let Tl=class T2{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=t;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=t;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=t;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new Zr(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,n;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(t=this.recentBlockhash,n=this.instructions),!t)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let m=0;m<n.length;m++)if(n[m].programId===void 0)throw new Error(`Transaction instruction index ${m} has undefined program id`);const s=[],i=[];n.forEach(m=>{m.keys.forEach(b=>{i.push({...b})});const y=m.programId.toString();s.includes(y)||s.push(y)}),s.forEach(m=>{i.push({pubkey:new Ye(m),isSigner:!1,isWritable:!1})});const o=[];i.forEach(m=>{const y=m.pubkey.toString(),b=o.findIndex(I=>I.pubkey.toString()===y);b>-1?(o[b].isWritable=o[b].isWritable||m.isWritable,o[b].isSigner=o[b].isSigner||m.isSigner):o.push(m)}),o.sort(function(m,y){if(m.isSigner!==y.isSigner)return m.isSigner?-1:1;if(m.isWritable!==y.isWritable)return m.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return m.pubkey.toBase58().localeCompare(y.pubkey.toBase58(),"en",b)});const a=o.findIndex(m=>m.pubkey.equals(r));if(a>-1){const[m]=o.splice(a,1);m.isSigner=!0,m.isWritable=!0,o.unshift(m)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const m of this.signatures){const y=o.findIndex(b=>b.pubkey.equals(m.publicKey));if(y>-1)o[y].isSigner||(o[y].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${m.publicKey.toString()}`)}let c=0,u=0,l=0;const f=[],d=[];o.forEach(({pubkey:m,isSigner:y,isWritable:b})=>{y?(f.push(m.toString()),c+=1,b||(u+=1)):(d.push(m.toString()),b||(l+=1))});const h=f.concat(d),p=n.map(m=>{const{data:y,programId:b}=m;return{programIdIndex:h.indexOf(b.toString()),accounts:m.keys.map(I=>h.indexOf(I.pubkey.toString())),data:vr.encode(y)}});return p.forEach(m=>{Xt(m.programIdIndex>=0),m.accounts.forEach(y=>Xt(y>=0))}),new ba({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:h,recentBlockhash:t,instructions:p})}_compile(){const t=this.compileMessage(),n=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((s,i)=>n[i].equals(s.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const n=new Set;this.signatures=t.filter(r=>{const s=r.toString();return n.has(s)?!1:(n.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,r=[];for(const i of t){const o=i.publicKey.toString();n.has(o)||(n.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,r=[];for(const i of t){const o=i.publicKey.toString();n.has(o)||(n.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(t,...n){const r=t.serialize();n.forEach(s=>{const i=Vj(r,s.secretKey);this._addSignature(s.publicKey,yr(i))})}addSignature(t,n){this._compile(),this._addSignature(t,n)}_addSignature(t,n){Xt(n.length===64);const r=this.signatures.findIndex(s=>t.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[r].signature=lt.from(n)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,n){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?n&&(r.missing||(r.missing=[])).push(i):ise(s,t,i.toBytes())||(r.invalid||(r.invalid=[])).push(i);return r.invalid||r.missing?r:void 0}serialize(t){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,n);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(t){const{signatures:n}=this,r=[];zs(r,n.length);const s=r.length+n.length*64+t.length,i=lt.alloc(s);return Xt(n.length<256),lt.from(r).copy(i,0),n.forEach(({signature:o},a)=>{o!==null&&(Xt(o.length===64,"signature has invalid length"),lt.from(o).copy(i,r.length+a*64))}),t.copy(i,r.length+n.length*64),Xt(i.length<=Wl,`Transaction too large: ${i.length} > ${Wl}`),i}get keys(){return Xt(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return Xt(this.instructions.length===1),this.instructions[0].programId}get data(){return Xt(this.instructions.length===1),this.instructions[0].data}static from(t){let n=[...t];const r=$s(n);let s=[];for(let i=0;i<r;i++){const o=Fs(n,0,wy);s.push(vr.encode(lt.from(o)))}return T2.populate(ba.from(n),s)}static populate(t,n=[]){const r=new T2;return r.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(r.feePayer=t.accountKeys[0]),n.forEach((s,i)=>{const o={signature:s==vr.encode(pse)?null:vr.decode(s),publicKey:t.accountKeys[i]};r.signatures.push(o)}),t.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=t.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||t.isAccountSigner(o),isWritable:t.isAccountWritable(o)}});r.instructions.push(new Zr({keys:i,programId:t.accountKeys[s.programIdIndex],data:vr.decode(s.data)}))}),r._message=t,r._json=r.toJSON(),r}};class iA{get version(){return this.message.version}constructor(t,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)Xt(n.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let s=0;s<t.header.numRequiredSignatures;s++)r.push(new Uint8Array(wy));this.signatures=r}this.message=t}serialize(){const t=this.message.serialize(),n=Array();zs(n,this.signatures.length);const r=ze([qt(n.length,"encodedSignaturesLength"),Vr(use(),this.signatures.length,"signatures"),qt(t.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:t},s);return s.slice(0,i)}static deserialize(t){let n=[...t];const r=[],s=$s(n);for(let o=0;o<s;o++)r.push(new Uint8Array(Fs(n,0,wy)));const i=Jj.deserialize(new Uint8Array(n));return new iA(i,r)}sign(t){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of t){const i=r.findIndex(o=>o.equals(s.publicKey));Xt(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=Vj(n,s.secretKey)}}addSignature(t,n){Xt(n.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(t));Xt(s>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=n}}const mse=160,yse=64,gse=mse/yse,wse=1e3/gse,qbe=new Ye("SysvarC1ock11111111111111111111111111111111");new Ye("SysvarEpochSchedu1e111111111111111111111111");new Ye("Sysvar1nstructions1111111111111111111111111");const H1=new Ye("SysvarRecentB1ockHashes11111111111111111111"),x5=new Ye("SysvarRent111111111111111111111111111111111");new Ye("SysvarRewards111111111111111111111111111111");new Ye("SysvarS1otHashes111111111111111111111111111");new Ye("SysvarS1otHistory11111111111111111111111111");new Ye("SysvarStakeHistory1111111111111111111111111");class A5 extends Error{constructor({action:t,signature:n,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(t){case"send":a=`Transaction ${n} resulted in an error. 
${r}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+i+o;break;default:a=`Unknown action '${(c=>c)(t)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const t=this.transactionLogs;if(!(t!=null&&typeof t=="object"&&"then"in t))return t}async getLogs(t){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,r)=>{t.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,n(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}class We extends Error{constructor({code:t,message:n,data:r},s){super(s!=null?`${s}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=t,this.data=r,this.name="SolanaJSONRPCError"}}function _l(e){return new Promise(t=>setTimeout(t,e))}function Fr(e,t){const n=e.layout.span>=0?e.layout.span:Zj(e,t),r=lt.alloc(n),s=Object.assign({instruction:e.index},t);return e.layout.encode(s,r),r}const bse=pr("lamportsPerSignature"),e7=ze([Ze("version"),Ze("state"),gt("authorizedPubkey"),gt("nonce"),ze([bse],"feeCalculator")]),I5=e7.span;class oA{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const n=e7.decode(yr(t),0);return new oA({authorizedPubkey:new Ye(n.authorizedPubkey),nonce:new Ye(n.nonce).toString(),feeCalculator:n.feeCalculator})}}function Ud(e){const t=qt(8,e),n=t.decode.bind(t),r=t.encode.bind(t),s=t,i=Ere();return s.decode=(o,a)=>{const c=n(o,a);return i.decode(c)},s.encode=(o,a,c)=>{const u=i.encode(o);return r(u,a,c)},s}const ti=Object.freeze({Create:{index:0,layout:ze([Ze("instruction"),Ls("lamports"),Ls("space"),gt("programId")])},Assign:{index:1,layout:ze([Ze("instruction"),gt("programId")])},Transfer:{index:2,layout:ze([Ze("instruction"),Ud("lamports")])},CreateWithSeed:{index:3,layout:ze([Ze("instruction"),gt("base"),Rl("seed"),Ls("lamports"),Ls("space"),gt("programId")])},AdvanceNonceAccount:{index:4,layout:ze([Ze("instruction")])},WithdrawNonceAccount:{index:5,layout:ze([Ze("instruction"),Ls("lamports")])},InitializeNonceAccount:{index:6,layout:ze([Ze("instruction"),gt("authorized")])},AuthorizeNonceAccount:{index:7,layout:ze([Ze("instruction"),gt("authorized")])},Allocate:{index:8,layout:ze([Ze("instruction"),Ls("space")])},AllocateWithSeed:{index:9,layout:ze([Ze("instruction"),gt("base"),Rl("seed"),Ls("space"),gt("programId")])},AssignWithSeed:{index:10,layout:ze([Ze("instruction"),gt("base"),Rl("seed"),gt("programId")])},TransferWithSeed:{index:11,layout:ze([Ze("instruction"),Ud("lamports"),Rl("seed"),gt("programId")])},UpgradeNonceAccount:{index:12,layout:ze([Ze("instruction")])}});class vy{constructor(){}static createAccount(t){const n=ti.Create,r=Fr(n,{lamports:t.lamports,space:t.space,programId:yr(t.programId.toBuffer())});return new Zr({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(t){let n,r;if("basePubkey"in t){const s=ti.TransferWithSeed;n=Fr(s,{lamports:BigInt(t.lamports),seed:t.seed,programId:yr(t.programId.toBuffer())}),r=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=ti.Transfer;n=Fr(s,{lamports:BigInt(t.lamports)}),r=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}return new Zr({keys:r,programId:this.programId,data:n})}static assign(t){let n,r;if("basePubkey"in t){const s=ti.AssignWithSeed;n=Fr(s,{base:yr(t.basePubkey.toBuffer()),seed:t.seed,programId:yr(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=ti.Assign;n=Fr(s,{programId:yr(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new Zr({keys:r,programId:this.programId,data:n})}static createAccountWithSeed(t){const n=ti.CreateWithSeed,r=Fr(n,{base:yr(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:yr(t.programId.toBuffer())});let s=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey.equals(t.fromPubkey)||s.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new Zr({keys:s,programId:this.programId,data:r})}static createNonceAccount(t){const n=new Tl;"basePubkey"in t&&"seed"in t?n.add(vy.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:I5,programId:this.programId})):n.add(vy.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:I5,programId:this.programId}));const r={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return n.add(this.nonceInitialize(r)),n}static nonceInitialize(t){const n=ti.InitializeNonceAccount,r=Fr(n,{authorized:yr(t.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:H1,isSigner:!1,isWritable:!1},{pubkey:x5,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new Zr(s)}static nonceAdvance(t){const n=ti.AdvanceNonceAccount,r=Fr(n),s={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:H1,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new Zr(s)}static nonceWithdraw(t){const n=ti.WithdrawNonceAccount,r=Fr(n,{lamports:t.lamports});return new Zr({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:H1,isSigner:!1,isWritable:!1},{pubkey:x5,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(t){const n=ti.AuthorizeNonceAccount,r=Fr(n,{authorized:yr(t.newAuthorizedPubkey.toBuffer())});return new Zr({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(t){let n,r;if("basePubkey"in t){const s=ti.AllocateWithSeed;n=Fr(s,{base:yr(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:yr(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=ti.Allocate;n=Fr(s,{space:t.space}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new Zr({keys:r,programId:this.programId,data:n})}}vy.programId=new Ye("11111111111111111111111111111111");new Ye("BPFLoader2111111111111111111111111111111111");function vse(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var q1,S5;function Ese(){if(S5)return q1;S5=1;var e=Object.prototype.toString,t=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function n(r,s){var i,o,a,c,u,l,f;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return n(r.toJSON(),s);if(f=e.call(r),f==="[object Array]"){for(a="[",o=r.length-1,i=0;i<o;i++)a+=n(r[i],!0)+",";return o>-1&&(a+=n(r[i],!0)),a+"]"}else if(f==="[object Object]"){for(c=t(r).sort(),o=c.length,a="",i=0;i<o;)u=c[i],l=n(r[u],!1),l!==void 0&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l),i++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return q1=function(r){var s=n(r,!1);if(s!==void 0)return""+s},q1}var xse=Ese(),k5=vse(xse);const Bf=32;function W1(e){let t=0;for(;e>1;)e/=2,t++;return t}function Ase(e){return e===0?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e|=e>>32,e+1)}class Ise{constructor(t,n,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const n=W1(Ase(t+Bf+1))-W1(Bf)-1,r=this.getSlotsInEpoch(n),s=t-(r-Bf);return[n,s]}else{const n=t-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=n%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?(Math.pow(2,t)-1)*Bf:(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+W1(Bf)):this.slotsPerEpoch}}var Sse=globalThis.fetch;class kse extends sse{constructor(t,n,r){const s=i=>{const o=nse(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,t,n,r),this.underlyingSocket=void 0}call(...t){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...t){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function Cse(e,t){let n;try{n=e.layout.decode(t)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==e.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${e.index}`);return n}const C5=56;class T5{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const n=Cse(Tse,t),r=t.length-C5;Xt(r>=0,"lookup table is invalid"),Xt(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=ze([Vr(gt(),s,"addresses")]).decode(t.slice(C5));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new Ye(n.authority[0]):void 0,addresses:i.map(o=>new Ye(o))}}}const Tse={index:1,layout:ze([Ze("typeIndex"),Ud("deactivationSlot"),pr("lastExtendedSlot"),Tt("lastExtendedStartIndex"),Tt(),Vr(gt(),yu(Tt(),-1),"authority")])},_se=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function Mse(e){const t=e.match(_se);if(t==null)throw TypeError(`Failed to validate endpoint URL \`${e}\``);const[n,r,s,i]=t,o=e.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${i}`}const dn=Hp(nA(Ye),ve(),e=>new Ye(e)),t7=rA([ve(),sn("base64")]),aA=Hp(nA(lt),t7,e=>lt.from(e[0],"base64")),Bse=30*1e3;function Nse(e){if(/^https?:/.test(e)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return e}function Lt(e){let t,n;if(typeof e=="string")t=e;else if(e){const{commitment:r,...s}=e;t=r,n=s}return{commitment:t,config:n}}function _5(e){return e.map(t=>"memcmp"in t?{...t,memcmp:{...t.memcmp,encoding:t.memcmp.encoding??"base58"}}:t)}function n7(e){return cs([fe({jsonrpc:sn("2.0"),id:ve(),result:e}),fe({jsonrpc:sn("2.0"),id:ve(),error:fe({code:ff(),message:ve(),data:Qe(Tre())})})])}const Ose=n7(ff());function ft(e){return Hp(n7(e),Ose,t=>"error"in t?t:{...t,result:Ae(t.result,e)})}function xn(e){return ft(fe({context:fe({slot:ee()}),value:e}))}function nw(e){return fe({context:fe({slot:ee()}),value:e})}function G1(e,t){return e===0?new Dh({header:t.header,staticAccountKeys:t.accountKeys.map(n=>new Ye(n)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:vr.decode(n.data)})),addressTableLookups:t.addressTableLookups}):new ba(t)}const Pse=fe({foundation:ee(),foundationTerm:ee(),initial:ee(),taper:ee(),terminal:ee()}),jse=ft(Ce(_e(fe({epoch:ee(),effectiveSlot:ee(),amount:ee(),postBalance:ee(),commission:Qe(_e(ee()))})))),Rse=Ce(fe({slot:ee(),prioritizationFee:ee()})),Dse=fe({total:ee(),validator:ee(),foundation:ee(),epoch:ee()}),Use=fe({epoch:ee(),slotIndex:ee(),slotsInEpoch:ee(),absoluteSlot:ee(),blockHeight:Qe(ee()),transactionCount:Qe(ee())}),Lse=fe({slotsPerEpoch:ee(),leaderScheduleSlotOffset:ee(),warmup:Eo(),firstNormalEpoch:ee(),firstNormalSlot:ee()}),$se=zj(ve(),Ce(ee())),sl=_e(cs([fe({}),ve()])),zse=fe({err:sl}),Fse=sn("receivedSignature"),Hse=fe({"solana-core":ve(),"feature-set":Qe(ee())}),qse=fe({program:ve(),programId:dn,parsed:ff()}),Wse=fe({programId:dn,accounts:Ce(dn),data:ve()}),M5=xn(fe({err:_e(cs([fe({}),ve()])),logs:_e(Ce(ve())),accounts:Qe(_e(Ce(_e(fe({executable:Eo(),owner:ve(),lamports:ee(),data:Ce(ve()),rentEpoch:Qe(ee())}))))),unitsConsumed:Qe(ee()),returnData:Qe(_e(fe({programId:ve(),data:rA([ve(),sn("base64")])}))),innerInstructions:Qe(_e(Ce(fe({index:ee(),instructions:Ce(cs([qse,Wse]))}))))})),Gse=xn(fe({byIdentity:zj(ve(),Ce(ee())),range:fe({firstSlot:ee(),lastSlot:ee()})}));function Vse(e,t,n,r,s,i){const o=n||Sse;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,f)=>{const d=await new Promise((h,p)=>{try{r(l,f,(m,y)=>h([m,y]))}catch(m){p(m)}});return await o(...d)}),new ese(async(l,f)=>{const d={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},t||{},Vie)};try{let h=5,p,m=500;for(;c?p=await c(e,d):p=await o(e,d),!(p.status!==429||s===!0||(h-=1,h===0));)console.error(`Server responded with ${p.status} ${p.statusText}.  Retrying after ${m}ms delay...`),await _l(m),m*=2;const y=await p.text();p.ok?f(null,y):f(new Error(`${p.status} ${p.statusText}: ${y}`))}catch(h){h instanceof Error&&f(h)}},{})}function Kse(e){return(t,n)=>new Promise((r,s)=>{e.request(t,n,(i,o)=>{if(i){s(i);return}r(o)})})}function Qse(e){return t=>new Promise((n,r)=>{t.length===0&&n([]);const s=t.map(i=>e.request(i.methodName,i.args));e.request(s,(i,o)=>{if(i){r(i);return}n(o)})})}const Yse=ft(Pse),Zse=ft(Dse),Xse=ft(Rse),Jse=ft(Use),eie=ft(Lse),tie=ft($se),nie=ft(ee()),rie=xn(fe({total:ee(),circulating:ee(),nonCirculating:ee(),nonCirculatingAccounts:Ce(dn)})),_2=fe({amount:ve(),uiAmount:_e(ee()),decimals:ee(),uiAmountString:Qe(ve())}),sie=xn(Ce(fe({address:dn,amount:ve(),uiAmount:_e(ee()),decimals:ee(),uiAmountString:Qe(ve())}))),iie=xn(Ce(fe({pubkey:dn,account:fe({executable:Eo(),owner:dn,lamports:ee(),data:aA,rentEpoch:ee()})}))),M2=fe({program:ve(),parsed:ff(),space:ee()}),oie=xn(Ce(fe({pubkey:dn,account:fe({executable:Eo(),owner:dn,lamports:ee(),data:M2,rentEpoch:ee()})}))),aie=xn(Ce(fe({lamports:ee(),address:dn}))),Uh=fe({executable:Eo(),owner:dn,lamports:ee(),data:aA,rentEpoch:ee()}),cie=fe({pubkey:dn,account:Uh}),uie=Hp(cs([nA(lt),M2]),cs([t7,M2]),e=>Array.isArray(e)?Ae(e,aA):e),B2=fe({executable:Eo(),owner:dn,lamports:ee(),data:uie,rentEpoch:ee()}),lie=fe({pubkey:dn,account:B2}),die=fe({state:cs([sn("active"),sn("inactive"),sn("activating"),sn("deactivating")]),active:ee(),inactive:ee()}),fie=ft(Ce(fe({signature:ve(),slot:ee(),err:sl,memo:_e(ve()),blockTime:Qe(_e(ee()))}))),hie=ft(Ce(fe({signature:ve(),slot:ee(),err:sl,memo:_e(ve()),blockTime:Qe(_e(ee()))}))),pie=fe({subscription:ee(),result:nw(Uh)}),mie=fe({pubkey:dn,account:Uh}),yie=fe({subscription:ee(),result:nw(mie)}),gie=fe({parent:ee(),slot:ee(),root:ee()}),wie=fe({subscription:ee(),result:gie}),bie=cs([fe({type:cs([sn("firstShredReceived"),sn("completed"),sn("optimisticConfirmation"),sn("root")]),slot:ee(),timestamp:ee()}),fe({type:sn("createdBank"),parent:ee(),slot:ee(),timestamp:ee()}),fe({type:sn("frozen"),slot:ee(),timestamp:ee(),stats:fe({numTransactionEntries:ee(),numSuccessfulTransactions:ee(),numFailedTransactions:ee(),maxTransactionsPerEntry:ee()})}),fe({type:sn("dead"),slot:ee(),timestamp:ee(),err:ve()})]),vie=fe({subscription:ee(),result:bie}),Eie=fe({subscription:ee(),result:nw(cs([zse,Fse]))}),xie=fe({subscription:ee(),result:ee()}),Aie=fe({pubkey:ve(),gossip:_e(ve()),tpu:_e(ve()),rpc:_e(ve()),version:_e(ve())}),B5=fe({votePubkey:ve(),nodePubkey:ve(),activatedStake:ee(),epochVoteAccount:Eo(),epochCredits:Ce(rA([ee(),ee(),ee()])),commission:ee(),lastVote:ee(),rootSlot:_e(ee())}),Iie=ft(fe({current:Ce(B5),delinquent:Ce(B5)})),Sie=cs([sn("processed"),sn("confirmed"),sn("finalized")]),kie=fe({slot:ee(),confirmations:_e(ee()),err:sl,confirmationStatus:Qe(Sie)}),Cie=xn(Ce(_e(kie))),Tie=ft(ee()),r7=fe({accountKey:dn,writableIndexes:Ce(ee()),readonlyIndexes:Ce(ee())}),cA=fe({signatures:Ce(ve()),message:fe({accountKeys:Ce(ve()),header:fe({numRequiredSignatures:ee(),numReadonlySignedAccounts:ee(),numReadonlyUnsignedAccounts:ee()}),instructions:Ce(fe({accounts:Ce(ee()),data:ve(),programIdIndex:ee()})),recentBlockhash:ve(),addressTableLookups:Qe(Ce(r7))})}),s7=fe({pubkey:dn,signer:Eo(),writable:Eo(),source:Qe(cs([sn("transaction"),sn("lookupTable")]))}),i7=fe({accountKeys:Ce(s7),signatures:Ce(ve())}),o7=fe({parsed:ff(),program:ve(),programId:dn}),a7=fe({accounts:Ce(dn),data:ve(),programId:dn}),_ie=cs([a7,o7]),Mie=cs([fe({parsed:ff(),program:ve(),programId:ve()}),fe({accounts:Ce(ve()),data:ve(),programId:ve()})]),c7=Hp(_ie,Mie,e=>"accounts"in e?Ae(e,a7):Ae(e,o7)),u7=fe({signatures:Ce(ve()),message:fe({accountKeys:Ce(s7),instructions:Ce(c7),recentBlockhash:ve(),addressTableLookups:Qe(_e(Ce(r7)))})}),Ey=fe({accountIndex:ee(),mint:ve(),owner:Qe(ve()),programId:Qe(ve()),uiTokenAmount:_2}),l7=fe({writable:Ce(dn),readonly:Ce(dn)}),rw=fe({err:sl,fee:ee(),innerInstructions:Qe(_e(Ce(fe({index:ee(),instructions:Ce(fe({accounts:Ce(ee()),data:ve(),programIdIndex:ee()}))})))),preBalances:Ce(ee()),postBalances:Ce(ee()),logMessages:Qe(_e(Ce(ve()))),preTokenBalances:Qe(_e(Ce(Ey))),postTokenBalances:Qe(_e(Ce(Ey))),loadedAddresses:Qe(l7),computeUnitsConsumed:Qe(ee()),costUnits:Qe(ee())}),uA=fe({err:sl,fee:ee(),innerInstructions:Qe(_e(Ce(fe({index:ee(),instructions:Ce(c7)})))),preBalances:Ce(ee()),postBalances:Ce(ee()),logMessages:Qe(_e(Ce(ve()))),preTokenBalances:Qe(_e(Ce(Ey))),postTokenBalances:Qe(_e(Ce(Ey))),loadedAddresses:Qe(l7),computeUnitsConsumed:Qe(ee()),costUnits:Qe(ee())}),hf=cs([sn(0),sn("legacy")]),il=fe({pubkey:ve(),lamports:ee(),postBalance:_e(ee()),rewardType:_e(ve()),commission:Qe(_e(ee()))}),Bie=ft(_e(fe({blockhash:ve(),previousBlockhash:ve(),parentSlot:ee(),transactions:Ce(fe({transaction:cA,meta:_e(rw),version:Qe(hf)})),rewards:Qe(Ce(il)),blockTime:_e(ee()),blockHeight:_e(ee())}))),Nie=ft(_e(fe({blockhash:ve(),previousBlockhash:ve(),parentSlot:ee(),rewards:Qe(Ce(il)),blockTime:_e(ee()),blockHeight:_e(ee())}))),Oie=ft(_e(fe({blockhash:ve(),previousBlockhash:ve(),parentSlot:ee(),transactions:Ce(fe({transaction:i7,meta:_e(rw),version:Qe(hf)})),rewards:Qe(Ce(il)),blockTime:_e(ee()),blockHeight:_e(ee())}))),Pie=ft(_e(fe({blockhash:ve(),previousBlockhash:ve(),parentSlot:ee(),transactions:Ce(fe({transaction:u7,meta:_e(uA),version:Qe(hf)})),rewards:Qe(Ce(il)),blockTime:_e(ee()),blockHeight:_e(ee())}))),jie=ft(_e(fe({blockhash:ve(),previousBlockhash:ve(),parentSlot:ee(),transactions:Ce(fe({transaction:i7,meta:_e(uA),version:Qe(hf)})),rewards:Qe(Ce(il)),blockTime:_e(ee()),blockHeight:_e(ee())}))),Rie=ft(_e(fe({blockhash:ve(),previousBlockhash:ve(),parentSlot:ee(),rewards:Qe(Ce(il)),blockTime:_e(ee()),blockHeight:_e(ee())}))),Die=ft(_e(fe({blockhash:ve(),previousBlockhash:ve(),parentSlot:ee(),transactions:Ce(fe({transaction:cA,meta:_e(rw)})),rewards:Qe(Ce(il)),blockTime:_e(ee())}))),N5=ft(_e(fe({blockhash:ve(),previousBlockhash:ve(),parentSlot:ee(),signatures:Ce(ve()),blockTime:_e(ee())}))),V1=ft(_e(fe({slot:ee(),meta:_e(rw),blockTime:Qe(_e(ee())),transaction:cA,version:Qe(hf)}))),T0=ft(_e(fe({slot:ee(),transaction:u7,meta:_e(uA),blockTime:Qe(_e(ee())),version:Qe(hf)}))),Uie=xn(fe({blockhash:ve(),lastValidBlockHeight:ee()})),Lie=xn(Eo()),$ie=fe({slot:ee(),numTransactions:ee(),numSlots:ee(),samplePeriodSecs:ee()}),zie=ft(Ce($ie)),Fie=xn(_e(fe({feeCalculator:fe({lamportsPerSignature:ee()})}))),Hie=ft(ve()),qie=ft(ve()),Wie=fe({err:sl,logs:Ce(ve()),signature:ve()}),Gie=fe({result:nw(Wie),subscription:ee()}),Vie={"solana-client":"js/1.0.0-maintenance"};class Kie{constructor(t,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:f,config:d}=Lt(l),h=this._buildArgs([],f,void 0,d),p=k5(h);return u[p]=u[p]??(async()=>{try{const m=await this._rpcRequest("getBlockHeight",h),y=Ae(m,ft(ee()));if("error"in y)throw new We(y.error,"failed to get block height information");return y.result}finally{delete u[p]}})(),await u[p]}})();let r,s,i,o,a,c;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,s=n.httpHeaders,i=n.fetch,o=n.fetchMiddleware,a=n.disableRetryOnRateLimit,c=n.httpAgent),this._rpcEndpoint=Nse(t),this._rpcWsEndpoint=r||Mse(t),this._rpcClient=Vse(t,s,i,o,a,c),this._rpcRequest=Kse(this._rpcClient),this._rpcBatchRequest=Qse(this._rpcClient),this._rpcWebSocket=new kse(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,n){const{commitment:r,config:s}=Lt(n),i=this._buildArgs([t.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=Ae(o,xn(ee()));if("error"in a)throw new We(a.error,`failed to get balance for ${t.toBase58()}`);return a.result}async getBalance(t,n){return await this.getBalanceAndContext(t,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+r)})}async getBlockTime(t){const n=await this._rpcRequest("getBlockTime",[t]),r=Ae(n,ft(_e(ee())));if("error"in r)throw new We(r.error,`failed to get block time for slot ${t}`);return r.result}async getMinimumLedgerSlot(){const t=await this._rpcRequest("minimumLedgerSlot",[]),n=Ae(t,ft(ee()));if("error"in n)throw new We(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const t=await this._rpcRequest("getFirstAvailableBlock",[]),n=Ae(t,nie);if("error"in n)throw new We(n.error,"failed to get first available block");return n.result}async getSupply(t){let n={};typeof t=="string"?n={commitment:t}:t?n={...t,commitment:t&&t.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),s=Ae(r,rie);if("error"in s)throw new We(s.error,"failed to get supply");return s.result}async getTokenSupply(t,n){const r=this._buildArgs([t.toBase58()],n),s=await this._rpcRequest("getTokenSupply",r),i=Ae(s,xn(_2));if("error"in i)throw new We(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(t,n){const r=this._buildArgs([t.toBase58()],n),s=await this._rpcRequest("getTokenAccountBalance",r),i=Ae(s,xn(_2));if("error"in i)throw new We(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(t,n,r){const{commitment:s,config:i}=Lt(r);let o=[t.toBase58()];"mint"in n?o.push({mint:n.mint.toBase58()}):o.push({programId:n.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=Ae(c,iie);if("error"in u)throw new We(u.error,`failed to get token accounts owned by account ${t.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(t,n,r){let s=[t.toBase58()];"mint"in n?s.push({mint:n.mint.toBase58()}):s.push({programId:n.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=Ae(o,oie);if("error"in a)throw new We(a.error,`failed to get token accounts owned by account ${t.toBase58()}`);return a.result}async getLargestAccounts(t){const n={...t,commitment:t&&t.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],s=await this._rpcRequest("getLargestAccounts",r),i=Ae(s,aie);if("error"in i)throw new We(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(t,n){const r=this._buildArgs([t.toBase58()],n),s=await this._rpcRequest("getTokenLargestAccounts",r),i=Ae(s,sie);if("error"in i)throw new We(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(t,n){const{commitment:r,config:s}=Lt(n),i=this._buildArgs([t.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=Ae(o,xn(_e(Uh)));if("error"in a)throw new We(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getParsedAccountInfo(t,n){const{commitment:r,config:s}=Lt(n),i=this._buildArgs([t.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=Ae(o,xn(_e(B2)));if("error"in a)throw new We(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getAccountInfo(t,n){try{return(await this.getAccountInfoAndContext(t,n)).value}catch(r){throw new Error("failed to get info about account "+t.toBase58()+": "+r)}}async getMultipleParsedAccounts(t,n){const{commitment:r,config:s}=Lt(n),i=t.map(u=>u.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),c=Ae(a,xn(Ce(_e(B2))));if("error"in c)throw new We(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(t,n){const{commitment:r,config:s}=Lt(n),i=t.map(u=>u.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),c=Ae(a,xn(Ce(_e(Uh))));if("error"in c)throw new We(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(t,n){return(await this.getMultipleAccountsInfoAndContext(t,n)).value}async getStakeActivation(t,n,r){const{commitment:s,config:i}=Lt(n),o=this._buildArgs([t.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=Ae(a,ft(die));if("error"in c)throw new We(c.error,`failed to get Stake Activation ${t.toBase58()}`);return c.result}async getProgramAccounts(t,n){const{commitment:r,config:s}=Lt(n),{encoding:i,...o}=s||{},a=this._buildArgs([t.toBase58()],r,i||"base64",{...o,...o.filters?{filters:_5(o.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),u=Ce(cie),l=o.withContext===!0?Ae(c,xn(u)):Ae(c,ft(u));if("error"in l)throw new We(l.error,`failed to get accounts owned by program ${t.toBase58()}`);return l.result}async getParsedProgramAccounts(t,n){const{commitment:r,config:s}=Lt(n),i=this._buildArgs([t.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=Ae(o,ft(Ce(lie)));if("error"in a)throw new We(a.error,`failed to get accounts owned by program ${t.toBase58()}`);return a.result}async confirmTransaction(t,n){var i;let r;if(typeof t=="string")r=t;else{const o=t;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=vr.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Xt(s.length===64,"signature has invalid length"),typeof t=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise((n,r)=>{t!=null&&(t.aborted?r(t.reason):t.addEventListener("abort",()=>{r(t.reason)}))})}getTransactionConfirmationPromise({commitment:t,signature:n}){let r,s,i=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(n,(f,d)=>{r=void 0;const h={context:d,value:f};c({__type:La.PROCESSED,response:h})},t);const l=new Promise(f=>{r==null?f():s=this._onSubscriptionStateChange(r,d=>{d==="subscribed"&&f()})});(async()=>{if(await l,i)return;const f=await this.getSignatureStatus(n);if(i||f==null)return;const{context:d,value:h}=f;if(h!=null)if(h!=null&&h.err)u(h.err);else{switch(t){case"confirmed":case"single":case"singleGossip":{if(h.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(h.confirmationStatus==="processed"||h.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:La.PROCESSED,response:{context:d,value:h}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(f=>{const d=async()=>{try{return await this.getBlockHeight(t)}catch{return-1}};(async()=>{let h=await d();if(!i){for(;h<=r;)if(await _l(1e3),i||(h=await d(),i))return;f({__type:La.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:t,signature:s}),u=this.getCancellationPromise(n);let l;try{const f=await Promise.race([u,c,o]);if(f.__type===La.PROCESSED)l=f.response;else throw new Qj(s)}finally{i=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const c=new Promise(h=>{let p=i,m=null;const y=async()=>{try{const{context:b,value:I}=await this.getNonceAndContext(s,{commitment:t,minContextSlot:r});return m=b.slot,I==null?void 0:I.nonce}catch{return p}};(async()=>{if(p=await y(),!a)for(;;){if(i!==p){h({__type:La.NONCE_INVALID,slotInWhichNonceDidAdvance:m});return}if(await _l(2e3),a||(p=await y(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:t,signature:o}),f=this.getCancellationPromise(n);let d;try{const h=await Promise.race([f,l,c]);if(h.__type===La.PROCESSED)d=h.response;else{let p;for(;;){const m=await this.getSignatureStatus(o);if(m==null)break;if(m.context.slot<(h.slotInWhichNonceDidAdvance??r)){await _l(400);continue}p=m;break}if(p!=null&&p.value){const m=t||"finalized",{confirmationStatus:y}=p.value;switch(m){case"processed":case"recent":if(y!=="processed"&&y!=="confirmed"&&y!=="finalized")throw new Gf(o);break;case"confirmed":case"single":case"singleGossip":if(y!=="confirmed"&&y!=="finalized")throw new Gf(o);break;case"finalized":case"max":case"root":if(y!=="finalized")throw new Gf(o);break;default:}d={context:p.context,value:{err:p.value.err}}}else throw new Gf(o)}}finally{a=!0,u()}return d}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:n}){let r;const s=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:La.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:t,signature:n});let a;try{const c=await Promise.race([o,s]);if(c.__type===La.PROCESSED)a=c.response;else throw new Yj(n,c.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const t=await this._rpcRequest("getClusterNodes",[]),n=Ae(t,ft(Ce(Aie)));if("error"in n)throw new We(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(t){const n=this._buildArgs([],t),r=await this._rpcRequest("getVoteAccounts",n),s=Ae(r,Iie);if("error"in s)throw new We(s.error,"failed to get vote accounts");return s.result}async getSlot(t){const{commitment:n,config:r}=Lt(t),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getSlot",s),o=Ae(i,ft(ee()));if("error"in o)throw new We(o.error,"failed to get slot");return o.result}async getSlotLeader(t){const{commitment:n,config:r}=Lt(t),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=Ae(i,ft(ve()));if("error"in o)throw new We(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(t,n){const r=[t,n],s=await this._rpcRequest("getSlotLeaders",r),i=Ae(s,ft(Ce(dn)));if("error"in i)throw new We(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(t,n){const{context:r,value:s}=await this.getSignatureStatuses([t],n);Xt(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(t,n){const r=[t];n&&r.push(n);const s=await this._rpcRequest("getSignatureStatuses",r),i=Ae(s,Cie);if("error"in i)throw new We(i.error,"failed to get signature status");return i.result}async getTransactionCount(t){const{commitment:n,config:r}=Lt(t),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=Ae(i,ft(ee()));if("error"in o)throw new We(o.error,"failed to get transaction count");return o.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const n=this._buildArgs([],t),r=await this._rpcRequest("getInflationGovernor",n),s=Ae(r,Yse);if("error"in s)throw new We(s.error,"failed to get inflation");return s.result}async getInflationReward(t,n,r){const{commitment:s,config:i}=Lt(r),o=this._buildArgs([t.map(u=>u.toBase58())],s,void 0,{...i,epoch:n??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=Ae(a,jse);if("error"in c)throw new We(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const t=await this._rpcRequest("getInflationRate",[]),n=Ae(t,Zse);if("error"in n)throw new We(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(t){const{commitment:n,config:r}=Lt(t),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=Ae(i,Jse);if("error"in o)throw new We(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const t=await this._rpcRequest("getEpochSchedule",[]),n=Ae(t,eie);if("error"in n)throw new We(n.error,"failed to get epoch schedule");const r=n.result;return new Ise(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const t=await this._rpcRequest("getLeaderSchedule",[]),n=Ae(t,tie);if("error"in n)throw new We(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(t,n){const r=this._buildArgs([t],n),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=Ae(s,Tie);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(t){const{context:n,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(t);return{context:n,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(t){const n=await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),r=Ae(n,zie);if("error"in r)throw new We(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(t,n){const r=this._buildArgs([t],n),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=Ae(s,Fie);if("error"in i)throw new We(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(t,n){const r=yr(t.serialize()).toString("base64"),s=this._buildArgs([r],n),i=await this._rpcRequest("getFeeForMessage",s),o=Ae(i,xn(_e(ee())));if("error"in o)throw new We(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(t){var o;const n=(o=t==null?void 0:t.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=n!=null&&n.length?[n]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=Ae(s,Xse);if("error"in i)throw new We(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(t){const{commitment:n,config:r}=Lt(t),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=Ae(i,Uie);if("error"in o)throw new We(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(t,n){const{commitment:r,config:s}=Lt(n),i=this._buildArgs([t],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=Ae(o,Lie);if("error"in a)throw new We(a.error,"failed to determine if the blockhash `"+t+"`is valid");return a.result}async getVersion(){const t=await this._rpcRequest("getVersion",[]),n=Ae(t,ft(Hse));if("error"in n)throw new We(n.error,"failed to get version");return n.result}async getGenesisHash(){const t=await this._rpcRequest("getGenesisHash",[]),n=Ae(t,ft(ve()));if("error"in n)throw new We(n.error,"failed to get genesis hash");return n.result}async getBlock(t,n){const{commitment:r,config:s}=Lt(n),i=this._buildArgsAtLeastConfirmed([t],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=Ae(o,Oie);if("error"in a)throw a.error;return a.result}case"none":{const a=Ae(o,Nie);if("error"in a)throw a.error;return a.result}default:{const a=Ae(o,Bie);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:f})=>({meta:l,transaction:{...u,message:G1(f,u.message)},version:f}))}:null}}}catch(a){throw new We(a,"failed to get confirmed block")}}async getParsedBlock(t,n){const{commitment:r,config:s}=Lt(n),i=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=Ae(o,jie);if("error"in a)throw a.error;return a.result}case"none":{const a=Ae(o,Rie);if("error"in a)throw a.error;return a.result}default:{const a=Ae(o,Pie);if("error"in a)throw a.error;return a.result}}}catch(a){throw new We(a,"failed to get block")}}async getBlockProduction(t){let n,r;if(typeof t=="string")r=t;else if(t){const{commitment:a,...c}=t;r=a,n=c}const s=this._buildArgs([],r,"base64",n),i=await this._rpcRequest("getBlockProduction",s),o=Ae(i,Gse);if("error"in o)throw new We(o.error,"failed to get block production information");return o.result}async getTransaction(t,n){const{commitment:r,config:s}=Lt(n),i=this._buildArgsAtLeastConfirmed([t],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=Ae(o,V1);if("error"in a)throw new We(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:G1(c.version,c.transaction.message)}}}async getParsedTransaction(t,n){const{commitment:r,config:s}=Lt(n),i=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=Ae(o,T0);if("error"in a)throw new We(a.error,"failed to get transaction");return a.result}async getParsedTransactions(t,n){const{commitment:r,config:s}=Lt(n),i=t.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",s)}));return(await this._rpcBatchRequest(i)).map(c=>{const u=Ae(c,T0);if("error"in u)throw new We(u.error,"failed to get transactions");return u.result})}async getTransactions(t,n){const{commitment:r,config:s}=Lt(n),i=t.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,void 0,s)}));return(await this._rpcBatchRequest(i)).map(c=>{const u=Ae(c,V1);if("error"in u)throw new We(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:G1(l.version,l.transaction.message)}}})}async getConfirmedBlock(t,n){const r=this._buildArgsAtLeastConfirmed([t],n),s=await this._rpcRequest("getBlock",r),i=Ae(s,Die);if("error"in i)throw new We(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+t+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new ba(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:Tl.populate(c.message,c.signatures)}))}}async getBlocks(t,n,r){const s=this._buildArgsAtLeastConfirmed(n!==void 0?[t,n]:[t],r),i=await this._rpcRequest("getBlocks",s),o=Ae(i,ft(Ce(ee())));if("error"in o)throw new We(o.error,"failed to get blocks");return o.result}async getBlockSignatures(t,n){const r=this._buildArgsAtLeastConfirmed([t],n,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=Ae(s,N5);if("error"in i)throw new We(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+t+" not found");return o}async getConfirmedBlockSignatures(t,n){const r=this._buildArgsAtLeastConfirmed([t],n,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=Ae(s,N5);if("error"in i)throw new We(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+t+" not found");return o}async getConfirmedTransaction(t,n){const r=this._buildArgsAtLeastConfirmed([t],n),s=await this._rpcRequest("getTransaction",r),i=Ae(s,V1);if("error"in i)throw new We(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new ba(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:Tl.populate(a,c)}}async getParsedConfirmedTransaction(t,n){const r=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed"),s=await this._rpcRequest("getTransaction",r),i=Ae(s,T0);if("error"in i)throw new We(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(t,n){const r=t.map(o=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([o],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(o=>{const a=Ae(o,T0);if("error"in a)throw new We(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(t,n,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(n--,!(n<=0||n<i));)try{const c=await this.getConfirmedBlockSignatures(n,"finalized");c.signatures.length>0&&(s.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(s.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(t,s)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(t,n,r){const s=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,n),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=Ae(i,fie);if("error"in o)throw new We(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(t,n,r){const s=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,n),i=await this._rpcRequest("getSignaturesForAddress",s),o=Ae(i,hie);if("error"in o)throw new We(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(t,n){const{context:r,value:s}=await this.getAccountInfoAndContext(t,n);let i=null;return s!==null&&(i=new T5({key:t,state:T5.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(t,n){const{context:r,value:s}=await this.getAccountInfoAndContext(t,n);let i=null;return s!==null&&(i=oA.fromAccountData(s.data)),{context:r,value:i}}async getNonce(t,n){return await this.getNonceAndContext(t,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+r)})}async requestAirdrop(t,n){const r=await this._rpcRequest("requestAirdrop",[t.toBase58(),n]),s=Ae(r,Hie);if("error"in s)throw new We(s.error,`airdrop to ${t.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await _l(100);const r=Date.now()-this._blockhashInfo.lastFetch>=Bse;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await _l(wse/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:n,config:r}=Lt(t),s=this._buildArgs([],n,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=Ae(i,xn(ee()));if("error"in o)throw new We(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(t,n,r){if("message"in t){const m=t.serialize(),y=lt.from(m).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const b=n||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(b.innerInstructions=n.innerInstructions);const I=[y,b],v=await this._rpcRequest("simulateTransaction",I),E=Ae(v,M5);if("error"in E)throw new Error("failed to simulate transaction: "+E.error.message);return E.result}let s;if(t instanceof Tl){let p=t;s=new Tl,s.feePayer=p.feePayer,s.instructions=t.instructions,s.nonceInfo=p.nonceInfo,s.signatures=p.signatures}else s=Tl.populate(t),s._message=s._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const i=n;if(s.nonceInfo&&i)s.sign(...i);else{let p=this._disableBlockhashCaching;for(;;){const m=await this._blockhashWithExpiryBlockHeight(p);if(s.lastValidBlockHeight=m.lastValidBlockHeight,s.recentBlockhash=m.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const y=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(y)&&!this._blockhashInfo.transactionSignatures.includes(y)){this._blockhashInfo.simulatedSignatures.push(y);break}else p=!0}}const o=s._compile(),a=o.serialize(),u=s._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const p=(Array.isArray(r)?r:o.nonProgramIds()).map(m=>m.toBase58());l.accounts={encoding:"base64",addresses:p}}i&&(l.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(l.innerInstructions=n.innerInstructions);const f=[u,l],d=await this._rpcRequest("simulateTransaction",f),h=Ae(d,M5);if("error"in h){let p;if("data"in h.error&&(p=h.error.data.logs,p&&Array.isArray(p))){const m=`
    `,y=m+p.join(m);console.error(h.error.message,y)}throw new A5({action:"simulate",signature:"",transactionMessage:h.error.message,logs:p})}return h.result}async sendTransaction(t,n,r){if("version"in t){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const o=t.serialize();return await this.sendRawTransaction(o,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const s=n;if(t.nonceInfo)t.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(t.lastValidBlockHeight=a.lastValidBlockHeight,t.recentBlockhash=a.blockhash,t.sign(...s),!t.signature)throw new Error("!signature");const c=t.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const i=t.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(t,n){const r=yr(t).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(t,n){const r={encoding:"base64"},s=n&&n.skipPreflight,i=s===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[t,r],a=await this._rpcRequest("sendTransaction",o),c=Ae(a,qie);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new A5({action:s?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),t===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(t,n){var s;const r=(s=this._subscriptionsByHash[t])==null?void 0:s.state;if(this._subscriptionsByHash[t]=n,r!==n.state){const i=this._subscriptionStateChangeCallbacksByHash[t];i&&i.forEach(o=>{try{o(n.state)}catch{}})}}_onSubscriptionStateChange(t,n){var i;const r=this._subscriptionHashByClientSubscriptionId[t];if(r==null)return()=>{};const s=(i=this._subscriptionStateChangeCallbacksByHash)[r]||(i[r]=new Set);return s.add(n),()=>{s.delete(n),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const t=this._rpcWebSocketGeneration,n=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:a}),!n())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!n())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(t,n){const r=this._subscriptionCallbacksByServerSubscriptionId[t];r!==void 0&&r.forEach(s=>{try{s(...n)}catch(i){console.error(i)}})}_wsOnAccountNotification(t){const{result:n,subscription:r}=Ae(t,pie);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(t,n){const r=this._nextClientSubscriptionId++,s=k5([t.method,n]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...t,args:n,callbacks:new Set([t.callback]),state:"pending"}:i.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];Xt(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(t,n,r){const{commitment:s,config:i}=Lt(r),o=this._buildArgs([t.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:n,subscription:r}=Ae(t,yie);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(t,n,r,s){const{commitment:i,config:o}=Lt(r),a=this._buildArgs([t.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:_5(s)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,n,r){const s=this._buildArgs([typeof t=="object"?{mentions:[t.toString()]}:t],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:n,subscription:r}=Ae(t,Gie);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(t){const{result:n,subscription:r}=Ae(t,wie);this._handleServerNotification(r,[n])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:n,subscription:r}=Ae(t,vie);this._handleServerNotification(r,[n])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${n}' events could not be found.`)}_buildArgs(t,n,r,s){const i=n||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),t.push(o)}return t}_buildArgsAtLeastConfirmed(t,n,r,s){const i=n||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,n,r,s)}_wsOnSignatureNotification(t){const{result:n,subscription:r}=Ae(t,Eie);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(t,n,r){const s=this._buildArgs([t],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){n(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(t,n,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([t],s,void 0,i),a=this._makeSubscription({callback:(c,u)=>{n(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:n,subscription:r}=Ae(t,xie);this._handleServerNotification(r,[n])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}}class ym{constructor(t){this._keypair=void 0,this._keypair=t??b5()}static generate(){return new ym(b5())}static fromSecretKey(t,n){if(t.byteLength!==64)throw new Error("bad secret key size");const r=t.slice(32,64);if(!n||!n.skipValidation){const s=t.slice(0,32),i=C2(s);for(let o=0;o<32;o++)if(r[o]!==i[o])throw new Error("provided secretKey is invalid")}return new ym({publicKey:r,secretKey:t})}static fromSeed(t){const n=C2(t),r=new Uint8Array(64);return r.set(t),r.set(n,32),new ym({publicKey:n,secretKey:r})}get publicKey(){return new Ye(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}Object.freeze({CreateLookupTable:{index:0,layout:ze([Ze("instruction"),Ud("recentSlot"),Tt("bumpSeed")])},FreezeLookupTable:{index:1,layout:ze([Ze("instruction")])},ExtendLookupTable:{index:2,layout:ze([Ze("instruction"),Ud(),Vr(gt(),yu(Ze(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:ze([Ze("instruction")])},CloseLookupTable:{index:4,layout:ze([Ze("instruction")])}});new Ye("AddressLookupTab1e1111111111111111111111111");const _0=Object.freeze({RequestUnits:{index:0,layout:ze([Tt("instruction"),Ze("units"),Ze("additionalFee")])},RequestHeapFrame:{index:1,layout:ze([Tt("instruction"),Ze("bytes")])},SetComputeUnitLimit:{index:2,layout:ze([Tt("instruction"),Ze("units")])},SetComputeUnitPrice:{index:3,layout:ze([Tt("instruction"),Ud("microLamports")])}});class Qie{constructor(){}static requestUnits(t){const n=_0.RequestUnits,r=Fr(n,t);return new Zr({keys:[],programId:this.programId,data:r})}static requestHeapFrame(t){const n=_0.RequestHeapFrame,r=Fr(n,t);return new Zr({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(t){const n=_0.SetComputeUnitLimit,r=Fr(n,t);return new Zr({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(t){const n=_0.SetComputeUnitPrice,r=Fr(n,{microLamports:BigInt(t.microLamports)});return new Zr({keys:[],programId:this.programId,data:r})}}Qie.programId=new Ye("ComputeBudget111111111111111111111111111111");ze([Tt("numSignatures"),Tt("padding"),li("signatureOffset"),li("signatureInstructionIndex"),li("publicKeyOffset"),li("publicKeyInstructionIndex"),li("messageDataOffset"),li("messageDataSize"),li("messageInstructionIndex")]);new Ye("Ed25519SigVerify111111111111111111111111111");wq.utils.isValidPrivateKey;ze([Tt("numSignatures"),li("signatureOffset"),Tt("signatureInstructionIndex"),li("ethAddressOffset"),Tt("ethAddressInstructionIndex"),li("messageDataOffset"),li("messageDataSize"),Tt("messageInstructionIndex"),qt(20,"ethAddress"),qt(64,"signature"),Tt("recoveryId")]);new Ye("KeccakSecp256k11111111111111111111111111111");var d7;new Ye("StakeConfig11111111111111111111111111111111");class f7{constructor(t,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=n,this.custodian=r}}d7=f7;f7.default=new d7(0,0,Ye.default);Object.freeze({Initialize:{index:0,layout:ze([Ze("instruction"),lse(),dse()])},Authorize:{index:1,layout:ze([Ze("instruction"),gt("newAuthorized"),Ze("stakeAuthorizationType")])},Delegate:{index:2,layout:ze([Ze("instruction")])},Split:{index:3,layout:ze([Ze("instruction"),Ls("lamports")])},Withdraw:{index:4,layout:ze([Ze("instruction"),Ls("lamports")])},Deactivate:{index:5,layout:ze([Ze("instruction")])},Merge:{index:7,layout:ze([Ze("instruction")])},AuthorizeWithSeed:{index:8,layout:ze([Ze("instruction"),gt("newAuthorized"),Ze("stakeAuthorizationType"),Rl("authoritySeed"),gt("authorityOwner")])}});new Ye("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:ze([Ze("instruction"),fse()])},Authorize:{index:1,layout:ze([Ze("instruction"),gt("newAuthorized"),Ze("voteAuthorizationType")])},Withdraw:{index:3,layout:ze([Ze("instruction"),Ls("lamports")])},UpdateValidatorIdentity:{index:4,layout:ze([Ze("instruction")])},AuthorizeWithSeed:{index:10,layout:ze([Ze("instruction"),hse()])}});new Ye("Vote111111111111111111111111111111111111111");new Ye("Va1idator1nfo111111111111111111111111111111");fe({name:ve(),website:Qe(ve()),details:Qe(ve()),iconUrl:Qe(ve()),keybaseUsername:Qe(ve())});new Ye("Vote111111111111111111111111111111111111111");ze([gt("nodePubkey"),gt("authorizedWithdrawer"),Tt("commission"),pr(),Vr(ze([pr("slot"),Ze("confirmationCount")]),yu(Ze(),-8),"votes"),Tt("rootSlotValid"),pr("rootSlot"),pr(),Vr(ze([pr("epoch"),gt("authorizedVoter")]),yu(Ze(),-8),"authorizedVoters"),ze([Vr(ze([gt("authorizedPubkey"),pr("epochOfLastAuthorizedSwitch"),pr("targetEpoch")]),32,"buf"),pr("idx"),Tt("isEmpty")],"priorVoters"),pr(),Vr(ze([pr("epoch"),pr("credits"),pr("prevCredits")]),yu(Ze(),-8),"epochCredits"),ze([pr("slot"),pr("timestamp")],"lastTimestamp")]);function h7(e){try{return new Ye(e),!0}catch{return!1}}class Ps extends Error{constructor(t,n){super(t),this.error=n}}class Yie extends Ps{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class Wbe extends Ps{constructor(){super(...arguments),this.name="WalletLoadError"}}class Gbe extends Ps{constructor(){super(...arguments),this.name="WalletConfigError"}}class Zie extends Ps{constructor(){super(...arguments),this.name="WalletConnectionError"}}class Xie extends Ps{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class Jie extends Ps{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class eoe extends Ps{constructor(){super(...arguments),this.name="WalletAccountError"}}class toe extends Ps{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class Vf extends Ps{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class Kf extends Ps{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class tu extends Ps{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class Vbe extends Ps{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class Kbe extends Ps{constructor(){super(...arguments),this.name="WalletSignInError"}}var Fc;(function(e){e.Installed="Installed",e.NotDetected="NotDetected",e.Loadable="Loadable",e.Unsupported="Unsupported"})(Fc||(Fc={}));class noe extends zp{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(t,n,r={}){const s=this.publicKey;if(!s)throw new Vf;return t.feePayer=t.feePayer||s,t.recentBlockhash=t.recentBlockhash||(await n.getLatestBlockhash({commitment:r.preflightCommitment,minContextSlot:r.minContextSlot})).blockhash,t}}function roe(e){if(typeof window>"u"||typeof document>"u")return;const t=[];function n(){if(e())for(const i of t)i()}const r=setInterval(n,1e3);t.push(()=>clearInterval(r)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",n,{once:!0}),t.push(()=>document.removeEventListener("DOMContentLoaded",n))),document.readyState!=="complete"&&(window.addEventListener("load",n,{once:!0}),t.push(()=>window.removeEventListener("load",n))),n()}function Qbe(){if(!navigator)return!1;const e=navigator.userAgent.toLowerCase(),t=e.includes("iphone")||e.includes("ipad"),n=e.includes("safari");return t&&n}function N2(e){return"version"in e}class soe extends noe{async sendTransaction(t,n,r={}){let s=!0;try{if(N2(t)){if(!this.supportedTransactionVersions)throw new Kf("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(t.version))throw new Kf(`Sending transaction version ${t.version} isn't supported by this wallet`);try{t=await this.signTransaction(t);const i=t.serialize();return await n.sendRawTransaction(i,r)}catch(i){throw i instanceof tu?(s=!1,i):new Kf(i==null?void 0:i.message,i)}}else try{const{signers:i,...o}=r;t=await this.prepareTransaction(t,n,o),i!=null&&i.length&&t.partialSign(...i),t=await this.signTransaction(t);const a=t.serialize();return await n.sendRawTransaction(a,o)}catch(i){throw i instanceof tu?(s=!1,i):new Kf(i==null?void 0:i.message,i)}}catch(i){throw s&&this.emit("error",i),i}}async signAllTransactions(t){for(const r of t)if(N2(r)){if(!this.supportedTransactionVersions)throw new tu("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(r.version))throw new tu(`Signing transaction version ${r.version} isn't supported by this wallet`)}const n=[];for(const r of t)n.push(await this.signTransaction(r));return n}}class p7 extends soe{}class Ybe extends p7{}const ioe="solana:signAndSendTransaction",Zbe="solana:signIn",Xbe="solana:signMessage",ooe="solana:signTransaction";function Jbe(e){return s$ in e.features&&i$ in e.features&&(ioe in e.features||ooe in e.features)}const xy=new Map,m7=async()=>{const e=await zg(Jt.SOL);for(const t of e)if(!xy.get(t)){const n=new Kie(t);xy.set(t,n)}},aoe=async()=>(await m7(),Array.from(xy.values()));async function Qf(e){await m7();let t=null;for(const n of xy.values())try{return await e(n)}catch(r){t=r}throw t}const O5="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",P5="TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb",coe=async(e,t)=>{if(t.length===0)return[];const{chainId:n}=t[0];for(const r of t)r.chainId!==n&&console.warn("Requested tokens have to be on the same chain.");return Yf(n,t,e)},Yf=async(e,t,n)=>{const r=new Ye(n),s=new Ye(O5),i=new Ye(P5),[o,a,c,u]=await Promise.allSettled([cc(()=>Qf(p=>p.getSlot("confirmed")),{id:`${Yf.name}.getSlot`}),cc(()=>Qf(p=>p.getBalance(r,"confirmed")),{id:`${Yf.name}.getBalance`}),cc(()=>Qf(p=>p.getParsedTokenAccountsByOwner(r,{programId:s},"confirmed")),{id:`${Yf.name}.getParsedTokenAccountsByOwner.${O5}`}),cc(()=>Qf(p=>p.getParsedTokenAccountsByOwner(r,{programId:i},"confirmed")),{id:`${Yf.name}.getParsedTokenAccountsByOwner.${P5}`})]),l=o.status==="fulfilled"?BigInt(o.value):0n,f=a.status==="fulfilled"?BigInt(a.value):0n,d=[...c.status==="fulfilled"?c.value.value:[],...u.status==="fulfilled"?u.value.value:[]].reduce((p,m)=>{const y=BigInt(m.account.data.parsed.info.tokenAmount.amount);return y>0n&&(p[m.account.data.parsed.info.mint]=y),p},{});return d[oee]=f,t.map(p=>d[p.address]?{...p,amount:d[p.address],blockNumber:l}:{...p,blockNumber:l})},uoe=async e=>{try{if(!e.endsWith(".sol"))return;const t=`https://sns-sdk-proxy.bonfida.workers.dev/resolve/${e}`,n=await fetch(t);if(!n.ok)return;const r=await n.json();return h7(r.result)?r.result:void 0}catch{return}};async function loe(e){return await uoe(e)}function doe(e){const t=atob(e),n=t.length,r=new Uint8Array(n);for(let s=0;s<n;s++)r[s]=t.charCodeAt(s);return r}const foe=async(e,t,n)=>{if(e instanceof ur)return e.step=e.step??t,e.process=e.process??n,e;const r=hoe(e);return new ur(r,t,n)},hoe=e=>{var t;return e.name==="WalletSignTransactionError"?new ct($e.SignatureRejected,e.message,e):e.name==="SendTransactionError"?new ct($e.TransactionFailed,e.message,e):e.name==="TransactionExpiredBlockheightExceededError"?new ct($e.TransactionExpired,e.message,e):(t=e.message)!=null&&t.includes("simulate")?new ct($e.TransactionSimulationFailed,e.message,e):e instanceof Os?e:new Hg(e.message||ia.UnknownError,e)};async function poe(e){const t=await aoe(),n=e.serialize(),r=ih.encode(e.signatures[0]);if(!r)throw new Error("Transaction signature is missing.");const s={skipPreflight:!0,maxRetries:0,preflightCommitment:"confirmed"},i=new AbortController,o=t.map(async c=>{try{try{await c.sendRawTransaction(n,s)}catch{}const[u,l]=await Promise.all([c.getLatestBlockhash("confirmed"),c.getBlockHeight("confirmed")]);let f=l,d=null;const h=(async()=>{for(;f<u.lastValidBlockHeight&&!i.signal.aborted;){const b=(await c.getSignatureStatuses([r])).value[0];if(b&&(b.confirmationStatus==="confirmed"||b.confirmationStatus==="finalized"))return d=b,i.abort(),b;await Ru(400)}return null})(),p=(async()=>{for(;f<u.lastValidBlockHeight&&!i.signal.aborted&&!d;){try{await c.sendRawTransaction(n,s)}catch{}await Ru(1e3),i.signal.aborted||(f=await c.getBlockHeight("confirmed"))}return null})();return await Promise.race([h,p])}catch(u){if(i.signal.aborted)return null;throw u}}),a=await Promise.any(o).catch(()=>null);return i.signal.aborted||i.abort(),{signatureResult:a,txSignature:r}}class moe extends Wg{constructor(n){super(n);pe(this,"walletAdapter");pe(this,"checkWalletAdapter",n=>{if(this.walletAdapter.publicKey.toString()!==n.action.fromAddress)throw new ct($e.WalletChangedDuringExecution,"The wallet address that requested the quote does not match the wallet address attempting to sign the transaction.")});pe(this,"executeStep",async n=>{var c,u;n.execution=this.statusManager.initExecutionObject(n);const r=await xt.getChainById(n.action.fromChainId),s=await xt.getChainById(n.action.toChainId),i=r.id!==s.id,o=i?"CROSS_CHAIN":"SWAP";let a=this.statusManager.findOrCreateProcess({step:n,type:o,chainId:r.id});if(a.status!=="DONE")try{if(a=this.statusManager.updateProcess(n,a.type,"STARTED"),await $p(this.walletAdapter.publicKey.toString(),n),!n.transactionRequest){const{execution:m,...y}=n,b=await qg(y),I=await Gg(this.statusManager,n,b,this.allowUserInteraction,this.executionOptions);Object.assign(n,{...I,execution:n.execution})}if(!((c=n.transactionRequest)!=null&&c.data))throw new ct($e.TransactionUnprepared,"Unable to prepare transaction.");if(a=this.statusManager.updateProcess(n,a.type,"ACTION_REQUIRED"),!this.allowUserInteraction)return n;let l={data:n.transactionRequest.data};if((u=this.executionOptions)!=null&&u.updateTransactionRequestHook){const m=await this.executionOptions.updateTransactionRequestHook({requestType:"transaction",...l});l={...l,...m}}if(!l.data)throw new ct($e.TransactionUnprepared,"Unable to prepare transaction.");const f=iA.deserialize(doe(l.data));this.checkWalletAdapter(n);const d=await tl(()=>this.walletAdapter.signTransaction(f),{timeout:12e4,errorInstance:new ct($e.TransactionExpired,"Transaction has expired: blockhash is no longer recent enough.")});if(a=this.statusManager.updateProcess(n,a.type,"PENDING"),(await Qf(m=>m.simulateTransaction(d,{commitment:"confirmed",replaceRecentBlockhash:!0}))).value.err)throw new ct($e.TransactionSimulationFailed,"Transaction simulation failed");const p=await poe(d);if(!p.signatureResult)throw new ct($e.TransactionExpired,"Transaction has expired: The block height has exceeded the maximum allowed limit.");if(p.signatureResult.err){const m=typeof p.signatureResult.err=="object"?JSON.stringify(p.signatureResult.err):p.signatureResult.err;throw new ct($e.TransactionFailed,`Transaction failed: ${m}`)}a=this.statusManager.updateProcess(n,a.type,"PENDING",{txHash:p.txSignature,txLink:`${r.metamask.blockExplorerUrls[0]}tx/${p.txSignature}`}),i&&(a=this.statusManager.updateProcess(n,a.type,"DONE"))}catch(l){const f=await foe(l,n,a);throw a=this.statusManager.updateProcess(n,a.type,"FAILED",{error:{message:f.cause.message,code:f.code}}),this.statusManager.updateExecution(n,"FAILED"),f}return await Mh(n,a,r,s,this.statusManager),n});this.walletAdapter=n.walletAdapter}}function eve(e){const t={};return{get type(){return cn.SVM},isAddress:h7,resolveAddress:loe,getBalance:coe,async getStepExecutor(n){if(!t.getWalletAdapter)throw new Error("getWalletAdapter is not provided.");const r=await t.getWalletAdapter();return new moe({walletAdapter:r,routeId:n.routeId,executionOptions:{...n.executionOptions}})},setOptions(n){Object.assign(t,n)}}}const O2=new Map,yoe=async()=>{const e=await zg(Jt.SUI);for(const t of e)if(!O2.get(t)){const n=new Q_({url:t});O2.set(t,n)}};async function P2(e){await yoe();let t=null;for(const n of O2.values())try{return await e(n)}catch(r){t=r}throw t}const goe="0x2::sui::SUI",woe="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI";async function boe(e,t){if(t.length===0)return[];const{chainId:n}=t[0];for(const r of t)r.chainId!==n&&console.warn("Requested tokens have to be on the same chain.");return j2(n,t,e)}const j2=async(e,t,n)=>{const[r,s]=await Promise.allSettled([cc(()=>P2(l=>l.getAllBalances({owner:n})),{id:`${j2.name}.getAllBalances`}),cc(()=>P2(l=>l.getLatestCheckpointSequenceNumber()),{id:`${j2.name}.getLatestCheckpointSequenceNumber`})]),i=r.status==="fulfilled"?r.value:[],o=s.status==="fulfilled"?BigInt(s.value):0n,a=i.reduce((l,f)=>{const d=BigInt(f.totalBalance);return d>0n&&(l[f.coinType]=d),l},{}),c=i.find(l=>l.coinType===goe);return c!=null&&c.totalBalance&&(a[woe]=BigInt(c.totalBalance)),t.map(l=>a[l.address]?{...l,amount:a[l.address],blockNumber:o}:{...l,blockNumber:o})},voe="0x6e0ddefc0ad3ed64f53f5f91b7023077b2f7c131d7e6d5e0d1a0e4e6f1a2c3b4";async function Eoe(e,t){var r;const n=new Q_({url:"https://fullnode.mainnet.sui.io:443"});try{const s=await n.getObject({id:voe,options:{showContent:!0}});if(!((r=s.data)!=null&&r.content))return;const o=s.data.content.fields.records.find(a=>a.fields.name===e);return o?o.fields.address:void 0}catch(s){console.error("Error resolving SuiNS address:",s);return}}async function xoe(e){return await Eoe(e)}async function Aoe(e,t){if(e.features["sui:signAndExecuteTransaction"])return e.features["sui:signAndExecuteTransaction"].signAndExecuteTransaction(t);if(!e.features["sui:signAndExecuteTransactionBlock"])throw new Error(`Provided wallet (${e.name}) does not support the signAndExecuteTransaction feature.`);const{signAndExecuteTransactionBlock:n}=e.features["sui:signAndExecuteTransactionBlock"],r=y_.from(await t.transaction.toJSON()),{digest:s,rawEffects:i,rawTransaction:o}=await n({account:t.account,chain:t.chain,transactionBlock:r,options:{showRawEffects:!0,showRawInput:!0}}),[{txSignatures:[a],intentMessage:{value:c}}]=at.SenderSignedData.parse(ar(o)),u=at.TransactionData.serialize(c).toBase64();return{digest:s,signature:a,bytes:u,effects:Hn(new Uint8Array(i))}}const Ioe=async(e,t,n)=>{if(e instanceof ur)return e.step=e.step??t,e.process=e.process??n,e;const r=Soe(e);return new ur(r,t,n)},Soe=e=>{var n,r,s,i,o,a;return(typeof e=="string"?e.toLowerCase().includes("reject"):(n=e.message)==null?void 0:n.toLowerCase().includes("reject"))?new ct($e.SignatureRejected,e.message,e):(r=e.message)!=null&&r.toLowerCase().includes("transaction")&&((s=e.message)!=null&&s.toLowerCase().includes("failed")||(i=e.message)!=null&&i.toLowerCase().includes("error"))?new ct($e.TransactionFailed,e.message,e):(o=e.message)!=null&&o.includes("simulate")||(a=e.message)!=null&&a.includes("simulation")?new ct($e.TransactionSimulationFailed,e.message,e):e instanceof Os?e:new Hg(e.message||ia.UnknownError,e)};class koe extends Wg{constructor(n){super(n);pe(this,"wallet");pe(this,"checkWallet",n=>{var r,s;if(!((s=(r=this.wallet.accounts)==null?void 0:r.some)!=null&&s.call(r,i=>i.address===n.action.fromAddress)))throw new ct($e.WalletChangedDuringExecution,"The wallet address that requested the quote does not match the wallet address attempting to sign the transaction.")});pe(this,"executeStep",async n=>{var c,u,l,f;n.execution=this.statusManager.initExecutionObject(n);const r=await xt.getChainById(n.action.fromChainId),s=await xt.getChainById(n.action.toChainId),i=r.id!==s.id,o=i?"CROSS_CHAIN":"SWAP";let a=this.statusManager.findOrCreateProcess({step:n,type:o,chainId:r.id});if(a.status!=="DONE")try{if(a=this.statusManager.updateProcess(n,a.type,"STARTED"),await $p(n.action.fromAddress,n),!n.transactionRequest){const{execution:y,...b}=n,I=await qg(b),v=await Gg(this.statusManager,n,I,this.allowUserInteraction,this.executionOptions);Object.assign(n,{...v,execution:n.execution})}if(!((c=n.transactionRequest)!=null&&c.data))throw new ct($e.TransactionUnprepared,"Unable to prepare transaction.");if(a=this.statusManager.updateProcess(n,a.type,"ACTION_REQUIRED"),!this.allowUserInteraction)return n;let d={data:n.transactionRequest.data};if((u=this.executionOptions)!=null&&u.updateTransactionRequestHook){const y=await this.executionOptions.updateTransactionRequestHook({requestType:"transaction",...d});d={...d,...y}}const h=d.data;if(!h)throw new ct($e.TransactionUnprepared,"Unable to prepare transaction.");this.checkWallet(n);const p=await Aoe(this.wallet,{account:this.wallet.accounts.find(y=>y.address===n.action.fromAddress),chain:"sui:mainnet",transaction:{toJSON:async()=>h}});a=this.statusManager.updateProcess(n,a.type,"PENDING");const m=await P2(y=>y.waitForTransaction({digest:p.digest,options:{showEffects:!0}}));if(((l=m.effects)==null?void 0:l.status.status)!=="success")throw new ct($e.TransactionFailed,`Transaction failed: ${(f=m.effects)==null?void 0:f.status.error}`);a=this.statusManager.updateProcess(n,a.type,"PENDING",{txHash:m.digest,txLink:`${r.metamask.blockExplorerUrls[0]}txblock/${m.digest}`}),i&&(a=this.statusManager.updateProcess(n,a.type,"DONE"))}catch(d){const h=await Ioe(d,n,a);throw a=this.statusManager.updateProcess(n,a.type,"FAILED",{error:{message:h.cause.message,code:h.code}}),this.statusManager.updateExecution(n,"FAILED"),h}return await Mh(n,a,r,s,this.statusManager),n});this.wallet=n.wallet}}function tve(e){const t={};return{get type(){return cn.MVM},isAddress:di,resolveAddress:xoe,getBalance:boe,async getStepExecutor(n){if(!t.getWallet)throw new Error("getWallet is not provided.");const r=await t.getWallet();return new koe({wallet:r,routeId:n.routeId,executionOptions:{...n.executionOptions}})},setOptions(n){Object.assign(t,n)}}}async function Coe(e,t){return await e.request({method:"getBalance",params:t},{dedupe:!0})}const Ys={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128};function Toe(e){if(e.length<8||e.length>72||e[0]!==48||e[1]!==e.length-2||e[2]!==2)return!1;const t=e[3];if(t===0||5+t>=e.length||e[4+t]!==2)return!1;const n=e[5+t];return!(n===0||6+t+n!==e.length||e[4]&128||t>1&&e[4]===0&&!(e[5]&128)||e[t+6]&128||n>1&&e[t+6]===0&&!(e[t+7]&128))}function _oe(e){if(e.length<8)throw new Error("DER sequence length is too short");if(e.length>72)throw new Error("DER sequence length is too long");if(e[0]!==48)throw new Error("Expected DER sequence");if(e[1]!==e.length-2)throw new Error("DER sequence length is invalid");if(e[2]!==2)throw new Error("Expected DER integer");const t=e[3];if(t===0)throw new Error("R length is zero");if(5+t>=e.length)throw new Error("R length is too long");if(e[4+t]!==2)throw new Error("Expected DER integer (2)");const n=e[5+t];if(n===0)throw new Error("S length is zero");if(6+t+n!==e.length)throw new Error("S length is invalid");if(e[4]&128)throw new Error("R value is negative");if(t>1&&e[4]===0&&!(e[5]&128))throw new Error("R value excessively padded");if(e[t+6]&128)throw new Error("S value is negative");if(n>1&&e[t+6]===0&&!(e[t+7]&128))throw new Error("S value excessively padded");return{r:e.slice(4,4+t),s:e.slice(6+t)}}function Moe(e,t){const n=e.length,r=t.length;if(n===0)throw new Error("R length is zero");if(r===0)throw new Error("S length is zero");if(n>33)throw new Error("R length is too long");if(r>33)throw new Error("S length is too long");if(e[0]&128)throw new Error("R value is negative");if(t[0]&128)throw new Error("S value is negative");if(n>1&&e[0]===0&&!(e[1]&128))throw new Error("R value excessively padded");if(r>1&&t[0]===0&&!(t[1]&128))throw new Error("S value excessively padded");const s=new Uint8Array(6+n+r);return s[0]=48,s[1]=s.length-2,s[2]=2,s[3]=e.length,s.set(e,4),s[4+n]=2,s[5+n]=t.length,s.set(t,6+n),s}var Ot;(function(e){e[e.OP_FALSE=0]="OP_FALSE",e[e.OP_0=0]="OP_0",e[e.OP_PUSHDATA1=76]="OP_PUSHDATA1",e[e.OP_PUSHDATA2=77]="OP_PUSHDATA2",e[e.OP_PUSHDATA4=78]="OP_PUSHDATA4",e[e.OP_1NEGATE=79]="OP_1NEGATE",e[e.OP_RESERVED=80]="OP_RESERVED",e[e.OP_TRUE=81]="OP_TRUE",e[e.OP_1=81]="OP_1",e[e.OP_2=82]="OP_2",e[e.OP_3=83]="OP_3",e[e.OP_4=84]="OP_4",e[e.OP_5=85]="OP_5",e[e.OP_6=86]="OP_6",e[e.OP_7=87]="OP_7",e[e.OP_8=88]="OP_8",e[e.OP_9=89]="OP_9",e[e.OP_10=90]="OP_10",e[e.OP_11=91]="OP_11",e[e.OP_12=92]="OP_12",e[e.OP_13=93]="OP_13",e[e.OP_14=94]="OP_14",e[e.OP_15=95]="OP_15",e[e.OP_16=96]="OP_16",e[e.OP_NOP=97]="OP_NOP",e[e.OP_VER=98]="OP_VER",e[e.OP_IF=99]="OP_IF",e[e.OP_NOTIF=100]="OP_NOTIF",e[e.OP_VERIF=101]="OP_VERIF",e[e.OP_VERNOTIF=102]="OP_VERNOTIF",e[e.OP_ELSE=103]="OP_ELSE",e[e.OP_ENDIF=104]="OP_ENDIF",e[e.OP_VERIFY=105]="OP_VERIFY",e[e.OP_RETURN=106]="OP_RETURN",e[e.OP_TOALTSTACK=107]="OP_TOALTSTACK",e[e.OP_FROMALTSTACK=108]="OP_FROMALTSTACK",e[e.OP_2DROP=109]="OP_2DROP",e[e.OP_2DUP=110]="OP_2DUP",e[e.OP_3DUP=111]="OP_3DUP",e[e.OP_2OVER=112]="OP_2OVER",e[e.OP_2ROT=113]="OP_2ROT",e[e.OP_2SWAP=114]="OP_2SWAP",e[e.OP_IFDUP=115]="OP_IFDUP",e[e.OP_DEPTH=116]="OP_DEPTH",e[e.OP_DROP=117]="OP_DROP",e[e.OP_DUP=118]="OP_DUP",e[e.OP_NIP=119]="OP_NIP",e[e.OP_OVER=120]="OP_OVER",e[e.OP_PICK=121]="OP_PICK",e[e.OP_ROLL=122]="OP_ROLL",e[e.OP_ROT=123]="OP_ROT",e[e.OP_SWAP=124]="OP_SWAP",e[e.OP_TUCK=125]="OP_TUCK",e[e.OP_CAT=126]="OP_CAT",e[e.OP_SUBSTR=127]="OP_SUBSTR",e[e.OP_LEFT=128]="OP_LEFT",e[e.OP_RIGHT=129]="OP_RIGHT",e[e.OP_SIZE=130]="OP_SIZE",e[e.OP_INVERT=131]="OP_INVERT",e[e.OP_AND=132]="OP_AND",e[e.OP_OR=133]="OP_OR",e[e.OP_XOR=134]="OP_XOR",e[e.OP_EQUAL=135]="OP_EQUAL",e[e.OP_EQUALVERIFY=136]="OP_EQUALVERIFY",e[e.OP_RESERVED1=137]="OP_RESERVED1",e[e.OP_RESERVED2=138]="OP_RESERVED2",e[e.OP_1ADD=139]="OP_1ADD",e[e.OP_1SUB=140]="OP_1SUB",e[e.OP_2MUL=141]="OP_2MUL",e[e.OP_2DIV=142]="OP_2DIV",e[e.OP_NEGATE=143]="OP_NEGATE",e[e.OP_ABS=144]="OP_ABS",e[e.OP_NOT=145]="OP_NOT",e[e.OP_0NOTEQUAL=146]="OP_0NOTEQUAL",e[e.OP_ADD=147]="OP_ADD",e[e.OP_SUB=148]="OP_SUB",e[e.OP_MUL=149]="OP_MUL",e[e.OP_DIV=150]="OP_DIV",e[e.OP_MOD=151]="OP_MOD",e[e.OP_LSHIFT=152]="OP_LSHIFT",e[e.OP_RSHIFT=153]="OP_RSHIFT",e[e.OP_BOOLAND=154]="OP_BOOLAND",e[e.OP_BOOLOR=155]="OP_BOOLOR",e[e.OP_NUMEQUAL=156]="OP_NUMEQUAL",e[e.OP_NUMEQUALVERIFY=157]="OP_NUMEQUALVERIFY",e[e.OP_NUMNOTEQUAL=158]="OP_NUMNOTEQUAL",e[e.OP_LESSTHAN=159]="OP_LESSTHAN",e[e.OP_GREATERTHAN=160]="OP_GREATERTHAN",e[e.OP_LESSTHANOREQUAL=161]="OP_LESSTHANOREQUAL",e[e.OP_GREATERTHANOREQUAL=162]="OP_GREATERTHANOREQUAL",e[e.OP_MIN=163]="OP_MIN",e[e.OP_MAX=164]="OP_MAX",e[e.OP_WITHIN=165]="OP_WITHIN",e[e.OP_RIPEMD160=166]="OP_RIPEMD160",e[e.OP_SHA1=167]="OP_SHA1",e[e.OP_SHA256=168]="OP_SHA256",e[e.OP_HASH160=169]="OP_HASH160",e[e.OP_HASH256=170]="OP_HASH256",e[e.OP_CODESEPARATOR=171]="OP_CODESEPARATOR",e[e.OP_CHECKSIG=172]="OP_CHECKSIG",e[e.OP_CHECKSIGVERIFY=173]="OP_CHECKSIGVERIFY",e[e.OP_CHECKMULTISIG=174]="OP_CHECKMULTISIG",e[e.OP_CHECKMULTISIGVERIFY=175]="OP_CHECKMULTISIGVERIFY",e[e.OP_NOP1=176]="OP_NOP1",e[e.OP_CHECKLOCKTIMEVERIFY=177]="OP_CHECKLOCKTIMEVERIFY",e[e.OP_NOP2=177]="OP_NOP2",e[e.OP_CHECKSEQUENCEVERIFY=178]="OP_CHECKSEQUENCEVERIFY",e[e.OP_NOP3=178]="OP_NOP3",e[e.OP_NOP4=179]="OP_NOP4",e[e.OP_NOP5=180]="OP_NOP5",e[e.OP_NOP6=181]="OP_NOP6",e[e.OP_NOP7=182]="OP_NOP7",e[e.OP_NOP8=183]="OP_NOP8",e[e.OP_NOP9=184]="OP_NOP9",e[e.OP_NOP10=185]="OP_NOP10",e[e.OP_CHECKSIGADD=186]="OP_CHECKSIGADD",e[e.OP_PUBKEYHASH=253]="OP_PUBKEYHASH",e[e.OP_PUBKEY=254]="OP_PUBKEY",e[e.OP_INVALIDOPCODE=255]="OP_INVALIDOPCODE"})(Ot||(Ot={}));const Ay="0123456789abcdefABCDEF",Iy=Ay.split("").map(e=>e.codePointAt(0)),Sy=Array(256).fill(!0).map((e,t)=>{const n=String.fromCodePoint(t),r=Ay.indexOf(n);return r<0?void 0:r<16?r:r-6}),y7=new TextEncoder,g7=new TextDecoder;function Boe(e){return g7.decode(e)}function Noe(e){return y7.encode(e)}function Qt(e){const t=e.reduce((s,i)=>s+i.length,0),n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function tt(e){const t=e||new Uint8Array;return t.length>512?Poe(t):Ooe(t)}function Ooe(e){let t="";for(let n=0;n<e.length;++n)t+=Ay[Sy[Iy[e[n]>>4]]],t+=Ay[Sy[Iy[e[n]&15]]];return t}function Poe(e){const t=new Uint8Array(e.length*2);for(let n=0;n<e.length;++n)t[n*2]=Iy[e[n]>>4],t[n*2+1]=Iy[e[n]&15];return g7.decode(t)}function To(e){const t=y7.encode(e||""),n=new Uint8Array(Math.floor(t.length/2));let r;for(r=0;r<n.length;r++){const s=Sy[t[r*2]],i=Sy[t[r*2+1]];if(s===void 0||i===void 0)break;n[r]=s<<4|i}return r===n.length?n:n.slice(0,r)}function joe(e){return btoa(String.fromCharCode(...e))}function w7(e){const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}function Te(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;++r)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return e.length===t.length?0:e.length>t.length?1:-1}function Gs(e,t,n){if(t+1>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(n>255)throw new Error(`The value of "value" is out of range. It must be >= 0 and <= 255. Received ${n}`);return e[t]=n,t+1}function Roe(e,t,n,r){if(t+2>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(r=r.toUpperCase(),n>65535)throw new Error(`The value of "value" is out of range. It must be >= 0 and <= 65535. Received ${n}`);return r==="LE"?(e[t]=n&255,e[t+1]=n>>8&255):(e[t]=n>>8&255,e[t+1]=n&255),t+2}function qp(e,t,n,r){if(t+4>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(r=r.toUpperCase(),n>4294967295)throw new Error(`The value of "value" is out of range. It must be >= 0 and <= ${4294967295}. Received ${n}`);return r==="LE"?(e[t]=n&255,e[t+1]=n>>8&255,e[t+2]=n>>16&255,e[t+3]=n>>24&255):(e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=n&255),t+4}function Doe(e,t,n,r){if(t+8>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(r=r.toUpperCase(),n>0xffffffffffffffffn)throw new Error(`The value of "value" is out of range. It must be >= 0 and <= ${0xffffffffffffffffn}. Received ${n}`);return r==="LE"?(e[t]=Number(n&0xffn),e[t+1]=Number(n>>8n&0xffn),e[t+2]=Number(n>>16n&0xffn),e[t+3]=Number(n>>24n&0xffn),e[t+4]=Number(n>>32n&0xffn),e[t+5]=Number(n>>40n&0xffn),e[t+6]=Number(n>>48n&0xffn),e[t+7]=Number(n>>56n&0xffn)):(e[t]=Number(n>>56n&0xffn),e[t+1]=Number(n>>48n&0xffn),e[t+2]=Number(n>>40n&0xffn),e[t+3]=Number(n>>32n&0xffn),e[t+4]=Number(n>>24n&0xffn),e[t+5]=Number(n>>16n&0xffn),e[t+6]=Number(n>>8n&0xffn),e[t+7]=Number(n&0xffn)),t+8}function va(e,t){if(t+1>e.length)throw new Error("Offset is outside the bounds of Uint8Array");return e[t]}function Uoe(e,t,n){if(t+2>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(n=n.toUpperCase(),n==="LE"){let r=0;return r=(r<<8)+e[t+1],r=(r<<8)+e[t],r}else{let r=0;return r=(r<<8)+e[t],r=(r<<8)+e[t+1],r}}function pf(e,t,n){if(t+4>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(n=n.toUpperCase(),n==="LE"){let r=0;return r=(r<<8)+e[t+3]>>>0,r=(r<<8)+e[t+2]>>>0,r=(r<<8)+e[t+1]>>>0,r=(r<<8)+e[t]>>>0,r}else{let r=0;return r=(r<<8)+e[t]>>>0,r=(r<<8)+e[t+1]>>>0,r=(r<<8)+e[t+2]>>>0,r=(r<<8)+e[t+3]>>>0,r}}function b7(e,t,n,r){if(t+4>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(n>2147483647||n<-2147483648)throw new Error(`The value of "value" is out of range. It must be >= -2147483648 and <= 2147483647. Received ${n}`);return r=r.toUpperCase(),r==="LE"?(e[t]=n&255,e[t+1]=n>>8&255,e[t+2]=n>>16&255,e[t+3]=n>>24&255):(e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=n&255),t+4}function v7(e,t,n,r){if(t+8>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(n>0x7fffffffffffffffn||n<-0x8000000000000000n)throw new Error(`The value of "value" is out of range. It must be >= ${-0x8000000000000000n} and <= ${0x7fffffffffffffffn}. Received ${n}`);return r=r.toUpperCase(),r==="LE"?(e[t]=Number(n&0xffn),e[t+1]=Number(n>>8n&0xffn),e[t+2]=Number(n>>16n&0xffn),e[t+3]=Number(n>>24n&0xffn),e[t+4]=Number(n>>32n&0xffn),e[t+5]=Number(n>>40n&0xffn),e[t+6]=Number(n>>48n&0xffn),e[t+7]=Number(n>>56n&0xffn)):(e[t]=Number(n>>56n&0xffn),e[t+1]=Number(n>>48n&0xffn),e[t+2]=Number(n>>40n&0xffn),e[t+3]=Number(n>>32n&0xffn),e[t+4]=Number(n>>24n&0xffn),e[t+5]=Number(n>>16n&0xffn),e[t+6]=Number(n>>8n&0xffn),e[t+7]=Number(n&0xffn)),t+8}function Loe(e,t,n){if(t+4>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(n=n.toUpperCase(),n==="LE"){const r=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24>>>0);return e[t+3]<=127?r:r-4294967296}else{const r=(e[t]<<24>>>0)+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];return e[t]<=127?r:r-4294967296}}function E7(e,t,n){if(t+8>e.length)throw new Error("Offset is outside the bounds of Uint8Array");n=n.toUpperCase();let r=0n;if(n==="LE")return r=(r<<8n)+BigInt(e[t+7]),r=(r<<8n)+BigInt(e[t+6]),r=(r<<8n)+BigInt(e[t+5]),r=(r<<8n)+BigInt(e[t+4]),r=(r<<8n)+BigInt(e[t+3]),r=(r<<8n)+BigInt(e[t+2]),r=(r<<8n)+BigInt(e[t+1]),r=(r<<8n)+BigInt(e[t]),e[t+7]<=127?r:r-0x10000000000000000n;{let s=0n;return s=(s<<8n)+BigInt(e[t]),s=(s<<8n)+BigInt(e[t+1]),s=(s<<8n)+BigInt(e[t+2]),s=(s<<8n)+BigInt(e[t+3]),s=(s<<8n)+BigInt(e[t+4]),s=(s<<8n)+BigInt(e[t+5]),s=(s<<8n)+BigInt(e[t+6]),s=(s<<8n)+BigInt(e[t+7]),e[t]<=127?s:s-0x10000000000000000n}}function x7(e){return e<Ot.OP_PUSHDATA1?1:e<=255?2:e<=65535?3:5}function $oe(e,t,n){const r=x7(t);return r===1?Gs(e,n,t):r===2?(Gs(e,n,Ot.OP_PUSHDATA1),Gs(e,n+1,t)):r===3?(Gs(e,n,Ot.OP_PUSHDATA2),Roe(e,n+1,t,"LE")):(Gs(e,n,Ot.OP_PUSHDATA4),qp(e,n+1,t,"LE")),r}function zoe(e,t){const n=va(e,t);let r,s;if(n<Ot.OP_PUSHDATA1)r=n,s=1;else if(n===Ot.OP_PUSHDATA1){if(t+2>e.length)return null;r=va(e,t+1),s=2}else if(n===Ot.OP_PUSHDATA2){if(t+3>e.length)return null;r=Uoe(e,t+1,"LE"),s=3}else{if(t+5>e.length)return null;if(n!==Ot.OP_PUSHDATA4)throw new Error("Unexpected opcode");r=pf(e,t+1,"LE"),s=5}return{opcode:n,number:r,size:s}}function Foe(e){return e>2147483647?5:e>8388607?4:e>32767?3:e>127?2:e>0?1:0}function Hoe(e){let t=Math.abs(e);const n=Foe(t),r=new Uint8Array(n),s=e<0;for(let i=0;i<n;++i)Gs(r,i,t&255),t>>=8;return r[n-1]&128?Gs(r,n-1,s?128:0):s&&(r[n-1]|=128),r}var jo;function qoe(e){return{lang:(e==null?void 0:e.lang)??(jo==null?void 0:jo.lang),message:e==null?void 0:e.message,abortEarly:(e==null?void 0:e.abortEarly)??(jo==null?void 0:jo.abortEarly),abortPipeEarly:(e==null?void 0:e.abortPipeEarly)??(jo==null?void 0:jo.abortPipeEarly)}}var K1;function Woe(e){return K1==null?void 0:K1.get(e)}var Q1;function Goe(e){return Q1==null?void 0:Q1.get(e)}var Y1;function Voe(e,t){var n;return(n=Y1==null?void 0:Y1.get(e))==null?void 0:n.get(t)}function Lh(e){var n,r;const t=typeof e;return t==="string"?`"${e}"`:t==="number"||t==="bigint"||t==="boolean"?`${e}`:t==="object"||t==="function"?(e&&((r=(n=Object.getPrototypeOf(e))==null?void 0:n.constructor)==null?void 0:r.name))??"null":t}function Ar(e,t,n,r,s){const i=s&&"input"in s?s.input:n.value,o=(s==null?void 0:s.expected)??e.expects??null,a=(s==null?void 0:s.received)??Lh(i),c={kind:e.kind,type:e.type,input:i,expected:o,received:a,message:`Invalid ${t}: ${o?`Expected ${o} but r`:"R"}eceived ${a}`,requirement:e.requirement,path:s==null?void 0:s.path,issues:s==null?void 0:s.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},u=e.kind==="schema",l=(s==null?void 0:s.message)??e.message??Voe(e.reference,c.lang)??(u?Goe(c.lang):null)??r.message??Woe(c.lang);l&&(c.message=typeof l=="function"?l(c):l),u&&(n.typed=!1),n.issues?n.issues.push(c):n.issues=[c]}function Koe(e,t){const n=[...new Set(e)];return n.length>1?`(${n.join(` ${t} `)})`:n[0]??"never"}var Qoe=class extends Error{constructor(t){super(t[0].message);pe(this,"issues");this.name="ValiError",this.issues=t}};function A7(e,t){return{kind:"validation",type:"every_item",reference:A7,async:!1,expects:null,requirement:e,message:t,_run(n,r){return n.typed&&!n.value.every(this.requirement)&&Ar(this,"item",n,r),n}}}function lA(e){return{kind:"validation",type:"integer",reference:lA,async:!1,expects:null,requirement:Number.isInteger,message:e,_run(t,n){return t.typed&&!this.requirement(t.value)&&Ar(this,"integer",t,n),t}}}function I7(e,t){return{kind:"validation",type:"length",reference:I7,async:!1,expects:`${e}`,requirement:e,message:t,_run(n,r){return n.typed&&n.value.length!==this.requirement&&Ar(this,"length",n,r,{received:`${n.value.length}`}),n}}}function sw(e,t){return{kind:"validation",type:"max_value",reference:sw,async:!1,expects:`<=${e instanceof Date?e.toJSON():Lh(e)}`,requirement:e,message:t,_run(n,r){return n.typed&&n.value>this.requirement&&Ar(this,"value",n,r,{received:n.value instanceof Date?n.value.toJSON():Lh(n.value)}),n}}}function iw(e,t){return{kind:"validation",type:"min_value",reference:iw,async:!1,expects:`>=${e instanceof Date?e.toJSON():Lh(e)}`,requirement:e,message:t,_run(n,r){return n.typed&&n.value<this.requirement&&Ar(this,"value",n,r,{received:n.value instanceof Date?n.value.toJSON():Lh(n.value)}),n}}}function S7(e,t){return{kind:"validation",type:"regex",reference:S7,async:!1,expects:`${e}`,requirement:e,message:t,_run(n,r){return n.typed&&!this.requirement.test(n.value)&&Ar(this,"format",n,r),n}}}function dA(e,t,n){return typeof e.default=="function"?e.default(t,n):e.default}function ow(e,t){return!e._run({typed:!1,value:t},{abortEarly:!0}).issues}function k7(){return{kind:"schema",type:"any",reference:k7,expects:"any",async:!1,_run(e){return e.typed=!0,e}}}function ns(e,t){return{kind:"schema",type:"array",reference:ns,expects:"Array",async:!1,item:e,message:t,_run(n,r){var i;const s=n.value;if(Array.isArray(s)){n.typed=!0,n.value=[];for(let o=0;o<s.length;o++){const a=s[o],c=this.item._run({typed:!1,value:a},r);if(c.issues){const u={type:"array",origin:"value",input:s,key:o,value:a};for(const l of c.issues)l.path?l.path.unshift(u):l.path=[u],(i=n.issues)==null||i.push(l);if(n.issues||(n.issues=c.issues),r.abortEarly){n.typed=!1;break}}c.typed||(n.typed=!1),n.value.push(c.value)}}else Ar(this,"type",n,r);return n}}}function C7(e){return{kind:"schema",type:"bigint",reference:C7,expects:"bigint",async:!1,message:e,_run(t,n){return typeof t.value=="bigint"?t.typed=!0:Ar(this,"type",t,n),t}}}function Zi(e,t){return{kind:"schema",type:"custom",reference:Zi,expects:"unknown",async:!1,check:e,message:t,_run(n,r){return this.check(n.value)?n.typed=!0:Ar(this,"type",n,r),n}}}function T7(e){return{kind:"schema",type:"function",reference:T7,expects:"Function",async:!1,message:e,_run(t,n){return typeof t.value=="function"?t.typed=!0:Ar(this,"type",t,n),t}}}function aw(e,t){return{kind:"schema",type:"instance",reference:aw,expects:e.name,async:!1,class:e,message:t,_run(n,r){return n.value instanceof this.class?n.typed=!0:Ar(this,"type",n,r),n}}}function R2(e,...t){const n={kind:"schema",type:"nullable",reference:R2,expects:`(${e.expects} | null)`,async:!1,wrapped:e,_run(r,s){return r.value===null&&("default"in this&&(r.value=dA(this,r,s)),r.value===null)?(r.typed=!0,r):this.wrapped._run(r,s)}};return 0 in t&&(n.default=t[0]),n}function _7(e,...t){const n={kind:"schema",type:"nullish",reference:_7,expects:`(${e.expects} | null | undefined)`,async:!1,wrapped:e,_run(r,s){return(r.value===null||r.value===void 0)&&("default"in this&&(r.value=dA(this,r,s)),r.value===null||r.value===void 0)?(r.typed=!0,r):this.wrapped._run(r,s)}};return 0 in t&&(n.default=t[0]),n}function xs(e){return{kind:"schema",type:"number",reference:xs,expects:"number",async:!1,message:e,_run(t,n){return typeof t.value=="number"&&!isNaN(t.value)?t.typed=!0:Ar(this,"type",t,n),t}}}function Sn(e,t){return{kind:"schema",type:"object",reference:Sn,expects:"Object",async:!1,entries:e,message:t,_run(n,r){var i;const s=n.value;if(s&&typeof s=="object"){n.typed=!0,n.value={};for(const o in this.entries){const a=s[o],c=this.entries[o]._run({typed:!1,value:a},r);if(c.issues){const u={type:"object",origin:"value",input:s,key:o,value:a};for(const l of c.issues)l.path?l.path.unshift(u):l.path=[u],(i=n.issues)==null||i.push(l);if(n.issues||(n.issues=c.issues),r.abortEarly){n.typed=!1;break}}c.typed||(n.typed=!1),(c.value!==void 0||o in s)&&(n.value[o]=c.value)}}else Ar(this,"type",n,r);return n}}}function ky(e,...t){const n={kind:"schema",type:"optional",reference:ky,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,_run(r,s){return r.value===void 0&&("default"in this&&(r.value=dA(this,r,s)),r.value===void 0)?(r.typed=!0,r):this.wrapped._run(r,s)}};return 0 in t&&(n.default=t[0]),n}function ol(e){return{kind:"schema",type:"string",reference:ol,expects:"string",async:!1,message:e,_run(t,n){return typeof t.value=="string"?t.typed=!0:Ar(this,"type",t,n),t}}}function co(e,t){return{kind:"schema",type:"tuple",reference:co,expects:"Array",async:!1,items:e,message:t,_run(n,r){var i;const s=n.value;if(Array.isArray(s)){n.typed=!0,n.value=[];for(let o=0;o<this.items.length;o++){const a=s[o],c=this.items[o]._run({typed:!1,value:a},r);if(c.issues){const u={type:"array",origin:"value",input:s,key:o,value:a};for(const l of c.issues)l.path?l.path.unshift(u):l.path=[u],(i=n.issues)==null||i.push(l);if(n.issues||(n.issues=c.issues),r.abortEarly){n.typed=!1;break}}c.typed||(n.typed=!1),n.value.push(c.value)}}else Ar(this,"type",n,r);return n}}}function j5(e){let t;if(e)for(const n of e)t?t.push(...n.issues):t=n.issues;return t}function fA(e,t){return{kind:"schema",type:"union",reference:fA,expects:Koe(e.map(n=>n.expects),"|"),async:!1,options:e,message:t,_run(n,r){let s,i,o;for(const a of this.options){const c=a._run({typed:!1,value:n.value},r);if(c.typed)if(c.issues)i?i.push(c):i=[c];else{s=c;break}else o?o.push(c):o=[c]}if(s)return s;if(i){if(i.length===1)return i[0];Ar(this,"type",n,r,{issues:j5(i)}),n.typed=!0}else{if((o==null?void 0:o.length)===1)return o[0];Ar(this,"type",n,r,{issues:j5(o)})}return n}}}function en(e,t,n){const r=e._run({typed:!1,value:t},qoe(n));if(r.issues)throw new Qoe(r.issues);return r.value}function Ac(e,t){const n={};for(const r in e.entries)n[r]=ky(e.entries[r]);return{...e,entries:n}}function mf(...e){return{...e[0],pipe:e,_run(t,n){for(const r of e)if(r.kind!=="metadata"){if(t.issues&&(r.kind==="schema"||r.kind==="transformation")){t.typed=!1;break}(!t.issues||!n.abortEarly&&!n.abortPipeEarly)&&(t=r._run(t,n))}return t}}}const R5=new Uint8Array(32),D5=To("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Kn=e=>mf(aw(Uint8Array),I7(e));function $h(e,t){return e.length!==t.length?!1:e.every((n,r)=>Te(n,t[r])===0)}function Gi(e){if(!(e instanceof Uint8Array)||e.length<33)return!1;const t=e[0],n=e.slice(1,33);if(Te(R5,n)===0||Te(n,D5)>=0)return!1;if((t===2||t===3)&&e.length===33)return!0;const r=e.slice(33);return Te(R5,r)===0||Te(r,D5)>=0?!1:t===4&&e.length===65}const gm=254;function hA(e){return!e||!("output"in e)||!(e.output instanceof Uint8Array)?!1:e.version!==void 0?(e.version&gm)===e.version:!0}function M7(e){return Array.isArray(e)?e.length!==2?!1:e.every(t=>M7(t)):hA(e)}const Yoe=Kn(32),Zoe=Kn(20),U5=Kn(32),Nt=aw(Uint8Array);mf(ol(),S7(/^([0-9a-f]{2})+$/i));const Xoe=mf(xs(),lA(),iw(0),sw(255)),Uo=mf(xs(),lA(),iw(0),sw(4294967295)),Z1=mf(C7(),iw(0n),sw(0x7fffffffffffffffn)),L5=e=>Sn(Object.entries(e).reduce((t,n)=>({...t,[n[0]]:_7(n[1])}),{})),$5=new Uint8Array(1);function z5(e){let t=0;for(;e[t]===0;)++t;return t===e.length?$5:(e=e.slice(t),e[0]&128?Qt([$5,e]):e)}function F5(e){e[0]===0&&(e=e.slice(1));const t=new Uint8Array(32),n=Math.max(0,32-e.length);return t.set(e,n),t}function Joe(e){const t=va(e,e.length-1);if(!mA(t))throw new Error("Invalid hashType "+t);const n=_oe(e.subarray(0,-1)),r=F5(n.r),s=F5(n.s);return{signature:Qt([r,s]),hashType:t}}function eae(e,t){if(en(Sn({signature:Kn(64),hashType:Xoe}),{signature:e,hashType:t}),!mA(t))throw new Error("Invalid hashType "+t);const n=new Uint8Array(1);Gs(n,0,t);const r=z5(e.slice(0,32)),s=z5(e.slice(32,64));return Qt([Moe(r,s),n])}const tae=Object.freeze(Object.defineProperty({__proto__:null,decode:Joe,encode:eae},Symbol.toStringTag,{value:"Module"})),B7=Ot.OP_RESERVED,N7=ns(fA([aw(Uint8Array),xs()]));function nae(e){return ow(xs(),e)&&(e===Ot.OP_0||e>=Ot.OP_1&&e<=Ot.OP_16||e===Ot.OP_1NEGATE)}function O7(e){return ow(Nt,e)||nae(e)}function pA(e){return ow(mf(k7(),A7(O7)),e)}function P7(e){return e.length-e.filter(O7).length}function Cy(e){if(e.length===0)return Ot.OP_0;if(e.length===1){if(e[0]>=1&&e[0]<=16)return B7+e[0];if(e[0]===129)return Ot.OP_1NEGATE}}function j7(e){return e instanceof Uint8Array}function rae(e){return ow(N7,e)}function Ty(e){return e instanceof Uint8Array}function Ss(e){if(j7(e))return e;en(N7,e);const t=e.reduce((s,i)=>Ty(i)?i.length===1&&Cy(i)!==void 0?s+1:s+x7(i.length)+i.length:s+1,0),n=new Uint8Array(t);let r=0;if(e.forEach(s=>{if(Ty(s)){const i=Cy(s);if(i!==void 0){Gs(n,r,i),r+=1;return}r+=$oe(n,s.length,r),n.set(s,r),r+=s.length}else Gs(n,r,s),r+=1}),r!==n.length)throw new Error("Could not decode chunks");return n}function gn(e){if(rae(e))return e;en(Nt,e);const t=[];let n=0;for(;n<e.length;){const r=e[n];if(r>Ot.OP_0&&r<=Ot.OP_PUSHDATA4){const s=zoe(e,n);if(s===null||(n+=s.size,n+s.number>e.length))return null;const i=e.slice(n,n+s.number);n+=s.number;const o=Cy(i);o!==void 0?t.push(o):t.push(i)}else t.push(r),n+=1}return t}function sae(e){if(j7(e)&&(e=gn(e)),!e)throw new Error("Could not convert invalid chunks to ASM");return e.map(t=>{if(Ty(t)){const n=Cy(t);if(n===void 0)return tt(t);t=n}return Ot[t]}).join(" ")}function iae(e){return e=gn(e),en(Zi(pA),e),e.map(t=>Ty(t)?t:t===Ot.OP_0?new Uint8Array(0):Hoe(t-B7))}function oae(e){return Gi(e)}function mA(e){const t=e&-129;return t>0&&t<4}function Ea(e){return!(e instanceof Uint8Array)||!mA(e[e.length-1])?!1:Toe(e.slice(0,-1))}const ah=tae;function et(e,t,n){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){const r=n.call(this);return this[t]=r,r},set(r){Object.defineProperty(this,t,{configurable:!0,enumerable:!0,value:r,writable:!0})}})}function wi(e){let t;return()=>(t!==void 0||(t=e()),t)}const Ml=Ot,M0=Ml.OP_RESERVED;function cw(e,t){if(!e.input&&!e.output&&!(e.pubkeys&&e.m!==void 0)&&!e.signatures)throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{});function n(c){return Ea(c)||(t.allowIncomplete&&c===Ml.OP_0)!==void 0}en(Ac(Sn({network:Sn({}),m:xs(),n:xs(),output:Nt,pubkeys:ns(Zi(Gi),"Received invalid pubkey"),signatures:ns(Zi(n),"Expected signature to be of type isAcceptableSignature"),input:Nt})),e);const s={network:e.network||Ys};let i=[],o=!1;function a(c){o||(o=!0,i=gn(c),s.m=i[0]-M0,s.n=i[i.length-2]-M0,s.pubkeys=i.slice(1,-2))}if(et(s,"output",()=>{if(e.m&&s.n&&e.pubkeys)return Ss([].concat(M0+e.m,e.pubkeys,M0+s.n,Ml.OP_CHECKMULTISIG))}),et(s,"m",()=>{if(s.output)return a(s.output),s.m}),et(s,"n",()=>{if(s.pubkeys)return s.pubkeys.length}),et(s,"pubkeys",()=>{if(e.output)return a(e.output),s.pubkeys}),et(s,"signatures",()=>{if(e.input)return gn(e.input).slice(1)}),et(s,"input",()=>{if(e.signatures)return Ss([Ml.OP_0].concat(e.signatures))}),et(s,"witness",()=>{if(s.input)return[]}),et(s,"name",()=>{if(!(!s.m||!s.n))return`p2ms(${s.m} of ${s.n})`}),t.validate){if(e.output){if(a(e.output),en(xs(),i[0],{message:"Output is invalid"}),en(xs(),i[i.length-2],{message:"Output is invalid"}),i[i.length-1]!==Ml.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(s.m<=0||s.n>16||s.m>s.n||s.n!==i.length-3)throw new TypeError("Output is invalid");if(!s.pubkeys.every(c=>Gi(c)))throw new TypeError("Output is invalid");if(e.m!==void 0&&e.m!==s.m)throw new TypeError("m mismatch");if(e.n!==void 0&&e.n!==s.n)throw new TypeError("n mismatch");if(e.pubkeys&&!$h(e.pubkeys,s.pubkeys))throw new TypeError("Pubkeys mismatch")}if(e.pubkeys){if(e.n!==void 0&&e.n!==e.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(s.n=e.pubkeys.length,s.n<s.m)throw new TypeError("Pubkey count cannot be less than m")}if(e.signatures){if(e.signatures.length<s.m)throw new TypeError("Not enough signatures provided");if(e.signatures.length>s.m)throw new TypeError("Too many signatures provided")}if(e.input){if(e.input[0]!==Ml.OP_0)throw new TypeError("Input is invalid");if(s.signatures.length===0||!s.signatures.every(n))throw new TypeError("Input has invalid signature(s)");if(e.signatures&&!$h(e.signatures,s.signatures))throw new TypeError("Signature mismatch");if(e.m!==void 0&&e.m!==e.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(s,e)}const H5=Ot;function R7(e,t){if(!e.input&&!e.output&&!e.pubkey&&!e.input&&!e.signature)throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),en(Ac(Sn({network:Sn({}),output:Nt,pubkey:Zi(Gi,"invalid pubkey"),signature:Zi(Ea,"Expected signature to be of type isCanonicalScriptSignature"),input:Nt})),e);const n=wi(()=>gn(e.input)),s={name:"p2pk",network:e.network||Ys};if(et(s,"output",()=>{if(e.pubkey)return Ss([e.pubkey,H5.OP_CHECKSIG])}),et(s,"pubkey",()=>{if(e.output)return e.output.slice(1,-1)}),et(s,"signature",()=>{if(e.input)return n()[0]}),et(s,"input",()=>{if(e.signature)return Ss([e.signature])}),et(s,"witness",()=>{if(s.input)return[]}),t.validate){if(e.output){if(e.output[e.output.length-1]!==H5.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!Gi(s.pubkey))throw new TypeError("Output pubkey is invalid");if(e.pubkey&&Te(e.pubkey,s.pubkey)!==0)throw new TypeError("Pubkey mismatch")}if(e.signature&&e.input&&Te(e.input,s.input)!==0)throw new TypeError("Signature mismatch");if(e.input){if(n().length!==1)throw new TypeError("Input is invalid");if(!Ea(s.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(s,e)}function aa(e){return RM(Fn(e))}function uo(e){return Fn(Fn(e))}const aae={"BIP0340/challenge":Uint8Array.from([123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124,123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124]),"BIP0340/aux":Uint8Array.from([241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144,241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144]),"BIP0340/nonce":Uint8Array.from([7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47,7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47]),TapLeaf:Uint8Array.from([174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238,174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238]),TapBranch:Uint8Array.from([25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21,25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21]),TapSighash:Uint8Array.from([244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49,244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49]),TapTweak:Uint8Array.from([232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233,232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233]),"KeyAgg list":Uint8Array.from([72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240,72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240]),"KeyAgg coefficient":Uint8Array.from([191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129,191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129])};function uw(e,t){return Fn(Qt([aae[e],t]))}function cae(e){function t(i){var o=Uint8Array.from(i),a=e(o),c=o.length+4,u=new Uint8Array(c);return u.set(o,0),u.set(a.subarray(0,4),o.length),ih.encode(u)}function n(i){var o=i.slice(0,-4),a=i.slice(-4),c=e(o);if(!(a[0]^c[0]|a[1]^c[1]|a[2]^c[2]|a[3]^c[3]))return o}function r(i){var o=ih.decodeUnsafe(i);if(o!=null)return n(o)}function s(i){var o=ih.decode(i),a=n(o);if(a==null)throw new Error("Invalid checksum");return a}return{encode:t,decode:s,decodeUnsafe:r}}function uae(e){return Fn(Fn(e))}const zh=cae(uae),$a=Ot;function Wp(e,t){if(!e.address&&!e.hash&&!e.output&&!e.pubkey&&!e.input)throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),en(Ac(Sn({network:Sn({}),address:ol(),hash:Zoe,output:Kn(25),pubkey:Zi(Gi),signature:Zi(Ea),input:Nt})),e);const n=wi(()=>{const o=zh.decode(e.address),a=va(o,0),c=o.slice(1);return{version:a,hash:c}}),r=wi(()=>gn(e.input)),s=e.network||Ys,i={name:"p2pkh",network:s};if(et(i,"address",()=>{if(!i.hash)return;const o=new Uint8Array(21);return Gs(o,0,s.pubKeyHash),o.set(i.hash,1),zh.encode(o)}),et(i,"hash",()=>{if(e.output)return e.output.slice(3,23);if(e.address)return n().hash;if(e.pubkey||i.pubkey)return aa(e.pubkey||i.pubkey)}),et(i,"output",()=>{if(i.hash)return Ss([$a.OP_DUP,$a.OP_HASH160,i.hash,$a.OP_EQUALVERIFY,$a.OP_CHECKSIG])}),et(i,"pubkey",()=>{if(e.input)return r()[1]}),et(i,"signature",()=>{if(e.input)return r()[0]}),et(i,"input",()=>{if(e.pubkey&&e.signature)return Ss([e.signature,e.pubkey])}),et(i,"witness",()=>{if(i.input)return[]}),t.validate){let o=Uint8Array.from([]);if(e.address){if(n().version!==s.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(n().hash.length!==20)throw new TypeError("Invalid address");o=n().hash}if(e.hash){if(o.length>0&&Te(o,e.hash)!==0)throw new TypeError("Hash mismatch");o=e.hash}if(e.output){if(e.output.length!==25||e.output[0]!==$a.OP_DUP||e.output[1]!==$a.OP_HASH160||e.output[2]!==20||e.output[23]!==$a.OP_EQUALVERIFY||e.output[24]!==$a.OP_CHECKSIG)throw new TypeError("Output is invalid");const a=e.output.slice(3,23);if(o.length>0&&Te(o,a)!==0)throw new TypeError("Hash mismatch");o=a}if(e.pubkey){const a=aa(e.pubkey);if(o.length>0&&Te(o,a)!==0)throw new TypeError("Hash mismatch");o=a}if(e.input){const a=r();if(a.length!==2)throw new TypeError("Input is invalid");if(!Ea(a[0]))throw new TypeError("Input has invalid signature");if(!Gi(a[1]))throw new TypeError("Input has invalid pubkey");if(e.signature&&Te(e.signature,a[0])!==0)throw new TypeError("Signature mismatch");if(e.pubkey&&Te(e.pubkey,a[1])!==0)throw new TypeError("Pubkey mismatch");const c=aa(a[1]);if(o.length>0&&Te(o,c)!==0)throw new TypeError("Hash mismatch")}}return Object.assign(i,e)}const Nf=Ot;function Gp(e,t){if(!e.address&&!e.hash&&!e.output&&!e.redeem&&!e.input)throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),en(Ac(Sn({network:Sn({}),address:ol(),hash:Kn(20),output:Kn(23),redeem:Ac(Sn({network:Sn({}),output:Nt,input:Nt,witness:ns(Nt)})),input:Nt,witness:ns(Nt)})),e);let n=e.network;n||(n=e.redeem&&e.redeem.network||Ys);const r={network:n},s=wi(()=>{const a=zh.decode(e.address),c=va(a,0),u=a.slice(1);return{version:c,hash:u}}),i=wi(()=>gn(e.input)),o=wi(()=>{const a=i(),c=a[a.length-1];return{network:n,output:c===Nf.OP_FALSE?Uint8Array.from([]):c,input:Ss(a.slice(0,-1)),witness:e.witness||[]}});if(et(r,"address",()=>{if(!r.hash)return;const a=new Uint8Array(21);return Gs(a,0,r.network.scriptHash),a.set(r.hash,1),zh.encode(a)}),et(r,"hash",()=>{if(e.output)return e.output.slice(2,22);if(e.address)return s().hash;if(r.redeem&&r.redeem.output)return aa(r.redeem.output)}),et(r,"output",()=>{if(r.hash)return Ss([Nf.OP_HASH160,r.hash,Nf.OP_EQUAL])}),et(r,"redeem",()=>{if(e.input)return o()}),et(r,"input",()=>{if(!(!e.redeem||!e.redeem.input||!e.redeem.output))return Ss([].concat(gn(e.redeem.input),e.redeem.output))}),et(r,"witness",()=>{if(r.redeem&&r.redeem.witness)return r.redeem.witness;if(r.input)return[]}),et(r,"name",()=>{const a=["p2sh"];return r.redeem!==void 0&&r.redeem.name!==void 0&&a.push(r.redeem.name),a.join("-")}),t.validate){let a=Uint8Array.from([]);if(e.address){if(s().version!==n.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(s().hash.length!==20)throw new TypeError("Invalid address");a=s().hash}if(e.hash){if(a.length>0&&Te(a,e.hash)!==0)throw new TypeError("Hash mismatch");a=e.hash}if(e.output){if(e.output.length!==23||e.output[0]!==Nf.OP_HASH160||e.output[1]!==20||e.output[22]!==Nf.OP_EQUAL)throw new TypeError("Output is invalid");const u=e.output.slice(2,22);if(a.length>0&&Te(a,u)!==0)throw new TypeError("Hash mismatch");a=u}const c=u=>{if(u.output){const l=gn(u.output);if(!l||l.length<1)throw new TypeError("Redeem.output too short");if(u.output.byteLength>520)throw new TypeError("Redeem.output unspendable if larger than 520 bytes");if(P7(l)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");const f=aa(u.output);if(a.length>0&&Te(a,f)!==0)throw new TypeError("Hash mismatch");a=f}if(u.input){const l=u.input.length>0,f=u.witness&&u.witness.length>0;if(!l&&!f)throw new TypeError("Empty input");if(l&&f)throw new TypeError("Input and witness provided");if(l){const d=gn(u.input);if(!pA(d))throw new TypeError("Non push-only scriptSig")}}};if(e.input){const u=i();if(!u||u.length<1)throw new TypeError("Input too short");if(!(o().output instanceof Uint8Array))throw new TypeError("Input is invalid");c(o())}if(e.redeem){if(e.redeem.network&&e.redeem.network!==n)throw new TypeError("Network mismatch");if(e.input){const u=o();if(e.redeem.output&&Te(e.redeem.output,u.output)!==0)throw new TypeError("Redeem.output mismatch");if(e.redeem.input&&Te(e.redeem.input,u.input)!==0)throw new TypeError("Redeem.input mismatch")}c(e.redeem)}if(e.witness&&e.redeem&&e.redeem.witness&&!$h(e.redeem.witness,e.witness))throw new TypeError("Witness and redeem.witness mismatch")}return Object.assign(r,e)}var Fh={};Object.defineProperty(Fh,"__esModule",{value:!0});var Ld=Fh.bech32m=Jr=Fh.bech32=void 0;const _y="qpzry9x8gf2tvdw0s3jn54khce6mua7l",D7={};for(let e=0;e<_y.length;e++){const t=_y.charAt(e);D7[t]=e}function Gl(e){const t=e>>25;return(e&33554431)<<5^-(t>>0&1)&996825010^-(t>>1&1)&642813549^-(t>>2&1)&513874426^-(t>>3&1)&1027748829^-(t>>4&1)&705979059}function q5(e){let t=1;for(let n=0;n<e.length;++n){const r=e.charCodeAt(n);if(r<33||r>126)return"Invalid prefix ("+e+")";t=Gl(t)^r>>5}t=Gl(t);for(let n=0;n<e.length;++n){const r=e.charCodeAt(n);t=Gl(t)^r&31}return t}function yA(e,t,n,r){let s=0,i=0;const o=(1<<n)-1,a=[];for(let c=0;c<e.length;++c)for(s=s<<t|e[c],i+=t;i>=n;)i-=n,a.push(s>>i&o);if(r)i>0&&a.push(s<<n-i&o);else{if(i>=t)return"Excess padding";if(s<<n-i&o)return"Non-zero padding"}return a}function lae(e){return yA(e,8,5,!0)}function dae(e){const t=yA(e,5,8,!1);if(Array.isArray(t))return t}function fae(e){const t=yA(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}function U7(e){let t;e==="bech32"?t=1:t=734539939;function n(o,a,c){if(c=c||90,o.length+7+a.length>c)throw new TypeError("Exceeds length limit");o=o.toLowerCase();let u=q5(o);if(typeof u=="string")throw new Error(u);let l=o+"1";for(let f=0;f<a.length;++f){const d=a[f];if(d>>5)throw new Error("Non 5-bit word");u=Gl(u)^d,l+=_y.charAt(d)}for(let f=0;f<6;++f)u=Gl(u);u^=t;for(let f=0;f<6;++f){const d=u>>(5-f)*5&31;l+=_y.charAt(d)}return l}function r(o,a){if(a=a||90,o.length<8)return o+" too short";if(o.length>a)return"Exceeds length limit";const c=o.toLowerCase(),u=o.toUpperCase();if(o!==c&&o!==u)return"Mixed-case string "+o;o=c;const l=o.lastIndexOf("1");if(l===-1)return"No separator character for "+o;if(l===0)return"Missing prefix for "+o;const f=o.slice(0,l),d=o.slice(l+1);if(d.length<6)return"Data too short";let h=q5(f);if(typeof h=="string")return h;const p=[];for(let m=0;m<d.length;++m){const y=d.charAt(m),b=D7[y];if(b===void 0)return"Unknown character "+y;h=Gl(h)^b,!(m+6>=d.length)&&p.push(b)}return h!==t?"Invalid checksum for "+o:{prefix:f,words:p}}function s(o,a){const c=r(o,a);if(typeof c=="object")return c}function i(o,a){const c=r(o,a);if(typeof c=="object")return c;throw new Error(c)}return{decodeUnsafe:s,decode:i,encode:n,toWords:lae,fromWordsUnsafe:dae,fromWords:fae}}var Jr=Fh.bech32=U7("bech32");Ld=Fh.bech32m=U7("bech32m");const W5=Ot,hae=new Uint8Array(0);function Vp(e,t){if(!e.address&&!e.hash&&!e.output&&!e.pubkey&&!e.witness)throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),en(Ac(Sn({address:ol(),hash:Kn(20),input:Kn(0),network:Sn({}),output:Kn(22),pubkey:Zi(Gi,"Not a valid pubkey"),signature:Zi(Ea),witness:ns(Nt)})),e);const n=wi(()=>{const i=Jr.decode(e.address),o=i.words.shift(),a=Jr.fromWords(i.words);return{version:o,prefix:i.prefix,data:Uint8Array.from(a)}}),r=e.network||Ys,s={name:"p2wpkh",network:r};if(et(s,"address",()=>{if(!s.hash)return;const i=Jr.toWords(s.hash);return i.unshift(0),Jr.encode(r.bech32,i)}),et(s,"hash",()=>{if(e.output)return e.output.slice(2,22);if(e.address)return n().data;if(e.pubkey||s.pubkey)return aa(e.pubkey||s.pubkey)}),et(s,"output",()=>{if(s.hash)return Ss([W5.OP_0,s.hash])}),et(s,"pubkey",()=>{if(e.pubkey)return e.pubkey;if(e.witness)return e.witness[1]}),et(s,"signature",()=>{if(e.witness)return e.witness[0]}),et(s,"input",()=>{if(s.witness)return hae}),et(s,"witness",()=>{if(e.pubkey&&e.signature)return[e.signature,e.pubkey]}),t.validate){let i=Uint8Array.from([]);if(e.address){if(r&&r.bech32!==n().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(n().version!==0)throw new TypeError("Invalid address version");if(n().data.length!==20)throw new TypeError("Invalid address data");i=n().data}if(e.hash){if(i.length>0&&Te(i,e.hash)!==0)throw new TypeError("Hash mismatch");i=e.hash}if(e.output){if(e.output.length!==22||e.output[0]!==W5.OP_0||e.output[1]!==20)throw new TypeError("Output is invalid");if(i.length>0&&Te(i,e.output.slice(2))!==0)throw new TypeError("Hash mismatch");i=e.output.slice(2)}if(e.pubkey){const o=aa(e.pubkey);if(i.length>0&&Te(i,o)!==0)throw new TypeError("Hash mismatch");if(i=o,!Gi(e.pubkey)||e.pubkey.length!==33)throw new TypeError("Invalid pubkey for p2wpkh")}if(e.witness){if(e.witness.length!==2)throw new TypeError("Witness is invalid");if(!Ea(e.witness[0]))throw new TypeError("Witness has invalid signature");if(!Gi(e.witness[1])||e.witness[1].length!==33)throw new TypeError("Witness has invalid pubkey");if(e.signature&&Te(e.signature,e.witness[0])!==0)throw new TypeError("Signature mismatch");if(e.pubkey&&Te(e.pubkey,e.witness[1])!==0)throw new TypeError("Pubkey mismatch");const o=aa(e.witness[1]);if(i.length>0&&Te(i,o)!==0)throw new TypeError("Hash mismatch")}}return Object.assign(s,e)}const G5=Ot,X1=new Uint8Array(0);function B0(e){return!!(e instanceof Uint8Array&&e.length===65&&e[0]===4&&Gi(e))}function Kp(e,t){if(!e.address&&!e.hash&&!e.output&&!e.redeem&&!e.witness)throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),en(L5({network:Sn({}),address:ol(),hash:Yoe,output:Kn(34),redeem:L5({input:Nt,network:Sn({}),output:Nt,witness:ns(Nt)}),input:Kn(0),witness:ns(Nt)}),e);const n=wi(()=>{const o=Jr.decode(e.address),a=o.words.shift(),c=Jr.fromWords(o.words);return{version:a,prefix:o.prefix,data:Uint8Array.from(c)}}),r=wi(()=>gn(e.redeem.input));let s=e.network;s||(s=e.redeem&&e.redeem.network||Ys);const i={network:s};if(et(i,"address",()=>{if(!i.hash)return;const o=Jr.toWords(i.hash);return o.unshift(0),Jr.encode(s.bech32,o)}),et(i,"hash",()=>{if(e.output)return e.output.slice(2);if(e.address)return n().data;if(i.redeem&&i.redeem.output)return Fn(i.redeem.output)}),et(i,"output",()=>{if(i.hash)return Ss([G5.OP_0,i.hash])}),et(i,"redeem",()=>{if(e.witness)return{output:e.witness[e.witness.length-1],input:X1,witness:e.witness.slice(0,-1)}}),et(i,"input",()=>{if(i.witness)return X1}),et(i,"witness",()=>{if(e.redeem&&e.redeem.input&&e.redeem.input.length>0&&e.redeem.output&&e.redeem.output.length>0){const o=iae(r());return i.redeem=Object.assign({witness:o},e.redeem),i.redeem.input=X1,[].concat(o,e.redeem.output)}if(e.redeem&&e.redeem.output&&e.redeem.witness)return[].concat(e.redeem.witness,e.redeem.output)}),et(i,"name",()=>{const o=["p2wsh"];return i.redeem!==void 0&&i.redeem.name!==void 0&&o.push(i.redeem.name),o.join("-")}),t.validate){let o=Uint8Array.from([]);if(e.address){if(n().prefix!==s.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(n().version!==0)throw new TypeError("Invalid address version");if(n().data.length!==32)throw new TypeError("Invalid address data");o=n().data}if(e.hash){if(o.length>0&&Te(o,e.hash)!==0)throw new TypeError("Hash mismatch");o=e.hash}if(e.output){if(e.output.length!==34||e.output[0]!==G5.OP_0||e.output[1]!==32)throw new TypeError("Output is invalid");const a=e.output.slice(2);if(o.length>0&&Te(o,a)!==0)throw new TypeError("Hash mismatch");o=a}if(e.redeem){if(e.redeem.network&&e.redeem.network!==s)throw new TypeError("Network mismatch");if(e.redeem.input&&e.redeem.input.length>0&&e.redeem.witness&&e.redeem.witness.length>0)throw new TypeError("Ambiguous witness source");if(e.redeem.output){const a=gn(e.redeem.output);if(!a||a.length<1)throw new TypeError("Redeem.output is invalid");if(e.redeem.output.byteLength>3600)throw new TypeError("Redeem.output unspendable if larger than 3600 bytes");if(P7(a)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");const c=Fn(e.redeem.output);if(o.length>0&&Te(o,c)!==0)throw new TypeError("Hash mismatch");o=c}if(e.redeem.input&&!pA(r()))throw new TypeError("Non push-only scriptSig");if(e.witness&&e.redeem.witness&&!$h(e.witness,e.redeem.witness))throw new TypeError("Witness and redeem.witness mismatch");if(e.redeem.input&&r().some(B0)||e.redeem.output&&(gn(e.redeem.output)||[]).some(B0))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(e.witness&&e.witness.length>0){const a=e.witness[e.witness.length-1];if(e.redeem&&e.redeem.output&&Te(e.redeem.output,a)!==0)throw new TypeError("Witness and redeem.output mismatch");if(e.witness.some(B0)||(gn(a)||[]).some(B0))throw new TypeError("Witness contains uncompressed pubkey")}}return Object.assign(i,e)}const ch={};function pae(e,t){e?e!==ch.eccLib&&(mae(e),ch.eccLib=e):ch.eccLib=e}function D2(){if(!ch.eccLib)throw new Error("No ECC Library provided. You must call initEccLib() with a valid TinySecp256k1Interface instance");return ch.eccLib}const Ro=e=>To(e);function mae(e){ni(typeof e.isXOnlyPoint=="function"),ni(e.isXOnlyPoint(Ro("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),ni(e.isXOnlyPoint(Ro("fffffffffffffffffffffffffffffffffffffffffffffffffffffffeeffffc2e"))),ni(e.isXOnlyPoint(Ro("f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9"))),ni(e.isXOnlyPoint(Ro("0000000000000000000000000000000000000000000000000000000000000001"))),ni(!e.isXOnlyPoint(Ro("0000000000000000000000000000000000000000000000000000000000000000"))),ni(!e.isXOnlyPoint(Ro("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"))),ni(typeof e.xOnlyPointAddTweak=="function"),yae.forEach(t=>{const n=e.xOnlyPointAddTweak(Ro(t.pubkey),Ro(t.tweak));t.result===null?ni(n===null):(ni(n!==null),ni(n.parity===t.parity),ni(Te(n.xOnlyPubkey,Ro(t.result))===0))})}function ni(e){if(!e)throw new Error("ecc library invalid")}const yae=[{pubkey:"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",tweak:"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140",parity:-1,result:null},{pubkey:"1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b",tweak:"a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac",parity:1,result:"e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"},{pubkey:"2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991",tweak:"823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47",parity:0,result:"9534f8dc8c6deda2dc007655981c78b49c5d96c778fbf363462a11ec9dfd948c"}],L7="0123456789abcdefABCDEF";L7.split("").map(e=>e.codePointAt(0));Array(256).fill(!0).map((e,t)=>{const n=String.fromCodePoint(t),r=L7.indexOf(n);return r<0?void 0:r<16?r:r-6});new TextEncoder;new TextDecoder;function gae(e,t,n,r){if(t+2>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(r=r.toUpperCase(),n>65535)throw new Error(`The value of "value" is out of range. It must be >= 0 and <= 65535. Received ${n}`);r==="LE"?(e[t]=n&255,e[t+1]=n>>8&255):(e[t]=n>>8&255,e[t+1]=n&255)}function wae(e,t,n,r){if(t+4>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(r=r.toUpperCase(),n>4294967295)throw new Error(`The value of "value" is out of range. It must be >= 0 and <= ${4294967295}. Received ${n}`);r==="LE"?(e[t]=n&255,e[t+1]=n>>8&255,e[t+2]=n>>16&255,e[t+3]=n>>24&255):(e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=n&255)}function bae(e,t,n,r){if(t+8>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(r=r.toUpperCase(),n>0xffffffffffffffffn)throw new Error(`The value of "value" is out of range. It must be >= 0 and <= ${0xffffffffffffffffn}. Received ${n}`);r==="LE"?(e[t]=Number(n&0xffn),e[t+1]=Number(n>>8n&0xffn),e[t+2]=Number(n>>16n&0xffn),e[t+3]=Number(n>>24n&0xffn),e[t+4]=Number(n>>32n&0xffn),e[t+5]=Number(n>>40n&0xffn),e[t+6]=Number(n>>48n&0xffn),e[t+7]=Number(n>>56n&0xffn)):(e[t]=Number(n>>56n&0xffn),e[t+1]=Number(n>>48n&0xffn),e[t+2]=Number(n>>40n&0xffn),e[t+3]=Number(n>>32n&0xffn),e[t+4]=Number(n>>24n&0xffn),e[t+5]=Number(n>>16n&0xffn),e[t+6]=Number(n>>8n&0xffn),e[t+7]=Number(n&0xffn))}function vae(e,t,n){if(t+2>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(n=n.toUpperCase(),n==="LE"){let r=0;return r=(r<<8)+e[t+1],r=(r<<8)+e[t],r}else{let r=0;return r=(r<<8)+e[t],r=(r<<8)+e[t+1],r}}function Eae(e,t,n){if(t+4>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(n=n.toUpperCase(),n==="LE"){let r=0;return r=(r<<8)+e[t+3]>>>0,r=(r<<8)+e[t+2]>>>0,r=(r<<8)+e[t+1]>>>0,r=(r<<8)+e[t]>>>0,r}else{let r=0;return r=(r<<8)+e[t]>>>0,r=(r<<8)+e[t+1]>>>0,r=(r<<8)+e[t+2]>>>0,r=(r<<8)+e[t+3]>>>0,r}}function xae(e,t,n){if(t+8>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(n=n.toUpperCase(),n==="LE"){let r=0n;return r=(r<<8n)+BigInt(e[t+7]),r=(r<<8n)+BigInt(e[t+6]),r=(r<<8n)+BigInt(e[t+5]),r=(r<<8n)+BigInt(e[t+4]),r=(r<<8n)+BigInt(e[t+3]),r=(r<<8n)+BigInt(e[t+2]),r=(r<<8n)+BigInt(e[t+1]),r=(r<<8n)+BigInt(e[t]),r}else{let r=0n;return r=(r<<8n)+BigInt(e[t]),r=(r<<8n)+BigInt(e[t+1]),r=(r<<8n)+BigInt(e[t+2]),r=(r<<8n)+BigInt(e[t+3]),r=(r<<8n)+BigInt(e[t+4]),r=(r<<8n)+BigInt(e[t+5]),r=(r<<8n)+BigInt(e[t+6]),r=(r<<8n)+BigInt(e[t+7]),r}}const Aae=e=>{if(e<0||e>0xffffffffffffffffn)throw new RangeError("value out of range")};function Iae(e){if(e<0||e>Number.MAX_SAFE_INTEGER||e%1!==0)throw new RangeError("value out of range")}function $7(e){typeof e=="number"?Iae(e):Aae(e)}function xa(e,t,n){$7(e),n===void 0&&(n=0),t===void 0&&(t=new Uint8Array(Xs(e)));let r=0;return e<253?(t.set([Number(e)],n),r=1):e<=65535?(t.set([253],n),gae(t,n+1,Number(e),"LE"),r=3):e<=4294967295?(t.set([254],n),wae(t,n+1,Number(e),"LE"),r=5):(t.set([255],n),bae(t,n+1,BigInt(e),"LE"),r=9),{buffer:t,bytes:r}}function yf(e,t){t===void 0&&(t=0);const n=e.at(t);if(n===void 0)throw new Error("buffer too small");if(n<253)return{numberValue:n,bigintValue:BigInt(n),bytes:1};if(n===253){const r=vae(e,t+1,"LE");return{numberValue:r,bigintValue:BigInt(r),bytes:3}}else if(n===254){const r=Eae(e,t+1,"LE");return{numberValue:r,bigintValue:BigInt(r),bytes:5}}else{const r=xae(e,t+1,"LE");return{numberValue:r<=Number.MAX_SAFE_INTEGER?Number(r):null,bigintValue:r,bytes:9}}}function Xs(e){return $7(e),e<253?1:e<=65535?3:e<=4294967295?5:9}const Sae=9007199254740991;function kae(e,t){if(typeof e!="number"&&typeof e!="bigint")throw new Error("cannot write a non-number as a number");if(e<0&&e<BigInt(0))throw new Error("specified a negative value for writing an unsigned value");if(e>t&&e>BigInt(t))throw new Error("RangeError: value out of range");if(Math.floor(Number(e))!==Number(e))throw new Error("value has a fractional component")}function Hh(e){if(e.length<1)return e;let t=e.length-1,n=0;for(let r=0;r<e.length/2;r++)n=e[r],e[r]=e[t],e[t]=n,t--;return e}function V5(e){const t=new Uint8Array(e.length);return t.set(e),t}class mr{constructor(t,n=0){pe(this,"buffer");pe(this,"offset");this.buffer=t,this.offset=n,en(co([Nt,Uo]),[t,n])}static withCapacity(t){return new mr(new Uint8Array(t))}writeUInt8(t){this.offset=Gs(this.buffer,this.offset,t)}writeInt32(t){this.offset=b7(this.buffer,this.offset,t,"LE")}writeInt64(t){this.offset=v7(this.buffer,this.offset,BigInt(t),"LE")}writeUInt32(t){this.offset=qp(this.buffer,this.offset,t,"LE")}writeUInt64(t){this.offset=Doe(this.buffer,this.offset,BigInt(t),"LE")}writeVarInt(t){const{bytes:n}=xa(t,this.buffer,this.offset);this.offset+=n}writeSlice(t){if(this.buffer.length<this.offset+t.length)throw new Error("Cannot write slice out of bounds");this.buffer.set(t,this.offset),this.offset+=t.length}writeVarSlice(t){this.writeVarInt(t.length),this.writeSlice(t)}writeVector(t){this.writeVarInt(t.length),t.forEach(n=>this.writeVarSlice(n))}end(){if(this.buffer.length===this.offset)return this.buffer;throw new Error(`buffer size ${this.buffer.length}, offset ${this.offset}`)}}class z7{constructor(t,n=0){pe(this,"buffer");pe(this,"offset");this.buffer=t,this.offset=n,en(co([Nt,Uo]),[t,n])}readUInt8(){const t=va(this.buffer,this.offset);return this.offset++,t}readInt32(){const t=Loe(this.buffer,this.offset,"LE");return this.offset+=4,t}readUInt32(){const t=pf(this.buffer,this.offset,"LE");return this.offset+=4,t}readInt64(){const t=E7(this.buffer,this.offset,"LE");return this.offset+=8,t}readVarInt(){const{bigintValue:t,bytes:n}=yf(this.buffer,this.offset);return this.offset+=n,t}readSlice(t){kae(t,Sae);const n=Number(t);if(this.buffer.length<this.offset+n)throw new Error("Cannot read slice out of bounds");const r=this.buffer.slice(this.offset,this.offset+n);return this.offset+=n,r}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){const t=this.readVarInt(),n=[];for(let r=0;r<t;r++)n.push(this.readVarSlice());return n}}const F7=192,Cae=128,Tae=e=>"left"in e&&"right"in e;function U2(e,t){if(e.length<33)throw new TypeError(`The control-block length is too small. Got ${e.length}, expected min 33.`);const n=(e.length-33)/32;let r=t;for(let s=0;s<n;s++){const i=e.slice(33+32*s,65+32*s);Te(r,i)<0?r=$2(r,i):r=$2(i,r)}return r}function L2(e){if(hA(e))return{hash:ea(e)};const t=[L2(e[0]),L2(e[1])];t.sort((s,i)=>Te(s.hash,i.hash));const[n,r]=t;return{hash:$2(n.hash,r.hash),left:n,right:r}}function My(e,t){if(Tae(e)){const n=My(e.left,t);if(n!==void 0)return[...n,e.right.hash];const r=My(e.right,t);if(r!==void 0)return[...r,e.left.hash]}else if(Te(e.hash,t)===0)return[]}function ea(e){const t=e.version||F7;return uw("TapLeaf",Qt([Uint8Array.from([t]),Mae(e.output)]))}function _ae(e,t){return uw("TapTweak",Qt(t?[e,t]:[e]))}function N0(e,t){if(!(e instanceof Uint8Array)||e.length!==32||t&&t.length!==32)return null;const n=_ae(e,t),r=D2().xOnlyPointAddTweak(e,n);return!r||r.xOnlyPubkey===null?null:{parity:r.parity,x:Uint8Array.from(r.xOnlyPubkey)}}function $2(e,t){return uw("TapBranch",Qt([e,t]))}function Mae(e){const t=Xs(e.length),n=new Uint8Array(t);return xa(e.length,n),Qt([n,e])}const K5=Ot,Q5=1,Bae=80;function Qp(e,t){if(!e.address&&!e.output&&!e.pubkey&&!e.internalPubkey&&!(e.witness&&e.witness.length>1))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),en(Ac(Sn({address:ol(),input:Kn(0),network:Sn({}),output:Kn(34),internalPubkey:Kn(32),hash:Kn(32),pubkey:Kn(32),signature:fA([Kn(64),Kn(65)]),witness:ns(Nt),scriptTree:Zi(M7,"Taptree is not of type isTaptree"),redeem:Ac(Sn({output:Nt,redeemVersion:xs(),witness:ns(Nt)})),redeemVersion:xs()})),e);const n=wi(()=>Q7(e.address)),r=wi(()=>{if(!(!e.witness||!e.witness.length))return e.witness.length>=2&&e.witness[e.witness.length-1][0]===Bae?e.witness.slice(0,-1):e.witness.slice()}),s=wi(()=>{if(e.scriptTree)return L2(e.scriptTree);if(e.hash)return{hash:e.hash}}),i=e.network||Ys,o={name:"p2tr",network:i};if(et(o,"address",()=>{if(!o.pubkey)return;const a=Ld.toWords(o.pubkey);return a.unshift(Q5),Ld.encode(i.bech32,a)}),et(o,"hash",()=>{const a=s();if(a)return a.hash;const c=r();if(c&&c.length>1){const u=c[c.length-1],l=u[0]&gm,f=c[c.length-2],d=ea({output:f,version:l});return U2(u,d)}return null}),et(o,"output",()=>{if(o.pubkey)return Ss([K5.OP_1,o.pubkey])}),et(o,"redeemVersion",()=>e.redeemVersion?e.redeemVersion:e.redeem&&e.redeem.redeemVersion!==void 0&&e.redeem.redeemVersion!==null?e.redeem.redeemVersion:F7),et(o,"redeem",()=>{const a=r();if(!(!a||a.length<2))return{output:a[a.length-2],witness:a.slice(0,-2),redeemVersion:a[a.length-1][0]&gm}}),et(o,"pubkey",()=>{if(e.pubkey)return e.pubkey;if(e.output)return e.output.slice(2);if(e.address)return n().data;if(o.internalPubkey){const a=N0(o.internalPubkey,o.hash);if(a)return a.x}}),et(o,"internalPubkey",()=>{if(e.internalPubkey)return e.internalPubkey;const a=r();if(a&&a.length>1)return a[a.length-1].slice(1,33)}),et(o,"signature",()=>{if(e.signature)return e.signature;const a=r();if(!(!a||a.length!==1))return a[0]}),et(o,"witness",()=>{if(e.witness)return e.witness;const a=s();if(a&&e.redeem&&e.redeem.output&&e.internalPubkey){const c=ea({output:e.redeem.output,version:o.redeemVersion}),u=My(a,c);if(!u)return;const l=N0(e.internalPubkey,a.hash);if(!l)return;const f=Qt([Uint8Array.from([o.redeemVersion|l.parity]),e.internalPubkey].concat(u));return[e.redeem.output,f]}if(e.signature)return[e.signature]}),t.validate){let a=Uint8Array.from([]);if(e.address){if(i&&i.bech32!==n().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(n().version!==Q5)throw new TypeError("Invalid address version");if(n().data.length!==32)throw new TypeError("Invalid address data");a=n().data}if(e.pubkey){if(a.length>0&&Te(a,e.pubkey)!==0)throw new TypeError("Pubkey mismatch");a=e.pubkey}if(e.output){if(e.output.length!==34||e.output[0]!==K5.OP_1||e.output[1]!==32)throw new TypeError("Output is invalid");if(a.length>0&&Te(a,e.output.slice(2))!==0)throw new TypeError("Pubkey mismatch");a=e.output.slice(2)}if(e.internalPubkey){const l=N0(e.internalPubkey,o.hash);if(a.length>0&&Te(a,l.x)!==0)throw new TypeError("Pubkey mismatch");a=l.x}if(a&&a.length&&!D2().isXOnlyPoint(a))throw new TypeError("Invalid pubkey for p2tr");const c=s();if(e.hash&&c&&Te(e.hash,c.hash)!==0)throw new TypeError("Hash mismatch");if(e.redeem&&e.redeem.output&&c){const l=ea({output:e.redeem.output,version:o.redeemVersion});if(!My(c,l))throw new TypeError("Redeem script not in tree")}const u=r();if(e.redeem&&o.redeem){if(e.redeem.redeemVersion&&e.redeem.redeemVersion!==o.redeem.redeemVersion)throw new TypeError("Redeem.redeemVersion and witness mismatch");if(e.redeem.output){if(gn(e.redeem.output).length===0)throw new TypeError("Redeem.output is invalid");if(o.redeem.output&&Te(e.redeem.output,o.redeem.output)!==0)throw new TypeError("Redeem.output and witness mismatch")}if(e.redeem.witness&&o.redeem.witness&&!$h(e.redeem.witness,o.redeem.witness))throw new TypeError("Redeem.witness and witness mismatch")}if(u&&u.length)if(u.length===1){if(e.signature&&Te(e.signature,u[0])!==0)throw new TypeError("Signature mismatch")}else{const l=u[u.length-1];if(l.length<33)throw new TypeError(`The control-block length is too small. Got ${l.length}, expected min 33.`);if((l.length-33)%32!==0)throw new TypeError(`The control-block length of ${l.length} is incorrect!`);const f=(l.length-33)/32;if(f>128)throw new TypeError(`The script path is too long. Got ${f}, expected max 128.`);const d=l.slice(1,33);if(e.internalPubkey&&Te(e.internalPubkey,d)!==0)throw new TypeError("Internal pubkey mismatch");if(!D2().isXOnlyPoint(d))throw new TypeError("Invalid internalPubkey for p2tr witness");const h=l[0]&gm,p=u[u.length-2],m=ea({output:p,version:h}),y=U2(l,m),b=N0(d,y);if(!b)throw new TypeError("Invalid outputKey for p2tr witness");if(a.length&&Te(a,b.x)!==0)throw new TypeError("Pubkey mismatch for p2tr witness");if(b.parity!==(l[0]&1))throw new Error("Incorrect parity")}}return Object.assign(o,e)}const H7=40,q7=2,W7=16,G7=2,V7=80,K7="WARNING: Sending to a future segwit version address can lead to loss of funds. End users MUST be warned carefully in the GUI and asked if they wish to proceed with caution. Wallets should verify the segwit version from the output of fromBech32, then decide when it is safe to use which version of segwit.",By=[!1,!1];function Nae(e,t){const n=e.slice(2);if(n.length<q7||n.length>H7)throw new TypeError("Invalid program length for segwit address");const r=e[0]-V7;if(r<G7||r>W7)throw new TypeError("Invalid version for segwit address");if(e[1]!==n.length)throw new TypeError("Invalid script for segwit address");return By[0]===!1&&(console.warn(K7),By[0]=!0),Pae(n,r,t.bech32)}function Oae(e){const t=zh.decode(e);if(t.length<21)throw new TypeError(e+" is too short");if(t.length>21)throw new TypeError(e+" is too long");const n=va(t,0),r=t.slice(1);return{version:n,hash:r}}function Q7(e){let t,n;try{t=Jr.decode(e)}catch{}if(t){if(n=t.words[0],n!==0)throw new TypeError(e+" uses wrong encoding")}else if(t=Ld.decode(e),n=t.words[0],n===0)throw new TypeError(e+" uses wrong encoding");const r=Jr.fromWords(t.words.slice(1));return{version:n,prefix:t.prefix,data:Uint8Array.from(r)}}function Pae(e,t,n){const r=Jr.toWords(e);return r.unshift(t),t===0?Jr.encode(n,r):Ld.encode(n,r)}function Ny(e,t){t=t||Ys;try{return Wp({output:e,network:t}).address}catch{}try{return Gp({output:e,network:t}).address}catch{}try{return Vp({output:e,network:t}).address}catch{}try{return Kp({output:e,network:t}).address}catch{}try{return Qp({output:e,network:t}).address}catch{}try{return Nae(e,t)}catch{}throw new Error(sae(e)+" has no matching Address")}function jae(e,t){t=t||Ys;let n,r;try{n=Oae(e)}catch{}if(n){if(n.version===t.pubKeyHash)return Wp({hash:n.hash}).output;if(n.version===t.scriptHash)return Gp({hash:n.hash}).output}else{try{r=Q7(e)}catch{}if(r){if(r.prefix!==t.bech32)throw new Error(e+" has an invalid prefix");if(r.version===0){if(r.data.length===20)return Vp({hash:r.data}).output;if(r.data.length===32)return Kp({hash:r.data}).output}else if(r.version===1){if(r.data.length===32)return Qp({pubkey:r.data}).output}else if(r.version>=G7&&r.version<=W7&&r.data.length>=q7&&r.data.length<=H7)return By[1]===!1&&(console.warn(K7),By[1]=!0),Ss([r.version+V7,r.data])}}throw new Error(e+" has no matching Script")}function Rae(e,t){if(!Array.isArray(e))throw TypeError("Expected values Array");if(typeof t!="function")throw TypeError("Expected digest Function");let n=e.length;const r=e.concat();for(;n>1;){let s=0;for(let i=0;i<n;i+=2,++s){const o=r[i],a=i+1===n?o:r[i+1],c=Qt([o,a]);r[s]=t(c)}n=s}return r[0]}function so(e){const t=e.length;return Xs(t)+t}function Dae(e){const t=e.length;return Xs(t)+e.reduce((n,r)=>n+so(r),0)}const Wa=new Uint8Array(0),J1=[],eb=To("0000000000000000000000000000000000000000000000000000000000000000"),Y5=To("0000000000000000000000000000000000000000000000000000000000000001"),Uae=To("ffffffffffffffff"),Lae={script:Wa,valueBuffer:Uae};function $ae(e){return e.value!==void 0}const yt=class yt{constructor(){pe(this,"version",1);pe(this,"locktime",0);pe(this,"ins",[]);pe(this,"outs",[])}static fromBuffer(t,n){const r=new z7(t),s=new yt;s.version=r.readUInt32();const i=r.readUInt8(),o=r.readUInt8();let a=!1;i===yt.ADVANCED_TRANSACTION_MARKER&&o===yt.ADVANCED_TRANSACTION_FLAG?a=!0:r.offset-=2;const c=r.readVarInt();for(let l=0;l<c;++l)s.ins.push({hash:r.readSlice(32),index:r.readUInt32(),script:r.readVarSlice(),sequence:r.readUInt32(),witness:J1});const u=r.readVarInt();for(let l=0;l<u;++l)s.outs.push({value:r.readInt64(),script:r.readVarSlice()});if(a){for(let l=0;l<c;++l)s.ins[l].witness=r.readVector();if(!s.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(s.locktime=r.readUInt32(),n)return s;if(r.offset!==t.length)throw new Error("Transaction has unexpected data");return s}static fromHex(t){return yt.fromBuffer(To(t),!1)}static isCoinbaseHash(t){en(U5,t);for(let n=0;n<32;++n)if(t[n]!==0)return!1;return!0}isCoinbase(){return this.ins.length===1&&yt.isCoinbaseHash(this.ins[0].hash)}addInput(t,n,r,s){return en(co([U5,Uo,R2(ky(Uo)),R2(ky(Nt))]),[t,n,r,s]),r==null&&(r=yt.DEFAULT_SEQUENCE),this.ins.push({hash:t,index:n,script:s||Wa,sequence:r,witness:J1})-1}addOutput(t,n){return en(co([Nt,Z1]),[t,n]),this.outs.push({script:t,value:n})-1}hasWitnesses(){return this.ins.some(t=>t.witness.length!==0)}stripWitnesses(){this.ins.forEach(t=>{t.witness=J1})}weight(){const t=this.byteLength(!1),n=this.byteLength(!0);return t*3+n}virtualSize(){return Math.ceil(this.weight()/4)}byteLength(t=!0){const n=t&&this.hasWitnesses();return(n?10:8)+Xs(this.ins.length)+Xs(this.outs.length)+this.ins.reduce((r,s)=>r+40+so(s.script),0)+this.outs.reduce((r,s)=>r+8+so(s.script),0)+(n?this.ins.reduce((r,s)=>r+Dae(s.witness),0):0)}clone(){const t=new yt;return t.version=this.version,t.locktime=this.locktime,t.ins=this.ins.map(n=>({hash:n.hash,index:n.index,script:n.script,sequence:n.sequence,witness:n.witness})),t.outs=this.outs.map(n=>({script:n.script,value:n.value})),t}hashForSignature(t,n,r){if(en(co([Uo,Nt,xs()]),[t,n,r]),t>=this.ins.length)return Y5;const s=Ss(gn(n).filter(a=>a!==Ot.OP_CODESEPARATOR)),i=this.clone();if((r&31)===yt.SIGHASH_NONE)i.outs=[],i.ins.forEach((a,c)=>{c!==t&&(a.sequence=0)});else if((r&31)===yt.SIGHASH_SINGLE){if(t>=this.outs.length)return Y5;i.outs.length=t+1;for(let a=0;a<t;a++)i.outs[a]=Lae;i.ins.forEach((a,c)=>{c!==t&&(a.sequence=0)})}r&yt.SIGHASH_ANYONECANPAY?(i.ins=[i.ins[t]],i.ins[0].script=s):(i.ins.forEach(a=>{a.script=Wa}),i.ins[t].script=s);const o=new Uint8Array(i.byteLength(!1)+4);return b7(o,o.length-4,r,"LE"),i.__toBuffer(o,0,!1),uo(o)}hashForWitnessV1(t,n,r,s,i,o){if(en(co([Uo,ns(Nt),ns(Z1),Uo]),[t,n,r,s]),r.length!==this.ins.length||n.length!==this.ins.length)throw new Error("Must supply prevout script and value for all inputs");const a=s===yt.SIGHASH_DEFAULT?yt.SIGHASH_ALL:s&yt.SIGHASH_OUTPUT_MASK,u=(s&yt.SIGHASH_INPUT_MASK)===yt.SIGHASH_ANYONECANPAY,l=a===yt.SIGHASH_NONE,f=a===yt.SIGHASH_SINGLE;let d=Wa,h=Wa,p=Wa,m=Wa,y=Wa;if(!u){let E=mr.withCapacity(36*this.ins.length);this.ins.forEach(S=>{E.writeSlice(S.hash),E.writeUInt32(S.index)}),d=Fn(E.end()),E=mr.withCapacity(8*this.ins.length),r.forEach(S=>E.writeInt64(S)),h=Fn(E.end()),E=mr.withCapacity(n.map(so).reduce((S,N)=>S+N)),n.forEach(S=>E.writeVarSlice(S)),p=Fn(E.end()),E=mr.withCapacity(4*this.ins.length),this.ins.forEach(S=>E.writeUInt32(S.sequence)),m=Fn(E.end())}if(l||f){if(f&&t<this.outs.length){const E=this.outs[t],S=mr.withCapacity(8+so(E.script));S.writeInt64(E.value),S.writeVarSlice(E.script),y=Fn(S.end())}}else{if(!this.outs.length)throw new Error("Add outputs to the transaction before signing.");const E=this.outs.map(N=>8+so(N.script)).reduce((N,O)=>N+O),S=mr.withCapacity(E);this.outs.forEach(N=>{S.writeInt64(N.value),S.writeVarSlice(N.script)}),y=Fn(S.end())}const b=(i?2:0)+(o?1:0),I=174-(u?49:0)-(l?32:0)+(o?32:0)+(i?37:0),v=mr.withCapacity(I);if(v.writeUInt8(s),v.writeUInt32(this.version),v.writeUInt32(this.locktime),v.writeSlice(d),v.writeSlice(h),v.writeSlice(p),v.writeSlice(m),l||f||v.writeSlice(y),v.writeUInt8(b),u){const E=this.ins[t];v.writeSlice(E.hash),v.writeUInt32(E.index),v.writeInt64(r[t]),v.writeVarSlice(n[t]),v.writeUInt32(E.sequence)}else v.writeUInt32(t);if(o){const E=mr.withCapacity(so(o));E.writeVarSlice(o),v.writeSlice(Fn(E.end()))}return f&&v.writeSlice(y),i&&(v.writeSlice(i),v.writeUInt8(0),v.writeUInt32(4294967295)),uw("TapSighash",Qt([Uint8Array.from([0]),v.end()]))}hashForWitnessV0(t,n,r,s){en(co([Uo,Nt,Z1,Uo]),[t,n,r,s]);let i=Uint8Array.from([]),o,a=eb,c=eb,u=eb;if(s&yt.SIGHASH_ANYONECANPAY||(i=new Uint8Array(36*this.ins.length),o=new mr(i,0),this.ins.forEach(f=>{o.writeSlice(f.hash),o.writeUInt32(f.index)}),c=uo(i)),!(s&yt.SIGHASH_ANYONECANPAY)&&(s&31)!==yt.SIGHASH_SINGLE&&(s&31)!==yt.SIGHASH_NONE&&(i=new Uint8Array(4*this.ins.length),o=new mr(i,0),this.ins.forEach(f=>{o.writeUInt32(f.sequence)}),u=uo(i)),(s&31)!==yt.SIGHASH_SINGLE&&(s&31)!==yt.SIGHASH_NONE){const f=this.outs.reduce((d,h)=>d+8+so(h.script),0);i=new Uint8Array(f),o=new mr(i,0),this.outs.forEach(d=>{o.writeInt64(d.value),o.writeVarSlice(d.script)}),a=uo(i)}else if((s&31)===yt.SIGHASH_SINGLE&&t<this.outs.length){const f=this.outs[t];i=new Uint8Array(8+so(f.script)),o=new mr(i,0),o.writeInt64(f.value),o.writeVarSlice(f.script),a=uo(i)}i=new Uint8Array(156+so(n)),o=new mr(i,0);const l=this.ins[t];return o.writeUInt32(this.version),o.writeSlice(c),o.writeSlice(u),o.writeSlice(l.hash),o.writeUInt32(l.index),o.writeVarSlice(n),o.writeInt64(r),o.writeUInt32(l.sequence),o.writeSlice(a),o.writeUInt32(this.locktime),o.writeUInt32(s),uo(i)}getHash(t){return t&&this.isCoinbase()?new Uint8Array(32):uo(this.__toBuffer(void 0,void 0,t))}getId(){return tt(Hh(this.getHash(!1)))}toBuffer(t,n){return this.__toBuffer(t,n,!0)}toHex(){return tt(this.toBuffer(void 0,void 0))}setInputScript(t,n){en(co([xs(),Nt]),[t,n]),this.ins[t].script=n}setWitness(t,n){en(co([xs(),ns(Nt)]),[t,n]),this.ins[t].witness=n}__toBuffer(t,n,r=!1){t||(t=new Uint8Array(this.byteLength(r)));const s=new mr(t,n||0);s.writeUInt32(this.version);const i=r&&this.hasWitnesses();return i&&(s.writeUInt8(yt.ADVANCED_TRANSACTION_MARKER),s.writeUInt8(yt.ADVANCED_TRANSACTION_FLAG)),s.writeVarInt(this.ins.length),this.ins.forEach(o=>{s.writeSlice(o.hash),s.writeUInt32(o.index),s.writeVarSlice(o.script),s.writeUInt32(o.sequence)}),s.writeVarInt(this.outs.length),this.outs.forEach(o=>{$ae(o)?s.writeInt64(o.value):s.writeSlice(o.valueBuffer),s.writeVarSlice(o.script)}),i&&this.ins.forEach(o=>{s.writeVector(o.witness)}),s.writeUInt32(this.locktime),n!==void 0?t.slice(n,s.offset):t}};pe(yt,"DEFAULT_SEQUENCE",4294967295),pe(yt,"SIGHASH_DEFAULT",0),pe(yt,"SIGHASH_ALL",1),pe(yt,"SIGHASH_NONE",2),pe(yt,"SIGHASH_SINGLE",3),pe(yt,"SIGHASH_ANYONECANPAY",128),pe(yt,"SIGHASH_OUTPUT_MASK",3),pe(yt,"SIGHASH_INPUT_MASK",128),pe(yt,"ADVANCED_TRANSACTION_MARKER",0),pe(yt,"ADVANCED_TRANSACTION_FLAG",1);let Wt=yt;const tb=new TypeError("Cannot compute merkle root for zero transactions"),Z5=new TypeError("Cannot compute witness commit for non-segwit block");class Hc{constructor(){pe(this,"version",1);pe(this,"prevHash");pe(this,"merkleRoot");pe(this,"timestamp",0);pe(this,"witnessCommit");pe(this,"bits",0);pe(this,"nonce",0);pe(this,"transactions")}static fromBuffer(t){if(t.length<80)throw new Error("Buffer too small (< 80 bytes)");const n=new z7(t),r=new Hc;if(r.version=n.readInt32(),r.prevHash=n.readSlice(32),r.merkleRoot=n.readSlice(32),r.timestamp=n.readUInt32(),r.bits=n.readUInt32(),r.nonce=n.readUInt32(),t.length===80)return r;const s=()=>{const a=Wt.fromBuffer(n.buffer.slice(n.offset),!0);return n.offset+=a.byteLength(),a},i=n.readVarInt();r.transactions=[];for(let a=0;a<i;++a){const c=s();r.transactions.push(c)}const o=r.getWitnessCommit();return o&&(r.witnessCommit=o),r}static fromHex(t){return Hc.fromBuffer(To(t))}static calculateTarget(t){const n=((t&4278190080)>>24)-3,r=t&8388607,s=new Uint8Array(32);return s[29-n]=r>>16&255,s[30-n]=r>>8&255,s[31-n]=r&255,s}static calculateMerkleRoot(t,n){if(en(ns(Sn({getHash:T7()})),t),t.length===0)throw tb;if(n&&!X5(t))throw Z5;const r=t.map(i=>i.getHash(n)),s=Rae(r,uo);return n?uo(Qt([s,t[0].ins[0].witness[0]])):s}getWitnessCommit(){if(!X5(this.transactions))return null;const t=this.transactions[0].outs.filter(r=>Te(r.script.slice(0,6),Uint8Array.from([106,36,170,33,169,237]))===0).map(r=>r.script.slice(6,38));if(t.length===0)return null;const n=t[t.length-1];return n instanceof Uint8Array&&n.length===32?n:null}hasWitnessCommit(){return this.witnessCommit instanceof Uint8Array&&this.witnessCommit.length===32||this.getWitnessCommit()!==null}hasWitness(){return zae(this.transactions)}weight(){const t=this.byteLength(!1,!1),n=this.byteLength(!1,!0);return t*3+n}byteLength(t,n=!0){return t||!this.transactions?80:80+Xs(this.transactions.length)+this.transactions.reduce((r,s)=>r+s.byteLength(n),0)}getHash(){return uo(this.toBuffer(!0))}getId(){return tt(Hh(this.getHash()))}getUTCDate(){const t=new Date(0);return t.setUTCSeconds(this.timestamp),t}toBuffer(t){const n=new Uint8Array(this.byteLength(t)),r=new mr(n);if(r.writeInt32(this.version),r.writeSlice(this.prevHash),r.writeSlice(this.merkleRoot),r.writeUInt32(this.timestamp),r.writeUInt32(this.bits),r.writeUInt32(this.nonce),t||!this.transactions)return n;const{bytes:s}=xa(this.transactions.length,n,r.offset);return r.offset+=s,this.transactions.forEach(i=>{const o=i.byteLength();i.toBuffer(n,r.offset),r.offset+=o}),n}toHex(t){return tt(this.toBuffer(t))}checkTxRoots(){const t=this.hasWitnessCommit();return!t&&this.hasWitness()?!1:this.__checkMerkleRoot()&&(t?this.__checkWitnessCommit():!0)}checkProofOfWork(){const t=Hh(this.getHash()),n=Hc.calculateTarget(this.bits);return Te(t,n)<=0}__checkMerkleRoot(){if(!this.transactions)throw tb;const t=Hc.calculateMerkleRoot(this.transactions);return Te(this.merkleRoot,t)===0}__checkWitnessCommit(){if(!this.transactions)throw tb;if(!this.hasWitnessCommit())throw Z5;const t=Hc.calculateMerkleRoot(this.transactions,!0);return Te(this.witnessCommit,t)===0}}function X5(e){return e instanceof Array&&e[0]&&e[0].ins&&e[0].ins instanceof Array&&e[0].ins[0]&&e[0].ins[0].witness&&e[0].ins[0].witness instanceof Array&&e[0].ins[0].witness.length>0}function zae(e){return e instanceof Array&&e.some(t=>typeof t=="object"&&t.ins instanceof Array&&t.ins.some(n=>typeof n=="object"&&n.witness instanceof Array&&n.witness.length>0))}var bo;(function(e){e[e.UNSIGNED_TX=0]="UNSIGNED_TX",e[e.GLOBAL_XPUB=1]="GLOBAL_XPUB"})(bo||(bo={}));var qe;(function(e){e[e.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",e[e.WITNESS_UTXO=1]="WITNESS_UTXO",e[e.PARTIAL_SIG=2]="PARTIAL_SIG",e[e.SIGHASH_TYPE=3]="SIGHASH_TYPE",e[e.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",e[e.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",e[e.BIP32_DERIVATION=6]="BIP32_DERIVATION",e[e.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",e[e.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",e[e.POR_COMMITMENT=9]="POR_COMMITMENT",e[e.TAP_KEY_SIG=19]="TAP_KEY_SIG",e[e.TAP_SCRIPT_SIG=20]="TAP_SCRIPT_SIG",e[e.TAP_LEAF_SCRIPT=21]="TAP_LEAF_SCRIPT",e[e.TAP_BIP32_DERIVATION=22]="TAP_BIP32_DERIVATION",e[e.TAP_INTERNAL_KEY=23]="TAP_INTERNAL_KEY",e[e.TAP_MERKLE_ROOT=24]="TAP_MERKLE_ROOT"})(qe||(qe={}));var An;(function(e){e[e.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",e[e.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",e[e.BIP32_DERIVATION=2]="BIP32_DERIVATION",e[e.TAP_INTERNAL_KEY=5]="TAP_INTERNAL_KEY",e[e.TAP_TREE=6]="TAP_TREE",e[e.TAP_BIP32_DERIVATION=7]="TAP_BIP32_DERIVATION"})(An||(An={}));const Fae=e=>[...Array(e).keys()];function Hae(e){if(e.key[0]!==bo.GLOBAL_XPUB)throw new Error("Decode Error: could not decode globalXpub with key 0x"+tt(e.key));if(e.key.length!==79||![2,3].includes(e.key[46]))throw new Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+tt(e.key));if(e.value.length/4%1!==0)throw new Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");const t=e.key.slice(1),n={masterFingerprint:e.value.slice(0,4),extendedPubkey:t,path:"m"};for(const r of Fae(e.value.length/4-1)){const s=pf(e.value,r*4+4,"LE"),i=!!(s&2147483648),o=s&2147483647;n.path+="/"+o.toString(10)+(i?"'":"")}return n}function qae(e){const t=new Uint8Array([bo.GLOBAL_XPUB]),n=Qt([t,e.extendedPubkey]),r=e.path.split("/"),s=new Uint8Array(r.length*4);s.set(e.masterFingerprint,0);let i=4;return r.slice(1).forEach(o=>{const a=o.slice(-1)==="'";let c=2147483647&parseInt(a?o.slice(0,-1):o,10);a&&(c+=2147483648),qp(s,i,c,"LE"),i+=4}),{key:n,value:s}}const Wae="{ masterFingerprint: Uint8Array; extendedPubkey: Uint8Array; path: string; }";function Gae(e){const t=e.extendedPubkey,n=e.masterFingerprint,r=e.path;return t instanceof Uint8Array&&t.length===78&&[2,3].indexOf(t[45])>-1&&n instanceof Uint8Array&&n.length===4&&typeof r=="string"&&!!r.match(/^m(\/\d+'?)*$/)}function Vae(e,t,n){const r=tt(t.extendedPubkey);return n.has(r)?!1:(n.add(r),e.filter(s=>Te(s.extendedPubkey,t.extendedPubkey)).length===0)}const Kae=Object.freeze(Object.defineProperty({__proto__:null,canAddToArray:Vae,check:Gae,decode:Hae,encode:qae,expected:Wae},Symbol.toStringTag,{value:"Module"}));function Qae(e){return{key:new Uint8Array([bo.UNSIGNED_TX]),value:e.toBuffer()}}const Yae=Object.freeze(Object.defineProperty({__proto__:null,encode:Qae},Symbol.toStringTag,{value:"Module"}));function Zae(e){if(e.key[0]!==qe.FINAL_SCRIPTSIG)throw new Error("Decode Error: could not decode finalScriptSig with key 0x"+tt(e.key));return e.value}function Xae(e){return{key:new Uint8Array([qe.FINAL_SCRIPTSIG]),value:e}}const Jae="Uint8Array";function ece(e){return e instanceof Uint8Array}function tce(e,t){return!!e&&!!t&&e.finalScriptSig===void 0}const nce=Object.freeze(Object.defineProperty({__proto__:null,canAdd:tce,check:ece,decode:Zae,encode:Xae,expected:Jae},Symbol.toStringTag,{value:"Module"}));function rce(e){if(e.key[0]!==qe.FINAL_SCRIPTWITNESS)throw new Error("Decode Error: could not decode finalScriptWitness with key 0x"+tt(e.key));return e.value}function sce(e){return{key:new Uint8Array([qe.FINAL_SCRIPTWITNESS]),value:e}}const ice="Uint8Array";function oce(e){return e instanceof Uint8Array}function ace(e,t){return!!e&&!!t&&e.finalScriptWitness===void 0}const cce=Object.freeze(Object.defineProperty({__proto__:null,canAdd:ace,check:oce,decode:rce,encode:sce,expected:ice},Symbol.toStringTag,{value:"Module"}));function uce(e){if(e.key[0]!==qe.NON_WITNESS_UTXO)throw new Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+tt(e.key));return e.value}function lce(e){return{key:new Uint8Array([qe.NON_WITNESS_UTXO]),value:e}}const dce="Uint8Array";function fce(e){return e instanceof Uint8Array}function hce(e,t){return!!e&&!!t&&e.nonWitnessUtxo===void 0}const pce=Object.freeze(Object.defineProperty({__proto__:null,canAdd:hce,check:fce,decode:uce,encode:lce,expected:dce},Symbol.toStringTag,{value:"Module"}));function mce(e){if(e.key[0]!==qe.PARTIAL_SIG)throw new Error("Decode Error: could not decode partialSig with key 0x"+tt(e.key));if(!(e.key.length===34||e.key.length===66)||![2,3,4].includes(e.key[1]))throw new Error("Decode Error: partialSig has invalid pubkey in key 0x"+tt(e.key));return{pubkey:e.key.slice(1),signature:e.value}}function yce(e){const t=new Uint8Array([qe.PARTIAL_SIG]);return{key:Qt([t,e.pubkey]),value:e.signature}}const gce="{ pubkey: Uint8Array; signature: Uint8Array; }";function wce(e){return e.pubkey instanceof Uint8Array&&e.signature instanceof Uint8Array&&[33,65].includes(e.pubkey.length)&&[2,3,4].includes(e.pubkey[0])&&bce(e.signature)}function bce(e){if(!(e instanceof Uint8Array)||e.length<9||e[0]!==48||e.length!==e[1]+3||e[2]!==2)return!1;const t=e[3];if(t>33||t<1||e[3+t+1]!==2)return!1;const n=e[3+t+2];return!(n>33||n<1||e.length!==3+t+2+n+2)}function vce(e,t,n){const r=tt(t.pubkey);return n.has(r)?!1:(n.add(r),e.filter(s=>Te(s.pubkey,t.pubkey)===0).length===0)}const Ece=Object.freeze(Object.defineProperty({__proto__:null,canAddToArray:vce,check:wce,decode:mce,encode:yce,expected:gce},Symbol.toStringTag,{value:"Module"}));function xce(e){if(e.key[0]!==qe.POR_COMMITMENT)throw new Error("Decode Error: could not decode porCommitment with key 0x"+tt(e.key));return Boe(e.value)}function Ace(e){return{key:new Uint8Array([qe.POR_COMMITMENT]),value:Noe(e)}}const Ice="string";function Sce(e){return typeof e=="string"}function kce(e,t){return!!e&&!!t&&e.porCommitment===void 0}const Cce=Object.freeze(Object.defineProperty({__proto__:null,canAdd:kce,check:Sce,decode:xce,encode:Ace,expected:Ice},Symbol.toStringTag,{value:"Module"}));function Tce(e){if(e.key[0]!==qe.SIGHASH_TYPE)throw new Error("Decode Error: could not decode sighashType with key 0x"+tt(e.key));return Number(pf(e.value,0,"LE"))}function _ce(e){const t=Uint8Array.from([qe.SIGHASH_TYPE]),n=new Uint8Array(4);return qp(n,0,e,"LE"),{key:t,value:n}}const Mce="number";function Bce(e){return typeof e=="number"}function Nce(e,t){return!!e&&!!t&&e.sighashType===void 0}const Oce=Object.freeze(Object.defineProperty({__proto__:null,canAdd:Nce,check:Bce,decode:Tce,encode:_ce,expected:Mce},Symbol.toStringTag,{value:"Module"}));function Pce(e){if(e.key[0]!==qe.TAP_KEY_SIG||e.key.length!==1)throw new Error("Decode Error: could not decode tapKeySig with key 0x"+tt(e.key));if(!Y7(e.value))throw new Error("Decode Error: tapKeySig not a valid 64-65-byte BIP340 signature");return e.value}function jce(e){return{key:Uint8Array.from([qe.TAP_KEY_SIG]),value:e}}const Rce="Uint8Array";function Y7(e){return e instanceof Uint8Array&&(e.length===64||e.length===65)}function Dce(e,t){return!!e&&!!t&&e.tapKeySig===void 0}const Uce=Object.freeze(Object.defineProperty({__proto__:null,canAdd:Dce,check:Y7,decode:Pce,encode:jce,expected:Rce},Symbol.toStringTag,{value:"Module"}));function Lce(e){if(e.key[0]!==qe.TAP_LEAF_SCRIPT)throw new Error("Decode Error: could not decode tapLeafScript with key 0x"+tt(e.key));if((e.key.length-2)%32!==0)throw new Error("Decode Error: tapLeafScript has invalid control block in key 0x"+tt(e.key));const t=e.value[e.value.length-1];if((e.key[1]&254)!==t)throw new Error("Decode Error: tapLeafScript bad leaf version in key 0x"+tt(e.key));const n=e.value.slice(0,-1);return{controlBlock:e.key.slice(1),script:n,leafVersion:t}}function $ce(e){const t=Uint8Array.from([qe.TAP_LEAF_SCRIPT]),n=Uint8Array.from([e.leafVersion]);return{key:Qt([t,e.controlBlock]),value:Qt([e.script,n])}}const zce="{ controlBlock: Uint8Array; leafVersion: number, script: Uint8Array; }";function Fce(e){return e.controlBlock instanceof Uint8Array&&(e.controlBlock.length-1)%32===0&&(e.controlBlock[0]&254)===e.leafVersion&&e.script instanceof Uint8Array}function Hce(e,t,n){const r=tt(t.controlBlock);return n.has(r)?!1:(n.add(r),e.filter(s=>Te(s.controlBlock,t.controlBlock)===0).length===0)}const qce=Object.freeze(Object.defineProperty({__proto__:null,canAddToArray:Hce,check:Fce,decode:Lce,encode:$ce,expected:zce},Symbol.toStringTag,{value:"Module"}));function Wce(e){if(e.key[0]!==qe.TAP_MERKLE_ROOT||e.key.length!==1)throw new Error("Decode Error: could not decode tapMerkleRoot with key 0x"+tt(e.key));if(!Z7(e.value))throw new Error("Decode Error: tapMerkleRoot not a 32-byte hash");return e.value}function Gce(e){return{key:Uint8Array.from([qe.TAP_MERKLE_ROOT]),value:e}}const Vce="Uint8Array";function Z7(e){return e instanceof Uint8Array&&e.length===32}function Kce(e,t){return!!e&&!!t&&e.tapMerkleRoot===void 0}const Qce=Object.freeze(Object.defineProperty({__proto__:null,canAdd:Kce,check:Z7,decode:Wce,encode:Gce,expected:Vce},Symbol.toStringTag,{value:"Module"}));function Yce(e){if(e.key[0]!==qe.TAP_SCRIPT_SIG)throw new Error("Decode Error: could not decode tapScriptSig with key 0x"+tt(e.key));if(e.key.length!==65)throw new Error("Decode Error: tapScriptSig has invalid key 0x"+tt(e.key));if(e.value.length!==64&&e.value.length!==65)throw new Error("Decode Error: tapScriptSig has invalid signature in key 0x"+tt(e.key));const t=e.key.slice(1,33),n=e.key.slice(33);return{pubkey:t,leafHash:n,signature:e.value}}function Zce(e){const t=Uint8Array.from([qe.TAP_SCRIPT_SIG]);return{key:Qt([t,e.pubkey,e.leafHash]),value:e.signature}}const Xce="{ pubkey: Uint8Array; leafHash: Uint8Array; signature: Uint8Array; }";function Jce(e){return e.pubkey instanceof Uint8Array&&e.leafHash instanceof Uint8Array&&e.signature instanceof Uint8Array&&e.pubkey.length===32&&e.leafHash.length===32&&(e.signature.length===64||e.signature.length===65)}function eue(e,t,n){const r=tt(t.pubkey)+tt(t.leafHash);return n.has(r)?!1:(n.add(r),e.filter(s=>Te(s.pubkey,t.pubkey)===0&&Te(s.leafHash,t.leafHash)===0).length===0)}const tue=Object.freeze(Object.defineProperty({__proto__:null,canAddToArray:eue,check:Jce,decode:Yce,encode:Zce,expected:Xce},Symbol.toStringTag,{value:"Module"}));function nue(e){if(e.key[0]!==qe.WITNESS_UTXO)throw new Error("Decode Error: could not decode witnessUtxo with key 0x"+tt(e.key));const t=E7(e.value,0,"LE");let n=8;const{numberValue:r,bytes:s}=yf(e.value,n);n+=s;const i=e.value.slice(n);if(i.length!==r)throw new Error("Decode Error: WITNESS_UTXO script is not proper length");return{script:i,value:t}}function rue(e){const{script:t,value:n}=e,r=Xs(t.length),s=new Uint8Array(8+r+t.length);return v7(s,0,BigInt(n),"LE"),xa(t.length,s,8),s.set(t,8+r),{key:Uint8Array.from([qe.WITNESS_UTXO]),value:s}}const sue="{ script: Uint8Array; value: bigint; }";function iue(e){return e.script instanceof Uint8Array&&typeof e.value=="bigint"}function oue(e,t){return!!e&&!!t&&e.witnessUtxo===void 0}const aue=Object.freeze(Object.defineProperty({__proto__:null,canAdd:oue,check:iue,decode:nue,encode:rue,expected:sue},Symbol.toStringTag,{value:"Module"}));function cue(e){if(e.key[0]!==An.TAP_TREE||e.key.length!==1)throw new Error("Decode Error: could not decode tapTree with key 0x"+tt(e.key));let t=0;const n=[];for(;t<e.value.length;){const r=e.value[t++],s=e.value[t++],{numberValue:i,bytes:o}=yf(e.value,t);t+=o,n.push({depth:r,leafVersion:s,script:e.value.slice(t,t+i)}),t+=i}return{leaves:n}}function uue(e){const t=Uint8Array.from([An.TAP_TREE]),n=[].concat(...e.leaves.map(r=>[Uint8Array.of(r.depth,r.leafVersion),xa(BigInt(r.script.length)).buffer,r.script]));return{key:t,value:Qt(n)}}const lue="{ leaves: [{ depth: number; leafVersion: number, script: Uint8Array; }] }";function due(e){return Array.isArray(e.leaves)&&e.leaves.every(t=>t.depth>=0&&t.depth<=128&&(t.leafVersion&254)===t.leafVersion&&t.script instanceof Uint8Array)}function fue(e,t){return!!e&&!!t&&e.tapTree===void 0}const hue=Object.freeze(Object.defineProperty({__proto__:null,canAdd:fue,check:due,decode:cue,encode:uue,expected:lue},Symbol.toStringTag,{value:"Module"})),pue=e=>[...Array(e).keys()],mue=e=>e.length===33&&[2,3].includes(e[0])||e.length===65&&e[0]===4;function gA(e,t=mue){function n(a){if(a.key[0]!==e)throw new Error("Decode Error: could not decode bip32Derivation with key 0x"+tt(a.key));const c=a.key.slice(1);if(!t(c))throw new Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+tt(a.key));if(a.value.length/4%1!==0)throw new Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");const u={masterFingerprint:a.value.slice(0,4),pubkey:c,path:"m"};for(const l of pue(a.value.length/4-1)){const f=pf(a.value,l*4+4,"LE"),d=!!(f&2147483648),h=f&2147483647;u.path+="/"+h.toString(10)+(d?"'":"")}return u}function r(a){const c=Uint8Array.from([e]),u=Qt([c,a.pubkey]),l=a.path.split("/"),f=new Uint8Array(l.length*4);f.set(a.masterFingerprint,0);let d=4;return l.slice(1).forEach(h=>{const p=h.slice(-1)==="'";let m=2147483647&parseInt(p?h.slice(0,-1):h,10);p&&(m+=2147483648),qp(f,d,m,"LE"),d+=4}),{key:u,value:f}}const s="{ masterFingerprint: Uint8Array; pubkey: Uint8Array; path: string; }";function i(a){return a.pubkey instanceof Uint8Array&&a.masterFingerprint instanceof Uint8Array&&typeof a.path=="string"&&t(a.pubkey)&&a.masterFingerprint.length===4}function o(a,c,u){const l=tt(c.pubkey);return u.has(l)?!1:(u.add(l),a.filter(f=>Te(f.pubkey,c.pubkey)===0).length===0)}return{decode:n,encode:r,check:i,expected:s,canAddToArray:o}}function wA(e){return t;function t(n){let r;if(e.includes(n.key[0])&&(r=n.key.slice(1),!(r.length===33||r.length===65)||![2,3,4].includes(r[0])))throw new Error("Format Error: invalid pubkey in key 0x"+tt(n.key));return r}}function X7(e){function t(o){if(o.key[0]!==e)throw new Error("Decode Error: could not decode redeemScript with key 0x"+tt(o.key));return o.value}function n(o){return{key:Uint8Array.from([e]),value:o}}const r="Uint8Array";function s(o){return o instanceof Uint8Array}function i(o,a){return!!o&&!!a&&o.redeemScript===void 0}return{decode:t,encode:n,check:s,expected:r,canAdd:i}}const yue=e=>e.length===32;function J7(e){const t=gA(e,yue);function n(o){const{numberValue:a,bytes:c}=yf(o.value),u=t.decode({key:o.key,value:o.value.slice(c+Number(a)*32)}),l=new Array(Number(a));for(let f=0,d=c;f<a;f++,d+=32)l[f]=o.value.slice(d,d+32);return{...u,leafHashes:l}}function r(o){const a=t.encode(o),c=Xs(o.leafHashes.length),u=new Uint8Array(c);xa(o.leafHashes.length,u);const l=Qt([u,...o.leafHashes,a.value]);return{...a,value:l}}const s="{ masterFingerprint: Uint8Array; pubkey: Uint8Array; path: string; leafHashes: Uint8Array[]; }";function i(o){return Array.isArray(o.leafHashes)&&o.leafHashes.every(a=>a instanceof Uint8Array&&a.length===32)&&t.check(o)}return{decode:n,encode:r,check:i,expected:s,canAddToArray:t.canAddToArray}}function eR(e){function t(o){if(o.key[0]!==e||o.key.length!==1)throw new Error("Decode Error: could not decode tapInternalKey with key 0x"+tt(o.key));if(o.value.length!==32)throw new Error("Decode Error: tapInternalKey not a 32-byte x-only pubkey");return o.value}function n(o){return{key:Uint8Array.from([e]),value:o}}const r="Uint8Array";function s(o){return o instanceof Uint8Array&&o.length===32}function i(o,a){return!!o&&!!a&&o.tapInternalKey===void 0}return{decode:t,encode:n,check:s,expected:r,canAdd:i}}function tR(e){function t(o){if(o.key[0]!==e)throw new Error("Decode Error: could not decode witnessScript with key 0x"+tt(o.key));return o.value}function n(o){return{key:Uint8Array.from([e]),value:o}}const r="Uint8Array";function s(o){return o instanceof Uint8Array}function i(o,a){return!!o&&!!a&&o.witnessScript===void 0}return{decode:t,encode:n,check:s,expected:r,canAdd:i}}const bA={unsignedTx:Yae,globalXpub:Kae,checkPubkey:wA([])},Wn={nonWitnessUtxo:pce,partialSig:Ece,sighashType:Oce,finalScriptSig:nce,finalScriptWitness:cce,porCommitment:Cce,witnessUtxo:aue,bip32Derivation:gA(qe.BIP32_DERIVATION),redeemScript:X7(qe.REDEEM_SCRIPT),witnessScript:tR(qe.WITNESS_SCRIPT),checkPubkey:wA([qe.PARTIAL_SIG,qe.BIP32_DERIVATION]),tapKeySig:Uce,tapScriptSig:tue,tapLeafScript:qce,tapBip32Derivation:J7(qe.TAP_BIP32_DERIVATION),tapInternalKey:eR(qe.TAP_INTERNAL_KEY),tapMerkleRoot:Qce},Lo={bip32Derivation:gA(An.BIP32_DERIVATION),redeemScript:X7(An.REDEEM_SCRIPT),witnessScript:tR(An.WITNESS_SCRIPT),checkPubkey:wA([An.BIP32_DERIVATION]),tapBip32Derivation:J7(An.TAP_BIP32_DERIVATION),tapTree:hue,tapInternalKey:eR(An.TAP_INTERNAL_KEY)},gue=Object.freeze(Object.defineProperty({__proto__:null,globals:bA,inputs:Wn,outputs:Lo},Symbol.toStringTag,{value:"Module"})),Oy=e=>[...Array(e).keys()];function J5(e){const t=e.map(wue);return t.push(Uint8Array.from([0])),Qt(t)}function wue(e){const t=e.key.length,n=e.value.length,r=Xs(t),s=Xs(n),i=new Uint8Array(r+t+s+n);return xa(t,i,0),i.set(e.key,r),xa(n,i,r+t),i.set(e.value,r+t+s),i}function bue(e,t){let n=0;function r(){const{numberValue:y,bytes:b}=yf(e,n);n+=b;const I=e.slice(n,n+Number(y));return n+=Number(y),I}function s(){const y=pf(e,n,"BE");return n+=4,y}function i(){const y=va(e,n);return n+=1,y}function o(){const y=r(),b=r();return{key:y,value:b}}function a(){if(n>=e.length)throw new Error("Format Error: Unexpected End of PSBT");const y=va(e,n)===0;return y&&n++,y}if(s()!==1886610036)throw new Error("Format Error: Invalid Magic Number");if(i()!==255)throw new Error("Format Error: Magic Number must be followed by 0xff separator");const c=[],u={};for(;!a();){const y=o(),b=tt(y.key);if(u[b])throw new Error("Format Error: Keys must be unique for global keymap: key "+b);u[b]=1,c.push(y)}const l=c.filter(y=>y.key[0]===bo.UNSIGNED_TX);if(l.length!==1)throw new Error("Format Error: Only one UNSIGNED_TX allowed");const f=t(l[0].value),{inputCount:d,outputCount:h}=f.getInputOutputCounts(),p=[],m=[];for(const y of Oy(d)){const b={},I=[];for(;!a();){const v=o(),E=tt(v.key);if(b[E])throw new Error("Format Error: Keys must be unique for each input: input index "+y+" key "+E);b[E]=1,I.push(v)}p.push(I)}for(const y of Oy(h)){const b={},I=[];for(;!a();){const v=o(),E=tt(v.key);if(b[E])throw new Error("Format Error: Keys must be unique for each output: output index "+y+" key "+E);b[E]=1,I.push(v)}m.push(I)}return nR(f,{globalMapKeyVals:c,inputKeyVals:p,outputKeyVals:m})}function $r(e,t,n){if(Te(t,Uint8Array.from([n])))throw new Error(`Format Error: Invalid ${e} key: ${tt(t)}`)}function nR(e,{globalMapKeyVals:t,inputKeyVals:n,outputKeyVals:r}){const s={unsignedTx:e};let i=0;for(const l of t)switch(l.key[0]){case bo.UNSIGNED_TX:if($r("global",l.key,bo.UNSIGNED_TX),i>0)throw new Error("Format Error: GlobalMap has multiple UNSIGNED_TX");i++;break;case bo.GLOBAL_XPUB:s.globalXpub===void 0&&(s.globalXpub=[]),s.globalXpub.push(bA.globalXpub.decode(l));break;default:s.unknownKeyVals||(s.unknownKeyVals=[]),s.unknownKeyVals.push(l)}const o=n.length,a=r.length,c=[],u=[];for(const l of Oy(o)){const f={};for(const d of n[l])switch(Wn.checkPubkey(d),d.key[0]){case qe.NON_WITNESS_UTXO:if($r("input",d.key,qe.NON_WITNESS_UTXO),f.nonWitnessUtxo!==void 0)throw new Error("Format Error: Input has multiple NON_WITNESS_UTXO");f.nonWitnessUtxo=Wn.nonWitnessUtxo.decode(d);break;case qe.WITNESS_UTXO:if($r("input",d.key,qe.WITNESS_UTXO),f.witnessUtxo!==void 0)throw new Error("Format Error: Input has multiple WITNESS_UTXO");f.witnessUtxo=Wn.witnessUtxo.decode(d);break;case qe.PARTIAL_SIG:f.partialSig===void 0&&(f.partialSig=[]),f.partialSig.push(Wn.partialSig.decode(d));break;case qe.SIGHASH_TYPE:if($r("input",d.key,qe.SIGHASH_TYPE),f.sighashType!==void 0)throw new Error("Format Error: Input has multiple SIGHASH_TYPE");f.sighashType=Wn.sighashType.decode(d);break;case qe.REDEEM_SCRIPT:if($r("input",d.key,qe.REDEEM_SCRIPT),f.redeemScript!==void 0)throw new Error("Format Error: Input has multiple REDEEM_SCRIPT");f.redeemScript=Wn.redeemScript.decode(d);break;case qe.WITNESS_SCRIPT:if($r("input",d.key,qe.WITNESS_SCRIPT),f.witnessScript!==void 0)throw new Error("Format Error: Input has multiple WITNESS_SCRIPT");f.witnessScript=Wn.witnessScript.decode(d);break;case qe.BIP32_DERIVATION:f.bip32Derivation===void 0&&(f.bip32Derivation=[]),f.bip32Derivation.push(Wn.bip32Derivation.decode(d));break;case qe.FINAL_SCRIPTSIG:$r("input",d.key,qe.FINAL_SCRIPTSIG),f.finalScriptSig=Wn.finalScriptSig.decode(d);break;case qe.FINAL_SCRIPTWITNESS:$r("input",d.key,qe.FINAL_SCRIPTWITNESS),f.finalScriptWitness=Wn.finalScriptWitness.decode(d);break;case qe.POR_COMMITMENT:$r("input",d.key,qe.POR_COMMITMENT),f.porCommitment=Wn.porCommitment.decode(d);break;case qe.TAP_KEY_SIG:$r("input",d.key,qe.TAP_KEY_SIG),f.tapKeySig=Wn.tapKeySig.decode(d);break;case qe.TAP_SCRIPT_SIG:f.tapScriptSig===void 0&&(f.tapScriptSig=[]),f.tapScriptSig.push(Wn.tapScriptSig.decode(d));break;case qe.TAP_LEAF_SCRIPT:f.tapLeafScript===void 0&&(f.tapLeafScript=[]),f.tapLeafScript.push(Wn.tapLeafScript.decode(d));break;case qe.TAP_BIP32_DERIVATION:f.tapBip32Derivation===void 0&&(f.tapBip32Derivation=[]),f.tapBip32Derivation.push(Wn.tapBip32Derivation.decode(d));break;case qe.TAP_INTERNAL_KEY:$r("input",d.key,qe.TAP_INTERNAL_KEY),f.tapInternalKey=Wn.tapInternalKey.decode(d);break;case qe.TAP_MERKLE_ROOT:$r("input",d.key,qe.TAP_MERKLE_ROOT),f.tapMerkleRoot=Wn.tapMerkleRoot.decode(d);break;default:f.unknownKeyVals||(f.unknownKeyVals=[]),f.unknownKeyVals.push(d)}c.push(f)}for(const l of Oy(a)){const f={};for(const d of r[l])switch(Lo.checkPubkey(d),d.key[0]){case An.REDEEM_SCRIPT:if($r("output",d.key,An.REDEEM_SCRIPT),f.redeemScript!==void 0)throw new Error("Format Error: Output has multiple REDEEM_SCRIPT");f.redeemScript=Lo.redeemScript.decode(d);break;case An.WITNESS_SCRIPT:if($r("output",d.key,An.WITNESS_SCRIPT),f.witnessScript!==void 0)throw new Error("Format Error: Output has multiple WITNESS_SCRIPT");f.witnessScript=Lo.witnessScript.decode(d);break;case An.BIP32_DERIVATION:f.bip32Derivation===void 0&&(f.bip32Derivation=[]),f.bip32Derivation.push(Lo.bip32Derivation.decode(d));break;case An.TAP_INTERNAL_KEY:$r("output",d.key,An.TAP_INTERNAL_KEY),f.tapInternalKey=Lo.tapInternalKey.decode(d);break;case An.TAP_TREE:$r("output",d.key,An.TAP_TREE),f.tapTree=Lo.tapTree.decode(d);break;case An.TAP_BIP32_DERIVATION:f.tapBip32Derivation===void 0&&(f.tapBip32Derivation=[]),f.tapBip32Derivation.push(Lo.tapBip32Derivation.decode(d));break;default:f.unknownKeyVals||(f.unknownKeyVals=[]),f.unknownKeyVals.push(d)}u.push(f)}return{globalMap:s,inputs:c,outputs:u}}function vue({globalMap:e,inputs:t,outputs:n}){const{globalKeyVals:r,inputKeyVals:s,outputKeyVals:i}=z2({globalMap:e,inputs:t,outputs:n}),o=J5(r),a=f=>f.length===0?[Uint8Array.from([0])]:f.map(J5),c=a(s),u=a(i),l=new Uint8Array(5);return l.set([112,115,98,116,255],0),Qt([l,o].concat(c,u))}const Eue=(e,t)=>Te(e.key,t.key);function nb(e,t){const n=new Set,r=Object.entries(e).reduce((i,[o,a])=>{if(o==="unknownKeyVals")return i;const c=t[o];if(c===void 0)return i;const u=(Array.isArray(a)?a:[a]).map(c.encode);return u.map(f=>tt(f.key)).forEach(f=>{if(n.has(f))throw new Error("Serialize Error: Duplicate key: "+f);n.add(f)}),i.concat(u)},[]),s=e.unknownKeyVals?e.unknownKeyVals.filter(i=>!n.has(tt(i.key))):[];return r.concat(s).sort(Eue)}function z2({globalMap:e,inputs:t,outputs:n}){return{globalKeyVals:nb(e,bA),inputKeyVals:t.map(r=>nb(r,Wn)),outputKeyVals:n.map(r=>nb(r,Lo))}}function xue(e){const t=e[0],n=z2(t),r=e.slice(1);if(r.length===0)throw new Error("Combine: Nothing to combine");const s=eS(t);if(s===void 0)throw new Error("Combine: Self missing transaction");const i=gl(n.globalKeyVals),o=n.inputKeyVals.map(gl),a=n.outputKeyVals.map(gl);for(const c of r){const u=eS(c);if(u===void 0||Te(u.toBuffer(),s.toBuffer())!==0)throw new Error("Combine: One of the Psbts does not have the same transaction.");const l=z2(c);gl(l.globalKeyVals).forEach(rb(i,n.globalKeyVals,l.globalKeyVals)),l.inputKeyVals.map(gl).forEach((p,m)=>p.forEach(rb(o[m],n.inputKeyVals[m],l.inputKeyVals[m]))),l.outputKeyVals.map(gl).forEach((p,m)=>p.forEach(rb(a[m],n.outputKeyVals[m],l.outputKeyVals[m])))}return nR(s,{globalMapKeyVals:n.globalKeyVals,inputKeyVals:n.inputKeyVals,outputKeyVals:n.outputKeyVals})}function rb(e,t,n){return r=>{if(e.has(r))return;const s=n.filter(i=>tt(i.key)===r)[0];t.push(s),e.add(r)}}function eS(e){return e.globalMap.unsignedTx}function gl(e){const t=new Set;return e.forEach(n=>{const r=tt(n.key);if(t.has(r))throw new Error("Combine: KeyValue Map keys should be unique");t.add(r)}),t}function gr(e,t){const n=e[t];if(n===void 0)throw new Error(`No input #${t}`);return n}function qh(e,t){const n=e[t];if(n===void 0)throw new Error(`No output #${t}`);return n}function sb(e,t,n){if(e.key[0]<n)throw new Error("Use the method for your specific key instead of addUnknownKeyVal*");if(t&&t.filter(r=>Te(r.key,e.key)===0).length!==0)throw new Error(`Duplicate Key: ${tt(e.key)}`)}function ib(e){let t=0;return Object.keys(e).forEach(n=>{Number(isNaN(Number(n)))&&t++}),t}function Aue(e,t){let n=!1;if(t.nonWitnessUtxo||t.witnessUtxo){const r=!!t.redeemScript,s=!!t.witnessScript,i=!r||!!t.finalScriptSig,o=!s||!!t.finalScriptWitness,a=!!t.finalScriptSig||!!t.finalScriptWitness;n=i&&o&&a}if(n===!1)throw new Error(`Input #${e} has too much or too little data to clean`)}function tS(e,t,n,r){throw new Error(`Data for ${e} key ${t} is incorrect: Expected ${n} and got ${JSON.stringify(r)}`)}function vA(e){return(t,n)=>{for(const r of Object.keys(t)){const s=t[r],{canAdd:i,canAddToArray:o,check:a,expected:c}=gue[e+"s"][r]||{},u=!!o;if(a)if(u){if(!Array.isArray(s)||n[r]&&!Array.isArray(n[r]))throw new Error(`Key type ${r} must be an array`);s.every(a)||tS(e,r,c,s);const l=n[r]||[],f=new Set;if(!s.every(d=>o(l,d,f)))throw new Error("Can not add duplicate data to array");n[r]=l.concat(s)}else{if(a(s)||tS(e,r,c,s),!i(n,s))throw new Error(`Can not add duplicate data to ${e}`);n[r]=s}}}}const Iue=vA("global"),rR=vA("input"),sR=vA("output");function Sue(e,t){const n=e.length-1,r=gr(e,n);rR(t,r)}function kue(e,t){const n=e.length-1,r=qh(e,n);sR(t,r)}let nS=class{constructor(t){this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:t}}static fromBase64(t,n){const r=w7(t);return this.fromBuffer(r,n)}static fromHex(t,n){const r=To(t);return this.fromBuffer(r,n)}static fromBuffer(t,n){const r=bue(t,n),s=new this(r.globalMap.unsignedTx);return Object.assign(s,r),s}toBase64(){const t=this.toBuffer();return joe(t)}toHex(){const t=this.toBuffer();return tt(t)}toBuffer(){return vue(this)}updateGlobal(t){return Iue(t,this.globalMap),this}updateInput(t,n){const r=gr(this.inputs,t);return rR(n,r),this}updateOutput(t,n){const r=qh(this.outputs,t);return sR(n,r),this}addUnknownKeyValToGlobal(t){return sb(t,this.globalMap.unknownKeyVals,ib(bo)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(t),this}addUnknownKeyValToInput(t,n){const r=gr(this.inputs,t);return sb(n,r.unknownKeyVals,ib(qe)),r.unknownKeyVals||(r.unknownKeyVals=[]),r.unknownKeyVals.push(n),this}addUnknownKeyValToOutput(t,n){const r=qh(this.outputs,t);return sb(n,r.unknownKeyVals,ib(An)),r.unknownKeyVals||(r.unknownKeyVals=[]),r.unknownKeyVals.push(n),this}addInput(t){this.globalMap.unsignedTx.addInput(t),this.inputs.push({unknownKeyVals:[]});const n=t.unknownKeyVals||[],r=this.inputs.length-1;if(!Array.isArray(n))throw new Error("unknownKeyVals must be an Array");return n.forEach(s=>this.addUnknownKeyValToInput(r,s)),Sue(this.inputs,t),this}addOutput(t){this.globalMap.unsignedTx.addOutput(t),this.outputs.push({unknownKeyVals:[]});const n=t.unknownKeyVals||[],r=this.outputs.length-1;if(!Array.isArray(n))throw new Error("unknownKeyVals must be an Array");return n.forEach(s=>this.addUnknownKeyValToOutput(r,s)),kue(this.outputs,t),this}clearFinalizedInput(t){const n=gr(this.inputs,t);Aue(t,n);for(const r of Object.keys(n))["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(r)||delete n[r];return this}combine(...t){const n=xue([this].concat(t));return Object.assign(this,n),this}getTransaction(){return this.globalMap.unsignedTx.toBuffer()}};function al(e){return t=>{try{return e({output:t}),!0}catch{return!1}}}const Cue=al(cw),Tue=al(R7),_ue=al(Wp),lw=al(Vp),rS=al(Kp),iR=al(Gp),oR=al(Qp);function Py(e){let t=new Uint8Array(0);function n(o){t=Qt([t,o])}function r(o){const a=t.length,c=Xs(o);t=Qt([t,new Uint8Array(c)]),xa(o,t,a)}function s(o){r(o.length),n(o)}function i(o){r(o.length),o.forEach(s)}return i(e),t}function aR(e,t){const n=aa(e),r=e.slice(1,33),s=gn(t);if(s===null)throw new Error("Unknown script error");return s.findIndex(i=>typeof i=="number"?!1:Te(e,i)===0||Te(n,i)===0||Te(r,i)===0)}function dw(e,t){return aR(e,t)!==-1}function Mue(e,t){return Bue(e).some(r=>cR(r,ah.decode,t))}function cR(e,t,n){const{hashType:r}=t(e),s=[];switch(r&Wt.SIGHASH_ANYONECANPAY&&s.push("addInput"),r&31){case Wt.SIGHASH_ALL:break;case Wt.SIGHASH_SINGLE:case Wt.SIGHASH_NONE:s.push("addOutput"),s.push("setInputSequence");break}return s.indexOf(n)===-1}function Bue(e){let t=[];if((e.partialSig||[]).length===0){if(!e.finalScriptSig&&!e.finalScriptWitness)return[];t=Nue(e)}else t=e.partialSig;return t.map(n=>n.signature)}function Nue(e){const t=e.finalScriptSig?gn(e.finalScriptSig)||[]:[],n=e.finalScriptWitness?gn(e.finalScriptWitness)||[]:[];return t.concat(n).filter(r=>r instanceof Uint8Array&&Ea(r)).map(r=>({signature:r}))}const wm=e=>e.length===32?e:e.slice(1,33);function sS(e,t,n){const r=Gue(t,e,n);try{const i=que(t,r).concat(r.script).concat(r.controlBlock);return{finalScriptWitness:Py(i)}}catch(s){throw new Error(`Can not finalize taproot input #${e}: ${s}`)}}function O0(e,t){const n=t?Uint8Array.from([t]):Uint8Array.from([]);return Qt([e,n])}function Ni(e){return e&&!!(e.tapInternalKey||e.tapMerkleRoot||e.tapLeafScript&&e.tapLeafScript.length||e.tapBip32Derivation&&e.tapBip32Derivation.length||e.witnessUtxo&&oR(e.witnessUtxo.script))}function ob(e,t){return e&&!!(e.tapInternalKey||e.tapTree||e.tapBip32Derivation&&e.tapBip32Derivation.length||t)}function iS(e,t,n){zue(e,t,n),Hue(e,t,n)}function oS(e,t,n){Fue(e,t,n),Oue(e,t)}function Oue(e,t){if(!t.tapTree&&!t.tapInternalKey)return;const n=t.tapInternalKey||e.tapInternalKey,r=t.tapTree||e.tapTree;if(n){const{script:s}=e,i=Pue(n,r);if(s&&Te(i,s)!==0)throw new Error("Error adding output. Script or address mismatch.")}}function Pue(e,t){const n=t&&jue(t.leaves),{output:r}=Qp({internalPubkey:e,scriptTree:n});return r}function jue(e=[]){return e.length===1&&e[0].depth===0?{output:e[0].script,version:e[0].leafVersion}:$ue(e)}function Rue(e,t){return Uue(e).some(r=>cR(r,Due,t))}function Due(e){return{signature:e.slice(0,64),hashType:e.slice(64)[0]||Wt.SIGHASH_DEFAULT}}function Uue(e){const t=[];if(e.tapKeySig&&t.push(e.tapKeySig),e.tapScriptSig&&t.push(...e.tapScriptSig.map(n=>n.signature)),!t.length){const n=Lue(e.finalScriptWitness);n&&t.push(n)}return t}function Lue(e){if(!e)return;const t=e.slice(2);if(t.length===64||t.length===65)return t}function $ue(e){let t;for(const n of e)if(t=F2(n,t),!t)throw new Error("No room left to insert tapleaf in tree");return t}function F2(e,t,n=0){if(n>Cae)throw new Error("Max taptree depth exceeded.");if(e.depth===n)return t?void 0:{output:e.script,version:e.leafVersion};if(hA(t))return;const r=F2(e,t&&t[0],n+1);if(r)return[r,t&&t[1]];const s=F2(e,t&&t[1],n+1);if(s)return[t&&t[0],s]}function zue(e,t,n){const r=Ni(e)&&Vl(t),s=Vl(e)&&Ni(t),i=e===t&&Ni(t)&&Vl(t);if(r||s||i)throw new Error(`Invalid arguments for Psbt.${n}. Cannot use both taproot and non-taproot fields.`)}function Fue(e,t,n){const r=ob(e)&&Vl(t),s=Vl(e)&&ob(t),i=e===t&&ob(t)&&Vl(t);if(r||s||i)throw new Error(`Invalid arguments for Psbt.${n}. Cannot use both taproot and non-taproot fields.`)}function Hue(e,t,n){if(t.tapMerkleRoot){const r=(t.tapLeafScript||[]).every(i=>ab(i,t.tapMerkleRoot)),s=(e.tapLeafScript||[]).every(i=>ab(i,t.tapMerkleRoot));if(!r||!s)throw new Error(`Invalid arguments for Psbt.${n}. Tapleaf not part of taptree.`)}else if(e.tapMerkleRoot&&!(t.tapLeafScript||[]).every(s=>ab(s,e.tapMerkleRoot)))throw new Error(`Invalid arguments for Psbt.${n}. Tapleaf not part of taptree.`)}function ab(e,t){if(!t)return!0;const n=ea({output:e.script,version:e.leafVersion}),r=U2(e.controlBlock,n);return Te(r,t)===0}function que(e,t){const n=ea({output:t.script,version:t.leafVersion});return(e.tapScriptSig||[]).filter(r=>Te(r.leafHash,n)===0).map(r=>Wue(t.script,r)).sort((r,s)=>s.positionInScript-r.positionInScript).map(r=>r.signature)}function Wue(e,t){return Object.assign({positionInScript:aR(t.pubkey,e)},t)}function Gue(e,t,n){if(!e.tapScriptSig||!e.tapScriptSig.length)throw new Error(`Can not finalize taproot input #${t}. No tapleaf script signature provided.`);const r=(e.tapLeafScript||[]).sort((s,i)=>s.controlBlock.length-i.controlBlock.length).find(s=>Vue(s,e.tapScriptSig,n));if(!r)throw new Error(`Can not finalize taproot input #${t}. Signature for tapleaf script not found.`);return r}function Vue(e,t,n){const r=ea({output:e.script,version:e.leafVersion});return(!n||Te(r,n)===0)&&t.find(i=>Te(i.leafHash,r)===0)!==void 0}function Vl(e){return e&&!!(e.redeemScript||e.witnessScript||e.bip32Derivation&&e.bip32Derivation.length)}const Kue={network:Ys,maximumFeeRate:5e3};class Wh{constructor(t={},n=new nS(new uR)){pe(this,"data");pe(this,"__CACHE");pe(this,"opts");this.data=n,this.opts=Object.assign({},Kue,t),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},this.data.inputs.length===0&&this.setVersion(2);const r=(s,i,o,a)=>Object.defineProperty(s,i,{enumerable:o,writable:a});r(this,"__CACHE",!1,!0),r(this,"opts",!1,!0)}static fromBase64(t,n={}){const r=w7(t);return this.fromBuffer(r,n)}static fromHex(t,n={}){const r=To(t);return this.fromBuffer(r,n)}static fromBuffer(t,n={}){const r=nS.fromBuffer(t,Que),s=new Wh(n,r);return ele(s.__CACHE.__TX,s.__CACHE),s}get inputCount(){return this.data.inputs.length}get version(){return this.__CACHE.__TX.version}set version(t){this.setVersion(t)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(t){this.setLocktime(t)}get txInputs(){return this.__CACHE.__TX.ins.map(t=>({hash:V5(t.hash),index:t.index,sequence:t.sequence}))}get txOutputs(){return this.__CACHE.__TX.outs.map(t=>{let n;try{n=Ny(t.script,this.opts.network)}catch{}return{script:V5(t.script),value:t.value,address:n}})}combine(...t){return this.data.combine(...t.map(n=>n.data)),this}clone(){const t=Wh.fromBuffer(this.data.toBuffer());return t.opts=JSON.parse(JSON.stringify(this.opts)),t}setMaximumFeeRate(t){P0(t),this.opts.maximumFeeRate=t}setVersion(t){P0(t),Of(this.data.inputs,"setVersion");const n=this.__CACHE;return n.__TX.version=t,n.__EXTRACTED_TX=void 0,this}setLocktime(t){P0(t),Of(this.data.inputs,"setLocktime");const n=this.__CACHE;return n.__TX.locktime=t,n.__EXTRACTED_TX=void 0,this}setInputSequence(t,n){P0(n),Of(this.data.inputs,"setInputSequence");const r=this.__CACHE;if(r.__TX.ins.length<=t)throw new Error("Input index too high");return r.__TX.ins[t].sequence=n,r.__EXTRACTED_TX=void 0,this}addInputs(t){return t.forEach(n=>this.addInput(n)),this}addInput(t){if(arguments.length>1||!t||t.hash===void 0||t.index===void 0)throw new Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");iS(t,t,"addInput"),Of(this.data.inputs,"addInput"),t.witnessScript&&jy(t.witnessScript);const n=this.__CACHE;this.data.addInput(t);const r=n.__TX.ins[n.__TX.ins.length-1];fR(n,r);const s=this.data.inputs.length-1,i=this.data.inputs[s];return i.nonWitnessUtxo&&q2(this.__CACHE,i,s),n.__FEE=void 0,n.__FEE_RATE=void 0,n.__EXTRACTED_TX=void 0,this}addOutputs(t){return t.forEach(n=>this.addOutput(n)),this}addOutput(t){if(arguments.length>1||!t||t.value===void 0||t.address===void 0&&t.script===void 0)throw new Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");Of(this.data.inputs,"addOutput");const{address:n}=t;if(typeof n=="string"){const{network:s}=this.opts,i=jae(n,s);t=Object.assign({},t,{script:i})}oS(t,t,"addOutput");const r=this.__CACHE;return this.data.addOutput(t),r.__FEE=void 0,r.__FEE_RATE=void 0,r.__EXTRACTED_TX=void 0,this}extractTransaction(t){if(!this.data.inputs.every(lR))throw new Error("Not finalized");const n=this.__CACHE;if(t||Zue(this,n,this.opts),n.__EXTRACTED_TX)return n.__EXTRACTED_TX;const r=n.__TX.clone();return wR(this.data.inputs,r,n,!0),r}getFeeRate(){return dS("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return dS("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return gr(this.data.inputs,0),Pf(this.data.inputs.length).forEach(t=>this.finalizeInput(t)),this}finalizeInput(t,n){const r=gr(this.data.inputs,t);return Ni(r)?this._finalizeTaprootInput(t,r,void 0,n):this._finalizeInput(t,r,n)}finalizeTaprootInput(t,n,r=sS){const s=gr(this.data.inputs,t);if(Ni(s))return this._finalizeTaprootInput(t,s,n,r);throw new Error(`Cannot finalize input #${t}. Not Taproot.`)}_finalizeInput(t,n,r=tle){const{script:s,isP2SH:i,isP2WSH:o,isSegwit:a}=ile(t,n,this.__CACHE);if(!s)throw new Error(`No script found for input #${t}`);Xue(n);const{finalScriptSig:c,finalScriptWitness:u}=r(t,n,s,a,i,o);if(c&&this.data.updateInput(t,{finalScriptSig:c}),u&&this.data.updateInput(t,{finalScriptWitness:u}),!c&&!u)throw new Error(`Unknown error finalizing input #${t}`);return this.data.clearFinalizedInput(t),this}_finalizeTaprootInput(t,n,r,s=sS){if(!n.witnessUtxo)throw new Error(`Cannot finalize input #${t}. Missing withness utxo.`);if(n.tapKeySig){const i=Qp({output:n.witnessUtxo.script,signature:n.tapKeySig}),o=Py(i.witness);this.data.updateInput(t,{finalScriptWitness:o})}else{const{finalScriptWitness:i}=s(t,n,r);this.data.updateInput(t,{finalScriptWitness:i})}return this.data.clearFinalizedInput(t),this}getInputType(t){const n=gr(this.data.inputs,t),r=bR(t,n,this.__CACHE),s=hw(r,t,"input",n.redeemScript||lle(n.finalScriptSig),n.witnessScript||dle(n.finalScriptWitness)),i=s.type==="raw"?"":s.type+"-",o=ER(s.meaningfulScript);return i+o}inputHasPubkey(t,n){const r=gr(this.data.inputs,t);return cle(n,r,t,this.__CACHE)}inputHasHDKey(t,n){const r=gr(this.data.inputs,t),s=cS(n);return!!r.bip32Derivation&&r.bip32Derivation.some(s)}outputHasPubkey(t,n){const r=qh(this.data.outputs,t);return ule(n,r,t,this.__CACHE)}outputHasHDKey(t,n){const r=qh(this.data.outputs,t),s=cS(n);return!!r.bip32Derivation&&r.bip32Derivation.some(s)}validateSignaturesOfAllInputs(t){return gr(this.data.inputs,0),Pf(this.data.inputs.length).map(r=>this.validateSignaturesOfInput(r,t)).reduce((r,s)=>s===!0&&r,!0)}validateSignaturesOfInput(t,n,r){const s=this.data.inputs[t];return Ni(s)?this.validateSignaturesOfTaprootInput(t,n,r):this._validateSignaturesOfInput(t,n,r)}_validateSignaturesOfInput(t,n,r){const s=this.data.inputs[t],i=(s||{}).partialSig;if(!s||!i||i.length<1)throw new Error("No signatures to validate");if(typeof n!="function")throw new Error("Need validator function to validate signatures");const o=r?i.filter(f=>Te(f.pubkey,r)===0):i;if(o.length<1)throw new Error("No signatures for this pubkey");const a=[];let c,u,l;for(const f of o){const d=ah.decode(f.signature),{hash:h,script:p}=l!==d.hashType?pR(t,Object.assign({},s,{sighashType:d.hashType}),this.__CACHE,!0):{hash:c,script:u};l=d.hashType,c=h,u=p,dR(f.pubkey,p,"verify"),a.push(n(f.pubkey,h,d.signature))}return a.every(f=>f===!0)}validateSignaturesOfTaprootInput(t,n,r){const s=this.data.inputs[t],i=(s||{}).tapKeySig,o=(s||{}).tapScriptSig;if(!s&&!i&&!(o&&!o.length))throw new Error("No signatures to validate");if(typeof n!="function")throw new Error("Need validator function to validate signatures");r=r&&wm(r);const a=r?H2(t,s,this.data.inputs,r,this.__CACHE):rle(t,s,this.data.inputs,this.__CACHE);if(!a.length)throw new Error("No signatures for this pubkey");const c=a.find(l=>!l.leafHash);let u=0;if(i&&c){if(!n(c.pubkey,c.hash,hS(i)))return!1;u++}if(o)for(const l of o){const f=a.find(d=>Te(d.pubkey,l.pubkey)===0);if(f){if(!n(l.pubkey,f.hash,hS(l.signature)))return!1;u++}}return u>0}signAllInputsHD(t,n=[Wt.SIGHASH_ALL]){if(!t||!t.publicKey||!t.fingerprint)throw new Error("Need HDSigner to sign input");const r=[];for(const s of Pf(this.data.inputs.length))try{this.signInputHD(s,t,n),r.push(!0)}catch{r.push(!1)}if(r.every(s=>s===!1))throw new Error("No inputs were signed");return this}signAllInputsHDAsync(t,n=[Wt.SIGHASH_ALL]){return new Promise((r,s)=>{if(!t||!t.publicKey||!t.fingerprint)return s(new Error("Need HDSigner to sign input"));const i=[],o=[];for(const a of Pf(this.data.inputs.length))o.push(this.signInputHDAsync(a,t,n).then(()=>{i.push(!0)},()=>{i.push(!1)}));return Promise.all(o).then(()=>{if(i.every(a=>a===!1))return s(new Error("No inputs were signed"));r()})})}signInputHD(t,n,r=[Wt.SIGHASH_ALL]){if(!n||!n.publicKey||!n.fingerprint)throw new Error("Need HDSigner to sign input");return pS(t,this.data.inputs,n).forEach(i=>this.signInput(t,i,r)),this}signInputHDAsync(t,n,r=[Wt.SIGHASH_ALL]){return new Promise((s,i)=>{if(!n||!n.publicKey||!n.fingerprint)return i(new Error("Need HDSigner to sign input"));const a=pS(t,this.data.inputs,n).map(c=>this.signInputAsync(t,c,r));return Promise.all(a).then(()=>{s()}).catch(i)})}signAllInputs(t,n){if(!t||!t.publicKey)throw new Error("Need Signer to sign input");const r=[];for(const s of Pf(this.data.inputs.length))try{this.signInput(s,t,n),r.push(!0)}catch{r.push(!1)}if(r.every(s=>s===!1))throw new Error("No inputs were signed");return this}signAllInputsAsync(t,n){return new Promise((r,s)=>{if(!t||!t.publicKey)return s(new Error("Need Signer to sign input"));const i=[],o=[];for(const[a]of this.data.inputs.entries())o.push(this.signInputAsync(a,t,n).then(()=>{i.push(!0)},()=>{i.push(!1)}));return Promise.all(o).then(()=>{if(i.every(a=>a===!1))return s(new Error("No inputs were signed"));r()})})}signInput(t,n,r){if(!n||!n.publicKey)throw new Error("Need Signer to sign input");const s=gr(this.data.inputs,t);return Ni(s)?this._signTaprootInput(t,s,n,void 0,r):this._signInput(t,n,r)}signTaprootInput(t,n,r,s){if(!n||!n.publicKey)throw new Error("Need Signer to sign input");const i=gr(this.data.inputs,t);if(Ni(i))return this._signTaprootInput(t,i,n,r,s);throw new Error(`Input #${t} is not of type Taproot.`)}_signInput(t,n,r=[Wt.SIGHASH_ALL]){const{hash:s,sighashType:i}=fS(this.data.inputs,t,n.publicKey,this.__CACHE,r),o=[{pubkey:n.publicKey,signature:ah.encode(n.sign(s),i)}];return this.data.updateInput(t,{partialSig:o}),this}_signTaprootInput(t,n,r,s,i=[Wt.SIGHASH_DEFAULT]){const o=this.checkTaprootHashesForSig(t,n,r,s,i),a=o.filter(u=>!u.leafHash).map(u=>O0(r.signSchnorr(u.hash),n.sighashType))[0],c=o.filter(u=>!!u.leafHash).map(u=>({pubkey:wm(r.publicKey),signature:O0(r.signSchnorr(u.hash),n.sighashType),leafHash:u.leafHash}));return a&&this.data.updateInput(t,{tapKeySig:a}),c.length&&this.data.updateInput(t,{tapScriptSig:c}),this}signInputAsync(t,n,r){return Promise.resolve().then(()=>{if(!n||!n.publicKey)throw new Error("Need Signer to sign input");const s=gr(this.data.inputs,t);return Ni(s)?this._signTaprootInputAsync(t,s,n,void 0,r):this._signInputAsync(t,n,r)})}signTaprootInputAsync(t,n,r,s){return Promise.resolve().then(()=>{if(!n||!n.publicKey)throw new Error("Need Signer to sign input");const i=gr(this.data.inputs,t);if(Ni(i))return this._signTaprootInputAsync(t,i,n,r,s);throw new Error(`Input #${t} is not of type Taproot.`)})}_signInputAsync(t,n,r=[Wt.SIGHASH_ALL]){const{hash:s,sighashType:i}=fS(this.data.inputs,t,n.publicKey,this.__CACHE,r);return Promise.resolve(n.sign(s)).then(o=>{const a=[{pubkey:n.publicKey,signature:ah.encode(o,i)}];this.data.updateInput(t,{partialSig:a})})}async _signTaprootInputAsync(t,n,r,s,i=[Wt.SIGHASH_DEFAULT]){const o=this.checkTaprootHashesForSig(t,n,r,s,i),a=[],c=o.filter(l=>!l.leafHash)[0];if(c){const l=Promise.resolve(r.signSchnorr(c.hash)).then(f=>({tapKeySig:O0(f,n.sighashType)}));a.push(l)}const u=o.filter(l=>!!l.leafHash);if(u.length){const l=u.map(f=>Promise.resolve(r.signSchnorr(f.hash)).then(d=>({tapScriptSig:[{pubkey:wm(r.publicKey),signature:O0(d,n.sighashType),leafHash:f.leafHash}]})));a.push(...l)}return Promise.all(a).then(l=>{l.forEach(f=>this.data.updateInput(t,f))})}checkTaprootHashesForSig(t,n,r,s,i){if(typeof r.signSchnorr!="function")throw new Error(`Need Schnorr Signer to sign taproot input #${t}.`);const o=H2(t,n,this.data.inputs,r.publicKey,this.__CACHE,s,i);if(!o||!o.length)throw new Error(`Can not sign for input #${t} with the key ${tt(r.publicKey)}`);return o}toBuffer(){return cb(this.__CACHE),this.data.toBuffer()}toHex(){return cb(this.__CACHE),this.data.toHex()}toBase64(){return cb(this.__CACHE),this.data.toBase64()}updateGlobal(t){return this.data.updateGlobal(t),this}updateInput(t,n){return n.witnessScript&&jy(n.witnessScript),iS(this.data.inputs[t],n,"updateInput"),this.data.updateInput(t,n),n.nonWitnessUtxo&&q2(this.__CACHE,this.data.inputs[t],t),this}updateOutput(t,n){const r=this.data.outputs[t];return oS(r,n,"updateOutput"),this.data.updateOutput(t,n),this}addUnknownKeyValToGlobal(t){return this.data.addUnknownKeyValToGlobal(t),this}addUnknownKeyValToInput(t,n){return this.data.addUnknownKeyValToInput(t,n),this}addUnknownKeyValToOutput(t,n){return this.data.addUnknownKeyValToOutput(t,n),this}clearFinalizedInput(t){return this.data.clearFinalizedInput(t),this}}const Que=e=>new uR(e);class uR{constructor(t=Uint8Array.from([2,0,0,0,0,0,0,0,0,0])){pe(this,"tx");this.tx=Wt.fromBuffer(t),Jue(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(t){if(t.hash===void 0||t.index===void 0||!(t.hash instanceof Uint8Array)&&typeof t.hash!="string"||typeof t.index!="number")throw new Error("Error adding input.");const n=typeof t.hash=="string"?Hh(To(t.hash)):t.hash;this.tx.addInput(n,t.index,t.sequence)}addOutput(t){if(t.script===void 0||t.value===void 0||!(t.script instanceof Uint8Array)||typeof t.value!="bigint")throw new Error("Error adding output.");this.tx.addOutput(t.script,t.value)}toBuffer(){return this.tx.toBuffer()}}function Yue(e,t,n){switch(n){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return aS(1,e.partialSig);case"multisig":const r=cw({output:t});return aS(r.m,e.partialSig,r.pubkeys);default:return!1}}function cb(e){if(e.__UNSAFE_SIGN_NONSEGWIT!==!1)throw new Error("Not BIP174 compliant, can not export")}function aS(e,t,n){if(!t)return!1;let r;if(n?r=n.map(s=>{const i=fle(s);return t.find(o=>Te(o.pubkey,i)===0)}).filter(s=>!!s):r=t,r.length>e)throw new Error("Too many signatures");return r.length===e}function lR(e){return!!e.finalScriptSig||!!e.finalScriptWitness}function cS(e){return t=>!(Te(e.fingerprint,t.masterFingerprint)||Te(e.derivePath(t.path).publicKey,t.pubkey))}function P0(e){if(typeof e!="number"||e!==Math.floor(e)||e>4294967295||e<0)throw new Error("Invalid 32 bit integer")}function Zue(e,t,n){const r=t.__FEE_RATE||e.getFeeRate(),s=t.__EXTRACTED_TX.virtualSize(),i=r*s;if(r>=n.maximumFeeRate)throw new Error(`Warning: You are paying around ${(i/1e8).toFixed(8)} in fees, which is ${r} satoshi per byte for a transaction with a VSize of ${s} bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.`)}function Of(e,t){e.forEach(n=>{if(Ni(n)?Rue(n,t):Mue(n,t))throw new Error("Can not modify transaction, signatures exist.")})}function Xue(e){if(!e.sighashType||!e.partialSig)return;const{partialSig:t,sighashType:n}=e;t.forEach(r=>{const{hashType:s}=ah.decode(r.signature);if(n!==s)throw new Error("Signature sighash does not match input sighash type")})}function dR(e,t,n){if(!dw(e,t))throw new Error(`Can not ${n} for this input with the key ${tt(e)}`)}function Jue(e){if(!e.ins.every(n=>n.script&&n.script.length===0&&n.witness&&n.witness.length===0))throw new Error("Format Error: Transaction ScriptSigs are not empty")}function ele(e,t){e.ins.forEach(n=>{fR(t,n)})}function fR(e,t){const n=tt(Hh(Uint8Array.from(t.hash)))+":"+t.index;if(e.__TX_IN_CACHE[n])throw new Error("Duplicate input detected.");e.__TX_IN_CACHE[n]=1}function hR(e,t){return(n,r,s,i)=>{const o=e({redeem:{output:s}}).output;if(Te(r,o))throw new Error(`${t} for ${i} #${n} doesn't match the scriptPubKey in the prevout`)}}const uS=hR(Gp,"Redeem script"),lS=hR(Kp,"Witness script");function dS(e,t,n,r){if(!n.every(lR))throw new Error(`PSBT must be finalized to calculate ${t}`);if(e==="__FEE_RATE"&&r.__FEE_RATE)return r.__FEE_RATE;if(e==="__FEE"&&r.__FEE)return r.__FEE;let s,i=!0;if(r.__EXTRACTED_TX?(s=r.__EXTRACTED_TX,i=!1):s=r.__TX.clone(),wR(n,s,r,i),e==="__FEE_RATE")return r.__FEE_RATE;if(e==="__FEE")return r.__FEE}function tle(e,t,n,r,s,i){const o=ER(n);if(!Yue(t,n,o))throw new Error(`Can not finalize input #${e}`);return nle(n,o,t.partialSig,r,s,i)}function nle(e,t,n,r,s,i){let o,a;const c=sle(e,t,n),u=i?Kp({redeem:c}):null,l=s?Gp({redeem:u||c}):null;return r?(u?a=Py(u.witness):a=Py(c.witness),l&&(o=l.input)):l?o=l.input:o=c.input,{finalScriptSig:o,finalScriptWitness:a}}function fS(e,t,n,r,s){const i=gr(e,t),{hash:o,sighashType:a,script:c}=pR(t,i,r,!1,s);return dR(n,c,"sign"),{hash:o,sighashType:a}}function pR(e,t,n,r,s){const i=n.__TX,o=t.sighashType||Wt.SIGHASH_ALL;yR(o,s);let a,c;if(t.nonWitnessUtxo){const f=fw(n,t,e),d=i.ins[e].hash,h=f.getHash();if(Te(d,h)!==0)throw new Error(`Non-witness UTXO hash for input #${e} doesn't match the hash specified in the prevout`);const p=i.ins[e].index;c=f.outs[p]}else if(t.witnessUtxo)c=t.witnessUtxo;else throw new Error("Need a Utxo input item for signing");const{meaningfulScript:u,type:l}=hw(c.script,e,"input",t.redeemScript,t.witnessScript);if(["p2sh-p2wsh","p2wsh"].indexOf(l)>=0)a=i.hashForWitnessV0(e,u,c.value,o);else if(lw(u)){const f=Wp({hash:u.slice(2)}).output;a=i.hashForWitnessV0(e,f,c.value,o)}else{if(t.nonWitnessUtxo===void 0&&n.__UNSAFE_SIGN_NONSEGWIT===!1)throw new Error(`Input #${e} has witnessUtxo but non-segwit script: ${tt(u)}`);!r&&n.__UNSAFE_SIGN_NONSEGWIT!==!1&&console.warn(`Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as Psbt's predecessor (TransactionBuilder - now removed) when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.
*********************
PROCEED WITH CAUTION!
*********************`),a=i.hashForSignature(e,u,o)}return{script:u,sighashType:o,hash:a}}function rle(e,t,n,r){const s=[];if(t.tapInternalKey){const o=mR(e,t,r);o&&s.push(o)}if(t.tapScriptSig){const o=t.tapScriptSig.map(a=>a.pubkey);s.push(...o)}return s.map(o=>H2(e,t,n,o,r)).flat()}function mR(e,t,n){const{script:r}=EA(e,t,n);return oR(r)?r.subarray(2,34):null}function hS(e){return e.length===64?e:e.subarray(0,64)}function H2(e,t,n,r,s,i,o){const a=s.__TX,c=t.sighashType||Wt.SIGHASH_DEFAULT;yR(c,o);const u=n.map((p,m)=>EA(m,p,s)),l=u.map(p=>p.script),f=u.map(p=>p.value),d=[];if(t.tapInternalKey&&!i){const p=mR(e,t,s)||Uint8Array.from([]);if(Te(wm(r),p)===0){const m=a.hashForWitnessV1(e,l,f,c);d.push({pubkey:r,hash:m})}}const h=(t.tapLeafScript||[]).filter(p=>dw(r,p.script)).map(p=>{const m=ea({output:p.script,version:p.leafVersion});return Object.assign({hash:m},p)}).filter(p=>!i||Te(i,p.hash)===0).map(p=>{const m=a.hashForWitnessV1(e,l,f,c,p.hash);return{pubkey:r,hash:m,leafHash:p.hash}});return d.concat(h)}function yR(e,t){if(t&&t.indexOf(e)<0){const n=ale(e);throw new Error(`Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ${n}`)}}function sle(e,t,n){let r;switch(t){case"multisig":const s=ole(e,n);r=cw({output:e,signatures:s});break;case"pubkey":r=R7({output:e,signature:n[0].signature});break;case"pubkeyhash":r=Wp({output:e,pubkey:n[0].pubkey,signature:n[0].signature});break;case"witnesspubkeyhash":r=Vp({output:e,pubkey:n[0].pubkey,signature:n[0].signature});break}return r}function ile(e,t,n){const r=n.__TX,s={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(s.isP2SH=!!t.redeemScript,s.isP2WSH=!!t.witnessScript,t.witnessScript)s.script=t.witnessScript;else if(t.redeemScript)s.script=t.redeemScript;else if(t.nonWitnessUtxo){const i=fw(n,t,e),o=r.ins[e].index;s.script=i.outs[o].script}else t.witnessUtxo&&(s.script=t.witnessUtxo.script);return(t.witnessScript||lw(s.script))&&(s.isSegwit=!0),s}function pS(e,t,n){const r=gr(t,e);if(!r.bip32Derivation||r.bip32Derivation.length===0)throw new Error("Need bip32Derivation to sign with HD");const s=r.bip32Derivation.map(o=>{if(Te(o.masterFingerprint,n.fingerprint)===0)return o}).filter(o=>!!o);if(s.length===0)throw new Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");return s.map(o=>{const a=n.derivePath(o.path);if(Te(o.pubkey,a.publicKey)!==0)throw new Error("pubkey did not match bip32Derivation");return a})}function ole(e,t){return cw({output:e}).pubkeys.map(r=>(t.filter(s=>Te(s.pubkey,r)===0)[0]||{}).signature).filter(r=>!!r)}function gR(e){let t=0;function n(o){return t+=o,e.slice(t-o,t)}function r(){const o=yf(e,t);return t+=Xs(o.bigintValue),o.numberValue}function s(){return n(r())}function i(){const o=r(),a=[];for(let c=0;c<o;c++)a.push(s());return a}return i()}function ale(e){let t=e&Wt.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(e&31){case Wt.SIGHASH_ALL:t+="SIGHASH_ALL";break;case Wt.SIGHASH_SINGLE:t+="SIGHASH_SINGLE";break;case Wt.SIGHASH_NONE:t+="SIGHASH_NONE";break}return t}function q2(e,t,n){e.__NON_WITNESS_UTXO_BUF_CACHE[n]=t.nonWitnessUtxo;const r=Wt.fromBuffer(t.nonWitnessUtxo);e.__NON_WITNESS_UTXO_TX_CACHE[n]=r;const s=e,i=n;delete t.nonWitnessUtxo,Object.defineProperty(t,"nonWitnessUtxo",{enumerable:!0,get(){const o=s.__NON_WITNESS_UTXO_BUF_CACHE[i],a=s.__NON_WITNESS_UTXO_TX_CACHE[i];if(o!==void 0)return o;{const c=a.toBuffer();return s.__NON_WITNESS_UTXO_BUF_CACHE[i]=c,c}},set(o){s.__NON_WITNESS_UTXO_BUF_CACHE[i]=o}})}function wR(e,t,n,r){let s=0n;e.forEach((c,u)=>{if(r&&c.finalScriptSig&&(t.ins[u].script=c.finalScriptSig),r&&c.finalScriptWitness&&(t.ins[u].witness=gR(c.finalScriptWitness)),c.witnessUtxo)s+=c.witnessUtxo.value;else if(c.nonWitnessUtxo){const l=fw(n,c,u),f=t.ins[u].index,d=l.outs[f];s+=d.value}});const i=t.outs.reduce((c,u)=>c+u.value,0n),o=s-i;if(o<0)throw new Error("Outputs are spending more than Inputs");const a=t.virtualSize();n.__FEE=o,n.__EXTRACTED_TX=t,n.__FEE_RATE=Math.floor(Number(o/BigInt(a)))}function fw(e,t,n){const r=e.__NON_WITNESS_UTXO_TX_CACHE;return r[n]||q2(e,t,n),r[n]}function bR(e,t,n){const{script:r}=EA(e,t,n);return r}function EA(e,t,n){if(t.witnessUtxo!==void 0)return{script:t.witnessUtxo.script,value:t.witnessUtxo.value};if(t.nonWitnessUtxo!==void 0){const s=fw(n,t,e).outs[n.__TX.ins[e].index];return{script:s.script,value:s.value}}else throw new Error("Can't find pubkey in input without Utxo data")}function cle(e,t,n,r){const s=bR(n,t,r),{meaningfulScript:i}=hw(s,n,"input",t.redeemScript,t.witnessScript);return dw(e,i)}function ule(e,t,n,r){const s=r.__TX.outs[n].script,{meaningfulScript:i}=hw(s,n,"output",t.redeemScript,t.witnessScript);return dw(e,i)}function lle(e){if(!e)return;const t=gn(e);if(!t)return;const n=t[t.length-1];if(!(!(n instanceof Uint8Array)||vR(n)||hle(n)||!gn(n)))return n}function dle(e){if(!e)return;const t=gR(e),n=t[t.length-1];if(!(vR(n)||!gn(n)))return n}function fle(e){if(e.length===65){const t=e[64]&1,n=e.slice(0,33);return n[0]=2|t,n}return e.slice()}function vR(e){return e.length===33&&oae(e)}function hle(e){return Ea(e)}function hw(e,t,n,r,s){const i=iR(e),o=i&&r&&rS(r),a=rS(e);if(i&&r===void 0)throw new Error("scriptPubkey is P2SH but redeemScript missing");if((a||o)&&s===void 0)throw new Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");let c;return o?(c=s,uS(t,e,r,n),lS(t,r,s,n),jy(c)):a?(c=s,lS(t,e,s,n),jy(c)):i?(c=r,uS(t,e,r,n)):c=e,{meaningfulScript:c,type:o?"p2sh-p2wsh":i?"p2sh":a?"p2wsh":"raw"}}function jy(e){if(lw(e)||iR(e))throw new Error("P2WPKH or P2SH can not be contained within P2WSH")}function ER(e){return lw(e)?"witnesspubkeyhash":_ue(e)?"pubkeyhash":Cue(e)?"multisig":Tue(e)?"pubkey":"nonstandard"}function Pf(e){return[...Array(e).keys()]}const xR="0.6.0";let mS={version:`bigmi@${xR}`},Ir=class AR extends Error{constructor(t,n={}){const r=(()=>{var i;return n.cause instanceof AR?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details})(),s=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...r?[`Details: ${r}`]:[],...mS.version?[`Version: ${mS.version}`]:[]].join(`
`);super(s,n.cause?{cause:n.cause}:void 0),this.name="BaseError",this.details=r,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=xR}walk(t){return IR(this,t)}};function IR(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?IR(e.cause,t):t?null:e}class Ry extends Ir{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}async function SR(e,{blockHash:t,blockNumber:n}){let r;try{let s=t;!s&&n&&(s=await e.request({method:"getblockhash",params:[n]},{dedupe:!0})),s&&(r=await e.request({method:"getblock",params:[s,0]},{dedupe:!0}))}catch{throw new Ry({blockHash:t,blockNumber:n})}if(!r)throw new Ry({blockHash:t,blockNumber:n});return Hc.fromHex(r)}async function kR(e){return await e.request({method:"getblockcount",params:[]},{dedupe:!0})}async function W2(e,{blockHash:t,blockNumber:n,stats:r}){const s=t||n;if(!s)throw new Ry({blockHash:t,blockNumber:n});try{const i=[s];return r&&i.push(r),await e.request({method:"getblockstats",params:i},{dedupe:!0})}catch{throw new Ry({blockHash:t,blockNumber:n})}}async function ple(e,{txId:t}){return await e.request({method:"getTransactionFee",params:{txId:t}})}async function mle(e,{address:t,offset:n,limit:r,lastBlock:s}){return await e.request({method:"getTransactions",params:{address:t,offset:n,limit:r,lastBlock:s}})}async function yle(e,{address:t,minValue:n}){return await e.request({method:"getUTXOs",params:{address:t,minValue:n}})}class CR extends Ir{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:i}){let o="Transaction";r&&i!==void 0&&(o=`Transaction at block time "${r}" at index "${i}"`),t&&i!==void 0&&(o=`Transaction at block hash "${t}" at index "${i}"`),n&&i!==void 0&&(o=`Transaction at block number "${n}" at index "${i}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class yS extends Ir{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class gS extends Ir{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}async function G2(e,{txId:t,blockHash:n}){try{const r=[t,!0];return n&&r.push(n),await e.request({method:"getrawtransaction",params:r})}catch{throw new CR({blockHash:n,hash:t})}}async function gle(e,{hex:t,maxFeeRate:n}){const r=[t];return n&&r.push(n),await e.request({method:"sendrawtransaction",params:r})}async function TR(e,t){return await e.request({method:"signPsbt",params:t},{dedupe:!0})}function Uc(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:i=>t(e,i)}const ub=new Map,wS=new Map;let wle=0;function _R(e,t,n){const r=++wle,s=()=>ub.get(e)||[],i=()=>{const l=s();ub.set(e,l.filter(f=>f.id!==r))},o=()=>{const l=wS.get(e);s().length===1&&l&&l(),i()},a=s();if(ub.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return o;const c={};for(const l in t)c[l]=(...f)=>{var h,p;const d=s();if(d.length!==0)for(const m of d)(p=(h=m.fns)[l])==null||p.call(h,...f)};const u=n(c);return typeof u=="function"&&wS.set(e,u),o}const Ic=(e,t,n)=>JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString():s,n);async function MR(e){return new Promise(t=>setTimeout(t,e))}function V2(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,i)=>{const o=async({count:a=0}={})=>{const c=async({error:u})=>{const l=typeof t=="function"?t({count:a,error:u}):t;l&&await MR(l),o({count:a+1})};try{const u=await e();s(u)}catch(u){if(a<n&&await r({count:a,error:u}))return c({error:u});i(u)}};o()})}function bS(e){return new Promise(t=>{setTimeout(()=>t(null),e)})}function ble(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const i=()=>{s=!1};return(async()=>{let a;t&&(a=await e({unpoll:i}));const c=await(n==null?void 0:n(a))??r;await bS(c);const u=async()=>{s&&(await e({unpoll:i}),await bS(r),u())};u()})(),i}function vle(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,pollingInterval:i=e.pollingInterval}){let o;const a=Ic(["watchBlockNumber",e.uid,t,n,i]);return _R(a,{onBlockNumber:r,onError:s},c=>ble(async()=>{var u;try{const l=await Uc(e,kR,"getBlockCount")({cacheTime:0});if(o){if(l===o)return;if(l-o>1&&n)for(let f=o+1;f<l;f++)await c.onBlockNumber(f,o),o=f}(!o||l>o)&&(await c.onBlockNumber(l,o),o=l)}catch(l){(u=c.onError)==null||u.call(c,l)}},{emitOnBegin:t,interval:i}))}async function Ele(e,{confirmations:t=1,txId:n,txHex:r,senderAddress:s,onReplaced:i,pollingInterval:o=e.pollingInterval,retryCount:a=10,retryDelay:c=3e3,timeout:u}){const l=Ic(["waitForTransaction",e.uid,n]);let f=0,d,h,p=!1;return new Promise((m,y)=>{u&&setTimeout(()=>y(new gS({hash:n})),u);const b=_R(l,{onReplaced:i,resolve:m,reject:y},I=>{const v=Uc(e,vle,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,pollingInterval:o,async onBlockNumber(E){const S=O=>{v(),O(),b()};let N=E;if(!p){f>a&&S(()=>I.reject(new gS({hash:n})));try{if(d!=null&&d.blockhash){const O=await Uc(e,W2,"getBlockStats")({blockHash:d.blockhash,stats:["height"]});if(t>1&&(!O.height||N-O.height+1<t))return;S(()=>I.resolve(d));return}if(p=!0,d=await V2(()=>Uc(e,G2,"getUTXOTransaction")({txId:(d==null?void 0:d.txid)||n}),{delay:c,retryCount:a}),d.blockhash){const O=await Uc(e,W2,"getBlockStats")({blockHash:d.blockhash,stats:["height"]});O.height&&(N=O.height)}if(p=!1,!(d!=null&&d.confirmations))throw new yS({hash:n});if(d.confirmations<t)return;S(()=>I.resolve(d))}catch(O){if(O instanceof CR||O instanceof yS)try{let G=function(w){const T=[];for(const _ of w.outs)try{const x=Ny(_.script);T.push(x)}catch{}return T};h=Wt.fromHex((d==null?void 0:d.hex)||r),p=!0;const z=await V2(()=>Uc(e,SR,"getBlock")({blockNumber:N}),{delay:c,retryCount:a});p=!1;const L=new Set;for(const w of h.ins){const T=Array.from(w.hash).reverse().map(j=>`00${j.toString(16)}`.slice(-2)).join(""),_=w.index,x=`${T}:${_}`;L.add(x)}let F;for(const w of z.transactions)if(!w.isCoinbase()){for(const T of w.ins){const _=Array.from(T.hash).reverse().map(D=>`00${D.toString(16)}`.slice(-2)).join(""),x=T.index,j=`${_}:${x}`;if(L.has(j)){F=w;break}}if(F)break}if(!F||(d=await Uc(e,G2,"getUTXOTransaction")({txId:F.getId()}),d.confirmations&&d.confirmations<t))return;let H="replaced";const M=G(h),g=G(F);M.length===g.length&&M.every(w=>g.includes(w))?H="repriced":s&&g.length===1&&g.includes(s)&&(H="cancelled"),S(()=>{var w;(w=I.onReplaced)==null||w.call(I,{reason:H,replacedTransaction:h,transaction:d}),I.resolve(d)})}catch(z){S(()=>I.reject(z))}else S(()=>I.reject(O))}finally{f++}}}})})})}var K2;(function(e){e.BITCOIN_MAINNET="bitcoin:mainnet",e.BITCOIN_TESTNET="bitcoin:testnet",e.BITCOIN_TESTNET4="bitcoin:testnet4",e.BITCOIN_SIGNET="bitcoin:signet",e.FRACTAL_BITCOIN_MAINNET="fractal:mainnet",e.FRACTAL_BITCOIN_TESTNET="fractal:testnet",e.STACKS_MAINNET="stacks:mainnet",e.STACKS_TESTNET="stacks:testnet"})(K2||(K2={}));var ta;(function(e){e.Mainnet="mainnet",e.Testnet="testnet",e.Regtest="regtest"})(ta||(ta={}));function xle(e){return{getBalance:t=>Coe(e,t),getBlock:t=>SR(e,t),getBlockCount:()=>kR(e),getBlockStats:t=>W2(e,t),getTransactions:t=>mle(e,t),getUTXOTransaction:t=>G2(e,t),getUTXOs:t=>yle(e,t),getTransactionFee:t=>ple(e,t)}}function Ale(e){return{sendUTXOTransaction:t=>gle(e,t),signPbst:t=>TR(e,t)}}const xA=e=>e;let uh=class extends Ir{constructor({body:t,cause:n,details:r,headers:s,status:i,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${xA(o)}`,t&&`Request body: ${Ic(t)}`].filter(Boolean),name:"HttpRequestError"}),this.body=t,this.headers=s,this.status=i,this.url=o}},pw=class extends Ir{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${xA(r)}`,`Request body: ${Ic(t)}`],name:"RpcRequestError"}),this.code=n.code,this.data=n.data}},vS=class extends Ir{constructor({body:t,url:n,timeout:r}){super("The request took too long to respond.",{details:`The request timed out after ${r}ms.`,metaMessages:[`URL: ${xA(n)}`,`Request body: ${Ic(t)}`],name:"TimeoutError"})}};var lr;(function(e){e[e.PARSE_ERROR=-32700]="PARSE_ERROR",e[e.INVALID_REQUEST=-32600]="INVALID_REQUEST",e[e.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",e[e.INVALID_PARAMS=-32602]="INVALID_PARAMS",e[e.INTERNAL_ERROR=-32603]="INTERNAL_ERROR",e[e.USER_REJECTION=-32e3]="USER_REJECTION",e[e.METHOD_NOT_SUPPORTED=-32001]="METHOD_NOT_SUPPORTED",e[e.ACCESS_DENIED=-32002]="ACCESS_DENIED",e[e.MISC_ERROR=-1]="MISC_ERROR"})(lr||(lr={}));let ES=class extends Ir{constructor(t){const n="UserRejectedRequestError",r=t||"The user rejected your request, please try again";super(`${n}:  ${r}`,{name:n}),this.code=lr.USER_REJECTION}},lb=class extends Ir{constructor(t){const n="MethodNotSupportedError",r=`The method ${t} you are calling is not supported`;super(`${n}: ${r}`,{name:n}),this.code=lr.METHOD_NOT_SUPPORTED}},BR=class extends Ir{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{name:"UrlRequiredError"})}};class Ile extends Ir{constructor({method:t}){super(`No transport found that supports the method: ${t}`,{name:"TransportMethodNotSupportedError"})}}class Sle extends Ir{constructor({method:t,params:n,errors:r,totalAttempts:s}){const i=r.map(({transport:o,error:a,attempt:c})=>`${c}. ${o}: ${a.message}`).join(`
`);super(`All ${s} transports failed for method "${t}": 
${i}`,{name:"AllTransportsFailedError",metaMessages:[`Method: ${t}`,`Total attempts: ${s}`,`Failed transports: ${r.map(o=>o.transport).join(", ")}`]}),this.method=t,this.params=n,this.errors=r,this.totalAttempts=s}}class AA extends Ir{constructor({minValue:t,address:n,balance:r}){super(`Not enough UTXOs required for ${t}`,{metaMessages:[`${n&&r&&`Address ${n} has a balance of ${r}.`}`],name:"InsufficientUTXOBalanceError"})}}function kle(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const Q2=256;let j0=Q2,R0;function NR(e=11){if(!R0||j0+e>Q2*2){R0="",j0=0;for(let t=0;t<Q2;t++)R0+=(256+Math.random()*256|0).toString(16).substring(1)}return R0.substring(j0,j0+++e)}function Cle(e){const{cacheTime:t=e.pollingInterval??4e3,key:n="base",name:r="Base Client",pollingInterval:s=4e3,type:i="base"}=e,o=e.chain,a=e.account?kle(e.account):void 0,{config:c,request:u,value:l}=e.transport({chain:o,pollingInterval:s}),f={...c,...l},d={account:a,cacheTime:t,chain:o,key:n,name:r,pollingInterval:s,request:u,transport:f,type:i,uid:NR()};function h(p){return m=>{const y=m(p);for(const I in d)delete y[I];const b={...p,...y};return Object.assign(b,{extend:h(b)})}}return Object.assign(d,{extend:h(d)})}function Tle(){return null}function _le(e){return`0x${Array.from(e).map(n=>n.charCodeAt(0).toString(16).padStart(2,"0")).join("")}`}function xS(e){var t;return new Uint8Array(((t=e.match(/.{1,2}/g))==null?void 0:t.map(n=>Number.parseInt(n,16)))||[])}let Mle=class extends Map{constructor(t){super(),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const D0=new Mle(8192);function Ble(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(D0.get(n))return D0.get(n);const r=e().finally(()=>D0.delete(n));return D0.set(n,r),r}function Nle(e,t={}){return async(n,r={})=>{var f;const{dedupe:s=!1,methods:i,retryDelay:o=150,retryCount:a=3,uid:c}={...t,...r},{method:u}=n;if((f=i==null?void 0:i.exclude)!=null&&f.includes(u))throw new lb(u);if(i!=null&&i.include&&!i.include.includes(u))throw new lb(u);const l=s?_le(`${c}.${Ic(n)}`):void 0;return Ble(()=>V2(async()=>{try{return await e(n)}catch(d){const h=d;switch(h.code){case lr.METHOD_NOT_SUPPORTED:throw new lb(u);case lr.USER_REJECTION:throw new ES(h.message);case 5e3:throw new ES(h.message);default:throw d instanceof Ir?d:new Ir("Unknown Error",{cause:d})}}},{delay:({count:d,error:h})=>{var p;if(h&&h instanceof uh){const m=(p=h==null?void 0:h.headers)==null?void 0:p.get("Retry-After");if(m!=null&&m.match(/\d/))return Number.parseInt(m,10)*1e3}return~~(1<<d)*o},retryCount:a,shouldRetry:({error:d})=>Ole(d)}),{enabled:s,id:l})}}function Ole(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===lr.INTERNAL_ERROR:e instanceof uh&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function IA({key:e,methods:t,name:n,request:r,retryCount:s=3,retryDelay:i=150,timeout:o,type:a},c){const u=NR();return{config:{key:e,methods:t,name:n,request:r,retryCount:s,retryDelay:i,timeout:o,type:a},request:Nle(r,{methods:t,retryCount:s,retryDelay:i,uid:u}),value:c}}function OR(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,i)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r?a.abort():i(t)},n)),s(await e({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&i(t),i(a)}finally{clearTimeout(o)}})()})}function PR(e,t={}){return{async request(n){var f;const{body:r,onRequest:s=t.onRequest,onResponse:i=t.onResponse,timeout:o=t.timeout??1e4}=n,a={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:u,signal:l}=a;try{const d=await OR(async({signal:p})=>{const m={...a,body:r?Ic(r):void 0,headers:{...u!=="GET"?{"Content-Type":"application/json"}:void 0,...c},method:u||"POST",signal:l||(o>0?p:null)},y=new Request(n.url??e,m);return s&&await s(y,m),await fetch(n.url??e,m)},{errorInstance:new vS({body:r??{},url:n.url??e,timeout:o}),timeout:o,signal:!0});i&&await i(d);let h;if((f=d.headers.get("Content-Type"))!=null&&f.startsWith("application/json")?h=await d.json():(h=await d.text(),h=JSON.parse(h||"{}")),!d.ok)throw new uh({body:r,details:Ic(h.error)||d.statusText,headers:d.headers,status:d.status,url:e});return h}catch(d){throw d instanceof uh||d instanceof vS?d:new uh({body:r,cause:d,url:e})}}}}const Ple=async(e,{baseUrl:t},{address:n})=>{const r=`${t}/address/${n}?details=basic`,s=await e.request({url:r,fetchOptions:{method:"GET"}});return s.error?{error:{code:lr.MISC_ERROR,message:s.error}}:{result:BigInt(s.balance)}},jle=async(e,{baseUrl:t},{txId:n})=>{const r=`${t}/tx/${n}`,s=await e.request({url:r,fetchOptions:{method:"GET"}});return s.error?{error:s.error}:{result:BigInt(s.fees)}},Mc=(e,t)=>{const n=new URL(e);return Object.entries(t).forEach(([r,s])=>{s!==void 0&&n.searchParams.set(r,String(s))}),decodeURIComponent(n.toString())},Rle=e=>{var t,n;return{blockhash:e==null?void 0:e.blockHash,blocktime:e.blockTime,confirmations:e.confirmations,hex:e.hex,locktime:(t=e==null?void 0:e.coinSpecificData)==null?void 0:t.locktime,hash:(n=e.coinSpecificData)==null?void 0:n.hash,size:e.size,txid:e.txid,version:e.version,vin:e.vin.map(r=>({scriptSig:r.scriptSig,sequence:r.sequence,txid:r.txid,vout:r.vout,txinwitness:r.addresses})),vsize:e.vsize,vout:e.vout.map(r=>({n:r.n,scriptPubKey:r.scriptPubKey,value:r.value}))}},Dle=async(e,{baseUrl:t},{address:n,limit:r=50,offset:s=0,lastBlock:i})=>{const o=Mc(`${t}/address/${n}`,{details:"txs",pageSize:r,to:i}),a=await e.request({url:o,fetchOptions:{method:"GET"}});if(a.error)return{error:a.error};const c=a.txs||0,u=Math.floor(s/r)+1,l=c>s+a.transactions.length;return{result:{transactions:a.transactions.map(Rle),total:c,page:u,itemsPerPage:r,hasMore:l}}},Ule={getBalance:Ple,getTransactions:Dle,getTransactionFee:jle},jR=async(e,{baseUrl:t,apiKey:n},{address:r})=>{var o,a;const s=Mc(`${t}/addresses/balances`,{key:n,addresses:r}),i=await e.request({url:s,fetchOptions:{method:"GET"}});return i.data[r]===void 0||i.context.error||((o=i.context)==null?void 0:o.code)!==200?{error:{code:i.context.code===429?lr.ACCESS_DENIED:lr.MISC_ERROR,message:(a=i.context)==null?void 0:a.error}}:{result:BigInt(i.data[r])}},Lle=async(e,{baseUrl:t,apiKey:n},{txId:r})=>{var o,a;const s=Mc(`${t}/dashboards/transaction/${r}`,{key:n}),i=await e.request({url:s,fetchOptions:{method:"GET"}});return!i.data[r]||i.context.error||((o=i.context)==null?void 0:o.code)!==200?{error:{code:i.context.code===429?lr.ACCESS_DENIED:lr.MISC_ERROR,message:(a=i.context)==null?void 0:a.error}}:{result:BigInt(i.data[r].transaction.fee)}},$le=e=>t=>({blockHeight:t.block_id,scriptHex:e,txId:t.transaction_hash,value:t.value,vout:t.index}),zle="100,100",Fle=async(e,{baseUrl:t,apiKey:n},{address:r,minValue:s})=>{async function*i(){var l,f;let c=0,u=!0;for(;u;){const d=Mc(`${t}/dashboards/addresses/${r}`,{key:n,offset:`0,${c}`,limit:zle}),h=await e.request({url:d,fetchOptions:{method:"GET"}});if(((l=h.context)==null?void 0:l.code)!==200&&((f=h.context)==null?void 0:f.code)!==404)throw new pw({url:d,body:{method:"fetchUTXOs",params:{address:r,minValue:s}},error:{code:h.context.code===429?lr.ACCESS_DENIED:lr.MISC_ERROR,message:h.context.error||"Error fetching utxos"}});if(!h.data||h.data.utxo.length===0){u=!1;continue}const{limit:p}=h.context,m=h.data.addresses[r].unspent_output_count;if(p&&m){const[,y]=String(p).split(",").map(b=>Number(b));u=c+y<m,c+=y}else u=!1,c+=0;yield h.data}}if(s){const{error:c,result:u}=await jR(e,{baseUrl:t,apiKey:n},{address:r});if(c)throw new Ir("Error fetching balance",{cause:c});if(u===void 0)throw new Ir("Balance is undefined",{cause:new Error("Unable to determine balance")});if(s>Number(u))throw new AA({minValue:s,address:r,balance:Number(u)})}const o=[];let a=0;for await(const c of i()){const u=c.addresses[r].script_hex,l=c.utxo.map($le(u));if(o.push(...l),s&&(a+=l.reduce((f,d)=>f+d.value,0),a>=s))break}return{result:o}},RR={getBalance:jR,getUTXOs:Fle,getTransactionFee:Lle};function SA(e){return e.toLowerCase().startsWith("rate limit exceeded")?lr.ACCESS_DENIED:lr.MISC_ERROR}const Hle=async(e,{baseUrl:t,apiKey:n},{address:r})=>{const s=Mc(`${t}/addrs/${r}`,{token:n}),i=await e.request({url:s,fetchOptions:{method:"GET"}});return i.error?{error:{code:SA(i.error),message:i.error}}:{result:BigInt(i.balance)}},qle=async(e,{baseUrl:t,apiKey:n},{txId:r})=>{const s=Mc(`${t}/txs/${r}`,{token:n}),i=await e.request({url:s,fetchOptions:{method:"GET"}});return i.error?{error:{code:SA(i.error),message:i.error}}:{result:BigInt(i.fees)}},Wle=e=>({blockHeight:e.block_height,isConfirmed:!!e.confirmations,confirmations:e.confirmations,value:e.value,vout:e.tx_output_n,txId:e.tx_hash,scriptHex:e.script}),Gle=2e3,Vle=async(e,{baseUrl:t,apiKey:n},{address:r,minValue:s})=>{async function*i(){let c=!0,u;for(;c;){const l=Mc(`${t}/addrs/${r}`,{token:n,unspentOnly:"true",includeScript:"true",before:u,limit:Gle}),f=await e.request({url:l,fetchOptions:{method:"GET"}});if(f.error)throw new pw({url:l,body:{method:"fetchUTXOs",params:{address:r,minValue:s}},error:{code:SA(f.error),message:f.error}});if(s&&s>f.final_balance)throw new AA({minValue:s,address:r,balance:f.final_balance});if(!f.txrefs||f.txrefs.length===0){c=!1;continue}const{hasMore:d}=f;c=!!d,u=f.txrefs[f.txrefs.length-1].block_height,yield f.txrefs}}const o=[];let a=0;for await(const c of i()){const u=c.map(Wle);if(o.push(...u),s&&(a+=u.reduce((l,f)=>l+f.value,0),a>=s))break}return{result:o}},DR={getBalance:Hle,getUTXOs:Vle,getTransactionFee:qle},Kle=async(e,{baseUrl:t},{address:n})=>{const r=`${t}/address/${n}`,s=await e.request({url:r,fetchOptions:{method:"GET"}}),i=s.chain_stats.funded_txo_sum-s.chain_stats.spent_txo_sum;return{result:BigInt(i)}},Qle=async(e,{baseUrl:t},{txId:n})=>{const r=`${t}/tx/${n}`,s=await e.request({url:r,fetchOptions:{method:"GET"}});return{result:BigInt(s.fee)}},Yle=e=>({hash:e.txid,txid:e.txid,vout:e.vout.map((t,n)=>({n,scriptPubKey:{address:t.scriptpubkey_address,asm:t.scriptpubkey_asm,type:t.scriptpubkey_type,desc:t.scriptpubkey,hex:t.scriptpubkey},value:t.value})),vin:e.vin.map(t=>({scriptSig:{asm:t.scriptsig_asm,hex:t.scriptsig},sequence:t.sequence,txinwitness:t.witness,txid:t.txid,vout:t.vout}))}),Zle=async(e,{baseUrl:t},{address:n,limit:r=50,offset:s=0,afterTxId:i})=>{const o=`${t}/address/${n}`,a=await e.request({url:o,fetchOptions:{method:"GET"}}),c=a.chain_stats.tx_count+a.mempool_stats.tx_count,u=Mc(`${t}/address/${n}/txs`,{after_txid:i}),f=(await e.request({url:u,fetchOptions:{method:"GET"}})).map(Yle);return{result:{transactions:f,total:c,itemsPerPage:r,hasMore:s+f.length<c}}},UR={getBalance:Kle,getTransactions:Zle,getTransactionFee:Qle};function Xle(e){switch(e){case"blockchair":return RR;case"ankr":return Ule;case"blockcypher":return DR;case"mempool":return UR;default:return null}}function kA(e,t={}){const{fetchOptions:n,key:r="utxo",name:s="UTXO HTTP API",onFetchRequest:i,onFetchResponse:o,retryDelay:a,apiKey:c,methods:u}=t;return({chain:l,retryCount:f,timeout:d})=>{const h=t.retryCount??f,p=d??t.timeout??1e4;let m=e;if(t.includeChainToURL){const I=l==null?void 0:l.name.replace(" ","-").toLowerCase();m=`${e}${I?`/${I}`:""}`}if(!m)throw new BR;const y=PR(m,{fetchOptions:n,onRequest:i,onResponse:o,timeout:p}),b=Xle(r);return IA({key:r,name:s,methods:u,async request({method:I,params:v}){const E={method:I,params:v},S=b==null?void 0:b[I],{error:N,result:O}=await((S==null?void 0:S(y,{baseUrl:m,apiKey:c},v))??y.request({body:E}));if(N)throw new pw({body:E,error:N,url:m});return O},retryCount:h,retryDelay:a,timeout:p,type:"http"},{fetchOptions:n,url:m})}}const Jle=e=>kA("https://api.blockchair.com",{name:"Blockchair API",key:"blockchair",includeChainToURL:!0,methods:{include:Object.keys(RR)},...e}),ede=e=>kA("https://api.blockcypher.com/v1/btc/main",{name:"Blockcypher API",key:"blockcypher",methods:{include:Object.keys(DR)},...e});function tde(e,t={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,shouldThrow:i=nde,retryCount:o,retryDelay:a}=t;return({chain:c,pollingInterval:u=4e3,timeout:l,...f})=>{let d=e,h=()=>{};const p=IA({key:n,name:r,async request({method:m,params:y}){const b=d.reduce((E,S)=>{const N=S({...f,chain:c,retryCount:0,timeout:l}),{include:O,exclude:z}=N.config.methods||{};return O?(O.includes(m)&&E.push(N),E):z?(z.includes(m)||E.push(N),E):(E.push(N),E)},[]);if(!b.length)throw new Ile({method:m});const I=[],v=async(E=0)=>{const S=b[E];try{const N=await S.request({method:m,params:y});return h({method:m,params:y,response:N,transport:S,status:"success"}),N}catch(N){if(h({error:N,method:m,params:y,transport:S,status:"error"}),i(N))throw N;if(I.push({transport:S.config.name,error:N,attempt:E+1}),E===b.length-1)throw new Sle({method:m,params:y,errors:I,totalAttempts:E+1});return v(E+1)}};return v()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:m=>{h=m},transports:d.map(m=>m({chain:c,retryCount:0}))});if(s){const m=typeof s=="object"?s:{};rde({chain:c,interval:m.interval??u,onTransports:y=>{d=y},ping:m.ping,sampleCount:m.sampleCount,timeout:m.timeout,transports:d,weights:m.weights})}return p}}function nde(e){return e instanceof AA||"code"in e&&typeof e.code=="number"&&(e.code===lr.INTERNAL_ERROR||e.code===lr.USER_REJECTION||e.code===5e3)}function rde({chain:e,interval:t=4e3,onTransports:n,ping:r,sampleCount:s=10,timeout:i=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:u=.3}=a,l=[],f=async()=>{const d=await Promise.all(o.map(async m=>{const y=m({chain:e,retryCount:0,timeout:i}),b=Date.now();let I,v;try{await(r?r({transport:y}):y.request({method:"net_listening",params:void 0})),v=1}catch{v=0}finally{I=Date.now()}return{latency:I-b,success:v}}));l.push(d),l.length>s&&l.shift();const h=Math.max(...l.map(m=>Math.max(...m.map(({latency:y})=>y)))),p=o.map((m,y)=>{const b=l.map(N=>N[y].latency),v=1-b.reduce((N,O)=>N+O,0)/b.length/h,E=l.map(N=>N[y].success),S=E.reduce((N,O)=>N+O,0)/E.length;return S===0?[0,y]:[u*v+c*S,y]}).sort((m,y)=>y[0]-m[0]);n(p.map(([,m])=>o[m])),await MR(t),f()};f()}function sde(){let e=()=>{},t=()=>{};return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}const db=new Map;function ide({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const i=async()=>{const l=c();o();const f=l.map(({args:d})=>d);f.length!==0&&e(f).then(d=>{s&&Array.isArray(d)&&d.sort(s);for(let h=0;h<l.length;h++){const{resolve:p}=l[h];p==null||p([d[h],d])}}).catch(d=>{for(let h=0;h<l.length;h++){const{reject:p}=l[h];p==null||p(d)}})},o=()=>db.delete(t),a=()=>c().map(({args:l})=>l),c=()=>db.get(t)||[],u=l=>db.set(t,[...c(),l]);return{flush:o,async schedule(l){const{promise:f,resolve:d,reject:h}=sde();return(n==null?void 0:n([...a(),l]))&&i(),c().length>0?(u({args:l,resolve:d,reject:h}),f):(u({args:l,resolve:d,reject:h}),setTimeout(i,r),f)}}}const ode=["getBalance","getTransactions","getUTXOs","getTransactionFee"];function ade(e,t={}){const{batch:n,fetchOptions:r,key:s="http",methods:i={exclude:ode},name:o="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:c,retryDelay:u,raw:l}=t;return({chain:f,retryCount:d,timeout:h})=>{const{batchSize:p=1e3,wait:m=0}=typeof n=="object"?n:{},y=t.retryCount??d,b=h??t.timeout??1e4,I=e||(f==null?void 0:f.rpcUrls.default.http[0]);if(!I)throw new BR;const v=PR(I,{fetchOptions:r,onRequest:a,onResponse:c,timeout:b});return IA({key:s,methods:i,name:o,async request({method:E,params:S}){const N={method:E,params:S},{schedule:O}=ide({id:I,wait:m,shouldSplitBatch(H){return H.length>p},fn:H=>v.request({body:H}),sort:(H,G)=>H.id-G.id}),z=async H=>n?O(H):[await v.request({body:H})],[{error:L,result:F}]=await z(N);if(l)return{error:L,result:F};if(L)throw new pw({body:N,error:L,url:I});return F},retryCount:y,retryDelay:u,timeout:b,type:"http"},{fetchOptions:r,url:I})}}const cde=e=>kA("https://mempool.space/api",{name:"Mempool.space API",key:"mempool",methods:{include:Object.keys(UR)},...e});var Wr;(function(e){e.p2pkh="p2pkh",e.p2sh="p2sh",e.p2wpkh="p2wpkh",e.p2wsh="p2wsh",e.p2tr="p2tr"})(Wr||(Wr={}));const AS={0:{type:Wr.p2pkh,network:ta.Mainnet},111:{type:Wr.p2pkh,network:ta.Testnet},5:{type:Wr.p2sh,network:ta.Mainnet},196:{type:Wr.p2sh,network:ta.Testnet}},ude=e=>{let t;try{e.startsWith("bc1p")||e.startsWith("tb1p")||e.startsWith("bcrt1p")?t=Ld.decode(e):t=Jr.decode(e)}catch{throw new Error("Invalid address")}const r={bc:ta.Mainnet,tb:ta.Testnet,bcrt:ta.Regtest}[t.prefix];if(r===void 0)throw new Error("Invalid address");const s=t.words[0];if(s<0||s>16)throw new Error("Invalid address");const i=Jr.fromWords(t.words.slice(1));let o;i.length===20?o=Wr.p2wpkh:s===1?o=Wr.p2tr:o=Wr.p2wsh;const a=$R(o);return{bech32:!0,network:r,address:e,type:o,purpose:a}},LR=e=>{let t;const n=e.substring(0,2).toLowerCase();if(n==="bc"||n==="tb")return ude(e);try{t=ih.decode(e)}catch{throw new Error("Invalid address")}const{length:r}=t;if(r!==25)throw new Error("Invalid address");const s=t[0],i=t.slice(r-4,r),o=t.slice(0,r-4),a=Fn(Fn(o)).slice(0,4);if(i.some((l,f)=>l!==a[f]))throw new Error("Invalid address");if(!Object.keys(AS).map(Number).includes(s))throw new Error("Invalid address");const u=AS[s];return{...u,address:e,bech32:!1,purpose:$R(u.type)}},$R=e=>{switch(e){case Wr.p2tr:return"ordinals";case Wr.p2wsh:return"stacks";case Wr.p2wpkh:case Wr.p2sh:case Wr.p2pkh:return"payment";default:throw new Error("Invalid address type")}},lde=(e,t)=>{try{const n=LR(e);return t?t===n.network:!0}catch{return!1}};function dde(e){try{return e.extractTransaction(),!0}catch{return!1}}const fde=e=>e.length===32?e:e.subarray(1,33),hde=e=>{switch(e){case Jt.BTC:return K2.BITCOIN_MAINNET;default:throw new Error(`Unsupported chainId mapping: ${e}`)}},pde=e=>Vp({pubkey:e}).output,U0={},zR=async e=>{if(!U0[e]){const n=(await zg(e)).map(o=>ade(o,{fetchOptions:{method:"POST"}})),r=await xt.getChainById(e),s={...r,...r.metamask,id:hde(r.id),name:r.metamask.chainName,rpcUrls:{default:{http:r.metamask.rpcUrls},public:{http:r.metamask.rpcUrls}}},i=Cle({chain:s,rpcSchema:Tle(),transport:tde([Jle(),ede(),cde(),...n]),pollingInterval:1e4}).extend(xle).extend(Ale);U0[e]=i}if(!U0[e])throw new Error(`Unable to configure provider for chain ${e}`);return U0[e]},mde=async(e,t)=>{if(t.length===0)return[];const{chainId:n}=t[0];for(const o of t)o.chainId!==n&&console.warn("Requested tokens have to be on the same chain.");const r=await zR(Jt.BTC),[s,i]=await Promise.all([r.getBalance({address:e}),r.getBlockCount()]);return t.map(o=>({...o,amount:s,blockNumber:BigInt(i)}))};async function yde(e){return e}var fn={},FR={};const gde=Hd(dH),Dy=Hd(lL);var mw={},CA={};const wde=Hd(fH);var cl={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.notImplemented=e.bitMask=e.utf8ToBytes=e.randomBytes=e.isBytes=e.hexToBytes=e.concatBytes=e.bytesToUtf8=e.bytesToHex=e.anumber=e.abytes=void 0,e.abool=i,e._abool2=o,e._abytes2=a,e.numberToHexUnpadded=c,e.hexToNumber=u,e.bytesToNumberBE=l,e.bytesToNumberLE=f,e.numberToBytesBE=d,e.numberToBytesLE=h,e.numberToVarBytesBE=p,e.ensureBytes=m,e.equalBytes=y,e.copyBytes=b,e.asciiToBytes=I,e.inRange=E,e.aInRange=S,e.bitLen=N,e.bitGet=O,e.bitSet=z,e.createHmacDrbg=F,e.validateObject=G,e.isHash=M,e._validateObject=g,e.memoized=T;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=Dy;var n=Dy;Object.defineProperty(e,"abytes",{enumerable:!0,get:function(){return n.abytes}}),Object.defineProperty(e,"anumber",{enumerable:!0,get:function(){return n.anumber}}),Object.defineProperty(e,"bytesToHex",{enumerable:!0,get:function(){return n.bytesToHex}}),Object.defineProperty(e,"bytesToUtf8",{enumerable:!0,get:function(){return n.bytesToUtf8}}),Object.defineProperty(e,"concatBytes",{enumerable:!0,get:function(){return n.concatBytes}}),Object.defineProperty(e,"hexToBytes",{enumerable:!0,get:function(){return n.hexToBytes}}),Object.defineProperty(e,"isBytes",{enumerable:!0,get:function(){return n.isBytes}}),Object.defineProperty(e,"randomBytes",{enumerable:!0,get:function(){return n.randomBytes}}),Object.defineProperty(e,"utf8ToBytes",{enumerable:!0,get:function(){return n.utf8ToBytes}});const r=BigInt(0),s=BigInt(1);function i(_,x){if(typeof x!="boolean")throw new Error(_+" boolean expected, got "+x)}function o(_,x=""){if(typeof _!="boolean"){const j=x&&`"${x}"`;throw new Error(j+"expected boolean, got type="+typeof _)}return _}function a(_,x,j=""){const D=(0,t.isBytes)(_),P=_==null?void 0:_.length,k=x!==void 0;if(!D||k&&P!==x){const $=j&&`"${j}" `,Z=k?` of length ${x}`:"",Y=D?`length=${P}`:`type=${typeof _}`;throw new Error($+"expected Uint8Array"+Z+", got "+Y)}return _}function c(_){const x=_.toString(16);return x.length&1?"0"+x:x}function u(_){if(typeof _!="string")throw new Error("hex string expected, got "+typeof _);return _===""?r:BigInt("0x"+_)}function l(_){return u((0,t.bytesToHex)(_))}function f(_){return(0,t.abytes)(_),u((0,t.bytesToHex)(Uint8Array.from(_).reverse()))}function d(_,x){return(0,t.hexToBytes)(_.toString(16).padStart(x*2,"0"))}function h(_,x){return d(_,x).reverse()}function p(_){return(0,t.hexToBytes)(c(_))}function m(_,x,j){let D;if(typeof x=="string")try{D=(0,t.hexToBytes)(x)}catch(k){throw new Error(_+" must be hex string or Uint8Array, cause: "+k)}else if((0,t.isBytes)(x))D=Uint8Array.from(x);else throw new Error(_+" must be hex string or Uint8Array");const P=D.length;if(typeof j=="number"&&P!==j)throw new Error(_+" of length "+j+" expected, got "+P);return D}function y(_,x){if(_.length!==x.length)return!1;let j=0;for(let D=0;D<_.length;D++)j|=_[D]^x[D];return j===0}function b(_){return Uint8Array.from(_)}function I(_){return Uint8Array.from(_,(x,j)=>{const D=x.charCodeAt(0);if(x.length!==1||D>127)throw new Error(`string contains non-ASCII character "${_[j]}" with code ${D} at position ${j}`);return D})}const v=_=>typeof _=="bigint"&&r<=_;function E(_,x,j){return v(_)&&v(x)&&v(j)&&x<=_&&_<j}function S(_,x,j,D){if(!E(x,j,D))throw new Error("expected valid "+_+": "+j+" <= n < "+D+", got "+x)}function N(_){let x;for(x=0;_>r;_>>=s,x+=1);return x}function O(_,x){return _>>BigInt(x)&s}function z(_,x,j){return _|(j?s:r)<<BigInt(x)}const L=_=>(s<<BigInt(_))-s;e.bitMask=L;function F(_,x,j){if(typeof _!="number"||_<2)throw new Error("hashLen must be a number");if(typeof x!="number"||x<2)throw new Error("qByteLen must be a number");if(typeof j!="function")throw new Error("hmacFn must be a function");const D=Se=>new Uint8Array(Se),P=Se=>Uint8Array.of(Se);let k=D(_),$=D(_),Z=0;const Y=()=>{k.fill(1),$.fill(0),Z=0},ne=(...Se)=>j($,k,...Se),he=(Se=D(0))=>{$=ne(P(0),Se),k=ne(),Se.length!==0&&($=ne(P(1),Se),k=ne())},de=()=>{if(Z++>=1e3)throw new Error("drbg: tried 1000 values");let Se=0;const Me=[];for(;Se<x;){k=ne();const Ne=k.slice();Me.push(Ne),Se+=k.length}return(0,t.concatBytes)(...Me)};return(Se,Me)=>{Y(),he(Se);let Ne;for(;!(Ne=Me(de()));)he();return Y(),Ne}}const H={bigint:_=>typeof _=="bigint",function:_=>typeof _=="function",boolean:_=>typeof _=="boolean",string:_=>typeof _=="string",stringOrUint8Array:_=>typeof _=="string"||(0,t.isBytes)(_),isSafeInteger:_=>Number.isSafeInteger(_),array:_=>Array.isArray(_),field:(_,x)=>x.Fp.isValid(_),hash:_=>typeof _=="function"&&Number.isSafeInteger(_.outputLen)};function G(_,x,j={}){const D=(P,k,$)=>{const Z=H[k];if(typeof Z!="function")throw new Error("invalid validator function");const Y=_[P];if(!($&&Y===void 0)&&!Z(Y,_))throw new Error("param "+String(P)+" is invalid. Expected "+k+", got "+Y)};for(const[P,k]of Object.entries(x))D(P,k,!1);for(const[P,k]of Object.entries(j))D(P,k,!0);return _}function M(_){return typeof _=="function"&&Number.isSafeInteger(_.outputLen)}function g(_,x,j={}){if(!_||typeof _!="object")throw new Error("expected valid options object");function D(P,k,$){const Z=_[P];if($&&Z===void 0)return;const Y=typeof Z;if(Y!==k||Z===null)throw new Error(`param "${P}" is invalid: expected ${k}, got ${Y}`)}Object.entries(x).forEach(([P,k])=>D(P,k,!1)),Object.entries(j).forEach(([P,k])=>D(P,k,!0))}const w=()=>{throw new Error("not implemented")};e.notImplemented=w;function T(_){const x=new WeakMap;return(j,...D)=>{const P=x.get(j);if(P!==void 0)return P;const k=_(j,...D);return x.set(j,k),k}}})(cl);var no={},Dt={};Object.defineProperty(Dt,"__esModule",{value:!0});Dt.isNegativeLE=void 0;Dt.mod=ms;Dt.pow=Ede;Dt.pow2=xde;Dt.invert=Uy;Dt.tonelliShanks=_A;Dt.FpSqrt=QR;Dt.validateField=Cde;Dt.FpPow=MA;Dt.FpInvertBatch=YR;Dt.FpDiv=Tde;Dt.FpLegendre=Ly;Dt.FpIsSquare=_de;Dt.nLength=BA;Dt.Field=yw;Dt.FpSqrtOdd=Mde;Dt.FpSqrtEven=Bde;Dt.hashToPrivateScalar=Nde;Dt.getFieldBytesLength=NA;Dt.getMinHashLength=ZR;Dt.mapHashToField=Ode;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const bs=cl,As=BigInt(0),Xn=BigInt(1),nu=BigInt(2),HR=BigInt(3),qR=BigInt(4),WR=BigInt(5),bde=BigInt(7),GR=BigInt(8),vde=BigInt(9),VR=BigInt(16);function ms(e,t){const n=e%t;return n>=As?n:t+n}function Ede(e,t,n){return MA(yw(n),e,t)}function xde(e,t,n){let r=e;for(;t-- >As;)r*=r,r%=n;return r}function Uy(e,t){if(e===As)throw new Error("invert: expected non-zero number");if(t<=As)throw new Error("invert: expected positive modulus, got "+t);let n=ms(e,t),r=t,s=As,i=Xn;for(;n!==As;){const a=r/n,c=r%n,u=s-i*a;r=n,n=c,s=i,i=u}if(r!==Xn)throw new Error("invert: does not exist");return ms(s,t)}function TA(e,t,n){if(!e.eql(e.sqr(t),n))throw new Error("Cannot find square root")}function KR(e,t){const n=(e.ORDER+Xn)/qR,r=e.pow(t,n);return TA(e,r,t),r}function Ade(e,t){const n=(e.ORDER-WR)/GR,r=e.mul(t,nu),s=e.pow(r,n),i=e.mul(t,s),o=e.mul(e.mul(i,nu),s),a=e.mul(i,e.sub(o,e.ONE));return TA(e,a,t),a}function Ide(e){const t=yw(e),n=_A(e),r=n(t,t.neg(t.ONE)),s=n(t,r),i=n(t,t.neg(r)),o=(e+bde)/VR;return(a,c)=>{let u=a.pow(c,o),l=a.mul(u,r);const f=a.mul(u,s),d=a.mul(u,i),h=a.eql(a.sqr(l),c),p=a.eql(a.sqr(f),c);u=a.cmov(u,l,h),l=a.cmov(d,f,p);const m=a.eql(a.sqr(l),c),y=a.cmov(u,l,m);return TA(a,y,c),y}}function _A(e){if(e<HR)throw new Error("sqrt is not defined for small field");let t=e-Xn,n=0;for(;t%nu===As;)t/=nu,n++;let r=nu;const s=yw(e);for(;Ly(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return KR;let i=s.pow(r,t);const o=(t+Xn)/nu;return function(c,u){if(c.is0(u))return u;if(Ly(c,u)!==1)throw new Error("Cannot find square root");let l=n,f=c.mul(c.ONE,i),d=c.pow(u,t),h=c.pow(u,o);for(;!c.eql(d,c.ONE);){if(c.is0(d))return c.ZERO;let p=1,m=c.sqr(d);for(;!c.eql(m,c.ONE);)if(p++,m=c.sqr(m),p===l)throw new Error("Cannot find square root");const y=Xn<<BigInt(l-p-1),b=c.pow(f,y);l=p,f=c.sqr(b),d=c.mul(d,f),h=c.mul(h,b)}return h}}function QR(e){return e%qR===HR?KR:e%GR===WR?Ade:e%VR===vde?Ide(e):_A(e)}const Sde=(e,t)=>(ms(e,t)&Xn)===Xn;Dt.isNegativeLE=Sde;const kde=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Cde(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=kde.reduce((r,s)=>(r[s]="function",r),t);return(0,bs._validateObject)(e,n),e}function MA(e,t,n){if(n<As)throw new Error("invalid exponent, negatives unsupported");if(n===As)return e.ONE;if(n===Xn)return t;let r=e.ONE,s=t;for(;n>As;)n&Xn&&(r=e.mul(r,s)),s=e.sqr(s),n>>=Xn;return r}function YR(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((o,a,c)=>e.is0(a)?o:(r[c]=o,e.mul(o,a)),e.ONE),i=e.inv(s);return t.reduceRight((o,a,c)=>e.is0(a)?o:(r[c]=e.mul(o,r[c]),e.mul(o,a)),i),r}function Tde(e,t,n){return e.mul(t,typeof n=="bigint"?Uy(n,e.ORDER):e.inv(n))}function Ly(e,t){const n=(e.ORDER-Xn)/nu,r=e.pow(t,n),s=e.eql(r,e.ONE),i=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function _de(e,t){return Ly(e,t)===1}function BA(e,t){t!==void 0&&(0,bs.anumber)(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function yw(e,t,n=!1,r={}){if(e<=As)throw new Error("invalid field: expected ORDER > 0, got "+e);let s,i,o=!1,a;if(typeof t=="object"&&t!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const d=t;d.BITS&&(s=d.BITS),d.sqrt&&(i=d.sqrt),typeof d.isLE=="boolean"&&(n=d.isLE),typeof d.modFromBytes=="boolean"&&(o=d.modFromBytes),a=d.allowedLengths}else typeof t=="number"&&(s=t),r.sqrt&&(i=r.sqrt);const{nBitLength:c,nByteLength:u}=BA(e,s);if(u>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const f=Object.freeze({ORDER:e,isLE:n,BITS:c,BYTES:u,MASK:(0,bs.bitMask)(c),ZERO:As,ONE:Xn,allowedLengths:a,create:d=>ms(d,e),isValid:d=>{if(typeof d!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof d);return As<=d&&d<e},is0:d=>d===As,isValidNot0:d=>!f.is0(d)&&f.isValid(d),isOdd:d=>(d&Xn)===Xn,neg:d=>ms(-d,e),eql:(d,h)=>d===h,sqr:d=>ms(d*d,e),add:(d,h)=>ms(d+h,e),sub:(d,h)=>ms(d-h,e),mul:(d,h)=>ms(d*h,e),pow:(d,h)=>MA(f,d,h),div:(d,h)=>ms(d*Uy(h,e),e),sqrN:d=>d*d,addN:(d,h)=>d+h,subN:(d,h)=>d-h,mulN:(d,h)=>d*h,inv:d=>Uy(d,e),sqrt:i||(d=>(l||(l=QR(e)),l(f,d))),toBytes:d=>n?(0,bs.numberToBytesLE)(d,u):(0,bs.numberToBytesBE)(d,u),fromBytes:(d,h=!0)=>{if(a){if(!a.includes(d.length)||d.length>u)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+d.length);const m=new Uint8Array(u);m.set(d,n?0:m.length-d.length),d=m}if(d.length!==u)throw new Error("Field.fromBytes: expected "+u+" bytes, got "+d.length);let p=n?(0,bs.bytesToNumberLE)(d):(0,bs.bytesToNumberBE)(d);if(o&&(p=ms(p,e)),!h&&!f.isValid(p))throw new Error("invalid field element: outside of range 0..ORDER");return p},invertBatch:d=>YR(f,d),cmov:(d,h,p)=>p?h:d});return Object.freeze(f)}function Mde(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const n=e.sqrt(t);return e.isOdd(n)?n:e.neg(n)}function Bde(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const n=e.sqrt(t);return e.isOdd(n)?e.neg(n):n}function Nde(e,t,n=!1){e=(0,bs.ensureBytes)("privateHash",e);const r=e.length,s=BA(t).nByteLength+8;if(s<24||r<s||r>1024)throw new Error("hashToPrivateScalar: expected "+s+"-1024 bytes of input, got "+r);const i=n?(0,bs.bytesToNumberLE)(e):(0,bs.bytesToNumberBE)(e);return ms(i,t-Xn)+Xn}function NA(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function ZR(e){const t=NA(e);return t+Math.ceil(t/2)}function Ode(e,t,n=!1){const r=e.length,s=NA(t),i=ZR(t);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?(0,bs.bytesToNumberLE)(e):(0,bs.bytesToNumberBE)(e),a=ms(o,t-Xn)+Xn;return n?(0,bs.numberToBytesLE)(a,s):(0,bs.numberToBytesBE)(a,s)}Object.defineProperty(no,"__esModule",{value:!0});no.wNAF=void 0;no.negateCt=Y2;no.normalizeZ=Pde;no.mulEndoUnsafe=Rde;no.pippenger=Dde;no.precomputeMSMUnsafe=Ude;no.validateBasic=Lde;no._createCurveFields=$de;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Gh=cl,Vh=Dt,$d=BigInt(0),ru=BigInt(1);function Y2(e,t){const n=t.negate();return e?n:t}function Pde(e,t){const n=(0,Vh.FpInvertBatch)(e.Fp,t.map(r=>r.Z));return t.map((r,s)=>e.fromAffine(r.toAffine(n[s])))}function OA(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function fb(e,t){OA(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,i=(0,Gh.bitMask)(e),o=BigInt(e);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function IS(e,t,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(e&s),c=e>>o;a>r&&(a-=i,c+=ru);const u=t*r,l=u+Math.abs(a)-1,f=a===0,d=a<0,h=t%2!==0;return{nextN:c,offset:l,isZero:f,isNeg:d,isNegF:h,offsetF:u}}function XR(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function JR(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const hb=new WeakMap,eD=new WeakMap;function pb(e){return eD.get(e)||1}function SS(e){if(e!==$d)throw new Error("invalid wNAF")}class jde{constructor(t,n){this.BASE=t.BASE,this.ZERO=t.ZERO,this.Fn=t.Fn,this.bits=n}_unsafeLadder(t,n,r=this.ZERO){let s=t;for(;n>$d;)n&ru&&(r=r.add(s)),s=s.double(),n>>=ru;return r}precomputeWindow(t,n){const{windows:r,windowSize:s}=fb(n,this.bits),i=[];let o=t,a=o;for(let c=0;c<r;c++){a=o,i.push(a);for(let u=1;u<s;u++)a=a.add(o),i.push(a);o=a.double()}return i}wNAF(t,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let s=this.ZERO,i=this.BASE;const o=fb(t,this.bits);for(let a=0;a<o.windows;a++){const{nextN:c,offset:u,isZero:l,isNeg:f,isNegF:d,offsetF:h}=IS(r,a,o);r=c,l?i=i.add(Y2(d,n[h])):s=s.add(Y2(f,n[u]))}return SS(r),{p:s,f:i}}wNAFUnsafe(t,n,r,s=this.ZERO){const i=fb(t,this.bits);for(let o=0;o<i.windows&&r!==$d;o++){const{nextN:a,offset:c,isZero:u,isNeg:l}=IS(r,o,i);if(r=a,!u){const f=n[c];s=s.add(l?f.negate():f)}}return SS(r),s}getPrecomputes(t,n,r){let s=hb.get(n);return s||(s=this.precomputeWindow(n,t),t!==1&&(typeof r=="function"&&(s=r(s)),hb.set(n,s))),s}cached(t,n,r){const s=pb(t);return this.wNAF(s,this.getPrecomputes(s,t,r),n)}unsafe(t,n,r,s){const i=pb(t);return i===1?this._unsafeLadder(t,n,s):this.wNAFUnsafe(i,this.getPrecomputes(i,t,r),n,s)}createCache(t,n){OA(n,this.bits),eD.set(t,n),hb.delete(t)}hasCache(t){return pb(t)!==1}}no.wNAF=jde;function Rde(e,t,n,r){let s=t,i=e.ZERO,o=e.ZERO;for(;n>$d||r>$d;)n&ru&&(i=i.add(s)),r&ru&&(o=o.add(s)),s=s.double(),n>>=ru,r>>=ru;return{p1:i,p2:o}}function Dde(e,t,n,r){XR(n,e),JR(r,t);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=(0,Gh.bitLen)(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=(0,Gh.bitMask)(c),l=new Array(Number(u)+1).fill(o),f=Math.floor((t.BITS-1)/c)*c;let d=o;for(let h=f;h>=0;h-=c){l.fill(o);for(let m=0;m<i;m++){const y=r[m],b=Number(y>>BigInt(h)&u);l[b]=l[b].add(n[m])}let p=o;for(let m=l.length-1,y=o;m>0;m--)y=y.add(l[m]),p=p.add(y);if(d=d.add(p),h!==0)for(let m=0;m<c;m++)d=d.double()}return d}function Ude(e,t,n,r){OA(r,t.BITS),XR(n,e);const s=e.ZERO,i=2**r-1,o=Math.ceil(t.BITS/r),a=(0,Gh.bitMask)(r),c=n.map(u=>{const l=[];for(let f=0,d=u;f<i;f++)l.push(d),d=d.add(u);return l});return u=>{if(JR(u,t),u.length>n.length)throw new Error("array of scalars must be smaller than array of points");let l=s;for(let f=0;f<o;f++){if(l!==s)for(let h=0;h<r;h++)l=l.double();const d=BigInt(o*r-(f+1)*r);for(let h=0;h<u.length;h++){const p=u[h],m=Number(p>>d&a);m&&(l=l.add(c[h][m-1]))}}return l}}function Lde(e){return(0,Vh.validateField)(e.Fp),(0,Gh.validateObject)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,Vh.nLength)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function kS(e,t,n){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return(0,Vh.validateField)(t),t}else return(0,Vh.Field)(e,{isLE:n})}function $de(e,t,n={},r){if(r===void 0&&(r=e==="edwards"),!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const c of["p","n","h"]){const u=t[c];if(!(typeof u=="bigint"&&u>$d))throw new Error(`CURVE.${c} must be positive bigint`)}const s=kS(t.p,n.Fp,r),i=kS(t.n,n.Fn,r),a=["Gx","Gy","a",e==="weierstrass"?"b":"d"];for(const c of a)if(!s.isValid(t[c]))throw new Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return t=Object.freeze(Object.assign({},t)),{CURVE:t,Fp:s,Fn:i}}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DER=e.DERErr=void 0,e._splitEndoScalar=a,e._normFnElement=y,e.weierstrassN=b,e.SWUFpSqrtRatio=v,e.mapToCurveSimpleSWU=E,e.ecdh=N,e.ecdsa=O,e.weierstrassPoints=z,e._legacyHelperEquat=H,e.weierstrass=g;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=wde,n=Dy,r=cl,s=no,i=Dt,o=(w,T)=>(w+(w>=0?T:-T)/h)/T;function a(w,T,_){const[[x,j],[D,P]]=T,k=o(P*w,_),$=o(-j*w,_);let Z=w-k*x-$*D,Y=-k*j-$*P;const ne=Z<f,he=Y<f;ne&&(Z=-Z),he&&(Y=-Y);const de=(0,r.bitMask)(Math.ceil((0,r.bitLen)(_)/2))+d;if(Z<f||Z>=de||Y<f||Y>=de)throw new Error("splitScalar (endomorphism): failed, k="+w);return{k1neg:ne,k1:Z,k2neg:he,k2:Y}}function c(w){if(!["compact","recovered","der"].includes(w))throw new Error('Signature format must be "compact", "recovered", or "der"');return w}function u(w,T){const _={};for(let x of Object.keys(T))_[x]=w[x]===void 0?T[x]:w[x];return(0,r._abool2)(_.lowS,"lowS"),(0,r._abool2)(_.prehash,"prehash"),_.format!==void 0&&c(_.format),_}class l extends Error{constructor(T=""){super(T)}}e.DERErr=l,e.DER={Err:l,_tlv:{encode:(w,T)=>{const{Err:_}=e.DER;if(w<0||w>256)throw new _("tlv.encode: wrong tag");if(T.length&1)throw new _("tlv.encode: unpadded data");const x=T.length/2,j=(0,r.numberToHexUnpadded)(x);if(j.length/2&128)throw new _("tlv.encode: long form length too big");const D=x>127?(0,r.numberToHexUnpadded)(j.length/2|128):"";return(0,r.numberToHexUnpadded)(w)+D+j+T},decode(w,T){const{Err:_}=e.DER;let x=0;if(w<0||w>256)throw new _("tlv.encode: wrong tag");if(T.length<2||T[x++]!==w)throw new _("tlv.decode: wrong tlv");const j=T[x++],D=!!(j&128);let P=0;if(!D)P=j;else{const $=j&127;if(!$)throw new _("tlv.decode(long): indefinite length not supported");if($>4)throw new _("tlv.decode(long): byte length is too big");const Z=T.subarray(x,x+$);if(Z.length!==$)throw new _("tlv.decode: length bytes not complete");if(Z[0]===0)throw new _("tlv.decode(long): zero leftmost byte");for(const Y of Z)P=P<<8|Y;if(x+=$,P<128)throw new _("tlv.decode(long): not minimal encoding")}const k=T.subarray(x,x+P);if(k.length!==P)throw new _("tlv.decode: wrong value length");return{v:k,l:T.subarray(x+P)}}},_int:{encode(w){const{Err:T}=e.DER;if(w<f)throw new T("integer: negative integers are not allowed");let _=(0,r.numberToHexUnpadded)(w);if(Number.parseInt(_[0],16)&8&&(_="00"+_),_.length&1)throw new T("unexpected DER parsing assertion: unpadded hex");return _},decode(w){const{Err:T}=e.DER;if(w[0]&128)throw new T("invalid signature integer: negative");if(w[0]===0&&!(w[1]&128))throw new T("invalid signature integer: unnecessary leading zero");return(0,r.bytesToNumberBE)(w)}},toSig(w){const{Err:T,_int:_,_tlv:x}=e.DER,j=(0,r.ensureBytes)("signature",w),{v:D,l:P}=x.decode(48,j);if(P.length)throw new T("invalid signature: left bytes after parsing");const{v:k,l:$}=x.decode(2,D),{v:Z,l:Y}=x.decode(2,$);if(Y.length)throw new T("invalid signature: left bytes after parsing");return{r:_.decode(k),s:_.decode(Z)}},hexFromSig(w){const{_tlv:T,_int:_}=e.DER,x=T.encode(2,_.encode(w.r)),j=T.encode(2,_.encode(w.s)),D=x+j;return T.encode(48,D)}};const f=BigInt(0),d=BigInt(1),h=BigInt(2),p=BigInt(3),m=BigInt(4);function y(w,T){const{BYTES:_}=w;let x;if(typeof T=="bigint")x=T;else{let j=(0,r.ensureBytes)("private key",T);try{x=w.fromBytes(j)}catch{throw new Error(`invalid private key: expected ui8a of size ${_}, got ${typeof T}`)}}if(!w.isValidNot0(x))throw new Error("invalid private key: out of range [1..N-1]");return x}function b(w,T={}){const _=(0,s._createCurveFields)("weierstrass",w,T),{Fp:x,Fn:j}=_;let D=_.CURVE;const{h:P,n:k}=D;(0,r._validateObject)(T,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:$}=T;if($&&(!x.is0(D.a)||typeof $.beta!="bigint"||!Array.isArray($.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const Z=S(x,j);function Y(){if(!x.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function ne(He,ae,ce){const{x:ie,y:me}=ae.toAffine(),xe=x.toBytes(ie);if((0,r._abool2)(ce,"isCompressed"),ce){Y();const ke=!x.isOdd(me);return(0,r.concatBytes)(I(ke),xe)}else return(0,r.concatBytes)(Uint8Array.of(4),xe,x.toBytes(me))}function he(He){(0,r._abytes2)(He,void 0,"Point");const{publicKey:ae,publicKeyUncompressed:ce}=Z,ie=He.length,me=He[0],xe=He.subarray(1);if(ie===ae&&(me===2||me===3)){const ke=x.fromBytes(xe);if(!x.isValid(ke))throw new Error("bad point: is not on curve, wrong x");const R=Se(ke);let A;try{A=x.sqrt(R)}catch(W){const X=W instanceof Error?": "+W.message:"";throw new Error("bad point: is not on curve, sqrt error"+X)}Y();const C=x.isOdd(A);return(me&1)===1!==C&&(A=x.neg(A)),{x:ke,y:A}}else if(ie===ce&&me===4){const ke=x.BYTES,R=x.fromBytes(xe.subarray(0,ke)),A=x.fromBytes(xe.subarray(ke,ke*2));if(!Me(R,A))throw new Error("bad point: is not on curve");return{x:R,y:A}}else throw new Error(`bad point: got length ${ie}, expected compressed=${ae} or uncompressed=${ce}`)}const de=T.toBytes||ne,le=T.fromBytes||he;function Se(He){const ae=x.sqr(He),ce=x.mul(ae,He);return x.add(x.add(ce,x.mul(He,D.a)),D.b)}function Me(He,ae){const ce=x.sqr(ae),ie=Se(He);return x.eql(ce,ie)}if(!Me(D.Gx,D.Gy))throw new Error("bad curve params: generator point");const Ne=x.mul(x.pow(D.a,p),m),ot=x.mul(x.sqr(D.b),BigInt(27));if(x.is0(x.add(Ne,ot)))throw new Error("bad curve params: a or b");function De(He,ae,ce=!1){if(!x.isValid(ae)||ce&&x.is0(ae))throw new Error(`bad point coordinate ${He}`);return ae}function Ve(He){if(!(He instanceof Re))throw new Error("ProjectivePoint expected")}function It(He){if(!$||!$.basises)throw new Error("no endo");return a(He,$.basises,j.ORDER)}const mt=(0,r.memoized)((He,ae)=>{const{X:ce,Y:ie,Z:me}=He;if(x.eql(me,x.ONE))return{x:ce,y:ie};const xe=He.is0();ae==null&&(ae=xe?x.ONE:x.inv(me));const ke=x.mul(ce,ae),R=x.mul(ie,ae),A=x.mul(me,ae);if(xe)return{x:x.ZERO,y:x.ZERO};if(!x.eql(A,x.ONE))throw new Error("invZ was invalid");return{x:ke,y:R}}),ht=(0,r.memoized)(He=>{if(He.is0()){if(T.allowInfinityPoint&&!x.is0(He.Y))return;throw new Error("bad point: ZERO")}const{x:ae,y:ce}=He.toAffine();if(!x.isValid(ae)||!x.isValid(ce))throw new Error("bad point: x or y not field elements");if(!Me(ae,ce))throw new Error("bad point: equation left != right");if(!He.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function Cn(He,ae,ce,ie,me){return ce=new Re(x.mul(ce.X,He),ce.Y,ce.Z),ae=(0,s.negateCt)(ie,ae),ce=(0,s.negateCt)(me,ce),ae.add(ce)}class Re{constructor(ae,ce,ie){this.X=De("x",ae),this.Y=De("y",ce,!0),this.Z=De("z",ie),Object.freeze(this)}static CURVE(){return D}static fromAffine(ae){const{x:ce,y:ie}=ae||{};if(!ae||!x.isValid(ce)||!x.isValid(ie))throw new Error("invalid affine point");if(ae instanceof Re)throw new Error("projective point not allowed");return x.is0(ce)&&x.is0(ie)?Re.ZERO:new Re(ce,ie,x.ONE)}static fromBytes(ae){const ce=Re.fromAffine(le((0,r._abytes2)(ae,void 0,"point")));return ce.assertValidity(),ce}static fromHex(ae){return Re.fromBytes((0,r.ensureBytes)("pointHex",ae))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(ae=8,ce=!0){return Mr.createCache(this,ae),ce||this.multiply(p),this}assertValidity(){ht(this)}hasEvenY(){const{y:ae}=this.toAffine();if(!x.isOdd)throw new Error("Field doesn't support isOdd");return!x.isOdd(ae)}equals(ae){Ve(ae);const{X:ce,Y:ie,Z:me}=this,{X:xe,Y:ke,Z:R}=ae,A=x.eql(x.mul(ce,R),x.mul(xe,me)),C=x.eql(x.mul(ie,R),x.mul(ke,me));return A&&C}negate(){return new Re(this.X,x.neg(this.Y),this.Z)}double(){const{a:ae,b:ce}=D,ie=x.mul(ce,p),{X:me,Y:xe,Z:ke}=this;let R=x.ZERO,A=x.ZERO,C=x.ZERO,U=x.mul(me,me),W=x.mul(xe,xe),X=x.mul(ke,ke),J=x.mul(me,xe);return J=x.add(J,J),C=x.mul(me,ke),C=x.add(C,C),R=x.mul(ae,C),A=x.mul(ie,X),A=x.add(R,A),R=x.sub(W,A),A=x.add(W,A),A=x.mul(R,A),R=x.mul(J,R),C=x.mul(ie,C),X=x.mul(ae,X),J=x.sub(U,X),J=x.mul(ae,J),J=x.add(J,C),C=x.add(U,U),U=x.add(C,U),U=x.add(U,X),U=x.mul(U,J),A=x.add(A,U),X=x.mul(xe,ke),X=x.add(X,X),U=x.mul(X,J),R=x.sub(R,U),C=x.mul(X,W),C=x.add(C,C),C=x.add(C,C),new Re(R,A,C)}add(ae){Ve(ae);const{X:ce,Y:ie,Z:me}=this,{X:xe,Y:ke,Z:R}=ae;let A=x.ZERO,C=x.ZERO,U=x.ZERO;const W=D.a,X=x.mul(D.b,p);let J=x.mul(ce,xe),ye=x.mul(ie,ke),ue=x.mul(me,R),Oe=x.add(ce,ie),Xe=x.add(xe,ke);Oe=x.mul(Oe,Xe),Xe=x.add(J,ye),Oe=x.sub(Oe,Xe),Xe=x.add(ce,me);let Pe=x.add(xe,R);return Xe=x.mul(Xe,Pe),Pe=x.add(J,ue),Xe=x.sub(Xe,Pe),Pe=x.add(ie,me),A=x.add(ke,R),Pe=x.mul(Pe,A),A=x.add(ye,ue),Pe=x.sub(Pe,A),U=x.mul(W,Xe),A=x.mul(X,ue),U=x.add(A,U),A=x.sub(ye,U),U=x.add(ye,U),C=x.mul(A,U),ye=x.add(J,J),ye=x.add(ye,J),ue=x.mul(W,ue),Xe=x.mul(X,Xe),ye=x.add(ye,ue),ue=x.sub(J,ue),ue=x.mul(W,ue),Xe=x.add(Xe,ue),J=x.mul(ye,Xe),C=x.add(C,J),J=x.mul(Pe,Xe),A=x.mul(Oe,A),A=x.sub(A,J),J=x.mul(Oe,ye),U=x.mul(Pe,U),U=x.add(U,J),new Re(A,C,U)}subtract(ae){return this.add(ae.negate())}is0(){return this.equals(Re.ZERO)}multiply(ae){const{endo:ce}=T;if(!j.isValidNot0(ae))throw new Error("invalid scalar: out of range");let ie,me;const xe=ke=>Mr.cached(this,ke,R=>(0,s.normalizeZ)(Re,R));if(ce){const{k1neg:ke,k1:R,k2neg:A,k2:C}=It(ae),{p:U,f:W}=xe(R),{p:X,f:J}=xe(C);me=W.add(J),ie=Cn(ce.beta,U,X,ke,A)}else{const{p:ke,f:R}=xe(ae);ie=ke,me=R}return(0,s.normalizeZ)(Re,[ie,me])[0]}multiplyUnsafe(ae){const{endo:ce}=T,ie=this;if(!j.isValid(ae))throw new Error("invalid scalar: out of range");if(ae===f||ie.is0())return Re.ZERO;if(ae===d)return ie;if(Mr.hasCache(this))return this.multiply(ae);if(ce){const{k1neg:me,k1:xe,k2neg:ke,k2:R}=It(ae),{p1:A,p2:C}=(0,s.mulEndoUnsafe)(Re,ie,xe,R);return Cn(ce.beta,A,C,me,ke)}else return Mr.unsafe(ie,ae)}multiplyAndAddUnsafe(ae,ce,ie){const me=this.multiplyUnsafe(ce).add(ae.multiplyUnsafe(ie));return me.is0()?void 0:me}toAffine(ae){return mt(this,ae)}isTorsionFree(){const{isTorsionFree:ae}=T;return P===d?!0:ae?ae(Re,this):Mr.unsafe(this,k).is0()}clearCofactor(){const{clearCofactor:ae}=T;return P===d?this:ae?ae(Re,this):this.multiplyUnsafe(P)}isSmallOrder(){return this.multiplyUnsafe(P).is0()}toBytes(ae=!0){return(0,r._abool2)(ae,"isCompressed"),this.assertValidity(),de(Re,this,ae)}toHex(ae=!0){return(0,r.bytesToHex)(this.toBytes(ae))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(ae=!0){return this.toBytes(ae)}_setWindowSize(ae){this.precompute(ae)}static normalizeZ(ae){return(0,s.normalizeZ)(Re,ae)}static msm(ae,ce){return(0,s.pippenger)(Re,j,ae,ce)}static fromPrivateKey(ae){return Re.BASE.multiply(y(j,ae))}}Re.BASE=new Re(D.Gx,D.Gy,x.ONE),Re.ZERO=new Re(x.ZERO,x.ONE,x.ZERO),Re.Fp=x,Re.Fn=j;const Bt=j.BITS,Mr=new s.wNAF(Re,T.endo?Math.ceil(Bt/2):Bt);return Re.BASE.precompute(8),Re}function I(w){return Uint8Array.of(w?2:3)}function v(w,T){const _=w.ORDER;let x=f;for(let le=_-d;le%h===f;le/=h)x+=d;const j=x,D=h<<j-d-d,P=D*h,k=(_-d)/P,$=(k-d)/h,Z=P-d,Y=D,ne=w.pow(T,k),he=w.pow(T,(k+d)/h);let de=(le,Se)=>{let Me=ne,Ne=w.pow(Se,Z),ot=w.sqr(Ne);ot=w.mul(ot,Se);let De=w.mul(le,ot);De=w.pow(De,$),De=w.mul(De,Ne),Ne=w.mul(De,Se),ot=w.mul(De,le);let Ve=w.mul(ot,Ne);De=w.pow(Ve,Y);let It=w.eql(De,w.ONE);Ne=w.mul(ot,he),De=w.mul(Ve,Me),ot=w.cmov(Ne,ot,It),Ve=w.cmov(De,Ve,It);for(let mt=j;mt>d;mt--){let ht=mt-h;ht=h<<ht-d;let Cn=w.pow(Ve,ht);const Re=w.eql(Cn,w.ONE);Ne=w.mul(ot,Me),Me=w.mul(Me,Me),Cn=w.mul(Ve,Me),ot=w.cmov(Ne,ot,Re),Ve=w.cmov(Cn,Ve,Re)}return{isValid:It,value:ot}};if(w.ORDER%m===p){const le=(w.ORDER-p)/m,Se=w.sqrt(w.neg(T));de=(Me,Ne)=>{let ot=w.sqr(Ne);const De=w.mul(Me,Ne);ot=w.mul(ot,De);let Ve=w.pow(ot,le);Ve=w.mul(Ve,De);const It=w.mul(Ve,Se),mt=w.mul(w.sqr(Ve),Ne),ht=w.eql(mt,Me);let Cn=w.cmov(It,Ve,ht);return{isValid:ht,value:Cn}}}return de}function E(w,T){(0,i.validateField)(w);const{A:_,B:x,Z:j}=T;if(!w.isValid(_)||!w.isValid(x)||!w.isValid(j))throw new Error("mapToCurveSimpleSWU: invalid opts");const D=v(w,j);if(!w.isOdd)throw new Error("Field does not have .isOdd()");return P=>{let k,$,Z,Y,ne,he,de,le;k=w.sqr(P),k=w.mul(k,j),$=w.sqr(k),$=w.add($,k),Z=w.add($,w.ONE),Z=w.mul(Z,x),Y=w.cmov(j,w.neg($),!w.eql($,w.ZERO)),Y=w.mul(Y,_),$=w.sqr(Z),he=w.sqr(Y),ne=w.mul(he,_),$=w.add($,ne),$=w.mul($,Z),he=w.mul(he,Y),ne=w.mul(he,x),$=w.add($,ne),de=w.mul(k,Z);const{isValid:Se,value:Me}=D($,he);le=w.mul(k,P),le=w.mul(le,Me),de=w.cmov(de,Z,Se),le=w.cmov(le,Me,Se);const Ne=w.isOdd(P)===w.isOdd(le);le=w.cmov(w.neg(le),le,Ne);const ot=(0,i.FpInvertBatch)(w,[Y],!0)[0];return de=w.mul(de,ot),{x:de,y:le}}}function S(w,T){return{secretKey:T.BYTES,publicKey:1+w.BYTES,publicKeyUncompressed:1+2*w.BYTES,publicKeyHasPrefix:!0,signature:2*T.BYTES}}function N(w,T={}){const{Fn:_}=w,x=T.randomBytes||r.randomBytes,j=Object.assign(S(w.Fp,_),{seed:(0,i.getMinHashLength)(_.ORDER)});function D(de){try{return!!y(_,de)}catch{return!1}}function P(de,le){const{publicKey:Se,publicKeyUncompressed:Me}=j;try{const Ne=de.length;return le===!0&&Ne!==Se||le===!1&&Ne!==Me?!1:!!w.fromBytes(de)}catch{return!1}}function k(de=x(j.seed)){return(0,i.mapHashToField)((0,r._abytes2)(de,j.seed,"seed"),_.ORDER)}function $(de,le=!0){return w.BASE.multiply(y(_,de)).toBytes(le)}function Z(de){const le=k(de);return{secretKey:le,publicKey:$(le)}}function Y(de){if(typeof de=="bigint")return!1;if(de instanceof w)return!0;const{secretKey:le,publicKey:Se,publicKeyUncompressed:Me}=j;if(_.allowedLengths||le===Se)return;const Ne=(0,r.ensureBytes)("key",de).length;return Ne===Se||Ne===Me}function ne(de,le,Se=!0){if(Y(de)===!0)throw new Error("first arg must be private key");if(Y(le)===!1)throw new Error("second arg must be public key");const Me=y(_,de);return w.fromHex(le).multiply(Me).toBytes(Se)}return Object.freeze({getPublicKey:$,getSharedSecret:ne,keygen:Z,Point:w,utils:{isValidSecretKey:D,isValidPublicKey:P,randomSecretKey:k,isValidPrivateKey:D,randomPrivateKey:k,normPrivateKeyToScalar:de=>y(_,de),precompute(de=8,le=w.BASE){return le.precompute(de,!1)}},lengths:j})}function O(w,T,_={}){(0,n.ahash)(T),(0,r._validateObject)(_,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const x=_.randomBytes||r.randomBytes,j=_.hmac||((ce,...ie)=>(0,t.hmac)(T,ce,(0,r.concatBytes)(...ie))),{Fp:D,Fn:P}=w,{ORDER:k,BITS:$}=P,{keygen:Z,getPublicKey:Y,getSharedSecret:ne,utils:he,lengths:de}=N(w,_),le={prehash:!1,lowS:typeof _.lowS=="boolean"?_.lowS:!1,format:void 0,extraEntropy:!1},Se="compact";function Me(ce){const ie=k>>d;return ce>ie}function Ne(ce,ie){if(!P.isValidNot0(ie))throw new Error(`invalid signature ${ce}: out of range 1..Point.Fn.ORDER`);return ie}function ot(ce,ie){c(ie);const me=de.signature,xe=ie==="compact"?me:ie==="recovered"?me+1:void 0;return(0,r._abytes2)(ce,xe,`${ie} signature`)}class De{constructor(ie,me,xe){this.r=Ne("r",ie),this.s=Ne("s",me),xe!=null&&(this.recovery=xe),Object.freeze(this)}static fromBytes(ie,me=Se){ot(ie,me);let xe;if(me==="der"){const{r:C,s:U}=e.DER.toSig((0,r._abytes2)(ie));return new De(C,U)}me==="recovered"&&(xe=ie[0],me="compact",ie=ie.subarray(1));const ke=P.BYTES,R=ie.subarray(0,ke),A=ie.subarray(ke,ke*2);return new De(P.fromBytes(R),P.fromBytes(A),xe)}static fromHex(ie,me){return this.fromBytes((0,r.hexToBytes)(ie),me)}addRecoveryBit(ie){return new De(this.r,this.s,ie)}recoverPublicKey(ie){const me=D.ORDER,{r:xe,s:ke,recovery:R}=this;if(R==null||![0,1,2,3].includes(R))throw new Error("recovery id invalid");if(k*h<me&&R>1)throw new Error("recovery id is ambiguous for h>1 curve");const C=R===2||R===3?xe+k:xe;if(!D.isValid(C))throw new Error("recovery id 2 or 3 invalid");const U=D.toBytes(C),W=w.fromBytes((0,r.concatBytes)(I((R&1)===0),U)),X=P.inv(C),J=It((0,r.ensureBytes)("msgHash",ie)),ye=P.create(-J*X),ue=P.create(ke*X),Oe=w.BASE.multiplyUnsafe(ye).add(W.multiplyUnsafe(ue));if(Oe.is0())throw new Error("point at infinify");return Oe.assertValidity(),Oe}hasHighS(){return Me(this.s)}toBytes(ie=Se){if(c(ie),ie==="der")return(0,r.hexToBytes)(e.DER.hexFromSig(this));const me=P.toBytes(this.r),xe=P.toBytes(this.s);if(ie==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return(0,r.concatBytes)(Uint8Array.of(this.recovery),me,xe)}return(0,r.concatBytes)(me,xe)}toHex(ie){return(0,r.bytesToHex)(this.toBytes(ie))}assertValidity(){}static fromCompact(ie){return De.fromBytes((0,r.ensureBytes)("sig",ie),"compact")}static fromDER(ie){return De.fromBytes((0,r.ensureBytes)("sig",ie),"der")}normalizeS(){return this.hasHighS()?new De(this.r,P.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return(0,r.bytesToHex)(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return(0,r.bytesToHex)(this.toBytes("compact"))}}const Ve=_.bits2int||function(ie){if(ie.length>8192)throw new Error("input is too large");const me=(0,r.bytesToNumberBE)(ie),xe=ie.length*8-$;return xe>0?me>>BigInt(xe):me},It=_.bits2int_modN||function(ie){return P.create(Ve(ie))},mt=(0,r.bitMask)($);function ht(ce){return(0,r.aInRange)("num < 2^"+$,ce,f,mt),P.toBytes(ce)}function Cn(ce,ie){return(0,r._abytes2)(ce,void 0,"message"),ie?(0,r._abytes2)(T(ce),void 0,"prehashed message"):ce}function Re(ce,ie,me){if(["recovered","canonical"].some(ye=>ye in me))throw new Error("sign() legacy options not supported");const{lowS:xe,prehash:ke,extraEntropy:R}=u(me,le);ce=Cn(ce,ke);const A=It(ce),C=y(P,ie),U=[ht(C),ht(A)];if(R!=null&&R!==!1){const ye=R===!0?x(de.secretKey):R;U.push((0,r.ensureBytes)("extraEntropy",ye))}const W=(0,r.concatBytes)(...U),X=A;function J(ye){const ue=Ve(ye);if(!P.isValidNot0(ue))return;const Oe=P.inv(ue),Xe=w.BASE.multiply(ue).toAffine(),Pe=P.create(Xe.x);if(Pe===f)return;const Ft=P.create(Oe*P.create(X+Pe*C));if(Ft===f)return;let xf=(Xe.x===Pe?0:2)|Number(Xe.y&d),rn=Ft;return xe&&Me(Ft)&&(rn=P.neg(Ft),xf^=1),new De(Pe,rn,xf)}return{seed:W,k2sig:J}}function Bt(ce,ie,me={}){ce=(0,r.ensureBytes)("message",ce);const{seed:xe,k2sig:ke}=Re(ce,ie,me);return(0,r.createHmacDrbg)(T.outputLen,P.BYTES,j)(xe,ke)}function Mr(ce){let ie;const me=typeof ce=="string"||(0,r.isBytes)(ce),xe=!me&&ce!==null&&typeof ce=="object"&&typeof ce.r=="bigint"&&typeof ce.s=="bigint";if(!me&&!xe)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(xe)ie=new De(ce.r,ce.s);else if(me){try{ie=De.fromBytes((0,r.ensureBytes)("sig",ce),"der")}catch(ke){if(!(ke instanceof e.DER.Err))throw ke}if(!ie)try{ie=De.fromBytes((0,r.ensureBytes)("sig",ce),"compact")}catch{return!1}}return ie||!1}function He(ce,ie,me,xe={}){const{lowS:ke,prehash:R,format:A}=u(xe,le);if(me=(0,r.ensureBytes)("publicKey",me),ie=Cn((0,r.ensureBytes)("message",ie),R),"strict"in xe)throw new Error("options.strict was renamed to lowS");const C=A===void 0?Mr(ce):De.fromBytes((0,r.ensureBytes)("sig",ce),A);if(C===!1)return!1;try{const U=w.fromBytes(me);if(ke&&C.hasHighS())return!1;const{r:W,s:X}=C,J=It(ie),ye=P.inv(X),ue=P.create(J*ye),Oe=P.create(W*ye),Xe=w.BASE.multiplyUnsafe(ue).add(U.multiplyUnsafe(Oe));return Xe.is0()?!1:P.create(Xe.x)===W}catch{return!1}}function ae(ce,ie,me={}){const{prehash:xe}=u(me,le);return ie=Cn(ie,xe),De.fromBytes(ce,"recovered").recoverPublicKey(ie).toBytes()}return Object.freeze({keygen:Z,getPublicKey:Y,getSharedSecret:ne,utils:he,lengths:de,Point:w,sign:Bt,verify:He,recoverPublicKey:ae,Signature:De,hash:T})}function z(w){const{CURVE:T,curveOpts:_}=L(w),x=b(T,_);return G(w,x)}function L(w){const T={a:w.a,b:w.b,p:w.Fp.ORDER,n:w.n,h:w.h,Gx:w.Gx,Gy:w.Gy},_=w.Fp;let x=w.allowedPrivateKeyLengths?Array.from(new Set(w.allowedPrivateKeyLengths.map(P=>Math.ceil(P/2)))):void 0;const j=(0,i.Field)(T.n,{BITS:w.nBitLength,allowedLengths:x,modFromBytes:w.wrapPrivateKey}),D={Fp:_,Fn:j,allowInfinityPoint:w.allowInfinityPoint,endo:w.endo,isTorsionFree:w.isTorsionFree,clearCofactor:w.clearCofactor,fromBytes:w.fromBytes,toBytes:w.toBytes};return{CURVE:T,curveOpts:D}}function F(w){const{CURVE:T,curveOpts:_}=L(w),x={hmac:w.hmac,randomBytes:w.randomBytes,lowS:w.lowS,bits2int:w.bits2int,bits2int_modN:w.bits2int_modN};return{CURVE:T,curveOpts:_,hash:w.hash,ecdsaOpts:x}}function H(w,T,_){function x(j){const D=w.sqr(j),P=w.mul(D,j);return w.add(w.add(P,w.mul(j,T)),_)}return x}function G(w,T){const{Fp:_,Fn:x}=T;function j(P){return(0,r.inRange)(P,d,x.ORDER)}const D=H(_,w.a,w.b);return Object.assign({},{CURVE:w,Point:T,ProjectivePoint:T,normPrivateKeyToScalar:P=>y(x,P),weierstrassEquation:D,isWithinCurveOrder:j})}function M(w,T){const _=T.Point;return Object.assign({},T,{ProjectivePoint:_,CURVE:Object.assign({},w,(0,i.nLength)(_.Fn.ORDER,_.Fn.BITS))})}function g(w){const{CURVE:T,curveOpts:_,hash:x,ecdsaOpts:j}=F(w),D=b(T,_),P=O(D,x,j);return M(w,P)}})(CA);Object.defineProperty(mw,"__esModule",{value:!0});mw.getHash=Fde;mw.createCurve=Hde;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const zde=CA;function Fde(e){return{hash:e}}function Hde(e,t){const n=r=>(0,zde.weierstrass)({...e,hash:r});return{...n(t),create:n}}var tD={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._DST_scalar=void 0,e.expand_message_xmd=c,e.expand_message_xof=u,e.hash_to_field=l,e.isogenyMap=f,e.createHasher=d;const t=cl,n=Dt,r=t.bytesToNumberBE;function s(h,p){if(o(h),o(p),h<0||h>=1<<8*p)throw new Error("invalid I2OSP input: "+h);const m=Array.from({length:p}).fill(0);for(let y=p-1;y>=0;y--)m[y]=h&255,h>>>=8;return new Uint8Array(m)}function i(h,p){const m=new Uint8Array(h.length);for(let y=0;y<h.length;y++)m[y]=h[y]^p[y];return m}function o(h){if(!Number.isSafeInteger(h))throw new Error("number expected")}function a(h){if(!(0,t.isBytes)(h)&&typeof h!="string")throw new Error("DST must be Uint8Array or string");return typeof h=="string"?(0,t.utf8ToBytes)(h):h}function c(h,p,m,y){(0,t.abytes)(h),o(m),p=a(p),p.length>255&&(p=y((0,t.concatBytes)((0,t.utf8ToBytes)("H2C-OVERSIZE-DST-"),p)));const{outputLen:b,blockLen:I}=y,v=Math.ceil(m/b);if(m>65535||v>255)throw new Error("expand_message_xmd: invalid lenInBytes");const E=(0,t.concatBytes)(p,s(p.length,1)),S=s(0,I),N=s(m,2),O=new Array(v),z=y((0,t.concatBytes)(S,h,N,s(0,1),E));O[0]=y((0,t.concatBytes)(z,s(1,1),E));for(let F=1;F<=v;F++){const H=[i(z,O[F-1]),s(F+1,1),E];O[F]=y((0,t.concatBytes)(...H))}return(0,t.concatBytes)(...O).slice(0,m)}function u(h,p,m,y,b){if((0,t.abytes)(h),o(m),p=a(p),p.length>255){const I=Math.ceil(2*y/8);p=b.create({dkLen:I}).update((0,t.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(p).digest()}if(m>65535||p.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return b.create({dkLen:m}).update(h).update(s(m,2)).update(p).update(s(p.length,1)).digest()}function l(h,p,m){(0,t._validateObject)(m,{p:"bigint",m:"number",k:"number",hash:"function"});const{p:y,k:b,m:I,hash:v,expand:E,DST:S}=m;if(!(0,t.isHash)(m.hash))throw new Error("expected valid hash");(0,t.abytes)(h),o(p);const N=y.toString(2).length,O=Math.ceil((N+b)/8),z=p*I*O;let L;if(E==="xmd")L=c(h,S,z,v);else if(E==="xof")L=u(h,S,z,b,v);else if(E==="_internal_pass")L=h;else throw new Error('expand must be "xmd" or "xof"');const F=new Array(p);for(let H=0;H<p;H++){const G=new Array(I);for(let M=0;M<I;M++){const g=O*(M+H*I),w=L.subarray(g,g+O);G[M]=(0,n.mod)(r(w),y)}F[H]=G}return F}function f(h,p){const m=p.map(y=>Array.from(y).reverse());return(y,b)=>{const[I,v,E,S]=m.map(z=>z.reduce((L,F)=>h.add(h.mul(L,y),F))),[N,O]=(0,n.FpInvertBatch)(h,[v,S],!0);return y=h.mul(I,N),b=h.mul(b,h.mul(E,O)),{x:y,y:b}}}e._DST_scalar=(0,t.utf8ToBytes)("HashToScalar-");function d(h,p,m){if(typeof p!="function")throw new Error("mapToCurve() must be defined");function y(I){return h.fromAffine(p(I))}function b(I){const v=I.clearCofactor();return v.equals(h.ZERO)?h.ZERO:(v.assertValidity(),v)}return{defaults:m,hashToCurve(I,v){const E=Object.assign({},m,v),S=l(I,2,E),N=y(S[0]),O=y(S[1]);return b(N.add(O))},encodeToCurve(I,v){const E=m.encodeDST?{DST:m.encodeDST}:{},S=Object.assign({},m,E,v),N=l(I,1,S),O=y(N[0]);return b(O)},mapToCurve(I){if(!Array.isArray(I))throw new Error("expected array of bigints");for(const v of I)if(typeof v!="bigint")throw new Error("expected array of bigints");return b(y(I))},hashToScalar(I,v){const E=h.Fn.ORDER,S=Object.assign({},m,{p:E,m:1,DST:e._DST_scalar},v);return l(I,1,S)[0][0]}}}})(tD);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.encodeToCurve=e.hashToCurve=e.secp256k1_hasher=e.schnorr=e.secp256k1=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=gde,n=Dy,r=mw,s=tD,i=Dt,o=CA,a=cl,c={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},u={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},l=BigInt(0),f=BigInt(1),d=BigInt(2);function h(M){const g=c.p,w=BigInt(3),T=BigInt(6),_=BigInt(11),x=BigInt(22),j=BigInt(23),D=BigInt(44),P=BigInt(88),k=M*M*M%g,$=k*k*M%g,Z=(0,i.pow2)($,w,g)*$%g,Y=(0,i.pow2)(Z,w,g)*$%g,ne=(0,i.pow2)(Y,d,g)*k%g,he=(0,i.pow2)(ne,_,g)*ne%g,de=(0,i.pow2)(he,x,g)*he%g,le=(0,i.pow2)(de,D,g)*de%g,Se=(0,i.pow2)(le,P,g)*le%g,Me=(0,i.pow2)(Se,D,g)*de%g,Ne=(0,i.pow2)(Me,w,g)*$%g,ot=(0,i.pow2)(Ne,j,g)*he%g,De=(0,i.pow2)(ot,T,g)*k%g,Ve=(0,i.pow2)(De,d,g);if(!p.eql(p.sqr(Ve),M))throw new Error("Cannot find square root");return Ve}const p=(0,i.Field)(c.p,{sqrt:h});e.secp256k1=(0,r.createCurve)({...c,Fp:p,lowS:!0,endo:u},t.sha256);const m={};function y(M,...g){let w=m[M];if(w===void 0){const T=(0,t.sha256)((0,a.utf8ToBytes)(M));w=(0,a.concatBytes)(T,T),m[M]=w}return(0,t.sha256)((0,a.concatBytes)(w,...g))}const b=M=>M.toBytes(!0).slice(1),I=e.secp256k1.Point,v=M=>M%d===l;function E(M){const{Fn:g,BASE:w}=I,T=(0,o._normFnElement)(g,M),_=w.multiply(T);return{scalar:v(_.y)?T:g.neg(T),bytes:b(_)}}function S(M){const g=p;if(!g.isValidNot0(M))throw new Error("invalid x: Fail if x  p");const w=g.create(M*M),T=g.create(w*M+BigInt(7));let _=g.sqrt(T);v(_)||(_=g.neg(_));const x=I.fromAffine({x:M,y:_});return x.assertValidity(),x}const N=a.bytesToNumberBE;function O(...M){return I.Fn.create(N(y("BIP0340/challenge",...M)))}function z(M){return E(M).bytes}function L(M,g,w=(0,n.randomBytes)(32)){const{Fn:T}=I,_=(0,a.ensureBytes)("message",M),{bytes:x,scalar:j}=E(g),D=(0,a.ensureBytes)("auxRand",w,32),P=T.toBytes(j^N(y("BIP0340/aux",D))),k=y("BIP0340/nonce",P,x,_),{bytes:$,scalar:Z}=E(k),Y=O($,x,_),ne=new Uint8Array(64);if(ne.set($,0),ne.set(T.toBytes(T.create(Z+Y*j)),32),!F(ne,_,x))throw new Error("sign: Invalid signature produced");return ne}function F(M,g,w){const{Fn:T,BASE:_}=I,x=(0,a.ensureBytes)("signature",M,64),j=(0,a.ensureBytes)("message",g),D=(0,a.ensureBytes)("publicKey",w,32);try{const P=S(N(D)),k=N(x.subarray(0,32));if(!(0,a.inRange)(k,f,c.p))return!1;const $=N(x.subarray(32,64));if(!(0,a.inRange)($,f,c.n))return!1;const Z=O(T.toBytes(k),b(P),j),Y=_.multiplyUnsafe($).add(P.multiplyUnsafe(T.neg(Z))),{x:ne,y:he}=Y.toAffine();return!(Y.is0()||!v(he)||ne!==k)}catch{return!1}}e.schnorr=(()=>{const w=(_=(0,n.randomBytes)(48))=>(0,i.mapHashToField)(_,c.n);e.secp256k1.utils.randomSecretKey;function T(_){const x=w(_);return{secretKey:x,publicKey:z(x)}}return{keygen:T,getPublicKey:z,sign:L,verify:F,Point:I,utils:{randomSecretKey:w,randomPrivateKey:w,taggedHash:y,lift_x:S,pointToBytes:b,numberToBytesBE:a.numberToBytesBE,bytesToNumberBE:a.bytesToNumberBE,mod:i.mod},lengths:{secretKey:32,publicKey:32,publicKeyHasPrefix:!1,signature:32*2,seed:48}}})();const H=(0,s.isogenyMap)(p,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(M=>M.map(g=>BigInt(g)))),G=(0,o.mapToCurveSimpleSWU)(p,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:p.create(BigInt("-11"))});e.secp256k1_hasher=(0,s.createHasher)(e.secp256k1.Point,M=>{const{x:g,y:w}=G(p.create(M[0]));return H(g,w)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:p.ORDER,m:1,k:128,expand:"xmd",hash:t.sha256}),e.hashToCurve=e.secp256k1_hasher.hashToCurve,e.encodeToCurve=e.secp256k1_hasher.encodeToCurve})(FR);var Le={};Object.defineProperty(Le,"__esModule",{value:!0});Le.isHash=Le.validateObject=Le.memoized=Le.notImplemented=Le.createHmacDrbg=Le.bitMask=Le.bitSet=Le.bitGet=Le.bitLen=Le.aInRange=Le.inRange=Le.asciiToBytes=Le.copyBytes=Le.equalBytes=Le.ensureBytes=Le.numberToVarBytesBE=Le.numberToBytesLE=Le.numberToBytesBE=Le.bytesToNumberLE=Le.bytesToNumberBE=Le.hexToNumber=Le.numberToHexUnpadded=Le.abool=Le.utf8ToBytes=Le.randomBytes=Le.isBytes=Le.hexToBytes=Le.concatBytes=Le.bytesToUtf8=Le.bytesToHex=Le.anumber=Le.abytes=void 0;const Ct=cl;Le.abytes=Ct.abytes;Le.anumber=Ct.anumber;Le.bytesToHex=Ct.bytesToHex;Le.bytesToUtf8=Ct.bytesToUtf8;Le.concatBytes=Ct.concatBytes;Le.hexToBytes=Ct.hexToBytes;Le.isBytes=Ct.isBytes;Le.randomBytes=Ct.randomBytes;Le.utf8ToBytes=Ct.utf8ToBytes;Le.abool=Ct.abool;Le.numberToHexUnpadded=Ct.numberToHexUnpadded;Le.hexToNumber=Ct.hexToNumber;Le.bytesToNumberBE=Ct.bytesToNumberBE;Le.bytesToNumberLE=Ct.bytesToNumberLE;Le.numberToBytesBE=Ct.numberToBytesBE;Le.numberToBytesLE=Ct.numberToBytesLE;Le.numberToVarBytesBE=Ct.numberToVarBytesBE;Le.ensureBytes=Ct.ensureBytes;Le.equalBytes=Ct.equalBytes;Le.copyBytes=Ct.copyBytes;Le.asciiToBytes=Ct.asciiToBytes;Le.inRange=Ct.inRange;Le.aInRange=Ct.aInRange;Le.bitLen=Ct.bitLen;Le.bitGet=Ct.bitGet;Le.bitSet=Ct.bitSet;Le.bitMask=Ct.bitMask;Le.createHmacDrbg=Ct.createHmacDrbg;Le.notImplemented=Ct.notImplemented;Le.memoized=Ct.memoized;Le.validateObject=Ct.validateObject;Le.isHash=Ct.isHash;var Sr=FR,qde=Dt,Wde=Le;function nD(e){var t=Object.create(null);return e&&Object.keys(e).forEach(function(n){if(n!=="default"){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}}),t.default=e,Object.freeze(t)}var rD=nD(qde),Sc=nD(Wde);const PA=Sr.secp256k1.ProjectivePoint,Bc="Expected Private",Nc="Expected Point",Yp="Expected Tweak",Gde="Expected Hash",lh="Expected Signature",jA="Expected Extra Data (32 bytes)",Zp="Expected Scalar",Vde="Bad Recovery Id",Kde=32,Qde=32,Z2=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65]),Yde=32,Zde=new Uint8Array(32),Xde=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,69,81,35,25,80,183,95,196,64,45,161,114,47,201,186,238]),Jde=BigInt(1);function efe(e){return e instanceof Uint8Array}function Kh(e,t){for(let n=0;n<32;++n)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return 0}function CS(e){return Kh(e,Zde)===0}function Xp(e){return!(!(e instanceof Uint8Array)||e.length!==Qde||Kh(e,Z2)>=0)}function RA(e){return e instanceof Uint8Array&&e.length===64&&Kh(e.subarray(0,32),Z2)<0&&Kh(e.subarray(32,64),Z2)<0}function tfe(e){return efe(e)&&e.length===64&&Kh(e.subarray(0,32),Xde)<0}function nfe(e){return!(CS(e.subarray(0,32))||CS(e.subarray(32,64)))}function gf(e){return e instanceof Uint8Array&&e.length===Kde}function DA(e){return e===void 0||e instanceof Uint8Array&&e.length===Yde}function UA(e){let t;if(typeof e=="bigint")t=e;else if(typeof e=="number"&&Number.isSafeInteger(e)&&e>=0)t=BigInt(e);else if(typeof e=="string"){if(e.length!==64)throw new Error("Expected 32 bytes of private scalar");t=Sc.hexToNumber(e)}else if(e instanceof Uint8Array){if(e.length!==32)throw new Error("Expected 32 bytes of private scalar");t=Sc.bytesToNumberBE(e)}else throw new TypeError("Expected valid private scalar");if(t<0)throw new Error("Expected private scalar >= 0");return t}function LA(e){return Sr.secp256k1.utils.normPrivateKeyToScalar(e)}function rfe(e,t){const n=LA(e),r=UA(t),s=Sc.numberToBytesBE(rD.mod(n+r,Sr.secp256k1.CURVE.n),32);return Sr.secp256k1.utils.isValidPrivateKey(s)?s:null}function sfe(e,t){const n=LA(e),r=UA(t),s=Sc.numberToBytesBE(rD.mod(n-r,Sr.secp256k1.CURVE.n),32);return Sr.secp256k1.utils.isValidPrivateKey(s)?s:null}function ife(e){const t=LA(e),n=Sc.numberToBytesBE(Sr.secp256k1.CURVE.n-t,32);return Sr.secp256k1.utils.isValidPrivateKey(n)?n:null}function sD(e,t,n){const r=Qh(e),s=UA(t),i=PA.BASE.multiplyAndAddUnsafe(r,s,Jde);if(!i)throw new Error("Tweaked point at infinity");return i.toRawBytes(n)}function ofe(e,t,n){const r=Qh(e),s=typeof t=="string"?t:Sc.bytesToHex(t),i=Sc.hexToNumber(s);return r.multiply(i).toRawBytes(n)}function wf(e,t){return e===void 0?t!==void 0?oD(t):!0:!!e}function ul(e){try{return e()}catch{return null}}function iD(e){return Sr.schnorr.utils.lift_x(Sc.bytesToNumberBE(e))}function Qh(e){return e.length===32?iD(e):PA.fromHex(e)}function $A(e,t){if(e.length===32!==t)return!1;try{return t?!!iD(e):!!PA.fromHex(e)}catch{return!1}}function kc(e){return $A(e,!1)}function oD(e){return $A(e,!1)&&e.length===33}function _a(e){return Sr.secp256k1.utils.isValidPrivateKey(e)}function gw(e){return $A(e,!0)}function afe(e,t){if(!gw(e))throw new Error(Nc);if(!Xp(t))throw new Error(Yp);return ul(()=>{const n=sD(e,t,!0);return{parity:n[0]%2===1?1:0,xOnlyPubkey:n.slice(1)}})}function aD(e){if(!kc(e))throw new Error(Nc);return e.slice(1,33)}function cD(e,t){if(!_a(e))throw new Error(Bc);return ul(()=>Sr.secp256k1.getPublicKey(e,wf(t)))}function cfe(e){if(!_a(e))throw new Error(Bc);return aD(cD(e))}function ufe(e,t){if(!kc(e))throw new Error(Nc);return Qh(e).toRawBytes(wf(t,e))}function lfe(e,t,n){if(!kc(e))throw new Error(Nc);if(!Xp(t))throw new Error(Yp);return ul(()=>ofe(e,t,wf(n,e)))}function dfe(e,t,n){if(!kc(e)||!kc(t))throw new Error(Nc);return ul(()=>{const r=Qh(e),s=Qh(t);return r.equals(s.negate())?null:r.add(s).toRawBytes(wf(n,e))})}function ffe(e,t,n){if(!kc(e))throw new Error(Nc);if(!Xp(t))throw new Error(Yp);return ul(()=>sD(e,t,wf(n,e)))}function hfe(e,t){if(!_a(e))throw new Error(Bc);if(!Xp(t))throw new Error(Yp);return ul(()=>rfe(e,t))}function pfe(e,t){if(!_a(e))throw new Error(Bc);if(!Xp(t))throw new Error(Yp);return ul(()=>sfe(e,t))}function mfe(e){if(!_a(e))throw new Error(Bc);return ife(e)}function yfe(e,t,n){if(!_a(t))throw new Error(Bc);if(!gf(e))throw new Error(Zp);if(!DA(n))throw new Error(jA);return Sr.secp256k1.sign(e,t,{extraEntropy:n}).toCompactRawBytes()}function gfe(e,t,n){if(!_a(t))throw new Error(Bc);if(!gf(e))throw new Error(Zp);if(!DA(n))throw new Error(jA);const r=Sr.secp256k1.sign(e,t,{extraEntropy:n});return{signature:r.toCompactRawBytes(),recoveryId:r.recovery}}function wfe(e,t,n){if(!_a(t))throw new Error(Bc);if(!gf(e))throw new Error(Zp);if(!DA(n))throw new Error(jA);return Sr.schnorr.sign(e,t,n)}function bfe(e,t,n,r){if(!gf(e))throw new Error(Gde);if(!RA(t)||!nfe(t))throw new Error(lh);if(n&2&&!tfe(t))throw new Error(Vde);if(!gw(t.subarray(0,32)))throw new Error(lh);const i=Sr.secp256k1.Signature.fromCompact(t).addRecoveryBit(n).recoverPublicKey(e);if(!i)throw new Error(lh);return i.toRawBytes(wf(r))}function vfe(e,t,n,r){if(!kc(t))throw new Error(Nc);if(!RA(n))throw new Error(lh);if(!gf(e))throw new Error(Zp);return Sr.secp256k1.verify(n,e,t,{lowS:r})}function Efe(e,t,n){if(!gw(t))throw new Error(Nc);if(!RA(n))throw new Error(lh);if(!gf(e))throw new Error(Zp);return Sr.schnorr.verify(n,e,t)}var xfe=fn.isPoint=kc,Afe=fn.isPointCompressed=oD,Ife=fn.isPrivate=_a,Sfe=fn.isXOnlyPoint=gw,kfe=fn.pointAdd=dfe,Cfe=fn.pointAddScalar=ffe,Tfe=fn.pointCompress=ufe,_fe=fn.pointFromScalar=cD,Mfe=fn.pointMultiply=lfe,Bfe=fn.privateAdd=hfe,Nfe=fn.privateNegate=mfe,Ofe=fn.privateSub=pfe,Pfe=fn.recover=bfe,jfe=fn.sign=yfe,Rfe=fn.signRecoverable=gfe,Dfe=fn.signSchnorr=wfe,Ufe=fn.verify=vfe,Lfe=fn.verifySchnorr=Efe,$fe=fn.xOnlyPointAddTweak=afe,zfe=fn.xOnlyPointFromPoint=aD,Ffe=fn.xOnlyPointFromScalar=cfe;const Hfe=cU({__proto__:null,default:fn,isPoint:xfe,isPointCompressed:Afe,isPrivate:Ife,isXOnlyPoint:Sfe,pointAdd:kfe,pointAddScalar:Cfe,pointCompress:Tfe,pointFromScalar:_fe,pointMultiply:Mfe,privateAdd:Bfe,privateNegate:Nfe,privateSub:Ofe,recover:Pfe,sign:jfe,signRecoverable:Rfe,signSchnorr:Dfe,verify:Ufe,verifySchnorr:Lfe,xOnlyPointAddTweak:$fe,xOnlyPointFromPoint:zfe,xOnlyPointFromScalar:Ffe},[fn]),qfe=async(e,t,n)=>{if(e instanceof ur)return e.step=e.step??t,e.process=e.process??n,e;const r=Wfe(e);return new ur(r,t,n)},Wfe=e=>{var t,n,r,s,i,o,a;return(n=(t=e.details)==null?void 0:t.includes)!=null&&n.call(t,"conflict")||(i=(s=(r=e.cause)==null?void 0:r.message)==null?void 0:s.includes)!=null&&i.call(s,"conflict")?new ct($e.TransactionConflict,"Your transaction conflicts with another transaction already in the mempool. One or more inputs have been spent by another transaction.",e):e.code===4001||e.code===-32e3||(a=(o=e.cause)==null?void 0:o.includes)!=null&&a.call(o,"rejected")?new ct($e.SignatureRejected,e.message,e):e.code===-5||e.code===-32700||e.code===-32064?new ct($e.NotFound,e.message,e):e instanceof Os?e:new Hg(e.message||ia.UnknownError,e)};class Gfe extends Wg{constructor(n){super(n);pe(this,"client");pe(this,"checkClient",n=>{var r;if(((r=this.client.account)==null?void 0:r.address)!==n.action.fromAddress)throw new ct($e.WalletChangedDuringExecution,"The wallet address that requested the quote does not match the wallet address attempting to sign the transaction.")});pe(this,"executeStep",async n=>{var u,l,f;n.execution=this.statusManager.initExecutionObject(n);const r=await xt.getChainById(n.action.fromChainId),s=await xt.getChainById(n.action.toChainId),i=r.id!==s.id,o=i?"CROSS_CHAIN":"SWAP";let a=this.statusManager.findOrCreateProcess({step:n,type:o,chainId:r.id});const c=await zR(Jt.BTC);if(a.status!=="DONE")try{let d,h;if(a.txHash)this.checkClient(n),d=a.txHash,h=a.txHex;else{if(a=this.statusManager.updateProcess(n,a.type,"STARTED"),await $p(this.client.account.address,n),!n.transactionRequest){const{execution:N,...O}=n,z=await qg(O),L=await Gg(this.statusManager,n,z,this.allowUserInteraction,this.executionOptions);Object.assign(n,{...L,execution:n.execution})}if(!((u=n.transactionRequest)!=null&&u.data))throw new ct($e.TransactionUnprepared,"Unable to prepare transaction.");if(a=this.statusManager.updateProcess(n,a.type,"ACTION_REQUIRED"),!this.allowUserInteraction)return n;let y={data:n.transactionRequest.data};if((l=this.executionOptions)!=null&&l.updateTransactionRequestHook){const N=await this.executionOptions.updateTransactionRequestHook({requestType:"transaction",...y});y={...y,...N}}if(!y.data)throw new ct($e.TransactionUnprepared,"Unable to prepare transaction.");this.checkClient(n);const b=y.data;pae(Hfe);const I=Wh.fromHex(b,{network:Ys});I.data.inputs.forEach((N,O)=>{var F,H,G;const z=N.witnessUtxo?Ny(N.witnessUtxo.script,Ys):(F=this.client.account)==null?void 0:F.address,L=LR(z);if(L.type===Wr.p2tr){if(!N.tapInternalKey){const M=(H=this.client.account)==null?void 0:H.publicKey;if(M){const g=fde(xS(M));I.updateInput(O,{tapInternalKey:g})}}N.sighashType||I.updateInput(O,{sighashType:1})}if(L.type===Wr.p2sh&&!N.redeemScript){const M=(G=this.client.account)==null?void 0:G.publicKey;M&&I.updateInput(O,{redeemScript:pde(xS(M))})}});const v=Array.from(I.data.inputs.reduce((N,O,z)=>{var F;const L=O.witnessUtxo?Ny(O.witnessUtxo.script,Ys):(F=this.client.account)==null?void 0:F.address;return N.has(L)?N.get(L).signingIndexes.push(z):N.set(L,{address:L,sigHash:1,signingIndexes:[z]}),N},new Map).values()),E=await OR(()=>TR(this.client,{psbt:I.toHex(),inputsToSign:v,finalize:!1}),{timeout:6e5,errorInstance:new ct($e.TransactionExpired,"Transaction has expired.")}),S=Wh.fromHex(E);dde(S)||S.finalizeAllInputs(),h=S.extractTransaction().toHex(),d=await c.sendUTXOTransaction({hex:h}),a=this.statusManager.updateProcess(n,a.type,"PENDING",{txHash:d,txLink:`${r.metamask.blockExplorerUrls[0]}tx/${d}`,txHex:h})}let p;const m=await Ele(c,{txId:d,txHex:h,senderAddress:(f=this.client.account)==null?void 0:f.address,onReplaced:y=>{p=y.reason,a=this.statusManager.updateProcess(n,a.type,"PENDING",{txHash:y.transaction.txid,txLink:`${r.metamask.blockExplorerUrls[0]}tx/${y.transaction.txid}`})}});if(p==="cancelled")throw new ct($e.TransactionCanceled,"User canceled transaction.");m.txid!==d&&(a=this.statusManager.updateProcess(n,a.type,"PENDING",{txHash:m.txid,txLink:`${r.metamask.blockExplorerUrls[0]}tx/${m.txid}`})),i&&(a=this.statusManager.updateProcess(n,a.type,"DONE"))}catch(d){const h=await qfe(d,n,a);throw a=this.statusManager.updateProcess(n,a.type,"FAILED",{error:{message:h.cause.message,code:h.code}}),this.statusManager.updateExecution(n,"FAILED"),h}return await Mh(n,a,r,s,this.statusManager,1e4),n});this.client=n.client}}function lve(e){const t={};return{get type(){return cn.UTXO},isAddress:lde,resolveAddress:yde,getBalance:mde,async getStepExecutor(n){if(!t.getWalletClient)throw new Error("Client is not provided.");const r=await t.getWalletClient();return new Gfe({client:r,routeId:n.routeId,executionOptions:{...n.executionOptions}})},setOptions(n){Object.assign(t,n)}}}function Vfe(e){if(!e.integrator)throw new Error("Integrator not found. Please see documentation https://docs.li.fi/integrate-li.fi-js-sdk/set-up-the-sdk");const t=xt.set(e);return e.disableVersionCheck,t}async function Kfe(){xt.loading=UP({chainTypes:[cn.EVM,cn.SVM,cn.UTXO,cn.MVM]}).then(e=>xt.setChains(e)).catch(),await xt.loading}function dve(e){const t=Vfe(e);return t.preloadChains&&Kfe(),t}function Qfe(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var s=e.charAt(r),i=s.charCodeAt(0);if(t[i]!==255)throw new TypeError(s+" is ambiguous");t[i]=r}var o=e.length,a=e.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function l(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var p=0,m=0,y=0,b=h.length;y!==b&&h[y]===0;)y++,p++;for(var I=(b-y)*u+1>>>0,v=new Uint8Array(I);y!==b;){for(var E=h[y],S=0,N=I-1;(E!==0||S<m)&&N!==-1;N--,S++)E+=256*v[N]>>>0,v[N]=E%o>>>0,E=E/o>>>0;if(E!==0)throw new Error("Non-zero carry");m=S,y++}for(var O=I-m;O!==I&&v[O]===0;)O++;for(var z=a.repeat(p);O<I;++O)z+=e.charAt(v[O]);return z}function f(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;for(var p=0,m=0,y=0;h[p]===a;)m++,p++;for(var b=(h.length-p)*c+1>>>0,I=new Uint8Array(b);h[p];){var v=h.charCodeAt(p);if(v>255)return;var E=t[v];if(E===255)return;for(var S=0,N=b-1;(E!==0||S<y)&&N!==-1;N--,S++)E+=o*I[N]>>>0,I[N]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");y=S,p++}for(var O=b-y;O!==b&&I[O]===0;)O++;for(var z=new Uint8Array(m+(b-O)),L=m;O!==b;)z[L++]=I[O++];return z}function d(h){var p=f(h);if(p)return p;throw new Error("Non-base"+o+" character")}return{encode:l,decodeUnsafe:f,decode:d}}var Yfe=Qfe;const Zfe=Yfe,Xfe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var Jfe=Zfe(Xfe);const fve=ap(Jfe);var TS='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',ehe={rounded:`SFRounded, ui-rounded, "SF Pro Rounded", ${TS}`,system:TS},jf={large:{actionButton:"9999px",connectButton:"12px",modal:"24px",modalMobile:"28px"},medium:{actionButton:"10px",connectButton:"8px",modal:"16px",modalMobile:"18px"},none:{actionButton:"0px",connectButton:"0px",modal:"0px",modalMobile:"0px"},small:{actionButton:"4px",connectButton:"4px",modal:"8px",modalMobile:"8px"}},the={large:{modalOverlay:"blur(20px)"},none:{modalOverlay:"blur(0px)"},small:{modalOverlay:"blur(4px)"}},uD=({borderRadius:e="large",fontStack:t="rounded",overlayBlur:n="none"})=>({blurs:{modalOverlay:the[n].modalOverlay},fonts:{body:ehe[t]},radii:{actionButton:jf[e].actionButton,connectButton:jf[e].connectButton,menuButton:jf[e].connectButton,modal:jf[e].modal,modalMobile:jf[e].modalMobile}}),bm="#1A1B1F",lD={blue:{accentColor:"#3898FF",accentColorForeground:"#FFF"},green:{accentColor:"#4BD166",accentColorForeground:bm},orange:{accentColor:"#FF983D",accentColorForeground:bm},pink:{accentColor:"#FF7AB8",accentColorForeground:bm},purple:{accentColor:"#7A70FF",accentColorForeground:"#FFF"},red:{accentColor:"#FF6257",accentColorForeground:"#FFF"}},_S=lD.blue,nhe=({accentColor:e=_S.accentColor,accentColorForeground:t=_S.accentColorForeground,...n}={})=>({...uD(n),colors:{accentColor:e,accentColorForeground:t,actionButtonBorder:"rgba(255, 255, 255, 0.04)",actionButtonBorderMobile:"rgba(255, 255, 255, 0.08)",actionButtonSecondaryBackground:"rgba(255, 255, 255, 0.08)",closeButton:"rgba(224, 232, 255, 0.6)",closeButtonBackground:"rgba(255, 255, 255, 0.08)",connectButtonBackground:bm,connectButtonBackgroundError:"#FF494A",connectButtonInnerBackground:"linear-gradient(0deg, rgba(255, 255, 255, 0.075), rgba(255, 255, 255, 0.15))",connectButtonText:"#FFF",connectButtonTextError:"#FFF",connectionIndicator:"#30E000",downloadBottomCardBackground:"linear-gradient(126deg, rgba(0, 0, 0, 0) 9.49%, rgba(120, 120, 120, 0.2) 71.04%), #1A1B1F",downloadTopCardBackground:"linear-gradient(126deg, rgba(120, 120, 120, 0.2) 9.49%, rgba(0, 0, 0, 0) 71.04%), #1A1B1F",error:"#FF494A",generalBorder:"rgba(255, 255, 255, 0.08)",generalBorderDim:"rgba(255, 255, 255, 0.04)",menuItemBackground:"rgba(224, 232, 255, 0.1)",modalBackdrop:"rgba(0, 0, 0, 0.5)",modalBackground:"#1A1B1F",modalBorder:"rgba(255, 255, 255, 0.08)",modalText:"#FFF",modalTextDim:"rgba(224, 232, 255, 0.3)",modalTextSecondary:"rgba(255, 255, 255, 0.6)",profileAction:"rgba(224, 232, 255, 0.1)",profileActionHover:"rgba(224, 232, 255, 0.2)",profileForeground:"rgba(224, 232, 255, 0.05)",selectedOptionBorder:"rgba(224, 232, 255, 0.1)",standby:"#FFD641"},shadows:{connectButton:"0px 4px 12px rgba(0, 0, 0, 0.1)",dialog:"0px 8px 32px rgba(0, 0, 0, 0.32)",profileDetailsAction:"0px 2px 6px rgba(37, 41, 46, 0.04)",selectedOption:"0px 2px 6px rgba(0, 0, 0, 0.24)",selectedWallet:"0px 2px 6px rgba(0, 0, 0, 0.24)",walletLogo:"0px 2px 16px rgba(0, 0, 0, 0.16)"}});nhe.accentColors=lD;var dD={blue:{accentColor:"#0E76FD",accentColorForeground:"#FFF"},green:{accentColor:"#1DB847",accentColorForeground:"#FFF"},orange:{accentColor:"#FF801F",accentColorForeground:"#FFF"},pink:{accentColor:"#FF5CA0",accentColorForeground:"#FFF"},purple:{accentColor:"#5F5AFA",accentColorForeground:"#FFF"},red:{accentColor:"#FA423C",accentColorForeground:"#FFF"}},MS=dD.blue,fD=({accentColor:e=MS.accentColor,accentColorForeground:t=MS.accentColorForeground,...n}={})=>({...uD(n),colors:{accentColor:e,accentColorForeground:t,actionButtonBorder:"rgba(0, 0, 0, 0.04)",actionButtonBorderMobile:"rgba(0, 0, 0, 0.06)",actionButtonSecondaryBackground:"rgba(0, 0, 0, 0.06)",closeButton:"rgba(60, 66, 66, 0.8)",closeButtonBackground:"rgba(0, 0, 0, 0.06)",connectButtonBackground:"#FFF",connectButtonBackgroundError:"#FF494A",connectButtonInnerBackground:"linear-gradient(0deg, rgba(0, 0, 0, 0.03), rgba(0, 0, 0, 0.06))",connectButtonText:"#25292E",connectButtonTextError:"#FFF",connectionIndicator:"#30E000",downloadBottomCardBackground:"linear-gradient(126deg, rgba(255, 255, 255, 0) 9.49%, rgba(171, 171, 171, 0.04) 71.04%), #FFFFFF",downloadTopCardBackground:"linear-gradient(126deg, rgba(171, 171, 171, 0.2) 9.49%, rgba(255, 255, 255, 0) 71.04%), #FFFFFF",error:"#FF494A",generalBorder:"rgba(0, 0, 0, 0.06)",generalBorderDim:"rgba(0, 0, 0, 0.03)",menuItemBackground:"rgba(60, 66, 66, 0.1)",modalBackdrop:"rgba(0, 0, 0, 0.3)",modalBackground:"#FFF",modalBorder:"transparent",modalText:"#25292E",modalTextDim:"rgba(60, 66, 66, 0.3)",modalTextSecondary:"rgba(60, 66, 66, 0.6)",profileAction:"#FFF",profileActionHover:"rgba(255, 255, 255, 0.5)",profileForeground:"rgba(60, 66, 66, 0.06)",selectedOptionBorder:"rgba(60, 66, 66, 0.1)",standby:"#FFD641"},shadows:{connectButton:"0px 4px 12px rgba(0, 0, 0, 0.1)",dialog:"0px 8px 32px rgba(0, 0, 0, 0.32)",profileDetailsAction:"0px 2px 6px rgba(37, 41, 46, 0.04)",selectedOption:"0px 2px 6px rgba(0, 0, 0, 0.24)",selectedWallet:"0px 2px 6px rgba(0, 0, 0, 0.12)",walletLogo:"0px 2px 16px rgba(0, 0, 0, 0.16)"}});fD.accentColors=dD;var BS=`{
  "connect_wallet": {
    "label": "Connect Wallet",
    "wrong_network": {
      "label": "Wrong network"
    }
  },

  "intro": {
    "title": "What is a Wallet?",
    "description": "A wallet is used to send, receive, store, and display digital assets. It's also a new way to log in, without needing to create new accounts and passwords on every website.",
    "digital_asset": {
      "title": "A Home for your Digital Assets",
      "description": "Wallets are used to send, receive, store, and display digital assets like Ethereum and NFTs."
    },
    "login": {
      "title": "A New Way to Log In",
      "description": "Instead of creating new accounts and passwords on every website, just connect your wallet."
    },
    "get": {
      "label": "Get a Wallet"
    },
    "learn_more": {
      "label": "Learn More"
    }
  },

  "sign_in": {
    "label": "Verify your account",
    "description": "To finish connecting, you must sign a message in your wallet to verify that you are the owner of this account.",
    "message": {
      "send": "Sign message",
      "preparing": "Preparing message...",
      "cancel": "Cancel",
      "preparing_error": "Error preparing message, please retry!"
    },
    "signature": {
      "waiting": "Waiting for signature...",
      "verifying": "Verifying signature...",
      "signing_error": "Error signing message, please retry!",
      "verifying_error": "Error verifying signature, please retry!",
      "oops_error": "Oops, something went wrong!"
    }
  },

  "connect": {
    "label": "Connect",
    "title": "Connect a Wallet",
    "new_to_ethereum": {
      "description": "New to Ethereum wallets?",
      "learn_more": {
        "label": "Learn More"
      }
    },
    "learn_more": {
      "label": "Learn more"
    },
    "recent": "Recent",
    "status": {
      "opening": "Opening %{wallet}...",
      "connecting": "Connecting",
      "connect_mobile": "Continue in %{wallet}",
      "not_installed": "%{wallet} is not installed",
      "not_available": "%{wallet} is not available",
      "confirm": "Confirm connection in the extension",
      "confirm_mobile": "Accept connection request in the wallet"
    },
    "secondary_action": {
      "get": {
        "description": "Don't have %{wallet}?",
        "label": "GET"
      },
      "install": {
        "label": "INSTALL"
      },
      "retry": {
        "label": "RETRY"
      }
    },
    "walletconnect": {
      "description": {
        "full": "Need the official WalletConnect modal?",
        "compact": "Need the WalletConnect modal?"
      },
      "open": {
        "label": "OPEN"
      }
    }
  },

  "connect_scan": {
    "title": "Scan with %{wallet}",
    "fallback_title": "Scan with your phone"
  },

  "connector_group": {
    "installed": "Installed",
    "recommended": "Recommended",
    "other": "Other",
    "popular": "Popular",
    "more": "More",
    "others": "Others"
  },

  "get": {
    "title": "Get a Wallet",
    "action": {
      "label": "GET"
    },
    "mobile": {
      "description": "Mobile Wallet"
    },
    "extension": {
      "description": "Browser Extension"
    },
    "mobile_and_extension": {
      "description": "Mobile Wallet and Extension"
    },
    "mobile_and_desktop": {
      "description": "Mobile and Desktop Wallet"
    },
    "looking_for": {
      "title": "Not what you're looking for?",
      "mobile": {
        "description": "Select a wallet on the main screen to get started with a different wallet provider."
      },
      "desktop": {
        "compact_description": "Select a wallet on the main screen to get started with a different wallet provider.",
        "wide_description": "Select a wallet on the left to get started with a different wallet provider."
      }
    }
  },

  "get_options": {
    "title": "Get started with %{wallet}",
    "short_title": "Get %{wallet}",
    "mobile": {
      "title": "%{wallet} for Mobile",
      "description": "Use the mobile wallet to explore the world of Ethereum.",
      "download": {
        "label": "Get the app"
      }
    },
    "extension": {
      "title": "%{wallet} for %{browser}",
      "description": "Access your wallet right from your favorite web browser.",
      "download": {
        "label": "Add to %{browser}"
      }
    },
    "desktop": {
      "title": "%{wallet} for %{platform}",
      "description": "Access your wallet natively from your powerful desktop.",
      "download": {
        "label": "Add to %{platform}"
      }
    }
  },

  "get_mobile": {
    "title": "Install %{wallet}",
    "description": "Scan with your phone to download on iOS or Android",
    "continue": {
      "label": "Continue"
    }
  },

  "get_instructions": {
    "mobile": {
      "connect": {
        "label": "Connect"
      },
      "learn_more": {
        "label": "Learn More"
      }
    },
    "extension": {
      "refresh": {
        "label": "Refresh"
      },
      "learn_more": {
        "label": "Learn More"
      }
    },
    "desktop": {
      "connect": {
        "label": "Connect"
      },
      "learn_more": {
        "label": "Learn More"
      }
    }
  },

  "chains": {
    "title": "Switch Networks",
    "wrong_network": "Wrong network detected, switch or disconnect to continue.",
    "confirm": "Confirm in Wallet",
    "switching_not_supported": "Your wallet does not support switching networks from %{appName}. Try switching networks from within your wallet instead.",
    "switching_not_supported_fallback": "Your wallet does not support switching networks from this app. Try switching networks from within your wallet instead.",
    "disconnect": "Disconnect",
    "connected": "Connected"
  },

  "profile": {
    "disconnect": {
      "label": "Disconnect"
    },
    "copy_address": {
      "label": "Copy Address",
      "copied": "Copied!"
    },
    "explorer": {
      "label": "View more on explorer"
    },
    "transactions": {
      "description": "%{appName} transactions will appear here...",
      "description_fallback": "Your transactions will appear here...",
      "recent": {
        "title": "Recent Transactions"
      },
      "clear": {
        "label": "Clear All"
      }
    }
  },

  "wallet_connectors": {
    "argent": {
      "qr_code": {
        "step1": {
          "description": "Put Argent on your home screen for faster access to your wallet.",
          "title": "Open the Argent app"
        },
        "step2": {
          "description": "Create a wallet and username, or import an existing wallet.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the Scan QR button"
        }
      }
    },

    "berasig": {
      "extension": {
        "step1": {
          "title": "Install the BeraSig extension",
          "description": "We recommend pinning BeraSig to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "best": {
      "qr_code": {
        "step1": {
          "title": "Open the Best Wallet app",
          "description": "Add Best Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "bifrost": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Bifrost Wallet on your home screen for quicker access.",
          "title": "Open the Bifrost Wallet app"
        },
        "step2": {
          "description": "Create or import a wallet using your recovery phrase.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      }
    },

    "bitget": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Bitget Wallet on your home screen for quicker access.",
          "title": "Open the Bitget Wallet app"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Bitget Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Bitget Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "bitski": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Bitski to your taskbar for quicker access to your wallet.",
          "title": "Install the Bitski extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "bitverse": {
      "qr_code": {
        "step1": {
          "title": "Open the Bitverse Wallet app",
          "description": "Add Bitverse Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "bloom": {
      "desktop": {
        "step1": {
          "title": "Open the Bloom Wallet app",
          "description": "We recommend putting Bloom Wallet on your home screen for quicker access."
        },
        "step2": {
          "description": "Create or import a wallet using your recovery phrase.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you have a wallet, click on Connect to connect via Bloom. A connection prompt in the app will appear for you to confirm the connection.",
          "title": "Click on Connect"
        }
      }
    },

    "bybit": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Bybit on your home screen for faster access to your wallet.",
          "title": "Open the Bybit app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "Click at the top right of your browser and pin Bybit Wallet for easy access.",
          "title": "Install the Bybit Wallet extension"
        },
        "step2": {
          "description": "Create a new wallet or import an existing one.",
          "title": "Create or Import a wallet"
        },
        "step3": {
          "description": "Once you set up Bybit Wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "binance": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Binance on your home screen for faster access to your wallet.",
          "title": "Open the Binance app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the WalletConnect button"
        }
      },
      "extension": {
        "step1": {
          "title": "Install the Binance Wallet extension",
          "description": "We recommend pinning Binance Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "coin98": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Coin98 Wallet on your home screen for faster access to your wallet.",
          "title": "Open the Coin98 Wallet app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the WalletConnect button"
        }
      },

      "extension": {
        "step1": {
          "description": "Click at the top right of your browser and pin Coin98 Wallet for easy access.",
          "title": "Install the Coin98 Wallet extension"
        },
        "step2": {
          "description": "Create a new wallet or import an existing one.",
          "title": "Create or Import a wallet"
        },
        "step3": {
          "description": "Once you set up Coin98 Wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "coinbase": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Coinbase Wallet on your home screen for quicker access.",
          "title": "Open the Coinbase Wallet app"
        },
        "step2": {
          "description": "You can easily backup your wallet using the cloud backup feature.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Coinbase Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Coinbase Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "compass": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Compass Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Compass Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "core": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Core on your home screen for faster access to your wallet.",
          "title": "Open the Core app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the WalletConnect button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Core to your taskbar for quicker access to your wallet.",
          "title": "Install the Core extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "fox": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting FoxWallet on your home screen for quicker access.",
          "title": "Open the FoxWallet app"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      }
    },

    "frontier": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Frontier Wallet on your home screen for quicker access.",
          "title": "Open the Frontier Wallet app"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Frontier Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Frontier Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "im_token": {
      "qr_code": {
        "step1": {
          "title": "Open the imToken app",
          "description": "Put imToken app on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap Scanner Icon in top right corner",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      }
    },

    "iopay": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting ioPay on your home screen for faster access to your wallet.",
          "title": "Open the ioPay app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the WalletConnect button"
        }
      }
    },

    "kaikas": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Kaikas to your taskbar for quicker access to your wallet.",
          "title": "Install the Kaikas extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the Kaikas app",
          "description": "Put Kaikas app on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap Scanner Icon in top right corner",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      }
    },

    "kaia": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Kaia to your taskbar for quicker access to your wallet.",
          "title": "Install the Kaia extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the Kaia app",
          "description": "Put Kaia app on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap Scanner Icon in top right corner",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      }
    },

    "kraken": {
      "qr_code": {
        "step1": {
          "title": "Open the Kraken Wallet app",
          "description": "Add Kraken Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "kresus": {
      "qr_code": {
        "step1": {
          "title": "Open the Kresus Wallet app",
          "description": "Add Kresus Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "magicEden": {
      "extension": {
        "step1": {
          "title": "Install the Magic Eden extension",
          "description": "We recommend pinning Magic Eden to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "metamask": {
      "qr_code": {
        "step1": {
          "title": "Open the MetaMask app",
          "description": "We recommend putting MetaMask on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the MetaMask extension",
          "description": "We recommend pinning MetaMask to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "nestwallet": {
      "extension": {
        "step1": {
          "title": "Install the NestWallet extension",
          "description": "We recommend pinning NestWallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "okx": {
      "qr_code": {
        "step1": {
          "title": "Open the OKX Wallet app",
          "description": "We recommend putting OKX Wallet on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the OKX Wallet extension",
          "description": "We recommend pinning OKX Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "omni": {
      "qr_code": {
        "step1": {
          "title": "Open the Omni app",
          "description": "Add Omni to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your home screen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "1inch": {
      "qr_code": {
        "step1": {
          "description": "Put 1inch Wallet on your home screen for faster access to your wallet.",
          "title": "Open the 1inch Wallet app"
        },
        "step2": {
          "description": "Create a wallet and username, or import an existing wallet.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the Scan QR button"
        }
      }
    },

    "token_pocket": {
      "qr_code": {
        "step1": {
          "title": "Open the TokenPocket app",
          "description": "We recommend putting TokenPocket on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the TokenPocket extension",
          "description": "We recommend pinning TokenPocket to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "trust": {
      "qr_code": {
        "step1": {
          "title": "Open the Trust Wallet app",
          "description": "Put Trust Wallet on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap WalletConnect in Settings",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the Trust Wallet extension",
          "description": "Click at the top right of your browser and pin Trust Wallet for easy access."
        },
        "step2": {
          "title": "Create or Import a wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up Trust Wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "uniswap": {
      "qr_code": {
        "step1": {
          "title": "Open the Uniswap app",
          "description": "Add Uniswap Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "zerion": {
      "qr_code": {
        "step1": {
          "title": "Open the Zerion app",
          "description": "We recommend putting Zerion on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the Zerion extension",
          "description": "We recommend pinning Zerion to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "rainbow": {
      "qr_code": {
        "step1": {
          "title": "Open the Rainbow app",
          "description": "We recommend putting Rainbow on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "You can easily backup your wallet using our backup feature on your phone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "enkrypt": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Enkrypt Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Enkrypt Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "frame": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Frame to your taskbar for quicker access to your wallet.",
          "title": "Install Frame & the companion extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "one_key": {
      "extension": {
        "step1": {
          "title": "Install the OneKey Wallet extension",
          "description": "We recommend pinning OneKey Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "paraswap": {
      "qr_code": {
        "step1": {
          "title": "Open the ParaSwap app",
          "description": "Add ParaSwap Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "phantom": {
      "extension": {
        "step1": {
          "title": "Install the Phantom extension",
          "description": "We recommend pinning Phantom to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "rabby": {
      "extension": {
        "step1": {
          "title": "Install the Rabby extension",
          "description": "We recommend pinning Rabby to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "ronin": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Ronin Wallet on your home screen for quicker access.",
          "title": "Open the Ronin Wallet app"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Ronin Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Ronin Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "ramper": {
      "extension": {
        "step1": {
          "title": "Install the Ramper extension",
          "description": "We recommend pinning Ramper to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "safeheron": {
      "extension": {
        "step1": {
          "title": "Install the Core extension",
          "description": "We recommend pinning Safeheron to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "taho": {
      "extension": {
        "step1": {
          "title": "Install the Taho extension",
          "description": "We recommend pinning Taho to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "wigwam": {
      "extension": {
        "step1": {
          "title": "Install the Wigwam extension",
          "description": "We recommend pinning Wigwam to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "talisman": {
      "extension": {
        "step1": {
          "title": "Install the Talisman extension",
          "description": "We recommend pinning Talisman to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import an Ethereum Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "xdefi": {
      "extension": {
        "step1": {
          "title": "Install the XDEFI Wallet extension",
          "description": "We recommend pinning XDEFI Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "zeal": {
      "qr_code": {
        "step1": {
          "title": "Open the Zeal app",
          "description": "Add Zeal Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      },
      "extension": {
        "step1": {
          "title": "Install the Zeal extension",
          "description": "We recommend pinning Zeal to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "safepal": {
      "extension": {
        "step1": {
          "title": "Install the SafePal Wallet extension",
          "description": "Click at the top right of your browser and pin SafePal Wallet for easy access."
        },
        "step2": {
          "title": "Create or Import a wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up SafePal Wallet, click below to refresh the browser and load up the extension."
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the SafePal Wallet app",
          "description": "Put SafePal Wallet on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap WalletConnect in Settings",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      }
    },

    "desig": {
      "extension": {
        "step1": {
          "title": "Install the Desig extension",
          "description": "We recommend pinning Desig to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "subwallet": {
      "extension": {
        "step1": {
          "title": "Install the SubWallet extension",
          "description": "We recommend pinning SubWallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the SubWallet app",
          "description": "We recommend putting SubWallet on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "clv": {
      "extension": {
        "step1": {
          "title": "Install the CLV Wallet extension",
          "description": "We recommend pinning CLV Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the CLV Wallet app",
          "description": "We recommend putting CLV Wallet on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "okto": {
      "qr_code": {
        "step1": {
          "title": "Open the Okto app",
          "description": "Add Okto to your home screen for quick access"
        },
        "step2": {
          "title": "Create an MPC Wallet",
          "description": "Create an account and generate a wallet"
        },
        "step3": {
          "title": "Tap WalletConnect in Settings",
          "description": "Tap the Scan QR icon at the top right and confirm the prompt to connect."
        }
      }
    },

    "ledger": {
      "desktop": {
        "step1": {
          "title": "Open the Ledger Live app",
          "description": "We recommend putting Ledger Live on your home screen for quicker access."
        },
        "step2": {
          "title": "Set up your Ledger",
          "description": "Set up a new Ledger or connect to an existing one."
        },
        "step3": {
          "title": "Connect",
          "description": "A connection prompt will appear for you to connect your wallet."
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the Ledger Live app",
          "description": "We recommend putting Ledger Live on your home screen for quicker access."
        },
        "step2": {
          "title": "Set up your Ledger",
          "description": "You can either sync with the desktop app or connect your Ledger."
        },
        "step3": {
          "title": "Scan the code",
          "description": "Tap WalletConnect then Switch to Scanner. After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "valora": {
      "qr_code": {
        "step1": {
          "title": "Open the Valora app",
          "description": "We recommend putting Valora on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or import a wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "gate": {
      "qr_code": {
        "step1": {
          "title": "Open the Gate app",
          "description": "We recommend putting Gate on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },
      "extension": {
        "step1": {
          "title": "Install the Gate extension",
          "description": "We recommend pinning Gate to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "gemini": {
      "qr_code": {
        "step1": {
          "title": "Open keys.gemini.com",
          "description": "Visit keys.gemini.com on your mobile browser - no app download required."
        },
        "step2": {
          "title": "Create Your Wallet Instantly",
          "description": "Set up your smart wallet in seconds using your device's built-in authentication."
        },
        "step3": {
          "title": "Scan to Connect",
          "description": "Scan the QR code to instantly connect your wallet - it just works."
        }
      },
      "extension": {
        "step1": {
          "title": "Go to keys.gemini.com",
          "description": "No extensions or downloads needed - your wallet lives securely in the browser."
        },
        "step2": {
          "title": "One-Click Setup",
          "description": "Create your smart wallet instantly with passkey authentication - easier than any wallet out there."
        },
        "step3": {
          "title": "Connect and Go",
          "description": "Approve the connection and you're ready - the unopinionated wallet that just works."
        }
      }
    },

    "xportal": {
      "qr_code": {
        "step1": {
          "description": "Put xPortal on your home screen for faster access to your wallet.",
          "title": "Open the xPortal app"
        },
        "step2": {
          "description": "Create a wallet or import an existing one.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the Scan QR button"
        }
      }
    },

    "mew": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting MEW Wallet on your home screen for quicker access.",
          "title": "Open the MEW Wallet app"
        },
        "step2": {
          "description": "You can easily backup your wallet using the cloud backup feature.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      }
    },

    "zilpay": {
      "qr_code": {
        "step1": {
          "title": "Open the ZilPay app",
          "description": "Add ZilPay to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "nova": {
      "qr_code": {
        "step1": {
          "title": "Open the Nova Wallet app",
          "description": "Add Nova Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    }
  }
}
`;function rhe(e,t){return Object.defineProperty(e,"__recipe__",{value:t,writable:!1}),e}var hD=rhe;function pD(e){var{conditions:t}=e;if(!t)throw new Error("Styles have no conditions");function n(r){if(typeof r=="string"||typeof r=="number"||typeof r=="boolean"){if(!t.defaultCondition)throw new Error("No default condition");return{[t.defaultCondition]:r}}if(Array.isArray(r)){if(!("responsiveArray"in t))throw new Error("Responsive arrays are not supported");var s={};for(var i in t.responsiveArray)r[i]!=null&&(s[t.responsiveArray[i]]=r[i]);return s}return r}return hD(n,{importPath:"@vanilla-extract/sprinkles/createUtils",importName:"createNormalizeValueFn",args:[{conditions:e.conditions}]})}function she(e){var{conditions:t}=e;if(!t)throw new Error("Styles have no conditions");var n=pD(e);function r(s,i){if(typeof s=="string"||typeof s=="number"||typeof s=="boolean"){if(!t.defaultCondition)throw new Error("No default condition");return i(s,t.defaultCondition)}var o=Array.isArray(s)?n(s):s,a={};for(var c in o)o[c]!=null&&(a[c]=i(o[c],c));return a}return hD(r,{importPath:"@vanilla-extract/sprinkles/createUtils",importName:"createMapValueFn",args:[{conditions:e.conditions}]})}function ihe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ohe(e){var t=ihe(e,"string");return typeof t=="symbol"?t:String(t)}function ahe(e,t,n){return t=ohe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function mb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NS(Object(n),!0).forEach(function(r){ahe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var che=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var s=Object.assign({},...n.map(c=>c.styles)),i=Object.keys(s),o=i.filter(c=>"mappings"in s[c]),a=c=>{var u=[],l={},f=mb({},c),d=!1;for(var h of o){var p=c[h];if(p!=null){var m=s[h];d=!0;for(var y of m.mappings)l[y]=p,f[y]==null&&delete f[y]}}var b=d?mb(mb({},l),f):c,I=function(){var S=b[v],N=s[v];try{if(N.mappings)return 1;if(typeof S=="string"||typeof S=="number")u.push(N.values[S].defaultClass);else if(Array.isArray(S))for(var O=0;O<S.length;O++){var z=S[O];if(z!=null){var L=N.responsiveArray[O];u.push(N.values[z].conditions[L])}}else for(var F in S){var H=S[F];H!=null&&u.push(N.values[H].conditions[F])}}catch(G){throw G}};for(var v in b)I();return e(u.join(" "))};return Object.assign(a,{properties:new Set(i)})},uhe=e=>e,lhe=function(){return che(uhe)(...arguments)};function bf(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:i=>t(e,i)}const vm="2.22.1",dhe=()=>`@wagmi/core@${vm}`;var mD=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},$y,yD;let Ma=class X2 extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return dhe()}constructor(t,n={}){var i;super(),$y.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof X2?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details,s=n.cause instanceof X2&&n.cause.docsPath||n.docsPath;this.message=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}walk(t){return mD(this,$y,"m",yD).call(this,this,t)}};$y=new WeakSet,yD=function e(t,n){return n!=null&&n(t)?t:t.cause?mD(this,$y,"m",e).call(this,t.cause,n):t};let Aa=class extends Ma{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}},fhe=class extends Ma{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}};class hhe extends Ma{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class phe extends Ma{constructor({address:t,connector:n}){super(`Account "${t}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class mhe extends Ma{constructor({connectionChainId:t,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${t}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class yhe extends Ma{constructor({connector:t}){super(`Connector "${t.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function ghe(e,t){var r;let n;if(typeof t.connector=="function"?n=e._internal.connectors.setup(t.connector):n=t.connector,n.uid===e.state.current)throw new fhe;try{e.setState(a=>({...a,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:s,...i}=t,o=await n.connect(i);return n.emitter.off("connect",e._internal.events.connect),n.emitter.on("change",e._internal.events.change),n.emitter.on("disconnect",e._internal.events.disconnect),await((r=e.storage)==null?void 0:r.setItem("recentConnectorId",n.id)),e.setState(a=>({...a,connections:new Map(a.connections).set(n.uid,{accounts:i.withCapabilities?o.accounts.map(c=>typeof c=="object"?c.address:c):o.accounts,chainId:o.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:i.withCapabilities?o.accounts.map(a=>typeof a=="object"?a:{address:a,capabilities:{}}):o.accounts,chainId:o.chainId}}catch(s){throw e.setState(i=>({...i,status:i.current?"connected":"disconnected"})),s}}async function gD(e,t={}){const{assertChainId:n=!0}=t;let r;if(t.connector){const{connector:l}=t;if(e.state.status==="reconnecting"&&!l.getAccounts&&!l.getChainId)throw new yhe({connector:l});const[f,d]=await Promise.all([l.getAccounts().catch(h=>{if(t.account===null)return[];throw h}),l.getChainId()]);r={accounts:f,chainId:d,connector:l}}else r=e.state.connections.get(e.state.current);if(!r)throw new hhe;const s=t.chainId??r.chainId,i=await r.connector.getChainId();if(n&&i!==s)throw new mhe({connectionChainId:s,connectorChainId:i});const o=r.connector;if(o.getClient)return o.getClient({chainId:s});const a=nn(t.account??r.accounts[0]);if(a&&(a.address=St(a.address)),t.account&&!r.accounts.some(l=>l.toLowerCase()===a.address.toLowerCase()))throw new phe({address:a.address,connector:o});const c=e.chains.find(l=>l.id===s),u=await r.connector.getProvider({chainId:s});return el({account:a,chain:c,name:"Connector Client",transport:l=>bP(u)({...l,retryCount:0})})}async function whe(e,t={}){var s,i;let n;if(t.connector)n=t.connector;else{const{connections:o,current:a}=e.state,c=o.get(a);n=c==null?void 0:c.connector}const r=e.state.connections;n&&(await n.disconnect(),n.emitter.off("change",e._internal.events.change),n.emitter.off("disconnect",e._internal.events.disconnect),n.emitter.on("connect",e._internal.events.connect),r.delete(n.uid)),e.setState(o=>{if(r.size===0)return{...o,connections:new Map,current:null,status:"disconnected"};const a=r.values().next().value;return{...o,connections:new Map(r),current:a.connector.uid}});{const o=e.state.current;if(!o)return;const a=(s=e.state.connections.get(o))==null?void 0:s.connector;if(!a)return;await((i=e.storage)==null?void 0:i.setItem("recentConnectorId",a.id))}}function wD(e){return typeof e=="number"?e:e==="wei"?0:Math.abs(ZB[e])}function bD(e){const t=e.state.current,n=e.state.connections.get(t),r=n==null?void 0:n.accounts,s=r==null?void 0:r[0],i=e.chains.find(a=>a.id===(n==null?void 0:n.chainId)),o=e.state.status;switch(o){case"connected":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:o};case"reconnecting":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:o};case"connecting":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:o};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:o}}}async function bhe(e,t){const{allowFailure:n=!0,chainId:r,contracts:s,...i}=t,o=e.getClient({chainId:r});return bf(o,Up,"multicall")({allowFailure:n,contracts:s,...i})}function vhe(e,t){const{chainId:n,...r}=t,s=e.getClient({chainId:n});return bf(s,Jn,"readContract")(r)}async function Ehe(e,t){var a;const{allowFailure:n=!0,blockNumber:r,blockTag:s,...i}=t,o=t.contracts;try{const c={};for(const[d,h]of o.entries()){const p=h.chainId??e.state.chainId;c[p]||(c[p]=[]),(a=c[p])==null||a.push({contract:h,index:d})}const u=()=>Object.entries(c).map(([d,h])=>bhe(e,{...i,allowFailure:n,blockNumber:r,blockTag:s,chainId:Number.parseInt(d,10),contracts:h.map(({contract:p})=>p)})),l=(await Promise.all(u())).flat(),f=Object.values(c).flatMap(d=>d.map(({index:h})=>h));return l.reduce((d,h,p)=>(d&&(d[f[p]]=h),d),[])}catch(c){if(c instanceof ug)throw c;const u=()=>o.map(l=>vhe(e,{...l,blockNumber:r,blockTag:s}));return n?(await Promise.allSettled(u())).map(l=>l.status==="fulfilled"?{result:l.value,status:"success"}:{error:l.reason,result:void 0,status:"failure"}):await Promise.all(u())}}async function xhe(e,t){const{address:n,blockNumber:r,blockTag:s,chainId:i,token:o,unit:a="ether"}=t;if(o)try{return await OS(e,{balanceAddress:n,chainId:i,symbolType:"string",tokenAddress:o})}catch(d){if(d.name==="ContractFunctionExecutionError"){const h=await OS(e,{balanceAddress:n,chainId:i,symbolType:"bytes32",tokenAddress:o}),p=w6(Zn(h.symbol,{dir:"right"}));return{...h,symbol:p}}throw d}const c=e.getClient({chainId:i}),l=await bf(c,dx,"getBalance")(r?{address:n,blockNumber:r}:{address:n,blockTag:s}),f=e.chains.find(d=>d.id===i)??c.chain;return{decimals:f.nativeCurrency.decimals,formatted:Su(l,wD(a)),symbol:f.nativeCurrency.symbol,value:l}}async function OS(e,t){const{balanceAddress:n,chainId:r,symbolType:s,tokenAddress:i,unit:o}=t,a={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:s}]}],address:i},[c,u,l]=await Ehe(e,{allowFailure:!1,contracts:[{...a,functionName:"balanceOf",args:[n],chainId:r},{...a,functionName:"decimals",chainId:r},{...a,functionName:"symbol",chainId:r}]}),f=Su(c??"0",wD(o??u));return{decimals:u,formatted:f,symbol:l,value:c}}function PS(e){return e.state.chainId}function Du(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;let n,r;if(Array.isArray(e)&&Array.isArray(t)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Du(e[r],t[r]))return!1;return!0}if(typeof e.valueOf=="function"&&e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(typeof e.toString=="function"&&e.toString!==Object.prototype.toString)return e.toString()===t.toString();const s=Object.keys(e);if(n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.hasOwn(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(i&&!Du(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}let yb=[];function jS(e){const t=e.chains;return Du(yb,t)?yb:(yb=t,t)}function Ahe(e,t={}){try{return e.getClient(t)}catch{return}}let L0=[];function J2(e){const t=[...e.state.connections.values()];return e.state.status==="reconnecting"||Du(L0,t)?L0:(L0=t,t)}let $0=[];function RS(e){const t=e.connectors;return $0.length===t.length&&$0.every((n,r)=>n===t[r])?$0:($0=t,t)}function Ihe(e,t){const{chainId:n,...r}=t,s=e.getClient({chainId:n});return bf(s,fO,"getEnsAvatar")(r)}function She(e,t){const{chainId:n,...r}=t,s=e.getClient({chainId:n});return bf(s,hO,"getEnsName")(r)}function eE(e,t={}){const n=Ahe(e,t);return n==null?void 0:n.extend(Nx)}async function khe(e,t={}){return(await gD(e,t)).extend(Ox)}let gb=!1;async function Che(e,t={}){var u,l;if(gb)return[];gb=!0,e.setState(f=>({...f,status:f.current?"reconnecting":"connecting"}));const n=[];if((u=t.connectors)!=null&&u.length)for(const f of t.connectors){let d;typeof f=="function"?d=e._internal.connectors.setup(f):d=f,n.push(d)}else n.push(...e.connectors);let r;try{r=await((l=e.storage)==null?void 0:l.getItem("recentConnectorId"))}catch{}const s={};for(const[,f]of e.state.connections)s[f.connector.id]=1;r&&(s[r]=0);const i=Object.keys(s).length>0?[...n].sort((f,d)=>(s[f.id]??10)-(s[d.id]??10)):n;let o=!1;const a=[],c=[];for(const f of i){const d=await f.getProvider().catch(()=>{});if(!d||c.some(m=>m===d)||!await f.isAuthorized())continue;const p=await f.connect({isReconnecting:!0}).catch(()=>null);p&&(f.emitter.off("connect",e._internal.events.connect),f.emitter.on("change",e._internal.events.change),f.emitter.on("disconnect",e._internal.events.disconnect),e.setState(m=>{const y=new Map(o?m.connections:new Map).set(f.uid,{accounts:p.accounts,chainId:p.chainId,connector:f});return{...m,current:o?m.current:f.uid,connections:y}}),a.push({accounts:p.accounts,chainId:p.chainId,connector:f}),c.push(d),o=!0)}return(e.state.status==="reconnecting"||e.state.status==="connecting")&&(o?e.setState(f=>({...f,status:"connected"})):e.setState(f=>({...f,connections:new Map,current:null,status:"disconnected"}))),gb=!1,a}async function The(e,t){const{account:n,connector:r,...s}=t;let i;return typeof n=="object"&&n.type==="local"?i=e.getClient():i=await gD(e,{account:n,connector:r}),bf(i,wP,"signMessage")({...s,...n?{account:n}:{}})}let qs=class extends Ma{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}};class _he extends Ma{constructor({connector:t}){super(`"${t.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function Mhe(e,t){var o;const{addEthereumChainParameter:n,chainId:r}=t,s=e.state.connections.get(((o=t.connector)==null?void 0:o.uid)??e.state.current);if(s){const a=s.connector;if(!a.switchChain)throw new _he({connector:a});return await a.switchChain({addEthereumChainParameter:n,chainId:r})}const i=e.chains.find(a=>a.id===r);if(!i)throw new Aa;return e.setState(a=>({...a,chainId:r})),i}function vD(e,t){const{onChange:n}=t;return e.subscribe(()=>bD(e),n,{equalityFn(r,s){const{connector:i,...o}=r,{connector:a,...c}=s;return Du(o,c)&&(i==null?void 0:i.id)===(a==null?void 0:a.id)&&(i==null?void 0:i.uid)===(a==null?void 0:a.uid)}})}function Bhe(e,t){const{onChange:n}=t;return e.subscribe(r=>r.chainId,n)}function Nhe(e,t){const{onChange:n}=t;return e.subscribe(()=>J2(e),n,{equalityFn:Du})}function Ohe(e,t){const{onChange:n}=t;return e._internal.connectors.subscribe((r,s)=>{n(Object.values(r),s)})}function Phe(e,t){const{onChange:n}=t;return e.subscribe(()=>eE(e),n,{equalityFn(r,s){return(r==null?void 0:r.uid)===(s==null?void 0:s.uid)}})}function yve(e){return e}ww.type="injected";function ww(e={}){const{shimDisconnect:t=!0,unstable_shimAsyncInject:n}=e;function r(){const c=e.target;if(typeof c=="function"){const u=c();if(u)return u}return typeof c=="object"?c:typeof c=="string"?{...jhe[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(u){return u==null?void 0:u.ethereum}}}let s,i,o,a;return c=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:ww.type,async setup(){const u=await this.getProvider();u!=null&&u.on&&e.target&&(o||(o=this.onConnect.bind(this),u.on("connect",o)),s||(s=this.onAccountsChanged.bind(this),u.on("accountsChanged",s)))},async connect({chainId:u,isReconnecting:l,withCapabilities:f}={}){var p,m,y,b,I,v;const d=await this.getProvider();if(!d)throw new qs;let h=[];if(l)h=await this.getAccounts().catch(()=>[]);else if(t)try{h=(b=(y=(m=(p=(await d.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:p.caveats)==null?void 0:m[0])==null?void 0:y.value)==null?void 0:b.map(S=>St(S)),h.length>0&&(h=await this.getAccounts())}catch(E){const S=E;if(S.code===wt.code)throw new wt(S);if(S.code===qi.code)throw S}try{!(h!=null&&h.length)&&!l&&(h=(await d.request({method:"eth_requestAccounts"})).map(N=>St(N))),o&&(d.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),d.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),d.on("chainChanged",i)),a||(a=this.onDisconnect.bind(this),d.on("disconnect",a));let E=await this.getChainId();if(u&&E!==u){const S=await this.switchChain({chainId:u}).catch(N=>{if(N.code===wt.code)throw N;return{id:E}});E=(S==null?void 0:S.id)??E}return t&&await((I=c.storage)==null?void 0:I.removeItem(`${this.id}.disconnected`)),e.target||await((v=c.storage)==null?void 0:v.setItem("injected.connected",!0)),{accounts:f?h.map(S=>({address:S,capabilities:{}})):h,chainId:E}}catch(E){const S=E;throw S.code===wt.code?new wt(S):S.code===qi.code?new qi(S):S}},async disconnect(){var l,f;const u=await this.getProvider();if(!u)throw new qs;i&&(u.removeListener("chainChanged",i),i=void 0),a&&(u.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),u.on("connect",o));try{await tl(()=>u.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}t&&await((l=c.storage)==null?void 0:l.setItem(`${this.id}.disconnected`,!0)),e.target||await((f=c.storage)==null?void 0:f.removeItem("injected.connected"))},async getAccounts(){const u=await this.getProvider();if(!u)throw new qs;return(await u.request({method:"eth_accounts"})).map(f=>St(f))},async getChainId(){const u=await this.getProvider();if(!u)throw new qs;const l=await u.request({method:"eth_chainId"});return Number(l)},async getProvider(){if(typeof window>"u")return;let u;const l=r();return typeof l.provider=="function"?u=l.provider(window):typeof l.provider=="string"?u=Em(window,l.provider):u=l.provider,u&&!u.removeListener&&("off"in u&&typeof u.off=="function"?u.removeListener=u.off:u.removeListener=()=>{}),u},async isAuthorized(){var u,l;try{if(t&&await((u=c.storage)==null?void 0:u.getItem(`${this.id}.disconnected`))||!e.target&&!await((l=c.storage)==null?void 0:l.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const p=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",p),!!await this.getProvider()),m=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(b=>window.addEventListener("ethereum#initialized",()=>b(p()),{once:!0}))]:[],new Promise(b=>setTimeout(()=>b(p()),m))]))return!0}throw new qs}return!!(await xc(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:u,chainId:l}){var p,m,y,b;const f=await this.getProvider();if(!f)throw new qs;const d=c.chains.find(I=>I.id===l);if(!d)throw new cr(new Aa);const h=new Promise(I=>{const v=E=>{"chainId"in E&&E.chainId===l&&(c.emitter.off("change",v),I())};c.emitter.on("change",v)});try{return await Promise.all([f.request({method:"wallet_switchEthereumChain",params:[{chainId:oe(l)}]}).then(async()=>{await this.getChainId()===l&&c.emitter.emit("change",{chainId:l})}),h]),d}catch(I){const v=I;if(v.code===4902||((m=(p=v==null?void 0:v.data)==null?void 0:p.originalError)==null?void 0:m.code)===4902)try{const{default:E,...S}=d.blockExplorers??{};let N;u!=null&&u.blockExplorerUrls?N=u.blockExplorerUrls:E&&(N=[E.url,...Object.values(S).map(L=>L.url)]);let O;(y=u==null?void 0:u.rpcUrls)!=null&&y.length?O=u.rpcUrls:O=[((b=d.rpcUrls.default)==null?void 0:b.http[0])??""];const z={blockExplorerUrls:N,chainId:oe(l),chainName:(u==null?void 0:u.chainName)??d.name,iconUrls:u==null?void 0:u.iconUrls,nativeCurrency:(u==null?void 0:u.nativeCurrency)??d.nativeCurrency,rpcUrls:O};return await Promise.all([f.request({method:"wallet_addEthereumChain",params:[z]}).then(async()=>{if(await this.getChainId()===l)c.emitter.emit("change",{chainId:l});else throw new wt(new Error("User rejected switch after adding network."))}),h]),d}catch(E){throw new wt(E)}throw v.code===wt.code?new wt(v):new cr(v)}},async onAccountsChanged(u){var l;if(u.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const f=(await this.getChainId()).toString();this.onConnect({chainId:f}),t&&await((l=c.storage)==null?void 0:l.removeItem(`${this.id}.disconnected`))}else c.emitter.emit("change",{accounts:u.map(f=>St(f))})},onChainChanged(u){const l=Number(u);c.emitter.emit("change",{chainId:l})},async onConnect(u){const l=await this.getAccounts();if(l.length===0)return;const f=Number(u.chainId);c.emitter.emit("connect",{accounts:l,chainId:f});const d=await this.getProvider();d&&(o&&(d.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),d.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),d.on("chainChanged",i)),a||(a=this.onDisconnect.bind(this),d.on("disconnect",a)))},async onDisconnect(u){const l=await this.getProvider();u&&u.code===1013&&l&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),l&&(i&&(l.removeListener("chainChanged",i),i=void 0),a&&(l.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),l.on("connect",o))))}})}const jhe={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(e){return e!=null&&e.coinbaseWalletExtension?e.coinbaseWalletExtension:Em(e,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(e){return Em(e,t=>{if(!t.isMetaMask||t.isBraveWallet&&!t._events&&!t._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(t[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(e){var t,n;return(t=e==null?void 0:e.phantom)!=null&&t.ethereum?(n=e.phantom)==null?void 0:n.ethereum:Em(e,"isPhantom")}}};function Em(e,t){function n(s){return typeof t=="function"?t(s):typeof t=="string"?s[t]:!0}const r=e.ethereum;if(r!=null&&r.providers)return r.providers.find(s=>n(s));if(r&&n(r))return r}function Rhe(e){if(typeof window>"u")return;const t=n=>e(n.detail);return window.addEventListener("eip6963:announceProvider",t),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",t)}function Dhe(){const e=new Set;let t=[];const n=()=>Rhe(s=>{t.some(({info:i})=>i.uuid===s.info.uuid)||(t=[...t,s],e.forEach(i=>i(t,{added:[s]})))});let r=n();return{_listeners(){return e},clear(){e.forEach(s=>s([],{removed:[...t]})),t=[]},destroy(){this.clear(),e.clear(),r==null||r()},findProvider({rdns:s}){return t.find(i=>i.info.rdns===s)},getProviders(){return t},reset(){this.clear(),r==null||r(),r=n()},subscribe(s,{emitImmediately:i}={}){return e.add(s),i&&s(t,{added:t}),()=>e.delete(s)}}}const Uhe=e=>(t,n,r)=>{const s=r.subscribe;return r.subscribe=(o,a,c)=>{let u=o;if(a){const l=(c==null?void 0:c.equalityFn)||Object.is;let f=o(r.getState());u=d=>{const h=o(d);if(!l(f,h)){const p=f;a(f=h,p)}},c!=null&&c.fireImmediately&&a(f,f)}return s(u)},e(t,n,r)},Lhe=Uhe;function $he(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const tE=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return tE(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return tE(r)(n)}}}},zhe=(e,t)=>(n,r,s)=>{let i={storage:$he(()=>localStorage),partialize:m=>m,version:0,merge:(m,y)=>({...y,...m}),...t},o=!1;const a=new Set,c=new Set;let u=i.storage;if(!u)return e((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...m)},r,s);const l=()=>{const m=i.partialize({...r()});return u.setItem(i.name,{state:m,version:i.version})},f=s.setState;s.setState=(m,y)=>{f(m,y),l()};const d=e((...m)=>{n(...m),l()},r,s);s.getInitialState=()=>d;let h;const p=()=>{var m,y;if(!u)return;o=!1,a.forEach(I=>{var v;return I((v=r())!=null?v:d)});const b=((y=i.onRehydrateStorage)==null?void 0:y.call(i,(m=r())!=null?m:d))||void 0;return tE(u.getItem.bind(u))(i.name).then(I=>{if(I)if(typeof I.version=="number"&&I.version!==i.version){if(i.migrate)return[!0,i.migrate(I.state,I.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,I.state];return[!1,void 0]}).then(I=>{var v;const[E,S]=I;if(h=i.merge(S,(v=r())!=null?v:d),n(h,!0),E)return l()}).then(()=>{b==null||b(h,void 0),h=r(),o=!0,c.forEach(I=>I(h))}).catch(I=>{b==null||b(void 0,I)})};return s.persist={setOptions:m=>{i={...i,...m},m.storage&&(u=m.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:m=>(a.add(m),()=>{a.delete(m)}),onFinishHydration:m=>(c.add(m),()=>{c.delete(m)})},i.skipHydration||p(),h||d},Fhe=zhe,DS=e=>{let t;const n=new Set,r=(u,l)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const d=t;t=l??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(h=>h(t,d))}},s=()=>t,a={setState:r,getState:s,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u))},c=t=e(r,s,a);return a},wb=e=>e?DS(e):DS;let Hhe=class{constructor(t){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new zp})}on(t,n){this._emitter.on(t,n)}once(t,n){this._emitter.once(t,n)}off(t,n){this._emitter.off(t,n)}emit(t,...n){const r=n[0];this._emitter.emit(t,{uid:this.uid,...r})}listenerCount(t){return this._emitter.listenerCount(t)}};function qhe(e){return new Hhe(e)}function Whe(e,t){return JSON.parse(e,(n,r)=>{let s=r;return(s==null?void 0:s.__type)==="bigint"&&(s=BigInt(s.value)),(s==null?void 0:s.__type)==="Map"&&(s=new Map(s.value)),(t==null?void 0:t(n,s))??s})}function US(e,t){return e.slice(0,t).join(".")||"."}function LS(e,t){const{length:n}=e;for(let r=0;r<n;++r)if(e[r]===t)return r+1;return 0}function Ghe(e,t){const n=typeof e=="function",r=typeof t=="function",s=[],i=[];return function(a,c){if(typeof c=="object")if(s.length){const u=LS(s,this);u===0?s[s.length]=this:(s.splice(u),i.splice(u)),i[i.length]=a;const l=LS(s,c);if(l!==0)return r?t.call(this,a,c,US(i,l)):`[ref=${US(i,l)}]`}else s[0]=c,i[0]=a;return n?e.call(this,a,c):c}}function Vhe(e,t,n,r){return JSON.stringify(e,Ghe((s,i)=>{let o=i;return typeof o=="bigint"&&(o={__type:"bigint",value:i.toString()}),o instanceof Map&&(o={__type:"Map",value:Array.from(i.entries())}),(t==null?void 0:t(s,o))??o},r),n??void 0)}function Khe(e){const{deserialize:t=Whe,key:n="wagmi",serialize:r=Vhe,storage:s=ED}=e;function i(o){return o instanceof Promise?o.then(a=>a).catch(()=>null):o}return{...s,key:n,async getItem(o,a){const c=s.getItem(`${n}.${o}`),u=await i(c);return u?t(u)??null:a??null},async setItem(o,a){const c=`${n}.${o}`;a===null?await i(s.removeItem(c)):await i(s.setItem(c,r(a)))},async removeItem(o){await i(s.removeItem(`${n}.${o}`))}}}const ED={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function Qhe(){const e=typeof window<"u"&&window.localStorage?window.localStorage:ED;return{getItem(t){return e.getItem(t)},removeItem(t){e.removeItem(t)},setItem(t,n){try{e.setItem(t,n)}catch{}}}}const nE=256;let z0=nE,F0;function Yhe(e=11){if(!F0||z0+e>nE*2){F0="",z0=0;for(let t=0;t<nE;t++)F0+=(256+Math.random()*256|0).toString(16).substring(1)}return F0.substring(z0,z0+++e)}function Zhe(e){const{multiInjectedProviderDiscovery:t=!0,storage:n=Khe({storage:Qhe()}),syncConnectedChain:r=!0,ssr:s=!1,...i}=e,o=typeof window<"u"&&t?Dhe():void 0,a=wb(()=>i.chains),c=wb(()=>{const S=[],N=new Set;for(const O of i.connectors??[]){const z=u(O);if(S.push(z),!s&&z.rdns){const L=typeof z.rdns=="string"?[z.rdns]:z.rdns;for(const F of L)N.add(F)}}if(!s&&o){const O=o.getProviders();for(const z of O)N.has(z.info.rdns)||S.push(u(l(z)))}return S});function u(S){var z;const N=qhe(Yhe()),O={...S({emitter:N,chains:a.getState(),storage:n,transports:i.transports}),emitter:N,uid:N.uid};return N.on("connect",v),(z=O.setup)==null||z.call(O),O}function l(S){const{info:N}=S,O=S.provider;return ww({target:{...N,id:N.rdns,provider:O}})}const f=new Map;function d(S={}){const N=S.chainId??y.getState().chainId,O=a.getState().find(L=>L.id===N);if(S.chainId&&!O)throw new Aa;{const L=f.get(y.getState().chainId);if(L&&!O)return L;if(!O)throw new Aa}{const L=f.get(N);if(L)return L}let z;if(i.client)z=i.client({chain:O});else{const L=O.id,F=a.getState().map(M=>M.id),H={},G=Object.entries(i);for(const[M,g]of G)if(!(M==="chains"||M==="client"||M==="connectors"||M==="transports"))if(typeof g=="object")if(L in g)H[M]=g[L];else{if(F.some(T=>T in g))continue;H[M]=g}else H[M]=g;z=el({...H,chain:O,batch:H.batch??{multicall:!0},transport:M=>i.transports[L]({...M,connectors:c})})}return f.set(N,z),z}function h(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let p;const m="0.0.0-canary-";vm.startsWith(m)?p=Number.parseInt(vm.replace(m,""),10):p=Number.parseInt(vm.split(".")[0]??"0",10);const y=wb(Lhe(n?Fhe(h,{migrate(S,N){if(N===p)return S;const O=h(),z=b(S,O.chainId);return{...O,chainId:z}},name:"store",partialize(S){return{connections:{__type:"Map",value:Array.from(S.connections.entries()).map(([N,O])=>{const{id:z,name:L,type:F,uid:H}=O.connector;return[N,{...O,connector:{id:z,name:L,type:F,uid:H}}]})},chainId:S.chainId,current:S.current}},merge(S,N){typeof S=="object"&&S&&"status"in S&&delete S.status;const O=b(S,N.chainId);return{...N,...S,chainId:O}},skipHydration:s,storage:n,version:p}):h));y.setState(h());function b(S,N){return S&&typeof S=="object"&&"chainId"in S&&typeof S.chainId=="number"&&a.getState().some(O=>O.id===S.chainId)?S.chainId:N}r&&y.subscribe(({connections:S,current:N})=>{var O;return N?(O=S.get(N))==null?void 0:O.chainId:void 0},S=>{if(a.getState().some(O=>O.id===S))return y.setState(O=>({...O,chainId:S??O.chainId}))}),o==null||o.subscribe(S=>{const N=new Set,O=new Set;for(const L of c.getState())if(N.add(L.id),L.rdns){const F=typeof L.rdns=="string"?[L.rdns]:L.rdns;for(const H of F)O.add(H)}const z=[];for(const L of S){if(O.has(L.info.rdns))continue;const F=u(l(L));N.has(F.id)||z.push(F)}n&&!y.persist.hasHydrated()||c.setState(L=>[...L,...z],!0)});function I(S){y.setState(N=>{const O=N.connections.get(S.uid);return O?{...N,connections:new Map(N.connections).set(S.uid,{accounts:S.accounts??O.accounts,chainId:S.chainId??O.chainId,connector:O.connector})}:N})}function v(S){y.getState().status==="connecting"||y.getState().status==="reconnecting"||y.setState(N=>{const O=c.getState().find(z=>z.uid===S.uid);return O?(O.emitter.listenerCount("connect")&&O.emitter.off("connect",I),O.emitter.listenerCount("change")||O.emitter.on("change",I),O.emitter.listenerCount("disconnect")||O.emitter.on("disconnect",E),{...N,connections:new Map(N.connections).set(S.uid,{accounts:S.accounts,chainId:S.chainId,connector:O}),current:S.uid,status:"connected"}):N})}function E(S){y.setState(N=>{const O=N.connections.get(S.uid);if(O){const L=O.connector;L.emitter.listenerCount("change")&&O.connector.emitter.off("change",I),L.emitter.listenerCount("disconnect")&&O.connector.emitter.off("disconnect",E),L.emitter.listenerCount("connect")||O.connector.emitter.on("connect",v)}if(N.connections.delete(S.uid),N.connections.size===0)return{...N,connections:new Map,current:null,status:"disconnected"};const z=N.connections.values().next().value;return{...N,connections:new Map(N.connections),current:z.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return c.getState()},storage:n,getClient:d,get state(){return y.getState()},setState(S){let N;typeof S=="function"?N=S(y.getState()):N=S;const O=h();typeof N!="object"&&(N=O),Object.keys(O).some(L=>!(L in N))&&(N=O),y.setState(N,!0)},subscribe(S,N,O){return y.subscribe(S,N,O?{...O,fireImmediately:O.emitImmediately}:void 0)},_internal:{mipd:o,async revalidate(){const S=y.getState(),N=S.connections;let O=S.current;for(const[,z]of N){const L=z.connector;L.isAuthorized&&await L.isAuthorized()||(N.delete(L.uid),O===L.uid&&(O=null))}y.setState(z=>({...z,connections:N,current:O}))},store:y,ssr:!!s,syncConnectedChain:r,transports:i.transports,chains:{setState(S){const N=typeof S=="function"?S(a.getState()):S;if(N.length!==0)return a.setState(N,!0)},subscribe(S){return a.subscribe(S)}},connectors:{providerDetailToConnector:l,setup:u,setState(S){return c.setState(typeof S=="function"?S(c.getState()):S,!0)},subscribe(S){return c.subscribe(S)}},events:{change:I,connect:v,disconnect:E}}}}function Xhe(e,t){const{initialState:n,reconnectOnMount:r}=t;return n&&!e._internal.store.persist.hasHydrated()&&e.setState({...n,chainId:e.chains.some(s=>s.id===n.chainId)?n.chainId:e.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){e._internal.ssr&&(await e._internal.store.persist.rehydrate(),e._internal.mipd&&e._internal.connectors.setState(s=>{var c;const i=new Set;for(const u of s??[])if(u.rdns){const l=Array.isArray(u.rdns)?u.rdns:[u.rdns];for(const f of l)i.add(f)}const o=[],a=((c=e._internal.mipd)==null?void 0:c.getProviders())??[];for(const u of a){if(i.has(u.info.rdns))continue;const l=e._internal.connectors.providerDetailToConnector(u),f=e._internal.connectors.setup(l);o.push(f)}return[...s,...o]})),r?Che(e):e.storage&&e.setState(s=>({...s,connections:new Map}))}}}function xD(e){var i,o,a;const{chain:t}=e,n=t.rpcUrls.default.http[0];if(!e.transports)return[n];const r=(o=(i=e.transports)==null?void 0:i[t.id])==null?void 0:o.call(i,{chain:t});return(((a=r==null?void 0:r.value)==null?void 0:a.transports)||[r]).map(({value:c})=>(c==null?void 0:c.url)||n)}function Jhe(e){const{children:t,config:n,initialState:r,reconnectOnMount:s=!0}=e,{onMount:i}=Xhe(n,{initialState:r,reconnectOnMount:s});n._internal.ssr||i();const o=Q.useRef(!0);return Q.useEffect(()=>{if(o.current&&n._internal.ssr)return i(),()=>{o.current=!1}},[]),t}const AD=Q.createContext(void 0);function wve(e){const{children:t,config:n}=e,r={value:n};return Q.createElement(Jhe,e,Q.createElement(AD.Provider,r,t))}const epe="2.18.1",tpe=()=>`wagmi@${epe}`;let npe=class extends Ma{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return tpe()}};class rpe extends npe{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function nr(e={}){const t=e.config??Q.useContext(AD);if(!t)throw new rpe;return t}function spe(e,t){const{onChange:n}=t;return e._internal.chains.subscribe((r,s)=>{n(r,s)})}var ID={exports:{}},SD={},kD={exports:{}},CD={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zd=Q;function ipe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ope=typeof Object.is=="function"?Object.is:ipe,ape=zd.useState,cpe=zd.useEffect,upe=zd.useLayoutEffect,lpe=zd.useDebugValue;function dpe(e,t){var n=t(),r=ape({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return upe(function(){s.value=n,s.getSnapshot=t,bb(s)&&i({inst:s})},[e,n,t]),cpe(function(){return bb(s)&&i({inst:s}),e(function(){bb(s)&&i({inst:s})})},[e]),lpe(n),n}function bb(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ope(e,n)}catch{return!0}}function fpe(e,t){return t()}var hpe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?fpe:dpe;CD.useSyncExternalStore=zd.useSyncExternalStore!==void 0?zd.useSyncExternalStore:hpe;kD.exports=CD;var ppe=kD.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bw=Q,mpe=ppe;function ype(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gpe=typeof Object.is=="function"?Object.is:ype,wpe=mpe.useSyncExternalStore,bpe=bw.useRef,vpe=bw.useEffect,Epe=bw.useMemo,xpe=bw.useDebugValue;SD.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=bpe(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=Epe(function(){function c(h){if(!u){if(u=!0,l=h,h=r(h),s!==void 0&&o.hasValue){var p=o.value;if(s(p,h))return f=p}return f=h}if(p=f,gpe(l,h))return p;var m=r(h);return s!==void 0&&s(p,m)?(l=h,p):(l=h,f=m)}var u=!1,l,f,d=n===void 0?null:n;return[function(){return c(t())},d===null?void 0:function(){return c(d())}]},[t,n,r,s]);var a=wpe(e,i[0],i[1]);return vpe(function(){o.hasValue=!0,o.value=a},[a]),xpe(a),a};ID.exports=SD;var TD=ID.exports;const vb=e=>typeof e=="object"&&!Array.isArray(e);function Ape(e,t,n=t,r=Du){const s=Q.useRef([]),i=TD.useSyncExternalStoreWithSelector(e,t,n,o=>o,(o,a)=>{if(vb(o)&&vb(a)&&s.current.length){for(const c of s.current)if(!r(o[c],a[c]))return!1;return!0}return r(o,a)});return Q.useMemo(()=>{if(vb(i)){const o={...i};let a={};for(const[c,u]of Object.entries(o))a={...a,[c]:{configurable:!1,enumerable:!0,get:()=>(s.current.includes(c)||s.current.push(c),u)}};return Object.defineProperties(o,a),o}return i},[i])}function us(e={}){const t=nr(e);return Ape(n=>vD(t,{onChange:n}),()=>bD(t))}function _D(e={}){const{onConnect:t,onDisconnect:n}=e,r=nr(e);Q.useEffect(()=>vD(r,{onChange(s,i){if((i.status==="reconnecting"||i.status==="connecting"&&i.address===void 0)&&s.status==="connected"){const{address:o,addresses:a,chain:c,chainId:u,connector:l}=s,f=i.status==="reconnecting"||i.status===void 0;t==null||t({address:o,addresses:a,chain:c,chainId:u,connector:l,isReconnected:f})}else i.status==="connected"&&s.status==="disconnected"&&(n==null||n())}}),[r,t,n])}function Ipe(e){return JSON.stringify(e,(t,n)=>Spe(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):typeof n=="bigint"?n.toString():n)}function Spe(e){if(!$S(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const n=t.prototype;return!(!$S(n)||!n.hasOwnProperty("isPrototypeOf"))}function $S(e){return Object.prototype.toString.call(e)==="[object Object]"}function vw(e){const{_defaulted:t,behavior:n,gcTime:r,initialData:s,initialDataUpdatedAt:i,maxPages:o,meta:a,networkMode:c,queryFn:u,queryHash:l,queryKey:f,queryKeyHashFn:d,retry:h,retryDelay:p,structuralSharing:m,getPreviousPageParam:y,getNextPageParam:b,initialPageParam:I,_optimisticResults:v,enabled:E,notifyOnChangeProps:S,placeholderData:N,refetchInterval:O,refetchIntervalInBackground:z,refetchOnMount:L,refetchOnReconnect:F,refetchOnWindowFocus:H,retryOnMount:G,select:M,staleTime:g,suspense:w,throwOnError:T,config:_,connector:x,query:j,...D}=e;return D}function kpe(e){return{mutationFn(t){return ghe(e,t)},mutationKey:["connect"]}}function Cpe(e){return{mutationFn(t){return whe(e,t)},mutationKey:["disconnect"]}}function Tpe(e,t={}){return{async queryFn({queryKey:n}){const{address:r,scopeKey:s,...i}=n[1];if(!r)throw new Error("address is required");return await xhe(e,{...i,address:r})??null},queryKey:_pe(t)}}function _pe(e={}){return["balance",vw(e)]}function Mpe(e,t={}){return{async queryFn({queryKey:n}){const{name:r,scopeKey:s,...i}=n[1];if(!r)throw new Error("name is required");return Ihe(e,{...i,name:r})},queryKey:Bpe(t)}}function Bpe(e={}){return["ensAvatar",vw(e)]}function Npe(e,t={}){return{async queryFn({queryKey:n}){const{address:r,scopeKey:s,...i}=n[1];if(!r)throw new Error("address is required");return She(e,{...i,address:r})},queryKey:Ope(t)}}function Ope(e={}){return["ensName",vw(e)]}function Ppe(e,t={}){return{gcTime:0,async queryFn({queryKey:n}){const{connector:r}=t,{connectorUid:s,scopeKey:i,...o}=n[1];return khe(e,{...o,connector:r})},queryKey:jpe(t)}}function jpe(e={}){const{connector:t,...n}=e;return["walletClient",{...vw(n),connectorUid:t==null?void 0:t.uid}]}function Rpe(e){return{mutationFn(t){return The(e,t)},mutationKey:["signMessage"]}}function Dpe(e){return{mutationFn(t){return Mhe(e,t)},mutationKey:["switchChain"]}}function Ew(e){const t=j_({...e,queryKeyHashFn:Ipe});return t.queryKey=e.queryKey,t}function xw(e={}){const t=nr(e);return Q.useSyncExternalStore(n=>Bhe(t,{onChange:n}),()=>PS(t),()=>PS(t))}function MD(e={}){const{address:t,query:n={}}=e,r=nr(e),s=xw({config:r}),i=Tpe(r,{...e,chainId:e.chainId??s}),o=!!(t&&(n.enabled??!0));return Ew({...n,...i,enabled:o})}function Upe(e={}){const t=nr(e);return Q.useSyncExternalStore(n=>spe(t,{onChange:n}),()=>jS(t),()=>jS(t))}function Lpe(e={}){const t=nr(e);return Q.useSyncExternalStore(n=>Ohe(t,{onChange:n}),()=>RS(t),()=>RS(t))}function $pe(e={}){const{mutation:t}=e,n=nr(e),r=kpe(n),{mutate:s,mutateAsync:i,...o}=gp({...t,...r});return Q.useEffect(()=>n.subscribe(({status:a})=>a,(a,c)=>{c==="connected"&&a==="disconnected"&&o.reset()}),[n,o.reset]),{...o,connect:s,connectAsync:i,connectors:Lpe({config:n})}}function zpe(e={}){const t=nr(e);return Q.useSyncExternalStore(n=>Nhe(t,{onChange:n}),()=>J2(t),()=>J2(t))}function zA(e={}){const{mutation:t}=e,n=nr(e),r=Cpe(n),{mutate:s,mutateAsync:i,...o}=gp({...t,...r});return{...o,connectors:zpe({config:n}).map(a=>a.connector),disconnect:s,disconnectAsync:i}}function Fpe(e={}){const{name:t,query:n={}}=e,r=nr(e),s=xw({config:r}),i=Mpe(r,{...e,chainId:e.chainId??s}),o=!!(t&&(n.enabled??!0));return Ew({...n,...i,enabled:o})}function Hpe(e={}){const{address:t,query:n={}}=e,r=nr(e),s=xw({config:r}),i=Npe(r,{...e,chainId:e.chainId??s}),o=!!(t&&(n.enabled??!0));return Ew({...n,...i,enabled:o})}function qpe(e={}){const t=nr(e);return TD.useSyncExternalStoreWithSelector(n=>Phe(t,{onChange:n}),()=>eE(t,e),()=>eE(t,e),n=>n,(n,r)=>(n==null?void 0:n.uid)===(r==null?void 0:r.uid))}function Wpe(e={}){const{mutation:t}=e,n=nr(e),r=Rpe(n),{mutate:s,mutateAsync:i,...o}=gp({...t,...r});return{...o,signMessage:s,signMessageAsync:i}}function Gpe(e={}){const{mutation:t}=e,n=nr(e),r=Dpe(n),{mutate:s,mutateAsync:i,...o}=gp({...t,...r});return{...o,chains:Upe({config:n}),switchChain:s,switchChainAsync:i}}function vve(e={}){const{query:t={},...n}=e,r=nr(n),s=Xy(),{address:i,connector:o,status:a}=us({config:r}),c=xw({config:r}),u=e.connector??o,{queryKey:l,...f}=Ppe(r,{...e,chainId:e.chainId??c,connector:e.connector??o}),d=!!((a==="connected"||a==="reconnecting"&&(u!=null&&u.getProvider))&&(t.enabled??!0)),h=Q.useRef(i);return Q.useEffect(()=>{const p=h.current;!i&&p?(s.removeQueries({queryKey:l}),h.current=void 0):i!==p&&(s.invalidateQueries({queryKey:l}),h.current=i)},[i,s]),Ew({...t,...f,queryKey:l,enabled:d,staleTime:Number.POSITIVE_INFINITY})}var BD=X9(),Eb=function(){},Aw=Q.forwardRef(function(e,t){var n=Q.useRef(null),r=Q.useState({onScrollCapture:Eb,onWheelCapture:Eb,onTouchMoveCapture:Eb}),s=r[0],i=r[1],o=e.forwardProps,a=e.children,c=e.className,u=e.removeScrollBar,l=e.enabled,f=e.shards,d=e.sideCar,h=e.noIsolation,p=e.inert,m=e.allowPinchZoom,y=e.as,b=y===void 0?"div":y,I=e.gapMode,v=J9(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=d,S=eU([n,t]),N=vl(vl({},v),s);return Q.createElement(Q.Fragment,null,l&&Q.createElement(E,{sideCar:BD,removeScrollBar:u,shards:f,noIsolation:h,inert:p,setCallbacks:i,allowPinchZoom:!!m,lockRef:n,gapMode:I}),o?Q.cloneElement(Q.Children.only(a),vl(vl({},N),{ref:S})):Q.createElement(b,vl({},N,{className:c,ref:S}),a))});Aw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Aw.classNames={fullWidth:nU,zeroRight:tU};var rE=!1;if(typeof window<"u")try{var H0=Object.defineProperty({},"passive",{get:function(){return rE=!0,!0}});window.addEventListener("test",H0,H0),window.removeEventListener("test",H0,H0)}catch{rE=!1}var wl=rE?{passive:!1}:!1,Vpe=function(e){return e.tagName==="TEXTAREA"},ND=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Vpe(e)&&n[t]==="visible")},Kpe=function(e){return ND(e,"overflowY")},Qpe=function(e){return ND(e,"overflowX")},zS=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=OD(e,r);if(s){var i=PD(e,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Ype=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Zpe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},OD=function(e,t){return e==="v"?Kpe(t):Qpe(t)},PD=function(e,t){return e==="v"?Ype(t):Zpe(t)},Xpe=function(e,t){return e==="h"&&t==="rtl"?-1:1},Jpe=function(e,t,n,r,s){var i=Xpe(e,window.getComputedStyle(t).direction),o=i*r,a=n.target,c=t.contains(a),u=!1,l=o>0,f=0,d=0;do{var h=PD(e,a),p=h[0],m=h[1],y=h[2],b=m-y-i*p;(p||b)&&OD(e,a)&&(f+=b,d+=p),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(l&&Math.abs(f)<1||!l&&Math.abs(d)<1)&&(u=!0),u},q0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},FS=function(e){return[e.deltaX,e.deltaY]},HS=function(e){return e&&"current"in e?e.current:e},e0e=function(e,t){return e[0]===t[0]&&e[1]===t[1]},t0e=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},n0e=0,bl=[];function r0e(e){var t=Q.useRef([]),n=Q.useRef([0,0]),r=Q.useRef(),s=Q.useState(n0e++)[0],i=Q.useState(rU)[0],o=Q.useRef(e);Q.useEffect(function(){o.current=e},[e]),Q.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=sU([e.lockRef.current],(e.shards||[]).map(HS),!0).filter(Boolean);return m.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=Q.useCallback(function(m,y){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var b=q0(m),I=n.current,v="deltaX"in m?m.deltaX:I[0]-b[0],E="deltaY"in m?m.deltaY:I[1]-b[1],S,N=m.target,O=Math.abs(v)>Math.abs(E)?"h":"v";if("touches"in m&&O==="h"&&N.type==="range")return!1;var z=zS(O,N);if(!z)return!0;if(z?S=O:(S=O==="v"?"h":"v",z=zS(O,N)),!z)return!1;if(!r.current&&"changedTouches"in m&&(v||E)&&(r.current=S),!S)return!0;var L=r.current||S;return Jpe(L,y,m,L==="h"?v:E)},[]),c=Q.useCallback(function(m){var y=m;if(!(!bl.length||bl[bl.length-1]!==i)){var b="deltaY"in y?FS(y):q0(y),I=t.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&e0e(S.delta,b)})[0];if(I&&I.should){y.cancelable&&y.preventDefault();return}if(!I){var v=(o.current.shards||[]).map(HS).filter(Boolean).filter(function(S){return S.contains(y.target)}),E=v.length>0?a(y,v[0]):!o.current.noIsolation;E&&y.cancelable&&y.preventDefault()}}},[]),u=Q.useCallback(function(m,y,b,I){var v={name:m,delta:y,target:b,should:I,shadowParent:s0e(b)};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(E){return E!==v})},1)},[]),l=Q.useCallback(function(m){n.current=q0(m),r.current=void 0},[]),f=Q.useCallback(function(m){u(m.type,FS(m),m.target,a(m,e.lockRef.current))},[]),d=Q.useCallback(function(m){u(m.type,q0(m),m.target,a(m,e.lockRef.current))},[]);Q.useEffect(function(){return bl.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:d}),document.addEventListener("wheel",c,wl),document.addEventListener("touchmove",c,wl),document.addEventListener("touchstart",l,wl),function(){bl=bl.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,wl),document.removeEventListener("touchmove",c,wl),document.removeEventListener("touchstart",l,wl)}},[]);var h=e.removeScrollBar,p=e.inert;return Q.createElement(Q.Fragment,null,p?Q.createElement(i,{styles:t0e(s)}):null,h?Q.createElement(iU,{gapMode:e.gapMode}):null)}function s0e(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const i0e=oU(BD,r0e);var jD=Q.forwardRef(function(e,t){return Q.createElement(Aw,vl({},e,{ref:t,sideCar:i0e}))});jD.classNames=Aw.classNames;function qS(e,t){var n={};if(typeof t=="object"){var r=e;nM(t,(a,c)=>{if(a!=null){var u=wH(r,c);n[ZI(u)]=String(a)}})}else{var s=e;for(var i in s){var o=s[i];o!=null&&(n[ZI(i)]=o)}}return Object.defineProperty(n,"toString",{value:function(){return Object.keys(this).map(c=>"".concat(c,":").concat(this[c])).join(";")},writable:!1}),n}var sE={exports:{}};(function(e,t){(function(n,r){var s="1.0.41",i="",o="?",a="function",c="undefined",u="object",l="string",f="major",d="model",h="name",p="type",m="vendor",y="version",b="architecture",I="console",v="mobile",E="tablet",S="smarttv",N="wearable",O="embedded",z=500,L="Amazon",F="Apple",H="ASUS",G="BlackBerry",M="Browser",g="Chrome",w="Edge",T="Firefox",_="Google",x="Honor",j="Huawei",D="Lenovo",P="LG",k="Microsoft",$="Motorola",Z="Nvidia",Y="OnePlus",ne="Opera",he="OPPO",de="Samsung",le="Sharp",Se="Sony",Me="Xiaomi",Ne="Zebra",ot="Facebook",De="Chromium OS",Ve="Mac OS",It=" Browser",mt=function(A,C){var U={};for(var W in A)C[W]&&C[W].length%2===0?U[W]=C[W].concat(A[W]):U[W]=A[W];return U},ht=function(A){for(var C={},U=0;U<A.length;U++)C[A[U].toUpperCase()]=A[U];return C},Cn=function(A,C){return typeof A===l?Re(C).indexOf(Re(A))!==-1:!1},Re=function(A){return A.toLowerCase()},Bt=function(A){return typeof A===l?A.replace(/[^\d\.]/g,i).split(".")[0]:r},Mr=function(A,C){if(typeof A===l)return A=A.replace(/^\s\s*/,i),typeof C===c?A:A.substring(0,z)},He=function(A,C){for(var U=0,W,X,J,ye,ue,Oe;U<C.length&&!ue;){var Xe=C[U],Pe=C[U+1];for(W=X=0;W<Xe.length&&!ue&&Xe[W];)if(ue=Xe[W++].exec(A),ue)for(J=0;J<Pe.length;J++)Oe=ue[++X],ye=Pe[J],typeof ye===u&&ye.length>0?ye.length===2?typeof ye[1]==a?this[ye[0]]=ye[1].call(this,Oe):this[ye[0]]=ye[1]:ye.length===3?typeof ye[1]===a&&!(ye[1].exec&&ye[1].test)?this[ye[0]]=Oe?ye[1].call(this,Oe,ye[2]):r:this[ye[0]]=Oe?Oe.replace(ye[1],ye[2]):r:ye.length===4&&(this[ye[0]]=Oe?ye[3].call(this,Oe.replace(ye[1],ye[2])):r):this[ye]=Oe||r;U+=2}},ae=function(A,C){for(var U in C)if(typeof C[U]===u&&C[U].length>0){for(var W=0;W<C[U].length;W++)if(Cn(C[U][W],A))return U===o?r:U}else if(Cn(C[U],A))return U===o?r:U;return C.hasOwnProperty("*")?C["*"]:A},ce={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},ie={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},me={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[y,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[y,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,y],[/opios[\/ ]+([\w\.]+)/i],[y,[h,ne+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[y,[h,ne+" GX"]],[/\bopr\/([\w\.]+)/i],[y,[h,ne]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[y,[h,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[y,[h,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[h,y],[/quark(?:pc)?\/([-\w\.]+)/i],[y,[h,"Quark"]],[/\bddg\/([\w\.]+)/i],[y,[h,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[y,[h,"UC"+M]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[y,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[y,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[y,[h,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[y,[h,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[y,[h,"Smart Lenovo "+M]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure "+M],y],[/\bfocus\/([\w\.]+)/i],[y,[h,T+" Focus"]],[/\bopt\/([\w\.]+)/i],[y,[h,ne+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[y,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[y,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[y,[h,ne+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[y,[h,"MIUI"+It]],[/fxios\/([\w\.-]+)/i],[y,[h,T]],[/\bqihoobrowser\/?([\w\.]*)/i],[y,[h,"360"]],[/\b(qq)\/([\w\.]+)/i],[[h,/(.+)/,"$1Browser"],y],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1"+It],y],[/samsungbrowser\/([\w\.]+)/i],[y,[h,de+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[y,[h,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[h,"Sogou Mobile"],y],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[h,y],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[h],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[y,h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,ot],y],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[h,y],[/\bgsa\/([\w\.]+) .*safari\//i],[y,[h,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[y,[h,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[y,[h,g+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,g+" WebView"],y],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[y,[h,"Android "+M]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,y],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[y,[h,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[y,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[y,ae,ce]],[/(webkit|khtml)\/([\w\.]+)/i],[h,y],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],y],[/(wolvic|librewolf)\/([\w\.]+)/i],[h,y],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[y,[h,T+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[h,[y,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[h,[y,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[b,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[b,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[b,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[b,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[b,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[b,/ower/,i,Re]],[/ sun4\w[;\)]/i],[[b,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[b,Re]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[m,de],[p,E]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[d,[m,de],[p,v]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[m,F],[p,v]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[m,F],[p,E]],[/(macintosh);/i],[d,[m,F]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[m,le],[p,v]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[d,[m,x],[p,E]],[/honor([-\w ]+)[;\)]/i],[d,[m,x],[p,v]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[d,[m,j],[p,E]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[m,j],[p,v]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[d,/_/g," "],[m,Me],[p,E]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[d,/_/g," "],[m,Me],[p,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[m,he],[p,v]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[d,[m,ae,{OnePlus:["304","403","203"],"*":he}],[p,E]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[m,"Vivo"],[p,v]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[d,[m,"Realme"],[p,v]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[m,$],[p,v]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[m,$],[p,E]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[m,P],[p,E]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[m,P],[p,v]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[d,[m,D],[p,E]],[/(nokia) (t[12][01])/i],[m,d,[p,E]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[d,/_/g," "],[p,v],[m,"Nokia"]],[/(pixel (c|tablet))\b/i],[d,[m,_],[p,E]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[m,_],[p,v]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[m,Se],[p,v]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[m,Se],[p,E]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[m,Y],[p,v]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[m,L],[p,E]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[m,L],[p,v]],[/(playbook);[-\w\),; ]+(rim)/i],[d,m,[p,E]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[m,G],[p,v]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[m,H],[p,E]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[m,H],[p,v]],[/(nexus 9)/i],[d,[m,"HTC"],[p,E]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[m,[d,/_/g," "],[p,v]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[d,[m,"TCL"],[p,E]],[/(itel) ((\w+))/i],[[m,Re],d,[p,ae,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[m,"Acer"],[p,E]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[m,"Meizu"],[p,v]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[d,[m,"Ulefone"],[p,v]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[d,[m,"Energizer"],[p,v]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[d,[m,"Cat"],[p,v]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[d,[m,"Smartfren"],[p,v]],[/droid.+; (a(?:015|06[35]|142p?))/i],[d,[m,"Nothing"],[p,v]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[d,[m,"Archos"],[p,E]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[d,[m,"Archos"],[p,v]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[m,d,[p,E]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[m,d,[p,v]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[m,d,[p,E]],[/(surface duo)/i],[d,[m,k],[p,E]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[m,"Fairphone"],[p,v]],[/(u304aa)/i],[d,[m,"AT&T"],[p,v]],[/\bsie-(\w*)/i],[d,[m,"Siemens"],[p,v]],[/\b(rct\w+) b/i],[d,[m,"RCA"],[p,E]],[/\b(venue[\d ]{2,7}) b/i],[d,[m,"Dell"],[p,E]],[/\b(q(?:mv|ta)\w+) b/i],[d,[m,"Verizon"],[p,E]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[m,"Barnes & Noble"],[p,E]],[/\b(tm\d{3}\w+) b/i],[d,[m,"NuVision"],[p,E]],[/\b(k88) b/i],[d,[m,"ZTE"],[p,E]],[/\b(nx\d{3}j) b/i],[d,[m,"ZTE"],[p,v]],[/\b(gen\d{3}) b.+49h/i],[d,[m,"Swiss"],[p,v]],[/\b(zur\d{3}) b/i],[d,[m,"Swiss"],[p,E]],[/\b((zeki)?tb.*\b) b/i],[d,[m,"Zeki"],[p,E]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[m,"Dragon Touch"],d,[p,E]],[/\b(ns-?\w{0,9}) b/i],[d,[m,"Insignia"],[p,E]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[m,"NextBook"],[p,E]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[m,"Voice"],d,[p,v]],[/\b(lvtel\-)?(v1[12]) b/i],[[m,"LvTel"],d,[p,v]],[/\b(ph-1) /i],[d,[m,"Essential"],[p,v]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[m,"Envizen"],[p,E]],[/\b(trio[-\w\. ]+) b/i],[d,[m,"MachSpeed"],[p,E]],[/\btu_(1491) b/i],[d,[m,"Rotor"],[p,E]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[d,[m,Z],[p,E]],[/(sprint) (\w+)/i],[m,d,[p,v]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[m,k],[p,v]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[m,Ne],[p,E]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[m,Ne],[p,v]],[/smart-tv.+(samsung)/i],[m,[p,S]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[m,de],[p,S]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[m,P],[p,S]],[/(apple) ?tv/i],[m,[d,F+" TV"],[p,S]],[/crkey/i],[[d,g+"cast"],[m,_],[p,S]],[/droid.+aft(\w+)( bui|\))/i],[d,[m,L],[p,S]],[/(shield \w+ tv)/i],[d,[m,Z],[p,S]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[m,le],[p,S]],[/(bravia[\w ]+)( bui|\))/i],[d,[m,Se],[p,S]],[/(mi(tv|box)-?\w+) bui/i],[d,[m,Me],[p,S]],[/Hbbtv.*(technisat) (.*);/i],[m,d,[p,S]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[m,Mr],[d,Mr],[p,S]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[d,[p,S]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,S]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[m,d,[p,I]],[/droid.+; (shield)( bui|\))/i],[d,[m,Z],[p,I]],[/(playstation \w+)/i],[d,[m,Se],[p,I]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[m,k],[p,I]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[d,[m,de],[p,N]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[m,d,[p,N]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[d,[m,he],[p,N]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[m,F],[p,N]],[/(opwwe\d{3})/i],[d,[m,Y],[p,N]],[/(moto 360)/i],[d,[m,$],[p,N]],[/(smartwatch 3)/i],[d,[m,Se],[p,N]],[/(g watch r)/i],[d,[m,P],[p,N]],[/droid.+; (wt63?0{2,3})\)/i],[d,[m,Ne],[p,N]],[/droid.+; (glass) \d/i],[d,[m,_],[p,N]],[/(pico) (4|neo3(?: link|pro)?)/i],[m,d,[p,N]],[/; (quest( \d| pro)?)/i],[d,[m,ot],[p,N]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[m,[p,O]],[/(aeobc)\b/i],[d,[m,L],[p,O]],[/(homepod).+mac os/i],[d,[m,F],[p,O]],[/windows iot/i],[[p,O]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[d,[p,v]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[p,E]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,E]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,v]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[d,[m,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[y,[h,w+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[h,y],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[y,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[h,y],[/ladybird\//i],[[h,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[y,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,y],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[h,[y,ae,ie]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[y,ae,ie],[h,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[y,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,Ve],[y,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[y,h],[/(ubuntu) ([\w\.]+) like android/i],[[h,/(.+)/,"$1 Touch"],y],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[h,y],[/\(bb(10);/i],[y,[h,G]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[y,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[y,[h,T+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[y,[h,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[y,[h,"watchOS"]],[/crkey\/([\d\.]+)/i],[y,[h,g+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[h,De],y],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,y],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],y],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[h,y]]},xe=function(A,C){if(typeof A===u&&(C=A,A=r),!(this instanceof xe))return new xe(A,C).getResult();var U=typeof n!==c&&n.navigator?n.navigator:r,W=A||(U&&U.userAgent?U.userAgent:i),X=U&&U.userAgentData?U.userAgentData:r,J=C?mt(me,C):me,ye=U&&U.userAgent==W;return this.getBrowser=function(){var ue={};return ue[h]=r,ue[y]=r,He.call(ue,W,J.browser),ue[f]=Bt(ue[y]),ye&&U&&U.brave&&typeof U.brave.isBrave==a&&(ue[h]="Brave"),ue},this.getCPU=function(){var ue={};return ue[b]=r,He.call(ue,W,J.cpu),ue},this.getDevice=function(){var ue={};return ue[m]=r,ue[d]=r,ue[p]=r,He.call(ue,W,J.device),ye&&!ue[p]&&X&&X.mobile&&(ue[p]=v),ye&&ue[d]=="Macintosh"&&U&&typeof U.standalone!==c&&U.maxTouchPoints&&U.maxTouchPoints>2&&(ue[d]="iPad",ue[p]=E),ue},this.getEngine=function(){var ue={};return ue[h]=r,ue[y]=r,He.call(ue,W,J.engine),ue},this.getOS=function(){var ue={};return ue[h]=r,ue[y]=r,He.call(ue,W,J.os),ye&&!ue[h]&&X&&X.platform&&X.platform!="Unknown"&&(ue[h]=X.platform.replace(/chrome os/i,De).replace(/macos/i,Ve)),ue},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return W},this.setUA=function(ue){return W=typeof ue===l&&ue.length>z?Mr(ue,z):ue,this},this.setUA(W),this};xe.VERSION=s,xe.BROWSER=ht([h,y,f]),xe.CPU=ht([b]),xe.DEVICE=ht([d,m,p,I,v,S,E,N,O]),xe.ENGINE=xe.OS=ht([h,y]),e.exports&&(t=e.exports=xe),t.UAParser=xe;var ke=typeof n!==c&&(n.jQuery||n.Zepto);if(ke&&!ke.ua){var R=new xe;ke.ua=R.getResult(),ke.ua.get=function(){return R.getUA()},ke.ua.set=function(A){R.setUA(A);var C=R.getResult();for(var U in C)ke.ua[U]=C[U]}}})(typeof window=="object"?window:bi)})(sE,sE.exports);var o0e=sE.exports;/*!
Copyright (c) 2023 Paul Miller (paulmillr.com)
The library paulmillr-qr is dual-licensed under the Apache 2.0 OR MIT license.
You can select a license of your choice.
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/const Rf={newline:10,reset:27};function a0e(e){if(!Number.isSafeInteger(e))throw new Error(`integer expected: ${e}`)}function c0e(e){if(!Number.isSafeInteger(e)||e<1||e>40)throw new Error(`Invalid version=${e}. Expected number [1..40]`)}function Pc(e,t){return e.toString(2).padStart(t,"0")}function WS(e,t){const n=e%t;return n>=0?n:t+n}function Hs(e,t){return new Array(e).fill(t)}function GS(...e){let t=0;for(const r of e)t=Math.max(t,r.length);const n=[];for(let r=0;r<t;r++)for(const s of e)r>=s.length||n.push(s[r]);return new Uint8Array(n)}function VS(e,t,n){if(n<0||n+t.length>e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[n+r])return!1;return!0}function u0e(){let e,t=1/0;return{add(n,r){n>=t||(e=r,t=n)},get:()=>e,score:()=>t}}function KS(e){return{has:t=>e.includes(t),decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const r=e.indexOf(n);if(r===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${e}`);return r})},encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(n=>{if(a0e(n),n<0||n>=e.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${e.length})`);return e[n]})}}}class Ds{constructor(t,n){pe(this,"data");pe(this,"height");pe(this,"width");const{height:r,width:s}=Ds.size(t);this.data=n||Array.from({length:r},()=>Hs(s,void 0)),this.height=r,this.width=s}static size(t,n){if(typeof t=="number"&&(t={height:t,width:t}),!Number.isSafeInteger(t.height)&&t.height!==1/0)throw new Error(`Bitmap: invalid height=${t.height} (${typeof t.height})`);if(!Number.isSafeInteger(t.width)&&t.width!==1/0)throw new Error(`Bitmap: invalid width=${t.width} (${typeof t.width})`);return n!==void 0&&(t={width:Math.min(t.width,n.width),height:Math.min(t.height,n.height)}),t}static fromString(t){t=t.replace(/^\n+/g,"").replace(/\n+$/g,"");const n=t.split(String.fromCharCode(Rf.newline)),r=n.length,s=new Array(r);let i;for(const o of n){const a=o.split("").map(c=>{if(c==="X")return!0;if(c===" ")return!1;if(c!=="?")throw new Error(`Bitmap.fromString: unknown symbol=${c}`)});if(i&&a.length!==i)throw new Error(`Bitmap.fromString different row sizes: width=${i} cur=${a.length}`);i=a.length,s.push(a)}return i||(i=0),new Ds({height:r,width:i},s)}point(t){return this.data[t.y][t.x]}isInside(t){return 0<=t.x&&t.x<this.width&&0<=t.y&&t.y<this.height}size(t){if(!t)return{height:this.height,width:this.width};const{x:n,y:r}=this.xy(t);return{height:this.height-r,width:this.width-n}}xy(t){if(typeof t=="number"&&(t={x:t,y:t}),!Number.isSafeInteger(t.x))throw new Error(`Bitmap: invalid x=${t.x}`);if(!Number.isSafeInteger(t.y))throw new Error(`Bitmap: invalid y=${t.y}`);return t.x=WS(t.x,this.width),t.y=WS(t.y,this.height),t}rect(t,n,r){const{x:s,y:i}=this.xy(t),{height:o,width:a}=Ds.size(n,this.size({x:s,y:i}));for(let c=0;c<o;c++)for(let u=0;u<a;u++)this.data[i+c][s+u]=typeof r=="function"?r({x:u,y:c},this.data[i+c][s+u]):r;return this}rectRead(t,n,r){return this.rect(t,n,(s,i)=>(r(s,i),i))}hLine(t,n,r){return this.rect(t,{width:n,height:1},r)}vLine(t,n,r){return this.rect(t,{width:1,height:n},r)}border(t=2,n){const r=this.height+2*t,s=this.width+2*t,i=Hs(t,n),o=Array.from({length:t},()=>Hs(s,n));return new Ds({height:r,width:s},[...o,...this.data.map(a=>[...i,...a,...i]),...o])}embed(t,n){return this.rect(t,n.size(),({x:r,y:s})=>n.data[s][r])}rectSlice(t,n=this.size()){const r=new Ds(Ds.size(n,this.size(this.xy(t))));return this.rect(t,n,({x:s,y:i},o)=>r.data[i][s]=o),r}inverse(){const{height:t,width:n}=this;return new Ds({height:n,width:t}).rect({x:0,y:0},1/0,({x:s,y:i})=>this.data[s][i])}scale(t){if(!Number.isSafeInteger(t)||t>1024)throw new Error(`invalid scale factor: ${t}`);const{height:n,width:r}=this;return new Ds({height:t*n,width:t*r}).rect({x:0,y:0},1/0,({x:i,y:o})=>this.data[Math.floor(o/t)][Math.floor(i/t)])}clone(){return new Ds(this.size()).rect({x:0,y:0},this.size(),({x:n,y:r})=>this.data[r][n])}assertDrawn(){this.rectRead(0,1/0,(t,n)=>{if(typeof n!="boolean")throw new Error(`Invalid color type=${typeof n}`)})}toString(){return this.data.map(t=>t.map(n=>n===void 0?"?":n?"X":" ").join("")).join(String.fromCharCode(Rf.newline))}toASCII(){const{height:t,width:n,data:r}=this;let s="";for(let i=0;i<t;i+=2){for(let o=0;o<n;o++){const a=r[i][o],c=i+1>=t?!0:r[i+1][o];!a&&!c?s+="":!a&&c?s+="":a&&!c?s+="":a&&c&&(s+=" ")}s+=String.fromCharCode(Rf.newline)}return s}toTerm(){const t=String.fromCharCode(Rf.reset),n=t+"[0m",r=t+"[1;47m  "+n,s=t+"[40m  "+n;return this.data.map(i=>i.map(o=>o?s:r).join("")).join(String.fromCharCode(Rf.newline))}toSVG(t=!0){let n=`<svg viewBox="0 0 ${this.width} ${this.height}" xmlns="http://www.w3.org/2000/svg">`,r="",s;return this.rectRead(0,1/0,(i,o)=>{if(!o)return;const{x:a,y:c}=i;if(!t){n+=`<rect x="${a}" y="${c}" width="1" height="1" />`;return}let u=`M${a} ${c}`;if(s){const f=`m${a-s.x} ${c-s.y}`;f.length<=u.length&&(u=f)}const l=a<10?`H${a}`:"h-1";r+=`${u}h1v1${l}Z`,s=i}),t&&(n+=`<path d="${r}"/>`),n+="</svg>",n}toGIF(){const t=a=>[a&255,a>>>8&255],n=[...t(this.width),...t(this.height)],r=[];this.rectRead(0,1/0,(a,c)=>r.push(+(c===!0)));const s=126,i=[71,73,70,56,55,97,...n,246,0,0,255,255,255,...Hs(3*127,0),44,0,0,0,0,...n,0,7],o=Math.floor(r.length/s);for(let a=0;a<o;a++)i.push(s+1,128,...r.slice(s*a,s*(a+1)).map(c=>+c));return i.push(r.length%s+1,128,...r.slice(o*s).map(a=>+a)),i.push(1,129,0,59),new Uint8Array(i)}toImage(t=!1){const{height:n,width:r}=this.size(),s=new Uint8Array(n*r*(t?3:4));let i=0;for(let o=0;o<n;o++)for(let a=0;a<r;a++){const c=this.data[o][a]?0:255;s[i++]=c,s[i++]=c,s[i++]=c,t||(s[i++]=255)}return{height:n,width:r,data:s}}}const QS=["low","medium","quartile","high"],YS=["numeric","alphanumeric","byte","kanji","eci"],l0e=[26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706],d0e={low:[7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],medium:[10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],quartile:[13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],high:[17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]},f0e={low:[1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],medium:[1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],quartile:[1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],high:[1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]},Gr={size:{encode:e=>21+4*(e-1),decode:e=>(e-17)/4},sizeType:e=>Math.floor((e+7)/17),alignmentPatterns(e){if(e===1)return[];const t=6,n=Gr.size.encode(e)-t-1,r=n-t,s=Math.ceil(r/28);let i=Math.floor(r/s);i%2?i+=1:r%s*2>=s&&(i+=2);const o=[t];for(let a=1;a<s;a++)o.push(n-(s-a)*i);return o.push(n),o},ECCode:{low:1,medium:0,quartile:3,high:2},formatMask:21522,formatBits(e,t){const n=Gr.ECCode[e]<<3|t;let r=n;for(let s=0;s<10;s++)r=r<<1^(r>>9)*1335;return(n<<10|r)^Gr.formatMask},versionBits(e){let t=e;for(let n=0;n<12;n++)t=t<<1^(t>>11)*7973;return e<<12|t},alphabet:{numeric:KS("0123456789"),alphanumerc:KS("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:")},lengthBits(e,t){return{numeric:[10,12,14],alphanumeric:[9,11,13],byte:[8,16,16],kanji:[8,10,12],eci:[0,0,0]}[t][Gr.sizeType(e)]},modeBits:{numeric:"0001",alphanumeric:"0010",byte:"0100",kanji:"1000",eci:"0111"},capacity(e,t){const n=l0e[e-1],r=d0e[t][e-1],s=f0e[t][e-1],i=Math.floor(n/s)-r,o=s-n%s;return{words:r,numBlocks:s,shortBlocks:o,blockLen:i,capacity:(n-r*s)*8,total:(r+i)*s+s-o}}},FA=[(e,t)=>(e+t)%2==0,(e,t)=>t%2==0,(e,t)=>e%3==0,(e,t)=>(e+t)%3==0,(e,t)=>(Math.floor(t/2)+Math.floor(e/3))%2==0,(e,t)=>e*t%2+e*t%3==0,(e,t)=>(e*t%2+e*t%3)%2==0,(e,t)=>((e+t)%2+e*t%3)%2==0],je={tables:(e=>{const t=Hs(256,0),n=Hs(256,0);for(let r=0,s=1;r<256;r++)t[r]=s,n[s]=r,s<<=1,s&256&&(s^=e);return{exp:t,log:n}})(285),exp:e=>je.tables.exp[e],log(e){if(e===0)throw new Error(`GF.log: invalid arg=${e}`);return je.tables.log[e]%255},mul(e,t){return e===0||t===0?0:je.tables.exp[(je.tables.log[e]+je.tables.log[t])%255]},add:(e,t)=>e^t,pow:(e,t)=>je.tables.exp[je.tables.log[e]*t%255],inv(e){if(e===0)throw new Error(`GF.inverse: invalid arg=${e}`);return je.tables.exp[255-je.tables.log[e]]},polynomial(e){if(e.length==0)throw new Error("GF.polymomial: invalid length");if(e[0]!==0)return e;let t=0;for(;t<e.length-1&&e[t]==0;t++);return e.slice(t)},monomial(e,t){if(e<0)throw new Error(`GF.monomial: invalid degree=${e}`);if(t==0)return[0];let n=Hs(e+1,0);return n[0]=t,je.polynomial(n)},degree:e=>e.length-1,coefficient:(e,t)=>e[je.degree(e)-t],mulPoly(e,t){if(e[0]===0||t[0]===0)return[0];const n=Hs(e.length+t.length-1,0);for(let r=0;r<e.length;r++)for(let s=0;s<t.length;s++)n[r+s]=je.add(n[r+s],je.mul(e[r],t[s]));return je.polynomial(n)},mulPolyScalar(e,t){if(t==0)return[0];if(t==1)return e;const n=Hs(e.length,0);for(let r=0;r<e.length;r++)n[r]=je.mul(e[r],t);return je.polynomial(n)},mulPolyMonomial(e,t,n){if(t<0)throw new Error("GF.mulPolyMonomial: invalid degree");if(n==0)return[0];const r=Hs(e.length+t,0);for(let s=0;s<e.length;s++)r[s]=je.mul(e[s],n);return je.polynomial(r)},addPoly(e,t){if(e[0]===0)return t;if(t[0]===0)return e;let n=e,r=t;n.length>r.length&&([n,r]=[r,n]);let s=Hs(r.length,0),i=r.length-n.length,o=r.slice(0,i);for(let a=0;a<o.length;a++)s[a]=o[a];for(let a=i;a<r.length;a++)s[a]=je.add(n[a-i],r[a]);return je.polynomial(s)},remainderPoly(e,t){const n=Array.from(e);for(let r=0;r<e.length-t.length+1;r++){const s=n[r];if(s!==0)for(let i=1;i<t.length;i++)t[i]!==0&&(n[r+i]=je.add(n[r+i],je.mul(t[i],s)))}return n.slice(e.length-t.length+1,n.length)},divisorPoly(e){let t=[1];for(let n=0;n<e;n++)t=je.mulPoly(t,[1,je.pow(2,n)]);return t},evalPoly(e,t){if(t==0)return je.coefficient(e,0);let n=e[0];for(let r=1;r<e.length;r++)n=je.add(je.mul(t,n),e[r]);return n},euclidian(e,t,n){je.degree(e)<je.degree(t)&&([e,t]=[t,e]);let r=e,s=t,i=[0],o=[1];for(;2*je.degree(s)>=n;){let u=r,l=i;if(r=s,i=o,r[0]===0)throw new Error("rLast[0] === 0");s=u;let f=[0];const d=je.inv(r[0]);for(;je.degree(s)>=je.degree(r)&&s[0]!==0;){const h=je.degree(s)-je.degree(r),p=je.mul(s[0],d);f=je.addPoly(f,je.monomial(h,p)),s=je.addPoly(s,je.mulPolyMonomial(r,h,p))}if(f=je.mulPoly(f,i),o=je.addPoly(f,l),je.degree(s)>=je.degree(r))throw new Error(`Division failed r: ${s}, rLast: ${r}`)}const a=je.coefficient(o,0);if(a==0)throw new Error("sigmaTilde(0) was zero");const c=je.inv(a);return[je.mulPolyScalar(o,c),je.mulPolyScalar(s,c)]}};function h0e(e){return{encode(t){const n=je.divisorPoly(e),r=Array.from(t);return r.push(...n.slice(0,-1).fill(0)),Uint8Array.from(je.remainderPoly(r,n))},decode(t){const n=t.slice(),r=je.polynomial(Array.from(t));let s=Hs(e,0),i=!1;for(let f=0;f<e;f++){const d=je.evalPoly(r,je.exp(f));s[s.length-1-f]=d,d!==0&&(i=!0)}if(!i)return n;s=je.polynomial(s);const o=je.monomial(e,1),[a,c]=je.euclidian(o,s,e),u=Hs(je.degree(a),0);let l=0;for(let f=1;f<256&&l<u.length;f++)je.evalPoly(a,f)===0&&(u[l++]=je.inv(f));if(l!==u.length)throw new Error("RS.decode: invalid errors number");for(let f=0;f<u.length;f++){const d=n.length-1-je.log(u[f]);if(d<0)throw new Error("RS.decode: invalid error location");const h=je.inv(u[f]);let p=1;for(let m=0;m<u.length;m++)f!==m&&(p=je.mul(p,je.add(1,je.mul(u[m],h))));n[d]=je.add(n[d],je.mul(je.evalPoly(c,h),je.inv(p)))}return n}}}function p0e(e,t){const{words:n,shortBlocks:r,numBlocks:s,blockLen:i,total:o}=Gr.capacity(e,t),a=h0e(n);return{encode(c){const u=[],l=[];for(let p=0;p<s;p++){const m=p<r,y=i+(m?0:1);u.push(c.subarray(0,y)),l.push(a.encode(c.subarray(0,y))),c=c.subarray(y)}const f=GS(...u),d=GS(...l),h=new Uint8Array(f.length+d.length);return h.set(f),h.set(d,f.length),h},decode(c){if(c.length!==o)throw new Error(`interleave.decode: len(data)=${c.length}, total=${o}`);const u=[];for(let d=0;d<s;d++){const h=d<r;u.push(new Uint8Array(n+i+(h?0:1)))}let l=0;for(let d=0;d<i;d++)for(let h=0;h<s;h++)u[h][d]=c[l++];for(let d=r;d<s;d++)u[d][i]=c[l++];for(let d=i;d<i+n;d++)for(let h=0;h<s;h++){const p=h<r;u[h][d+(p?0:1)]=c[l++]}const f=[];for(const d of u)f.push(...Array.from(a.decode(d)).slice(0,-n));return Uint8Array.from(f)}}}function m0e(e,t,n,r=!1){const s=Gr.size.encode(e);let i=new Ds(s+2);const o=new Ds(3).rect(0,3,!0).border(1,!1).border(1,!0).border(1,!1);i=i.embed(0,o).embed({x:-o.width,y:0},o).embed({x:0,y:-o.height},o),i=i.rectSlice(1,s);const a=new Ds(1).rect(0,1,!0).border(1,!1).border(1,!0),c=Gr.alignmentPatterns(e);for(const u of c)for(const l of c)i.data[u][l]===void 0&&i.embed({x:l-2,y:u-2},a);i=i.hLine({x:0,y:6},1/0,({x:u},l)=>l===void 0?u%2==0:l).vLine({x:6,y:0},1/0,({y:u},l)=>l===void 0?u%2==0:l);{const u=Gr.formatBits(t,n),l=f=>!r&&(u>>f&1)==1;for(let f=0;f<6;f++)i.data[f][8]=l(f);for(let f=6;f<8;f++)i.data[f+1][8]=l(f);for(let f=8;f<15;f++)i.data[s-15+f][8]=l(f);for(let f=0;f<8;f++)i.data[8][s-f-1]=l(f);for(let f=8;f<9;f++)i.data[8][15-f-1+1]=l(f);for(let f=9;f<15;f++)i.data[8][15-f-1]=l(f);i.data[s-8][8]=!r}if(e>=7){const u=Gr.versionBits(e);for(let l=0;l<18;l+=1){const f=!r&&(u>>l&1)==1,d=Math.floor(l/3),h=l%3+s-8-3;i.data[d][h]=f,i.data[h][d]=f}}return i}function y0e(e,t,n){const r=e.height,s=FA[t];let i=-1,o=r-1;for(let a=r-1;a>0;a-=2){for(a==6&&(a=5);;o+=i){for(let c=0;c<2;c+=1){const u=a-c;e.data[o][u]===void 0&&n(u,o,s(u,o))}if(o+i<0||o+i>=r)break}i=-i}}function g0e(e){let t="numeric";for(let n of e)if(!Gr.alphabet.numeric.has(n)&&(t="alphanumeric",!Gr.alphabet.alphanumerc.has(n)))return"byte";return t}function w0e(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function ZS(e,t,n,r){let s="",i=n.length;if(r==="numeric"){const f=Gr.alphabet.numeric.decode(n.split("")),d=f.length;for(let h=0;h<d-2;h+=3)s+=Pc(f[h]*100+f[h+1]*10+f[h+2],10);d%3===1?s+=Pc(f[d-1],4):d%3===2&&(s+=Pc(f[d-2]*10+f[d-1],7))}else if(r==="alphanumeric"){const f=Gr.alphabet.alphanumerc.decode(n.split("")),d=f.length;for(let h=0;h<d-1;h+=2)s+=Pc(f[h]*45+f[h+1],11);d%2==1&&(s+=Pc(f[d-1],6))}else if(r==="byte"){const f=w0e(n);i=f.length,s=Array.from(f).map(d=>Pc(d,8)).join("")}else throw new Error("encode: unsupported type");const{capacity:o}=Gr.capacity(e,t),a=Pc(i,Gr.lengthBits(e,r));let c=Gr.modeBits[r]+a+s;if(c.length>o)throw new Error("Capacity overflow");c+="0".repeat(Math.min(4,Math.max(0,o-c.length))),c.length%8&&(c+="0".repeat(8-c.length%8));const u="1110110000010001";for(let f=0;c.length!==o;f++)c+=u[f%u.length];const l=Uint8Array.from(c.match(/(.{8})/g).map(f=>+`0b${f}`));return p0e(e,t).encode(l)}function XS(e,t,n,r,s=!1){const i=m0e(e,t,r,s);let o=0;const a=8*n.length;if(y0e(i,r,(c,u,l)=>{let f=!1;o<a&&(f=(n[o>>>3]>>(7-o&7)&1)!==0,o++),i.data[u][c]=f!==l}),o!==a)throw new Error("QR: bytes left after draw");return i}function b0e(e){const t=e.inverse(),n=h=>{let p=0;for(let m=0,y=1,b=void 0;m<h.length;m++)b===h[m]&&(y++,m!==h.length-1)||(y>=5&&(p+=3+(y-5)),b=h[m],y=1);return p};let r=0;e.data.forEach(h=>r+=n(h)),t.data.forEach(h=>r+=n(h));let s=0,i=e.data;const o=e.width-1,a=e.height-1;for(let h=0;h<o;h++)for(let p=0;p<a;p++){const m=h+1,y=p+1;i[h][p]===i[m][p]&&i[m][p]===i[h][y]&&i[m][p]===i[m][y]&&(s+=3)}const c=h=>{const p=[!0,!1,!0,!0,!0,!1,!0],m=[!1,!1,!1,!1],y=[...p,...m],b=[...m,...p];let I=0;for(let v=0;v<h.length;v++)VS(h,y,v)&&(I+=40),VS(h,b,v)&&(I+=40);return I};let u=0;for(const h of e.data)u+=c(h);for(const h of t.data)u+=c(h);let l=0;e.rectRead(0,1/0,(h,p)=>l+=p?1:0);const f=l/(e.height*e.width)*100,d=10*Math.floor(Math.abs(f-50)/5);return r+s+u+d}function v0e(e,t,n,r){if(r===void 0){const s=u0e();for(let i=0;i<FA.length;i++)s.add(b0e(XS(e,t,n,i,!0)),i);r=s.get()}if(r===void 0)throw new Error("Cannot find mask");return XS(e,t,n,r)}function E0e(e){if(!QS.includes(e))throw new Error(`Invalid error correction mode=${e}. Expected: ${QS}`)}function x0e(e){if(!YS.includes(e))throw new Error(`Encoding: invalid mode=${e}. Expected: ${YS}`);if(e==="kanji"||e==="eci")throw new Error(`Encoding: ${e} is not supported (yet?).`)}function A0e(e){if(![0,1,2,3,4,5,6,7].includes(e)||!FA[e])throw new Error(`Invalid mask=${e}. Expected number [0..7]`)}function I0e(e,t="raw",n={}){const r=n.ecc!==void 0?n.ecc:"medium";E0e(r);const s=n.encoding!==void 0?n.encoding:g0e(e);x0e(s),n.mask!==void 0&&A0e(n.mask);let i=n.version,o,a=new Error("Unknown error");if(i!==void 0)c0e(i),o=ZS(i,r,e,s);else for(let l=1;l<=40;l++)try{o=ZS(l,r,e,s),i=l;break}catch(f){a=f}if(!i||!o)throw a;let c=v0e(i,r,o,n.mask);c.assertDrawn();const u=n.border===void 0?2:n.border;if(!Number.isSafeInteger(u))throw new Error(`invalid border type=${typeof u}`);if(c=c.border(u,!1),n.scale!==void 0&&(c=c.scale(n.scale)),t==="raw")return c.data;if(t==="ascii")return c.toASCII();if(t==="svg")return c.toSVG(n.optimize);if(t==="gif")return c.toGIF();if(t==="term")return c.toTerm();throw new Error(`Unknown output: ${t}`)}function S0e(e,t={}){const{errorCorrection:n,version:r}=t,s=I0e(e,"raw",{border:0,ecc:n,scale:1,version:r});return{edgeLength:s.length,finderLength:7,grid:s,value:e}}function go(e){const{arena:t,...n}=e;return En.jsxs(go.Root,{...n,children:[En.jsx(go.Finder,{}),En.jsx(go.Cells,{}),t&&En.jsx(go.Arena,{children:typeof t=="string"?En.jsx("img",{alt:"Arena",src:t,style:{borderRadius:1,height:"100%",objectFit:"cover",width:"100%"}}):t})]})}(function(e){e.Context=Q.createContext(null);function t(i){const{children:o,size:a="100%",value:c,version:u,errorCorrection:l,...f}=i,d=Q.useMemo(()=>(Q.Children.map(o,v=>!Q.isValidElement(v)||typeof v.type=="string"?null:"displayName"in v.type&&v.type.displayName==="Arena"?!0:null)??[]).some(Boolean),[o]),h=Q.useMemo(()=>{let v=l;return d&&l==="low"&&(v="medium"),S0e(c,{errorCorrection:v,version:u})},[c,d,l,u]),p=1,m=h.edgeLength*p,y=h.finderLength*p/2,b=d?Math.floor(m/4):0,I=Q.useMemo(()=>({arenaSize:b,cellSize:p,edgeSize:m,qrcode:h,finderSize:y}),[b,m,h,y]);return En.jsx(e.Context.Provider,{value:I,children:En.jsxs("svg",{...f,width:a,height:a,viewBox:`0 0 ${m} ${m}`,xmlns:"http://www.w3.org/2000/svg",children:[En.jsx("title",{children:"QR Code"}),o]})})}e.Root=t,function(i){i.displayName="Root"}(t=e.Root||(e.Root={}));function n(i){const{className:o,fill:a,innerClassName:c,radius:u=.25}=i,{cellSize:l,edgeSize:f,finderSize:d}=Q.useContext(e.Context);function h({position:p}){let m=d-(d-l)-l/2;p==="top-right"&&(m=f-d-(d-l)-l/2);let y=d-(d-l)-l/2;p==="bottom-left"&&(y=f-d-(d-l)-l/2);let b=d-l*1.5;p==="top-right"&&(b=f-d-l*1.5);let I=d-l*1.5;return p==="bottom-left"&&(I=f-d-l*1.5),En.jsxs(En.Fragment,{children:[En.jsx("rect",{className:o,stroke:a??"currentColor",fill:"transparent",x:m,y,width:l+(d-l)*2,height:l+(d-l)*2,rx:2*u*(d-l),ry:2*u*(d-l),strokeWidth:l}),En.jsx("rect",{className:c,fill:a??"currentColor",x:b,y:I,width:l*3,height:l*3,rx:2*u*l,ry:2*u*l})]})}return En.jsxs(En.Fragment,{children:[En.jsx(h,{position:"top-left"}),En.jsx(h,{position:"top-right"}),En.jsx(h,{position:"bottom-left"})]})}e.Finder=n,function(i){i.displayName="Finder"}(n=e.Finder||(e.Finder={}));function r(i){const{className:o,fill:a="currentColor",inset:c=!0,radius:u=1}=i,{arenaSize:l,cellSize:f,qrcode:d}=Q.useContext(e.Context),{edgeLength:h,finderLength:p}=d,m=Q.useMemo(()=>{let y="";for(let b=0;b<d.grid.length;b++){const I=d.grid[b];if(I)for(let v=0;v<I.length;v++){if(!I[v])continue;const S=h/2-l/2,N=S+l;if(b>=S&&b<=N&&v>=S&&v<=N)continue;const O=b<p&&v<p,z=b<p&&v>=h-p,L=b>=h-p&&v<p;if(O||z||L)continue;const F=c?f*.1:0,H=(f-F*2)/2,G=v*f+f/2,M=b*f+f/2,g=G-H,w=G+H,T=M-H,_=M+H,x=u*H;y+=[`M ${g+x},${T}`,`L ${w-x},${T}`,`A ${x},${x} 0 0,1 ${w},${T+x}`,`L ${w},${_-x}`,`A ${x},${x} 0 0,1 ${w-x},${_}`,`L ${g+x},${_}`,`A ${x},${x} 0 0,1 ${g},${_-x}`,`L ${g},${T+x}`,`A ${x},${x} 0 0,1 ${g+x},${T}`,"z"].join(" ")}}return y},[l,f,h,p,d.grid,c,u]);return En.jsx("path",{className:o,d:m,fill:a})}e.Cells=r,function(i){i.displayName="Cells"}(r=e.Cells||(e.Cells={}));function s(i){const{children:o}=i,{arenaSize:a,cellSize:c,edgeSize:u}=Q.useContext(e.Context),l=Math.ceil(u/2-a/2),f=a+a%2,d=c/2;return En.jsx("foreignObject",{x:l,y:l,width:f,height:f,children:En.jsx("div",{style:{alignItems:"center",display:"flex",fontSize:1,justifyContent:"center",height:"100%",overflow:"hidden",width:"100%",padding:d,boxSizing:"border-box"},children:o})})}e.Arena=s,function(i){i.displayName="Arena"}(s=e.Arena||(e.Arena={}))})(go||(go={}));function k0e(e={}){let t,n,r,s;return i=>({id:"baseAccount",name:"Base Account",rdns:"app.base.account",type:"baseAccount",async connect({chainId:o,withCapabilities:a}={}){try{const c=await this.getProvider(),u=(await c.request({method:"eth_requestAccounts",params:[]})).map(f=>St(f));n||(n=this.onAccountsChanged.bind(this),c.on("accountsChanged",n)),r||(r=this.onChainChanged.bind(this),c.on("chainChanged",r)),s||(s=this.onDisconnect.bind(this),c.on("disconnect",s));let l=await this.getChainId();if(o&&l!==o){const f=await this.switchChain({chainId:o}).catch(d=>{if(d.code===wt.code)throw d;return{id:l}});l=(f==null?void 0:f.id)??l}return{accounts:a?u.map(f=>({address:f,capabilities:{}})):u,chainId:l}}catch(c){throw/(user closed modal|accounts received is empty|user denied account|request rejected)/i.test(c.message)?new wt(c):c}},async disconnect(){const o=await this.getProvider();n&&(o.removeListener("accountsChanged",n),n=void 0),r&&(o.removeListener("chainChanged",r),r=void 0),s&&(o.removeListener("disconnect",s),s=void 0),o.disconnect()},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(a=>St(a))},async getChainId(){const a=await(await this.getProvider()).request({method:"eth_chainId"});return Number(a)},async getProvider(){if(!t){const o=(()=>{var u;return typeof e.preference=="string"?{options:e.preference}:{...e.preference,options:((u=e.preference)==null?void 0:u.options)??"all"}})(),{createBaseAccountSDK:a}=await we(async()=>{const{createBaseAccountSDK:u}=await import("./index-DK6oqmGU.js");return{createBaseAccountSDK:u}},__vite__mapDeps([4,5,6,2]));t=a({...e,appChainIds:i.chains.map(u=>u.id),preference:o}).getProvider()}return t},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:o,chainId:a}){var l,f,d,h;const c=i.chains.find(p=>p.id===a);if(!c)throw new cr(new Aa);const u=await this.getProvider();try{return await u.request({method:"wallet_switchEthereumChain",params:[{chainId:oe(c.id)}]}),c}catch(p){if(p.code===4902)try{let m;o!=null&&o.blockExplorerUrls?m=o.blockExplorerUrls:m=(l=c.blockExplorers)!=null&&l.default.url?[(f=c.blockExplorers)==null?void 0:f.default.url]:[];let y;(d=o==null?void 0:o.rpcUrls)!=null&&d.length?y=o.rpcUrls:y=[((h=c.rpcUrls.default)==null?void 0:h.http[0])??""];const b={blockExplorerUrls:m,chainId:oe(a),chainName:(o==null?void 0:o.chainName)??c.name,iconUrls:o==null?void 0:o.iconUrls,nativeCurrency:(o==null?void 0:o.nativeCurrency)??c.nativeCurrency,rpcUrls:y};return await u.request({method:"wallet_addEthereumChain",params:[b]}),c}catch(m){throw new wt(m)}throw new cr(p)}},onAccountsChanged(o){o.length===0?this.onDisconnect():i.emitter.emit("change",{accounts:o.map(a=>St(a))})},onChainChanged(o){const a=Number(o);i.emitter.emit("change",{chainId:a})},async onDisconnect(o){i.emitter.emit("disconnect");const a=await this.getProvider();n&&(a.removeListener("accountsChanged",n),n=void 0),r&&(a.removeListener("chainChanged",r),r=void 0),s&&(a.removeListener("disconnect",s),s=void 0)}})}HA.type="coinbaseWallet";function HA(e={}){return e.version==="3"||e.headlessMode?T0e(e):C0e(e)}function C0e(e){let t,n,r,s;return i=>({id:"coinbaseWalletSDK",name:"Coinbase Wallet",rdns:"com.coinbase.wallet",type:HA.type,async connect({chainId:o,withCapabilities:a,...c}={}){try{const u=await this.getProvider(),l=(await u.request({method:"eth_requestAccounts",params:"instantOnboarding"in c&&c.instantOnboarding?[{onboarding:"instant"}]:[]})).map(d=>St(d));n||(n=this.onAccountsChanged.bind(this),u.on("accountsChanged",n)),r||(r=this.onChainChanged.bind(this),u.on("chainChanged",r)),s||(s=this.onDisconnect.bind(this),u.on("disconnect",s));let f=await this.getChainId();if(o&&f!==o){const d=await this.switchChain({chainId:o}).catch(h=>{if(h.code===wt.code)throw h;return{id:f}});f=(d==null?void 0:d.id)??f}return{accounts:a?l.map(d=>({address:d,capabilities:{}})):l,chainId:f}}catch(u){throw/(user closed modal|accounts received is empty|user denied account|request rejected)/i.test(u.message)?new wt(u):u}},async disconnect(){var a;const o=await this.getProvider();n&&(o.removeListener("accountsChanged",n),n=void 0),r&&(o.removeListener("chainChanged",r),r=void 0),s&&(o.removeListener("disconnect",s),s=void 0),o.disconnect(),(a=o.close)==null||a.call(o)},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(a=>St(a))},async getChainId(){const a=await(await this.getProvider()).request({method:"eth_chainId"});return Number(a)},async getProvider(){if(!t){const o=(()=>{var u;return typeof e.preference=="string"?{options:e.preference}:{...e.preference,options:((u=e.preference)==null?void 0:u.options)??"all"}})(),{createCoinbaseWalletSDK:a}=await we(async()=>{const{createCoinbaseWalletSDK:u}=await import("./index-D8iA35TM.js");return{createCoinbaseWalletSDK:u}},__vite__mapDeps([7,5,6,2,8]));t=a({...e,appChainIds:i.chains.map(u=>u.id),preference:o}).getProvider()}return t},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:o,chainId:a}){var l,f,d,h;const c=i.chains.find(p=>p.id===a);if(!c)throw new cr(new Aa);const u=await this.getProvider();try{return await u.request({method:"wallet_switchEthereumChain",params:[{chainId:oe(c.id)}]}),c}catch(p){if(p.code===4902)try{let m;o!=null&&o.blockExplorerUrls?m=o.blockExplorerUrls:m=(l=c.blockExplorers)!=null&&l.default.url?[(f=c.blockExplorers)==null?void 0:f.default.url]:[];let y;(d=o==null?void 0:o.rpcUrls)!=null&&d.length?y=o.rpcUrls:y=[((h=c.rpcUrls.default)==null?void 0:h.http[0])??""];const b={blockExplorerUrls:m,chainId:oe(a),chainName:(o==null?void 0:o.chainName)??c.name,iconUrls:o==null?void 0:o.iconUrls,nativeCurrency:(o==null?void 0:o.nativeCurrency)??c.nativeCurrency,rpcUrls:y};return await u.request({method:"wallet_addEthereumChain",params:[b]}),c}catch(m){throw new wt(m)}throw new cr(p)}},onAccountsChanged(o){o.length===0?this.onDisconnect():i.emitter.emit("change",{accounts:o.map(a=>St(a))})},onChainChanged(o){const a=Number(o);i.emitter.emit("change",{chainId:a})},async onDisconnect(o){i.emitter.emit("disconnect");const a=await this.getProvider();n&&(a.removeListener("accountsChanged",n),n=void 0),r&&(a.removeListener("chainChanged",r),r=void 0),s&&(a.removeListener("disconnect",s),s=void 0)}})}function T0e(e){let n,r,s,i,o;return a=>({id:"coinbaseWalletSDK",name:"Coinbase Wallet",rdns:"com.coinbase.wallet",type:HA.type,async connect({chainId:c,withCapabilities:u}={}){try{const l=await this.getProvider(),f=(await l.request({method:"eth_requestAccounts"})).map(h=>St(h));s||(s=this.onAccountsChanged.bind(this),l.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),l.on("chainChanged",i)),o||(o=this.onDisconnect.bind(this),l.on("disconnect",o));let d=await this.getChainId();if(c&&d!==c){const h=await this.switchChain({chainId:c}).catch(p=>{if(p.code===wt.code)throw p;return{id:d}});d=(h==null?void 0:h.id)??d}return{accounts:u?f.map(h=>({address:h,capabilities:{}})):f,chainId:d}}catch(l){throw/(user closed modal|accounts received is empty|user denied account)/i.test(l.message)?new wt(l):l}},async disconnect(){const c=await this.getProvider();s&&(c.removeListener("accountsChanged",s),s=void 0),i&&(c.removeListener("chainChanged",i),i=void 0),o&&(c.removeListener("disconnect",o),o=void 0),c.disconnect(),c.close()},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(u=>St(u))},async getChainId(){const u=await(await this.getProvider()).request({method:"eth_chainId"});return Number(u)},async getProvider(){var c;if(!r){const u=await(async()=>{const{default:p}=await we(async()=>{const{default:m}=await import("./index-CnOwMScP.js").then(y=>y.i);return{default:m}},__vite__mapDeps([9,2,1,3,6,10,11,12]));return typeof p!="function"&&typeof p.default=="function"?p.default:p})();n=new u({...e,reloadOnDisconnect:!1});const l=(c=n.walletExtension)==null?void 0:c.getChainId(),f=a.chains.find(p=>e.chainId?p.id===e.chainId:p.id===l)||a.chains[0],d=e.chainId||(f==null?void 0:f.id),h=e.jsonRpcUrl||(f==null?void 0:f.rpcUrls.default.http[0]);r=n.makeWeb3Provider(h,d)}return r},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:c,chainId:u}){var d,h,p,m;const l=a.chains.find(y=>y.id===u);if(!l)throw new cr(new Aa);const f=await this.getProvider();try{return await f.request({method:"wallet_switchEthereumChain",params:[{chainId:oe(l.id)}]}),l}catch(y){if(y.code===4902)try{let b;c!=null&&c.blockExplorerUrls?b=c.blockExplorerUrls:b=(d=l.blockExplorers)!=null&&d.default.url?[(h=l.blockExplorers)==null?void 0:h.default.url]:[];let I;(p=c==null?void 0:c.rpcUrls)!=null&&p.length?I=c.rpcUrls:I=[((m=l.rpcUrls.default)==null?void 0:m.http[0])??""];const v={blockExplorerUrls:b,chainId:oe(u),chainName:(c==null?void 0:c.chainName)??l.name,iconUrls:c==null?void 0:c.iconUrls,nativeCurrency:(c==null?void 0:c.nativeCurrency)??l.nativeCurrency,rpcUrls:I};return await f.request({method:"wallet_addEthereumChain",params:[v]}),l}catch(b){throw new wt(b)}throw new cr(y)}},onAccountsChanged(c){c.length===0?this.onDisconnect():a.emitter.emit("change",{accounts:c.map(u=>St(u))})},onChainChanged(c){const u=Number(c);a.emitter.emit("change",{chainId:u})},async onDisconnect(c){a.emitter.emit("disconnect");const u=await this.getProvider();s&&(u.removeListener("accountsChanged",s),s=void 0),i&&(u.removeListener("chainChanged",i),i=void 0),o&&(u.removeListener("disconnect",o),o=void 0)}})}qA.type="metaMask";function qA(e={}){let t,n,r,s,i,o,a,c;return u=>({id:"metaMaskSDK",name:"MetaMask",rdns:["io.metamask","io.metamask.mobile"],type:qA.type,async setup(){const l=await this.getProvider();l!=null&&l.on&&(o||(o=this.onConnect.bind(this),l.on("connect",o)),s||(s=this.onAccountsChanged.bind(this),l.on("accountsChanged",s)))},async connect({chainId:l,isReconnecting:f,withCapabilities:d}={}){const h=await this.getProvider();a||(a=this.onDisplayUri,h.on("display_uri",a));let p=[];f&&(p=await this.getAccounts().catch(()=>[]));try{let m,y;p!=null&&p.length||(e.connectAndSign||e.connectWith?(e.connectAndSign?m=await t.connectAndSign({msg:e.connectAndSign}):e.connectWith&&(y=await t.connectWith({method:e.connectWith.method,params:e.connectWith.params})),p=await this.getAccounts()):p=(await t.connect()).map(v=>St(v)));let b=await this.getChainId();if(l&&b!==l){const I=await this.switchChain({chainId:l}).catch(v=>{if(v.code===wt.code)throw v;return{id:b}});b=(I==null?void 0:I.id)??b}return a&&(h.removeListener("display_uri",a),a=void 0),m?h.emit("connectAndSign",{accounts:p,chainId:b,signResponse:m}):y&&h.emit("connectWith",{accounts:p,chainId:b,connectWithResponse:y}),o&&(h.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),h.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),h.on("chainChanged",i)),c||(c=this.onDisconnect.bind(this),h.on("disconnect",c)),{accounts:d?p.map(I=>({address:I,capabilities:{}})):p,chainId:b}}catch(m){const y=m;throw y.code===wt.code?new wt(y):y.code===qi.code?new qi(y):y}},async disconnect(){const l=await this.getProvider();i&&(l.removeListener("chainChanged",i),i=void 0),c&&(l.removeListener("disconnect",c),c=void 0),o||(o=this.onConnect.bind(this),l.on("connect",o)),await t.terminate()},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(d=>St(d))},async getChainId(){const l=await this.getProvider(),f=l.getChainId()||await(l==null?void 0:l.request({method:"eth_chainId"}));return Number(f)},async getProvider(){async function l(){var m,y,b,I,v;const f=await(async()=>{const{default:E}=await we(async()=>{const{default:S}=await import("./metamask-sdk-B0zkebV5.js");return{default:S}},__vite__mapDeps([13,1,2,3]));return typeof E!="function"&&typeof E.default=="function"?E.default:E})(),d={};for(const E of u.chains)d[oe(E.id)]=(m=xD({chain:E,transports:u.transports}))==null?void 0:m[0];t=new f({_source:"wagmi",forceDeleteProvider:!1,forceInjectProvider:!1,injectProvider:!1,...e,readonlyRPCMap:d,dappMetadata:{...e.dappMetadata,name:(y=e.dappMetadata)!=null&&y.name?(b=e.dappMetadata)==null?void 0:b.name:"wagmi",url:(I=e.dappMetadata)!=null&&I.url?(v=e.dappMetadata)==null?void 0:v.url:typeof window<"u"?window.location.origin:"https://wagmi.sh"},useDeeplink:e.useDeeplink??!0});const h=await t.init(),p=h!=null&&h.activeProvider?h.activeProvider:t.getProvider();if(!p)throw new qs;return p}return n||(r||(r=l()),n=await r),n},async isAuthorized(){try{return!!(await xc(()=>tl(()=>this.getAccounts(),{timeout:200}),{delay:201,retryCount:3})).length}catch{return!1}},async switchChain({addEthereumChainParameter:l,chainId:f}){var y,b;const d=await this.getProvider(),h=u.chains.find(I=>I.id===f);if(!h)throw new cr(new Aa);try{return await d.request({method:"wallet_switchEthereumChain",params:[{chainId:oe(f)}]}),await p(),await m(f),h}catch(I){const v=I;if(v.code===wt.code)throw new wt(v);if(v.code===4902||((b=(y=v==null?void 0:v.data)==null?void 0:y.originalError)==null?void 0:b.code)===4902)try{return await d.request({method:"wallet_addEthereumChain",params:[{blockExplorerUrls:(()=>{const{default:E,...S}=h.blockExplorers??{};if(l!=null&&l.blockExplorerUrls)return l.blockExplorerUrls;if(E)return[E.url,...Object.values(S).map(N=>N.url)]})(),chainId:oe(f),chainName:(l==null?void 0:l.chainName)??h.name,iconUrls:l==null?void 0:l.iconUrls,nativeCurrency:(l==null?void 0:l.nativeCurrency)??h.nativeCurrency,rpcUrls:(()=>{var E,S;return(E=l==null?void 0:l.rpcUrls)!=null&&E.length?l.rpcUrls:[((S=h.rpcUrls.default)==null?void 0:S.http[0])??""]})()}]}),await p(),await m(f),h}catch(E){const S=E;throw S.code===wt.code?new wt(S):new cr(S)}throw new cr(v)}async function p(){await xc(async()=>{const I=Mt(await d.request({method:"eth_chainId"}));if(I!==f)throw new Error("User rejected switch after adding network.");return I},{delay:50,retryCount:20})}async function m(I){await new Promise(v=>{const E=S=>{"chainId"in S&&S.chainId===I&&(u.emitter.off("change",E),v())};u.emitter.on("change",E),u.emitter.emit("change",{chainId:I})})}},async onAccountsChanged(l){if(l.length===0)if(t.isExtensionActive())this.onDisconnect();else return;else if(u.emitter.listenerCount("connect")){const f=(await this.getChainId()).toString();this.onConnect({chainId:f})}else u.emitter.emit("change",{accounts:l.map(f=>St(f))})},onChainChanged(l){const f=Number(l);u.emitter.emit("change",{chainId:f})},async onConnect(l){const f=await this.getAccounts();if(f.length===0)return;const d=Number(l.chainId);u.emitter.emit("connect",{accounts:f,chainId:d});const h=await this.getProvider();o&&(h.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),h.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),h.on("chainChanged",i)),c||(c=this.onDisconnect.bind(this),h.on("disconnect",c))},async onDisconnect(l){const f=await this.getProvider();l&&l.code===1013&&f&&(await this.getAccounts()).length||(u.emitter.emit("disconnect"),i&&(f.removeListener("chainChanged",i),i=void 0),c&&(f.removeListener("disconnect",c),c=void 0),o||(o=this.onConnect.bind(this),f.on("connect",o)))},onDisplayUri(l){u.emitter.emit("message",{type:"display_uri",data:l})}})}const _0e=e=>(t,n,r)=>{const s=r.subscribe;return r.subscribe=(o,a,c)=>{let u=o;if(a){const l=(c==null?void 0:c.equalityFn)||Object.is;let f=o(r.getState());u=d=>{const h=o(d);if(!l(f,h)){const p=f;a(f=h,p)}},c!=null&&c.fireImmediately&&a(f,f)}return s(u)},e(t,n,r)},M0e=_0e;function B0e(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const iE=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return iE(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return iE(r)(n)}}}},N0e=(e,t)=>(n,r,s)=>{let i={storage:B0e(()=>localStorage),partialize:m=>m,version:0,merge:(m,y)=>({...y,...m}),...t},o=!1;const a=new Set,c=new Set;let u=i.storage;if(!u)return e((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...m)},r,s);const l=()=>{const m=i.partialize({...r()});return u.setItem(i.name,{state:m,version:i.version})},f=s.setState;s.setState=(m,y)=>(f(m,y),l());const d=e((...m)=>(n(...m),l()),r,s);s.getInitialState=()=>d;let h;const p=()=>{var m,y;if(!u)return;o=!1,a.forEach(I=>{var v;return I((v=r())!=null?v:d)});const b=((y=i.onRehydrateStorage)==null?void 0:y.call(i,(m=r())!=null?m:d))||void 0;return iE(u.getItem.bind(u))(i.name).then(I=>{if(I)if(typeof I.version=="number"&&I.version!==i.version){if(i.migrate){const v=i.migrate(I.state,I.version);return v instanceof Promise?v.then(E=>[!0,E]):[!0,v]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,I.state];return[!1,void 0]}).then(I=>{var v;const[E,S]=I;if(h=i.merge(S,(v=r())!=null?v:d),n(h,!0),E)return l()}).then(()=>{b==null||b(h,void 0),h=r(),o=!0,c.forEach(I=>I(h))}).catch(I=>{b==null||b(void 0,I)})};return s.persist={setOptions:m=>{i={...i,...m},m.storage&&(u=m.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:m=>(a.add(m),()=>{a.delete(m)}),onFinishHydration:m=>(c.add(m),()=>{c.delete(m)})},i.skipHydration||p(),h||d},O0e=N0e,JS=e=>{let t;const n=new Set,r=(u,l)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const d=t;t=l??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(h=>h(t,d))}},s=()=>t,a={setState:r,getState:s,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u))},c=t=e(r,s,a);return a},xb=e=>e?JS(e):JS;WA.type="safe";function WA(e={}){const{shimDisconnect:t=!1}=e;let n,r;return s=>({id:"safe",name:"Safe",type:WA.type,async connect({withCapabilities:i}={}){var u;const o=await this.getProvider();if(!o)throw new qs;const a=await this.getAccounts(),c=await this.getChainId();return r||(r=this.onDisconnect.bind(this),o.on("disconnect",r)),t&&await((u=s.storage)==null?void 0:u.removeItem("safe.disconnected")),{accounts:i?a.map(l=>({address:l,capabilities:{}})):a,chainId:c}},async disconnect(){var o;const i=await this.getProvider();if(!i)throw new qs;r&&(i.removeListener("disconnect",r),r=void 0),t&&await((o=s.storage)==null?void 0:o.setItem("safe.disconnected",!0))},async getAccounts(){const i=await this.getProvider();if(!i)throw new qs;return(await i.request({method:"eth_accounts"})).map(St)},async getProvider(){if(typeof window<"u"&&(window==null?void 0:window.parent)!==window){if(!n){const{default:o}=await we(async()=>{const{default:l}=await import("./index-DPJNluAI.js");return{default:l}},__vite__mapDeps([14,15,2])),a=new o(e),c=await tl(()=>a.safe.getInfo(),{timeout:e.unstable_getInfoTimeout??10});if(!c)throw new Error("Could not load Safe information");const u=await(async()=>{const l=await we(()=>import("./index-BIss_SFt.js").then(f=>f.i),__vite__mapDeps([16,2,15,1,3]));return typeof l.SafeAppProvider!="function"&&typeof l.default.SafeAppProvider=="function"?l.default.SafeAppProvider:l.SafeAppProvider})();n=new u(c,a)}return n}},async getChainId(){const i=await this.getProvider();if(!i)throw new qs;return Number(i.chainId)},async isAuthorized(){var i;try{return t&&await((i=s.storage)==null?void 0:i.getItem("safe.disconnected"))?!1:!!(await this.getAccounts()).length}catch{return!1}},onAccountsChanged(){},onChainChanged(){},onDisconnect(){s.emitter.emit("disconnect")}})}GA.type="walletConnect";function GA(e){const t=e.isNewChainsStale??!0;let n,r;const s="eip155";let i,o,a,c,u,l;return f=>({id:"walletConnect",name:"WalletConnect",type:GA.type,async setup(){const d=await this.getProvider().catch(()=>null);d&&(a||(a=this.onConnect.bind(this),d.on("connect",a)),u||(u=this.onSessionDelete.bind(this),d.on("session_delete",u)))},async connect({chainId:d,withCapabilities:h,...p}={}){var m,y;try{const b=await this.getProvider();if(!b)throw new qs;c||(c=this.onDisplayUri,b.on("display_uri",c));let I=d;if(!I){const N=await((m=f.storage)==null?void 0:m.getItem("state"))??{};f.chains.some(z=>z.id===N.chainId)?I=N.chainId:I=(y=f.chains[0])==null?void 0:y.id}if(!I)throw new Error("No chains found on connector.");const v=await this.isChainsStale();if(b.session&&v&&await b.disconnect(),!b.session||v){const N=f.chains.filter(O=>O.id!==I).map(O=>O.id);await b.connect({optionalChains:[I,...N],..."pairingTopic"in p?{pairingTopic:p.pairingTopic}:{}}),this.setRequestedChainsIds(f.chains.map(O=>O.id))}const E=(await b.enable()).map(N=>St(N));let S=await this.getChainId();if(d&&S!==d){const N=await this.switchChain({chainId:d}).catch(O=>{var z;if(O.code===wt.code&&((z=O.cause)==null?void 0:z.message)!=="Missing or invalid. request() method: wallet_addEthereumChain")throw O;return{id:S}});S=(N==null?void 0:N.id)??S}return c&&(b.removeListener("display_uri",c),c=void 0),a&&(b.removeListener("connect",a),a=void 0),i||(i=this.onAccountsChanged.bind(this),b.on("accountsChanged",i)),o||(o=this.onChainChanged.bind(this),b.on("chainChanged",o)),l||(l=this.onDisconnect.bind(this),b.on("disconnect",l)),u||(u=this.onSessionDelete.bind(this),b.on("session_delete",u)),{accounts:h?E.map(N=>({address:N,capabilities:{}})):E,chainId:S}}catch(b){throw/(user rejected|connection request reset)/i.test(b==null?void 0:b.message)?new wt(b):b}},async disconnect(){const d=await this.getProvider();try{await(d==null?void 0:d.disconnect())}catch(h){if(!/No matching key/i.test(h.message))throw h}finally{o&&(d==null||d.removeListener("chainChanged",o),o=void 0),l&&(d==null||d.removeListener("disconnect",l),l=void 0),a||(a=this.onConnect.bind(this),d==null||d.on("connect",a)),i&&(d==null||d.removeListener("accountsChanged",i),i=void 0),u&&(d==null||d.removeListener("session_delete",u),u=void 0),this.setRequestedChainsIds([])}},async getAccounts(){return(await this.getProvider()).accounts.map(h=>St(h))},async getProvider({chainId:d}={}){var p;async function h(){const m=f.chains.map(b=>b.id);if(!m.length)return;const{EthereumProvider:y}=await we(async()=>{const{EthereumProvider:b}=await import("./index.es-B9JiK6y0.js").then(I=>I.l);return{EthereumProvider:b}},__vite__mapDeps([17,1,2,3]));return await y.init({...e,disableProviderPing:!0,optionalChains:m,projectId:e.projectId,rpcMap:Object.fromEntries(f.chains.map(b=>{const[I]=xD({chain:b,transports:f.transports});return[b.id,I]})),showQrModal:e.showQrModal??!0})}return n||(r||(r=h()),n=await r,n==null||n.events.setMaxListeners(Number.POSITIVE_INFINITY)),d&&await((p=this.switchChain)==null?void 0:p.call(this,{chainId:d})),n},async getChainId(){return(await this.getProvider()).chainId},async isAuthorized(){try{const[d,h]=await Promise.all([this.getAccounts(),this.getProvider()]);return d.length?await this.isChainsStale()&&h.session?(await h.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:d,chainId:h}){var y,b,I;const p=await this.getProvider();if(!p)throw new qs;const m=f.chains.find(v=>v.id===h);if(!m)throw new cr(new Aa);try{await Promise.all([new Promise(E=>{const S=({chainId:N})=>{N===h&&(f.emitter.off("change",S),E())};f.emitter.on("change",S)}),p.request({method:"wallet_switchEthereumChain",params:[{chainId:oe(h)}]})]);const v=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...v,h]),m}catch(v){const E=v;if(/(user rejected)/i.test(E.message))throw new wt(E);try{let S;d!=null&&d.blockExplorerUrls?S=d.blockExplorerUrls:S=(y=m.blockExplorers)!=null&&y.default.url?[(b=m.blockExplorers)==null?void 0:b.default.url]:[];let N;(I=d==null?void 0:d.rpcUrls)!=null&&I.length?N=d.rpcUrls:N=[...m.rpcUrls.default.http];const O={blockExplorerUrls:S,chainId:oe(h),chainName:(d==null?void 0:d.chainName)??m.name,iconUrls:d==null?void 0:d.iconUrls,nativeCurrency:(d==null?void 0:d.nativeCurrency)??m.nativeCurrency,rpcUrls:N};await p.request({method:"wallet_addEthereumChain",params:[O]});const z=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...z,h]),m}catch(S){throw new wt(S)}}},onAccountsChanged(d){d.length===0?this.onDisconnect():f.emitter.emit("change",{accounts:d.map(h=>St(h))})},onChainChanged(d){const h=Number(d);f.emitter.emit("change",{chainId:h})},async onConnect(d){const h=Number(d.chainId),p=await this.getAccounts();f.emitter.emit("connect",{accounts:p,chainId:h})},async onDisconnect(d){this.setRequestedChainsIds([]),f.emitter.emit("disconnect");const h=await this.getProvider();i&&(h.removeListener("accountsChanged",i),i=void 0),o&&(h.removeListener("chainChanged",o),o=void 0),l&&(h.removeListener("disconnect",l),l=void 0),u&&(h.removeListener("session_delete",u),u=void 0),a||(a=this.onConnect.bind(this),h.on("connect",a))},onDisplayUri(d){f.emitter.emit("message",{type:"display_uri",data:d})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){var h,p,m;return n?((m=(p=(h=n.session)==null?void 0:h.namespaces[s])==null?void 0:p.accounts)==null?void 0:m.map(y=>Number.parseInt(y.split(":")[1]||"",10)))??[]:[]},async getRequestedChainsIds(){var d;return await((d=f.storage)==null?void 0:d.getItem(this.requestedChainsStorageKey))??[]},async isChainsStale(){if(!t)return!1;const d=f.chains.map(m=>m.id),h=this.getNamespaceChainsIds();if(h.length&&!h.some(m=>d.includes(m)))return!1;const p=await this.getRequestedChainsIds();return!d.every(m=>p.includes(m))},async setRequestedChainsIds(d){var h;await((h=f.storage)==null?void 0:h.setItem(this.requestedChainsStorageKey,d))},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}var zy={},P0e=768;she({conditions:{defaultCondition:"smallScreen",conditionNames:["smallScreen","largeScreen"],responsiveArray:void 0}});var j0e=pD({conditions:{defaultCondition:"smallScreen",conditionNames:["smallScreen","largeScreen"],responsiveArray:void 0}}),oE=lhe({conditions:{defaultCondition:"base",conditionNames:["base","hover","active"],responsiveArray:void 0},styles:{background:{values:{accentColor:{conditions:{base:"ju367v9i",hover:"ju367v9j",active:"ju367v9k"},defaultClass:"ju367v9i"},accentColorForeground:{conditions:{base:"ju367v9l",hover:"ju367v9m",active:"ju367v9n"},defaultClass:"ju367v9l"},actionButtonBorder:{conditions:{base:"ju367v9o",hover:"ju367v9p",active:"ju367v9q"},defaultClass:"ju367v9o"},actionButtonBorderMobile:{conditions:{base:"ju367v9r",hover:"ju367v9s",active:"ju367v9t"},defaultClass:"ju367v9r"},actionButtonSecondaryBackground:{conditions:{base:"ju367v9u",hover:"ju367v9v",active:"ju367v9w"},defaultClass:"ju367v9u"},closeButton:{conditions:{base:"ju367v9x",hover:"ju367v9y",active:"ju367v9z"},defaultClass:"ju367v9x"},closeButtonBackground:{conditions:{base:"ju367va0",hover:"ju367va1",active:"ju367va2"},defaultClass:"ju367va0"},connectButtonBackground:{conditions:{base:"ju367va3",hover:"ju367va4",active:"ju367va5"},defaultClass:"ju367va3"},connectButtonBackgroundError:{conditions:{base:"ju367va6",hover:"ju367va7",active:"ju367va8"},defaultClass:"ju367va6"},connectButtonInnerBackground:{conditions:{base:"ju367va9",hover:"ju367vaa",active:"ju367vab"},defaultClass:"ju367va9"},connectButtonText:{conditions:{base:"ju367vac",hover:"ju367vad",active:"ju367vae"},defaultClass:"ju367vac"},connectButtonTextError:{conditions:{base:"ju367vaf",hover:"ju367vag",active:"ju367vah"},defaultClass:"ju367vaf"},connectionIndicator:{conditions:{base:"ju367vai",hover:"ju367vaj",active:"ju367vak"},defaultClass:"ju367vai"},downloadBottomCardBackground:{conditions:{base:"ju367val",hover:"ju367vam",active:"ju367van"},defaultClass:"ju367val"},downloadTopCardBackground:{conditions:{base:"ju367vao",hover:"ju367vap",active:"ju367vaq"},defaultClass:"ju367vao"},error:{conditions:{base:"ju367var",hover:"ju367vas",active:"ju367vat"},defaultClass:"ju367var"},generalBorder:{conditions:{base:"ju367vau",hover:"ju367vav",active:"ju367vaw"},defaultClass:"ju367vau"},generalBorderDim:{conditions:{base:"ju367vax",hover:"ju367vay",active:"ju367vaz"},defaultClass:"ju367vax"},menuItemBackground:{conditions:{base:"ju367vb0",hover:"ju367vb1",active:"ju367vb2"},defaultClass:"ju367vb0"},modalBackdrop:{conditions:{base:"ju367vb3",hover:"ju367vb4",active:"ju367vb5"},defaultClass:"ju367vb3"},modalBackground:{conditions:{base:"ju367vb6",hover:"ju367vb7",active:"ju367vb8"},defaultClass:"ju367vb6"},modalBorder:{conditions:{base:"ju367vb9",hover:"ju367vba",active:"ju367vbb"},defaultClass:"ju367vb9"},modalText:{conditions:{base:"ju367vbc",hover:"ju367vbd",active:"ju367vbe"},defaultClass:"ju367vbc"},modalTextDim:{conditions:{base:"ju367vbf",hover:"ju367vbg",active:"ju367vbh"},defaultClass:"ju367vbf"},modalTextSecondary:{conditions:{base:"ju367vbi",hover:"ju367vbj",active:"ju367vbk"},defaultClass:"ju367vbi"},profileAction:{conditions:{base:"ju367vbl",hover:"ju367vbm",active:"ju367vbn"},defaultClass:"ju367vbl"},profileActionHover:{conditions:{base:"ju367vbo",hover:"ju367vbp",active:"ju367vbq"},defaultClass:"ju367vbo"},profileForeground:{conditions:{base:"ju367vbr",hover:"ju367vbs",active:"ju367vbt"},defaultClass:"ju367vbr"},selectedOptionBorder:{conditions:{base:"ju367vbu",hover:"ju367vbv",active:"ju367vbw"},defaultClass:"ju367vbu"},standby:{conditions:{base:"ju367vbx",hover:"ju367vby",active:"ju367vbz"},defaultClass:"ju367vbx"}}},borderColor:{values:{accentColor:{conditions:{base:"ju367vc0",hover:"ju367vc1",active:"ju367vc2"},defaultClass:"ju367vc0"},accentColorForeground:{conditions:{base:"ju367vc3",hover:"ju367vc4",active:"ju367vc5"},defaultClass:"ju367vc3"},actionButtonBorder:{conditions:{base:"ju367vc6",hover:"ju367vc7",active:"ju367vc8"},defaultClass:"ju367vc6"},actionButtonBorderMobile:{conditions:{base:"ju367vc9",hover:"ju367vca",active:"ju367vcb"},defaultClass:"ju367vc9"},actionButtonSecondaryBackground:{conditions:{base:"ju367vcc",hover:"ju367vcd",active:"ju367vce"},defaultClass:"ju367vcc"},closeButton:{conditions:{base:"ju367vcf",hover:"ju367vcg",active:"ju367vch"},defaultClass:"ju367vcf"},closeButtonBackground:{conditions:{base:"ju367vci",hover:"ju367vcj",active:"ju367vck"},defaultClass:"ju367vci"},connectButtonBackground:{conditions:{base:"ju367vcl",hover:"ju367vcm",active:"ju367vcn"},defaultClass:"ju367vcl"},connectButtonBackgroundError:{conditions:{base:"ju367vco",hover:"ju367vcp",active:"ju367vcq"},defaultClass:"ju367vco"},connectButtonInnerBackground:{conditions:{base:"ju367vcr",hover:"ju367vcs",active:"ju367vct"},defaultClass:"ju367vcr"},connectButtonText:{conditions:{base:"ju367vcu",hover:"ju367vcv",active:"ju367vcw"},defaultClass:"ju367vcu"},connectButtonTextError:{conditions:{base:"ju367vcx",hover:"ju367vcy",active:"ju367vcz"},defaultClass:"ju367vcx"},connectionIndicator:{conditions:{base:"ju367vd0",hover:"ju367vd1",active:"ju367vd2"},defaultClass:"ju367vd0"},downloadBottomCardBackground:{conditions:{base:"ju367vd3",hover:"ju367vd4",active:"ju367vd5"},defaultClass:"ju367vd3"},downloadTopCardBackground:{conditions:{base:"ju367vd6",hover:"ju367vd7",active:"ju367vd8"},defaultClass:"ju367vd6"},error:{conditions:{base:"ju367vd9",hover:"ju367vda",active:"ju367vdb"},defaultClass:"ju367vd9"},generalBorder:{conditions:{base:"ju367vdc",hover:"ju367vdd",active:"ju367vde"},defaultClass:"ju367vdc"},generalBorderDim:{conditions:{base:"ju367vdf",hover:"ju367vdg",active:"ju367vdh"},defaultClass:"ju367vdf"},menuItemBackground:{conditions:{base:"ju367vdi",hover:"ju367vdj",active:"ju367vdk"},defaultClass:"ju367vdi"},modalBackdrop:{conditions:{base:"ju367vdl",hover:"ju367vdm",active:"ju367vdn"},defaultClass:"ju367vdl"},modalBackground:{conditions:{base:"ju367vdo",hover:"ju367vdp",active:"ju367vdq"},defaultClass:"ju367vdo"},modalBorder:{conditions:{base:"ju367vdr",hover:"ju367vds",active:"ju367vdt"},defaultClass:"ju367vdr"},modalText:{conditions:{base:"ju367vdu",hover:"ju367vdv",active:"ju367vdw"},defaultClass:"ju367vdu"},modalTextDim:{conditions:{base:"ju367vdx",hover:"ju367vdy",active:"ju367vdz"},defaultClass:"ju367vdx"},modalTextSecondary:{conditions:{base:"ju367ve0",hover:"ju367ve1",active:"ju367ve2"},defaultClass:"ju367ve0"},profileAction:{conditions:{base:"ju367ve3",hover:"ju367ve4",active:"ju367ve5"},defaultClass:"ju367ve3"},profileActionHover:{conditions:{base:"ju367ve6",hover:"ju367ve7",active:"ju367ve8"},defaultClass:"ju367ve6"},profileForeground:{conditions:{base:"ju367ve9",hover:"ju367vea",active:"ju367veb"},defaultClass:"ju367ve9"},selectedOptionBorder:{conditions:{base:"ju367vec",hover:"ju367ved",active:"ju367vee"},defaultClass:"ju367vec"},standby:{conditions:{base:"ju367vef",hover:"ju367veg",active:"ju367veh"},defaultClass:"ju367vef"}}},boxShadow:{values:{connectButton:{conditions:{base:"ju367vei",hover:"ju367vej",active:"ju367vek"},defaultClass:"ju367vei"},dialog:{conditions:{base:"ju367vel",hover:"ju367vem",active:"ju367ven"},defaultClass:"ju367vel"},profileDetailsAction:{conditions:{base:"ju367veo",hover:"ju367vep",active:"ju367veq"},defaultClass:"ju367veo"},selectedOption:{conditions:{base:"ju367ver",hover:"ju367ves",active:"ju367vet"},defaultClass:"ju367ver"},selectedWallet:{conditions:{base:"ju367veu",hover:"ju367vev",active:"ju367vew"},defaultClass:"ju367veu"},walletLogo:{conditions:{base:"ju367vex",hover:"ju367vey",active:"ju367vez"},defaultClass:"ju367vex"}}},color:{values:{accentColor:{conditions:{base:"ju367vf0",hover:"ju367vf1",active:"ju367vf2"},defaultClass:"ju367vf0"},accentColorForeground:{conditions:{base:"ju367vf3",hover:"ju367vf4",active:"ju367vf5"},defaultClass:"ju367vf3"},actionButtonBorder:{conditions:{base:"ju367vf6",hover:"ju367vf7",active:"ju367vf8"},defaultClass:"ju367vf6"},actionButtonBorderMobile:{conditions:{base:"ju367vf9",hover:"ju367vfa",active:"ju367vfb"},defaultClass:"ju367vf9"},actionButtonSecondaryBackground:{conditions:{base:"ju367vfc",hover:"ju367vfd",active:"ju367vfe"},defaultClass:"ju367vfc"},closeButton:{conditions:{base:"ju367vff",hover:"ju367vfg",active:"ju367vfh"},defaultClass:"ju367vff"},closeButtonBackground:{conditions:{base:"ju367vfi",hover:"ju367vfj",active:"ju367vfk"},defaultClass:"ju367vfi"},connectButtonBackground:{conditions:{base:"ju367vfl",hover:"ju367vfm",active:"ju367vfn"},defaultClass:"ju367vfl"},connectButtonBackgroundError:{conditions:{base:"ju367vfo",hover:"ju367vfp",active:"ju367vfq"},defaultClass:"ju367vfo"},connectButtonInnerBackground:{conditions:{base:"ju367vfr",hover:"ju367vfs",active:"ju367vft"},defaultClass:"ju367vfr"},connectButtonText:{conditions:{base:"ju367vfu",hover:"ju367vfv",active:"ju367vfw"},defaultClass:"ju367vfu"},connectButtonTextError:{conditions:{base:"ju367vfx",hover:"ju367vfy",active:"ju367vfz"},defaultClass:"ju367vfx"},connectionIndicator:{conditions:{base:"ju367vg0",hover:"ju367vg1",active:"ju367vg2"},defaultClass:"ju367vg0"},downloadBottomCardBackground:{conditions:{base:"ju367vg3",hover:"ju367vg4",active:"ju367vg5"},defaultClass:"ju367vg3"},downloadTopCardBackground:{conditions:{base:"ju367vg6",hover:"ju367vg7",active:"ju367vg8"},defaultClass:"ju367vg6"},error:{conditions:{base:"ju367vg9",hover:"ju367vga",active:"ju367vgb"},defaultClass:"ju367vg9"},generalBorder:{conditions:{base:"ju367vgc",hover:"ju367vgd",active:"ju367vge"},defaultClass:"ju367vgc"},generalBorderDim:{conditions:{base:"ju367vgf",hover:"ju367vgg",active:"ju367vgh"},defaultClass:"ju367vgf"},menuItemBackground:{conditions:{base:"ju367vgi",hover:"ju367vgj",active:"ju367vgk"},defaultClass:"ju367vgi"},modalBackdrop:{conditions:{base:"ju367vgl",hover:"ju367vgm",active:"ju367vgn"},defaultClass:"ju367vgl"},modalBackground:{conditions:{base:"ju367vgo",hover:"ju367vgp",active:"ju367vgq"},defaultClass:"ju367vgo"},modalBorder:{conditions:{base:"ju367vgr",hover:"ju367vgs",active:"ju367vgt"},defaultClass:"ju367vgr"},modalText:{conditions:{base:"ju367vgu",hover:"ju367vgv",active:"ju367vgw"},defaultClass:"ju367vgu"},modalTextDim:{conditions:{base:"ju367vgx",hover:"ju367vgy",active:"ju367vgz"},defaultClass:"ju367vgx"},modalTextSecondary:{conditions:{base:"ju367vh0",hover:"ju367vh1",active:"ju367vh2"},defaultClass:"ju367vh0"},profileAction:{conditions:{base:"ju367vh3",hover:"ju367vh4",active:"ju367vh5"},defaultClass:"ju367vh3"},profileActionHover:{conditions:{base:"ju367vh6",hover:"ju367vh7",active:"ju367vh8"},defaultClass:"ju367vh6"},profileForeground:{conditions:{base:"ju367vh9",hover:"ju367vha",active:"ju367vhb"},defaultClass:"ju367vh9"},selectedOptionBorder:{conditions:{base:"ju367vhc",hover:"ju367vhd",active:"ju367vhe"},defaultClass:"ju367vhc"},standby:{conditions:{base:"ju367vhf",hover:"ju367vhg",active:"ju367vhh"},defaultClass:"ju367vhf"}}}}},{conditions:{defaultCondition:"smallScreen",conditionNames:["smallScreen","largeScreen"],responsiveArray:void 0},styles:{alignItems:{values:{"flex-start":{conditions:{smallScreen:"ju367v0",largeScreen:"ju367v1"},defaultClass:"ju367v0"},"flex-end":{conditions:{smallScreen:"ju367v2",largeScreen:"ju367v3"},defaultClass:"ju367v2"},center:{conditions:{smallScreen:"ju367v4",largeScreen:"ju367v5"},defaultClass:"ju367v4"}}},display:{values:{none:{conditions:{smallScreen:"ju367v6",largeScreen:"ju367v7"},defaultClass:"ju367v6"},block:{conditions:{smallScreen:"ju367v8",largeScreen:"ju367v9"},defaultClass:"ju367v8"},flex:{conditions:{smallScreen:"ju367va",largeScreen:"ju367vb"},defaultClass:"ju367va"},inline:{conditions:{smallScreen:"ju367vc",largeScreen:"ju367vd"},defaultClass:"ju367vc"}}}}},{conditions:void 0,styles:{margin:{mappings:["marginTop","marginBottom","marginLeft","marginRight"]},marginX:{mappings:["marginLeft","marginRight"]},marginY:{mappings:["marginTop","marginBottom"]},padding:{mappings:["paddingTop","paddingBottom","paddingLeft","paddingRight"]},paddingX:{mappings:["paddingLeft","paddingRight"]},paddingY:{mappings:["paddingTop","paddingBottom"]},alignSelf:{values:{"flex-start":{defaultClass:"ju367ve"},"flex-end":{defaultClass:"ju367vf"},center:{defaultClass:"ju367vg"}}},backgroundSize:{values:{cover:{defaultClass:"ju367vh"}}},borderRadius:{values:{1:{defaultClass:"ju367vi"},6:{defaultClass:"ju367vj"},10:{defaultClass:"ju367vk"},13:{defaultClass:"ju367vl"},actionButton:{defaultClass:"ju367vm"},connectButton:{defaultClass:"ju367vn"},menuButton:{defaultClass:"ju367vo"},modal:{defaultClass:"ju367vp"},modalMobile:{defaultClass:"ju367vq"},"25%":{defaultClass:"ju367vr"},full:{defaultClass:"ju367vs"}}},borderStyle:{values:{solid:{defaultClass:"ju367vt"}}},borderWidth:{values:{0:{defaultClass:"ju367vu"},1:{defaultClass:"ju367vv"},2:{defaultClass:"ju367vw"},4:{defaultClass:"ju367vx"}}},cursor:{values:{pointer:{defaultClass:"ju367vy"},none:{defaultClass:"ju367vz"}}},pointerEvents:{values:{none:{defaultClass:"ju367v10"},all:{defaultClass:"ju367v11"}}},minHeight:{values:{8:{defaultClass:"ju367v12"},44:{defaultClass:"ju367v13"}}},flexDirection:{values:{row:{defaultClass:"ju367v14"},column:{defaultClass:"ju367v15"}}},fontFamily:{values:{body:{defaultClass:"ju367v16"}}},fontSize:{values:{12:{defaultClass:"ju367v17"},13:{defaultClass:"ju367v18"},14:{defaultClass:"ju367v19"},16:{defaultClass:"ju367v1a"},18:{defaultClass:"ju367v1b"},20:{defaultClass:"ju367v1c"},23:{defaultClass:"ju367v1d"}}},fontWeight:{values:{regular:{defaultClass:"ju367v1e"},medium:{defaultClass:"ju367v1f"},semibold:{defaultClass:"ju367v1g"},bold:{defaultClass:"ju367v1h"},heavy:{defaultClass:"ju367v1i"}}},gap:{values:{0:{defaultClass:"ju367v1j"},1:{defaultClass:"ju367v1k"},2:{defaultClass:"ju367v1l"},3:{defaultClass:"ju367v1m"},4:{defaultClass:"ju367v1n"},5:{defaultClass:"ju367v1o"},6:{defaultClass:"ju367v1p"},8:{defaultClass:"ju367v1q"},10:{defaultClass:"ju367v1r"},12:{defaultClass:"ju367v1s"},14:{defaultClass:"ju367v1t"},16:{defaultClass:"ju367v1u"},18:{defaultClass:"ju367v1v"},20:{defaultClass:"ju367v1w"},24:{defaultClass:"ju367v1x"},28:{defaultClass:"ju367v1y"},32:{defaultClass:"ju367v1z"},36:{defaultClass:"ju367v20"},44:{defaultClass:"ju367v21"},64:{defaultClass:"ju367v22"},"-1":{defaultClass:"ju367v23"}}},height:{values:{1:{defaultClass:"ju367v24"},2:{defaultClass:"ju367v25"},4:{defaultClass:"ju367v26"},8:{defaultClass:"ju367v27"},12:{defaultClass:"ju367v28"},20:{defaultClass:"ju367v29"},24:{defaultClass:"ju367v2a"},28:{defaultClass:"ju367v2b"},30:{defaultClass:"ju367v2c"},32:{defaultClass:"ju367v2d"},34:{defaultClass:"ju367v2e"},36:{defaultClass:"ju367v2f"},40:{defaultClass:"ju367v2g"},44:{defaultClass:"ju367v2h"},48:{defaultClass:"ju367v2i"},54:{defaultClass:"ju367v2j"},60:{defaultClass:"ju367v2k"},200:{defaultClass:"ju367v2l"},full:{defaultClass:"ju367v2m"},max:{defaultClass:"ju367v2n"}}},justifyContent:{values:{"flex-start":{defaultClass:"ju367v2o"},"flex-end":{defaultClass:"ju367v2p"},center:{defaultClass:"ju367v2q"},"space-between":{defaultClass:"ju367v2r"},"space-around":{defaultClass:"ju367v2s"}}},textAlign:{values:{left:{defaultClass:"ju367v2t"},center:{defaultClass:"ju367v2u"},inherit:{defaultClass:"ju367v2v"}}},marginBottom:{values:{0:{defaultClass:"ju367v2w"},1:{defaultClass:"ju367v2x"},2:{defaultClass:"ju367v2y"},3:{defaultClass:"ju367v2z"},4:{defaultClass:"ju367v30"},5:{defaultClass:"ju367v31"},6:{defaultClass:"ju367v32"},8:{defaultClass:"ju367v33"},10:{defaultClass:"ju367v34"},12:{defaultClass:"ju367v35"},14:{defaultClass:"ju367v36"},16:{defaultClass:"ju367v37"},18:{defaultClass:"ju367v38"},20:{defaultClass:"ju367v39"},24:{defaultClass:"ju367v3a"},28:{defaultClass:"ju367v3b"},32:{defaultClass:"ju367v3c"},36:{defaultClass:"ju367v3d"},44:{defaultClass:"ju367v3e"},64:{defaultClass:"ju367v3f"},"-1":{defaultClass:"ju367v3g"}}},marginLeft:{values:{0:{defaultClass:"ju367v3h"},1:{defaultClass:"ju367v3i"},2:{defaultClass:"ju367v3j"},3:{defaultClass:"ju367v3k"},4:{defaultClass:"ju367v3l"},5:{defaultClass:"ju367v3m"},6:{defaultClass:"ju367v3n"},8:{defaultClass:"ju367v3o"},10:{defaultClass:"ju367v3p"},12:{defaultClass:"ju367v3q"},14:{defaultClass:"ju367v3r"},16:{defaultClass:"ju367v3s"},18:{defaultClass:"ju367v3t"},20:{defaultClass:"ju367v3u"},24:{defaultClass:"ju367v3v"},28:{defaultClass:"ju367v3w"},32:{defaultClass:"ju367v3x"},36:{defaultClass:"ju367v3y"},44:{defaultClass:"ju367v3z"},64:{defaultClass:"ju367v40"},"-1":{defaultClass:"ju367v41"}}},marginRight:{values:{0:{defaultClass:"ju367v42"},1:{defaultClass:"ju367v43"},2:{defaultClass:"ju367v44"},3:{defaultClass:"ju367v45"},4:{defaultClass:"ju367v46"},5:{defaultClass:"ju367v47"},6:{defaultClass:"ju367v48"},8:{defaultClass:"ju367v49"},10:{defaultClass:"ju367v4a"},12:{defaultClass:"ju367v4b"},14:{defaultClass:"ju367v4c"},16:{defaultClass:"ju367v4d"},18:{defaultClass:"ju367v4e"},20:{defaultClass:"ju367v4f"},24:{defaultClass:"ju367v4g"},28:{defaultClass:"ju367v4h"},32:{defaultClass:"ju367v4i"},36:{defaultClass:"ju367v4j"},44:{defaultClass:"ju367v4k"},64:{defaultClass:"ju367v4l"},"-1":{defaultClass:"ju367v4m"}}},marginTop:{values:{0:{defaultClass:"ju367v4n"},1:{defaultClass:"ju367v4o"},2:{defaultClass:"ju367v4p"},3:{defaultClass:"ju367v4q"},4:{defaultClass:"ju367v4r"},5:{defaultClass:"ju367v4s"},6:{defaultClass:"ju367v4t"},8:{defaultClass:"ju367v4u"},10:{defaultClass:"ju367v4v"},12:{defaultClass:"ju367v4w"},14:{defaultClass:"ju367v4x"},16:{defaultClass:"ju367v4y"},18:{defaultClass:"ju367v4z"},20:{defaultClass:"ju367v50"},24:{defaultClass:"ju367v51"},28:{defaultClass:"ju367v52"},32:{defaultClass:"ju367v53"},36:{defaultClass:"ju367v54"},44:{defaultClass:"ju367v55"},64:{defaultClass:"ju367v56"},"-1":{defaultClass:"ju367v57"}}},maxWidth:{values:{1:{defaultClass:"ju367v58"},2:{defaultClass:"ju367v59"},4:{defaultClass:"ju367v5a"},8:{defaultClass:"ju367v5b"},12:{defaultClass:"ju367v5c"},20:{defaultClass:"ju367v5d"},24:{defaultClass:"ju367v5e"},28:{defaultClass:"ju367v5f"},30:{defaultClass:"ju367v5g"},32:{defaultClass:"ju367v5h"},34:{defaultClass:"ju367v5i"},36:{defaultClass:"ju367v5j"},40:{defaultClass:"ju367v5k"},44:{defaultClass:"ju367v5l"},48:{defaultClass:"ju367v5m"},54:{defaultClass:"ju367v5n"},60:{defaultClass:"ju367v5o"},200:{defaultClass:"ju367v5p"},full:{defaultClass:"ju367v5q"},max:{defaultClass:"ju367v5r"}}},minWidth:{values:{1:{defaultClass:"ju367v5s"},2:{defaultClass:"ju367v5t"},4:{defaultClass:"ju367v5u"},8:{defaultClass:"ju367v5v"},12:{defaultClass:"ju367v5w"},20:{defaultClass:"ju367v5x"},24:{defaultClass:"ju367v5y"},28:{defaultClass:"ju367v5z"},30:{defaultClass:"ju367v60"},32:{defaultClass:"ju367v61"},34:{defaultClass:"ju367v62"},36:{defaultClass:"ju367v63"},40:{defaultClass:"ju367v64"},44:{defaultClass:"ju367v65"},48:{defaultClass:"ju367v66"},54:{defaultClass:"ju367v67"},60:{defaultClass:"ju367v68"},200:{defaultClass:"ju367v69"},full:{defaultClass:"ju367v6a"},max:{defaultClass:"ju367v6b"}}},overflow:{values:{hidden:{defaultClass:"ju367v6c"}}},paddingBottom:{values:{0:{defaultClass:"ju367v6d"},1:{defaultClass:"ju367v6e"},2:{defaultClass:"ju367v6f"},3:{defaultClass:"ju367v6g"},4:{defaultClass:"ju367v6h"},5:{defaultClass:"ju367v6i"},6:{defaultClass:"ju367v6j"},8:{defaultClass:"ju367v6k"},10:{defaultClass:"ju367v6l"},12:{defaultClass:"ju367v6m"},14:{defaultClass:"ju367v6n"},16:{defaultClass:"ju367v6o"},18:{defaultClass:"ju367v6p"},20:{defaultClass:"ju367v6q"},24:{defaultClass:"ju367v6r"},28:{defaultClass:"ju367v6s"},32:{defaultClass:"ju367v6t"},36:{defaultClass:"ju367v6u"},44:{defaultClass:"ju367v6v"},64:{defaultClass:"ju367v6w"},"-1":{defaultClass:"ju367v6x"}}},paddingLeft:{values:{0:{defaultClass:"ju367v6y"},1:{defaultClass:"ju367v6z"},2:{defaultClass:"ju367v70"},3:{defaultClass:"ju367v71"},4:{defaultClass:"ju367v72"},5:{defaultClass:"ju367v73"},6:{defaultClass:"ju367v74"},8:{defaultClass:"ju367v75"},10:{defaultClass:"ju367v76"},12:{defaultClass:"ju367v77"},14:{defaultClass:"ju367v78"},16:{defaultClass:"ju367v79"},18:{defaultClass:"ju367v7a"},20:{defaultClass:"ju367v7b"},24:{defaultClass:"ju367v7c"},28:{defaultClass:"ju367v7d"},32:{defaultClass:"ju367v7e"},36:{defaultClass:"ju367v7f"},44:{defaultClass:"ju367v7g"},64:{defaultClass:"ju367v7h"},"-1":{defaultClass:"ju367v7i"}}},paddingRight:{values:{0:{defaultClass:"ju367v7j"},1:{defaultClass:"ju367v7k"},2:{defaultClass:"ju367v7l"},3:{defaultClass:"ju367v7m"},4:{defaultClass:"ju367v7n"},5:{defaultClass:"ju367v7o"},6:{defaultClass:"ju367v7p"},8:{defaultClass:"ju367v7q"},10:{defaultClass:"ju367v7r"},12:{defaultClass:"ju367v7s"},14:{defaultClass:"ju367v7t"},16:{defaultClass:"ju367v7u"},18:{defaultClass:"ju367v7v"},20:{defaultClass:"ju367v7w"},24:{defaultClass:"ju367v7x"},28:{defaultClass:"ju367v7y"},32:{defaultClass:"ju367v7z"},36:{defaultClass:"ju367v80"},44:{defaultClass:"ju367v81"},64:{defaultClass:"ju367v82"},"-1":{defaultClass:"ju367v83"}}},paddingTop:{values:{0:{defaultClass:"ju367v84"},1:{defaultClass:"ju367v85"},2:{defaultClass:"ju367v86"},3:{defaultClass:"ju367v87"},4:{defaultClass:"ju367v88"},5:{defaultClass:"ju367v89"},6:{defaultClass:"ju367v8a"},8:{defaultClass:"ju367v8b"},10:{defaultClass:"ju367v8c"},12:{defaultClass:"ju367v8d"},14:{defaultClass:"ju367v8e"},16:{defaultClass:"ju367v8f"},18:{defaultClass:"ju367v8g"},20:{defaultClass:"ju367v8h"},24:{defaultClass:"ju367v8i"},28:{defaultClass:"ju367v8j"},32:{defaultClass:"ju367v8k"},36:{defaultClass:"ju367v8l"},44:{defaultClass:"ju367v8m"},64:{defaultClass:"ju367v8n"},"-1":{defaultClass:"ju367v8o"}}},position:{values:{absolute:{defaultClass:"ju367v8p"},fixed:{defaultClass:"ju367v8q"},relative:{defaultClass:"ju367v8r"}}},WebkitUserSelect:{values:{none:{defaultClass:"ju367v8s"}}},right:{values:{0:{defaultClass:"ju367v8t"}}},transition:{values:{default:{defaultClass:"ju367v8u"},transform:{defaultClass:"ju367v8v"}}},userSelect:{values:{none:{defaultClass:"ju367v8w"}}},width:{values:{1:{defaultClass:"ju367v8x"},2:{defaultClass:"ju367v8y"},4:{defaultClass:"ju367v8z"},8:{defaultClass:"ju367v90"},12:{defaultClass:"ju367v91"},20:{defaultClass:"ju367v92"},24:{defaultClass:"ju367v93"},28:{defaultClass:"ju367v94"},30:{defaultClass:"ju367v95"},32:{defaultClass:"ju367v96"},34:{defaultClass:"ju367v97"},36:{defaultClass:"ju367v98"},40:{defaultClass:"ju367v99"},44:{defaultClass:"ju367v9a"},48:{defaultClass:"ju367v9b"},54:{defaultClass:"ju367v9c"},60:{defaultClass:"ju367v9d"},200:{defaultClass:"ju367v9e"},full:{defaultClass:"ju367v9f"},max:{defaultClass:"ju367v9g"}}},backdropFilter:{values:{modalOverlay:{defaultClass:"ju367v9h"}}}}}),ek={colors:{accentColor:"var(--rk-colors-accentColor)",accentColorForeground:"var(--rk-colors-accentColorForeground)",actionButtonBorder:"var(--rk-colors-actionButtonBorder)",actionButtonBorderMobile:"var(--rk-colors-actionButtonBorderMobile)",actionButtonSecondaryBackground:"var(--rk-colors-actionButtonSecondaryBackground)",closeButton:"var(--rk-colors-closeButton)",closeButtonBackground:"var(--rk-colors-closeButtonBackground)",connectButtonBackground:"var(--rk-colors-connectButtonBackground)",connectButtonBackgroundError:"var(--rk-colors-connectButtonBackgroundError)",connectButtonInnerBackground:"var(--rk-colors-connectButtonInnerBackground)",connectButtonText:"var(--rk-colors-connectButtonText)",connectButtonTextError:"var(--rk-colors-connectButtonTextError)",connectionIndicator:"var(--rk-colors-connectionIndicator)",downloadBottomCardBackground:"var(--rk-colors-downloadBottomCardBackground)",downloadTopCardBackground:"var(--rk-colors-downloadTopCardBackground)",error:"var(--rk-colors-error)",generalBorder:"var(--rk-colors-generalBorder)",generalBorderDim:"var(--rk-colors-generalBorderDim)",menuItemBackground:"var(--rk-colors-menuItemBackground)",modalBackdrop:"var(--rk-colors-modalBackdrop)",modalBackground:"var(--rk-colors-modalBackground)",modalBorder:"var(--rk-colors-modalBorder)",modalText:"var(--rk-colors-modalText)",modalTextDim:"var(--rk-colors-modalTextDim)",modalTextSecondary:"var(--rk-colors-modalTextSecondary)",profileAction:"var(--rk-colors-profileAction)",profileActionHover:"var(--rk-colors-profileActionHover)",profileForeground:"var(--rk-colors-profileForeground)",selectedOptionBorder:"var(--rk-colors-selectedOptionBorder)",standby:"var(--rk-colors-standby)"},fonts:{body:"var(--rk-fonts-body)"},radii:{actionButton:"var(--rk-radii-actionButton)",connectButton:"var(--rk-radii-connectButton)",menuButton:"var(--rk-radii-menuButton)",modal:"var(--rk-radii-modal)",modalMobile:"var(--rk-radii-modalMobile)"},shadows:{connectButton:"var(--rk-shadows-connectButton)",dialog:"var(--rk-shadows-dialog)",profileDetailsAction:"var(--rk-shadows-profileDetailsAction)",selectedOption:"var(--rk-shadows-selectedOption)",selectedWallet:"var(--rk-shadows-selectedWallet)",walletLogo:"var(--rk-shadows-walletLogo)"},blurs:{modalOverlay:"var(--rk-blurs-modalOverlay)"}},R0e={shrink:"_12cbo8i6",shrinkSm:"_12cbo8i7"},D0e="_12cbo8i3 ju367v8r",U0e={grow:"_12cbo8i4",growLg:"_12cbo8i5"};function kr({active:e,hover:t}){return[D0e,t&&U0e[t],R0e[e]]}var RD=Q.createContext(null);function L0e(){const{adapter:e}=Q.useContext(RD)??{};if(!e)throw new Error("No authentication adapter found");return e}function Iw(){const e=Q.useContext(RD);return(e==null?void 0:e.status)??null}function DD(){const e=Iw(),{isConnected:t}=us();return t?e&&(e==="loading"||e==="unauthenticated")?e:"connected":"disconnected"}function UD(){return typeof navigator<"u"&&/android/i.test(navigator.userAgent)}function $0e(){return typeof navigator<"u"&&/iPhone|iPod/.test(navigator.userAgent)}function z0e(){return typeof navigator<"u"&&(/iPad/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)}function Jp(){return $0e()||z0e()}function er(){return UD()||Jp()}var F0e="iekbcc0",H0e={a:"iekbcca",blockquote:"iekbcc2",button:"iekbcc9",input:"iekbcc8 iekbcc5 iekbcc4",mark:"iekbcc6",ol:"iekbcc1",q:"iekbcc2",select:"iekbcc7 iekbcc5 iekbcc4",table:"iekbcc3",textarea:"iekbcc5 iekbcc4",ul:"iekbcc1"},q0e=({reset:e,...t})=>{if(!e)return oE(t);const n=H0e[e],r=oE(t);return Xk(F0e,n,r)},K=B.forwardRef(({as:e="div",className:t,testId:n,...r},s)=>{const i={},o={};for(const c in r)oE.properties.has(c)?i[c]=r[c]:o[c]=r[c];const a=q0e({reset:typeof e=="string"?e:"div",...i});return B.createElement(e,{className:Xk(a,t),...o,"data-testid":n?`rk-${n.replace(/^rk-/,"")}`:void 0,ref:s})});K.displayName="Box";var LD=new Map,Ab=new Map;async function $D(e){const t=Ab.get(e);if(t)return t;const n=async()=>e().then(async s=>(LD.set(e,s),s)),r=n().catch(s=>n().catch(i=>{Ab.delete(e)}));return Ab.set(e,r),r}async function xo(...e){return await Promise.all(e.map(t=>typeof t=="function"?$D(t):t))}function W0e(){const[,e]=Q.useReducer(t=>t+1,0);return e}function Sw(e){const t=typeof e=="function"?LD.get(e):void 0,n=W0e();return Q.useEffect(()=>{typeof e=="function"&&!t&&$D(e).then(n)},[e,t,n]),typeof e=="function"?t:e}function xr({alt:e,background:t,borderColor:n,borderRadius:r,useAsImage:s,boxShadow:i,height:o,src:a,width:c,testId:u}){const l=Jp(),f=Sw(a),d=f&&/^http/.test(f),[h,p]=Q.useReducer(()=>!0,!1);return B.createElement(K,{"aria-label":e,borderRadius:r,boxShadow:i,height:typeof o=="string"?o:void 0,overflow:"hidden",position:"relative",role:"img",style:{background:t,height:typeof o=="number"?o:void 0,width:typeof c=="number"?c:void 0},width:typeof c=="string"?c:void 0,testId:u},B.createElement(K,{...d?{"aria-hidden":!0,as:"img",onLoad:p,src:f}:{"aria-hidden":!0,as:"img",src:f},height:"full",position:"absolute",...l?{WebkitUserSelect:"none"}:{},style:{WebkitTouchCallout:"none",transition:"opacity .15s linear",userSelect:"none",...!s&&d?{opacity:h?1:0}:{}},width:"full"}),n?B.createElement(K,{...typeof n=="object"&&"custom"in n?{style:{borderColor:n.custom}}:{borderColor:n},borderRadius:r,borderStyle:"solid",borderWidth:"1",height:"full",position:"relative",width:"full"}):null)}var G0e="_1luule42",V0e="_1luule43",K0e=e=>Q.useMemo(()=>`${e}_${Math.round(Math.random()*1e9)}`,[e]),Yh=({height:e=21,width:t=21})=>{const n=K0e("spinner");return B.createElement("svg",{className:G0e,fill:"none",height:e,viewBox:"0 0 21 21",width:t,xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Loading"),B.createElement("clipPath",{id:n},B.createElement("path",{d:"M10.5 3C6.35786 3 3 6.35786 3 10.5C3 14.6421 6.35786 18 10.5 18C11.3284 18 12 18.6716 12 19.5C12 20.3284 11.3284 21 10.5 21C4.70101 21 0 16.299 0 10.5C0 4.70101 4.70101 0 10.5 0C16.299 0 21 4.70101 21 10.5C21 11.3284 20.3284 12 19.5 12C18.6716 12 18 11.3284 18 10.5C18 6.35786 14.6421 3 10.5 3Z"})),B.createElement("foreignObject",{clipPath:`url(#${n})`,height:"21",width:"21",x:"0",y:"0"},B.createElement("div",{className:V0e})))},vt=["#FC5C54","#FFD95A","#E95D72","#6A87C8","#5FD0F3","#75C06B","#FFDD86","#5FC6D4","#FF949A","#FF8024","#9BA1A4","#EC66FF","#FF8CBC","#FF9A23","#C5DADB","#A8CE63","#71ABFF","#FFE279","#B6B1B6","#FF6780","#A575FF","#4D82FF","#FFB35A"],tk=[{color:vt[0],emoji:""},{color:vt[1],emoji:""},{color:vt[2],emoji:""},{color:vt[3],emoji:""},{color:vt[4],emoji:""},{color:vt[0],emoji:""},{color:vt[5],emoji:""},{color:vt[6],emoji:""},{color:vt[7],emoji:""},{color:vt[8],emoji:""},{color:vt[9],emoji:""},{color:vt[10],emoji:""},{color:vt[11],emoji:""},{color:vt[12],emoji:""},{color:vt[13],emoji:""},{color:vt[8],emoji:""},{color:vt[14],emoji:""},{color:vt[0],emoji:""},{color:vt[8],emoji:""},{color:vt[1],emoji:""},{color:vt[15],emoji:""},{color:vt[16],emoji:""},{color:vt[17],emoji:""},{color:vt[18],emoji:""},{color:vt[19],emoji:""},{color:vt[1],emoji:""},{color:vt[20],emoji:""},{color:vt[15],emoji:""},{color:vt[0],emoji:""},{color:vt[17],emoji:""},{color:vt[4],emoji:""},{color:vt[21],emoji:""},{color:vt[17],emoji:""},{color:vt[8],emoji:""},{color:vt[22],emoji:""}];function Q0e(e){let t=0;if(e.length===0)return t;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t|=0}return t}function Y0e(e){const n=Math.abs(Q0e((typeof e=="string"?e:"").toLowerCase())%tk.length);return tk[n??0]}var Z0e=({address:e,ensImage:t,size:n})=>{const[r,s]=Q.useState(!1);Q.useEffect(()=>{if(t){const a=new Image;a.src=t,a.onload=()=>s(!0)}},[t]);const{color:i,emoji:o}=Q.useMemo(()=>Y0e(e),[e]);return t?r?B.createElement(K,{backgroundSize:"cover",borderRadius:"full",position:"absolute",style:{backgroundImage:`url(${t})`,backgroundPosition:"center",height:n,width:n}}):B.createElement(K,{alignItems:"center",backgroundSize:"cover",borderRadius:"full",color:"modalText",display:"flex",justifyContent:"center",position:"absolute",style:{height:n,width:n}},B.createElement(Yh,null)):B.createElement(K,{alignItems:"center",display:"flex",justifyContent:"center",overflow:"hidden",style:{...!t&&{backgroundColor:i},height:n,width:n}},o)},zD=Z0e,FD=Q.createContext(zD);function X0e({address:e,imageUrl:t,loading:n,size:r}){const s=Q.useContext(FD);return B.createElement(K,{"aria-hidden":!0,borderRadius:"full",overflow:"hidden",position:"relative",style:{height:`${r}px`,width:`${r}px`},userSelect:"none"},B.createElement(K,{alignItems:"center",borderRadius:"full",display:"flex",justifyContent:"center",overflow:"hidden",position:"absolute",style:{fontSize:`${Math.round(r*.55)}px`,height:`${r}px`,transform:n?"scale(0.72)":void 0,transition:".25s ease",transitionDelay:n?void 0:".1s",width:`${r}px`,willChange:"transform"},userSelect:"none"},B.createElement(s,{address:e,ensImage:t,size:r})),n&&B.createElement(K,{color:"accentColor",display:"flex",height:"full",position:"absolute",width:"full"},B.createElement(Yh,{height:"100%",width:"100%"})))}var nk={defaultLocale:"en",locale:"en"},J0e=class{constructor(e){this.listeners=new Set,this.defaultLocale=nk.defaultLocale,this.enableFallback=!1,this.locale=nk.locale,this.cachedLocales=[],this.translations={};for(const[t,n]of Object.entries(e))this.cachedLocales=[...this.cachedLocales,t],this.translations={...this.translations,...this.flattenTranslation(n,t)}}missingMessage(e){return`[missing: "${this.locale}.${e}" translation]`}flattenTranslation(e,t){const n={},r=(s,i)=>{for(const o of Object.keys(s)){const a=`${i}.${o}`,c=s[o];typeof c=="object"&&c!==null?r(c,a):n[a]=c}};return r(e,t),n}translateWithReplacements(e,t={}){let n=e;for(const r in t){const s=t[r];n=n.replace(`%{${r}}`,s)}return n}t(e,t,n){const r=`${this.locale}.${e}`,s=this.translations[r];if(!s){if(this.enableFallback){const i=`${this.defaultLocale}.${e}`,o=this.translations[i];if(o)return this.translateWithReplacements(o,t)}return n!=null&&n.rawKeyIfTranslationMissing?e:this.missingMessage(e)}return this.translateWithReplacements(s,t)}isLocaleCached(e){return this.cachedLocales.includes(e)}updateLocale(e){this.locale=e,this.notifyListeners()}setTranslations(e,t){this.isLocaleCached(e)||(this.cachedLocales=[...this.cachedLocales,e],this.translations={...this.translations,...this.flattenTranslation(t,e)}),this.locale=e,this.notifyListeners()}notifyListeners(){for(const e of this.listeners)e()}onChange(e){return this.listeners.add(e),()=>{this.listeners.delete(e)}}},yi=new J0e({en:JSON.parse(BS),"en-US":JSON.parse(BS)});yi.defaultLocale="en-US";yi.locale="en-US";yi.enableFallback=!0;var eme=async e=>{switch(e){case"ar":case"ar-AR":return(await we(async()=>{const{default:t}=await import("./ar_AR-CTNWGWSS-DlAFo0vZ.js");return{default:t}},[])).default;case"de":case"de-DE":return(await we(async()=>{const{default:t}=await import("./de_DE-P43L3PR7-pJRS3eyz.js");return{default:t}},[])).default;case"en":case"en-US":return(await we(async()=>{const{default:t}=await import("./en_US-KAK2ZBDO-C1Pw6Q2s.js").then(n=>n.e);return{default:t}},__vite__mapDeps([18,1,2,3]))).default;case"es":case"es-419":return(await we(async()=>{const{default:t}=await import("./es_419-JBX5FS3Q-Bk-MlIq_.js");return{default:t}},[])).default;case"fr":case"fr-FR":return(await we(async()=>{const{default:t}=await import("./fr_FR-CM2EDAQC-DvlCXiU9.js");return{default:t}},[])).default;case"hi":case"hi-IN":return(await we(async()=>{const{default:t}=await import("./hi_IN-GYVCUYRD-CQnOa8U_.js");return{default:t}},[])).default;case"id":case"id-ID":return(await we(async()=>{const{default:t}=await import("./id_ID-7ZWSMOOE-ZzIoBaiI.js");return{default:t}},[])).default;case"ja":case"ja-JP":return(await we(async()=>{const{default:t}=await import("./ja_JP-CGMP6VLZ-BBxPp4Hq.js");return{default:t}},[])).default;case"ko":case"ko-KR":return(await we(async()=>{const{default:t}=await import("./ko_KR-YCZDTF7X-4W342j3x.js");return{default:t}},[])).default;case"ms":case"ms-MY":return(await we(async()=>{const{default:t}=await import("./ms_MY-5LHAYMS7-BUU8UB2I.js");return{default:t}},[])).default;case"pt":case"pt-BR":return(await we(async()=>{const{default:t}=await import("./pt_BR-3JTS4PSK-Cou37HE0.js");return{default:t}},[])).default;case"ru":case"ru-RU":return(await we(async()=>{const{default:t}=await import("./ru_RU-6J6XERHI-BEDPqa1p.js");return{default:t}},[])).default;case"th":case"th-TH":return(await we(async()=>{const{default:t}=await import("./th_TH-STXOD4CR-DmwaGyKS.js");return{default:t}},[])).default;case"tr":case"tr-TR":return(await we(async()=>{const{default:t}=await import("./tr_TR-P7QAUUZU-DHzPxq5a.js");return{default:t}},[])).default;case"ua":case"uk-UA":return(await we(async()=>{const{default:t}=await import("./uk_UA-JTTBGJGQ-bEPIKyyu.js");return{default:t}},[])).default;case"vi":case"vi-VN":return(await we(async()=>{const{default:t}=await import("./vi_VN-5XUUAVWW-DvcbUvCZ.js");return{default:t}},[])).default;case"zh":case"zh-CN":case"zh-Hans":return(await we(async()=>{const{default:t}=await import("./zh_CN-RGMLPFEP-CPkk4IYh.js");return{default:t}},[])).default;case"zh-HK":return(await we(async()=>{const{default:t}=await import("./zh_HK-YM3T6EI5-BYHcXtXC.js");return{default:t}},[])).default;case"zh-Hant":case"zh-TW":return(await we(async()=>{const{default:t}=await import("./zh_TW-HAEH6VE5-r-nym7hs.js");return{default:t}},[])).default;default:return(await we(async()=>{const{default:t}=await import("./en_US-KAK2ZBDO-C1Pw6Q2s.js").then(n=>n.e);return{default:t}},__vite__mapDeps([18,1,2,3]))).default}};async function rk(e){if(yi.isLocaleCached(e)){yi.updateLocale(e);return}const n=await eme(e);yi.setTranslations(e,JSON.parse(n))}var tme=()=>{var e;if(typeof window<"u"&&typeof navigator<"u"){if((e=navigator.languages)!=null&&e.length)return navigator.languages[0];if(navigator.language)return navigator.language}},rr=Q.createContext({i18n:yi}),nme=({children:e,locale:t})=>{const[n,r]=Q.useState(0),s=Q.useMemo(()=>tme(),[]);Q.useEffect(()=>yi.onChange(()=>{r(a=>a+1)}),[]),Q.useEffect(()=>{t&&t!==yi.locale?rk(t):!t&&s&&s!==yi.locale&&rk(s)},[t,s]);const i=Q.useMemo(()=>({t:(a,c)=>yi.t(a,c),i18n:yi}),[n]);return B.createElement(rr.Provider,{value:i},e)};function HD(e){return e!=null}var sk={iconBackground:"#7290CC",iconUrl:async()=>(await we(async()=>{const{default:e}=await import("./apechain-SX5YFU6N-q5qBv-mp.js");return{default:e}},[])).default},Ib={iconBackground:"#96bedc",iconUrl:async()=>(await we(async()=>{const{default:e}=await import("./arbitrum-WURIBY6W-CqVkHBr5.js");return{default:e}},[])).default},ik={iconBackground:"#e84141",iconUrl:async()=>(await we(async()=>{const{default:e}=await import("./avalanche-KOMJD3XY-Dsn_JPR4.js");return{default:e}},[])).default},Sb={iconBackground:"#0052ff",iconUrl:async()=>(await we(async()=>{const{default:e}=await import("./base-OAXLRA4F-CoYTVIiL.js");return{default:e}},[])).default},kb={iconBackground:"#814625",iconUrl:async()=>(await we(async()=>{const{default:e}=await import("./berachain-NJECWIVC-DumxnFvf.js");return{default:e}},[])).default},ok={iconBackground:"#000000",iconUrl:async()=>(await we(async()=>{const{default:e}=await import("./blast-V555OVXZ-BbhJh1tj.js");return{default:e}},[])).default},ak={iconBackground:"#ebac0e",iconUrl:async()=>(await we(async()=>{const{default:e}=await import("./bsc-N647EYR2-B2nLKXWV.js");return{default:e}},[])).default},ck={iconBackground:"#FCFF52",iconUrl:async()=>(await we(async()=>{const{default:e}=await import("./celo-GEP4TUHG-CenIBYLU.js");return{default:e}},[])).default},uk={iconBackground:"#002D74",iconUrl:async()=>(await we(async()=>{const{default:e}=await import("./cronos-HJPAQTAE-BEOvlOC4.js");return{default:e}},[])).default},rme={iconBackground:"#A36EFD",iconUrl:async()=>(await we(async()=>{const{default:e}=await import("./degen-FQQ4XGHB-CeHTs88l.js");return{default:e}},[])).default},za={iconBackground:"#484c50",iconUrl:async()=>(await we(async()=>{const{default:e}=await import("./ethereum-RGGVA4PY-SWGOlkuk.js");return{default:e}},[])).default},lk={iconBackground:"transparent",iconUrl:async()=>(await we(async()=>{const{default:e}=await import("./flow-5FQJFCTK-CUie2reO.js");return{default:e}},[])).default},sme={iconBackground:"#04795c",iconUrl:async()=>(await we(async()=>{const{default:e}=await import("./gnosis-37ZC4RBL-B137OtHZ.js");return{default:e}},[])).default},dk={iconBackground:"#000000",iconUrl:async()=>(await we(async()=>{const{default:e}=await import("./gravity-J5YQHTYH-Bj6B0uod.js");return{default:e}},[])).default},ime={iconBackground:"#f9f7ec",iconUrl:async()=>(await we(async()=>{const{default:e}=await import("./hardhat-TX56IT5N-CV1FY-wE.js");return{default:e}},[])).default},ome={iconBackground:"#000000",iconUrl:async()=>(await we(async()=>{const{default:e}=await import("./hyperevm-VKPAA4SA-CHwraEsx.js");return{default:e}},[])).default},fk={iconBackground:"#7132F5",iconUrl:async()=>(await we(async()=>{const{default:e}=await import("./ink-FZMYZWHG-62p-5IK5.js");return{default:e}},[])).default},hk={iconBackground:"transparent",iconUrl:async()=>(await we(async()=>{const{default:e}=await import("./kaia-65D2U3PU-JmuLQ4gC.js");return{default:e}},[])).default},Cb={iconBackground:"#ffffff",iconUrl:async()=>(await we(async()=>{const{default:e}=await import("./linea-QRMVQ5DY-DuI3vv0d.js");return{default:e}},[])).default},Tb={iconBackground:"#ffffff",iconUrl:async()=>(await we(async()=>{const{default:e}=await import("./manta-SI27YFEJ-CpVOKa06.js");return{default:e}},[])).default},pk={iconBackground:"#000000",iconUrl:async()=>(await we(async()=>{const{default:e}=await import("./mantle-CKIUT334-DR2WgqzU.js");return{default:e}},[])).default},ame={iconBackground:"transparent",iconUrl:async()=>(await we(async()=>{const{default:e}=await import("./monad-4KWC6TSS-DVXSkpiz.js");return{default:e}},[])).default},W0={iconBackground:"#ff5a57",iconUrl:async()=>(await we(async()=>{const{default:e}=await import("./optimism-HAF2GUT7-ec6Nqxs9.js");return{default:e}},[])).default},_b={iconBackground:"#9f71ec",iconUrl:async()=>(await we(async()=>{const{default:e}=await import("./polygon-WW6ZI7PM-DXlmm4L1.js");return{default:e}},[])).default},cme={iconBackground:"#1273EA",iconUrl:async()=>(await we(async()=>{const{default:e}=await import("./ronin-EMCPYXZT-N-QBHZdV.js");return{default:e}},[])).default},ume={iconBackground:"#000000",iconUrl:async()=>(await we(async()=>{const{default:e}=await import("./sanko-RHQYXGM5-OX010CbN.js");return{default:e}},[])).default},lme={iconBackground:"#000000",iconUrl:async()=>(await we(async()=>{const{default:e}=await import("./superposition-HG6MMR2Y-bRkgatRO.js");return{default:e}},[])).default},mk={iconBackground:"#FFEEDA",iconUrl:async()=>(await we(async()=>{const{default:e}=await import("./scroll-5OBGQVOV-DJFECiai.js");return{default:e}},[])).default},yk={iconBackground:"#F50DB4",iconUrl:async()=>(await we(async()=>{const{default:e}=await import("./unichain-C5BWO2ZY-BfguYsnu.js");return{default:e}},[])).default},gk={iconBackground:"#f9f7ec",iconUrl:async()=>(await we(async()=>{const{default:e}=await import("./xdc-KJ3TDBYO-DNV6zchh.js");return{default:e}},[])).default},wk={iconBackground:"#000000",iconUrl:async()=>(await we(async()=>{const{default:e}=await import("./zetachain-TLDS5IPW-Udhyw16T.js");return{default:e}},[])).default},bk={iconBackground:"#f9f7ec",iconUrl:async()=>(await we(async()=>{const{default:e}=await import("./zksync-DH7HK5U4-Dt4usFw6.js");return{default:e}},[])).default},Mb={iconBackground:"#000000",iconUrl:async()=>(await we(async()=>{const{default:e}=await import("./zora-FYL5H3IO-iB4wygST.js");return{default:e}},[])).default},dme={apechain:{chainId:33139,name:"ApeChain",...sk},apechainCurtis:{chainId:33111,name:"ApeChain Curtis",...sk},arbitrum:{chainId:42161,name:"Arbitrum",...Ib},arbitrumGoerli:{chainId:421613,...Ib},arbitrumSepolia:{chainId:421614,...Ib},avalanche:{chainId:43114,...ik},avalancheFuji:{chainId:43113,...ik},base:{chainId:8453,name:"Base",...Sb},baseGoerli:{chainId:84531,...Sb},baseSepolia:{chainId:84532,...Sb},berachain:{chainId:80094,name:"Berachain",...kb},berachainArtio:{chainId:80085,name:"Berachain Artio",...kb},berachainBArtio:{chainId:80084,name:"Berachain bArtio",...kb},blast:{chainId:81457,name:"Blast",...ok},blastSepolia:{chainId:168587773,...ok},bsc:{chainId:56,name:"BSC",...ak},bscTestnet:{chainId:97,...ak},celo:{chainId:42220,name:"Celo",...ck},celoAlfajores:{chainId:44787,name:"Celo Alfajores",...ck},cronos:{chainId:25,...uk},cronosTestnet:{chainId:338,...uk},degen:{chainId:666666666,name:"Degen",...rme},flow:{chainId:747,...lk},flowTestnet:{chainId:545,...lk},gnosis:{chainId:100,name:"Gnosis",...sme},goerli:{chainId:5,...za},gravity:{chainId:1625,name:"Gravity",...dk},gravitySepolia:{chainId:13505,name:"Gravity Sepolia",...dk},hardhat:{chainId:31337,...ime},holesky:{chainId:17e3,...za},hyperevm:{chainId:999,...ome},ink:{chainId:57073,...fk},inkSepolia:{chainId:763373,...fk},kaia:{chainId:8217,name:"Kaia",...hk},kairos:{chainId:1001,name:"Kairos",...hk},kovan:{chainId:42,...za},linea:{chainId:59144,name:"Linea",...Cb},lineaGoerli:{chainId:59140,name:"Linea Goerli",...Cb},lineaSepolia:{chainId:59141,name:"Linea Sepolia",...Cb},localhost:{chainId:1337,...za},mainnet:{chainId:1,name:"Ethereum",...za},manta:{chainId:169,name:"Manta",...Tb},mantaSepolia:{chainId:3441006,...Tb},mantaTestnet:{chainId:3441005,...Tb},mantle:{chainId:5e3,...pk},mantleTestnet:{chainId:5001,...pk},monadTestnet:{chainId:10143,name:"Monad Testnet",...ame},optimism:{chainId:10,name:"Optimism",...W0},optimismGoerli:{chainId:420,...W0},optimismKovan:{chainId:69,...W0},optimismSepolia:{chainId:11155420,...W0},polygon:{chainId:137,name:"Polygon",..._b},polygonAmoy:{chainId:80002,..._b},polygonMumbai:{chainId:80001,..._b},rinkeby:{chainId:4,...za},ronin:{chainId:2020,...cme},ropsten:{chainId:3,...za},sanko:{chainId:1996,name:"Sanko",...ume},scroll:{chainId:534352,...mk},scrollSepolia:{chainId:534351,...mk},sepolia:{chainId:11155111,...za},superposition:{chainId:55244,name:"Superposition",...lme},unichain:{chainId:130,...yk},unichainSepolia:{chainId:1301,...yk},xdc:{chainId:50,name:"XDC",...gk},xdcTestnet:{chainId:51,...gk},zetachain:{chainId:7e3,name:"ZetaChain",...wk},zetachainAthensTestnet:{chainId:7001,name:"Zeta Athens",...wk},zkSync:{chainId:324,name:"zkSync",...bk},zkSyncTestnet:{chainId:280,...bk},zora:{chainId:7777777,name:"Zora",...Mb},zoraSepolia:{chainId:999999999,...Mb},zoraTestnet:{chainId:999,...Mb}},fme=Object.fromEntries(Object.values(dme).filter(HD).map(({chainId:e,...t})=>[e,t])),hme=e=>e.map(t=>{const n=fme[t.id]??{};return{...t,name:n.name??t.name,iconUrl:t.iconUrl??n.iconUrl,iconBackground:t.iconBackground??n.iconBackground}}),VA=Q.createContext({chains:[]});function pme({children:e,initialChain:t}){const{chains:n}=nr();return B.createElement(VA.Provider,{value:Q.useMemo(()=>({chains:hme(n),initialChainId:typeof t=="number"?t:t==null?void 0:t.id}),[n,t])},e)}var vf=()=>Q.useContext(VA).chains,mme=()=>Q.useContext(VA).initialChainId,yme=()=>{const e=vf();return Q.useMemo(()=>{const t={};for(const n of e)t[n.id]=n;return t},[e])},qD=Q.createContext({showBalance:void 0,setShowBalance:()=>{}});function gme({children:e}){const[t,n]=Q.useState();return B.createElement(qD.Provider,{value:{showBalance:t,setShowBalance:n}},e)}var wme=()=>Q.useContext(qD);function bme(){const[e,t]=Q.useState(!1);return Q.useEffect(()=>(t(!0),()=>{t(!1)}),[]),Q.useCallback(()=>e,[e])}function WD(){const e=vf(),t=$g.id;return e.some(r=>r.id===t)}function vme(e){const t=WD(),n=s=>{try{return uj(s)}catch{}},{data:r}=Fpe({chainId:$g.id,name:e?n(e):void 0,query:{enabled:t}});return r}async function jc(e,t){if(t={headers:{},method:"get",...t,timeout:t.timeout??1e4},!e)throw new Error("rainbowFetch: Missing url argument");const n=new AbortController,r=setTimeout(()=>n.abort(),t.timeout),{body:s,params:i,headers:o,...a}=t,c=s&&typeof s=="object"?JSON.stringify(t.body):t.body,u=await fetch(`${e}${xme(i)}`,{...a,body:c,headers:{Accept:"application/json","Content-Type":"application/json",...o},signal:n.signal});clearTimeout(r);const l=await Eme(u);if(u.ok){const{headers:h,status:p}=u;return{data:l,headers:h,status:p}}throw Ame({requestBody:s,response:u,responseBody:typeof l=="string"?{error:l}:l})}function Eme(e){const t=e.headers.get("Content-Type");return t!=null&&t.startsWith("application/json")?e.json():e.text()}function xme(e){return e&&Object.keys(e).length?`?${new URLSearchParams(e)}`:""}function Ame({requestBody:e,response:t,responseBody:n}){const r=(n==null?void 0:n.error)||(t==null?void 0:t.statusText)||"There was an error with the request.",s=new Error(r);return s.response=t,s.responseBody=n,s.requestBody=e,s}var Ime=class{constructor(e={}){const{baseUrl:t="",...n}=e;this.baseUrl=t,this.opts=n}get(e,t){return jc(`${this.baseUrl}${e}`,{...this.opts,...t||{},method:"get"})}delete(e,t){return jc(`${this.baseUrl}${e}`,{...this.opts,...t||{},method:"delete"})}head(e,t){return jc(`${this.baseUrl}${e}`,{...this.opts,...t||{},method:"head"})}options(e,t){return jc(`${this.baseUrl}${e}`,{...this.opts,...t||{},method:"options"})}post(e,t,n){return jc(`${this.baseUrl}${e}`,{...this.opts,...n||{},body:t,method:"post"})}put(e,t,n){return jc(`${this.baseUrl}${e}`,{...this.opts,...n||{},body:t,method:"put"})}patch(e,t,n){return jc(`${this.baseUrl}${e}`,{...this.opts,...n||{},body:t,method:"patch"})}};function Sme({baseUrl:e,headers:t,params:n,timeout:r}){return new Ime({baseUrl:e,headers:t,params:n,timeout:r})}var kme=!!(typeof Zf<"u"&&typeof zy<"u"&&zy.RAINBOW_PROVIDER_API_KEY),Cme=Sme({baseUrl:"https://enhanced-provider.rainbow.me",headers:{"x-api-key":typeof Zf<"u"&&typeof zy<"u"&&zy.RAINBOW_PROVIDER_API_KEY||"LzbasoBiLqltex3VkcQ7LRmL4PtfiiZ1EMJrizrgfonWN6byJReu/l6yrUoo3zLW"}});function Tme(e,t,n={}){return[e,t,n]}function xm(e){return`rk-ens-name-${e}`}function _me(e){try{const t=e?JSON.parse(e):null;return typeof t=="object"?t:null}catch{return null}}function Mme(e,t){if(!Pt(e))return;const n=new Date,r=new Date(n.getTime()+180*6e4);localStorage.setItem(xm(e),JSON.stringify({ensName:t,expires:r.getTime()}))}function Bme(e){const t=_me(localStorage.getItem(xm(e)));if(!t)return null;const{ensName:n,expires:r}=t;return typeof n!="string"||Number.isNaN(Number(r))||new Date().getTime()>Number(r)?(localStorage.removeItem(xm(e)),null):n}async function Nme({address:e}){const t=Bme(e);if(t)return t;const r=(await Cme.get("/v1/resolve-ens",{params:{address:e}})).data.data;return r&&Mme(e,r),r}function Ome(e){const t=WD(),{data:n}=Hpe({chainId:$g.id,address:e,query:{enabled:t}}),{data:r}=j_({queryKey:Tme("address",e),queryFn:()=>Nme({address:e}),enabled:!t&&!!e&&kme,staleTime:10*(60*1e3),retry:1});return n||r}function GD({address:e,includeBalance:t}){const n=Ome(e),r=vme(n),{data:s}=MD({address:t?e:void 0});return{ensName:n,ensAvatar:r,balance:s}}function KA(){const{chain:e}=us();return(e==null?void 0:e.id)??null}var VD="rk-transactions";function Pme(e){try{const t=e?JSON.parse(e):{};return typeof t=="object"?t:{}}catch{return{}}}function vk(){return Pme(typeof localStorage<"u"?localStorage.getItem(VD):null)}var jme=/^0x([A-Fa-f0-9]{64})$/;function Rme(e){const t=[];return jme.test(e.hash)||t.push("Invalid transaction hash"),typeof e.description!="string"&&t.push("Transaction must have a description"),typeof e.confirmations<"u"&&(!Number.isInteger(e.confirmations)||e.confirmations<1)&&t.push("Transaction confirmations must be a positiver integer"),t}function Dme({provider:e}){let t=vk(),n=e;const r=new Set,s=new Set,i=new Map;function o(I){n=I}function a(I,v){var E;return((E=t[I])==null?void 0:E[v])??[]}function c(I,v,E){const S=Rme(E);if(S.length>0)throw new Error(["Unable to add transaction",...S].join(`
`));d(I,v,N=>[{...E,status:"pending"},...N.filter(({hash:O})=>O!==E.hash)])}function u(I,v){d(I,v,()=>[])}function l(I,v,E,S){d(I,v,N=>N.map(O=>O.hash===E?{...O,status:S}:O))}async function f(I,v){await Promise.all(a(I,v).filter(E=>E.status==="pending").map(async E=>{const{confirmations:S,hash:N}=E,O=i.get(N);if(O)return await O;const z=n.waitForTransactionReceipt({confirmations:S,hash:N,timeout:3e5}).then(({status:L})=>{i.delete(N),L!==void 0&&(l(I,v,N,L===0||L==="reverted"?"failed":"confirmed"),m(L))}).catch(()=>{l(I,v,N,"failed")});return i.set(N,z),await z}))}function d(I,v,E){t=vk(),t[I]=t[I]??{};let S=0;const N=10,O=E(t[I][v]??[]).filter(({status:z})=>z==="pending"?!0:S++<=N);t[I][v]=O.length>0?O:void 0,h(),p(),f(I,v)}function h(){localStorage.setItem(VD,JSON.stringify(t))}function p(){for(const I of r)I()}function m(I){for(const v of s)v(I)}function y(I){return r.add(I),()=>{r.delete(I)}}function b(I){return s.add(I),()=>{s.delete(I)}}return{addTransaction:c,clearTransactions:u,getTransactions:a,onTransactionStatus:b,onChange:y,setProvider:o,waitForPendingTransactions:f}}var Ek,KD=B.createContext(null);function Ume({children:e}){const t=qpe(),{address:n}=us(),r=KA(),{refetch:s}=MD({address:n,query:{enabled:!1}}),[i]=B.useState(()=>Ek??(Ek=Dme({provider:t}))),o=B.useCallback(a=>{a==="success"&&s()},[s]);return B.useEffect(()=>{i.setProvider(t)},[i,t]),B.useEffect(()=>{n&&r&&i.waitForPendingTransactions(n,r)},[i,n,r]),B.useEffect(()=>{if(i&&n&&r)return i.onTransactionStatus(o)},[i,n,r,o]),B.createElement(KD.Provider,{value:i},e)}function QD(){const e=B.useContext(KD);if(!e)throw new Error("Transaction hooks must be used within RainbowKitProvider");return e}function YD(){const e=QD(),{address:t}=us(),n=KA(),[r,s]=Q.useState(()=>e&&t&&n?e.getTransactions(t,n):[]);return Q.useEffect(()=>{if(e&&t&&n)return s(e.getTransactions(t,n)),e.onChange(()=>{s(e.getTransactions(t,n))})},[e,t,n]),r}var xk=e=>typeof e=="function"?e():e;function Lme(e,{extends:t}={}){const n={...qS(ek,xk(e))};if(!t)return n;const r=qS(ek,xk(t));return Object.fromEntries(Object.entries(n).filter(([i,o])=>o!==r[i]))}function Ak(e,t={}){return Object.entries(Lme(e,t)).map(([n,r])=>`${n}:${r.replace(/[:;{}</>]/g,"")};`).join("")}var ZD={appName:void 0,disclaimer:void 0,learnMoreUrl:"https://learn.rainbow.me/understanding-web3?utm_source=rainbowkit&utm_campaign=learnmore"},e0=Q.createContext(ZD),XD=Q.createContext(!1);function $me(e,t){let n;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{n=null,e()},t)}}var JD=()=>{const[e,t]=Q.useState({height:void 0,width:void 0});return Q.useEffect(()=>{const n=$me(()=>{t({height:window.innerHeight,width:window.innerWidth})},500);return window.addEventListener("resize",n),n(),()=>window.removeEventListener("resize",n)},[]),e},t0=Q.createContext({connector:null,setConnector:()=>{}});function zme({children:e}){const[t,n]=Q.useState(null);return B.createElement(t0.Provider,{value:Q.useMemo(()=>({connector:t,setConnector:n}),[t])},e)}var n0={COMPACT:"compact",WIDE:"wide"},kw=Q.createContext(n0.WIDE);function Fme({children:e,modalSize:t}){const{width:n}=JD(),r=n&&n<P0e,{connector:s}=Q.useContext(t0);return B.createElement(kw.Provider,{value:r||s?n0.COMPACT:t},e)}var QA=Q.createContext(!1),Hme="rk-version";function qme({version:e}){localStorage.setItem(Hme,e)}function Wme(){const e=Q.useCallback(()=>{qme({version:"2.2.9"})},[]);Q.useEffect(()=>{e()},[e])}function Gme(e,t){const n={};for(const r of e){const s=t(r);s&&(n[s]=r)}return n}function YA(){return typeof navigator<"u"&&typeof navigator.userAgent<"u"&&/Version\/([0-9._]+).*Safari/.test(navigator.userAgent)}function Vme(){return typeof document<"u"&&getComputedStyle(document.body).getPropertyValue("--arc-palette-focus")!==""}function ZA(){var t,n;if(typeof navigator>"u")return"Browser";const e=(t=navigator.userAgent)==null?void 0:t.toLowerCase();return(n=navigator.brave)!=null&&n.isBrave?"Brave":(e==null?void 0:e.indexOf("edg/"))>-1?"Edge":(e==null?void 0:e.indexOf("op"))>-1?"Opera":Vme()?"Arc":(e==null?void 0:e.indexOf("chrome"))>-1?"Chrome":(e==null?void 0:e.indexOf("firefox"))>-1?"Firefox":YA()?"Safari":"Browser"}var Kme=o0e.UAParser(),{os:XA}=Kme;function Qme(){return XA.name==="Windows"}function Yme(){return XA.name==="Mac OS"}function Zme(){return["Ubuntu","Mint","Fedora","Debian","Arch","Linux"].includes(XA.name)}function JA(){return Qme()?"Windows":Yme()?"macOS":Zme()?"Linux":"Desktop"}var Xme=e=>{var n,r,s,i,o,a,c,u,l,f,d;const t=ZA();return{Arc:(n=e==null?void 0:e.downloadUrls)==null?void 0:n.chrome,Brave:(r=e==null?void 0:e.downloadUrls)==null?void 0:r.chrome,Chrome:(s=e==null?void 0:e.downloadUrls)==null?void 0:s.chrome,Edge:((i=e==null?void 0:e.downloadUrls)==null?void 0:i.edge)||((o=e==null?void 0:e.downloadUrls)==null?void 0:o.chrome),Firefox:(a=e==null?void 0:e.downloadUrls)==null?void 0:a.firefox,Opera:((c=e==null?void 0:e.downloadUrls)==null?void 0:c.opera)||((u=e==null?void 0:e.downloadUrls)==null?void 0:u.chrome),Safari:(l=e==null?void 0:e.downloadUrls)==null?void 0:l.safari,Browser:(f=e==null?void 0:e.downloadUrls)==null?void 0:f.browserExtension}[t]??((d=e==null?void 0:e.downloadUrls)==null?void 0:d.browserExtension)},Jme=e=>{var n,r,s;return(Jp()?(n=e==null?void 0:e.downloadUrls)==null?void 0:n.ios:(r=e==null?void 0:e.downloadUrls)==null?void 0:r.android)??((s=e==null?void 0:e.downloadUrls)==null?void 0:s.mobile)},eye=e=>{var n,r,s,i,o;const t=JA();return{Windows:(n=e==null?void 0:e.downloadUrls)==null?void 0:n.windows,macOS:(r=e==null?void 0:e.downloadUrls)==null?void 0:r.macos,Linux:(s=e==null?void 0:e.downloadUrls)==null?void 0:s.linux,Desktop:(i=e==null?void 0:e.downloadUrls)==null?void 0:i.desktop}[t]??((o=e==null?void 0:e.downloadUrls)==null?void 0:o.desktop)},e9=(e,t)=>e.some(n=>n.id===t),tye=e=>!!e.isRainbowKitConnector,Ik=e=>{var t;return!!(!e.isRainbowKitConnector&&((t=e.icon)!=null&&t.replace(/\n/g,"").startsWith("data:image"))&&e.uid&&e.name)},nye=(e,t)=>e.id==="walletConnect"&&t?{...e,walletConnectModalConnector:t}:e,rye=({wallets:e,recentWallets:t})=>[...t,...e.filter(n=>!e9(t,n.id))],t9="rk-recent";function sye(e){try{const t=e?JSON.parse(e):[];return Array.isArray(t)?t:[]}catch{return[]}}function n9(){return typeof localStorage<"u"?sye(localStorage.getItem(t9)):[]}function iye(e){return[...new Set(e)]}function oye(e){const t=iye([e,...n9()]);localStorage.setItem(t9,JSON.stringify(t))}function Zh(e=!1){var E,S,N;const t=vf(),n=mme(),{connectAsync:r,connectors:s}=$pe(),i=s,{setIsWalletConnectModalOpen:o}=C9(),a=i.map(O=>({...O,...O.rkDetails||{}}));async function c(O,z){var H,G;const L=await O.getChainId(),F=await r({...z,chainId:(z==null?void 0:z.chainId)??n??((H=t.find(({id:M})=>M===L))==null?void 0:H.id)??((G=t[0])==null?void 0:G.id),connector:O});return F&&oye(O.id),F}async function u(O){try{o(!0),await c(O),o(!1)}catch(z){const L=z.name==="UserRejectedRequestError"||z.message==="Connection request reset. Please try again.";if(o(!1),!L)throw z}}const l=async(O,z)=>{const L=await O.getProvider();return O.id==="coinbase"?L.qrUrl:new Promise(F=>L.once("display_uri",H=>{F(z(H))}))},f=a.find(O=>O.id==="walletConnect"&&O.isWalletConnectModalConnector),d=a.filter(Ik).map(O=>({...O,groupIndex:0})),h=a.filter(tye).filter(O=>!O.isWalletConnectModalConnector).filter(O=>e?!d.some(L=>L.id===O.rdns):!0).map(O=>nye(O,f)),p=[...d,...h],m=Gme(p,O=>O.id),b=n9().map(O=>m[O]).filter(Boolean).slice(0,3),I=[],v=rye({wallets:p,recentWallets:b});for(const O of v){if(!O)continue;const z=Ik(O),L=e9(b,O.id);if(z){I.push({...O,iconUrl:O.icon,ready:!0,connect:c.bind(null,O),groupName:"Installed",recent:L});continue}I.push({...O,ready:O.installed??!0,connect:c.bind(null,O),desktopDownloadUrl:eye(O),extensionDownloadUrl:Xme(O),groupName:O.groupName,mobileDownloadUrl:Jme(O),getQrCodeUri:(E=O.qrCode)!=null&&E.getUri?()=>l(O,O.qrCode.getUri):void 0,getDesktopUri:(S=O.desktop)!=null&&S.getUri?()=>l(O,O.desktop.getUri):void 0,getMobileUri:(N=O.mobile)!=null&&N.getUri?()=>{var F;return l(O,(F=O.mobile)==null?void 0:F.getUri)}:void 0,recent:L,showWalletConnectModal:O.walletConnectModalConnector?()=>u(O.walletConnectModalConnector):void 0})}return I}var r9=async()=>(await we(async()=>{const{default:e}=await import("./assets-Q6ZU7ZJ5-P8HioiAD.js");return{default:e}},[])).default,aye=()=>xo(r9),cye=()=>B.createElement(xr,{background:"#d0d5de",borderRadius:"10",height:"48",src:r9,width:"48"}),s9=async()=>(await we(async()=>{const{default:e}=await import("./login-UP3DZBGS-Db_wM5oQ.js");return{default:e}},[])).default,uye=()=>xo(s9),lye=()=>B.createElement(xr,{background:"#d0d5de",borderRadius:"10",height:"48",src:s9,width:"48"}),Fe=B.forwardRef(({as:e="div",children:t,className:n,color:r,display:s,font:i="body",id:o,size:a="16",style:c,tabIndex:u,textAlign:l="inherit",weight:f="regular",testId:d},h)=>B.createElement(K,{as:e,className:n,color:r,display:s,fontFamily:i,fontSize:a,fontWeight:f,id:o,ref:h,style:c,tabIndex:u,textAlign:l,testId:d},t));Fe.displayName="Text";var dye={large:{fontSize:"16",paddingX:"24",paddingY:"10"},medium:{fontSize:"14",height:"28",paddingX:"12",paddingY:"4"},small:{fontSize:"14",paddingX:"10",paddingY:"5"}};function rs({disabled:e=!1,href:t,label:n,onClick:r,rel:s="noreferrer noopener",size:i="medium",target:o="_blank",testId:a,type:c="primary"}){const u=c==="primary",l=i!=="large",f=er(),d=e?"actionButtonSecondaryBackground":u?"accentColor":l?"actionButtonSecondaryBackground":null,{fontSize:h,height:p,paddingX:m,paddingY:y}=dye[i],b=!f||!l;return B.createElement(K,{...t?e?{}:{as:"a",href:t,rel:s,target:o}:{as:"button",type:"button"},onClick:e?void 0:r,...b?{borderColor:f&&!l&&!u?"actionButtonBorderMobile":"actionButtonBorder",borderStyle:"solid",borderWidth:"1"}:{},borderRadius:"actionButton",className:!e&&kr({active:"shrinkSm",hover:"grow"}),display:"block",paddingX:m,paddingY:y,style:{willChange:"transform"},testId:a,textAlign:"center",transition:"transform",...d?{background:d}:{},...p?{height:p}:{}},B.createElement(Fe,{color:e?"modalTextSecondary":u?"accentColorForeground":"accentColor",size:h,weight:"bold"},n))}var fye=()=>er()?B.createElement("svg",{"aria-hidden":!0,fill:"none",height:"11.5",viewBox:"0 0 11.5 11.5",width:"11.5",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Close"),B.createElement("path",{d:"M2.13388 0.366117C1.64573 -0.122039 0.854272 -0.122039 0.366117 0.366117C-0.122039 0.854272 -0.122039 1.64573 0.366117 2.13388L3.98223 5.75L0.366117 9.36612C-0.122039 9.85427 -0.122039 10.6457 0.366117 11.1339C0.854272 11.622 1.64573 11.622 2.13388 11.1339L5.75 7.51777L9.36612 11.1339C9.85427 11.622 10.6457 11.622 11.1339 11.1339C11.622 10.6457 11.622 9.85427 11.1339 9.36612L7.51777 5.75L11.1339 2.13388C11.622 1.64573 11.622 0.854272 11.1339 0.366117C10.6457 -0.122039 9.85427 -0.122039 9.36612 0.366117L5.75 3.98223L2.13388 0.366117Z",fill:"currentColor"})):B.createElement("svg",{"aria-hidden":!0,fill:"none",height:"10",viewBox:"0 0 10 10",width:"10",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Close"),B.createElement("path",{d:"M1.70711 0.292893C1.31658 -0.0976311 0.683417 -0.0976311 0.292893 0.292893C-0.0976311 0.683417 -0.0976311 1.31658 0.292893 1.70711L3.58579 5L0.292893 8.29289C-0.0976311 8.68342 -0.0976311 9.31658 0.292893 9.70711C0.683417 10.0976 1.31658 10.0976 1.70711 9.70711L5 6.41421L8.29289 9.70711C8.68342 10.0976 9.31658 10.0976 9.70711 9.70711C10.0976 9.31658 10.0976 8.68342 9.70711 8.29289L6.41421 5L9.70711 1.70711C10.0976 1.31658 10.0976 0.683417 9.70711 0.292893C9.31658 -0.0976311 8.68342 -0.0976311 8.29289 0.292893L5 3.58579L1.70711 0.292893Z",fill:"currentColor"})),Uu=({"aria-label":e="Close",onClose:t})=>{const n=er();return B.createElement(K,{alignItems:"center","aria-label":e,as:"button",background:"closeButtonBackground",borderColor:"actionButtonBorder",borderRadius:"full",borderStyle:"solid",borderWidth:n?"0":"1",className:kr({active:"shrinkSm",hover:"growLg"}),color:"closeButton",display:"flex",height:n?"30":"28",justifyContent:"center",onClick:t,style:{willChange:"transform"},transition:"default",type:"button",width:n?"30":"28"},B.createElement(fye,null))},i9=async()=>(await we(async()=>{const{default:e}=await import("./sign-A7IJEUT5-CGsRnPrd.js");return{default:e}},[])).default;function hye({onClose:e,onCloseModal:t}){const{i18n:n}=Q.useContext(rr),[{status:r,...s},i]=B.useState({status:"idle"}),o=L0e(),a=Q.useCallback(async()=>{try{const p=await o.getNonce();i(m=>({...m,nonce:p}))}catch{i(p=>({...p,errorMessage:n.t("sign_in.message.preparing_error"),status:"idle"}))}},[o,n.t]),c=Q.useRef(!1);B.useEffect(()=>{c.current||(c.current=!0,a())},[a]);const u=er(),{address:l,chain:f}=us(),{signMessageAsync:d}=Wpe(),h=async()=>{try{const p=f==null?void 0:f.id,{nonce:m}=s;if(!l||!p||!m)return;i(I=>({...I,errorMessage:void 0,status:"signing"}));const y=o.createMessage({address:l,chainId:p,nonce:m});let b;try{b=await d({message:y})}catch(I){return I instanceof wt?i(v=>({...v,status:"idle"})):i(v=>({...v,errorMessage:n.t("sign_in.signature.signing_error"),status:"idle"}))}i(I=>({...I,status:"verifying"}));try{if(await o.verify({message:y,signature:b})){t();return}throw new Error}catch{return i(I=>({...I,errorMessage:n.t("sign_in.signature.verifying_error"),status:"idle"}))}}catch{i({errorMessage:n.t("sign_in.signature.oops_error"),status:"idle"})}};return B.createElement(K,{position:"relative"},B.createElement(K,{display:"flex",paddingRight:"16",paddingTop:"16",position:"absolute",right:"0"},B.createElement(Uu,{onClose:e})),B.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",gap:u?"32":"24",padding:"24",paddingX:"18",style:{paddingTop:u?"60px":"36px"}},B.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",gap:u?"6":"4",style:{maxWidth:u?320:280}},B.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",gap:u?"32":"16"},B.createElement(xr,{height:40,src:i9,width:40}),B.createElement(Fe,{color:"modalText",size:u?"20":"18",textAlign:"center",weight:"heavy"},n.t("sign_in.label"))),B.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",gap:u?"16":"12"},B.createElement(Fe,{color:"modalTextSecondary",size:u?"16":"14",textAlign:"center"},n.t("sign_in.description")),r==="idle"&&s.errorMessage?B.createElement(Fe,{color:"error",size:u?"16":"14",textAlign:"center",weight:"bold"},s.errorMessage):null)),B.createElement(K,{alignItems:u?void 0:"center",display:"flex",flexDirection:"column",gap:"8",width:"full"},B.createElement(rs,{disabled:!s.nonce||r==="signing"||r==="verifying",label:s.nonce?r==="signing"?n.t("sign_in.signature.waiting"):r==="verifying"?n.t("sign_in.signature.verifying"):n.t("sign_in.message.send"):n.t("sign_in.message.preparing"),onClick:h,size:u?"large":"medium",testId:"auth-message-button"}),u?B.createElement(rs,{label:"Cancel",onClick:e,size:"large",type:"secondary"}):B.createElement(K,{as:"button",borderRadius:"full",className:kr({active:"shrink",hover:"grow"}),display:"block",onClick:e,paddingX:"10",paddingY:"5",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},B.createElement(Fe,{color:"closeButton",size:u?"16":"14",weight:"bold"},n.t("sign_in.message.cancel"))))))}function pye(){const e=vf(),t=Zh(),n=Iw()==="unauthenticated",r=Q.useCallback(()=>{xo(...t.map(s=>s.iconUrl),...e.map(s=>s.iconUrl).filter(HD)),er()||(aye(),uye()),n&&xo(i9)},[t,e,n]);Q.useEffect(()=>{r()},[r])}var o9="WALLETCONNECT_DEEPLINK_CHOICE";function mye({mobileUri:e,name:t}){localStorage.setItem(o9,JSON.stringify({href:e.split("?")[0],name:t}))}function yye(){localStorage.removeItem(o9)}var a9=Q.createContext(void 0),aE="data-rk",c9=e=>({[aE]:e||""}),gye=e=>{if(e&&!/^[a-zA-Z0-9_]+$/.test(e))throw new Error(`Invalid ID: ${e}`);return e?`[${aE}="${e}"]`:`[${aE}]`},wye=()=>{const e=Q.useContext(a9);return c9(e)},bye=fD();function Eve({appInfo:e,avatar:t,children:n,coolMode:r=!1,id:s,initialChain:i,locale:o,modalSize:a=n0.WIDE,showRecentTransactions:c=!1,theme:u=bye}){if(pye(),Wme(),_D({onDisconnect:yye}),typeof u=="function")throw new Error('A theme function was provided to the "theme" prop instead of a theme object. You must execute this function to get the resulting theme object.');const l=gye(s),f={...ZD,...e},d=t??zD;return B.createElement(pme,{initialChain:i},B.createElement(zme,null,B.createElement(nme,{locale:o},B.createElement(XD.Provider,{value:r},B.createElement(Fme,{modalSize:a},B.createElement(QA.Provider,{value:c},B.createElement(Ume,null,B.createElement(FD.Provider,{value:d},B.createElement(e0.Provider,{value:f},B.createElement(a9.Provider,{value:s},B.createElement(gme,null,B.createElement(Oge,null,u?B.createElement("div",{...c9(s)},B.createElement("style",{dangerouslySetInnerHTML:{__html:[`${l}{${Ak("lightMode"in u?u.lightMode:u)}}`,"darkMode"in u?`@media(prefers-color-scheme:dark){${l}{${Ak(u.darkMode,{extends:u.lightMode})}}}`:null].join("")}}),n):n))))))))))))}var vye="_9pm4ki5 ju367va ju367v15 ju367v8r",Eye="_9pm4ki3 ju367v9h ju367vb3 ju367va ju367v2q ju367v8q",Sk=(e,t)=>{const n=e.querySelectorAll("button:not(:disabled), a[href]");n.length!==0&&n[t==="end"?n.length-1:0].focus()};function xye(e){const t=Q.useRef(null);return Q.useEffect(()=>{const n=document.activeElement;return()=>{var r;(r=n.focus)==null||r.call(n)}},[]),Q.useEffect(()=>{if(t.current){const n=t.current.querySelector("[data-auto-focus]");n?n.focus():t.current.focus()}},[]),B.createElement(B.Fragment,null,B.createElement("div",{onFocus:Q.useCallback(()=>t.current&&Sk(t.current,"end"),[]),tabIndex:0}),B.createElement("div",{ref:t,style:{outline:"none"},tabIndex:-1,...e}),B.createElement("div",{onFocus:Q.useCallback(()=>t.current&&Sk(t.current,"start"),[]),tabIndex:0}))}var Aye=e=>e.stopPropagation();function Fy({children:e,onClose:t,open:n,titleId:r}){Q.useEffect(()=>{const u=l=>n&&l.key==="Escape"&&t();return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[n,t]);const[s,i]=Q.useState(!0);Q.useEffect(()=>{i(getComputedStyle(window.document.body).overflow!=="hidden")},[]);const o=Q.useCallback(()=>t(),[t]),a=wye(),c=er();return B.createElement(B.Fragment,null,n?aU.createPortal(B.createElement(jD,{enabled:s},B.createElement(K,{...a},B.createElement(K,{...a,alignItems:c?"flex-end":"center","aria-labelledby":r,"aria-modal":!0,className:Eye,onClick:o,position:"fixed",role:"dialog"},B.createElement(xye,{className:vye,onClick:Aye,role:"document"},e)))),document.body):null)}var Iye="_1ckjpok7",Sye="_1ckjpok1 ju367vb6 ju367vdr ju367vp ju367vt ju367vv ju367vel ju367va ju367v15 ju367v6c ju367v8r",kye="_1ckjpok4 _1ckjpok1 ju367vb6 ju367vdr ju367vp ju367vt ju367vv ju367vel ju367va ju367v15 ju367v6c ju367v8r",Cye="_1ckjpok6 ju367vq",Tye="_1ckjpok3 _1ckjpok1 ju367vb6 ju367vdr ju367vp ju367vt ju367vv ju367vel ju367va ju367v15 ju367v6c ju367v8r",_ye="_1ckjpok2 _1ckjpok1 ju367vb6 ju367vdr ju367vp ju367vt ju367vv ju367vel ju367va ju367v15 ju367v6c ju367v8r";function Hy({bottomSheetOnMobile:e=!1,children:t,marginTop:n,padding:r="16",paddingBottom:s,wide:i=!1}){const o=er(),c=Q.useContext(kw)===n0.COMPACT;return B.createElement(K,{marginTop:n},B.createElement(K,{className:[i?o?_ye:c?kye:Tye:Sye,o?Cye:null,o&&e?Iye:null].join(" ")},B.createElement(K,{padding:r,paddingBottom:s??r},t)))}var kk=["k","m","b","t"];function G0(e,t=1){return e.toString().replace(new RegExp(`(.+\\.\\d{${t}})\\d+`),"$1").replace(/(\.[1-9]*)0+$/,"$1").replace(/\.$/,"")}function u9(e){if(e<1)return G0(e,3);if(e<10**2)return G0(e,2);if(e<10**4)return new Intl.NumberFormat().format(Number.parseFloat(G0(e,1)));const t=10**1;let n=String(e);for(let r=kk.length-1;r>=0;r--){const s=10**((r+1)*3);if(s<=e){e=e*t/s/t,n=G0(e,1)+kk[r];break}}return n}function l9(e){return e.length<8?e:`${e.substring(0,4)}${e.substring(e.length-4)}`}function d9(e){if(!e)return"";const t=e.split("."),n=t.pop();return t.join(".").length>24?`${t.join(".").substring(0,24)}...`:`${t.join(".")}.${n}`}var Mye=()=>B.createElement("svg",{fill:"none",height:"13",viewBox:"0 0 13 13",width:"13",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Copied"),B.createElement("path",{d:"M4.94568 12.2646C5.41052 12.2646 5.77283 12.0869 6.01892 11.7109L12.39 1.96973C12.5677 1.69629 12.6429 1.44336 12.6429 1.2041C12.6429 0.561523 12.1644 0.0966797 11.5082 0.0966797C11.057 0.0966797 10.7767 0.260742 10.5033 0.691406L4.9115 9.50977L2.07458 5.98926C1.82166 5.68848 1.54822 5.55176 1.16541 5.55176C0.502319 5.55176 0.0238037 6.02344 0.0238037 6.66602C0.0238037 6.95312 0.112671 7.20605 0.358765 7.48633L3.88611 11.7588C4.18005 12.1074 4.50818 12.2646 4.94568 12.2646Z",fill:"currentColor"})),Bye=()=>B.createElement("svg",{fill:"none",height:"16",viewBox:"0 0 17 16",width:"17",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Copy"),B.createElement("path",{d:"M3.04236 12.3027H4.18396V13.3008C4.18396 14.8525 5.03845 15.7002 6.59705 15.7002H13.6244C15.183 15.7002 16.0375 14.8525 16.0375 13.3008V6.24609C16.0375 4.69434 15.183 3.84668 13.6244 3.84668H12.4828V2.8418C12.4828 1.29688 11.6283 0.442383 10.0697 0.442383H3.04236C1.48376 0.442383 0.629272 1.29004 0.629272 2.8418V9.90332C0.629272 11.4551 1.48376 12.3027 3.04236 12.3027ZM3.23376 10.5391C2.68689 10.5391 2.39294 10.2656 2.39294 9.68457V3.06055C2.39294 2.47949 2.68689 2.21289 3.23376 2.21289H9.8783C10.4252 2.21289 10.7191 2.47949 10.7191 3.06055V3.84668H6.59705C5.03845 3.84668 4.18396 4.69434 4.18396 6.24609V10.5391H3.23376ZM6.78845 13.9365C6.24158 13.9365 5.94763 13.6699 5.94763 13.0889V6.45801C5.94763 5.87695 6.24158 5.61035 6.78845 5.61035H13.433C13.9799 5.61035 14.2738 5.87695 14.2738 6.45801V13.0889C14.2738 13.6699 13.9799 13.9365 13.433 13.9365H6.78845Z",fill:"currentColor"})),Nye=()=>B.createElement("svg",{fill:"none",height:"16",viewBox:"0 0 18 16",width:"18",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Disconnect"),B.createElement("path",{d:"M2.67834 15.5908H9.99963C11.5514 15.5908 12.399 14.7432 12.399 13.1777V10.2656H10.6354V12.9863C10.6354 13.5332 10.3688 13.8271 9.78772 13.8271H2.89026C2.3092 13.8271 2.0426 13.5332 2.0426 12.9863V3.15625C2.0426 2.60254 2.3092 2.30859 2.89026 2.30859H9.78772C10.3688 2.30859 10.6354 2.60254 10.6354 3.15625V5.89746H12.399V2.95801C12.399 1.39941 11.5514 0.544922 9.99963 0.544922H2.67834C1.12659 0.544922 0.278931 1.39941 0.278931 2.95801V13.1777C0.278931 14.7432 1.12659 15.5908 2.67834 15.5908ZM7.43616 8.85059H14.0875L15.0924 8.78906L14.566 9.14453L13.6842 9.96484C13.5406 10.1016 13.4586 10.2861 13.4586 10.4844C13.4586 10.8398 13.7321 11.168 14.1217 11.168C14.3199 11.168 14.4635 11.0928 14.6002 10.9561L16.7809 8.68652C16.986 8.48145 17.0543 8.27637 17.0543 8.06445C17.0543 7.85254 16.986 7.64746 16.7809 7.43555L14.6002 5.17285C14.4635 5.03613 14.3199 4.9541 14.1217 4.9541C13.7321 4.9541 13.4586 5.27539 13.4586 5.6377C13.4586 5.83594 13.5406 6.02734 13.6842 6.15723L14.566 6.98438L15.0924 7.33984L14.0875 7.27148H7.43616C7.01917 7.27148 6.65686 7.62012 6.65686 8.06445C6.65686 8.50195 7.01917 8.85059 7.43616 8.85059Z",fill:"currentColor"}));function Oye(){const e=QD(),{address:t}=us(),n=KA();return Q.useCallback(()=>{if(!t||!n)throw new Error("No address or chain ID found");e.clearTransactions(t,n)},[e,t,n])}var f9=e=>{var t,n;return(n=(t=e==null?void 0:e.blockExplorers)==null?void 0:t.default)==null?void 0:n.url},h9=()=>B.createElement("svg",{fill:"none",height:"19",viewBox:"0 0 20 19",width:"20",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Link"),B.createElement("path",{d:"M10 18.9443C15.0977 18.9443 19.2812 14.752 19.2812 9.6543C19.2812 4.56543 15.0889 0.373047 10 0.373047C4.90234 0.373047 0.71875 4.56543 0.71875 9.6543C0.71875 14.752 4.91113 18.9443 10 18.9443ZM10 16.6328C6.1416 16.6328 3.03906 13.5215 3.03906 9.6543C3.03906 5.7959 6.13281 2.68457 10 2.68457C13.8584 2.68457 16.9697 5.7959 16.9697 9.6543C16.9785 13.5215 13.8672 16.6328 10 16.6328ZM12.7158 12.1416C13.2432 12.1416 13.5684 11.7549 13.5684 11.1836V7.19336C13.5684 6.44629 13.1377 6.05957 12.417 6.05957H8.40918C7.8291 6.05957 7.45117 6.38477 7.45117 6.91211C7.45117 7.43945 7.8291 7.77344 8.40918 7.77344H9.69238L10.7207 7.63281L9.53418 8.67871L6.73047 11.4912C6.53711 11.6758 6.41406 11.9395 6.41406 12.2031C6.41406 12.7832 6.85352 13.1699 7.39844 13.1699C7.68848 13.1699 7.92578 13.0732 8.1543 12.8623L10.9316 10.0762L11.9775 8.89844L11.8545 9.98828V11.1836C11.8545 11.7725 12.1885 12.1416 12.7158 12.1416Z",fill:"currentColor"})),Pye=()=>B.createElement("svg",{fill:"none",height:"19",viewBox:"0 0 20 19",width:"20",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Cancel"),B.createElement("path",{d:"M10 18.9443C15.0977 18.9443 19.2812 14.752 19.2812 9.6543C19.2812 4.56543 15.0889 0.373047 10 0.373047C4.90234 0.373047 0.71875 4.56543 0.71875 9.6543C0.71875 14.752 4.91113 18.9443 10 18.9443ZM10 16.6328C6.1416 16.6328 3.03906 13.5215 3.03906 9.6543C3.03906 5.7959 6.13281 2.68457 10 2.68457C13.8584 2.68457 16.9697 5.7959 16.9697 9.6543C16.9785 13.5215 13.8672 16.6328 10 16.6328ZM7.29297 13.3018C7.58301 13.3018 7.81152 13.2139 7.99609 13.0205L10 11.0166L12.0127 13.0205C12.1973 13.2051 12.4258 13.3018 12.707 13.3018C13.2432 13.3018 13.6562 12.8887 13.6562 12.3525C13.6562 12.0977 13.5508 11.8691 13.3662 11.6934L11.3535 9.67188L13.375 7.6416C13.5596 7.44824 13.6562 7.22852 13.6562 6.98242C13.6562 6.44629 13.2432 6.0332 12.7158 6.0332C12.4346 6.0332 12.2148 6.12109 12.0215 6.31445L10 8.32715L7.9873 6.32324C7.80273 6.12988 7.58301 6.04199 7.29297 6.04199C6.76562 6.04199 6.35254 6.45508 6.35254 6.99121C6.35254 7.2373 6.44922 7.46582 6.63379 7.6416L8.65527 9.67188L6.63379 11.6934C6.44922 11.8691 6.35254 12.1064 6.35254 12.3525C6.35254 12.8887 6.76562 13.3018 7.29297 13.3018Z",fill:"currentColor"})),jye=()=>B.createElement("svg",{fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Success"),B.createElement("path",{d:"M10 19.4443C15.0977 19.4443 19.2812 15.252 19.2812 10.1543C19.2812 5.06543 15.0889 0.873047 10 0.873047C4.90234 0.873047 0.71875 5.06543 0.71875 10.1543C0.71875 15.252 4.91113 19.4443 10 19.4443ZM10 17.1328C6.1416 17.1328 3.03906 14.0215 3.03906 10.1543C3.03906 6.2959 6.13281 3.18457 10 3.18457C13.8584 3.18457 16.9697 6.2959 16.9697 10.1543C16.9785 14.0215 13.8672 17.1328 10 17.1328ZM9.07715 14.3379C9.4375 14.3379 9.7627 14.1533 9.97363 13.8369L13.7441 8.00977C13.8848 7.79883 13.9814 7.5791 13.9814 7.36816C13.9814 6.84961 13.5244 6.48926 13.0322 6.48926C12.707 6.48926 12.4258 6.66504 12.2148 7.0166L9.05957 12.0967L7.5918 10.2949C7.37207 10.0225 7.13477 9.9082 6.84473 9.9082C6.33496 9.9082 5.92188 10.3125 5.92188 10.8223C5.92188 11.0684 6.00098 11.2793 6.18555 11.5078L8.1543 13.8545C8.40918 14.1709 8.70801 14.3379 9.07715 14.3379Z",fill:"currentColor"})),Rye=e=>{switch(e){case"pending":return Yh;case"confirmed":return jye;case"failed":return Pye;default:return Yh}};function Dye({tx:e}){const t=er(),n=Rye(e.status),r=e.status==="failed"?"error":"accentColor",{chain:s}=us(),i=e.status==="confirmed"?"Confirmed":e.status==="failed"?"Failed":"Pending",o=f9(s);return B.createElement(B.Fragment,null,B.createElement(K,{...o?{as:"a",background:{hover:"profileForeground"},borderRadius:"menuButton",className:kr({active:"shrink"}),href:`${o}/tx/${e.hash}`,rel:"noreferrer noopener",target:"_blank",transition:"default"}:{},color:"modalText",display:"flex",flexDirection:"row",justifyContent:"space-between",padding:"8",width:"full"},B.createElement(K,{alignItems:"center",display:"flex",flexDirection:"row",gap:t?"16":"14"},B.createElement(K,{color:r},B.createElement(n,null)),B.createElement(K,{display:"flex",flexDirection:"column",gap:t?"3":"1"},B.createElement(K,null,B.createElement(Fe,{color:"modalText",font:"body",size:t?"16":"14",weight:"bold"},e==null?void 0:e.description)),B.createElement(K,null,B.createElement(Fe,{color:e.status==="pending"?"modalTextSecondary":r,font:"body",size:"14",weight:t?"medium":"regular"},i)))),o&&B.createElement(K,{alignItems:"center",color:"modalTextDim",display:"flex"},B.createElement(h9,null))))}var Uye=3;function Lye({address:e}){const t=YD(),n=Oye(),{chain:r}=us(),s=f9(r),i=t.slice(0,Uye),o=i.length>0,a=er(),{appName:c}=Q.useContext(e0),{i18n:u}=Q.useContext(rr);return B.createElement(B.Fragment,null,B.createElement(K,{display:"flex",flexDirection:"column",gap:"10",paddingBottom:"2",paddingTop:"16",paddingX:a?"8":"18"},o&&B.createElement(K,{paddingBottom:a?"4":"0",paddingTop:"8",paddingX:a?"12":"6"},B.createElement(K,{display:"flex",justifyContent:"space-between"},B.createElement(Fe,{color:"modalTextSecondary",size:a?"16":"14",weight:"semibold"},u.t("profile.transactions.recent.title")),B.createElement(K,{style:{marginBottom:-6,marginLeft:-10,marginRight:-10,marginTop:-6}},B.createElement(K,{as:"button",background:{hover:"profileForeground"},borderRadius:"actionButton",className:kr({active:"shrink"}),onClick:n,paddingX:a?"8":"12",paddingY:a?"4":"5",transition:"default",type:"button"},B.createElement(Fe,{color:"modalTextSecondary",size:a?"16":"14",weight:"semibold"},u.t("profile.transactions.clear.label")))))),B.createElement(K,{display:"flex",flexDirection:"column",gap:"4"},o?i.map(l=>B.createElement(Dye,{key:l.hash,tx:l})):B.createElement(B.Fragment,null,B.createElement(K,{padding:a?"12":"8"},B.createElement(Fe,{color:"modalTextDim",size:a?"16":"14",weight:a?"medium":"bold"},c?u.t("profile.transactions.description",{appName:c}):u.t("profile.transactions.description_fallback"))),a&&B.createElement(K,{background:"generalBorderDim",height:"1",marginX:"12",marginY:"8"})))),s&&B.createElement(K,{paddingBottom:"18",paddingX:a?"8":"18"},B.createElement(K,{alignItems:"center",as:"a",background:{hover:"profileForeground"},borderRadius:"menuButton",className:kr({active:"shrink"}),color:"modalTextDim",display:"flex",flexDirection:"row",href:`${s}/address/${e}`,justifyContent:"space-between",paddingX:"8",paddingY:"12",rel:"noreferrer noopener",style:{willChange:"transform"},target:"_blank",transition:"default",width:"full",...a?{paddingLeft:"12"}:{}},B.createElement(Fe,{color:"modalText",font:"body",size:a?"16":"14",weight:a?"semibold":"bold"},u.t("profile.explorer.label")),B.createElement(h9,null))))}function Ck({action:e,icon:t,label:n,testId:r,url:s}){const i=er();return B.createElement(K,{...s?{as:"a",href:s,rel:"noreferrer noopener",target:"_blank"}:{as:"button",type:"button"},background:{base:"profileAction",...i?{}:{hover:"profileActionHover"}},borderRadius:"menuButton",boxShadow:"profileDetailsAction",className:kr({active:"shrinkSm",hover:i?void 0:"grow"}),display:"flex",onClick:e,padding:i?"6":"8",style:{willChange:"transform"},testId:r,transition:"default",width:"full"},B.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",gap:"1",justifyContent:"center",paddingTop:"2",width:"full"},B.createElement(K,{color:"modalText",height:"max"},t),B.createElement(K,null,B.createElement(Fe,{color:"modalText",size:i?"12":"13",weight:"semibold"},n))))}function $ye({address:e,ensAvatar:t,ensName:n,balance:r,onClose:s,onDisconnect:i}){const o=Q.useContext(QA),[a,c]=Q.useState(!1),u=Q.useCallback(()=>{e&&(navigator.clipboard.writeText(e),c(!0))},[e]);if(Q.useEffect(()=>{if(a){const y=setTimeout(()=>{c(!1)},1500);return()=>clearTimeout(y)}},[a]),!e)return null;const l=n?d9(n):l9(e),f=r==null?void 0:r.formatted,d=f?u9(Number.parseFloat(f)):void 0,h="rk_profile_title",p=er(),{i18n:m}=Q.useContext(rr);return B.createElement(B.Fragment,null,B.createElement(K,{display:"flex",flexDirection:"column"},B.createElement(K,{background:"profileForeground",padding:"16"},B.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",gap:p?"16":"12",justifyContent:"center",margin:"8",style:{textAlign:"center"}},B.createElement(K,{style:{position:"absolute",right:16,top:16,willChange:"transform"}},B.createElement(Uu,{onClose:s}))," ",B.createElement(K,{marginTop:p?"24":"0"},B.createElement(X0e,{address:e,imageUrl:t,size:p?82:74})),B.createElement(K,{display:"flex",flexDirection:"column",gap:p?"4":"0",textAlign:"center"},B.createElement(K,{textAlign:"center"},B.createElement(Fe,{as:"h1",color:"modalText",id:h,size:p?"20":"18",weight:"heavy"},l)),!!r&&B.createElement(K,{textAlign:"center"},B.createElement(Fe,{as:"h1",color:"modalTextSecondary",id:h,size:p?"16":"14",weight:"semibold"},d," ",r.symbol)))),B.createElement(K,{display:"flex",flexDirection:"row",gap:"8",margin:"2",marginTop:"16"},B.createElement(Ck,{action:u,icon:a?B.createElement(Mye,null):B.createElement(Bye,null),label:a?m.t("profile.copy_address.copied"):m.t("profile.copy_address.label")}),B.createElement(Ck,{action:i,icon:B.createElement(Nye,null),label:m.t("profile.disconnect.label"),testId:"disconnect-button"}))),o&&B.createElement(B.Fragment,null,B.createElement(K,{background:"generalBorder",height:"1",marginTop:"-1"}),B.createElement(K,null,B.createElement(Lye,{address:e})))))}function zye({onClose:e,open:t}){const{address:n}=us(),{balance:r,ensAvatar:s,ensName:i}=GD({address:n,includeBalance:t}),{disconnect:o}=zA();return n?B.createElement(B.Fragment,null,n&&B.createElement(Fy,{onClose:e,open:t,titleId:"rk_account_modal_title"},B.createElement(Hy,{bottomSheetOnMobile:!0,padding:"0"},B.createElement($ye,{address:n,ensAvatar:s,ensName:i,balance:r,onClose:e,onDisconnect:o})))):null}var Fye=({size:e})=>B.createElement("svg",{fill:"none",height:e,viewBox:"0 0 28 28",width:e,xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Disconnect"),B.createElement("path",{d:"M6.742 22.195h8.367c1.774 0 2.743-.968 2.743-2.758V16.11h-2.016v3.11c0 .625-.305.96-.969.96H6.984c-.664 0-.968-.335-.968-.96V7.984c0-.632.304-.968.968-.968h7.883c.664 0 .969.336.969.968v3.133h2.016v-3.36c0-1.78-.97-2.757-2.743-2.757H6.742C4.97 5 4 5.977 4 7.758v11.68c0 1.789.969 2.757 2.742 2.757Zm5.438-7.703h7.601l1.149-.07-.602.406-1.008.938a.816.816 0 0 0-.258.593c0 .407.313.782.758.782.227 0 .39-.086.547-.243l2.492-2.593c.235-.235.313-.47.313-.711 0-.242-.078-.477-.313-.719l-2.492-2.586c-.156-.156-.32-.25-.547-.25-.445 0-.758.367-.758.781 0 .227.094.446.258.594l1.008.945.602.407-1.149-.079H12.18a.904.904 0 0 0 0 1.805Z",fill:"currentColor"})),Hye="v9horb0",eI=B.forwardRef(({children:e,currentlySelected:t=!1,onClick:n,testId:r,...s},i)=>{const o=er();return B.createElement(K,{as:"button",borderRadius:"menuButton",disabled:t,display:"flex",onClick:n,ref:i,testId:r,type:"button"},B.createElement(K,{borderRadius:"menuButton",className:[o?Hye:void 0,!t&&kr({active:"shrink"})],padding:o?"8":"6",transition:"default",width:"full",...t?{background:"accentColor",borderColor:"selectedOptionBorder",borderStyle:"solid",borderWidth:"1",boxShadow:"selectedOption",color:"accentColorForeground"}:{background:{hover:"menuItemBackground"},color:"modalText",transition:"default"},...s},e))});eI.displayName="MenuButton";var qye=({chainId:e,currentChainId:t,switchChain:n,chainIconSize:r,isLoading:s,src:i,name:o,iconBackground:a,idx:c})=>{const u=er(),{i18n:l}=Q.useContext(rr),f=vf(),d=t===e;return B.createElement(Q.Fragment,null,B.createElement(eI,{currentlySelected:d,onClick:d?void 0:()=>n({chainId:e}),testId:`chain-option-${e}`},B.createElement(K,{fontFamily:"body",fontSize:"16",fontWeight:"bold"},B.createElement(K,{alignItems:"center",display:"flex",flexDirection:"row",justifyContent:"space-between"},B.createElement(K,{alignItems:"center",display:"flex",flexDirection:"row",gap:"4",height:r},i&&B.createElement(K,{height:"full",marginRight:"8"},B.createElement(xr,{alt:o,background:a,borderRadius:"full",height:r,src:i,width:r,testId:`chain-option-${e}-icon`})),B.createElement("div",null,o??o)),d&&B.createElement(K,{alignItems:"center",display:"flex",flexDirection:"row",marginRight:"6"},B.createElement(Fe,{color:"accentColorForeground",size:"14",weight:"medium"},l.t("chains.connected")),B.createElement(K,{background:"connectionIndicator",borderColor:"selectedOptionBorder",borderRadius:"full",borderStyle:"solid",borderWidth:"1",height:"8",marginLeft:"8",width:"8"})),s&&B.createElement(K,{alignItems:"center",display:"flex",flexDirection:"row",marginRight:"6"},B.createElement(Fe,{color:"modalText",size:"14",weight:"medium"},l.t("chains.confirm")),B.createElement(K,{background:"standby",borderRadius:"full",height:"8",marginLeft:"8",width:"8"}))))),u&&c<f.length-1&&B.createElement(K,{background:"generalBorderDim",height:"1",marginX:"8"}))},Wye=qye,Gye="_18dqw9x0",Vye="_18dqw9x1";function Kye({onClose:e,open:t}){const{chainId:n}=us(),{chains:r}=nr(),[s,i]=Q.useState(null),{switchChain:o}=Gpe({mutation:{onMutate:({chainId:p})=>{i(p)},onSuccess:()=>{s&&i(null)},onError:()=>{s&&i(null)},onSettled:()=>{e()}}}),{i18n:a}=Q.useContext(rr),{disconnect:c}=zA(),u="rk_chain_modal_title",l=er(),f=r.some(p=>p.id===n),d=l?"36":"28",h=vf();return n?B.createElement(Fy,{onClose:e,open:t,titleId:u},B.createElement(Hy,{bottomSheetOnMobile:!0,paddingBottom:"0"},B.createElement(K,{display:"flex",flexDirection:"column",gap:"14"},B.createElement(K,{display:"flex",flexDirection:"row",justifyContent:"space-between"},l&&B.createElement(K,{width:"30"}),B.createElement(K,{paddingBottom:"0",paddingLeft:"8",paddingTop:"4"},B.createElement(Fe,{as:"h1",color:"modalText",id:u,size:l?"20":"18",weight:"heavy"},a.t("chains.title"))),B.createElement(Uu,{onClose:e})),!f&&B.createElement(K,{marginX:"8",textAlign:l?"center":"left"},B.createElement(Fe,{color:"modalTextSecondary",size:"14",weight:"medium"},a.t("chains.wrong_network"))),B.createElement(K,{className:l?Vye:Gye,display:"flex",flexDirection:"column",gap:"4",padding:"2",paddingBottom:"16"},h.map(({iconBackground:p,iconUrl:m,id:y,name:b},I)=>B.createElement(Wye,{key:y,chainId:y,currentChainId:n,switchChain:o,chainIconSize:d,isLoading:s===y,src:m,name:b,iconBackground:p,idx:I})),!f&&B.createElement(B.Fragment,null,B.createElement(K,{background:"generalBorderDim",height:"1",marginX:"8"}),B.createElement(eI,{onClick:()=>c(),testId:"chain-option-disconnect"},B.createElement(K,{color:"error",fontFamily:"body",fontSize:"16",fontWeight:"bold"},B.createElement(K,{alignItems:"center",display:"flex",flexDirection:"row",justifyContent:"space-between"},B.createElement(K,{alignItems:"center",display:"flex",flexDirection:"row",gap:"4",height:d},B.createElement(K,{alignItems:"center",color:"error",height:d,justifyContent:"center",marginRight:"8"},B.createElement(Fye,{size:Number(d)})),B.createElement("div",null,a.t("chains.disconnect"))))))))))):null}function Qye(e,t){const n={};for(const r of e){const s=t(r);s&&(n[s]||(n[s]=[]),n[s].push(r))}return n}var tI=({children:e,href:t})=>B.createElement(K,{as:"a",color:"accentColor",href:t,rel:"noreferrer",target:"_blank"},e),nI=({children:e})=>B.createElement(Fe,{color:"modalTextSecondary",size:"12",weight:"medium"},e);function Tk({compactModeEnabled:e=!1,getWallet:t}){const{disclaimer:n,learnMoreUrl:r}=Q.useContext(e0),{i18n:s}=Q.useContext(rr);return B.createElement(B.Fragment,null,B.createElement(K,{alignItems:"center",color:"accentColor",display:"flex",flexDirection:"column",height:"full",justifyContent:"space-around"},B.createElement(K,{marginBottom:"10"},!e&&B.createElement(Fe,{color:"modalText",size:"18",weight:"heavy"},s.t("intro.title"))),B.createElement(K,{display:"flex",flexDirection:"column",gap:"32",justifyContent:"center",marginY:"20",style:{maxWidth:312}},B.createElement(K,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16"},B.createElement(K,{borderRadius:"6",height:"48",minWidth:"48",width:"48"},B.createElement(cye,null)),B.createElement(K,{display:"flex",flexDirection:"column",gap:"4"},B.createElement(Fe,{color:"modalText",size:"14",weight:"bold"},s.t("intro.digital_asset.title")),B.createElement(Fe,{color:"modalTextSecondary",size:"14",weight:"medium"},s.t("intro.digital_asset.description")))),B.createElement(K,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16"},B.createElement(K,{borderRadius:"6",height:"48",minWidth:"48",width:"48"},B.createElement(lye,null)),B.createElement(K,{display:"flex",flexDirection:"column",gap:"4"},B.createElement(Fe,{color:"modalText",size:"14",weight:"bold"},s.t("intro.login.title")),B.createElement(Fe,{color:"modalTextSecondary",size:"14",weight:"medium"},s.t("intro.login.description"))))),B.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",gap:"12",justifyContent:"center",margin:"10"},B.createElement(rs,{label:s.t("intro.get.label"),onClick:t}),B.createElement(K,{as:"a",className:kr({active:"shrink",hover:"grow"}),display:"block",href:r,paddingX:"12",paddingY:"4",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},B.createElement(Fe,{color:"accentColor",size:"14",weight:"bold"},s.t("intro.learn_more.label")))),n&&!e&&B.createElement(K,{marginBottom:"8",marginTop:"12",textAlign:"center"},B.createElement(n,{Link:tI,Text:nI}))))}var p9=()=>B.createElement("svg",{fill:"none",height:"17",viewBox:"0 0 11 17",width:"11",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Back"),B.createElement("path",{d:"M0.99707 8.6543C0.99707 9.08496 1.15527 9.44531 1.51562 9.79688L8.16016 16.3096C8.43262 16.5732 8.74902 16.7051 9.13574 16.7051C9.90918 16.7051 10.5508 16.0811 10.5508 15.3076C10.5508 14.9121 10.3838 14.5605 10.0938 14.2705L4.30176 8.64551L10.0938 3.0293C10.3838 2.74805 10.5508 2.3877 10.5508 2.00098C10.5508 1.23633 9.90918 0.603516 9.13574 0.603516C8.74902 0.603516 8.43262 0.735352 8.16016 0.999023L1.51562 7.51172C1.15527 7.85449 1.00586 8.21484 0.99707 8.6543Z",fill:"currentColor"})),Yye=()=>B.createElement("svg",{fill:"none",height:"12",viewBox:"0 0 8 12",width:"8",xmlns:"http://www.w3.org/2000/svg"},B.createElement("title",null,"Info"),B.createElement("path",{d:"M3.64258 7.99609C4.19336 7.99609 4.5625 7.73828 4.68555 7.24609C4.69141 7.21094 4.70312 7.16406 4.70898 7.13477C4.80859 6.60742 5.05469 6.35547 6.04492 5.76367C7.14648 5.10156 7.67969 4.3457 7.67969 3.24414C7.67969 1.39844 6.17383 0.255859 3.95898 0.255859C2.32422 0.255859 1.05859 0.894531 0.548828 1.86719C0.396484 2.14844 0.320312 2.44727 0.320312 2.74023C0.314453 3.37305 0.742188 3.79492 1.42188 3.79492C1.91406 3.79492 2.33594 3.54883 2.53516 3.11523C2.78711 2.47656 3.23242 2.21289 3.83594 2.21289C4.55664 2.21289 5.10742 2.65234 5.10742 3.29102C5.10742 3.9707 4.7793 4.29883 3.81836 4.87891C3.02148 5.36523 2.50586 5.92773 2.50586 6.76562V6.90039C2.50586 7.55664 2.96289 7.99609 3.64258 7.99609ZM3.67188 11.4473C4.42773 11.4473 5.04297 10.8672 5.04297 10.1406C5.04297 9.41406 4.42773 8.83984 3.67188 8.83984C2.91602 8.83984 2.30664 9.41406 2.30664 10.1406C2.30664 10.8672 2.91602 11.4473 3.67188 11.4473Z",fill:"currentColor"})),Zye=({"aria-label":e="Info",onClick:t})=>{const n=er();return B.createElement(K,{alignItems:"center","aria-label":e,as:"button",background:"closeButtonBackground",borderColor:"actionButtonBorder",borderRadius:"full",borderStyle:"solid",borderWidth:n?"0":"1",className:kr({active:"shrinkSm",hover:"growLg"}),color:"closeButton",display:"flex",height:n?"30":"28",justifyContent:"center",onClick:t,style:{willChange:"transform"},transition:"default",type:"button",width:n?"30":"28"},B.createElement(Yye,null))},m9=e=>{const t=Q.useRef(null),n=Q.useContext(XD),r=Sw(e);return Q.useEffect(()=>{if(n&&t.current&&r)return Jye(t.current,r)},[n,r]),t},Xye=()=>{const e="_rk_coolMode",t=document.getElementById(e);if(t)return t;const n=document.createElement("div");return n.setAttribute("id",e),n.setAttribute("style",["overflow:hidden","position:fixed","height:100%","top:0","left:0","right:0","bottom:0","pointer-events:none","z-index:2147483647"].join(";")),document.body.appendChild(n),n},_k=0;function Jye(e,t){_k++;const n=[15,20,25,35,45],r=35;let s=[],i=!1,o=0,a=0;const c=Xye();function u(){const E=n[Math.floor(Math.random()*n.length)],S=Math.random()*10,N=Math.random()*25,O=Math.random()*360,z=Math.random()*35*(Math.random()<=.5?-1:1),L=a-E/2,F=o-E/2,H=Math.random()<=.5?-1:1,G=document.createElement("div");G.innerHTML=`<img src="${t}" width="${E}" height="${E}" style="border-radius: 25%">`,G.setAttribute("style",["position:absolute","will-change:transform",`top:${L}px`,`left:${F}px`,`transform:rotate(${O}deg)`].join(";")),c.appendChild(G),s.push({direction:H,element:G,left:F,size:E,speedHorz:S,speedUp:N,spinSpeed:z,spinVal:O,top:L})}function l(){for(const E of s)E.left=E.left-E.speedHorz*E.direction,E.top=E.top-E.speedUp,E.speedUp=Math.min(E.size,E.speedUp-1),E.spinVal=E.spinVal+E.spinSpeed,E.top>=Math.max(window.innerHeight,document.body.clientHeight)+E.size&&(s=s.filter(S=>S!==E),E.element.remove()),E.element.setAttribute("style",["position:absolute","will-change:transform",`top:${E.top}px`,`left:${E.left}px`,`transform:rotate(${E.spinVal}deg)`].join(";"))}let f;function d(){i&&s.length<r&&u(),l(),f=requestAnimationFrame(d)}d();const h="ontouchstart"in window||navigator.msMaxTouchPoints,p=h?"touchstart":"mousedown",m=h?"touchend":"mouseup",y=h?"touchmove":"mousemove",b=E=>{var S,N;"touches"in E?(o=(S=E.touches)==null?void 0:S[0].clientX,a=(N=E.touches)==null?void 0:N[0].clientY):(o=E.clientX,a=E.clientY)},I=E=>{b(E),i=!0},v=()=>{i=!1};return e.addEventListener(y,b,{passive:!1}),e.addEventListener(p,I),e.addEventListener(m,v),e.addEventListener("mouseleave",v),()=>{e.removeEventListener(y,b),e.removeEventListener(p,I),e.removeEventListener(m,v),e.removeEventListener("mouseleave",v);const E=setInterval(()=>{f&&s.length===0&&(cancelAnimationFrame(f),clearInterval(E),--_k===0&&c.remove())},500)}}var ege="g5kl0l0",y9=({as:e="button",currentlySelected:t=!1,iconBackground:n,iconUrl:r,name:s,onClick:i,ready:o,recent:a,testId:c,isRainbowKitConnector:u,...l})=>{const f=m9(r),[d,h]=B.useState(!1),{i18n:p}=B.useContext(rr);return B.createElement(K,{display:"flex",flexDirection:"column",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),ref:f},B.createElement(K,{as:e,borderRadius:"menuButton",borderStyle:"solid",borderWidth:"1",className:t?void 0:[ege,kr({active:"shrink"})],disabled:t,onClick:i,padding:"5",style:{willChange:"transform"},testId:c,transition:"default",width:"full",...t?{background:"accentColor",borderColor:"selectedOptionBorder",boxShadow:"selectedWallet"}:{background:{hover:"menuItemBackground"}},...l},B.createElement(K,{color:t?"accentColorForeground":"modalText",disabled:!o,fontFamily:"body",fontSize:"16",fontWeight:"bold",transition:"default"},B.createElement(K,{alignItems:"center",display:"flex",flexDirection:"row",gap:"12"},B.createElement(xr,{background:n,...!d&&u?{borderColor:"actionButtonBorder"}:{},useAsImage:!u,borderRadius:"6",height:"28",src:r,width:"28"}),B.createElement(K,null,B.createElement(K,{style:{marginTop:a?-2:void 0},maxWidth:"200"},s),a&&B.createElement(Fe,{color:t?"accentColorForeground":"accentColor",size:"12",style:{lineHeight:1,marginTop:-1},weight:"medium"},p.t("connect.recent")))))))};y9.displayName="ModalSelection";var tge="rk-latest-id";function nge(e){localStorage.setItem(tge,e)}var Bb=(e,t=1)=>{let n=e.replace("#","");n.length===3&&(n=`${n[0]}${n[0]}${n[1]}${n[1]}${n[2]}${n[2]}`);const r=Number.parseInt(n.substring(0,2),16),s=Number.parseInt(n.substring(2,4),16),i=Number.parseInt(n.substring(4,6),16);return t>1&&t<=100&&(t=t/100),`rgba(${r},${s},${i},${t})`},rge=e=>e?[Bb(e,.2),Bb(e,.14),Bb(e,.1)]:null,sge=e=>/^#([0-9a-f]{3}){1,2}$/i.test(e),g9=async()=>(await we(async()=>{const{default:e}=await import("./connect-UA7M4XW6-IY3X6Bmr.js");return{default:e}},[])).default,ige=()=>xo(g9),oge=()=>B.createElement(xr,{background:"#515a70",borderColor:"generalBorder",borderRadius:"10",height:"48",src:g9,width:"48"}),w9=async()=>(await we(async()=>{const{default:e}=await import("./create-FASO7PVG-D_rvSpre.js");return{default:e}},[])).default,b9=()=>xo(w9),age=()=>B.createElement(xr,{background:"#e3a5e8",borderColor:"generalBorder",borderRadius:"10",height:"48",src:w9,width:"48"}),v9=async()=>(await we(async()=>{const{default:e}=await import("./refresh-S4T5V5GX-CwqIaaxK.js");return{default:e}},[])).default,cge=()=>xo(v9),uge=()=>B.createElement(xr,{background:"#515a70",borderColor:"generalBorder",borderRadius:"10",height:"48",src:v9,width:"48"}),E9=async()=>(await we(async()=>{const{default:e}=await import("./scan-4UYSQ56Q-CjMz6-XC.js");return{default:e}},[])).default,x9=()=>xo(E9),lge=()=>B.createElement(xr,{background:"#515a70",borderColor:"generalBorder",borderRadius:"10",height:"48",src:E9,width:"48"}),dge="_1vwt0cg0",fge="_1vwt0cg2 ju367v7a ju367v7v",hge="_1vwt0cg3",pge="_1vwt0cg4";function A9({ecc:e="medium",logoBackground:t,logoSize:n=50,logoUrl:r,size:s=200,uri:i}){const o="20",a=s-Number.parseInt(o,10)*2,c=Sw(r);return B.createElement(K,{borderColor:"generalBorder",borderRadius:"menuButton",borderStyle:"solid",borderWidth:"1",className:dge,padding:o,width:"max"},B.createElement(K,{style:{height:a,userSelect:"none",width:a},userSelect:"none"},B.createElement(go.Root,{errorCorrection:e,size:a,value:i},B.createElement(go.Cells,{radius:1}),B.createElement(go.Finder,{radius:.25}),c&&B.createElement(go.Arena,null,B.createElement("img",{alt:"Wallet Logo",src:c,style:{objectFit:"cover",height:"88%",width:"88%",borderRadius:"22.5%",backgroundColor:t}})))))}var I9=async()=>{switch(ZA()){case"Arc":return(await we(async()=>{const{default:t}=await import("./Arc-VDBY7LNS-BChRXCXW.js");return{default:t}},[])).default;case"Brave":return(await we(async()=>{const{default:t}=await import("./Brave-BRAKJXDS-mq-Xo37j.js");return{default:t}},[])).default;case"Chrome":return(await we(async()=>{const{default:t}=await import("./Chrome-65Q5P54Y-DR9MQEVr.js");return{default:t}},[])).default;case"Edge":return(await we(async()=>{const{default:t}=await import("./Edge-XSPUTORV-DEoZslQE.js");return{default:t}},[])).default;case"Firefox":return(await we(async()=>{const{default:t}=await import("./Firefox-AAHGJQIP-Bp_Hm04m.js");return{default:t}},[])).default;case"Opera":return(await we(async()=>{const{default:t}=await import("./Opera-KQZLSACL-Cwv5MDFy.js");return{default:t}},[])).default;case"Safari":return(await we(async()=>{const{default:t}=await import("./Safari-ZPL37GXR-C4Ggg6rz.js");return{default:t}},[])).default;default:return(await we(async()=>{const{default:t}=await import("./Browser-76IHF3Y2-BMhRaC5Z.js");return{default:t}},[])).default}},mge=()=>xo(I9),S9=async()=>{switch(JA()){case"Windows":return(await we(async()=>{const{default:t}=await import("./Windows-PPTHQER6-BlyV2p7Y.js");return{default:t}},[])).default;case"macOS":return(await we(async()=>{const{default:t}=await import("./Macos-MW4AE7LN-Vvm8Drw3.js");return{default:t}},[])).default;case"Linux":return(await we(async()=>{const{default:t}=await import("./Linux-OO4TNCLJ-B0aw93n9.js");return{default:t}},[])).default;default:return(await we(async()=>{const{default:t}=await import("./Linux-OO4TNCLJ-B0aw93n9.js");return{default:t}},[])).default}},yge=()=>xo(S9);function gge({getWalletDownload:e,compactModeEnabled:t}){const r=Zh().filter(i=>i.isRainbowKitConnector).splice(0,5),{i18n:s}=Q.useContext(rr);return B.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",marginTop:"18",width:"full"},B.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",gap:"28",height:"full",width:"full"},r==null?void 0:r.filter(i=>{var o;return i.extensionDownloadUrl||i.desktopDownloadUrl||i.qrCode&&((o=i.downloadUrls)==null?void 0:o.qrCode)}).map(i=>{const{downloadUrls:o,iconBackground:a,iconUrl:c,id:u,name:l,qrCode:f}=i,d=(o==null?void 0:o.qrCode)&&f,h=!!i.extensionDownloadUrl,p=(o==null?void 0:o.qrCode)&&h,m=(o==null?void 0:o.qrCode)&&!!i.desktopDownloadUrl;return B.createElement(K,{alignItems:"center",display:"flex",gap:"16",justifyContent:"space-between",key:i.id,width:"full"},B.createElement(K,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16"},B.createElement(xr,{background:a,borderColor:"actionButtonBorder",borderRadius:"10",height:"48",src:c,width:"48"}),B.createElement(K,{display:"flex",flexDirection:"column",gap:"2"},B.createElement(Fe,{color:"modalText",size:"14",weight:"bold"},l),B.createElement(Fe,{color:"modalTextSecondary",size:"14",weight:"medium"},p?s.t("get.mobile_and_extension.description"):m?s.t("get.mobile_and_desktop.description"):d?s.t("get.mobile.description"):h?s.t("get.extension.description"):null))),B.createElement(K,{display:"flex",flexDirection:"column",gap:"4"},B.createElement(rs,{label:s.t("get.action.label"),onClick:()=>e(u),type:"secondary"})))})),B.createElement(K,{alignItems:"center",borderRadius:"10",display:"flex",flexDirection:"column",gap:"8",justifyContent:"space-between",marginBottom:"4",paddingY:"8",style:{maxWidth:275,textAlign:"center"}},B.createElement(Fe,{color:"modalText",size:"14",weight:"bold"},s.t("get.looking_for.title")),B.createElement(Fe,{color:"modalTextSecondary",size:"14",weight:"medium"},t?s.t("get.looking_for.desktop.compact_description"):s.t("get.looking_for.desktop.wide_description"))))}var Nb="44";function wge({changeWalletStep:e,compactModeEnabled:t,connectionError:n,onClose:r,qrCodeUri:s,reconnect:i,wallet:o}){const{downloadUrls:a,iconBackground:c,iconUrl:u,name:l,qrCode:f,ready:d,showWalletConnectModal:h,getDesktopUri:p}=o,m=!!p,y=YA(),{i18n:b}=Q.useContext(rr),I=!!o.extensionDownloadUrl,v=(a==null?void 0:a.qrCode)&&I,E=(a==null?void 0:a.qrCode)&&!!o.desktopDownloadUrl,S=f&&s,N=async()=>{const F=await(p==null?void 0:p());window.open(F,y?"_blank":"_self")},O=h?{description:t?b.t("connect.walletconnect.description.compact"):b.t("connect.walletconnect.description.full"),label:b.t("connect.walletconnect.open.label"),onClick:()=>{r(),h()}}:S?{description:b.t("connect.secondary_action.get.description",{wallet:l}),label:b.t("connect.secondary_action.get.label"),onClick:()=>e(v||E?"DOWNLOAD_OPTIONS":"DOWNLOAD")}:null,{width:z}=JD(),L=z&&z<768;return Q.useEffect(()=>{mge(),yge()},[]),B.createElement(K,{display:"flex",flexDirection:"column",height:"full",width:"full"},S?B.createElement(K,{alignItems:"center",display:"flex",height:"full",justifyContent:"center"},B.createElement(A9,{logoBackground:c,logoSize:t?60:72,logoUrl:u,size:t?318:L?Math.max(280,Math.min(z-308,382)):382,uri:s})):B.createElement(K,{alignItems:"center",display:"flex",justifyContent:"center",style:{flexGrow:1}},B.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",gap:"8"},B.createElement(K,{borderRadius:"10",height:Nb,overflow:"hidden"},B.createElement(xr,{useAsImage:!o.isRainbowKitConnector,height:Nb,src:u,width:Nb})),B.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",gap:"4",paddingX:"32",style:{textAlign:"center"}},B.createElement(Fe,{color:"modalText",size:"18",weight:"bold"},d?b.t("connect.status.opening",{wallet:l}):I?b.t("connect.status.not_installed",{wallet:l}):b.t("connect.status.not_available",{wallet:l})),!d&&I?B.createElement(K,{paddingTop:"20"},B.createElement(rs,{href:o.extensionDownloadUrl,label:b.t("connect.secondary_action.install.label"),type:"secondary"})):null,d&&!S&&B.createElement(B.Fragment,null,B.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center"},B.createElement(Fe,{color:"modalTextSecondary",size:"14",textAlign:"center",weight:"medium"},b.t("connect.status.confirm"))),B.createElement(K,{alignItems:"center",color:"modalText",display:"flex",flexDirection:"row",height:"32",marginTop:"8"},n?B.createElement(rs,{label:b.t("connect.secondary_action.retry.label"),onClick:async()=>{m&&N(),i(o)}}):B.createElement(K,{color:"modalTextSecondary"},B.createElement(Yh,null))))))),B.createElement(K,{alignItems:"center",borderRadius:"10",display:"flex",flexDirection:"row",gap:"8",height:"28",justifyContent:"space-between",marginTop:"12"},d&&O&&B.createElement(B.Fragment,null,B.createElement(Fe,{color:"modalTextSecondary",size:"14",weight:"medium"},O.description),B.createElement(rs,{label:O.label,onClick:O.onClick,type:"secondary"}))))}var Ob=({actionLabel:e,description:t,iconAccent:n,iconBackground:r,iconUrl:s,isCompact:i,onAction:o,title:a,url:c,variant:u})=>{const l=u==="browser",f=!l&&n&&rge(n);return B.createElement(K,{alignItems:"center",borderRadius:"13",display:"flex",justifyContent:"center",overflow:"hidden",paddingX:i?"18":"44",position:"relative",style:{flex:1,isolation:"isolate"},width:"full"},B.createElement(K,{borderColor:"actionButtonBorder",borderRadius:"13",borderStyle:"solid",borderWidth:"1",style:{bottom:"0",left:"0",position:"absolute",right:"0",top:"0",zIndex:1}}),l&&B.createElement(K,{background:"downloadTopCardBackground",height:"full",position:"absolute",style:{zIndex:0},width:"full"},B.createElement(K,{display:"flex",flexDirection:"row",justifyContent:"space-between",style:{bottom:"0",filter:"blur(20px)",left:"0",position:"absolute",right:"0",top:"0",transform:"translate3d(0, 0, 0)"}},B.createElement(K,{style:{filter:"blur(100px)",marginLeft:-27,marginTop:-20,opacity:.6,transform:"translate3d(0, 0, 0)"}},B.createElement(xr,{borderRadius:"full",height:"200",src:s,width:"200"})),B.createElement(K,{style:{filter:"blur(100px)",marginRight:0,marginTop:105,opacity:.6,overflow:"auto",transform:"translate3d(0, 0, 0)"}},B.createElement(xr,{borderRadius:"full",height:"200",src:s,width:"200"})))),!l&&f&&B.createElement(K,{background:"downloadBottomCardBackground",style:{bottom:"0",left:"0",position:"absolute",right:"0",top:"0"}},B.createElement(K,{position:"absolute",style:{background:`radial-gradient(50% 50% at 50% 50%, ${f[0]} 0%, ${f[1]} 25%, rgba(0,0,0,0) 100%)`,height:564,left:-215,top:-197,transform:"translate3d(0, 0, 0)",width:564}}),B.createElement(K,{position:"absolute",style:{background:`radial-gradient(50% 50% at 50% 50%, ${f[2]} 0%, rgba(0, 0, 0, 0) 100%)`,height:564,left:-1,top:-76,transform:"translate3d(0, 0, 0)",width:564}})),B.createElement(K,{alignItems:"flex-start",display:"flex",flexDirection:"row",gap:"24",height:"max",justifyContent:"center",style:{zIndex:1}},B.createElement(K,null,B.createElement(xr,{height:"60",src:s,width:"60",...r?{background:r,borderColor:"generalBorder",borderRadius:"10"}:null})),B.createElement(K,{display:"flex",flexDirection:"column",gap:"4",style:{flex:1},width:"full"},B.createElement(Fe,{color:"modalText",size:"14",weight:"bold"},a),B.createElement(Fe,{color:"modalTextSecondary",size:"14",weight:"medium"},t),B.createElement(K,{marginTop:"14",width:"max"},B.createElement(rs,{href:c,label:e,onClick:o,size:"medium"})))))};function bge({changeWalletStep:e,wallet:t}){const n=ZA(),r=JA(),i=Q.useContext(kw)==="compact",{desktop:o,desktopDownloadUrl:a,extension:c,extensionDownloadUrl:u,mobileDownloadUrl:l}=t,{i18n:f}=Q.useContext(rr);return Q.useEffect(()=>{b9(),x9(),cge(),ige()},[]),B.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",gap:"24",height:"full",marginBottom:"8",marginTop:"4",width:"full"},B.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",gap:"8",height:"full",justifyContent:"center",width:"full"},u&&B.createElement(Ob,{actionLabel:f.t("get_options.extension.download.label",{browser:n}),description:f.t("get_options.extension.description"),iconUrl:I9,isCompact:i,onAction:()=>e(c!=null&&c.instructions?"INSTRUCTIONS_EXTENSION":"CONNECT"),title:f.t("get_options.extension.title",{wallet:t.name,browser:n}),url:u,variant:"browser"}),a&&B.createElement(Ob,{actionLabel:f.t("get_options.desktop.download.label",{platform:r}),description:f.t("get_options.desktop.description"),iconUrl:S9,isCompact:i,onAction:()=>e(o!=null&&o.instructions?"INSTRUCTIONS_DESKTOP":"CONNECT"),title:f.t("get_options.desktop.title",{wallet:t.name,platform:r}),url:a,variant:"desktop"}),l&&B.createElement(Ob,{actionLabel:f.t("get_options.mobile.download.label",{wallet:t.name}),description:f.t("get_options.mobile.description"),iconAccent:t.iconAccent,iconBackground:t.iconBackground,iconUrl:t.iconUrl,isCompact:i,onAction:()=>{e("DOWNLOAD")},title:f.t("get_options.mobile.title",{wallet:t.name}),variant:"app"})))}function vge({changeWalletStep:e,wallet:t}){const{downloadUrls:n,qrCode:r}=t,{i18n:s}=Q.useContext(rr);return Q.useEffect(()=>{b9(),x9()},[]),B.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",gap:"24",height:"full",width:"full"},B.createElement(K,{style:{maxWidth:220,textAlign:"center"}},B.createElement(Fe,{color:"modalTextSecondary",size:"14",weight:"semibold"},s.t("get_mobile.description"))),B.createElement(K,{height:"full"},n!=null&&n.qrCode?B.createElement(A9,{logoSize:0,size:268,uri:n.qrCode}):null),B.createElement(K,{alignItems:"center",borderRadius:"10",display:"flex",flexDirection:"row",gap:"8",height:"34",justifyContent:"space-between",marginBottom:"12",paddingY:"8"},B.createElement(rs,{label:s.t("get_mobile.continue.label"),onClick:()=>e(r!=null&&r.instructions?"INSTRUCTIONS_MOBILE":"CONNECT")})))}var ca={connect:()=>B.createElement(oge,null),create:()=>B.createElement(age,null),install:e=>B.createElement(xr,{background:e.iconBackground,borderColor:"generalBorder",borderRadius:"10",height:"48",src:e.iconUrl,width:"48"}),refresh:()=>B.createElement(uge,null),scan:()=>B.createElement(lge,null)};function Ege({connectWallet:e,wallet:t}){var r,s,i,o;const{i18n:n}=Q.useContext(rr);return B.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",width:"full"},B.createElement(K,{display:"flex",flexDirection:"column",gap:"28",height:"full",justifyContent:"center",paddingY:"32",style:{maxWidth:320}},(s=(r=t==null?void 0:t.qrCode)==null?void 0:r.instructions)==null?void 0:s.steps.map((a,c)=>{var u;return B.createElement(K,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16",key:c},B.createElement(K,{borderRadius:"10",height:"48",minWidth:"48",overflow:"hidden",position:"relative",width:"48"},(u=ca[a.step])==null?void 0:u.call(ca,t)),B.createElement(K,{display:"flex",flexDirection:"column",gap:"4"},B.createElement(Fe,{color:"modalText",size:"14",weight:"bold"},n.t(a.title,void 0,{rawKeyIfTranslationMissing:!0})),B.createElement(Fe,{color:"modalTextSecondary",size:"14",weight:"medium"},n.t(a.description,void 0,{rawKeyIfTranslationMissing:!0}))))})),B.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",gap:"12",justifyContent:"center",marginBottom:"16"},B.createElement(rs,{label:n.t("get_instructions.mobile.connect.label"),onClick:()=>e(t)}),B.createElement(K,{as:"a",className:kr({active:"shrink",hover:"grow"}),display:"block",href:(o=(i=t==null?void 0:t.qrCode)==null?void 0:i.instructions)==null?void 0:o.learnMoreUrl,paddingX:"12",paddingY:"4",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},B.createElement(Fe,{color:"accentColor",size:"14",weight:"bold"},n.t("get_instructions.mobile.learn_more.label")))))}function xge({wallet:e}){var n,r,s,i;const{i18n:t}=Q.useContext(rr);return B.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",width:"full"},B.createElement(K,{display:"flex",flexDirection:"column",gap:"28",height:"full",justifyContent:"center",paddingY:"32",style:{maxWidth:320}},(r=(n=e==null?void 0:e.extension)==null?void 0:n.instructions)==null?void 0:r.steps.map((o,a)=>{var c;return B.createElement(K,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16",key:a},B.createElement(K,{borderRadius:"10",height:"48",minWidth:"48",overflow:"hidden",position:"relative",width:"48"},(c=ca[o.step])==null?void 0:c.call(ca,e)),B.createElement(K,{display:"flex",flexDirection:"column",gap:"4"},B.createElement(Fe,{color:"modalText",size:"14",weight:"bold"},t.t(o.title,void 0,{rawKeyIfTranslationMissing:!0})),B.createElement(Fe,{color:"modalTextSecondary",size:"14",weight:"medium"},t.t(o.description,void 0,{rawKeyIfTranslationMissing:!0}))))})),B.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",gap:"12",justifyContent:"center",marginBottom:"16"},B.createElement(rs,{label:t.t("get_instructions.extension.refresh.label"),onClick:window.location.reload.bind(window.location)}),B.createElement(K,{as:"a",className:kr({active:"shrink",hover:"grow"}),display:"block",href:(i=(s=e==null?void 0:e.extension)==null?void 0:s.instructions)==null?void 0:i.learnMoreUrl,paddingX:"12",paddingY:"4",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},B.createElement(Fe,{color:"accentColor",size:"14",weight:"bold"},t.t("get_instructions.extension.learn_more.label")))))}function Age({connectWallet:e,wallet:t}){var r,s,i,o;const{i18n:n}=Q.useContext(rr);return B.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",width:"full"},B.createElement(K,{display:"flex",flexDirection:"column",gap:"28",height:"full",justifyContent:"center",paddingY:"32",style:{maxWidth:320}},(s=(r=t==null?void 0:t.desktop)==null?void 0:r.instructions)==null?void 0:s.steps.map((a,c)=>{var u;return B.createElement(K,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16",key:c},B.createElement(K,{borderRadius:"10",height:"48",minWidth:"48",overflow:"hidden",position:"relative",width:"48"},(u=ca[a.step])==null?void 0:u.call(ca,t)),B.createElement(K,{display:"flex",flexDirection:"column",gap:"4"},B.createElement(Fe,{color:"modalText",size:"14",weight:"bold"},n.t(a.title,void 0,{rawKeyIfTranslationMissing:!0})),B.createElement(Fe,{color:"modalTextSecondary",size:"14",weight:"medium"},n.t(a.description,void 0,{rawKeyIfTranslationMissing:!0}))))})),B.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",gap:"12",justifyContent:"center",marginBottom:"16"},B.createElement(rs,{label:n.t("get_instructions.desktop.connect.label"),onClick:()=>e(t)}),B.createElement(K,{as:"a",className:kr({active:"shrink",hover:"grow"}),display:"block",href:(o=(i=t==null?void 0:t.desktop)==null?void 0:i.instructions)==null?void 0:o.learnMoreUrl,paddingX:"12",paddingY:"4",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},B.createElement(Fe,{color:"accentColor",size:"14",weight:"bold"},n.t("get_instructions.desktop.learn_more.label")))))}function Ige({onClose:e}){const t="rk_connect_title",[n,r]=Q.useState(),[s,i]=Q.useState(),[o,a]=Q.useState(),c=!!(s!=null&&s.qrCode)&&o,[u,l]=Q.useState(!1),d=Q.useContext(kw)===n0.COMPACT,{disclaimer:h}=Q.useContext(e0),{i18n:p}=Q.useContext(rr),m=YA(),y=Q.useRef(!1),{connector:b}=Q.useContext(t0),v=Zh(!b).filter(Z=>Z.ready||!!Z.extensionDownloadUrl).sort((Z,Y)=>Z.groupIndex-Y.groupIndex),E=Zh(),S=Qye(v,Z=>Z.groupName),N=["Recommended","Other","Popular","More","Others","Installed"];Q.useEffect(()=>{b&&!y.current&&(M("CONNECT"),F(b),y.current=!0)},[b]);const O=Z=>{var Y,ne;l(!1),Z.ready&&((ne=(Y=Z==null?void 0:Z.connect)==null?void 0:Y.call(Z))==null||ne.catch(()=>{l(!0)}))},z=async Z=>{const Y=v.find(ne=>Z.id===ne.id);Y!=null&&Y.getDesktopUri&&setTimeout(async()=>{var he;const ne=await((he=Y==null?void 0:Y.getDesktopUri)==null?void 0:he.call(Y));ne&&window.open(ne,m?"_blank":"_self")},0)},L=async Z=>{var he;const Y=v.find(de=>Z.id===de.id),ne=await((he=Y==null?void 0:Y.getQrCodeUri)==null?void 0:he.call(Y));a(ne),setTimeout(()=>{i(Y),M("CONNECT")},ne?0:50)},F=async Z=>{nge(Z.id),Z.ready&&(L(Z),z(Z)),O(Z),r(Z.id),Z.ready||(i(Z),M(Z!=null&&Z.extensionDownloadUrl?"DOWNLOAD_OPTIONS":"CONNECT"))},H=Z=>{var le;const Y=E.find(Se=>Z===Se.id),ne=(le=Y==null?void 0:Y.downloadUrls)==null?void 0:le.qrCode,he=!!(Y!=null&&Y.desktopDownloadUrl),de=!!(Y!=null&&Y.extensionDownloadUrl);i(Y),M(ne&&(de||he)?"DOWNLOAD_OPTIONS":ne?"DOWNLOAD":he?"INSTRUCTIONS_DESKTOP":"INSTRUCTIONS_EXTENSION")},G=()=>{r(void 0),i(void 0),a(void 0)},M=(Z,Y=!1)=>{Y&&Z==="GET"&&g==="GET"?G():!Y&&Z==="GET"?w("GET"):!Y&&Z==="CONNECT"&&w("CONNECT"),_(Z)},[g,w]=Q.useState("NONE"),[T,_]=Q.useState("NONE");let x=null,j=null,D=null,P;Q.useEffect(()=>{l(!1)},[T,s]);const $=!!(!!(s!=null&&s.extensionDownloadUrl)&&(s!=null&&s.mobileDownloadUrl));switch(T){case"NONE":x=B.createElement(Tk,{getWallet:()=>M("GET")});break;case"LEARN_COMPACT":x=B.createElement(Tk,{compactModeEnabled:d,getWallet:()=>M("GET")}),j=p.t("intro.title"),D="NONE";break;case"GET":x=B.createElement(gge,{getWalletDownload:H,compactModeEnabled:d}),j=p.t("get.title"),D=d?"LEARN_COMPACT":"NONE";break;case"CONNECT":x=s&&B.createElement(wge,{changeWalletStep:M,compactModeEnabled:d,connectionError:u,onClose:e,qrCodeUri:o,reconnect:O,wallet:s}),j=c&&(s.name==="WalletConnect"?p.t("connect_scan.fallback_title"):p.t("connect_scan.title",{wallet:s.name})),D=d?b?null:"NONE":null,P=d?b?()=>{}:G:()=>{};break;case"DOWNLOAD_OPTIONS":x=s&&B.createElement(bge,{changeWalletStep:M,wallet:s}),j=s&&p.t("get_options.short_title",{wallet:s.name}),D=b?"CONNECT":d?"NONE":g;break;case"DOWNLOAD":x=s&&B.createElement(vge,{changeWalletStep:M,wallet:s}),j=s&&p.t("get_mobile.title",{wallet:s.name}),D=$?"DOWNLOAD_OPTIONS":g;break;case"INSTRUCTIONS_MOBILE":x=s&&B.createElement(Ege,{connectWallet:F,wallet:s}),j=s&&p.t("get_options.title",{wallet:d&&s.shortName||s.name}),D="DOWNLOAD";break;case"INSTRUCTIONS_EXTENSION":x=s&&B.createElement(xge,{wallet:s}),j=s&&p.t("get_options.title",{wallet:d&&s.shortName||s.name}),D="DOWNLOAD_OPTIONS";break;case"INSTRUCTIONS_DESKTOP":x=s&&B.createElement(Age,{connectWallet:F,wallet:s}),j=s&&p.t("get_options.title",{wallet:d&&s.shortName||s.name}),D="DOWNLOAD_OPTIONS";break}return B.createElement(K,{display:"flex",flexDirection:"row",style:{maxHeight:d?468:504}},(d?T==="NONE":!0)&&B.createElement(K,{className:d?pge:hge,display:"flex",flexDirection:"column",marginTop:"16"},B.createElement(K,{display:"flex",justifyContent:"space-between"},d&&h&&B.createElement(K,{marginLeft:"16",width:"28"},B.createElement(Zye,{onClick:()=>M("LEARN_COMPACT")})),d&&!h&&B.createElement(K,{marginLeft:"16",width:"28"}),B.createElement(K,{marginLeft:d?"0":"6",paddingBottom:"8",paddingTop:"2",paddingX:"18"},B.createElement(Fe,{as:"h1",color:"modalText",id:t,size:"18",weight:"heavy",testId:"connect-header-label"},p.t("connect.title"))),d&&B.createElement(K,{marginRight:"16"},B.createElement(Uu,{onClose:e}))),B.createElement(K,{className:fge,paddingBottom:"18"},Object.entries(S).map(([Z,Y],ne)=>Y.length>0&&B.createElement(Q.Fragment,{key:ne},Z?B.createElement(K,{marginBottom:"8",marginTop:"16",marginX:"6"},B.createElement(Fe,{color:Z==="Installed"?"accentColor":"modalTextSecondary",size:"14",weight:"bold"},N.includes(Z)?p.t(`connector_group.${Z.toLowerCase()}`):Z)):null,B.createElement(K,{display:"flex",flexDirection:"column",gap:"4"},Y.map(he=>B.createElement(y9,{currentlySelected:he.id===n,iconBackground:he.iconBackground,iconUrl:he.iconUrl,key:he.id,name:he.name,onClick:()=>F(he),ready:he.ready,recent:he.recent,testId:`wallet-option-${he.id}`,isRainbowKitConnector:he.isRainbowKitConnector})))))),d&&B.createElement(B.Fragment,null,B.createElement(K,{background:"generalBorder",height:"1",marginTop:"-1"}),h?B.createElement(K,{paddingX:"24",paddingY:"16",textAlign:"center"},B.createElement(h,{Link:tI,Text:nI})):B.createElement(K,{alignItems:"center",display:"flex",justifyContent:"space-between",paddingX:"24",paddingY:"16"},B.createElement(K,{paddingY:"4"},B.createElement(Fe,{color:"modalTextSecondary",size:"14",weight:"medium"},p.t("connect.new_to_ethereum.description"))),B.createElement(K,{alignItems:"center",display:"flex",flexDirection:"row",gap:"4",justifyContent:"center"},B.createElement(K,{className:kr({active:"shrink",hover:"grow"}),cursor:"pointer",onClick:()=>M("LEARN_COMPACT"),paddingY:"4",style:{willChange:"transform"},transition:"default"},B.createElement(Fe,{color:"accentColor",size:"14",weight:"bold"},p.t("connect.new_to_ethereum.learn_more.label"))))))),(d?T!=="NONE":!0)&&B.createElement(B.Fragment,null,!d&&B.createElement(K,{background:"generalBorder",minWidth:"1",width:"1"}),B.createElement(K,{display:"flex",flexDirection:"column",margin:"16",style:{flexGrow:1}},B.createElement(K,{alignItems:"center",display:"flex",justifyContent:"space-between",marginBottom:"12"},B.createElement(K,{width:"28"},D&&B.createElement(K,{as:"button",className:kr({active:"shrinkSm",hover:"growLg"}),color:"accentColor",onClick:()=>{D&&M(D,!0),P==null||P()},paddingX:"8",paddingY:"4",style:{boxSizing:"content-box",height:17,willChange:"transform"},transition:"default",type:"button"},B.createElement(p9,null))),B.createElement(K,{display:"flex",justifyContent:"center",style:{flexGrow:1}},j&&B.createElement(Fe,{color:"modalText",size:"18",textAlign:"center",weight:"heavy"},j)),B.createElement(Uu,{onClose:e})),B.createElement(K,{display:"flex",flexDirection:"column",style:{minHeight:d?396:432}},B.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",gap:"6",height:"full",justifyContent:"center",marginX:"8"},x)))))}var Sge="_1am14412",kge="_1am14410",Cge="_1am14413",Tge=({wallet:e})=>B.createElement("svg",{className:Cge,viewBox:"0 0 86 86",width:"86",height:"86"},B.createElement("title",null,"Loading"),B.createElement("rect",{x:"3",y:"3",width:80,height:80,rx:20,ry:20,strokeDasharray:`${160/3} ${2*160/3}`,strokeDashoffset:160,className:Sge,style:{stroke:(e==null?void 0:e.iconAccent)||"#0D3887"}}));function k9({onClose:e,wallet:t,connecting:n}){const{connect:r,iconBackground:s,iconUrl:i,id:o,name:a,getMobileUri:c,ready:u,shortName:l,showWalletConnectModal:f}=t,d=m9(i),h=Q.useRef(!1),{i18n:p}=Q.useContext(rr),m=Q.useCallback(async()=>{if(o!=="walletConnect"&&(async()=>{const b=await(c==null?void 0:c());if(b)if(b&&mye({mobileUri:b,name:a}),b.startsWith("http")){const I=document.createElement("a");I.href=b,I.target="_blank",I.rel="noreferrer noopener",I.click()}else window.location.href=b})(),f){f(),e==null||e();return}try{await(r==null?void 0:r())}catch{}},[r,c,f,e,a,o]);return Q.useEffect(()=>{n&&!h.current&&(m(),h.current=!0)},[n,m]),B.createElement(K,{as:"button",color:u?"modalText":"modalTextSecondary",disabled:!u,fontFamily:"body",key:o,onClick:m,ref:d,style:{overflow:"visible",textAlign:"center"},testId:`wallet-option-${o}`,type:"button",width:"full"},B.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center"},B.createElement(K,{display:"flex",alignItems:"center",justifyContent:"center",paddingBottom:"8",paddingTop:"10",position:"relative"},n?B.createElement(Tge,{wallet:t}):null,B.createElement(xr,{background:s,borderRadius:"13",boxShadow:"walletLogo",height:"60",src:i,width:"60"})),n?null:B.createElement(K,{display:"flex",flexDirection:"column",textAlign:"center"},B.createElement(Fe,{as:"h2",color:t.ready?"modalText":"modalTextSecondary",size:"13",weight:"medium"},B.createElement(K,{as:"span",position:"relative"},l??a,!t.ready&&" (unsupported)")),t.recent&&B.createElement(Fe,{color:"accentColor",size:"12",weight:"medium"},p.t("connect.recent")))))}function _ge({onClose:e}){var h;const t="rk_connect_title",n=Zh().filter(p=>p.isRainbowKitConnector),{disclaimer:r,learnMoreUrl:s}=Q.useContext(e0);let i=null,o=null,a=!1,c=null;const[u,l]=Q.useState("CONNECT"),{i18n:f}=Q.useContext(rr),d=Jp();switch(u){case"CONNECT":{i=f.t("connect.title"),a=!0,o=B.createElement(K,null,B.createElement(K,{background:"profileForeground",className:kge,display:"flex",paddingBottom:"20",paddingTop:"6"},B.createElement(K,{display:"flex",style:{margin:"0 auto"}},n.filter(p=>p.ready).map(p=>B.createElement(K,{key:p.id,paddingX:"20"},B.createElement(K,{width:"60"},B.createElement(k9,{onClose:e,wallet:p})))))),B.createElement(K,{background:"generalBorder",height:"1",marginBottom:"32",marginTop:"-1"}),B.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",gap:"32",paddingX:"32",style:{textAlign:"center"}},B.createElement(K,{display:"flex",flexDirection:"column",gap:"8",textAlign:"center"},B.createElement(Fe,{color:"modalText",size:"16",weight:"bold"},f.t("intro.title")),B.createElement(Fe,{color:"modalTextSecondary",size:"16"},f.t("intro.description")))),B.createElement(K,{paddingTop:"32",paddingX:"20"},B.createElement(K,{display:"flex",gap:"14",justifyContent:"center"},B.createElement(rs,{label:f.t("intro.get.label"),onClick:()=>l("GET"),size:"large",type:"secondary"}),B.createElement(rs,{href:s,label:f.t("intro.learn_more.label"),size:"large",type:"secondary"}))),r&&B.createElement(K,{marginTop:"28",marginX:"32",textAlign:"center"},B.createElement(r,{Link:tI,Text:nI})));break}case"GET":{i=f.t("get.title"),c="CONNECT";const p=(h=n==null?void 0:n.filter(m=>{var y,b,I;return((y=m.downloadUrls)==null?void 0:y.ios)||((b=m.downloadUrls)==null?void 0:b.android)||((I=m.downloadUrls)==null?void 0:I.mobile)}))==null?void 0:h.splice(0,3);o=B.createElement(K,null,B.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",marginBottom:"36",marginTop:"5",paddingTop:"12",width:"full"},p.map((m,y)=>{const{downloadUrls:b,iconBackground:I,iconUrl:v,name:E}=m;return!(b!=null&&b.ios)&&!(b!=null&&b.android)&&!(b!=null&&b.mobile)?null:B.createElement(K,{display:"flex",gap:"16",key:m.id,paddingX:"20",width:"full"},B.createElement(K,{style:{minHeight:48,minWidth:48}},B.createElement(xr,{background:I,borderColor:"generalBorder",borderRadius:"10",height:"48",src:v,width:"48"})),B.createElement(K,{display:"flex",flexDirection:"column",width:"full"},B.createElement(K,{alignItems:"center",display:"flex",height:"48"},B.createElement(K,{width:"full"},B.createElement(Fe,{color:"modalText",size:"18",weight:"bold"},E)),B.createElement(rs,{href:(d?b==null?void 0:b.ios:b==null?void 0:b.android)||(b==null?void 0:b.mobile),label:f.t("get.action.label"),size:"small",type:"secondary"})),y<p.length-1&&B.createElement(K,{background:"generalBorderDim",height:"1",marginY:"10",width:"full"})))})),B.createElement(K,{style:{marginBottom:"42px"}}),B.createElement(K,{alignItems:"center",display:"flex",flexDirection:"column",gap:"36",paddingX:"36",style:{textAlign:"center"}},B.createElement(K,{display:"flex",flexDirection:"column",gap:"12",textAlign:"center"},B.createElement(Fe,{color:"modalText",size:"16",weight:"bold"},f.t("get.looking_for.title")),B.createElement(Fe,{color:"modalTextSecondary",size:"16"},f.t("get.looking_for.mobile.description")))));break}}return B.createElement(K,{display:"flex",flexDirection:"column",paddingBottom:"36"},B.createElement(K,{background:a?"profileForeground":"modalBackground",display:"flex",flexDirection:"column",paddingBottom:"4",paddingTop:"14"},B.createElement(K,{display:"flex",justifyContent:"center",paddingBottom:"6",paddingX:"20",position:"relative"},c&&B.createElement(K,{display:"flex",position:"absolute",style:{left:0,marginBottom:-20,marginTop:-20}},B.createElement(K,{alignItems:"center",as:"button",className:kr({active:"shrinkSm",hover:"growLg"}),color:"accentColor",display:"flex",marginLeft:"4",marginTop:"20",onClick:()=>l(c),padding:"16",style:{height:17,willChange:"transform"},transition:"default",type:"button"},B.createElement(p9,null))),B.createElement(K,{marginTop:"4",textAlign:"center",width:"full"},B.createElement(Fe,{as:"h1",color:"modalText",id:t,size:"20",weight:"bold"},i)),B.createElement(K,{alignItems:"center",display:"flex",height:"32",paddingRight:"14",position:"absolute",right:"0"},B.createElement(K,{style:{marginBottom:-20,marginTop:-20}},B.createElement(Uu,{onClose:e}))))),B.createElement(K,{display:"flex",flexDirection:"column"},o))}var Mge=({onClose:e})=>{const{connector:t}=Q.useContext(t0),{i18n:n}=Q.useContext(rr),r=(t==null?void 0:t.name)||"";return B.createElement(K,null,B.createElement(K,{display:"flex",paddingBottom:"32",justifyContent:"center",alignItems:"center",background:"profileForeground",flexDirection:"column"},B.createElement(K,{width:"full",display:"flex",justifyContent:"flex-end",marginTop:"18",marginRight:"24"},B.createElement(Uu,{onClose:e})),B.createElement(K,{width:"60"},B.createElement(k9,{onClose:e,wallet:t,connecting:!0})),B.createElement(K,{marginTop:"20"},B.createElement(Fe,{textAlign:"center",color:"modalText",size:"18",weight:"semibold"},n.t("connect.status.connect_mobile",{wallet:r}))),B.createElement(K,{maxWidth:"full",marginTop:"8"},B.createElement(Fe,{textAlign:"center",color:"modalText",size:"16",weight:"medium"},n.t("connect.status.confirm_mobile",{wallet:r})))))};function Bge({onClose:e}){const{connector:t}=Q.useContext(t0);return er()?t?B.createElement(Mge,{onClose:e}):B.createElement(_ge,{onClose:e}):B.createElement(Ige,{onClose:e})}function Nge({onClose:e,open:t}){const n="rk_connect_title",r=DD(),{disconnect:s}=zA(),{isConnecting:i}=us(),o=B.useCallback(()=>{e(),s()},[e,s]),a=B.useCallback(()=>{i&&s(),e()},[e,s,i]);return r==="disconnected"?B.createElement(Fy,{onClose:a,open:t,titleId:n},B.createElement(Hy,{bottomSheetOnMobile:!0,padding:"0",wide:!0},B.createElement(Bge,{onClose:a}))):r==="unauthenticated"?B.createElement(Fy,{onClose:o,open:t,titleId:n},B.createElement(Hy,{bottomSheetOnMobile:!0,padding:"0"},B.createElement(hye,{onClose:o,onCloseModal:e}))):null}function Pb(){const[e,t]=Q.useState(!1);return{closeModal:Q.useCallback(()=>t(!1),[]),isModalOpen:e,openModal:Q.useCallback(()=>t(!0),[])}}var Ef=Q.createContext({accountModalOpen:!1,chainModalOpen:!1,connectModalOpen:!1,isWalletConnectModalOpen:!1,setIsWalletConnectModalOpen:()=>{}});function Oge({children:e}){const{closeModal:t,isModalOpen:n,openModal:r}=Pb(),{closeModal:s,isModalOpen:i,openModal:o}=Pb(),{closeModal:a,isModalOpen:c,openModal:u}=Pb(),[l,f]=Q.useState(!1),d=DD(),{chainId:h}=us(),{chains:p}=nr(),m=p.some(I=>I.id===h),y=Q.useCallback(({keepConnectModalOpen:I=!1}={})=>{I||t(),s(),a()},[t,s,a]),b=Iw()==="unauthenticated";return _D({onConnect:()=>y({keepConnectModalOpen:b}),onDisconnect:()=>y()}),Q.useEffect(()=>{b&&y()},[b,y]),B.createElement(Ef.Provider,{value:Q.useMemo(()=>({accountModalOpen:i,chainModalOpen:c,connectModalOpen:n,isWalletConnectModalOpen:l,openAccountModal:m&&d==="connected"?o:void 0,openChainModal:d==="connected"?u:void 0,openConnectModal:d==="disconnected"||d==="unauthenticated"?r:void 0,setIsWalletConnectModalOpen:f}),[d,i,c,n,o,u,r,m,l])},e,B.createElement(Nge,{onClose:t,open:n}),B.createElement(zye,{onClose:s,open:i}),B.createElement(Kye,{onClose:a,open:c}))}function Pge(){const{accountModalOpen:e,chainModalOpen:t,connectModalOpen:n}=Q.useContext(Ef);return{accountModalOpen:e,chainModalOpen:t,connectModalOpen:n}}function jge(){const{accountModalOpen:e,openAccountModal:t}=Q.useContext(Ef);return{accountModalOpen:e,openAccountModal:t}}function Rge(){const{chainModalOpen:e,openChainModal:t}=Q.useContext(Ef);return{chainModalOpen:e,openChainModal:t}}function C9(){const{isWalletConnectModalOpen:e,setIsWalletConnectModalOpen:t}=Q.useContext(Ef);return{isWalletConnectModalOpen:e,setIsWalletConnectModalOpen:t}}function Dge(){const{connectModalOpen:e,openConnectModal:t}=Q.useContext(Ef),{isWalletConnectModalOpen:n}=C9();return{connectModalOpen:e||n,openConnectModal:t}}var jb=()=>{};function Uge({children:e}){const t=bme(),{address:n}=us(),{chainId:r}=us(),{chains:s}=nr(),i=s.some(G=>G.id===r),o=yme(),a=Iw()??void 0,c=r?o[r]:void 0,u=(c==null?void 0:c.name)??void 0,l=(c==null?void 0:c.iconUrl)??void 0,f=(c==null?void 0:c.iconBackground)??void 0,d=Sw(l),h=Q.useContext(QA),p=YD().some(({status:G})=>G==="pending")&&h,{showBalance:m}=wme(),b=typeof m=="boolean"?m:m?j0e(m)[er()?"smallScreen":"largeScreen"]:!0,{balance:I,ensAvatar:v,ensName:E}=GD({address:n,includeBalance:b}),S=I?`${u9(Number.parseFloat(I.formatted))} ${I.symbol}`:void 0,{openConnectModal:N}=Dge(),{openChainModal:O}=Rge(),{openAccountModal:z}=jge(),{accountModalOpen:L,chainModalOpen:F,connectModalOpen:H}=Pge();return B.createElement(B.Fragment,null,e({account:n?{address:n,balanceDecimals:I==null?void 0:I.decimals,balanceFormatted:I==null?void 0:I.formatted,balanceSymbol:I==null?void 0:I.symbol,displayBalance:S,displayName:E?d9(E):l9(n),ensAvatar:v??void 0,ensName:E??void 0,hasPendingTransactions:p}:void 0,accountModalOpen:L,authenticationStatus:a,chain:r?{hasIcon:!!l,iconBackground:f,iconUrl:d,id:r,name:u,unsupported:!i}:void 0,chainModalOpen:F,connectModalOpen:H,mounted:t(),openAccountModal:z??jb,openChainModal:O??jb,openConnectModal:N??jb}))}Uge.displayName="ConnectButton.Custom";var T9=({appName:e,appDescription:t,appUrl:n,appIcon:r})=>({name:e,description:t??e,url:n??(typeof window<"u"?window.location.origin:""),icons:[...r?[r]:[]]});function Lge(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>n!==void 0))}function $ge(e,t){const n=[];for(const r of e)n.some(s=>s[t]===r[t])||n.push(r);return n}var zge=(e,{projectId:t,walletConnectParameters:n,appName:r,appDescription:s,appUrl:i,appIcon:o})=>{if(!e.length)throw new Error("No wallet list was provided");for(const{wallets:h,groupName:p}of e)if(!h.length)throw new Error(`No wallets provided for group: ${p}`);let a=-1;const c=[],u=[],l=[],f=T9({appName:r,appDescription:s,appUrl:i,appIcon:o});for(const[h,{groupName:p,wallets:m}]of e.entries())for(const y of m){a++;const b=y({projectId:t,appName:r,appIcon:o,options:{metadata:f,...n},walletConnectParameters:{metadata:f,...n}});if(b!=null&&b.iconAccent&&!sge(b==null?void 0:b.iconAccent))throw new Error(`Property \`iconAccent\` is not a hex value for wallet: ${b.name}`);const I={...b,groupIndex:h+1,groupName:p,index:a};typeof b.hidden=="function"?l.push(I):u.push(I)}const d=$ge([...u,...l],"id");for(const{createConnector:h,groupIndex:p,groupName:m,hidden:y,...b}of d){if(typeof y=="function"&&y())continue;const I=S=>({rkDetails:Lge({...b,groupIndex:p,groupName:m,isRainbowKitConnector:!0,...S||{}})});b.id==="walletConnect"&&c.push(h(I({isWalletConnectModalConnector:!0,showQrModal:!0})));const E=h(I());c.push(E)}return c},Mk=new Map,Fge=({projectId:e,walletConnectParameters:t,rkDetailsShowQrModal:n,rkDetailsIsWalletConnectModalConnector:r})=>{let s={...t||{},projectId:e,showQrModal:!1};n&&(s={...s,showQrModal:!0}),"customStoragePrefix"in s||(s={...s,customStoragePrefix:r?"clientOne":"clientTwo"});const i=JSON.stringify(s),o=Mk.get(i);if(o)return o;const a=GA(s);return Mk.set(i,a),a};function Hge({projectId:e,walletDetails:t,walletConnectParameters:n}){return r=>({...Fge({projectId:e,walletConnectParameters:n,rkDetailsShowQrModal:t.rkDetails.showQrModal,rkDetailsIsWalletConnectModalConnector:t.rkDetails.isWalletConnectModalConnector})(r),...t})}function rI({projectId:e,walletConnectParameters:t}){const n="21fef48091f12692cad574a6f7753643";if(!e||e==="")throw new Error("No projectId found. Every dApp must now provide a WalletConnect Cloud projectId to enable WalletConnect v2 https://www.rainbowkit.com/docs/installation#configure");return e==="YOUR_PROJECT_ID"&&(e=n),r=>Hge({projectId:e,walletDetails:r,walletConnectParameters:t})}function _9(e){const t=typeof window<"u"?window:void 0;if(typeof t>"u"||typeof t.ethereum>"u")return;const n=t.ethereum.providers;return n?n.find(r=>r[e]):t.ethereum[e]?t.ethereum:void 0}function M9(e){const t=(n,r)=>{const[s,...i]=r.split("."),o=n[s];if(o)return i.length===0?o:t(o,i.join("."))};if(typeof window<"u")return t(window,e)}function qge({flag:e,namespace:t}){return!!(t&&typeof M9(t)<"u"||typeof _9(e)<"u")}function Wge({flag:e,namespace:t}){var s;const n=typeof window<"u"?window:void 0;if(typeof n>"u")return;if(t){const i=M9(t);if(i)return i}const r=(s=n.ethereum)==null?void 0:s.providers;{const i=_9(e);if(i)return i}return typeof r<"u"&&r.length>0?r[0]:n.ethereum}function Gge(e){return t=>{const n=e?{target:()=>({id:t.rkDetails.id,name:t.rkDetails.name,provider:e})}:{};return r=>({...ww(n)(r),...t})}}function Vge({flag:e,namespace:t,target:n}){const r=n||Wge({flag:e,namespace:t});return Gge(r)}var B9=({appName:e,appIcon:t})=>({id:"baseAccount",name:"Base Account",shortName:"Base Account",rdns:"app.base.account",iconUrl:async()=>(await we(async()=>{const{default:n}=await import("./baseAccount-44UITRK7-CsjdbWCf.js");return{default:n}},[])).default,iconAccent:"#0000FF",iconBackground:"#0000FF",installed:!0,createConnector:n=>{const{...r}=B9,s=k0e({appName:e,appLogoUrl:t,...r});return i=>({...s(i),...n})}});function Kge(e){return!(!(e!=null&&e.isMetaMask)||e.isBraveWallet&&!e._events&&!e._state||e.isApexWallet||e.isAvalanche||e.isBackpack||e.isBifrost||e.isBitKeep||e.isBitski||e.isBlockWallet||e.isCoinbaseWallet||e.isDawn||e.isEnkrypt||e.isExodus||e.isFrame||e.isFrontier||e.isGamestop||e.isHyperPay||e.isImToken||e.isKuCoinWallet||e.isMathWallet||e.isNestWallet||e.isOkxWallet||e.isOKExWallet||e.isOneInchIOSWallet||e.isOneInchAndroidWallet||e.isOpera||e.isPhantom||e.isPortal||e.isRabby||e.isRainbow||e.isStatus||e.isTalisman||e.isTally||e.isTokenPocket||e.isTokenary||e.isTrust||e.isTrustWallet||e.isXDEFI||e.isZeal||e.isZerion||e.__seif)}var Qge=({projectId:e,walletConnectParameters:t})=>{const n=typeof window<"u"?Kge(window.ethereum):!1,r=!n&&!er(),s=n||er();return{id:"metaMask",name:"MetaMask",rdns:"io.metamask",iconUrl:async()=>(await we(async()=>{const{default:i}=await import("./metaMaskWallet-SITXT2FV-BlemcphV.js");return{default:i}},[])).default,iconAccent:"#f6851a",iconBackground:"#fff",installed:n||void 0,downloadUrls:{android:"https://play.google.com/store/apps/details?id=io.metamask",ios:"https://apps.apple.com/us/app/metamask/id1438144202",mobile:"https://metamask.io/download",qrCode:"https://metamask.io/download",chrome:"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn",edge:"https://microsoftedge.microsoft.com/addons/detail/metamask/ejbalbakoplchlghecdalmeeeajnimhm",firefox:"https://addons.mozilla.org/firefox/addon/ether-metamask",opera:"https://addons.opera.com/extensions/details/metamask-10",browserExtension:"https://metamask.io/download"},mobile:{getUri:s?i=>i:void 0},qrCode:r?{getUri:i=>`https://metamask.app.link/wc?uri=${encodeURIComponent(i)}`,instructions:{learnMoreUrl:"https://metamask.io/faqs/",steps:[{description:"wallet_connectors.metamask.qr_code.step1.description",step:"install",title:"wallet_connectors.metamask.qr_code.step1.title"},{description:"wallet_connectors.metamask.qr_code.step2.description",step:"create",title:"wallet_connectors.metamask.qr_code.step2.title"},{description:"wallet_connectors.metamask.qr_code.step3.description",step:"refresh",title:"wallet_connectors.metamask.qr_code.step3.title"}]}}:void 0,extension:{instructions:{learnMoreUrl:"https://metamask.io/faqs/",steps:[{description:"wallet_connectors.metamask.extension.step1.description",step:"install",title:"wallet_connectors.metamask.extension.step1.title"},{description:"wallet_connectors.metamask.extension.step2.description",step:"create",title:"wallet_connectors.metamask.extension.step2.title"},{description:"wallet_connectors.metamask.extension.step3.description",step:"refresh",title:"wallet_connectors.metamask.extension.step3.title"}]}},createConnector:r?rI({projectId:e,walletConnectParameters:t}):i=>o=>{var c,u,l;const a=qA({dappMetadata:{connector:"rainbowkit",name:(c=t==null?void 0:t.metadata)==null?void 0:c.name,iconUrl:(u=t==null?void 0:t.metadata)==null?void 0:u.icons[0],url:(l=t==null?void 0:t.metadata)==null?void 0:l.url},headless:!0,checkInstallationImmediately:!1,enableAnalytics:!1})(o);return{...a,...i,getChainId:async()=>{var f;try{return await a.getChainId()}catch{return((f=o.chains[0])==null?void 0:f.id)??1}}}}}},Yge=({projectId:e,walletConnectParameters:t})=>{const n=qge({flag:"isRainbow"}),r=!n,s=i=>UD()?i:Jp()?`rainbow://wc?uri=${encodeURIComponent(i)}&connector=rainbowkit`:`https://rnbwapp.com/wc?uri=${encodeURIComponent(i)}&connector=rainbowkit`;return{id:"rainbow",name:"Rainbow",rdns:"me.rainbow",iconUrl:async()=>(await we(async()=>{const{default:i}=await import("./rainbowWallet-O26YNBMX-DUhYus-9.js");return{default:i}},[])).default,iconBackground:"#0c2f78",installed:r?void 0:n,downloadUrls:{android:"https://play.google.com/store/apps/details?id=me.rainbow&referrer=utm_source%3Drainbowkit&utm_source=rainbowkit",ios:"https://apps.apple.com/app/apple-store/id1457119021?pt=119997837&ct=rainbowkit&mt=8",mobile:"https://rainbow.download?utm_source=rainbowkit",qrCode:"https://rainbow.download?utm_source=rainbowkit&utm_medium=qrcode",browserExtension:"https://rainbow.me/extension?utm_source=rainbowkit"},mobile:{getUri:r?s:void 0},qrCode:r?{getUri:s,instructions:{learnMoreUrl:"https://learn.rainbow.me/connect-to-a-website-or-app?utm_source=rainbowkit&utm_medium=connector&utm_campaign=learnmore",steps:[{description:"wallet_connectors.rainbow.qr_code.step1.description",step:"install",title:"wallet_connectors.rainbow.qr_code.step1.title"},{description:"wallet_connectors.rainbow.qr_code.step2.description",step:"create",title:"wallet_connectors.rainbow.qr_code.step2.title"},{description:"wallet_connectors.rainbow.qr_code.step3.description",step:"scan",title:"wallet_connectors.rainbow.qr_code.step3.title"}]}}:void 0,createConnector:r?rI({projectId:e,walletConnectParameters:t}):Vge({flag:"isRainbow"})}},Zge=()=>({id:"safe",name:"Safe",iconAccent:"#12ff80",iconBackground:"#fff",iconUrl:async()=>(await we(async()=>{const{default:e}=await import("./safeWallet-5MNKTR5Z-D-5imDLD.js");return{default:e}},[])).default,installed:!(typeof window>"u")&&(window==null?void 0:window.parent)!==window,downloadUrls:{},createConnector:e=>t=>({...WA()(t),...e})}),Xge=({projectId:e,options:t})=>({id:"walletConnect",name:"WalletConnect",installed:void 0,iconUrl:async()=>(await we(async()=>{const{default:r}=await import("./walletConnectWallet-YHWKVTDY-D3lyiczV.js");return{default:r}},[])).default,iconBackground:"#3b99fc",qrCode:{getUri:r=>r},createConnector:rI({projectId:e,walletConnectParameters:t})}),Jge=e=>e.reduce((n,r)=>{const s=r.id;return n[s]=jx(),n},{}),xve=({appName:e,appDescription:t,appUrl:n,appIcon:r,wallets:s,projectId:i,...o})=>{const{transports:a,chains:c,...u}=o,l=T9({appName:e,appDescription:t,appUrl:n,appIcon:r}),f=zge(s||[{groupName:"Popular",wallets:[Zge,Yge,B9,Qge,Xge]}],{projectId:i,appName:e,appDescription:t,appUrl:n,appIcon:r,walletConnectParameters:{metadata:l}});return Zhe({connectors:f,chains:c,transports:a||Jge(c),...u})};const ewe="Coinbase Wallet";class Ave extends p7{constructor(t={}){super(),this.name=ewe,this.url="https://chrome.google.com/webstore/detail/coinbase-wallet-extension/hnfanknocfeofbddgcijnmhnfnkdnaad",this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8Y2lyY2xlIGN4PSI1MTIiIGN5PSI1MTIiIHI9IjUxMiIgZmlsbD0iIzAwNTJGRiIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE1MiA1MTJDMTUyIDcxMC44MjMgMzEzLjE3NyA4NzIgNTEyIDg3MkM3MTAuODIzIDg3MiA4NzIgNzEwLjgyMyA4NzIgNTEyQzg3MiAzMTMuMTc3IDcxMC44MjMgMTUyIDUxMiAxNTJDMzEzLjE3NyAxNTIgMTUyIDMxMy4xNzcgMTUyIDUxMlpNNDIwIDM5NkM0MDYuNzQ1IDM5NiAzOTYgNDA2Ljc0NSAzOTYgNDIwVjYwNEMzOTYgNjE3LjI1NSA0MDYuNzQ1IDYyOCA0MjAgNjI4SDYwNEM2MTcuMjU1IDYyOCA2MjggNjE3LjI1NSA2MjggNjA0VjQyMEM2MjggNDA2Ljc0NSA2MTcuMjU1IDM5NiA2MDQgMzk2SDQyMFoiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?Fc.Unsupported:Fc.NotDetected,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new Xie),this.emit("disconnect"))},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==Fc.Unsupported&&roe(()=>window!=null&&window.coinbaseSolana?(this._readyState=Fc.Installed,this.emit("readyStateChange",this._readyState),!0):!1)}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==Fc.Installed)throw new Yie;this._connecting=!0;const t=window.coinbaseSolana;try{await t.connect()}catch(r){throw new Zie(r==null?void 0:r.message,r)}if(!t.publicKey)throw new eoe;let n;try{n=new Ye(t.publicKey.toBytes())}catch(r){throw new toe(r==null?void 0:r.message,r)}t.on("disconnect",this._disconnected),this._wallet=t,this._publicKey=n,this.emit("connect",n)}catch(t){throw this.emit("error",t),t}finally{this._connecting=!1}}async disconnect(){const t=this._wallet;if(t){t.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null;try{await t.disconnect()}catch(n){this.emit("error",new Jie(n==null?void 0:n.message,n))}}this.emit("disconnect")}async sendTransaction(t,n,r={}){try{const s=this._wallet;if(!s)throw new Vf;try{const{signers:i,...o}=r;N2(t)?i!=null&&i.length&&t.sign(i):(t=await this.prepareTransaction(t,n,o),i!=null&&i.length&&t.partialSign(...i)),o.preflightCommitment=o.preflightCommitment||n.commitment;const{signature:a}=await s.signAndSendTransaction(t,o);return a}catch(i){throw i instanceof Ps?i:new Kf(i==null?void 0:i.message,i)}}catch(s){throw this.emit("error",s),s}}async signTransaction(t){try{const n=this._wallet;if(!n)throw new Vf;try{return await n.signTransaction(t)||t}catch(r){throw new tu(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(t){try{const n=this._wallet;if(!n)throw new Vf;try{return await n.signAllTransactions(t)||t}catch(r){throw new tu(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(t){try{const n=this._wallet;if(!n)throw new Vf;try{const{signature:r}=await n.signMessage(t);return r}catch(r){throw new tu(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}function N9(e){const t=e.state.current,n=e.state.connections.get(t),r=n==null?void 0:n.accounts,s=r==null?void 0:r[0],i=e.chains.find(a=>a.id===(n==null?void 0:n.chainId)),o=e.state.status;switch(o){case"connected":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:o};case"reconnecting":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:o};case"connecting":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:o};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:o}}}const dh="0.3.1";let Bk={version:`bigmi@${dh}`};class Ms extends Error{constructor(t,n={}){const r=(()=>{var i;return n.cause instanceof Ms?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details})(),s=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...r?[`Details: ${r}`]:[],...Bk.version?[`Version: ${Bk.version}`]:[]].join(`
`);super(s,n.cause?{cause:n.cause}:void 0),this.name="BaseError",this.details=r,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=dh}walk(t){return O9(this,t)}}function O9(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?O9(e.cause,t):t?null:e}const Fd=(e,t,n)=>JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString():s,n);async function twe(e){return new Promise(t=>setTimeout(t,e))}function ll(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,i)=>{const o=async({count:a=0}={})=>{const c=async({error:u})=>{const l=typeof t=="function"?t({count:a,error:u}):t;l&&await twe(l),o({count:a+1})};try{const u=await e();s(u)}catch(u){if(a<n&&await r({count:a,error:u}))return c({error:u});i(u)}};o()})}const sI=e=>e;class fh extends Ms{constructor({body:t,cause:n,details:r,headers:s,status:i,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${sI(o)}`,t&&`Request body: ${Fd(t)}`].filter(Boolean),name:"HttpRequestError"}),this.body=t,this.headers=s,this.status=i,this.url=o}}class nwe extends Ms{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${sI(r)}`,`Request body: ${Fd(t)}`],name:"RpcRequestError"}),this.code=n.code,this.data=n.data}}class Nk extends Ms{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${sI(n)}`,`Request body: ${Fd(t)}`],name:"TimeoutError"})}}function rwe(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,i)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r&&a.abort()},n)),s(await e({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&i(t),i(a)}finally{clearTimeout(o)}})()})}function swe(e,t={}){return{async request(n){var f;const{body:r,onRequest:s=t.onRequest,onResponse:i=t.onResponse,timeout:o=t.timeout??1e4}=n,a={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:u,signal:l}=a;try{const d=await rwe(async({signal:p})=>{const m={...a,body:r?Fd(r):void 0,headers:{...u!=="GET"?{"Content-Type":"application/json"}:void 0,...c},method:u||"POST",signal:l||(o>0?p:null)},y=new Request(n.url??e,m);return s&&await s(y,m),await fetch(n.url??e,m)},{errorInstance:new Nk({body:r??{},url:e}),timeout:o,signal:!0});i&&await i(d);let h;if((f=d.headers.get("Content-Type"))!=null&&f.startsWith("application/json")?h=await d.json():(h=await d.text(),h=JSON.parse(h||"{}")),!d.ok)throw new fh({body:r,details:Fd(h.error)||d.statusText,headers:d.headers,status:d.status,url:e});return h}catch(d){throw d instanceof fh||d instanceof Nk?d:new fh({body:r,cause:d,url:e})}}}}class iwe extends Ms{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{name:"UrlRequiredError"})}}var Lu;(function(e){e[e.PARSE_ERROR=-32700]="PARSE_ERROR",e[e.INVALID_REQUEST=-32600]="INVALID_REQUEST",e[e.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",e[e.INVALID_PARAMS=-32602]="INVALID_PARAMS",e[e.INTERNAL_ERROR=-32603]="INTERNAL_ERROR",e[e.USER_REJECTION=-32e3]="USER_REJECTION",e[e.METHOD_NOT_SUPPORTED=-32001]="METHOD_NOT_SUPPORTED",e[e.ACCESS_DENIED=-32002]="ACCESS_DENIED"})(Lu||(Lu={}));class Bs extends Ms{constructor(t){const n="UserRejectedRequestError",r=t||"The user rejected your request, please try again";super(`${n}:  ${r}`,{name:n}),this.code=Lu.USER_REJECTION}}class ks extends Ms{constructor(t){const n="MethodNotSupportedError",r=`The method ${t} you are calling is not supported`;super(`${n}: ${r}`,{name:n}),this.code=Lu.METHOD_NOT_SUPPORTED}}function P9(e){const t=e.match(/.{1,2}/g).map(n=>String.fromCharCode(Number.parseInt(n,16))).join("");return btoa(t)}function j9(e){const t=atob(e);let n="";for(let r=0;r<t.length;r++){const s=t.charCodeAt(r).toString(16);n+=s.length===2?s:`0${s}`}return n}function Ok(e){const t=new TextEncoder().encode(e);return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function owe(e){return`0x${Array.from(e).map(n=>n.charCodeAt(0).toString(16).padStart(2,"0")).join("")}`}class awe extends Map{constructor(t){super(),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const V0=new awe(8192);function cwe(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(V0.get(n))return V0.get(n);const r=e().finally(()=>V0.delete(n));return V0.set(n,r),r}function uwe(e,t={}){return async(n,r={})=>{var f;const{dedupe:s=!1,methods:i,retryDelay:o=150,retryCount:a=3,uid:c}={...t,...r},{method:u}=n;if((f=i==null?void 0:i.exclude)!=null&&f.includes(u))throw new ks(u);if(i!=null&&i.include&&!i.include.includes(u))throw new ks(u);const l=s?owe(`${c}.${Fd(n)}`):void 0;return cwe(()=>ll(async()=>{try{return await e(n)}catch(d){const h=d;switch(h.code){case Lu.METHOD_NOT_SUPPORTED:throw new ks(u);case Lu.USER_REJECTION:throw new Bs(h.message);case 5e3:throw new Bs(h.message);default:throw d instanceof Ms?d:new Ms("Unknown Error",{cause:d})}}},{delay:({count:d,error:h})=>{var p;if(h&&h instanceof fh){const m=(p=h==null?void 0:h.headers)==null?void 0:p.get("Retry-After");if(m!=null&&m.match(/\d/))return Number.parseInt(m)*1e3}return~~(1<<d)*o},retryCount:a,shouldRetry:({error:d})=>lwe(d)}),{enabled:s,id:l})}}function lwe(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===Lu.INTERNAL_ERROR:e instanceof fh&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}const cE=256;let K0=cE,Q0;function iI(e=11){if(!Q0||K0+e>cE*2){Q0="",K0=0;for(let t=0;t<cE;t++)Q0+=(256+Math.random()*256|0).toString(16).substring(1)}return Q0.substring(K0,K0+++e)}function dwe({key:e,methods:t,name:n,request:r,retryCount:s=3,retryDelay:i=150,timeout:o,type:a},c){const u=iI();return{config:{key:e,methods:t,name:n,request:r,retryCount:s,retryDelay:i,timeout:o,type:a},request:uwe(r,{methods:t,retryCount:s,retryDelay:i,uid:u}),value:c}}function fwe(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}function Xh(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;let n,r;if(Array.isArray(e)&&Array.isArray(t)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Xh(e[r],t[r]))return!1;return!0}if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const s=Object.keys(e);if(n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(i&&!Xh(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function hwe(e){const{cacheTime:t=e.pollingInterval??4e3,key:n="base",name:r="Base Client",pollingInterval:s=4e3,type:i="base"}=e,o=e.chain,a=e.account?fwe(e.account):void 0,{config:c,request:u,value:l}=e.transport({chain:o,pollingInterval:s}),f={...c,...l},d={account:a,cacheTime:t,chain:o,key:n,name:r,pollingInterval:s,request:u,transport:f,type:i,uid:iI()};function h(p){return m=>{const y=m(p);for(const I in d)delete y[I];const b={...p,...y};return Object.assign(b,{extend:h(b)})}}return Object.assign(d,{extend:h(d)})}function pwe(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}const Ive=pwe({id:20000000000001,name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://node-router.thorswap.net/bitcoin"]}},blockExplorers:{default:{name:"Mempool",url:"https://mempool.space/"}}});class Pk extends Ms{constructor(){super("Chain not configured."),this.name="ChainNotConfiguredError"}}class mwe extends Ms{constructor(){super("Connector already connected."),this.name="ConnectorAlreadyConnectedError"}}class Kt extends Ms{constructor(t){const n="ProviderNotFoundError";super(`${n}: ${t||"The provider for this connector was not found"}`,{name:n})}}function ywe(){let e=()=>{},t=()=>{};return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}const Rb=new Map;function gwe({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const i=async()=>{const l=c();o();const f=l.map(({args:d})=>d);f.length!==0&&e(f).then(d=>{s&&Array.isArray(d)&&d.sort(s);for(let h=0;h<l.length;h++){const{resolve:p}=l[h];p==null||p([d[h],d])}}).catch(d=>{for(let h=0;h<l.length;h++){const{reject:p}=l[h];p==null||p(d)}})},o=()=>Rb.delete(t),a=()=>c().map(({args:l})=>l),c=()=>Rb.get(t)||[],u=l=>Rb.set(t,[...c(),l]);return{flush:o,async schedule(l){const{promise:f,resolve:d,reject:h}=ywe();return(n==null?void 0:n([...a(),l]))&&i(),c().length>0?(u({args:l,resolve:d,reject:h}),f):(u({args:l,resolve:d,reject:h}),setTimeout(i,r),f)}}}const wwe=["getBalance","getTransactions","getUTXOs"];function Sve(e,t={}){const{batch:n,fetchOptions:r,key:s="http",methods:i={exclude:wwe},name:o="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:c,retryDelay:u,raw:l}=t;return({chain:f,retryCount:d,timeout:h})=>{const{batchSize:p=1e3,wait:m=0}=typeof n=="object"?n:{},y=t.retryCount??d,b=h??t.timeout??1e4,I=f==null?void 0:f.rpcUrls.default.http[0];if(!I)throw new iwe;const v=swe(I,{fetchOptions:r,onRequest:a,onResponse:c,timeout:b});return dwe({key:s,methods:i,name:o,async request({method:E,params:S}){const N={method:E,params:S},{schedule:O}=gwe({id:I,wait:m,shouldSplitBatch(H){return H.length>p},fn:H=>v.request({body:H}),sort:(H,G)=>H.id-G.id}),z=async H=>n?O(H):[await v.request({body:H})],[{error:L,result:F}]=await z(N);if(l)return{error:L,result:F};if(L)throw new nwe({body:N,error:L,url:I});return F},retryCount:y,retryDelay:u,timeout:b,type:"http"},{fetchOptions:r,url:I})}}let Db=!1;async function R9(e,t={}){var u,l;if(Db)return[];Db=!0,e.setState(f=>({...f,status:f.current?"reconnecting":"connecting"}));const n=[];if((u=t.connectors)!=null&&u.length)for(const f of t.connectors){let d;typeof f=="function"?d=e._internal.connectors.setup(f):d=f,n.push(d)}else n.push(...e.connectors);let r;try{r=await((l=e.storage)==null?void 0:l.getItem("recentConnectorId"))}catch{}const s={};for(const[,f]of e.state.connections)s[f.connector.id]=1;r&&(s[r]=0);const i=Object.keys(s).length>0?[...n].sort((f,d)=>(s[f.id]??10)-(s[d.id]??10)):n;let o=!1;const a=[],c=[];for(const f of i){const d=await f.getProvider().catch(()=>{});if(!d||c.some(m=>m===d)||!await f.isAuthorized())continue;const p=await f.connect({isReconnecting:!0}).catch(()=>null);p&&(f.emitter.off("connect",e._internal.events.connect),f.emitter.on("change",e._internal.events.change),f.emitter.on("disconnect",e._internal.events.disconnect),e.setState(m=>{const y=new Map(o?m.connections:new Map).set(f.uid,{accounts:p.accounts,chainId:p.chainId,connector:f});return{...m,current:o?m.current:f.uid,connections:y}}),a.push({accounts:p.accounts,chainId:p.chainId,connector:f}),c.push(d),o=!0)}return(e.state.status==="reconnecting"||e.state.status==="connecting")&&(o?e.setState(f=>({...f,status:"connected"})):e.setState(f=>({...f,connections:new Map,current:null,status:"disconnected"}))),Db=!1,a}function bwe(e,t){const{onChange:n}=t;return e.subscribe(()=>N9(e),n,{equalityFn(r,s){const{connector:i,...o}=r,{connector:a,...c}=s;return Xh(o,c)&&(i==null?void 0:i.id)===(a==null?void 0:a.id)&&(i==null?void 0:i.uid)===(a==null?void 0:a.uid)}})}async function vwe(e,t){var r;let n;if(typeof t.connector=="function"?n=e._internal.connectors.setup(t.connector):n=t.connector,n.uid===e.state.current)throw new mwe;try{e.setState(c=>({...c,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:s,...i}=t,o=await n.connect(i),a=o.accounts;return n.emitter.off("connect",e._internal.events.connect),n.emitter.on("change",e._internal.events.change),n.emitter.on("disconnect",e._internal.events.disconnect),await((r=e.storage)==null?void 0:r.setItem("recentConnectorId",n.id)),e.setState(c=>({...c,connections:new Map(c.connections).set(n.uid,{accounts:a,chainId:o.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:a,chainId:o.chainId}}catch(s){throw e.setState(i=>({...i,status:i.current?"connected":"disconnected"})),s}}let Ub=[];function jk(e){const t=e.connectors;return Xh(Ub,t)?Ub:(Ub=t,t)}function Ewe(e,t){const{onChange:n}=t;return e._internal.connectors.subscribe((r,s)=>{n(Object.values(r),s)})}D9.type="UTXO";function D9(e={}){const{chainId:t,shimDisconnect:n=!0}=e;let r;return s=>({id:"io.xdefi.bitcoin",name:"XDEFI",type:D9.type,icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF8yMTkxXzQyOTApIj4KPHJlY3Qgd2lkdGg9IjUxMiIgaGVpZ2h0PSI1MTIiIHJ4PSIxMDQiIGZpbGw9IiMzMzVERTUiLz4KPHBhdGggZD0iTTQ2My40MzggMjQxLjI0N0M0NjAuNzY1IDIwNS4xMzUgNDQ4LjU4IDE3MC4zMzggNDI4LjA4NyAxNDAuMjcxQzQwNy41OTkgMTEwLjIwOSAzNzkuNTA5IDg1LjkxODIgMzQ2LjU3OSA2OS43OTZDMzEzLjY1MyA1My42NzggMjc3LjAzMiA0Ni4yODA0IDI0MC4zMiA0OC4zMzYzQzIwMy42MDUgNTAuMzkyMSAxNjguMDY5IDYxLjgyNTUgMTM3LjIxMiA4MS41MjAxQzEwNi4zNTQgMTAxLjIxIDgxLjIzOTQgMTI4LjQ4IDY0LjMzODYgMTYwLjYzNkw2My41MzYgMTYyLjI1N0M1OC4xOTcxIDE3My4xMjYgNTQuNTg3OCAxODQuNzQ1IDUyLjg0MTEgMTk2LjY5N0M0Ny44NDU1IDIzMi4wMjEgNTUuNTkyIDI2My40NiA3NS44Mjc1IDI4Ny42NjdDOTcuOTU5OSAzMTQuMTM2IDEzMy45OTMgMzI5Ljg3OSAxNzcuMjE1IDMzMS45NDdDMjI5LjgzMiAzMzQuNTU1IDI4Mi4xNDggMzIwLjQzNCAzMTkuMjc1IDI5NC40NThMMzQxLjI4NyAzMDcuMzUzQzMyMC4yNTggMzI1LjI5MSAyNzEuNjM3IDM1Ny41OTQgMTkxLjExMiAzNjIuMDA5QzEwMC43MTkgMzY2LjkzIDYzLjA0MjUgMzM4LjAwMSA2Mi42OTA1IDMzNy43MDZMNTYuMzUxNyAzNDUuNDAzTDQ4IDM1NS4yNzNDNDkuNjAwOCAzNTYuNiA4NS43Mjg1IDM4NS4zMzUgMTcwLjU3NiAzODUuMzM1QzE3Ny41MiAzODUuMzM1IDE4NC44MTYgMzg1LjMzNSAxOTIuNDEyIDM4NC43NDZDMjg5Ljg3MyAzNzkuMzkxIDM0My40NzYgMzM3LjU3NSAzNjIuMjMxIDMxOS42MjlMMzgwLjY0MiAzMzAuNjM3QzM2OC4yNjEgMzQ2LjY1OCAzNTMuMDI1IDM2MC4zMzMgMzM1LjY3IDM3MC45ODJDMjc0LjUwNCA0MDkuODQ5IDE5Ni43MDggNDE0Ljg2NyAxNDIuMjQyIDQxMi4xNjJMMTQxLjA5NiA0MzQuODMxQzE1MC4yNDIgNDM1LjI3MyAxNTkuMDM1IDQzNS40NzEgMTY3LjU4IDQzNS40NzFDMzIxLjA0OCA0MzUuNDcxIDM4My4xMzIgMzY2LjcxOSA0MDAuNTM5IDM0Mi4wNjJMNDE0LjkyNSAzNTAuNDg3QzQwMS4xMzUgMzczLjYwMyAzODIuMzkzIDM5My41NjcgMzU5LjkzMSA0MDguOTM5QzMzMy4wMzQgNDI3LjM0NSAzMDEuNzM1IDQzOC41MzggMjY5LjExNCA0NDEuNDE1TDI3MS4xMTQgNDY0QzMwNy43MzkgNDYwLjc4NiAzNDIuODg4IDQ0OC4yMzYgMzczLjA4OSA0MjcuNTgxQzQwMy4yOSA0MDYuOTI2IDQyNy41MDggMzc4Ljg4MSA0NDMuMzQ5IDM0Ni4yMDdDNDU5LjE4NSAzMTMuNTI5IDQ2Ni4xMTYgMjc3LjM1OCA0NjMuNDM4IDI0MS4yNDdaTTM3NC44MSAyNDQuNzM5QzM2NC42MjYgMjQ0LjczOSAzNTYuMzY4IDIzNi42MTMgMzU2LjM2OCAyMjYuNTg2QzM1Ni4zNjggMjE2LjU2IDM2NC42MjEgMjA4LjQzMyAzNzQuODEgMjA4LjQzM0MzODQuOTkgMjA4LjQzMyAzOTMuMjQ3IDIxNi41NiAzOTMuMjQ3IDIyNi41ODZDMzkzLjI0NyAyMzYuNjEzIDM4NC45OTQgMjQ0LjczOSAzNzQuODEgMjQ0LjczOVoiIGZpbGw9IiNFQ0VDRUMiLz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF8yMTkxXzQyOTAiPgo8cmVjdCB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgZmlsbD0id2hpdGUiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4K",async setup(){},async getInternalProvider(){var i;if(!(typeof window>"u")&&"xfi"in window)return(i=window.xfi)==null?void 0:i.bitcoin},async getProvider(){const i=await this.getInternalProvider();return i?{request:this.request.bind(i)}:void 0},async request({method:i,params:o}){switch(i){case"signPsbt":{const{psbt:a,...c}=o;return await this.signPsbt(a,c.finalize)}default:throw new ks(i)}},async connect(){var o,a;const i=await this.getInternalProvider();if(!i)throw new Kt;try{const c=await i.requestAccounts(),u=await this.getChainId();return r||(r=this.onAccountsChanged.bind(this),i.addListener("accountsChanged",r)),n&&await Promise.all([(o=s.storage)==null?void 0:o.setItem(`${this.id}.connected`,!0),(a=s.storage)==null?void 0:a.removeItem(`${this.id}.disconnected`)]),{accounts:c,chainId:u}}catch(c){throw new Bs(c.message)}},async disconnect(){var o,a;const i=await this.getInternalProvider();r&&(i==null||i.removeListener("accountsChanged",r),r=void 0),n&&await Promise.all([(o=s.storage)==null?void 0:o.setItem(`${this.id}.disconnected`,!0),(a=s.storage)==null?void 0:a.removeItem(`${this.id}.connected`)])},async getAccounts(){const i=await this.getInternalProvider();if(!i)throw new Kt;return await i.getAccounts()},async getChainId(){return t},async isAuthorized(){var i;try{return n&&!!await((i=s.storage)==null?void 0:i.getItem(`${this.id}.connected`))}catch{return!1}},async onAccountsChanged(i){i.length===0?this.onDisconnect():s.emitter.emit("change",{accounts:i})},onChainChanged(i){const o=Number(i);s.emitter.emit("change",{chainId:o})},async onDisconnect(i){s.emitter.emit("disconnect")}})}U9.type="UTXO";function U9(e={}){const{chainId:t,shimDisconnect:n=!0}=e;let r;return s=>({id:"com.okex.wallet.bitcoin",name:"OKX Wallet",type:U9.type,icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgZmlsbD0ibm9uZSI+CiAgICA8cGF0aCBmaWxsPSIjMDAwIiBkPSJNMCAwaDMydjMySDB6Ii8+CiAgICA8cGF0aCBmaWxsPSIjZmZmIiBkPSJNMTIuNiA3SDcuNGEuNC40IDAgMCAwLS40LjR2NS4yYzAgLjIyLjE3OS40LjQuNGg1LjJhLjQuNCAwIDAgMCAuNC0uNFY3LjRhLjQuNCAwIDAgMC0uNC0uNE0xOC42MDIgMTMuMDAyaC01LjJhLjQuNCAwIDAgMC0uNC40djUuMmMwIC4yMi4xNzkuNC40LjRoNS4yYS40LjQgMCAwIDAgLjQtLjR2LTUuMmEuNC40IDAgMCAwLS40LS40TTE5LjQgN2g1LjJhLjQuNCAwIDAgMSAuNC40djUuMmEuNC40IDAgMCAxLS40LjRoLTUuMmEuNC40IDAgMCAxLS40LS40VjcuNGEuNC40IDAgMCAxIC40LS40TTEyLjYgMTlINy40YS40LjQgMCAwIDAtLjQuNHY1LjJjMCAuMjIuMTc5LjQuNC40aDUuMmEuNC40IDAgMCAwIC40LS40di01LjJhLjQuNCAwIDAgMC0uNC0uNE0xOS40IDE5aDUuMmEuNC40IDAgMCAxIC40LjR2NS4yYS40LjQgMCAwIDEtLjQuNGgtNS4yYS40LjQgMCAwIDEtLjQtLjR2LTUuMmEuNC40IDAgMCAxIC40LS40Ii8+Cjwvc3ZnPgo=",async setup(){},async getInternalProvider(){var i;if(!(typeof window>"u")&&"okxwallet"in window){const a=(i=window.okxwallet)==null?void 0:i.bitcoin;if(a!=null&&a.isOkxWallet)return a}},async getProvider(){const i=await this.getInternalProvider();return i?{request:this.request.bind(i)}:void 0},async request({method:i,params:o}){switch(i){case"signPsbt":{const{psbt:a,...c}=o,u=c.inputsToSign.flatMap(({sigHash:f,address:d,signingIndexes:h})=>h.map(p=>({index:p,address:d,sighashTypes:f!==void 0?[f]:void 0})));return await this.signPsbt(a,{toSignInputs:u,autoFinalized:c.finalize})}default:throw new ks(i)}},async connect(){var o,a;const i=await this.getInternalProvider();if(!i)throw new Kt;try{const c=await i.requestAccounts(),u=await this.getChainId();return r||(r=this.onAccountsChanged.bind(this),i.addListener("accountsChanged",r)),n&&await Promise.all([(o=s.storage)==null?void 0:o.setItem(`${this.id}.connected`,!0),(a=s.storage)==null?void 0:a.removeItem(`${this.id}.disconnected`)]),{accounts:c,chainId:u}}catch(c){throw new Bs(c.message)}},async disconnect(){var o,a;const i=await this.getInternalProvider();r&&(i==null||i.removeListener("accountsChanged",r),r=void 0),n&&await Promise.all([(o=s.storage)==null?void 0:o.setItem(`${this.id}.disconnected`,!0),(a=s.storage)==null?void 0:a.removeItem(`${this.id}.connected`)])},async getAccounts(){const i=await this.getInternalProvider();if(!i)throw new Kt;return await i.getAccounts()},async getChainId(){return t},async isAuthorized(){var i;try{return n&&await((i=s.storage)==null?void 0:i.getItem(`${this.id}.disconnected`))?!1:!!(await ll(()=>this.getAccounts())).length}catch{return!1}},async onAccountsChanged(i){i.length===0?this.onDisconnect():s.emitter.emit("change",{accounts:i})},onChainChanged(i){const o=Number(i);s.emitter.emit("change",{chainId:o})},async onDisconnect(i){s.emitter.emit("disconnect")}})}L9.type="UTXO";function L9(e={}){const{chainId:t,shimDisconnect:n=!0}=e;return r=>({id:"LeatherProvider",name:"Leather",type:L9.type,icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4IiBmaWxsPSJub25lIj4KICAgIDxwYXRoIGZpbGw9IiMxMjEwMEYiIGQ9Ik0wIDBoMTI4djEyOEgweiIvPgogICAgPHBhdGggZmlsbD0iI0Y1RjFFRCIgZD0iTTc0LjkxNyA1Mi43MTFjNy41Ni0xLjE3IDE4LjQ5Mi05LjEzIDE4LjQ5Mi0xNS4zMzUgMC0xLjg3My0xLjUxMi0zLjE2LTMuNzIyLTMuMTYtNC4xODcgMC0xMS4yOCA2LjMyLTE0Ljc3IDE4LjQ5NU0zOS45MTEgODMuNWMtOS44ODUgMC0xMC43IDkuODMzLS44MTQgOS44MzMgNC40MiAwIDkuNzctMS43NTYgMTIuNTYtNC45MTYtNC4wNy0zLjUxMi03LjQ0My00LjkxNy0xMS43NDYtNC45MTdtNjIuOTE4LTQuMjE0Yy41ODEgMTYuNTA2LTcuNzkyIDI1Ljc1NC0yMS45OCAyNS43NTQtOC4zNzQgMC0xMi41Ni0zLjE2MS0yMS41MTYtOS4wMTQtNC42NTIgNS4xNTEtMTMuNDkgOS4wMTQtMjAuODE4IDkuMDE0LTI1LjIzNiAwLTI0LjE5LTMyLjE5MyAxLjUxMi0zMi4xOTMgNS4zNSAwIDkuODg2IDEuNDA1IDE1LjcgNS4wMzRsMy44MzktMTMuNDYyQzQzLjc0OSA2MC4wODYgMzUuODQgNDcuOTEyIDQzLjYzMyAzMC40NjloMTIuNTZjLTYuOTc4IDExLjU5LTIuMjEgMjEuMTg5IDYuNjI5IDIyLjI0MkM2Ny41OSAzNS43MzcgNzcuODI1IDIyLjUxIDkxLjQzMiAyMi41MWM3LjY3NSAwIDEzLjcyMyA1LjAzNCAxMy43MjMgMTQuMTY1IDAgMTQuNjMzLTE5LjA3MyAyNi41NzMtMzMuNDk0IDI3Ljc0NEw2NS43MyA4NS4zNzJjNi43NDUgNy44NDMgMjUuNDY5IDE1LjQ1MiAyNS40NjktNi4wODd6Ii8+Cjwvc3ZnPg==",async setup(){},async getInternalProvider(){if(!(typeof window>"u")&&"LeatherProvider"in window)return window.LeatherProvider},async getProvider(){const s=await this.getInternalProvider();return s?{request:this.request.bind(s)}:void 0},async request({method:s,params:i}){var o;switch(s){case"signPsbt":{const{psbt:a,...c}=i,u=await this.request("signPsbt",{hex:a,broadcast:c.finalize});if(u!=null&&u.error)throw u==null?void 0:u.error;if(!((o=u==null?void 0:u.result)!=null&&o.hex))throw new Error("Missing hex result from signed PSBT");return u.result.hex}default:throw new ks(s)}},async connect(){var a,c;if(!await this.getInternalProvider())throw new Kt;const i=await this.getAccounts(),o=await this.getChainId();return n&&await Promise.all([(a=r.storage)==null?void 0:a.setItem(`${this.id}.connected`,!0),(c=r.storage)==null?void 0:c.removeItem(`${this.id}.disconnected`)]),{accounts:i,chainId:o}},async disconnect(){var i,o;if(!await this.getInternalProvider())throw new Kt;n&&await Promise.all([(i=r.storage)==null?void 0:i.setItem(`${this.id}.disconnected`,!0),(o=r.storage)==null?void 0:o.removeItem(`${this.id}.connected`)])},async getAccounts(){var o;const s=await this.getInternalProvider();if(!s)throw new Kt;const i=await s.request("getAddresses");if(!i.result)throw new Bs((o=i.error)==null?void 0:o.message);return i.result.addresses.map(a=>a.address)},async getChainId(){return t},async isAuthorized(){var s;try{return n&&!!await((s=r.storage)==null?void 0:s.getItem(`${this.id}.connected`))}catch{return!1}},async onAccountsChanged(){const{accounts:s}=await this.connect();r.emitter.emit("change",{accounts:s})},onChainChanged(s){const i=Number(s);r.emitter.emit("change",{chainId:i})},async onDisconnect(s){r.emitter.emit("disconnect")}})}$9.type="UTXO";function $9(e={}){const{chainId:t,shimDisconnect:n=!0}=e;let r;return s=>({id:"so.onekey.app.wallet.bitcoin",name:"OneKey",type:$9.type,icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTYiIGN5PSIxNiIgcj0iMTMiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0xNi4wMDAxIDIyLjkxMDhDMTcuNTMwOSAyMi45MTA4IDE4Ljc3MTggMjEuNjY5OSAxOC43NzE4IDIwLjEzOTFDMTguNzcxOCAxOC42MDg0IDE3LjUzMDkgMTcuMzY3NCAxNi4wMDAxIDE3LjM2NzRDMTQuNDY5MyAxNy4zNjc0IDEzLjIyODQgMTguNjA4NCAxMy4yMjg0IDIwLjEzOTFDMTMuMjI4NCAyMS42Njk5IDE0LjQ2OTMgMjIuOTEwOCAxNi4wMDAxIDIyLjkxMDhaIiBmaWxsPSJibGFjayIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE2IDMyQzI3LjA0NTcgMzIgMzIgMjcuMDQ1NyAzMiAxNkMzMiA0Ljk1NDMgMjcuMDQ1NyAwIDE2IDBDNC45NTQzIDAgMCA0Ljk1NDMgMCAxNkMwIDI3LjA0NTcgNC45NTQzIDMyIDE2IDMyWk0xMi45OTQ1IDYuNzg0NTdIMTcuNDQ1NlYxNC4xMTk2SDE0LjY4NTlWOS4xNDU4M0gxMi4yMTM2TDEyLjk5NDUgNi43ODQ1N1pNMTYuMDAwMSAyNS4yMTU0QzE4LjgwMzcgMjUuMjE1NCAyMS4wNzY0IDIyLjk0MjcgMjEuMDc2NCAyMC4xMzkxQzIxLjA3NjQgMTcuMzM1NiAxOC44MDM3IDE1LjA2MjggMTYuMDAwMSAxNS4wNjI4QzEzLjE5NjUgMTUuMDYyOCAxMC45MjM4IDE3LjMzNTYgMTAuOTIzOCAyMC4xMzkxQzEwLjkyMzggMjIuOTQyNyAxMy4xOTY1IDI1LjIxNTQgMTYuMDAwMSAyNS4yMTU0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==",async setup(){},async getInternalProvider(){if(!(typeof window>"u")&&"$onekey"in window)return window.$onekey.btc},async getProvider(){const i=await this.getInternalProvider();return i?{request:this.request.bind(i)}:void 0},async request({method:i,params:o}){switch(i){case"signPsbt":{const{psbt:a,...c}=o,u=c.inputsToSign.flatMap(({sigHash:f,address:d,signingIndexes:h})=>h.map(p=>({index:p,address:d,sighashTypes:f!==void 0?[f]:void 0})));return await this.signPsbt(a,{toSignInputs:u,autoFinalized:c.finalize})}default:throw new ks}},async connect(){var o,a;const i=await this.getInternalProvider();if(!i)throw new Kt;try{const c=await i.requestAccounts(),u=await this.getChainId();return r||(r=this.onAccountsChanged.bind(this),i.addListener("accountsChanged",r)),n&&await Promise.all([(o=s.storage)==null?void 0:o.setItem(`${this.id}.connected`,!0),(a=s.storage)==null?void 0:a.removeItem(`${this.id}.disconnected`)]),{accounts:c,chainId:u}}catch(c){throw new Bs(c.message)}},async disconnect(){var o,a;const i=await this.getInternalProvider();r&&(i==null||i.removeListener("accountsChanged",r),r=void 0),n&&await Promise.all([(o=s.storage)==null?void 0:o.setItem(`${this.id}.disconnected`,!0),(a=s.storage)==null?void 0:a.removeItem(`${this.id}.connected`)])},async getAccounts(){const i=await this.getInternalProvider();if(!i)throw new Kt;return await i.getAccounts()},async getChainId(){return t},async isAuthorized(){var i;try{return n&&await((i=s.storage)==null?void 0:i.getItem(`${this.id}.disconnected`))?!1:!!(await ll(()=>this.getAccounts())).length}catch{return!1}},async onAccountsChanged(i){i.length===0?this.onDisconnect():s.emitter.emit("change",{accounts:i})},onChainChanged(i){const o=Number(i);s.emitter.emit("change",{chainId:o})},async onDisconnect(i){s.emitter.emit("disconnect")}})}z9.type="UTXO";function z9(e={}){const{chainId:t,shimDisconnect:n=!0}=e;let r;return s=>({id:"app.phantom.bitcoin",name:"Phantom",type:z9.type,icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTA4IiBoZWlnaHQ9IjEwOCIgdmlld0JveD0iMCAwIDEwOCAxMDgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPgo=",async setup(){},async getInternalProvider(){var i;if(!(typeof window>"u")&&"phantom"in window){const a=(i=window.phantom)==null?void 0:i.bitcoin;if(a!=null&&a.isPhantom)return a}},async getProvider(){const i=await this.getInternalProvider();return i?{request:this.request.bind(i)}:void 0},async request({method:i,params:o}){switch(i){case"signPsbt":{const{psbt:a,...c}=o,u=new Uint8Array(a.match(/.{1,2}/g).map(d=>Number.parseInt(d,16))),l=await this.signPSBT(u,{inputsToSign:c.inputsToSign,finalize:c.finalize});return Array.from(l,d=>d.toString(16).padStart(2,"0")).join("")}default:throw new ks(i)}},async connect(){var o,a;const i=await this.getInternalProvider();if(!i)throw new Kt;try{const c=await this.getAccounts(),u=await this.getChainId();return r||(r=this.onAccountsChanged.bind(this),i.on("accountsChanged",r)),n&&await Promise.all([(o=s.storage)==null?void 0:o.setItem(`${this.id}.connected`,!0),(a=s.storage)==null?void 0:a.removeItem(`${this.id}.disconnected`)]),{accounts:c,chainId:u}}catch(c){throw new Bs(c.message)}},async disconnect(){var o,a;const i=await this.getInternalProvider();r&&(i==null||i.removeListener("accountsChanged",r),r=void 0),n&&await Promise.all([(o=s.storage)==null?void 0:o.setItem(`${this.id}.disconnected`,!0),(a=s.storage)==null?void 0:a.removeItem(`${this.id}.connected`)])},async getAccounts(){const i=await this.getInternalProvider();if(!i)throw new Kt;return(await i.requestAccounts()).filter(a=>a.purpose==="payment").map(a=>a.address)},async getChainId(){return t},async isAuthorized(){var i;try{return n&&!!await((i=s.storage)==null?void 0:i.getItem(`${this.id}.connected`))}catch{return!1}},async onAccountsChanged(i){i.length===0?this.onDisconnect():s.emitter.emit("change",{accounts:i.filter(o=>o.purpose==="payment").map(o=>o.address)})},onChainChanged(i){const o=Number(i);s.emitter.emit("change",{chainId:o})},async onDisconnect(i){s.emitter.emit("disconnect")}})}F9.type="UTXO";function F9(e={}){const{chainId:t,shimDisconnect:n=!0}=e;let r;return s=>({id:"unisat",name:"Unisat",type:F9.type,icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGRhdGEtbmFtZT0i5Zu+5bGCIDIiIHZpZXdCb3g9IjAgMCAxMTUuNzcgMTQ3LjciPjxkZWZzPjxsaW5lYXJHcmFkaWVudCBpZD0iYSIgeDE9IjMzNzkuMDMiIHgyPSIzNDE1LjQ4IiB5MT0iLTIxMDIiIHkyPSItMjE5OC4xMSIgZGF0YS1uYW1lPSLmnKrlkb3lkI3nmoTmuJDlj5ggNSIgZ3JhZGllbnRUcmFuc2Zvcm09InJvdGF0ZSgtMTM0LjczIDIxODcuNjY3IC0zNTMuNDI3KSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iIzIwMWMxYiIvPjxzdG9wIG9mZnNldD0iLjM2IiBzdG9wLWNvbG9yPSIjNzczOTBkIi8+PHN0b3Agb2Zmc2V0PSIuNjciIHN0b3AtY29sb3I9IiNlYTgxMDEiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmNGI4NTIiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgeDE9IjMzODQuMjMiIHgyPSIzMzMwLjY0IiB5MT0iLTIyMzEuNDIiIHkyPSItMjEzMS4yOSIgZGF0YS1uYW1lPSLmnKrlkb3lkI3nmoTmuJDlj5ggNCIgZ3JhZGllbnRUcmFuc2Zvcm09InJvdGF0ZSgtMTM0LjczIDIxODcuNjY3IC0zNTMuNDI3KSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iIzFmMWQxYyIvPjxzdG9wIG9mZnNldD0iLjM3IiBzdG9wLWNvbG9yPSIjNzczOTBkIi8+PHN0b3Agb2Zmc2V0PSIuNjciIHN0b3AtY29sb3I9IiNlYTgxMDEiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmNGZiNTIiLz48L2xpbmVhckdyYWRpZW50PjxyYWRpYWxHcmFkaWVudCBpZD0iYyIgY3g9IjUzLjAxIiBjeT0iNDUuODQiIHI9IjExLjEzIiBkYXRhLW5hbWU9IuacquWRveWQjeeahOa4kOWPmCA2IiBmeD0iNTMuMDEiIGZ5PSI0NS44NCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2Y0Yjg1MiIvPjxzdG9wIG9mZnNldD0iLjMzIiBzdG9wLWNvbG9yPSIjZWE4MTAxIi8+PHN0b3Agb2Zmc2V0PSIuNjQiIHN0b3AtY29sb3I9IiM3NzM5MGQiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiMyMTFjMWQiLz48L3JhZGlhbEdyYWRpZW50PjwvZGVmcz48ZyBkYXRhLW5hbWU9IuWbvuWxgiAxIj48cGF0aCBmaWxsPSJ1cmwoI2EpIiBkPSJtODEuNjYgMTMuMjkgMzAuMzEgMzAuMDJjMi41OCAyLjU1IDMuODUgNS4xMyAzLjgxIDcuNzMtLjA0IDIuNi0xLjE1IDQuOTctMy4zMiA3LjEyLTIuMjcgMi4yNS00LjcyIDMuMzktNy4zNCAzLjQ0LTIuNjIuMDQtNS4yMi0xLjIyLTcuOC0zLjc3bC0zMS0zMC43Yy0zLjUyLTMuNDktNi45Mi01Ljk2LTEwLjE5LTcuNDEtMy4yNy0xLjQ1LTYuNzEtMS42OC0xMC4zMS0uNjgtMy42MS45OS03LjQ4IDMuNTQtMTEuNjMgNy42NC01LjcyIDUuNjctOC40NSAxMC45OS04LjE3IDE1Ljk2LjI4IDQuOTcgMy4xMiAxMC4xMyA4LjUxIDE1LjQ2bDMxLjI1IDMwLjk2YzIuNjEgMi41OCAzLjg5IDUuMTYgMy44NSA3LjcyLS4wNCAyLjU3LTEuMTYgNC45NC0zLjM3IDcuMTMtMi4yIDIuMTgtNC42MyAzLjMyLTcuMjcgMy40MS0yLjY0LjA5LTUuMjctMS4xNi03Ljg3LTMuNzRMMjAuODEgNzMuNTZjLTQuOTMtNC44OC04LjQ5LTkuNS0xMC42OC0xMy44Ni0yLjE5LTQuMzYtMy4wMS05LjI5LTIuNDQtMTQuNzkuNTEtNC43MSAyLjAyLTkuMjcgNC41NC0xMy42OSAyLjUxLTQuNDIgNi4xMS04Ljk0IDEwLjc4LTEzLjU3IDUuNTYtNS41MSAxMC44Ny05LjczIDE1LjkzLTEyLjY3QzQzLjk5IDIuMDQgNDguODguNDEgNTMuNi4wN2M0LjczLS4zNCA5LjM5LjYgMTQgMi44MiA0LjYxIDIuMjIgOS4yOSA1LjY4IDE0LjA1IDEwLjRaIi8+PHBhdGggZmlsbD0idXJsKCNiKSIgZD0iTTM0LjExIDEzNC40MiAzLjgxIDEwNC40QzEuMjMgMTAxLjg0LS4wNCA5OS4yNyAwIDk2LjY3Yy4wNC0yLjYgMS4xNS00Ljk3IDMuMzItNy4xMiAyLjI3LTIuMjUgNC43Mi0zLjM5IDcuMzQtMy40NCAyLjYyLS4wNCA1LjIyIDEuMjEgNy44IDMuNzdsMzAuOTkgMzAuN2MzLjUzIDMuNDkgNi45MiA1Ljk2IDEwLjE5IDcuNDEgMy4yNyAxLjQ1IDYuNzEgMS42NyAxMC4zMi42OCAzLjYxLS45OSA3LjQ4LTMuNTQgMTEuNjMtNy42NSA1LjcyLTUuNjcgOC40NS0xMC45OSA4LjE3LTE1Ljk2LS4yOC00Ljk3LTMuMTItMTAuMTMtOC41MS0xNS40N0w2NC42IDczLjI0Yy0yLjYxLTIuNTgtMy44OS01LjE2LTMuODUtNy43Mi4wNC0yLjU3IDEuMTYtNC45NCAzLjM3LTcuMTMgMi4yLTIuMTggNC42My0zLjMyIDcuMjctMy40MSAyLjY0LS4wOSA1LjI3IDEuMTYgNy44NyAzLjc0bDE1LjcgMTUuNDFjNC45MyA0Ljg4IDguNDkgOS41IDEwLjY4IDEzLjg2IDIuMTkgNC4zNiAzLjAxIDkuMjkgMi40NCAxNC43OS0uNTEgNC43MS0yLjAyIDkuMjctNC41NCAxMy42OS0yLjUxIDQuNDItNi4xMSA4Ljk0LTEwLjc4IDEzLjU3LTUuNTYgNS41MS0xMC44NyA5LjczLTE1LjkzIDEyLjY3LTUuMDYgMi45NC05Ljk1IDQuNTgtMTQuNjggNC45Mi00LjczLjM0LTkuMzktLjYtMTQtMi44Mi00LjYxLTIuMjItOS4yOS01LjY4LTE0LjA1LTEwLjRaIi8+PGNpcmNsZSBjeD0iNTMuMDEiIGN5PSI0NS44MyIgcj0iMTEuMTMiIGZpbGw9InVybCgjYykiLz48L2c+PC9zdmc+",async setup(){},async getInternalProvider(){var i,o;if(!(typeof window>"u")&&"unisat"in window){const a=window;return(i=a.unisat)!=null&&i.isBinance||(o=a.unisat)!=null&&o.isBitKeep?void 0:a.unisat}},async getProvider(){const i=await this.getInternalProvider();return i?{request:this.request.bind(i)}:void 0},async request({method:i,params:o}){switch(i){case"signPsbt":{const{psbt:a,...c}=o,u=c.inputsToSign.flatMap(({sigHash:f,address:d,signingIndexes:h})=>h.map(p=>({index:p,address:d,sighashTypes:f!==void 0?[f]:void 0})));return await this.signPsbt(a,{toSignInputs:u,autoFinalized:c.finalize})}default:throw new ks}},async connect(){var o,a;const i=await this.getInternalProvider();if(!i)throw new Kt;try{const c=await i.requestAccounts(),u=await this.getChainId();return r||(r=this.onAccountsChanged.bind(this),i.addListener("accountsChanged",r)),n&&await Promise.all([(o=s.storage)==null?void 0:o.setItem(`${this.id}.connected`,!0),(a=s.storage)==null?void 0:a.removeItem(`${this.id}.disconnected`)]),{accounts:c,chainId:u}}catch(c){throw new Bs(c.message)}},async disconnect(){var o,a;const i=await this.getInternalProvider();r&&(i==null||i.removeListener("accountsChanged",r),r=void 0),n&&await Promise.all([(o=s.storage)==null?void 0:o.setItem(`${this.id}.disconnected`,!0),(a=s.storage)==null?void 0:a.removeItem(`${this.id}.connected`)])},async getAccounts(){const i=await this.getInternalProvider();if(!i)throw new Kt;return await i.getAccounts()},async getChainId(){return t},async isAuthorized(){var i;try{return n&&await((i=s.storage)==null?void 0:i.getItem(`${this.id}.disconnected`))?!1:!!(await ll(()=>this.getAccounts())).length}catch{return!1}},async onAccountsChanged(i){i.length===0?this.onDisconnect():s.emitter.emit("change",{accounts:i})},onChainChanged(i){const o=Number(i);s.emitter.emit("change",{chainId:o})},async onDisconnect(i){s.emitter.emit("disconnect")}})}H9.type="UTXO";function H9(e={}){const{chainId:t,shimDisconnect:n=!0}=e;let r;return s=>({id:"XverseProviders.BitcoinProvider",name:"Xverse Wallet",type:H9.type,icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MDAiIGhlaWdodD0iNjAwIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGZpbGw9IiMxNzE3MTciIGQ9Ik0wIDBoNjAwdjYwMEgweiIvPjxwYXRoIGZpbGw9IiNGRkYiIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTQ0MCA0MzUuNHYtNTFjMC0yLS44LTMuOS0yLjItNS4zTDIyMCAxNjIuMmE3LjYgNy42IDAgMCAwLTUuNC0yLjJoLTUxLjFjLTIuNSAwLTQuNiAyLTQuNiA0LjZ2NDcuM2MwIDIgLjggNCAyLjIgNS40bDc4LjIgNzcuOGE0LjYgNC42IDAgMCAxIDAgNi41bC03OSA3OC43Yy0xIC45LTEuNCAyLTEuNCAzLjJ2NTJjMCAyLjQgMiA0LjUgNC42IDQuNUgyNDljMi42IDAgNC42LTIgNC42LTQuNlY0MDVjMC0xLjIuNS0yLjQgMS40LTMuM2w0Mi40LTQyLjJhNC42IDQuNiAwIDAgMSA2LjQgMGw3OC43IDc4LjRhNy42IDcuNiAwIDAgMCA1LjQgMi4yaDQ3LjVjMi41IDAgNC42LTIgNC42LTQuNloiLz48cGF0aCBmaWxsPSIjRUU3QTMwIiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0zMjUuNiAyMjcuMmg0Mi44YzIuNiAwIDQuNiAyLjEgNC42IDQuNnY0Mi42YzAgNCA1IDYuMSA4IDMuMmw1OC43LTU4LjVjLjgtLjggMS4zLTIgMS4zLTMuMnYtNTEuMmMwLTIuNi0yLTQuNi00LjYtNC42TDM4NCAxNjBjLTEuMiAwLTIuNC41LTMuMyAxLjNsLTU4LjQgNTguMWE0LjYgNC42IDAgMCAwIDMuMiA3LjhaIi8+PC9nPjwvc3ZnPg==",async setup(){},async getInternalProvider(){if(!(typeof window>"u")&&"XverseProviders"in window)return window.XverseProviders.BitcoinProvider},async getProvider(){const i=await this.getInternalProvider();return i?{request:this.request.bind(i)}:void 0},async request({method:i,params:o}){var a;switch(i){case"signPsbt":{const{psbt:c,...u}=o,l=P9(c),f=u.inputsToSign.reduce((h,p)=>(h[p.address]||(h[p.address]=[]),h[p.address].push(...p.signingIndexes),h),{}),d=await this.request("signPsbt",{psbt:l,allowedSignHash:1,signInputs:f,broadcast:u.finalize});if(d!=null&&d.error)throw d==null?void 0:d.error;return j9((a=d==null?void 0:d.result)==null?void 0:a.psbt)}default:throw new ks(i)}},async connect({isReconnecting:i}={}){var u,l;const o=await this.getInternalProvider();if(!o)throw new Kt;if(!i){const f=await o.request("wallet_requestPermissions");if(f.error)throw new Bs(f.error.message)}const a=await this.getAccounts(),c=await this.getChainId();return r||(r=this.onAccountsChanged.bind(this),o.addListener("accountChange",r)),n&&await Promise.all([(u=s.storage)==null?void 0:u.setItem(`${this.id}.connected`,!0),(l=s.storage)==null?void 0:l.removeItem(`${this.id}.disconnected`)]),{accounts:a,chainId:c}},async disconnect(){var o,a,c;const i=await this.getInternalProvider();if(!i)throw new Kt;r&&((o=i.removeListener)==null||o.call(i,"accountChange",r),r=void 0),n&&await Promise.all([(a=s.storage)==null?void 0:a.setItem(`${this.id}.disconnected`,!0),(c=s.storage)==null?void 0:c.removeItem(`${this.id}.connected`)])},async getAccounts(){var a;const i=await this.getInternalProvider();if(!i)throw new Kt;const o=await i.request("getAddresses",{purposes:["payment"]});if(!o.result)throw new Bs((a=o.error)==null?void 0:a.message);return o.result.addresses.map(c=>c.address)},async getChainId(){return t},async isAuthorized(){var i;try{return n&&!!await((i=s.storage)==null?void 0:i.getItem(`${this.id}.connected`))}catch{return!1}},async onAccountsChanged(){const{accounts:i}=await this.connect();s.emitter.emit("change",{accounts:i})},onChainChanged(i){const o=Number(i);s.emitter.emit("change",{chainId:o})},async onDisconnect(i){s.emitter.emit("disconnect")}})}q9.type="UTXO";function q9(e={}){const{chainId:t,shimDisconnect:n=!0}=e;let r;return s=>({id:"binance",name:"Binance",type:q9.type,icon:"data:image/svg+xml;base64,PHN2ZyB4bWxuczp4PSJuc19leHRlbmQ7IiB4bWxuczppPSJuc19haTsiIHhtbG5zOmdyYXBoPSJuc19ncmFwaHM7IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDUwIDUwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MCA1MDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgogPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KICAuc3Qwe2ZpbGw6I0YwQjkwQjt9CiA8L3N0eWxlPgogPG1ldGFkYXRhPgogIDxzZncgeG1sbnM9Im5zX3NmdzsiPgogICA8c2xpY2VzPgogICA8L3NsaWNlcz4KICAgPHNsaWNlU291cmNlQm91bmRzIGJvdHRvbUxlZnRPcmlnaW49InRydWUiIGhlaWdodD0iNTAiIHdpZHRoPSI1MCIgeD0iMjQ5Ny45IiB5PSItNzEyLjIiPgogICA8L3NsaWNlU291cmNlQm91bmRzPgogIDwvc2Z3PgogPC9tZXRhZGF0YT4KIDxnPgogIDxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMS4zLDI1bC01LjYsNS42TDAsMjVsNS43LTUuN0wxMS4zLDI1eiBNMjUsMTEuM2w5LjcsOS43bDUuNy01LjdMMjUsMEw5LjcsMTUuM2w1LjcsNS43TDI1LDExLjN6IE00NC4zLDE5LjMgICBMMzguNywyNWw1LjcsNS43TDUwLDI1TDQ0LjMsMTkuM3ogTTI1LDM4LjdMMTUuMywyOWwtNS43LDUuN0wyNSw1MGwxNS4zLTE1LjNMMzQuNywyOUwyNSwzOC43eiBNMjUsMzAuNmw1LjctNS43TDI1LDE5LjNMMTkuMywyNSAgIEwyNSwzMC42TDI1LDMwLjZ6Ij4KICA8L3BhdGg+CiA8L2c+Cjwvc3ZnPg==",async setup(){},async getInternalProvider(){if(!(typeof window>"u")){if("binancew3w"in window)return window.binancew3w.bitcoin;if("unisat"in window){const i=window;if(i.unisat.isBinance)return i.unisat}}},async getProvider(){const i=await this.getInternalProvider();return i?{request:this.request.bind(i)}:void 0},async request({method:i,params:o}){switch(i){case"signPsbt":{const{psbt:a,...c}=o,u=c.inputsToSign.flatMap(({sigHash:f,address:d,signingIndexes:h})=>h.map(p=>({index:p,address:d,sighashTypes:f!==void 0?[f]:void 0})));return await this.signPsbt(a,{toSignInputs:u,autoFinalized:c.finalize})}default:throw new ks}},async connect(){var o,a;const i=await this.getInternalProvider();if(!i)throw new Kt;try{const c=await i.requestAccounts(),u=await this.getChainId();return r||(r=this.onAccountsChanged.bind(this),i.addListener("accountsChanged",r)),n&&await Promise.all([(o=s.storage)==null?void 0:o.setItem(`${this.id}.connected`,!0),(a=s.storage)==null?void 0:a.removeItem(`${this.id}.disconnected`)]),{accounts:c,chainId:u}}catch(c){throw new Bs(c.message)}},async disconnect(){var o,a;const i=await this.getInternalProvider();r&&(i==null||i.removeListener("accountsChanged",r),r=void 0),n&&await Promise.all([(o=s.storage)==null?void 0:o.setItem(`${this.id}.disconnected`,!0),(a=s.storage)==null?void 0:a.removeItem(`${this.id}.connected`)])},async getAccounts(){const i=await this.getInternalProvider();if(!i)throw new Kt;return await i.getAccounts()},async getChainId(){return t},async isAuthorized(){var i;try{return n&&await((i=s.storage)==null?void 0:i.getItem(`${this.id}.disconnected`))?!1:!!(await ll(()=>this.getAccounts())).length}catch{return!1}},async onAccountsChanged(i){i.length===0?this.onDisconnect():s.emitter.emit("change",{accounts:i})},onChainChanged(i){const o=Number(i);s.emitter.emit("change",{chainId:o})},async onDisconnect(i){s.emitter.emit("disconnect")}})}W9.type="UTXO";function W9(e={}){const{chainId:t,shimDisconnect:n=!0}=e;let r;return s=>({id:"bitget",name:"Bitget",type:W9.type,icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI1MTIiIGhlaWdodD0iNTEyIiBmaWxsPSIjMDAxRjI5Ii8+CjxwYXRoIGQ9Ik0yMTkuOTQ4IDk1LjcwMjJDMjAxLjYyMyA5NS42OTI5IDE4My4zMyA5NS42ODM1IDE2NC45NDEgOTUuNzExNkMxNTMuODIyIDk1LjcxMTYgMTQ5LjY1MSAxMDkuNjcxIDE1Ny45MjEgMTE3LjkzOUwyODMuMDk4IDI0My4xMTdDMjg3LjAwNCAyNDYuNjkgMjg5LjQ0MSAyNTAuNTc0IDI4OS41MyAyNTUuNjkzQzI4OS40NDEgMjYwLjgxMiAyODcuMDA0IDI2NC42OTYgMjgzLjA5OCAyNjguMjY5TDE1Ny45MjEgMzkzLjQ0NkMxNDkuNjUxIDQwMS43MTUgMTUzLjgyMiA0MTUuNjc0IDE2NC45NDEgNDE1LjY3NEMxODMuMzMgNDE1LjcwMiAyMDEuNjIzIDQxNS42OTMgMjE5Ljk0OCA0MTUuNjgzQzIyOS4xMjIgNDE1LjY3OSAyMzguMzA1IDQxNS42NzQgMjQ3LjUxMSA0MTUuNjc0QzI1OS41NTUgNDE1LjY3NCAyNjYuNzIgNDA5LjI0IDI3My4xNTQgNDAyLjgwNUwzODYuMDQ3IDI4OS45MTJDMzk1LjA1NyAyODAuOTAyIDQwMy4xMTkgMjY4LjkzOSA0MDMuMDA5IDI1NS42OTNDNDAzLjExOSAyNDIuNDQ3IDM5NS4wNTcgMjMwLjQ4NCAzODYuMDQ3IDIyMS40NzRMMjczLjE1NCAxMDguNThDMjY2LjcyIDEwMi4xNDYgMjU5LjU1NSA5NS43MTE2IDI0Ny41MTEgOTUuNzExNkMyMzguMzA1IDk1LjcxMTYgMjI5LjEyMiA5NS43MDY5IDIxOS45NDggOTUuNzAyMloiIGZpbGw9IiMwMEYwRkYiLz4KPC9zdmc+",async setup(){},async getInternalProvider(){var i;if(!(typeof window>"u")&&"bitkeep"in window)return(i=window.bitkeep)==null?void 0:i.unisat},async getProvider(){const i=await this.getInternalProvider();return i?{request:this.request.bind(i)}:void 0},async request({method:i,params:o}){switch(i){case"signPsbt":{const{psbt:a,...c}=o,u=c.inputsToSign.flatMap(({sigHash:f,address:d,signingIndexes:h})=>h.map(p=>({index:p,address:d,sighashTypes:f!==void 0?[f]:void 0})));return await this.signPsbt(a,{toSignInputs:u,autoFinalized:c.finalize})}default:throw new ks}},async connect(){var o,a;const i=await this.getInternalProvider();if(!i)throw new Kt;try{const c=await i.requestAccounts(),u=await this.getChainId();return r||(r=this.onAccountsChanged.bind(this),i.addListener("accountsChanged",r)),n&&await Promise.all([(o=s.storage)==null?void 0:o.setItem(`${this.id}.connected`,!0),(a=s.storage)==null?void 0:a.removeItem(`${this.id}.disconnected`)]),{accounts:c,chainId:u}}catch(c){throw new Bs(c.message)}},async disconnect(){var o,a;const i=await this.getInternalProvider();r&&(i==null||i.removeListener("accountsChanged",r),r=void 0),n&&await Promise.all([(o=s.storage)==null?void 0:o.setItem(`${this.id}.disconnected`,!0),(a=s.storage)==null?void 0:a.removeItem(`${this.id}.connected`)])},async getAccounts(){const i=await this.getInternalProvider();if(!i)throw new Kt;return await i.getAccounts()},async getChainId(){return t},async isAuthorized(){var i;try{return n&&await((i=s.storage)==null?void 0:i.getItem(`${this.id}.disconnected`))?!1:!!(await ll(()=>this.getAccounts())).length}catch{return!1}},async onAccountsChanged(i){i.length===0?this.onDisconnect():s.emitter.emit("change",{accounts:i})},onChainChanged(i){const o=Number(i);s.emitter.emit("change",{chainId:o})},async onDisconnect(i){s.emitter.emit("disconnect")}})}G9.type="UTXO";function G9(e={}){const{chainId:t,shimDisconnect:n=!0}=e;let r;return s=>({id:"OylProvider",name:"Oyl",type:G9.type,icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMjAiIGhlaWdodD0iMzIwIiB2aWV3Qm94PSIwIDAgMzIwIDMyMCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIzMjAiIGhlaWdodD0iMzIwIiBmaWxsPSJibGFjayIvPgo8ZyBjbGlwLXBhdGg9InVybCgjY2xpcDBfNV8yKSI+CjxwYXRoIGQ9Ik0xNjAgMjA0QzE3Ny41NTYgMjA0IDE5NC4wNzkgMjAyLjQzOSAyMDkuNTcgMTk5LjMxOEMyMjUuMDYxIDE5Ni4yNzYgMjM3LjY1MiAxOTEuNDc0IDI0Ny4zNDMgMTg0LjkxQzI1Ny4xMTQgMTc4LjM0NyAyNjIgMTcwLjEwMyAyNjIgMTYwLjE3OEMyNjIgMTUwLjI1MyAyNTcuMTE0IDE0MS44ODkgMjQ3LjM0MyAxMzUuMDg2QzIzNy41NzIgMTI4LjM2MiAyMjQuOTAyIDEyMy4zNiAyMDkuMzMyIDEyMC4wNzhDMTkzLjg0MSAxMTYuNzk2IDE3Ny4zOTcgMTE1LjE1NiAxNjAgMTE1LjE1NkMxNDIuNDQ0IDExNS4xNTYgMTI1LjkyMSAxMTYuNjc2IDExMC40MyAxMTkuNzE4Qzk0LjkzOTMgMTIyLjgzOSA4Mi4zMDg0IDEyNy42ODIgNzIuNTM3NCAxMzQuMjQ1QzYyLjg0NTggMTQwLjgwOCA1OCAxNDkuMDUyIDU4IDE1OC45NzhDNTggMTY4LjkwMyA2Mi44ODU1IDE3Ny4yMjcgNzIuNjU2NSAxODMuOTVDODIuNDI3NiAxOTAuNzUzIDk1LjA1ODQgMTk1Ljc5NiAxMTAuNTQ5IDE5OS4wNzhDMTI2LjExOSAyMDIuMzU5IDE0Mi42MDMgMjA0IDE2MCAyMDRaTTE2MC4yMzggMTMyLjIwNEMxNjguNTc5IDEzMi4yMDQgMTc2LjkyMSAxMzMuMDg0IDE4NS4yNjIgMTM0Ljg0NUMxOTMuNjgyIDEzNi42MDYgMjAwLjc1MiAxMzkuNTI4IDIwNi40NzIgMTQzLjYxQzIxMi4xOTIgMTQ3LjY5MiAyMTUuMDUxIDE1My4wMTUgMjE1LjA1MSAxNTkuNTc4QzIxNS4wNTEgMTY2LjE0MSAyMTIuMTkyIDE3MS40NjQgMjA2LjQ3MiAxNzUuNTQ2QzIwMC43NTIgMTc5LjYyOCAxOTMuNjgyIDE4Mi41NDkgMTg1LjI2MiAxODQuMzFDMTc2LjkyMSAxODYuMDcxIDE2OC41NzkgMTg2Ljk1MSAxNjAuMjM4IDE4Ni45NTFIMTU5Ljc2MkMxNTEuNDIxIDE4Ni45NTEgMTQzLjA0IDE4Ni4wNzEgMTM0LjYxOSAxODQuMzFDMTI2LjI3OCAxODIuNTQ5IDExOS4yNDggMTc5LjYyOCAxMTMuNTI4IDE3NS41NDZDMTA3LjgwOCAxNzEuNDY0IDEwNC45NDkgMTY2LjE0MSAxMDQuOTQ5IDE1OS41NzhDMTA0Ljk0OSAxNTMuMDE1IDEwNy44MDggMTQ3LjY5MiAxMTMuNTI4IDE0My42MUMxMTkuMjQ4IDEzOS41MjggMTI2LjI3OCAxMzYuNjA2IDEzNC42MTkgMTM0Ljg0NUMxNDMuMDQgMTMzLjA4NCAxNTEuNDIxIDEzMi4yMDQgMTU5Ljc2MiAxMzIuMjA0SDE2MC4yMzhaIiBmaWxsPSJ3aGl0ZSIvPgo8L2c+CjxkZWZzPgo8Y2xpcFBhdGggaWQ9ImNsaXAwXzVfMiI+CjxyZWN0IHdpZHRoPSIyMDQiIGhlaWdodD0iODkiIGZpbGw9IndoaXRlIiB0cmFuc2Zvcm09Im1hdHJpeCgxIDAgMCAtMSA1OCAyMDQpIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+",async setup(){},async getInternalProvider(){if(!(typeof window>"u")&&"oyl"in window)return window.oyl},async getProvider(){const i=await this.getInternalProvider();return i?{request:this.request.bind(i)}:void 0},async request({method:i,params:o}){switch(i){case"signPsbt":{const{psbt:a,finalize:c}=o,{psbt:u}=await this.signPsbt({psbt:a,finalize:c});return u}default:throw new ks(i)}},async connect(){var i,o;try{const a=await this.getAccounts(),c=await this.getChainId();return r||(r=this.onAccountsChanged.bind(this)),n&&await Promise.all([(i=s.storage)==null?void 0:i.setItem(`${this.id}.connected`,!0),(o=s.storage)==null?void 0:o.removeItem(`${this.id}.disconnected`)]),{accounts:a,chainId:c}}catch(a){throw this.disconnect(),new Bs(a.message)}},async disconnect(){var o,a;const i=await this.getInternalProvider();if(!i)throw new Kt;i.disconnect(),n&&await Promise.all([(o=s.storage)==null?void 0:o.setItem(`${this.id}.disconnected`,!0),(a=s.storage)==null?void 0:a.removeItem(`${this.id}.connected`)])},async getAccounts(){const i=await this.getInternalProvider();if(!i)throw new Kt;return[(await i.getAddresses()).nativeSegwit.address]},async getChainId(){return t},async isAuthorized(){var i;try{const o=await this.getInternalProvider();if(!o)throw new Kt;return await o.isConnected()&&n&&!!await((i=s.storage)==null?void 0:i.getItem(`${this.id}.connected`))}catch{return!1}},async onAccountsChanged(i){i.length===0?this.onDisconnect():s.emitter.emit("change",{accounts:i.filter(o=>o.purpose==="payment").map(o=>o.address)})},async onChainChanged(i){const o=Number(i);s.emitter.emit("change",{chainId:o})},async onDisconnect(){s.emitter.emit("disconnect")}})}function xwe(e){const n=Ok(JSON.stringify({typ:"JWT",alg:"none"})),r=Ok(JSON.stringify(e));return`${n}.${r}.`}V9.type="UTXO";function V9(e={}){const{chainId:t,shimDisconnect:n=!0}=e;let r;return s=>({id:"app.magiceden.bitcoin",name:"Magic Eden",type:V9.type,icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIwIiBoZWlnaHQ9IjMyMCIgdmlld0JveD0iMCAwIDMyMCAzMjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIzMjAiIGhlaWdodD0iMzIwIiBmaWxsPSIjMDcwQzM0Ii8+CjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF84XzIpIj4KPHBhdGggZD0iTTE5NS44MSAxMzQuNUwyMDUuOTYgMTQ2LjQzQzIwNy4xMyAxNDcuNzcgMjA4LjE1IDE0OC44NyAyMDguNTggMTQ5LjVDMjExLjYyIDE1Mi41MiAyMTMuMzIgMTU2LjU5IDIxMy4zMiAxNjAuODRDMjEzLjA0IDE2NS44NiAyMDkuNzYgMTY5LjI3IDIwNi43NSAxNzIuOTNMMTk5LjY1IDE4MS4yN0wxOTUuOTQgMTg1LjU5QzE5NS44MSAxODUuNzQgMTk1LjcyIDE4NS45MiAxOTUuNjkgMTg2LjEyQzE5NS42NiAxODYuMzIgMTk1LjY5IDE4Ni41MiAxOTUuNzggMTg2LjdDMTk1Ljg2IDE4Ni44OCAxOTYgMTg3LjAzIDE5Ni4xOCAxODcuMTRDMTk2LjM2IDE4Ny4yNSAxOTYuNTYgMTg3LjI5IDE5Ni43NiAxODcuMjhIMjMzLjhDMjM5LjQ1IDE4Ny4yOCAyNDYuNTggMTkyLjA0IDI0Ni4xNyAxOTkuMjVDMjQ2LjE3IDIwMi41MiAyNDQuODMgMjA1LjY3IDI0Mi40OCAyMDcuOTlDMjQwLjEyIDIxMC4zMSAyMzYuOTMgMjExLjYyIDIzMy42MSAyMTEuNjNIMTc1LjYxQzE3MS43OSAyMTEuNjMgMTYxLjUzIDIxMi4wNCAxNTguNjYgMjAzLjI5QzE1OC4wNSAyMDEuNDYgMTU3Ljk3IDE5OS41IDE1OC40MiAxOTcuNjJDMTU5LjI2IDE5NC44NSAxNjAuNTggMTkyLjI1IDE2Mi4zMiAxODkuOTNDMTY1LjI0IDE4NS42MSAxNjguNCAxODEuMjggMTcxLjUxIDE3Ny4wOUMxNzUuNTMgMTcxLjYgMTc5LjY1IDE2Ni4yOSAxODMuNyAxNjAuNjlDMTgzLjg0IDE2MC41MSAxODMuOTIgMTYwLjI4IDE4My45MiAxNjAuMDVDMTgzLjkyIDE1OS44MiAxODMuODQgMTU5LjU5IDE4My43IDE1OS40MUwxNjguOTYgMTQyLjEyQzE2OC44NyAxNDEuOTkgMTY4Ljc0IDE0MS45IDE2OC41OSAxNDEuODNDMTY4LjQ1IDE0MS43NiAxNjguMyAxNDEuNzIgMTY4LjEzIDE0MS43MkMxNjcuOTYgMTQxLjcyIDE2Ny44MSAxNDEuNzYgMTY3LjY3IDE0MS44M0MxNjcuNTMgMTQxLjkgMTY3LjQgMTQyLjAxIDE2Ny4zIDE0Mi4xMkMxNjMuMzUgMTQ3LjM3IDE0Ni4wNyAxNzAuNjMgMTQyLjM5IDE3NS4zNEMxMzguNzEgMTgwLjA1IDEyOS42MyAxODAuMzEgMTI0LjYgMTc1LjM0TDEwMS41NSAxNTIuNTNDMTAxLjQxIDE1Mi4zOSAxMDEuMjIgMTUyLjI4IDEwMS4wMSAxNTIuMjVDMTAwLjgxIDE1Mi4yMSAxMDAuNiAxNTIuMjMgMTAwLjQgMTUyLjMxQzEwMC4yMSAxNTIuMzkgMTAwLjA1IDE1Mi41MiA5OS45MyAxNTIuN0M5OS44MSAxNTIuODggOTkuNzUgMTUzLjA4IDk5Ljc1IDE1My4yOFYxOTcuMTJDOTkuODEgMjAwLjIzIDk4Ljg3IDIwMy4yOCA5Ny4wOCAyMDUuODVDOTUuMjkgMjA4LjQxIDkyLjcyIDIxMC4zNiA4OS43NSAyMTEuNDFDODcuODUgMjEyLjA2IDg1LjgzIDIxMi4yNiA4My44NCAyMTEuOThDODEuODUgMjExLjcgNzkuOTUgMjEwLjk2IDc4LjMyIDIwOS44MUM3Ni42OCAyMDguNjcgNzUuMzQgMjA3LjE1IDc0LjQyIDIwNS4zOUM3My41IDIwMy42MyA3My4wMSAyMDEuNjggNzMuMDEgMTk5LjdWMTIwLjg3QzczLjE0IDExOC4wMyA3NC4xOCAxMTUuMyA3NS45OCAxMTMuMDdDNzcuNzYgMTEwLjg0IDgwLjIyIDEwOS4yMyA4MyAxMDguNDdDODUuMzggMTA3Ljg1IDg3Ljg5IDEwNy44NSA5MC4yNyAxMDguNDlDOTIuNjUgMTA5LjEzIDk0LjgyIDExMC4zNyA5Ni41NSAxMTIuMTFMMTMxLjk4IDE0Ny4wN0MxMzIuMDkgMTQ3LjE4IDEzMi4yMiAxNDcuMjYgMTMyLjM2IDE0Ny4zMUMxMzIuNSAxNDcuMzYgMTMyLjY1IDE0Ny4zOCAxMzIuODEgMTQ3LjM3QzEzMi45NiAxNDcuMzYgMTMzLjEgMTQ3LjMxIDEzMy4yMyAxNDcuMjRDMTMzLjM2IDE0Ny4xNyAxMzMuNDggMTQ3LjA2IDEzMy41NiAxNDYuOTVMMTU4LjczIDExMi41OUMxNTkuOSAxMTEuMiAxNjEuMzYgMTEwLjA3IDE2My4wMSAxMDkuMjlDMTY0LjY2IDEwOC41MSAxNjYuNDYgMTA4LjEgMTY4LjMgMTA4LjA4SDIzMy43OEMyMzUuNTcgMTA4LjA4IDIzNy4zNCAxMDguNDcgMjM4Ljk3IDEwOS4yQzI0MC42IDEwOS45MyAyNDIuMDYgMTExIDI0My4yMyAxMTIuMzNDMjQ0LjQxIDExMy42NiAyNDUuMjkgMTE1LjIzIDI0NS44MSAxMTYuOTFDMjQ2LjMzIDExOC42MSAyNDYuNDcgMTIwLjM4IDI0Ni4yMyAxMjIuMTNDMjQ1Ljc3IDEyNS4xNyAyNDQuMiAxMjcuOTQgMjQxLjgyIDEyOS45MkMyMzkuNDQgMTMxLjkxIDIzNi40MiAxMzIuOTggMjMzLjMgMTMyLjk0SDE5Ni42M0MxOTYuNDQgMTMyLjk0IDE5Ni4yNiAxMzMgMTk2LjExIDEzMy4wOUMxOTUuOTYgMTMzLjE4IDE5NS44MyAxMzMuMzMgMTk1Ljc0IDEzMy40OEMxOTUuNjYgMTMzLjY0IDE5NS42MSAxMzMuODIgMTk1LjYyIDEzNEMxOTUuNjIgMTM0LjE4IDE5NS42OSAxMzQuMzUgMTk1LjggMTM0LjUxSDE5NS43OUwxOTUuODEgMTM0LjVaIiBmaWxsPSJ1cmwoI3BhaW50MF9saW5lYXJfOF8yKSIvPgo8L2c+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfOF8yIiB4MT0iNDQuMjIiIHkxPSI5My40MyIgeDI9IjIzOC42NCIgeTI9IjIwNS42OCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgo8c3RvcCBvZmZzZXQ9IjAuMjMiIHN0b3AtY29sb3I9IiNGRjAwNzUiLz4KPHN0b3Agb2Zmc2V0PSIwLjI3IiBzdG9wLWNvbG9yPSIjRkYwNTY5Ii8+CjxzdG9wIG9mZnNldD0iMC4zNCIgc3RvcC1jb2xvcj0iI0ZGMTM0OSIvPgo8c3RvcCBvZmZzZXQ9IjAuNDEiIHN0b3AtY29sb3I9IiNGRjIyMjgiLz4KPHN0b3Agb2Zmc2V0PSIwLjUxIiBzdG9wLWNvbG9yPSIjRkY0QTE1Ii8+CjxzdG9wIG9mZnNldD0iMC42MSIgc3RvcC1jb2xvcj0iI0ZGNkMwNSIvPgo8c3RvcCBvZmZzZXQ9IjAuNjYiIHN0b3AtY29sb3I9IiNGRjc5MDAiLz4KPHN0b3Agb2Zmc2V0PSIwLjciIHN0b3AtY29sb3I9IiNGRjg4MEMiLz4KPHN0b3Agb2Zmc2V0PSIwLjgyIiBzdG9wLWNvbG9yPSIjRkZBQzJCIi8+CjxzdG9wIG9mZnNldD0iMC45MiIgc3RvcC1jb2xvcj0iI0ZGQzIzRSIvPgo8c3RvcCBvZmZzZXQ9IjAuOTgiIHN0b3AtY29sb3I9IiNGRkNCNDUiLz4KPC9saW5lYXJHcmFkaWVudD4KPGNsaXBQYXRoIGlkPSJjbGlwMF84XzIiPgo8cmVjdCB3aWR0aD0iMTczLjM1IiBoZWlnaHQ9IjEwNC4xMSIgZmlsbD0id2hpdGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDczIDEwOCkiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4K",async setup(){},async getInternalProvider(){var i,o;if(!(typeof window>"u")&&"magicEden"in window){const a=window;if((o=(i=a==null?void 0:a.magicEden)==null?void 0:i.bitcoin)!=null&&o.isMagicEden)return a.magicEden.bitcoin}},async getProvider(){const i=await this.getInternalProvider();return i?{request:this.request.bind(i)}:void 0},async request({method:i,params:o}){switch(i){case"signPsbt":{const{psbt:a,...c}=o,u={network:{type:"Mainnet"},psbtBase64:P9(a),inputsToSign:c.inputsToSign},l=Rk(u),f=await this.signTransaction(l);return j9(f.psbtBase64)}default:throw new ks}},async connect(){var o,a;const i=await this.getInternalProvider();if(!i)throw new Kt;try{const c=await this.getAccounts(),u=await this.getChainId();return r||(r=this.onAccountsChanged.bind(this),i.addListener("accountsChanged",r)),n&&await Promise.all([(o=s.storage)==null?void 0:o.setItem(`${this.id}.connected`,!0),(a=s.storage)==null?void 0:a.removeItem(`${this.id}.disconnected`)]),{accounts:c,chainId:u}}catch(c){throw new Bs(c.message)}},async disconnect(){var o,a;const i=await this.getInternalProvider();r&&(i==null||i.removeListener("accountsChanged",r),r=void 0),n&&await Promise.all([(o=s.storage)==null?void 0:o.setItem(`${this.id}.disconnected`,!0),(a=s.storage)==null?void 0:a.removeItem(`${this.id}.connected`)])},async getAccounts(){const i=await this.getInternalProvider();if(!i)throw new Kt;const a=Rk({purposes:["payment"]}),{addresses:c}=await i.connect(a);return c.filter(u=>u.purpose==="payment").map(u=>u.address)},async getChainId(){return t},async isAuthorized(){var i;try{return n&&await((i=s.storage)==null?void 0:i.getItem(`${this.id}.disconnected`))?!1:!!(await ll(()=>this.getAccounts())).length}catch{return!1}},async onAccountsChanged(i){if(i.length===0)this.onDisconnect();else{const o=i.filter(a=>a.purpose==="payment").map(a=>a.address);s.emitter.emit("change",{accounts:o})}},onChainChanged(i){const o=Number(i);s.emitter.emit("change",{chainId:o})},async onDisconnect(i){s.emitter.emit("disconnect")}})}function Rk(e){return xwe(e)}class Awe{constructor(t){this.uid=t,this._emitter=new zp}on(t,n){this._emitter.on(t,n)}once(t,n){this._emitter.once(t,n)}off(t,n){this._emitter.off(t,n)}emit(t,...n){const r=n[0];this._emitter.emit(t,{uid:this.uid,...r})}listenerCount(t){return this._emitter.listenerCount(t)}}function Iwe(e){return new Awe(e)}function Swe(e,t){return JSON.parse(e,(n,r)=>{let s=r;return(s==null?void 0:s.__type)==="bigint"&&(s=BigInt(s.value)),(s==null?void 0:s.__type)==="Map"&&(s=new Map(s.value)),(t==null?void 0:t(n,s))??s})}function Dk(e,t){return e.slice(0,t).join(".")||"."}function Uk(e,t){const{length:n}=e;for(let r=0;r<n;++r)if(e[r]===t)return r+1;return 0}function kwe(e,t){const n=typeof e=="function",r=typeof t=="function",s=[],i=[];return function(a,c){if(typeof c=="object")if(s.length){const u=Uk(s,this);u===0?s[s.length]=this:(s.splice(u),i.splice(u)),i[i.length]=a;const l=Uk(s,c);if(l!==0)return r?t.call(this,a,c,Dk(i,l)):`[ref=${Dk(i,l)}]`}else s[0]=c,i[0]=a;return n?e.call(this,a,c):c}}function Cwe(e,t,n,r){return JSON.stringify(e,kwe((s,i)=>{let o=i;return typeof o=="bigint"&&(o={__type:"bigint",value:i.toString()}),o instanceof Map&&(o={__type:"Map",value:Array.from(i.entries())}),(t==null?void 0:t(s,o))??o},r),n??void 0)}function Twe(e){const{deserialize:t=Swe,key:n="bigmi",serialize:r=Cwe,storage:s=K9}=e;function i(o){return o instanceof Promise?o.then(a=>a).catch(()=>null):o}return{...s,key:n,async getItem(o,a){const c=s.getItem(`${n}.${o}`),u=await i(c);return u?t(u)??null:a??null},async setItem(o,a){const c=`${n}.${o}`;a===null?await i(s.removeItem(c)):await i(s.setItem(c,r(a)))},async removeItem(o){await i(s.removeItem(`${n}.${o}`))}}}const K9={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function _we(){const e=typeof window<"u"&&window.localStorage?window.localStorage:K9;return{getItem(t){return e.getItem(t)},removeItem(t){e.removeItem(t)},setItem(t,n){try{e.setItem(t,n)}catch{}}}}function kve(e){const{multiInjectedProviderDiscovery:t=!0,storage:n=Twe({key:"bigmi",storage:_we()}),syncConnectedChain:r=!0,ssr:s=!1,...i}=e,o=xb(()=>i.chains),a=xb(()=>{const v=[],E=new Set;for(const S of i.connectors??[]){const N=c(S);if(v.push(N),!s&&N.rdns){const O=typeof N.rdns=="string"?[N.rdns]:N.rdns;for(const z of O)E.add(z)}}return v});function c(v){var N;const E=Iwe(iI()),S={...v({emitter:E,chains:o.getState(),storage:n,transports:i.transports}),emitter:E,uid:E.uid};return E.on("connect",b),(N=S.setup)==null||N.call(S),S}const u=new Map;function l(v={}){const E=v.chainId??p.getState().chainId,S=o.getState().find(O=>O.id===E);if(v.chainId&&!S)throw new Pk;{const O=u.get(p.getState().chainId);if(O&&!S)return O;if(!S)throw new Pk}{const O=u.get(E);if(O)return O}let N;if(i.client)N=i.client({chain:S});else{const O=S.id,z=o.getState().map(H=>H.id),L={},F=Object.entries(i);for(const[H,G]of F)if(!(H==="chains"||H==="client"||H==="connectors"||H==="transports"))if(typeof G=="object")if(O in G)L[H]=G[O];else{if(z.some(g=>g in G))continue;L[H]=G}else L[H]=G;N=hwe({...L,chain:S,transport:H=>i.transports[O]({...H,connectors:a})})}return u.set(E,N),N}function f(){return{chainId:o.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let d;const h="0.0.0-canary-";dh.startsWith(h)?d=Number.parseInt(dh.replace(h,"")):d=Number.parseInt(dh.split(".")[0]??"0");const p=xb(M0e(n?O0e(f,{migrate(v,E){if(E===d)return v;const S=f(),N=m(v,S.chainId);return{...S,chainId:N}},name:"store",partialize(v){return{connections:{__type:"Map",value:Array.from(v.connections.entries()).map(([E,S])=>{const{id:N,name:O,type:z,uid:L}=S.connector;return[E,{...S,connector:{id:N,name:O,type:z,uid:L}}]})},chainId:v.chainId,current:v.current}},merge(v,E){typeof v=="object"&&v&&"status"in v&&(v.status=void 0);const S=m(v,E.chainId);return{...E,...v,chainId:S}},skipHydration:s,storage:n,version:d}):f));p.setState(f());function m(v,E){return v&&typeof v=="object"&&"chainId"in v&&typeof v.chainId=="number"&&o.getState().some(S=>S.id===v.chainId)?v.chainId:E}r&&p.subscribe(({connections:v,current:E})=>{var S;return E?(S=v.get(E))==null?void 0:S.chainId:void 0},v=>{if(o.getState().some(S=>S.id===v))return p.setState(S=>({...S,chainId:v??S.chainId}))});function y(v){p.setState(E=>{const S=E.connections.get(v.uid);return S?{...E,connections:new Map(E.connections).set(v.uid,{accounts:v.accounts??S.accounts,chainId:v.chainId??S.chainId,connector:S.connector})}:E})}function b(v){p.getState().status==="connecting"||p.getState().status==="reconnecting"||p.setState(E=>{const S=a.getState().find(N=>N.uid===v.uid);return S?(S.emitter.listenerCount("connect")&&S.emitter.off("connect",y),S.emitter.listenerCount("change")||S.emitter.on("change",y),S.emitter.listenerCount("disconnect")||S.emitter.on("disconnect",I),{...E,connections:new Map(E.connections).set(v.uid,{accounts:v.accounts,chainId:v.chainId,connector:S}),current:v.uid,status:"connected"}):E})}function I(v){p.setState(E=>{const S=E.connections.get(v.uid);if(S){const O=S.connector;O.emitter.listenerCount("change")&&S.connector.emitter.off("change",y),O.emitter.listenerCount("disconnect")&&S.connector.emitter.off("disconnect",I),O.emitter.listenerCount("connect")||S.connector.emitter.on("connect",b)}if(E.connections.delete(v.uid),E.connections.size===0)return{...E,connections:new Map,current:null,status:"disconnected"};const N=E.connections.values().next().value;return{...E,connections:new Map(E.connections),current:N.connector.uid}})}return{get chains(){return o.getState()},get connectors(){return a.getState()},storage:n,getClient:l,get state(){return p.getState()},setState(v){let E;typeof v=="function"?E=v(p.getState()):E=v;const S=f();typeof E!="object"&&(E=S),Object.keys(S).some(O=>!(O in E))&&(E=S),p.setState(E,!0)},subscribe(v,E,S){return p.subscribe(v,E,S?{...S,fireImmediately:S.emitImmediately}:void 0)},_internal:{store:p,ssr:!!s,syncConnectedChain:r,transports:i.transports,chains:{setState(v){const E=typeof v=="function"?v(o.getState()):v;if(E.length!==0)return o.setState(E,!0)},subscribe(v){return o.subscribe(v)}},connectors:{setup:c,setState(v){return a.setState(typeof v=="function"?v(a.getState()):v,!0)},subscribe(v){return a.subscribe(v)}},events:{change:y,connect:b,disconnect:I}}}}function Mwe(e){return{mutationFn(t){return vwe(e,t)},mutationKey:["connect"]}}function Bwe(e,t){const{initialState:n,reconnectOnMount:r}=t;return n&&!e._internal.store.persist.hasHydrated()&&e.setState({...n,chainId:e.chains.some(s=>s.id===n.chainId)?n.chainId:e.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){e._internal.ssr&&await e._internal.store.persist.rehydrate(),r?R9(e):e.storage&&e.setState(s=>({...s,connections:new Map}))}}}function Nwe(e){const{children:t,config:n,initialState:r,reconnectOnMount:s=!0}=e,{onMount:i}=Bwe(n,{initialState:r,reconnectOnMount:s});n._internal.ssr||i();const o=Q.useRef(!0);return Q.useEffect(()=>{if(o.current&&n._internal.ssr)return i(),()=>{o.current=!1}},[]),t}const Q9=Q.createContext(void 0);function Cve(e){const{children:t,config:n}=e,r={value:n};return Q.createElement(Nwe,e,Q.createElement(Q9.Provider,r,t))}class Owe extends Ms{constructor(){super("`useConfig` must be used within `BigmiProvider`."),this.name="BigmiProviderNotFoundError"}}function oI(e={}){const t=e.config??Q.useContext(Q9);if(!t)throw new Owe;return t}const Tve=e=>{Q.useEffect(()=>{R9(e)},[e])},Pwe=e=>typeof e=="object"&&!Array.isArray(e);function jwe(e,t,n=t,r=Xh){const s=Q.useRef(new Set),i=Q.useRef(void 0),o=Q.useRef(t()),a=Q.useSyncExternalStore(u=>e(()=>{o.current=t(),u()}),()=>o.current,n),c=Q.useMemo(()=>{if(!Pwe(a))return a;const u={...a};return Object.defineProperties(u,Object.fromEntries(Object.entries(u).map(([l,f])=>[l,{configurable:!1,enumerable:!0,get:()=>(s.current.add(l),f)}]))),u},[a]);return Q.useMemo(()=>!s.current.size||!i.current||Array.from(s.current).some(l=>!r(c[l],i.current[l]))?(i.current=c,c):i.current,[c,r])}function _ve(e={}){const t=oI(e);return jwe(n=>bwe(t,{onChange:n}),()=>N9(t))}function Rwe(e={}){const t=oI(e);return Q.useSyncExternalStore(n=>Ewe(t,{onChange:n}),()=>jk(t),()=>jk(t))}function Mve(e={}){const{mutation:t}=e,n=oI(e),r=Mwe(n),{mutate:s,mutateAsync:i,...o}=gp({...t,...r});return Q.useEffect(()=>n.subscribe(({status:a})=>a,(a,c)=>{c==="connected"&&a==="disconnected"&&o.reset()}),[n,o.reset]),{...o,connect:s,connectAsync:i,connectors:Rwe({config:n})}}export{Wm as $,F1e as A,J3 as B,Bi as C,os as D,zp as E,Is as F,oe as G,Ei as H,Vs as I,zt as J,kO as K,BZ as L,Ee as M,sy as N,Jn as O,Ye as P,Ca as Q,nT as R,ioe as S,y_ as T,re as U,iA as V,Cp as W,ts as X,T6 as Y,aN as Z,we as _,Jwe as a,Zie as a$,ug as a0,Ge as a1,Ta as a2,nn as a3,kK as a4,yP as a5,ga as a6,R6 as a7,Qi as a8,_g as a9,hc as aA,wn as aB,Zn as aC,tO as aD,wc as aE,Vt as aF,p2 as aG,KQ as aH,w6 as aI,Tc as aJ,cQ as aK,Mt as aL,So as aM,Ux as aN,Su as aO,vP as aP,St as aQ,cn as aR,Kie as aS,Ps as aT,Zbe as aU,i$ as aV,Kwe as aW,s$ as aX,Ybe as aY,Fc as aZ,toe as a_,un as aa,wa as ab,rf as ac,el as ad,Fn as ae,mq as af,Wu as ag,Jy as ah,cH as ai,KE as aj,s1e as ak,Hbe as al,Qe as am,ve as an,Ce as ao,Eo as ap,cs as aq,sn as ar,st as as,EX as at,jx as au,Pt as av,rt as aw,ma as ax,pt as ay,ax as az,zr as b,W1e as b$,Yie as b0,Vbe as b1,Kf as b2,Vf as b3,Jj as b4,tu as b5,noe as b6,Xie as b7,Jie as b8,eoe as b9,F9 as bA,D9 as bB,U9 as bC,L9 as bD,$9 as bE,q9 as bF,W9 as bG,G9 as bH,V9 as bI,Jt as bJ,kve as bK,Ive as bL,hwe as bM,Sve as bN,yve as bO,GA as bP,ww as bQ,qA as bR,HA as bS,Ave as bT,xve as bU,Tve as bV,Cve as bW,wve as bX,Eve as bY,nhe as bZ,$g as b_,Gbe as ba,N2 as bb,Ywe as bc,Kbe as bd,Jbe as be,Vwe as bf,p7 as bg,roe as bh,soe as bi,Wbe as bj,Qbe as bk,Qwe as bl,xw as bm,Xy as bn,r1e as bo,j_ as bp,Dge as bq,zA as br,vve as bs,us as bt,Gpe as bu,_ve as bv,Dbe as bw,Mve as bx,z9 as by,H9 as bz,Xk as c,IE as c$,wbe as c0,xbe as c1,bbe as c2,X1e as c3,LJ as c4,Q1e as c5,V1e as c6,lbe as c7,Nbe as c8,vbe as c9,Mbe as cA,Bbe as cB,fbe as cC,kbe as cD,abe as cE,Y1e as cF,K1e as cG,cbe as cH,une as cI,tn as cJ,nt as cK,it as cL,q4 as cM,Rt as cN,t4 as cO,In as cP,pU as cQ,V4 as cR,Fu as cS,Hn as cT,hh as cU,vi as cV,dc as cW,Wd as cX,Ks as cY,dp as cZ,hi as c_,sbe as ca,nbe as cb,ybe as cc,mbe as cd,rbe as ce,Z1e as cf,pbe as cg,hbe as ch,dbe as ci,_be as cj,G1e as ck,Abe as cl,obe as cm,Sbe as cn,ibe as co,Tbe as cp,Ibe as cq,Cbe as cr,gbe as cs,ebe as ct,ube as cu,tbe as cv,H1e as cw,Ebe as cx,q1e as cy,J1e as cz,NP as d,n1e as d$,Wy as d0,qF as d1,Ya as d2,ld as d3,tT as d4,GF as d5,VF as d6,q_ as d7,$we as d8,V as d9,lt as dA,Qie as dB,ym as dC,qbe as dD,x5 as dE,Zr as dF,tL as dG,Hwe as dH,T5 as dI,Ube as dJ,eve as dK,tve as dL,lve as dM,dve as dN,Lbe as dO,jbe as dP,Fee as dQ,Rbe as dR,Qee as dS,Fwe as dT,Wwe as dU,Xwe as dV,zwe as dW,Bne as dX,Jfe as dY,Gwe as dZ,t1e as d_,da,o1e as db,bp as dc,qd as dd,nM as de,wH as df,ZI as dg,gp as dh,i1e as di,yo as dj,s0 as dk,Cq as dl,h1e as dm,p1e as dn,f1e as dp,d1e as dq,l1e as dr,jM as ds,Lwe as dt,vy as du,ze as dv,Tt as dw,qt as dx,li as dy,Dh as dz,ooe as e,BS as e0,hW as e1,ar as f,Xbe as g,fve as h,Tl as i,mp as j,dt as k,Q_ as l,gs as m,bt as n,Ie as o,Ht as p,e$ as q,_r as r,at as s,Ng as t,gx as u,di as v,Zf as w,ih as x,zre as y,Xg as z};
