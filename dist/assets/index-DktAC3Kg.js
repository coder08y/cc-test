const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/H5Menus-BMb4rNxV.js","assets/vendor-CBmAETR3.js","assets/index-ihcskjKt.js","assets/cross-CbhIs7DK.js","assets/index-VqB3HDun.css","assets/Drawer-DX1wga2y.js","assets/useNotifiAlerts-Duz6Uw_i.js","assets/useSigner-C1gsxlX5.js","assets/typeof-DiuEXoG3.js","assets/ConnectButton-wNvgWjMi.js","assets/RecentTransactions-B9h5zGYt.js","assets/NoData-BFX9XpKb.js","assets/useTrack-Cu3it5QI.js","assets/v4-C6aID195.js","assets/useAccountBalance-D7pkS3C9.js","assets/useInviteCodes-CuZXcy19.js","assets/CheckBox-CkL01dAe.js","assets/useInterval-FApnpfRj.js"])))=>i.map(i=>d[i]);
import{c as Sr,a as lc,r as $,j as _,P as Ra,x as Sa,B as Pe,W as Zn,y as Ta,H as he,V as we,A as Tr,T as j,I as mr,F as Ir,O as uc,Q as cc,w as yr,U as dc,ab as fc,aK as hc,n as ea,L as oo,aL as gc,X as pc,l as vc,a8 as _c,ax as mc,ac as yc,aM as Ec,aN as bc}from"./vendor-CBmAETR3.js";import{fy as lo,fz as Ar,fA as uo,fB as Rc,fC as Sc,fD as co,fE as en,fF as N,fG as Xt,fH as Tc,bd as tn,fI as Ic,fJ as rn,fK as Ac,fL as Ri,fM as Er,aJ as ta,M as Ia,u as Aa,I as Le,c as Cc,ae as wc,a4 as Lt,b as fo,fb as kc,l as Dc}from"./index-ihcskjKt.js";import{y as Fc,b as Cr,_ as ho}from"./cross-CbhIs7DK.js";import{a as go,u as Nc}from"./useNotifiAlerts-Duz6Uw_i.js";import{u as Oc}from"./useSigner-C1gsxlX5.js";import{i as V,r as po}from"./typeof-DiuEXoG3.js";import xc from"./ConnectButton-wNvgWjMi.js";import{u as $c}from"./useInviteCodes-CuZXcy19.js";import{C as ra}from"./CheckBox-CkL01dAe.js";import{u as Pc}from"./useInterval-FApnpfRj.js";function Lc(t){return typeof t=="object"&&t!==null}function Mc(t,r){if(!!!t)throw new Error("Unexpected invariant triggered.")}const qc=/\r\n|[\n\r]/g;function na(t,r){let a=0,e=1;for(const n of t.body.matchAll(qc)){if(typeof n.index=="number"||Mc(!1),n.index>=r)break;a=n.index+n[0].length,e+=1}return{line:e,column:r+1-a}}function Uc(t){return vo(t.source,na(t.source,t.start))}function vo(t,r){const a=t.locationOffset.column-1,e="".padStart(a)+t.body,n=r.line-1,i=t.locationOffset.line-1,s=r.line+i,o=r.line===1?a:0,l=r.column+o,u=`${t.name}:${s}:${l}
`,c=e.split(/\r\n|[\n\r]/g),d=c[n];if(d.length>120){const f=Math.floor(l/80),h=l%80,g=[];for(let p=0;p<d.length;p+=80)g.push(d.slice(p,p+80));return u+Si([[`${s} |`,g[0]],...g.slice(1,f+1).map(p=>["|",p]),["|","^".padStart(h)],["|",g[f+1]]])}return u+Si([[`${s-1} |`,c[n-1]],[`${s} |`,d],["|","^".padStart(l)],[`${s+1} |`,c[n+1]]])}function Si(t){const r=t.filter(([e,n])=>n!==void 0),a=Math.max(...r.map(([e])=>e.length));return r.map(([e,n])=>e.padStart(a)+(n?" "+n:"")).join(`
`)}function Vc(t){const r=t[0];return r==null||"kind"in r||"length"in r?{nodes:r,source:t[1],positions:t[2],path:t[3],originalError:t[4],extensions:t[5]}:r}class Ca extends Error{constructor(r,...a){var e,n,i;const{nodes:s,source:o,positions:l,path:u,originalError:c,extensions:d}=Vc(a);super(r),this.name="GraphQLError",this.path=u??void 0,this.originalError=c??void 0,this.nodes=Ti(Array.isArray(s)?s:s?[s]:void 0);const f=Ti((e=this.nodes)===null||e===void 0?void 0:e.map(g=>g.loc).filter(g=>g!=null));this.source=o??(f==null||(n=f[0])===null||n===void 0?void 0:n.source),this.positions=l??(f==null?void 0:f.map(g=>g.start)),this.locations=l&&o?l.map(g=>na(o,g)):f==null?void 0:f.map(g=>na(g.source,g.start));const h=Lc(c==null?void 0:c.extensions)?c==null?void 0:c.extensions:void 0;this.extensions=(i=d??h)!==null&&i!==void 0?i:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),c!=null&&c.stack?Object.defineProperty(this,"stack",{value:c.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,Ca):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let r=this.message;if(this.nodes)for(const a of this.nodes)a.loc&&(r+=`

`+Uc(a.loc));else if(this.source&&this.locations)for(const a of this.locations)r+=`

`+vo(this.source,a);return r}toJSON(){const r={message:this.message};return this.locations!=null&&(r.locations=this.locations),this.path!=null&&(r.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(r.extensions=this.extensions),r}}function Ti(t){return t===void 0||t.length===0?void 0:t}function te(t,r,a){return new Ca(`Syntax Error: ${a}`,{source:t,positions:[r]})}var aa;(function(t){t.QUERY="QUERY",t.MUTATION="MUTATION",t.SUBSCRIPTION="SUBSCRIPTION",t.FIELD="FIELD",t.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",t.FRAGMENT_SPREAD="FRAGMENT_SPREAD",t.INLINE_FRAGMENT="INLINE_FRAGMENT",t.VARIABLE_DEFINITION="VARIABLE_DEFINITION",t.SCHEMA="SCHEMA",t.SCALAR="SCALAR",t.OBJECT="OBJECT",t.FIELD_DEFINITION="FIELD_DEFINITION",t.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",t.INTERFACE="INTERFACE",t.UNION="UNION",t.ENUM="ENUM",t.ENUM_VALUE="ENUM_VALUE",t.INPUT_OBJECT="INPUT_OBJECT",t.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(aa||(aa={}));var m;(function(t){t.SOF="<SOF>",t.EOF="<EOF>",t.BANG="!",t.DOLLAR="$",t.AMP="&",t.PAREN_L="(",t.PAREN_R=")",t.SPREAD="...",t.COLON=":",t.EQUALS="=",t.AT="@",t.BRACKET_L="[",t.BRACKET_R="]",t.BRACE_L="{",t.PIPE="|",t.BRACE_R="}",t.NAME="Name",t.INT="Int",t.FLOAT="Float",t.STRING="String",t.BLOCK_STRING="BlockString",t.COMMENT="Comment"})(m||(m={}));class Hc{constructor(r){const a=new lo(m.SOF,0,0,0,0);this.source=r,this.lastToken=a,this.token=a,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let r=this.token;if(r.kind!==m.EOF)do if(r.next)r=r.next;else{const a=jc(this,r.end);r.next=a,a.prev=r,r=a}while(r.kind===m.COMMENT);return r}}function Bc(t){return t===m.BANG||t===m.DOLLAR||t===m.AMP||t===m.PAREN_L||t===m.PAREN_R||t===m.SPREAD||t===m.COLON||t===m.EQUALS||t===m.AT||t===m.BRACKET_L||t===m.BRACKET_R||t===m.BRACE_L||t===m.PIPE||t===m.BRACE_R}function _t(t){return t>=0&&t<=55295||t>=57344&&t<=1114111}function Dr(t,r){return _o(t.charCodeAt(r))&&mo(t.charCodeAt(r+1))}function _o(t){return t>=55296&&t<=56319}function mo(t){return t>=56320&&t<=57343}function Ge(t,r){const a=t.source.body.codePointAt(r);if(a===void 0)return m.EOF;if(a>=32&&a<=126){const e=String.fromCodePoint(a);return e==='"'?`'"'`:`"${e}"`}return"U+"+a.toString(16).toUpperCase().padStart(4,"0")}function Q(t,r,a,e,n){const i=t.line,s=1+a-t.lineStart;return new lo(r,a,e,i,s,n)}function jc(t,r){const a=t.source.body,e=a.length;let n=r;for(;n<e;){const i=a.charCodeAt(n);switch(i){case 65279:case 9:case 32:case 44:++n;continue;case 10:++n,++t.line,t.lineStart=n;continue;case 13:a.charCodeAt(n+1)===10?n+=2:++n,++t.line,t.lineStart=n;continue;case 35:return Kc(t,n);case 33:return Q(t,m.BANG,n,n+1);case 36:return Q(t,m.DOLLAR,n,n+1);case 38:return Q(t,m.AMP,n,n+1);case 40:return Q(t,m.PAREN_L,n,n+1);case 41:return Q(t,m.PAREN_R,n,n+1);case 46:if(a.charCodeAt(n+1)===46&&a.charCodeAt(n+2)===46)return Q(t,m.SPREAD,n,n+3);break;case 58:return Q(t,m.COLON,n,n+1);case 61:return Q(t,m.EQUALS,n,n+1);case 64:return Q(t,m.AT,n,n+1);case 91:return Q(t,m.BRACKET_L,n,n+1);case 93:return Q(t,m.BRACKET_R,n,n+1);case 123:return Q(t,m.BRACE_L,n,n+1);case 124:return Q(t,m.PIPE,n,n+1);case 125:return Q(t,m.BRACE_R,n,n+1);case 34:return a.charCodeAt(n+1)===34&&a.charCodeAt(n+2)===34?Xc(t,n):Gc(t,n)}if(Ar(i)||i===45)return Wc(t,n,i);if(uo(i))return Jc(t,n);throw te(t.source,n,i===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:_t(i)||Dr(a,n)?`Unexpected character: ${Ge(t,n)}.`:`Invalid character: ${Ge(t,n)}.`)}return Q(t,m.EOF,e,e)}function Kc(t,r){const a=t.source.body,e=a.length;let n=r+1;for(;n<e;){const i=a.charCodeAt(n);if(i===10||i===13)break;if(_t(i))++n;else if(Dr(a,n))n+=2;else break}return Q(t,m.COMMENT,r,n,a.slice(r+1,n))}function Wc(t,r,a){const e=t.source.body;let n=r,i=a,s=!1;if(i===45&&(i=e.charCodeAt(++n)),i===48){if(i=e.charCodeAt(++n),Ar(i))throw te(t.source,n,`Invalid number, unexpected digit after 0: ${Ge(t,n)}.`)}else n=nn(t,n,i),i=e.charCodeAt(n);if(i===46&&(s=!0,i=e.charCodeAt(++n),n=nn(t,n,i),i=e.charCodeAt(n)),(i===69||i===101)&&(s=!0,i=e.charCodeAt(++n),(i===43||i===45)&&(i=e.charCodeAt(++n)),n=nn(t,n,i),i=e.charCodeAt(n)),i===46||uo(i))throw te(t.source,n,`Invalid number, expected digit but got: ${Ge(t,n)}.`);return Q(t,s?m.FLOAT:m.INT,r,n,e.slice(r,n))}function nn(t,r,a){if(!Ar(a))throw te(t.source,r,`Invalid number, expected digit but got: ${Ge(t,r)}.`);const e=t.source.body;let n=r+1;for(;Ar(e.charCodeAt(n));)++n;return n}function Gc(t,r){const a=t.source.body,e=a.length;let n=r+1,i=n,s="";for(;n<e;){const o=a.charCodeAt(n);if(o===34)return s+=a.slice(i,n),Q(t,m.STRING,r,n+1,s);if(o===92){s+=a.slice(i,n);const l=a.charCodeAt(n+1)===117?a.charCodeAt(n+2)===123?zc(t,n):Yc(t,n):Qc(t,n);s+=l.value,n+=l.size,i=n;continue}if(o===10||o===13)break;if(_t(o))++n;else if(Dr(a,n))n+=2;else throw te(t.source,n,`Invalid character within String: ${Ge(t,n)}.`)}throw te(t.source,n,"Unterminated string.")}function zc(t,r){const a=t.source.body;let e=0,n=3;for(;n<12;){const i=a.charCodeAt(r+n++);if(i===125){if(n<5||!_t(e))break;return{value:String.fromCodePoint(e),size:n}}if(e=e<<4|Nt(i),e<0)break}throw te(t.source,r,`Invalid Unicode escape sequence: "${a.slice(r,r+n)}".`)}function Yc(t,r){const a=t.source.body,e=Ii(a,r+2);if(_t(e))return{value:String.fromCodePoint(e),size:6};if(_o(e)&&a.charCodeAt(r+6)===92&&a.charCodeAt(r+7)===117){const n=Ii(a,r+8);if(mo(n))return{value:String.fromCodePoint(e,n),size:12}}throw te(t.source,r,`Invalid Unicode escape sequence: "${a.slice(r,r+6)}".`)}function Ii(t,r){return Nt(t.charCodeAt(r))<<12|Nt(t.charCodeAt(r+1))<<8|Nt(t.charCodeAt(r+2))<<4|Nt(t.charCodeAt(r+3))}function Nt(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function Qc(t,r){const a=t.source.body;switch(a.charCodeAt(r+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw te(t.source,r,`Invalid character escape sequence: "${a.slice(r,r+2)}".`)}function Xc(t,r){const a=t.source.body,e=a.length;let n=t.lineStart,i=r+3,s=i,o="";const l=[];for(;i<e;){const u=a.charCodeAt(i);if(u===34&&a.charCodeAt(i+1)===34&&a.charCodeAt(i+2)===34){o+=a.slice(s,i),l.push(o);const c=Q(t,m.BLOCK_STRING,r,i+3,Rc(l).join(`
`));return t.line+=l.length-1,t.lineStart=n,c}if(u===92&&a.charCodeAt(i+1)===34&&a.charCodeAt(i+2)===34&&a.charCodeAt(i+3)===34){o+=a.slice(s,i),s=i+1,i+=4;continue}if(u===10||u===13){o+=a.slice(s,i),l.push(o),u===13&&a.charCodeAt(i+1)===10?i+=2:++i,o="",s=i,n=i;continue}if(_t(u))++i;else if(Dr(a,i))i+=2;else throw te(t.source,i,`Invalid character within String: ${Ge(t,i)}.`)}throw te(t.source,i,"Unterminated string.")}function Jc(t,r){const a=t.source.body,e=a.length;let n=r+1;for(;n<e;){const i=a.charCodeAt(n);if(Sc(i))++n;else break}return Q(t,m.NAME,r,n,a.slice(r,n))}const Zc=globalThis.process&&!0,ed=Zc?function(r,a){return r instanceof a}:function(r,a){if(r instanceof a)return!0;if(typeof r=="object"&&r!==null){var e;const n=a.prototype[Symbol.toStringTag],i=Symbol.toStringTag in r?r[Symbol.toStringTag]:(e=r.constructor)===null||e===void 0?void 0:e.name;if(n===i){const s=co(r);throw new Error(`Cannot use ${n} "${s}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};class yo{constructor(r,a="GraphQL request",e={line:1,column:1}){typeof r=="string"||en(!1,`Body must be a string. Received: ${co(r)}.`),this.body=r,this.name=a,this.locationOffset=e,this.locationOffset.line>0||en(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||en(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function td(t){return ed(t,yo)}function Eo(t,r){const a=new rd(t,r),e=a.parseDocument();return Object.defineProperty(e,"tokenCount",{enumerable:!1,value:a.tokenCount}),e}class rd{constructor(r,a={}){const e=td(r)?r:new yo(r);this._lexer=new Hc(e),this._options=a,this._tokenCounter=0}get tokenCount(){return this._tokenCounter}parseName(){const r=this.expectToken(m.NAME);return this.node(r,{kind:N.NAME,value:r.value})}parseDocument(){return this.node(this._lexer.token,{kind:N.DOCUMENT,definitions:this.many(m.SOF,this.parseDefinition,m.EOF)})}parseDefinition(){if(this.peek(m.BRACE_L))return this.parseOperationDefinition();const r=this.peekDescription(),a=r?this._lexer.lookahead():this._lexer.token;if(a.kind===m.NAME){switch(a.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(r)throw te(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(a.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(a)}parseOperationDefinition(){const r=this._lexer.token;if(this.peek(m.BRACE_L))return this.node(r,{kind:N.OPERATION_DEFINITION,operation:Xt.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const a=this.parseOperationType();let e;return this.peek(m.NAME)&&(e=this.parseName()),this.node(r,{kind:N.OPERATION_DEFINITION,operation:a,name:e,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const r=this.expectToken(m.NAME);switch(r.value){case"query":return Xt.QUERY;case"mutation":return Xt.MUTATION;case"subscription":return Xt.SUBSCRIPTION}throw this.unexpected(r)}parseVariableDefinitions(){return this.optionalMany(m.PAREN_L,this.parseVariableDefinition,m.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:N.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(m.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(m.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const r=this._lexer.token;return this.expectToken(m.DOLLAR),this.node(r,{kind:N.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:N.SELECTION_SET,selections:this.many(m.BRACE_L,this.parseSelection,m.BRACE_R)})}parseSelection(){return this.peek(m.SPREAD)?this.parseFragment():this.parseField()}parseField(){const r=this._lexer.token,a=this.parseName();let e,n;return this.expectOptionalToken(m.COLON)?(e=a,n=this.parseName()):n=a,this.node(r,{kind:N.FIELD,alias:e,name:n,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(m.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(r){const a=r?this.parseConstArgument:this.parseArgument;return this.optionalMany(m.PAREN_L,a,m.PAREN_R)}parseArgument(r=!1){const a=this._lexer.token,e=this.parseName();return this.expectToken(m.COLON),this.node(a,{kind:N.ARGUMENT,name:e,value:this.parseValueLiteral(r)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const r=this._lexer.token;this.expectToken(m.SPREAD);const a=this.expectOptionalKeyword("on");return!a&&this.peek(m.NAME)?this.node(r,{kind:N.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(r,{kind:N.INLINE_FRAGMENT,typeCondition:a?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const r=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(r,{kind:N.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(r,{kind:N.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(r){const a=this._lexer.token;switch(a.kind){case m.BRACKET_L:return this.parseList(r);case m.BRACE_L:return this.parseObject(r);case m.INT:return this.advanceLexer(),this.node(a,{kind:N.INT,value:a.value});case m.FLOAT:return this.advanceLexer(),this.node(a,{kind:N.FLOAT,value:a.value});case m.STRING:case m.BLOCK_STRING:return this.parseStringLiteral();case m.NAME:switch(this.advanceLexer(),a.value){case"true":return this.node(a,{kind:N.BOOLEAN,value:!0});case"false":return this.node(a,{kind:N.BOOLEAN,value:!1});case"null":return this.node(a,{kind:N.NULL});default:return this.node(a,{kind:N.ENUM,value:a.value})}case m.DOLLAR:if(r)if(this.expectToken(m.DOLLAR),this._lexer.token.kind===m.NAME){const e=this._lexer.token.value;throw te(this._lexer.source,a.start,`Unexpected variable "$${e}" in constant value.`)}else throw this.unexpected(a);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const r=this._lexer.token;return this.advanceLexer(),this.node(r,{kind:N.STRING,value:r.value,block:r.kind===m.BLOCK_STRING})}parseList(r){const a=()=>this.parseValueLiteral(r);return this.node(this._lexer.token,{kind:N.LIST,values:this.any(m.BRACKET_L,a,m.BRACKET_R)})}parseObject(r){const a=()=>this.parseObjectField(r);return this.node(this._lexer.token,{kind:N.OBJECT,fields:this.any(m.BRACE_L,a,m.BRACE_R)})}parseObjectField(r){const a=this._lexer.token,e=this.parseName();return this.expectToken(m.COLON),this.node(a,{kind:N.OBJECT_FIELD,name:e,value:this.parseValueLiteral(r)})}parseDirectives(r){const a=[];for(;this.peek(m.AT);)a.push(this.parseDirective(r));return a}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(r){const a=this._lexer.token;return this.expectToken(m.AT),this.node(a,{kind:N.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(r)})}parseTypeReference(){const r=this._lexer.token;let a;if(this.expectOptionalToken(m.BRACKET_L)){const e=this.parseTypeReference();this.expectToken(m.BRACKET_R),a=this.node(r,{kind:N.LIST_TYPE,type:e})}else a=this.parseNamedType();return this.expectOptionalToken(m.BANG)?this.node(r,{kind:N.NON_NULL_TYPE,type:a}):a}parseNamedType(){return this.node(this._lexer.token,{kind:N.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(m.STRING)||this.peek(m.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const r=this._lexer.token,a=this.parseDescription();this.expectKeyword("schema");const e=this.parseConstDirectives(),n=this.many(m.BRACE_L,this.parseOperationTypeDefinition,m.BRACE_R);return this.node(r,{kind:N.SCHEMA_DEFINITION,description:a,directives:e,operationTypes:n})}parseOperationTypeDefinition(){const r=this._lexer.token,a=this.parseOperationType();this.expectToken(m.COLON);const e=this.parseNamedType();return this.node(r,{kind:N.OPERATION_TYPE_DEFINITION,operation:a,type:e})}parseScalarTypeDefinition(){const r=this._lexer.token,a=this.parseDescription();this.expectKeyword("scalar");const e=this.parseName(),n=this.parseConstDirectives();return this.node(r,{kind:N.SCALAR_TYPE_DEFINITION,description:a,name:e,directives:n})}parseObjectTypeDefinition(){const r=this._lexer.token,a=this.parseDescription();this.expectKeyword("type");const e=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(r,{kind:N.OBJECT_TYPE_DEFINITION,description:a,name:e,interfaces:n,directives:i,fields:s})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(m.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(m.BRACE_L,this.parseFieldDefinition,m.BRACE_R)}parseFieldDefinition(){const r=this._lexer.token,a=this.parseDescription(),e=this.parseName(),n=this.parseArgumentDefs();this.expectToken(m.COLON);const i=this.parseTypeReference(),s=this.parseConstDirectives();return this.node(r,{kind:N.FIELD_DEFINITION,description:a,name:e,arguments:n,type:i,directives:s})}parseArgumentDefs(){return this.optionalMany(m.PAREN_L,this.parseInputValueDef,m.PAREN_R)}parseInputValueDef(){const r=this._lexer.token,a=this.parseDescription(),e=this.parseName();this.expectToken(m.COLON);const n=this.parseTypeReference();let i;this.expectOptionalToken(m.EQUALS)&&(i=this.parseConstValueLiteral());const s=this.parseConstDirectives();return this.node(r,{kind:N.INPUT_VALUE_DEFINITION,description:a,name:e,type:n,defaultValue:i,directives:s})}parseInterfaceTypeDefinition(){const r=this._lexer.token,a=this.parseDescription();this.expectKeyword("interface");const e=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(r,{kind:N.INTERFACE_TYPE_DEFINITION,description:a,name:e,interfaces:n,directives:i,fields:s})}parseUnionTypeDefinition(){const r=this._lexer.token,a=this.parseDescription();this.expectKeyword("union");const e=this.parseName(),n=this.parseConstDirectives(),i=this.parseUnionMemberTypes();return this.node(r,{kind:N.UNION_TYPE_DEFINITION,description:a,name:e,directives:n,types:i})}parseUnionMemberTypes(){return this.expectOptionalToken(m.EQUALS)?this.delimitedMany(m.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const r=this._lexer.token,a=this.parseDescription();this.expectKeyword("enum");const e=this.parseName(),n=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();return this.node(r,{kind:N.ENUM_TYPE_DEFINITION,description:a,name:e,directives:n,values:i})}parseEnumValuesDefinition(){return this.optionalMany(m.BRACE_L,this.parseEnumValueDefinition,m.BRACE_R)}parseEnumValueDefinition(){const r=this._lexer.token,a=this.parseDescription(),e=this.parseEnumValueName(),n=this.parseConstDirectives();return this.node(r,{kind:N.ENUM_VALUE_DEFINITION,description:a,name:e,directives:n})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw te(this._lexer.source,this._lexer.token.start,`${Jt(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const r=this._lexer.token,a=this.parseDescription();this.expectKeyword("input");const e=this.parseName(),n=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();return this.node(r,{kind:N.INPUT_OBJECT_TYPE_DEFINITION,description:a,name:e,directives:n,fields:i})}parseInputFieldsDefinition(){return this.optionalMany(m.BRACE_L,this.parseInputValueDef,m.BRACE_R)}parseTypeSystemExtension(){const r=this._lexer.lookahead();if(r.kind===m.NAME)switch(r.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(r)}parseSchemaExtension(){const r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const a=this.parseConstDirectives(),e=this.optionalMany(m.BRACE_L,this.parseOperationTypeDefinition,m.BRACE_R);if(a.length===0&&e.length===0)throw this.unexpected();return this.node(r,{kind:N.SCHEMA_EXTENSION,directives:a,operationTypes:e})}parseScalarTypeExtension(){const r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const a=this.parseName(),e=this.parseConstDirectives();if(e.length===0)throw this.unexpected();return this.node(r,{kind:N.SCALAR_TYPE_EXTENSION,name:a,directives:e})}parseObjectTypeExtension(){const r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const a=this.parseName(),e=this.parseImplementsInterfaces(),n=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(e.length===0&&n.length===0&&i.length===0)throw this.unexpected();return this.node(r,{kind:N.OBJECT_TYPE_EXTENSION,name:a,interfaces:e,directives:n,fields:i})}parseInterfaceTypeExtension(){const r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const a=this.parseName(),e=this.parseImplementsInterfaces(),n=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(e.length===0&&n.length===0&&i.length===0)throw this.unexpected();return this.node(r,{kind:N.INTERFACE_TYPE_EXTENSION,name:a,interfaces:e,directives:n,fields:i})}parseUnionTypeExtension(){const r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const a=this.parseName(),e=this.parseConstDirectives(),n=this.parseUnionMemberTypes();if(e.length===0&&n.length===0)throw this.unexpected();return this.node(r,{kind:N.UNION_TYPE_EXTENSION,name:a,directives:e,types:n})}parseEnumTypeExtension(){const r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const a=this.parseName(),e=this.parseConstDirectives(),n=this.parseEnumValuesDefinition();if(e.length===0&&n.length===0)throw this.unexpected();return this.node(r,{kind:N.ENUM_TYPE_EXTENSION,name:a,directives:e,values:n})}parseInputObjectTypeExtension(){const r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const a=this.parseName(),e=this.parseConstDirectives(),n=this.parseInputFieldsDefinition();if(e.length===0&&n.length===0)throw this.unexpected();return this.node(r,{kind:N.INPUT_OBJECT_TYPE_EXTENSION,name:a,directives:e,fields:n})}parseDirectiveDefinition(){const r=this._lexer.token,a=this.parseDescription();this.expectKeyword("directive"),this.expectToken(m.AT);const e=this.parseName(),n=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const s=this.parseDirectiveLocations();return this.node(r,{kind:N.DIRECTIVE_DEFINITION,description:a,name:e,arguments:n,repeatable:i,locations:s})}parseDirectiveLocations(){return this.delimitedMany(m.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const r=this._lexer.token,a=this.parseName();if(Object.prototype.hasOwnProperty.call(aa,a.value))return a;throw this.unexpected(r)}node(r,a){return this._options.noLocation!==!0&&(a.loc=new Tc(r,this._lexer.lastToken,this._lexer.source)),a}peek(r){return this._lexer.token.kind===r}expectToken(r){const a=this._lexer.token;if(a.kind===r)return this.advanceLexer(),a;throw te(this._lexer.source,a.start,`Expected ${bo(r)}, found ${Jt(a)}.`)}expectOptionalToken(r){return this._lexer.token.kind===r?(this.advanceLexer(),!0):!1}expectKeyword(r){const a=this._lexer.token;if(a.kind===m.NAME&&a.value===r)this.advanceLexer();else throw te(this._lexer.source,a.start,`Expected "${r}", found ${Jt(a)}.`)}expectOptionalKeyword(r){const a=this._lexer.token;return a.kind===m.NAME&&a.value===r?(this.advanceLexer(),!0):!1}unexpected(r){const a=r??this._lexer.token;return te(this._lexer.source,a.start,`Unexpected ${Jt(a)}.`)}any(r,a,e){this.expectToken(r);const n=[];for(;!this.expectOptionalToken(e);)n.push(a.call(this));return n}optionalMany(r,a,e){if(this.expectOptionalToken(r)){const n=[];do n.push(a.call(this));while(!this.expectOptionalToken(e));return n}return[]}many(r,a,e){this.expectToken(r);const n=[];do n.push(a.call(this));while(!this.expectOptionalToken(e));return n}delimitedMany(r,a){this.expectOptionalToken(r);const e=[];do e.push(a.call(this));while(this.expectOptionalToken(r));return e}advanceLexer(){const{maxTokens:r}=this._options,a=this._lexer.advance();if(a.kind!==m.EOF&&(++this._tokenCounter,r!==void 0&&this._tokenCounter>r))throw te(this._lexer.source,a.start,`Document contains more that ${r} tokens. Parsing aborted.`)}}function Jt(t){const r=t.value;return bo(t.kind)+(r!=null?` "${r}"`:"")}function bo(t){return Bc(t)?`"${t}"`:t}function le(t){return t===null?"null":Array.isArray(t)?"array":typeof t}function Ke(t){return le(t)==="object"}function nd(t){return Array.isArray(t)&&t.length>0&&t.every(r=>"message"in r)}function Ai(t,r){return t.length<124?t:r}const ad="graphql-transport-ws";var fe;(function(t){t[t.InternalServerError=4500]="InternalServerError",t[t.InternalClientError=4005]="InternalClientError",t[t.BadRequest=4400]="BadRequest",t[t.BadResponse=4004]="BadResponse",t[t.Unauthorized=4401]="Unauthorized",t[t.Forbidden=4403]="Forbidden",t[t.SubprotocolNotAcceptable=4406]="SubprotocolNotAcceptable",t[t.ConnectionInitialisationTimeout=4408]="ConnectionInitialisationTimeout",t[t.ConnectionAcknowledgementTimeout=4504]="ConnectionAcknowledgementTimeout",t[t.SubscriberAlreadyExists=4409]="SubscriberAlreadyExists",t[t.TooManyInitialisationRequests=4429]="TooManyInitialisationRequests"})(fe||(fe={}));var Y;(function(t){t.ConnectionInit="connection_init",t.ConnectionAck="connection_ack",t.Ping="ping",t.Pong="pong",t.Subscribe="subscribe",t.Next="next",t.Error="error",t.Complete="complete"})(Y||(Y={}));function Ro(t){if(!Ke(t))throw new Error(`Message is expected to be an object, but got ${le(t)}`);if(!t.type)throw new Error("Message is missing the 'type' property");if(typeof t.type!="string")throw new Error(`Message is expects the 'type' property to be a string, but got ${le(t.type)}`);switch(t.type){case Y.ConnectionInit:case Y.ConnectionAck:case Y.Ping:case Y.Pong:{if(t.payload!=null&&!Ke(t.payload))throw new Error(`"${t.type}" message expects the 'payload' property to be an object or nullish or missing, but got "${t.payload}"`);break}case Y.Subscribe:{if(typeof t.id!="string")throw new Error(`"${t.type}" message expects the 'id' property to be a string, but got ${le(t.id)}`);if(!t.id)throw new Error(`"${t.type}" message requires a non-empty 'id' property`);if(!Ke(t.payload))throw new Error(`"${t.type}" message expects the 'payload' property to be an object, but got ${le(t.payload)}`);if(typeof t.payload.query!="string")throw new Error(`"${t.type}" message payload expects the 'query' property to be a string, but got ${le(t.payload.query)}`);if(t.payload.variables!=null&&!Ke(t.payload.variables))throw new Error(`"${t.type}" message payload expects the 'variables' property to be a an object or nullish or missing, but got ${le(t.payload.variables)}`);if(t.payload.operationName!=null&&le(t.payload.operationName)!=="string")throw new Error(`"${t.type}" message payload expects the 'operationName' property to be a string or nullish or missing, but got ${le(t.payload.operationName)}`);if(t.payload.extensions!=null&&!Ke(t.payload.extensions))throw new Error(`"${t.type}" message payload expects the 'extensions' property to be a an object or nullish or missing, but got ${le(t.payload.extensions)}`);break}case Y.Next:{if(typeof t.id!="string")throw new Error(`"${t.type}" message expects the 'id' property to be a string, but got ${le(t.id)}`);if(!t.id)throw new Error(`"${t.type}" message requires a non-empty 'id' property`);if(!Ke(t.payload))throw new Error(`"${t.type}" message expects the 'payload' property to be an object, but got ${le(t.payload)}`);break}case Y.Error:{if(typeof t.id!="string")throw new Error(`"${t.type}" message expects the 'id' property to be a string, but got ${le(t.id)}`);if(!t.id)throw new Error(`"${t.type}" message requires a non-empty 'id' property`);if(!nd(t.payload))throw new Error(`"${t.type}" message expects the 'payload' property to be an array of GraphQL errors, but got ${JSON.stringify(t.payload)}`);break}case Y.Complete:{if(typeof t.id!="string")throw new Error(`"${t.type}" message expects the 'id' property to be a string, but got ${le(t.id)}`);if(!t.id)throw new Error(`"${t.type}" message requires a non-empty 'id' property`);break}default:throw new Error(`Invalid message 'type' property "${t.type}"`)}return t}function id(t,r){return Ro(typeof t=="string"?JSON.parse(t,r):t)}function Rt(t,r){return Ro(t),JSON.stringify(t,r)}var dt=function(t){return this instanceof dt?(this.v=t,this):new dt(t)},sd=function(t,r,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=a.apply(t,r||[]),n,i=[];return n=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),n[Symbol.asyncIterator]=function(){return this},n;function s(h){return function(g){return Promise.resolve(g).then(h,d)}}function o(h,g){e[h]&&(n[h]=function(p){return new Promise(function(v,y){i.push([h,p,v,y])>1||l(h,p)})},g&&(n[h]=g(n[h])))}function l(h,g){try{u(e[h](g))}catch(p){f(i[0][3],p)}}function u(h){h.value instanceof dt?Promise.resolve(h.value.v).then(c,d):f(i[0][2],h)}function c(h){l("next",h)}function d(h){l("throw",h)}function f(h,g){h(g),i.shift(),i.length&&l(i[0][0],i[0][1])}};function od(t){const{url:r,connectionParams:a,lazy:e=!0,onNonLazyError:n=console.error,lazyCloseTimeout:i=0,keepAlive:s=0,disablePong:o,connectionAckWaitTimeout:l=0,retryAttempts:u=5,retryWait:c=async function(L){let k=1e3;for(let x=0;x<L;x++)k*=2;await new Promise(x=>setTimeout(x,k+Math.floor(Math.random()*2700+300)))},shouldRetry:d=an,isFatalConnectionProblem:f,on:h,webSocketImpl:g,generateID:p=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,L=>{const k=Math.random()*16|0;return(L=="x"?k:k&3|8).toString(16)})},jsonMessageReplacer:v,jsonMessageReviver:y}=t;let b;if(g){if(!ud(g))throw new Error("Invalid WebSocket implementation provided");b=g}else typeof WebSocket<"u"?b=WebSocket:typeof tn<"u"?b=tn.WebSocket||tn.MozWebSocket:typeof window<"u"&&(b=window.WebSocket||window.MozWebSocket);if(!b)throw new Error("WebSocket implementation missing; on Node you can `import WebSocket from 'ws';` and pass `webSocketImpl: WebSocket` to `createClient`");const S=b,R=(()=>{const F=(()=>{const k={};return{on(x,B){return k[x]=B,()=>{delete k[x]}},emit(x){var B;"id"in x&&((B=k[x.id])===null||B===void 0||B.call(k,x))}}})(),L={connecting:h!=null&&h.connecting?[h.connecting]:[],opened:h!=null&&h.opened?[h.opened]:[],connected:h!=null&&h.connected?[h.connected]:[],ping:h!=null&&h.ping?[h.ping]:[],pong:h!=null&&h.pong?[h.pong]:[],message:h!=null&&h.message?[F.emit,h.message]:[F.emit],closed:h!=null&&h.closed?[h.closed]:[],error:h!=null&&h.error?[h.error]:[]};return{onMessage:F.on,on(k,x){const B=L[k];return B.push(x),()=>{B.splice(B.indexOf(x),1)}},emit(k,...x){for(const B of[...L[k]])B(...x)}}})();function A(F){const L=[R.on("error",k=>{L.forEach(x=>x()),F(k)}),R.on("closed",k=>{L.forEach(x=>x()),F(k)})]}let I,T=0,C,w=!1,P=0,H=!1;async function K(){clearTimeout(C);const[F,L]=await(I??(I=new Promise((B,ae)=>(async()=>{if(w){if(await c(P),!T)return I=void 0,ae({code:1e3,reason:"All Subscriptions Gone"});P++}R.emit("connecting",w);const U=new S(typeof r=="function"?await r():r,ad);let me,pe;function Be(){isFinite(s)&&s>0&&(clearTimeout(pe),pe=setTimeout(()=>{U.readyState===S.OPEN&&(U.send(Rt({type:Y.Ping})),R.emit("ping",!1,void 0))},s))}A(J=>{I=void 0,clearTimeout(me),clearTimeout(pe),ae(J),J instanceof Ci&&(U.close(4499,"Terminated"),U.onerror=null,U.onclose=null)}),U.onerror=J=>R.emit("error",J),U.onclose=J=>R.emit("closed",J),U.onopen=async()=>{try{R.emit("opened",U);const J=typeof a=="function"?await a():a;if(U.readyState!==S.OPEN)return;U.send(Rt(J?{type:Y.ConnectionInit,payload:J}:{type:Y.ConnectionInit},v)),isFinite(l)&&l>0&&(me=setTimeout(()=>{U.close(fe.ConnectionAcknowledgementTimeout,"Connection acknowledgement timeout")},l)),Be()}catch(J){R.emit("error",J),U.close(fe.InternalClientError,Ai(J instanceof Error?J.message:new Error(J).message,"Internal client error"))}};let Ne=!1;U.onmessage=({data:J})=>{try{const X=id(J,y);if(R.emit("message",X),X.type==="ping"||X.type==="pong"){R.emit(X.type,!0,X.payload),X.type==="pong"?Be():o||(U.send(Rt(X.payload?{type:Y.Pong,payload:X.payload}:{type:Y.Pong})),R.emit("pong",!1,X.payload));return}if(Ne)return;if(X.type!==Y.ConnectionAck)throw new Error(`First message cannot be of type ${X.type}`);clearTimeout(me),Ne=!0,R.emit("connected",U,X.payload,w),w=!1,P=0,B([U,new Promise((mi,bt)=>A(bt))])}catch(X){U.onmessage=null,R.emit("error",X),U.close(fe.BadResponse,Ai(X instanceof Error?X.message:new Error(X).message,"Bad response"))}}})())));F.readyState===S.CLOSING&&await L;let k=()=>{};const x=new Promise(B=>k=B);return[F,k,Promise.race([x.then(()=>{if(!T){const B=()=>F.close(1e3,"Normal Closure");isFinite(i)&&i>0?C=setTimeout(()=>{F.readyState===S.OPEN&&B()},i):B()}}),L])]}function re(F){if(an(F)&&(ld(F.code)||[fe.InternalServerError,fe.InternalClientError,fe.BadRequest,fe.BadResponse,fe.Unauthorized,fe.SubprotocolNotAcceptable,fe.SubscriberAlreadyExists,fe.TooManyInitialisationRequests].includes(F.code)))throw F;if(H)return!1;if(an(F)&&F.code===1e3)return T>0;if(!u||P>=u||!d(F)||f!=null&&f(F))throw F;return w=!0}e||(async()=>{for(T++;;)try{const[,,F]=await K();await F}catch(F){try{if(!re(F))return}catch(L){return n==null?void 0:n(L)}}})();function ce(F,L){const k=p(F);let x=!1,B=!1,ae=()=>{T--,x=!0};return(async()=>{for(T++;;)try{const[U,me,pe]=await K();if(x)return me();const Be=R.onMessage(k,Ne=>{switch(Ne.type){case Y.Next:{L.next(Ne.payload);return}case Y.Error:{B=!0,x=!0,L.error(Ne.payload),ae();return}case Y.Complete:{x=!0,ae();return}}});U.send(Rt({id:k,type:Y.Subscribe,payload:F},v)),ae=()=>{!x&&U.readyState===S.OPEN&&U.send(Rt({id:k,type:Y.Complete},v)),T--,x=!0,me()},await pe.finally(Be);return}catch(U){if(!re(U))return}})().then(()=>{B||L.complete()}).catch(U=>{L.error(U)}),()=>{x||ae()}}return{on:R.on,subscribe:ce,iterate(F){const L=[],k={done:!1,error:null,resolve:()=>{}},x=ce(F,{next(ae){L.push(ae),k.resolve()},error(ae){k.done=!0,k.error=ae,k.resolve()},complete(){k.done=!0,k.resolve()}}),B=function(){return sd(this,arguments,function*(){for(;;){for(L.length||(yield dt(new Promise(me=>k.resolve=me)));L.length;)yield yield dt(L.shift());if(k.error)throw k.error;if(k.done)return yield dt(void 0)}})}();return B.throw=async ae=>(k.done||(k.done=!0,k.error=ae,k.resolve()),{done:!0,value:void 0}),B.return=async()=>(x(),{done:!0,value:void 0}),B},async dispose(){if(H=!0,I){const[F]=await I;F.close(1e3,"Normal Closure")}},terminate(){I&&R.emit("closed",new Ci)}}}class Ci extends Error{constructor(){super(...arguments),this.name="TerminatedCloseEvent",this.message="4499: Terminated",this.code=4499,this.reason="Terminated",this.wasClean=!1}}function an(t){return Ke(t)&&"code"in t&&"reason"in t}function ld(t){return[1e3,1001,1006,1005,1012,1013,1014].includes(t)?!1:t>=1e3&&t<=1999}function ud(t){return typeof t=="function"&&"constructor"in t&&"CLOSED"in t&&"CLOSING"in t&&"CONNECTING"in t&&"OPEN"in t}var cd={ACTOR_CHANGE:"ActorChange",CATCH_FIELD:"CatchField",CONDITION:"Condition",CLIENT_COMPONENT:"ClientComponent",CLIENT_EDGE_TO_SERVER_OBJECT:"ClientEdgeToServerObject",CLIENT_EDGE_TO_CLIENT_OBJECT:"ClientEdgeToClientObject",CLIENT_EXTENSION:"ClientExtension",DEFER:"Defer",CONNECTION:"Connection",FRAGMENT:"Fragment",FRAGMENT_SPREAD:"FragmentSpread",INLINE_DATA_FRAGMENT_SPREAD:"InlineDataFragmentSpread",INLINE_DATA_FRAGMENT:"InlineDataFragment",INLINE_FRAGMENT:"InlineFragment",LINKED_FIELD:"LinkedField",LINKED_HANDLE:"LinkedHandle",LITERAL:"Literal",LIST_VALUE:"ListValue",LOCAL_ARGUMENT:"LocalArgument",MODULE_IMPORT:"ModuleImport",ALIASED_FRAGMENT_SPREAD:"AliasedFragmentSpread",ALIASED_INLINE_FRAGMENT_SPREAD:"AliasedInlineFragmentSpread",RELAY_RESOLVER:"RelayResolver",RELAY_LIVE_RESOLVER:"RelayLiveResolver",REQUIRED_FIELD:"RequiredField",OBJECT_VALUE:"ObjectValue",OPERATION:"Operation",REQUEST:"Request",ROOT_ARGUMENT:"RootArgument",SCALAR_FIELD:"ScalarField",SCALAR_HANDLE:"ScalarHandle",SPLIT_OPERATION:"SplitOperation",STREAM:"Stream",TYPE_DISCRIMINATOR:"TypeDiscriminator",UPDATABLE_QUERY:"UpdatableQuery",VARIABLE:"Variable"},Ue=cd,dd=function(t,r,a,e,n,i,s,o){if(!t){var l;if(r===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[a,e,n,i,s,o],c=0;l=new Error(r.replace(/%s/g,function(){return u[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},D=dd;function Fr(t){return function(){return t}}var mt=function(){};mt.thatReturns=Fr;mt.thatReturnsFalse=Fr(!1);mt.thatReturnsTrue=Fr(!0);mt.thatReturnsNull=Fr(null);mt.thatReturnsThis=function(){return this};mt.thatReturnsArgument=function(t){return t};var Nr=Ue,Bt=D;function fd(t){Bt(!1)}function ke(t){var r=t;return typeof r=="function"?r=r():r.default&&(r=r.default),r}function So(t){var r=ke(t);return typeof r=="object"&&r!==null&&r.kind===Nr.FRAGMENT}function To(t){var r=ke(t);return typeof r=="object"&&r!==null&&r.kind===Nr.REQUEST}function hd(t){var r=ke(t);return typeof r=="object"&&r!==null&&r.kind===Nr.UPDATABLE_QUERY}function Io(t){var r=ke(t);return typeof r=="object"&&r!==null&&r.kind===Nr.INLINE_DATA_FRAGMENT}function wa(t){var r=ke(t);return So(r)||Bt(!1),r}function gd(t){var r,a=wa(t),e=(r=a.metadata)===null||r===void 0?void 0:r.refetch,n=e==null?void 0:e.connection;return e===null||typeof e!="object"||n===null||typeof n!="object"?null:a}function pd(t){var r,a=wa(t),e=(r=a.metadata)===null||r===void 0?void 0:r.refetch;return e===null||typeof e!="object"?null:a}function vd(t){var r=ke(t);return To(r)||Bt(!1),r}function _d(t){var r=ke(t);return hd(r)||Bt(!1),r}function md(t){var r=ke(t);return Io(r)||Bt(!1),r}var ye={getFragment:wa,getNode:ke,getPaginationFragment:gd,getRefetchableFragment:pd,getRequest:vd,getUpdatableQuery:_d,getInlineDataFragment:md,graphql:fd,isFragment:So,isRequest:To,isInlineDataFragment:Io},Ao={exports:{}},Co={exports:{}},wo={exports:{}};(function(t){function r(a,e){(e==null||e>a.length)&&(e=a.length);for(var n=0,i=Array(e);n<e;n++)i[n]=a[n];return i}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(wo);var ko=wo.exports;(function(t){var r=ko;function a(e,n){if(e){if(typeof e=="string")return r(e,n);var i={}.toString.call(e).slice(8,-1);return i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set"?Array.from(e):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(e,n):void 0}}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports})(Co);var Do=Co.exports;(function(t){var r=Do;function a(e,n){var i=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=r(e))||n&&e&&typeof e.length=="number"){i&&(e=i);var s=0,o=function(){};return{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(f){throw f},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l,u=!0,c=!1;return{s:function(){i=i.call(e)},n:function(){var f=i.next();return u=f.done,f},e:function(f){c=!0,l=f},f:function(){try{u||i.return==null||i.return()}finally{if(c)throw l}}}}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports})(Ao);var ie=Ao.exports,yd=V.default,wi=yd(ie),Ed=D;function bd(t,r){var a=(0,wi.default)(r),e;try{for(a.s();!(e=a.n()).done;){var n=e.value;t.relayFieldLogger(n)}}catch(l){a.e(l)}finally{a.f()}var i=(0,wi.default)(r),s;try{for(i.s();!(s=i.n()).done;){var o=s.value;if(Fo(o))switch(o.kind){case"relay_resolver.error":throw new Error("Relay: Resolver error at path '".concat(o.fieldPath,"' in '").concat(o.owner,"'."));case"relay_field_payload.error":throw new Error("Relay: Unexpected response payload - check server logs for details.");case"missing_expected_data.throw":throw new Error("Relay: Missing expected data at path '".concat(o.fieldPath,"' in '").concat(o.owner,"'."));case"missing_required_field.throw":throw new Error("Relay: Missing @required value at path '".concat(o.fieldPath,"' in '").concat(o.owner,"'."));case"missing_required_field.log":case"missing_expected_data.log":break;default:o.kind,Ed(!1)}}}catch(l){i.e(l)}finally{i.f()}}function Fo(t){switch(t.kind){case"relay_resolver.error":case"relay_field_payload.error":return t.shouldThrow&&!t.handled;case"missing_expected_data.throw":case"missing_required_field.throw":return!t.handled;case"missing_required_field.log":case"missing_expected_data.log":return!1;default:throw t.kind,new Error("Relay: Unexpected event kind")}}function Rd(t,r){r!=null&&bd(t,r)}var jt={handlePotentialSnapshotErrors:Rd,eventShouldThrow:Fo},No={exports:{}},Oo={exports:{}},xo={exports:{}},$o={exports:{}};(function(t){var r=po().default;function a(e,n){if(r(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var s=i.call(e,n||"default");if(r(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports})($o);var Sd=$o.exports;(function(t){var r=po().default,a=Sd;function e(n){var i=a(n,"string");return r(i)=="symbol"?i:i+""}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(xo);var Po=xo.exports;(function(t){var r=Po;function a(e,n,i){return(n=r(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports})(Oo);var Qe=Oo.exports;(function(t){var r=Qe;function a(n,i){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);i&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),s.push.apply(s,o)}return s}function e(n){for(var i=1;i<arguments.length;i++){var s=arguments[i]!=null?arguments[i]:{};i%2?a(Object(s),!0).forEach(function(o){r(n,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(s,o))})}return n}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(No);var ge=No.exports,Lo={exports:{}},Mo={exports:{}};(function(t){var r=ko;function a(e){if(Array.isArray(e))return r(e)}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports})(Mo);var Td=Mo.exports,qo={exports:{}};(function(t){function r(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(qo);var Id=qo.exports,Uo={exports:{}};(function(t){function r(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(Uo);var Ad=Uo.exports;(function(t){var r=Td,a=Id,e=Do,n=Ad;function i(s){return r(s)||a(s)||e(s)||n()}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports})(Lo);var yt=Lo.exports,Vo={DEFAULT_HANDLE_KEY:""},Cd=Vo,wd=Cd.DEFAULT_HANDLE_KEY,kd=D;function Dd(t,r,a){return r&&r!==wd?"__".concat(r,"_").concat(t):(a==null&&kd(!1),"__".concat(a,"_").concat(t))}var ka=Dd;function ia(t){if(!t||typeof t!="object")return t;if(Array.isArray(t))return t.map(ia);for(var r=Object.keys(t).sort(),a={},e=0;e<r.length;e++)a[r[e]]=ia(t[r[e]]);return a}function Ho(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;if(!t||typeof t!="object")return!1;if(r.has(t))return!0;var a=new Set(r);a.add(t);var e=Array.isArray(t)?t:Object.values(t);return e.some(function(n){return Ho(n,a)})}var Xe={stableCopy:ia,hasCycle:Ho},Fd=V.default,Nd=Fd(yt),Od=ka,Or=Ue,xd=Xe,Bo=xd.stableCopy,$d=D,Pd=Or.VARIABLE,Ld=Or.LITERAL,Md=Or.OBJECT_VALUE,qd=Or.LIST_VALUE,Ud="__errors",Vd="__module_component_",Hd="__module_operation_";function sa(t,r){if(t.kind===Pd)return Gd(t.variableName,r);if(t.kind===Ld)return t.value;if(t.kind===Md){var a={};return t.fields.forEach(function(n){a[n.name]=sa(n,r)}),a}else if(t.kind===qd){var e=[];return t.items.forEach(function(n){n!=null&&e.push(sa(n,r))}),e}}function Da(t,r,a){var e={};return a&&(e[jo.FRAGMENT_POINTER_IS_WITHIN_UNMATCHED_TYPE_REFINEMENT]=!0),t&&t.forEach(function(n){e[n.name]=sa(n,r)}),e}function Bd(t,r){var a=t.dynamicKey,e=t.handle,n=t.key,i=t.name,s=t.args,o=t.filters,l=Od(e,n,i),u=null;return s&&o&&s.length!==0&&o.length!==0&&(u=s.filter(function(c){return o.indexOf(c.name)>-1})),a&&(u=u!=null?[a].concat((0,Nd.default)(u)):[a]),u===null?l:Fa(l,Da(u,r))}function jd(t,r){if(t.storageKey)return t.storageKey;var a=Kd(t),e=t.name;return a&&a.length!==0?Fa(e,Da(a,r)):e}function Kd(t){if(t.kind==="RelayResolver"||t.kind==="RelayLiveResolver"){var r;if(t.args==null){var a;return(a=t.fragment)===null||a===void 0?void 0:a.args}return((r=t.fragment)===null||r===void 0?void 0:r.args)==null?t.args:t.args.concat(t.fragment.args)}var e=typeof t.args>"u"?void 0:t.args;return e}function Wd(t,r){return Fa(t,Bo(r))}function Fa(t,r){if(!r)return t;var a=[];for(var e in r)if(r.hasOwnProperty(e)){var n=r[e];if(n!=null){var i;a.push(e+":"+((i=JSON.stringify(n))!==null&&i!==void 0?i:"undefined"))}}return a.length===0?t:t+"(".concat(a.join(","),")")}function Gd(t,r){return r.hasOwnProperty(t)||$d(!1),Bo(r[t])}function zd(t){return"".concat(Vd).concat(t)}function Yd(t){return"".concat(Hd).concat(t)}var jo={ACTOR_IDENTIFIER_KEY:"__actorIdentifier",CLIENT_EDGE_TRAVERSAL_PATH:"__clientEdgeTraversalPath",FRAGMENTS_KEY:"__fragments",FRAGMENT_OWNER_KEY:"__fragmentOwner",FRAGMENT_POINTER_IS_WITHIN_UNMATCHED_TYPE_REFINEMENT:"$isWithinUnmatchedTypeRefinement",FRAGMENT_PROP_NAME_KEY:"__fragmentPropName",MODULE_COMPONENT_KEY:"__module_component",ERRORS_KEY:Ud,ID_KEY:"__id",REF_KEY:"__ref",REFS_KEY:"__refs",ROOT_ID:"client:root",ROOT_TYPE:"__Root",TYPENAME_KEY:"__typename",INVALIDATED_AT_KEY:"__invalidated_at",RELAY_RESOLVER_VALUE_KEY:"__resolverValue",RELAY_RESOLVER_INVALIDATION_KEY:"__resolverValueMayBeInvalid",RELAY_RESOLVER_SNAPSHOT_KEY:"__resolverSnapshot",RELAY_RESOLVER_ERROR_KEY:"__resolverError",RELAY_RESOLVER_OUTPUT_TYPE_RECORD_IDS:"__resolverOutputTypeRecordIDs",getArgumentValues:Da,getHandleStorageKey:Bd,getStorageKey:jd,getStableStorageKey:Wd,getModuleComponentKey:zd,getModuleOperationKey:Yd},W=jo,Qd=V.default,Ko=Qd(ge),Xd=W,Jd=Xd.getArgumentValues,Zd=D;function ef(t,r,a){if(t.argumentDefinitions==null)return a;var e;return t.argumentDefinitions.forEach(function(n){if(!a.hasOwnProperty(n.name))switch(e=e||(0,Ko.default)({},a),n.kind){case"LocalArgument":e[n.name]=n.defaultValue;break;case"RootArgument":if(!r.hasOwnProperty(n.name)){e[n.name]=void 0;break}e[n.name]=r[n.name];break;default:Zd(!1)}}),e||a}function tf(t,r,a){var e={};return t.argumentDefinitions.forEach(function(n){var i=n.defaultValue;a[n.name]!=null&&(i=a[n.name]),e[n.name]=i}),r!=null&&Object.keys(r).forEach(function(n){e[n]=r[n].get()}),e}function rf(t,r,a){if(r==null)return t;var e=(0,Ko.default)({},t),n=a?Jd(a,t):{};return r.forEach(function(i){var s,o=(s=n[i.name])!==null&&s!==void 0?s:i.defaultValue;e[i.name]=o}),e}var Ve={getLocalVariables:rf,getFragmentVariables:ef,getOperationVariables:tf},sn=[],on=[];/**
 * Checks if two values are equal. Values may be primitives, arrays, or objects.
 * Returns true if both arguments have the same keys and values.
 *
 * @see http://underscorejs.org
 * @copyright 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.
 * @license MIT
 */function nf(t,r){var a=sn.length?sn.pop():[],e=on.length?on.pop():[],n=oa(t,r,a,e);return a.length=0,e.length=0,sn.push(a),on.push(e),n}function oa(t,r,a,e){if(t===r)return t!==0||1/t==1/r;if(t==null||r==null||typeof t!="object"||typeof r!="object")return!1;var n=Object.prototype.toString,i=n.call(t);if(i!=n.call(r))return!1;switch(i){case"[object String]":return t==String(r);case"[object Number]":return isNaN(t)||isNaN(r)?!1:t==Number(r);case"[object Date]":case"[object Boolean]":return+t==+r;case"[object RegExp]":return t.source==r.source&&t.global==r.global&&t.multiline==r.multiline&&t.ignoreCase==r.ignoreCase}for(var s=a.length;s--;)if(a[s]==t)return e[s]==r;a.push(t),e.push(r);var o=0;if(i==="[object Array]"){if(o=t.length,o!==r.length)return!1;for(;o--;)if(!oa(t[o],r[o],a,e))return!1}else{if(t.constructor!==r.constructor)return!1;if(t.hasOwnProperty("valueOf")&&r.hasOwnProperty("valueOf"))return t.valueOf()==r.valueOf();var l=Object.keys(t);if(l.length!=Object.keys(r).length)return!1;for(var u=0;u<l.length;u++)if(!oa(t[l[u]],r[l[u]],a,e))return!1}return a.pop(),e.pop(),!0}var Kt=nf,af=Ve,sf=af.getFragmentVariables,Wt=W,of=Wt.CLIENT_EDGE_TRAVERSAL_PATH,lf=Wt.FRAGMENT_OWNER_KEY,uf=Wt.FRAGMENT_POINTER_IS_WITHIN_UNMATCHED_TYPE_REFINEMENT,cf=Wt.FRAGMENTS_KEY,Wo=Wt.ID_KEY,Go=Kt,Me=D;function xr(t,r){typeof r=="object"&&r!==null&&!Array.isArray(r)||Me(!1);var a=r[Wo],e=r[cf],n=r[lf],i=r[of];if(typeof a=="string"&&typeof e=="object"&&e!==null&&typeof e[t.name]=="object"&&e[t.name]!==null&&typeof n=="object"&&n!==null&&(i==null||Array.isArray(i))){var s=n,o=i,l=e[t.name],u=sf(t,s.variables,l),c=l[uf]===!0;return el(t,a,u,s,c,o)}return null}function zo(t,r){var a=null;return r.forEach(function(e,n){var i=e!=null?xr(t,e):null;i!=null&&(a=a||[],a.push(i))}),a==null?null:{kind:"PluralReaderSelector",selectors:a}}function Yo(t,r){return r==null?r:t.metadata&&t.metadata.plural===!0?(Array.isArray(r)||Me(!1),zo(t,r)):(Array.isArray(r)&&Me(!1),xr(t,r))}function df(t,r){var a={};for(var e in t)if(t.hasOwnProperty(e)){var n=t[e],i=r[e];a[e]=Yo(n,i)}return a}function ff(t,r){var a={};for(var e in t)if(t.hasOwnProperty(e)){var n=t[e],i=r[e];a[e]=Qo(n,i)}return a}function Qo(t,r){return r==null?r:t.metadata&&t.metadata.plural===!0?(Array.isArray(r)||Me(!1),hf(t,r)):(Array.isArray(r)&&Me(!1),Xo(t,r))}function hf(t,r){var a=null;return r.forEach(function(e){var n=e!=null?Xo(t,e):null;n!=null&&(a=a||[],a.push(n))}),a}function Xo(t,r){typeof r=="object"&&r!==null&&!Array.isArray(r)||Me(!1);var a=r[Wo];return typeof a=="string"?a:null}function gf(t,r){var a={};for(var e in t)if(t.hasOwnProperty(e)){var n=t[e],i=r[e],s=Jo(n,i);Object.assign(a,s)}return a}function Jo(t,r){var a;return r==null?{}:((a=t.metadata)===null||a===void 0?void 0:a.plural)===!0?(Array.isArray(r)||Me(!1),Zo(t,r)):(Array.isArray(r)&&Me(!1),Na(t,r)||{})}function Na(t,r){var a=xr(t,r);return a?a.variables:null}function Zo(t,r){var a={};return r.forEach(function(e,n){if(e!=null){var i=Na(t,e);i!=null&&Object.assign(a,i)}}),a}function ki(t,r){return t.dataID===r.dataID&&t.node===r.node&&Go(t.variables,r.variables)&&pf(t.owner,r.owner)&&t.isWithinUnmatchedTypeRefinement===r.isWithinUnmatchedTypeRefinement&&vf(t.clientEdgeTraversalPath,r.clientEdgeTraversalPath)}function pf(t,r){return t===r?!0:t.identifier===r.identifier&&Go(t.cacheConfig,r.cacheConfig)}function vf(t,r){if(t===r)return!0;if(t==null||r==null||t.length!==r.length)return!1;for(var a=t.length;a--;){var e=t[a],n=r[a];if(e!==n&&(e==null||n==null||e.clientEdgeDestinationID!==n.clientEdgeDestinationID||e.readerClientEdge!==n.readerClientEdge))return!1}return!0}function _f(t,r){return t===r?!0:t==null?r==null:r==null?t==null:t.kind==="SingularReaderSelector"&&r.kind==="SingularReaderSelector"?ki(t,r):t.kind==="PluralReaderSelector"&&r.kind==="PluralReaderSelector"?t.selectors.length===r.selectors.length&&t.selectors.every(function(a,e){return ki(a,r.selectors[e])}):!1}function el(t,r,a,e){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,i=arguments.length>5?arguments[5]:void 0;return{kind:"SingularReaderSelector",dataID:r,isWithinUnmatchedTypeRefinement:n,clientEdgeTraversalPath:i??null,node:t,variables:a,owner:e}}function mf(t,r,a){return{dataID:r,node:t,variables:a}}var Ee={areEqualSelectors:_f,createReaderSelector:el,createNormalizationSelector:mf,getDataIDsFromFragment:Qo,getDataIDsFromObject:ff,getSingularSelector:xr,getPluralSelector:zo,getSelector:Yo,getSelectorsFromObject:df,getVariablesFromSingularFragment:Na,getVariablesFromPluralFragment:Zo,getVariablesFromFragment:Jo,getVariablesFromObject:gf},yf=ye,Ef=yf.getFragment,bf=jt,Rf=bf.eventShouldThrow,Sf=Ee,Tf=Sf.getSelector,Di=D,xt=[];function If(t,r){xt.push(t);try{return r()}finally{xt.pop()}}function Af(t,r){if(!xt.length)throw new Error("readFragment should be called only from within a Relay Resolver function.");var a=xt[xt.length-1],e=Ef(t),n=Tf(e,r);n==null&&Di(!1),n.kind!=="SingularReaderSelector"&&Di(!1);var i=a.getDataForResolverFragment(n,r),s=i.data,o=i.isMissingData,l=i.errorResponseFields;if(o||l!=null&&l.some(Rf))throw tl;return s}var tl={},Oa={readFragment:Af,withResolverContext:If,RESOLVER_FRAGMENT_ERRORED_SENTINEL:tl},Cf=Oa;Cf.readFragment;var rl={exports:{}};(function(t){function r(e,n,i,s,o,l,u){try{var c=e[l](u),d=c.value}catch(f){return void i(f)}c.done?n(d):Promise.resolve(d).then(s,o)}function a(e){return function(){var n=this,i=arguments;return new Promise(function(s,o){var l=e.apply(n,i);function u(d){r(l,s,o,u,c,"next",d)}function c(d){r(l,s,o,u,c,"throw",d)}u(void 0)})}}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports})(rl);var nl=rl.exports;function wf(t){return t!=null&&typeof t=="object"&&typeof t.then=="function"}var al=wf,kf=al,Ce=$f,Mt=function(){t.create=function(e){return new t(e)};function t(a){this._source=a}t.onUnhandledError=function(e){Ce=e},t.from=function(e){return Df(e)?Ff(e):kf(e)?Nf(e):Of(e)};var r=t.prototype;return r.catch=function(e){var n=this;return t.create(function(i){var s;return n.subscribe({start:function(l){s=l},next:i.next,complete:i.complete,error:function(l){try{e(l).subscribe({start:function(c){s=c},next:i.next,complete:i.complete,error:i.error})}catch(u){i.error(u,!0)}}}),function(){return s.unsubscribe()}})},r.concat=function(e){var n=this;return t.create(function(i){var s;return n.subscribe({start:function(l){s=l},next:i.next,error:i.error,complete:function(){s=e.subscribe(i)}}),function(){s&&s.unsubscribe()}})},r.do=function(e){var n=this;return t.create(function(i){var s=function(l){return function(){try{e[l]&&e[l].apply(e,arguments)}catch(u){Ce(u,!0)}i[l]&&i[l].apply(i,arguments)}};return n.subscribe({start:s("start"),next:s("next"),error:s("error"),complete:s("complete"),unsubscribe:s("unsubscribe")})})},r.finally=function(e){var n=this;return t.create(function(i){var s=n.subscribe(i);return function(){s.unsubscribe(),e()}})},r.ifEmpty=function(e){var n=this;return t.create(function(i){var s=!1,o;return o=n.subscribe({next:function(u){s=!0,i.next(u)},error:i.error,complete:function(){s?i.complete():o=e.subscribe(i)}}),function(){o&&o.unsubscribe()}})},r.subscribe=function(e){return xf(this._source,e)},r.map=function(e){var n=this;return t.create(function(i){var s=n.subscribe({complete:i.complete,error:i.error,next:function(l){try{var u=e(l);i.next(u)}catch(c){i.error(c,!0)}}});return function(){s.unsubscribe()}})},r.mergeMap=function(e){var n=this;return t.create(function(i){var s=[];function o(u){this._sub=u,s.push(u)}function l(){s.splice(s.indexOf(this._sub),1),s.length===0&&i.complete()}return n.subscribe({start:o,next:function(c){try{i.closed||t.from(e(c)).subscribe({start:o,next:i.next,error:i.error,complete:l})}catch(d){i.error(d,!0)}},error:i.error,complete:l}),function(){s.forEach(function(u){return u.unsubscribe()}),s.length=0}})},r.poll=function(e){var n=this;return t.create(function(i){var s,o,l=function u(){s=n.subscribe({next:i.next,error:i.error,complete:function(){o=setTimeout(u,e)}})};return l(),function(){clearTimeout(o),s.unsubscribe()}})},r.toPromise=function(){var e=this;return new Promise(function(n,i){var s=!1;e.subscribe({next:function(l){s||(s=!0,n(l))},error:i,complete:n})})},t}();function Df(t){return typeof t=="object"&&t!==null&&typeof t.subscribe=="function"}function Ff(t){return t instanceof Mt?t:Mt.create(function(r){return t.subscribe(r)})}function Nf(t){return Mt.create(function(r){t.then(function(a){r.next(a),r.complete()},r.error)})}function Of(t){return Mt.create(function(r){r.next(t),r.complete()})}function xf(t,r){var a=!1,e,n=function(u){return Object.defineProperty(u,"closed",{get:function(){return a}})};function i(){if(e){if(e.unsubscribe)e.unsubscribe();else try{e()}catch(l){Ce(l,!0)}e=void 0}}var s=n({unsubscribe:function(){if(!a){a=!0;try{r.unsubscribe&&r.unsubscribe(s)}catch(u){Ce(u,!0)}finally{i()}}}});try{r.start&&r.start(s)}catch(l){Ce(l,!0)}if(a)return s;var o=n({next:function(u){if(!a&&r.next)try{r.next(u)}catch(c){Ce(c,!0)}},error:function(u,c){if(a||!r.error)a=!0,Ce(u,c||!1),i();else{a=!0;try{r.error(u)}catch(d){Ce(d,!0)}finally{i()}}},complete:function(){if(!a){a=!0;try{r.complete&&r.complete()}catch(u){Ce(u,!0)}finally{i()}}}});try{e=t(o)}catch(l){o.error(l,!0)}return a&&i(),s}function $f(t,r){}var He=Mt,il=V.default,Pf=il(ie),Zt=il(Qe),Lf=He,Mf=D,qf=function(){function t(){var a=this;(0,Zt.default)(this,"_complete",!1),(0,Zt.default)(this,"_events",[]),(0,Zt.default)(this,"_sinks",new Set),(0,Zt.default)(this,"_subscription",[]),this._observable=Lf.create(function(e){a._sinks.add(e);for(var n=a._events,i=0;i<n.length&&!e.closed;i++){var s=n[i];switch(s.kind){case"complete":e.complete();break;case"error":e.error(s.error);break;case"next":e.next(s.data);break;default:s.kind,Mf(!1)}}return function(){a._sinks.delete(e)}})}var r=t.prototype;return r.complete=function(){this._complete!==!0&&(this._complete=!0,this._events.push({kind:"complete"}),this._sinks.forEach(function(e){return e.complete()}))},r.error=function(e){this._complete!==!0&&(this._complete=!0,this._events.push({kind:"error",error:e}),this._sinks.forEach(function(n){return n.error(e)}))},r.next=function(e){this._complete!==!0&&(this._events.push({kind:"next",data:e}),this._sinks.forEach(function(n){return n.next(e)}))},r.subscribe=function(e){var n=this._observable.subscribe(e);return this._subscription.push(n),n},r.unsubscribe=function(){var e=(0,Pf.default)(this._subscription),n;try{for(e.s();!(n=e.n()).done;){var i=n.value;i.unsubscribe()}}catch(s){e.e(s)}finally{e.f()}this._subscription=[]},r.getObserverCount=function(){return this._sinks.size},t}(),sl=qf,xa=He,Fi=sl,ol=D,Uf=typeof WeakMap=="function",Ni=Uf?new WeakMap:new Map;function Vf(t,r){return ll(t,r.request.identifier,function(){return t.execute({operation:r})})}function ll(t,r,a){return xa.create(function(e){var n=$a(t),i=n.get(r);return i||a().finally(function(){return n.delete(r)}).subscribe({start:function(o){i={identifier:r,subject:new Fi,subjectForInFlightStatus:new Fi,subscription:o,promise:null},n.set(r,i)},next:function(o){var l=er(n,r);l.subject.next(o),l.subjectForInFlightStatus.next(o)},error:function(o){var l=er(n,r);l.subject.error(o),l.subjectForInFlightStatus.error(o)},complete:function(){var o=er(n,r);o.subject.complete(),o.subjectForInFlightStatus.complete()},unsubscribe:function(o){var l=er(n,r);l.subject.unsubscribe(),l.subjectForInFlightStatus.unsubscribe()}}),i==null&&ol(!1),Hf(n,i).subscribe(e)})}function Hf(t,r){return xa.create(function(a){var e=r.subject.subscribe(a);return function(){e.unsubscribe();var n=t.get(r.identifier);if(n){var i=n.subscription;i!=null&&n.subject.getObserverCount()===0&&(i.unsubscribe(),t.delete(r.identifier))}}})}function ul(t,r,a){return xa.create(function(e){var n=a.subjectForInFlightStatus.subscribe({error:e.error,next:function(s){if(!t.isRequestActive(a.identifier)){e.complete();return}e.next()},complete:e.complete,unsubscribe:e.complete});return function(){n.unsubscribe()}})}function Bf(t,r){var a=$a(t),e=a.get(r.identifier);if(!e||!t.isRequestActive(e.identifier))return null;var n=new Promise(function(i,s){var o=!1;ul(t,a,e).subscribe({complete:i,error:s,next:function(u){o&&i(u)}}),o=!0});return n}function jf(t,r){var a=$a(t),e=a.get(r.identifier);return!e||!t.isRequestActive(e.identifier)?null:ul(t,a,e)}function $a(t){var r=Ni.get(t);if(r!=null)return r;var a=new Map;return Ni.set(t,a),a}function er(t,r){var a=t.get(r);return a==null&&ol(!1),a}var Pa={fetchQuery:Vf,fetchQueryDeduped:ll,getPromiseForActiveRequest:Bf,getObservableForActiveRequest:jf},Kf=Pa,Wf=Kf.getPromiseForActiveRequest;function Gf(t,r,a){var e,n,i=[],s=Wf(t,a);if(s!=null)i=[a];else{var o,l,u=t.getOperationTracker(),c=u.getPendingOperationsAffectingOwner(a);i=(o=c==null?void 0:c.pendingOperations)!==null&&o!==void 0?o:[],s=(l=c==null?void 0:c.promise)!==null&&l!==void 0?l:null}if(!s)return null;var d=(e=(n=i)===null||n===void 0?void 0:n.map(function(g){return g.node.params.name}).join(","))!==null&&e!==void 0?e:null;(d==null||d.length===0)&&(d="Unknown pending operation");var f=r.name,h=d===f?"Relay(".concat(d,")"):"Relay(".concat(d,":").concat(f,")");return s.displayName=h,t.__log({name:"pendingoperation.found",fragment:r,fragmentOwner:a,pendingOperations:i}),{promise:s,pendingOperations:i}}var La=Gf;nl.default;var zf=He,Yf=ye,Qf=Yf.getFragment,Xf=La,Jf=jt,Zf=Jf.handlePotentialSnapshotErrors,eh=Ee,th=eh.getSelector,Ot=D;function rh(t,r,a){var e,n=Qf(r),i=th(n,a);switch(((e=n.metadata)===null||e===void 0?void 0:e.hasClientEdges)!=null&&Ot(!1),i==null&&Ot(!1),i.kind){case"SingularReaderSelector":return nh(t,r,i);case"PluralReaderSelector":Ot(!1)}Ot(!1)}function nh(t,r,a){var e=t.lookup(a);return zf.create(function(n){n.next(Oi(t,r,a.owner,e));var i=t.subscribe(e,function(s){n.next(Oi(t,r,a.owner,s))});return function(){return i.dispose()}})}function Oi(t,r,a,e){var n=e.missingLiveResolverFields!=null&&e.missingLiveResolverFields.length>0,i=e.missingClientEdges!=null&&e.missingClientEdges.length>0;if(n||i)return{state:"loading"};if(e.isMissingData){var s=Xf(t,r,a);if(s!=null)return{state:"loading"}}try{Zf(t,e.errorResponseFields)}catch(o){return{error:o,state:"error"}}return e.data==null&&Ot(!1),{state:"ok",value:e.data}}var cl={observeFragment:rh},ah=nl.default,ih=cl,sh=ih.observeFragment;function oh(t,r,a){return la.apply(this,arguments)}function la(){return la=ah(function*(t,r,a){var e;try{var n,i=yield new Promise(function(o,l){e=sh(t,r,a).subscribe({next:function(c){c.state==="ok"?o(c.value):c.state==="error"&&l(c.error)}})});return(n=e)===null||n===void 0||n.unsubscribe(),i}catch(o){var s;throw(s=e)===null||s===void 0||s.unsubscribe(),o}}),la.apply(this,arguments)}var lh={waitForFragmentData:oh},uh=cl;uh.observeFragment;var ch=lh;ch.waitForFragmentData;function dh(t){return t.ok===!0}function fh(t){return t.ok===!1}var hh={isValueResult:dh,isErrorResult:fh},gh={ENABLE_VARIABLE_CONNECTION_KEY:!1,ENABLE_RELAY_RESOLVERS:!1,ENABLE_GETFRAGMENTIDENTIFIER_OPTIMIZATION:!1,ENABLE_FRIENDLY_QUERY_NAME_GQL_URL:!1,ENABLE_DO_NOT_WRAP_LIVE_QUERY:!1,ENABLE_NOTIFY_SUBSCRIPTION:!1,BATCH_ASYNC_MODULE_UPDATES_FN:null,ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT:!1,MAX_DATA_ID_LENGTH:null,STRING_INTERN_LEVEL:0,LOG_MISSING_RECORDS_IN_PROD:!1,ENABLE_NONCOMPLIANT_ERROR_HANDLING_ON_LISTS:!1,ENABLE_LOOSE_SUBSCRIPTION_ATTRIBUTION:!1,ENABLE_OPERATION_TRACKER_OPTIMISTIC_UPDATES:!1,ENABLE_RELAY_OPERATION_TRACKER_SUSPENSE:!1,PROCESS_OPTIMISTIC_UPDATE_BEFORE_SUBSCRIPTION:!1,MARK_RESOLVER_VALUES_AS_CLEAN_AFTER_FRAGMENT_REREAD:!1,ENABLE_CYLE_DETECTION_IN_VARIABLES:!1,ENABLE_ACTIVITY_COMPATIBILITY:!1,ENABLE_READ_TIME_RESOLVER_STORAGE_KEY_PREFIX:!0},De=gh,xi=new Map,ph=1,vh=_h(),dl="	",$i="\v";function _h(){for(var t=new Set,r=0;r<10;++r)t.add(r.toString());return t}function mh(t){return t[0]===dl&&vh.has(t[1])||t[0]===$i?$i+t:t}function yh(t,r){if(r==null||t.length<r)return mh(t);var a=xi.get(t);return a!=null||(a=dl+ph++,xi.set(t,a)),a}var fl={intern:yh},Pi=De,Eh=fl,bh=Eh.intern,qt="client:";function Rh(t,r,a){var e=Pi.STRING_INTERN_LEVEL<=0?t:bh(t,Pi.MAX_DATA_ID_LENGTH),n=e+":"+r;return a!=null&&(n+=":"+a),n.indexOf(qt)!==0&&(n=qt+n),n}function Sh(t){return t.indexOf(qt)===0}var Th=0;function Ih(){return"".concat(qt,"local:").concat(Th++)}function Ah(t,r,a){var e="".concat(qt).concat(t,":").concat(r);return a!=null&&(e+=":"+a),e}var Te={generateClientID:Rh,generateClientObjectClientID:Ah,generateUniqueClientID:Ih,isClientID:Sh},Ch={after:!0,before:!0,find:!0,first:!0,last:!0,surrounds:!0},Li={CURSOR:"cursor",EDGES:"edges",END_CURSOR:"endCursor",HAS_NEXT_PAGE:"hasNextPage",HAS_PREV_PAGE:"hasPreviousPage",NODE:"node",PAGE_INFO_TYPE:"PageInfo",PAGE_INFO:"pageInfo",START_CURSOR:"startCursor"},wh={inject:function(r){Li=r},get:function(){return Li},isConnectionCall:function(r){return Ch.hasOwnProperty(r.name)}},Ma=wh,kh=Te,Ut=kh.generateClientID,Dh=W,Fh=Dh.getStableStorageKey,hl=ka,Je=Ma,Nh=D,gl="connection",ua="__connection_next_edge_index";function Oh(t,r){var a=t.get(r.dataID);if(a){var e=Je.get(),n=e.EDGES,i=e.END_CURSOR,s=e.HAS_NEXT_PAGE,o=e.HAS_PREV_PAGE,l=e.PAGE_INFO,u=e.PAGE_INFO_TYPE,c=e.START_CURSOR,d=a.getLinkedRecord(r.fieldKey),f=d&&d.getLinkedRecord(l);if(!d){a.setValue(null,r.handleKey,void 0,a.getErrors(r.fieldKey));return}var h=Ut(a.getDataID(),r.handleKey),g=a.getLinkedRecord(r.handleKey),p=g??t.get(h),v=p&&p.getLinkedRecord(l);if(p){g==null&&a.setLinkedRecord(p,r.handleKey);var S=p,R=d.getLinkedRecords(n);R&&(R=R.map(function(x){return ca(t,S,x)}));var A=S.getLinkedRecords(n),I=S.getLinkedRecord(l);S.copyFieldsFrom(d),A&&S.setLinkedRecords(A,n),I&&S.setLinkedRecord(I,l);var T=[],C=r.args;if(A&&R)if(C.after!=null){var w,P=(w=v)===null||w===void 0?void 0:w.getValue(i),H=f==null?void 0:f.getValue(i),K=v&&C.after===P,re=v&&P===H;if(K||re){var ce=new Set;tr(A,T,ce),tr(R,T,ce)}else return}else if(C.before!=null)if(v&&C.before===v.getValue(c)){var F=new Set;tr(R,T,F),tr(A,T,F)}else return;else T=R;else R?T=R:T=A;if(T!=null&&T!==A&&S.setLinkedRecords(T,n),v&&f){if(C.after==null&&C.before==null)v.copyFieldsFrom(f);else if(C.before!=null||C.after==null&&C.last){v.setValue(!!f.getValue(o),o);var L=f.getValue(c);typeof L=="string"&&v.setValue(L,c)}else if(C.after!=null||C.before==null&&C.first){v.setValue(!!f.getValue(s),s);var k=f.getValue(i);typeof k=="string"&&v.setValue(k,i)}}}else{var y=t.create(h,d.getType());y.setValue(0,ua),y.copyFieldsFrom(d);var b=d.getLinkedRecords(n);b&&(b=b.map(function(x){return ca(t,y,x)}),y.setLinkedRecords(b,n)),a.setLinkedRecord(y,r.handleKey),v=t.create(Ut(y.getDataID(),l),u),v.setValue(!1,s),v.setValue(!1,o),v.setValue(null,i),v.setValue(null,c),f&&v.copyFieldsFrom(f),y.setLinkedRecord(v,l)}}}function xh(t,r,a){var e=hl(gl,r,null);return t.getLinkedRecord(e,a)}function $h(t,r,a){var e=hl(gl,r,null),n=Fh(e,a);return Ut(t,n)}function Ph(t,r,a){var e=Je.get(),n=e.CURSOR,i=e.EDGES,s=t.getLinkedRecords(i);if(!s){t.setLinkedRecords([r],i);return}var o;if(a==null)o=s.concat(r);else{o=[];for(var l=!1,u=0;u<s.length;u++){var c=s[u];if(o.push(c),c!=null){var d=c.getValue(n);a===d&&(o.push(r),l=!0)}}l||o.push(r)}t.setLinkedRecords(o,i)}function Lh(t,r,a,e){var n=Je.get(),i=n.NODE,s=Ut(r.getDataID(),a.getDataID()),o=t.get(s);return o||(o=t.create(s,e)),o.setLinkedRecord(a,i),o.getValue("cursor")==null&&o.setValue(null,"cursor"),o}function Mh(t,r,a){var e=Je.get(),n=e.CURSOR,i=e.EDGES,s=t.getLinkedRecords(i);if(!s){t.setLinkedRecords([r],i);return}var o;if(a==null)o=[r].concat(s);else{o=[];for(var l=!1,u=0;u<s.length;u++){var c=s[u];if(c!=null){var d=c.getValue(n);a===d&&(o.push(r),l=!0)}o.push(c)}l||o.unshift(r)}t.setLinkedRecords(o,i)}function qh(t,r){var a=Je.get(),e=a.EDGES,n=a.NODE,i=t.getLinkedRecords(e);if(i){for(var s,o=0;o<i.length;o++){var l=i[o],u=l&&l.getLinkedRecord(n);u!=null&&u.getDataID()===r?s===void 0&&(s=i.slice(0,o)):s!==void 0&&s.push(l)}s!==void 0&&t.setLinkedRecords(s,e)}}function ca(t,r,a){if(a==null)return a;var e=Je.get(),n=e.EDGES,i=r.getValue(ua);typeof i!="number"&&Nh(!1);var s=Ut(r.getDataID(),n,i),o=t.create(s,a.getType());return o.copyFieldsFrom(a),o.getValue("cursor")==null&&o.setValue(null,"cursor"),r.setValue(i+1,ua),o}function tr(t,r,a){for(var e=Je.get(),n=e.NODE,i=0;i<t.length;i++){var s=t[i];if(s){var o=s.getLinkedRecord(n),l=o&&o.getDataID();if(l){if(a.has(l))continue;a.add(l)}r.push(s)}}}var $r={buildConnectionEdge:ca,createEdge:Lh,deleteNode:qh,getConnection:xh,getConnectionID:$h,insertEdgeAfter:Ph,insertEdgeBefore:Mh,update:Oh},Uh=V.default,Vt=Uh(ie),Ze=$r,pl=Ma,ft=D;var Vh={update:function(r,a){var e=r.get(a.dataID);if(e!=null){var n=e.getValue(a.fieldKey);typeof n=="string"?r.delete(n):Array.isArray(n)&&n.forEach(function(i){typeof i=="string"&&r.delete(i)})}}},Hh={update:function(r,a){var e=r.get(a.dataID);if(e!=null){var n=a.handleArgs.connections;n==null&&ft(!1);var i=e.getValue(a.fieldKey),s=Array.isArray(i)?i:[i];s.forEach(function(o){if(typeof o=="string"){var l=(0,Vt.default)(n),u;try{for(l.s();!(u=l.n()).done;){var c=u.value,d=r.get(c);d!=null&&Ze.deleteNode(d,o)}}catch(f){l.e(f)}finally{l.f()}}})}}},Bh={update:vl(Ze.insertEdgeAfter)},jh={update:vl(Ze.insertEdgeBefore)},Kh={update:_l(Ze.insertEdgeAfter)},Wh={update:_l(Ze.insertEdgeBefore)};function vl(t){return function(r,a){var e,n=r.get(a.dataID);if(n!=null){var i=a.handleArgs.connections;i==null&&ft(!1);var s,o;try{s=n.getLinkedRecord(a.fieldKey)}catch{}if(!s)try{o=n.getLinkedRecords(a.fieldKey)}catch{}if(!(s==null&&o==null)){var l=pl.get(),u=l.NODE,c=l.EDGES,d=(e=o)!==null&&e!==void 0?e:[s],f=(0,Vt.default)(d),h;try{var g=function(){var b=h.value;if(b==null)return"continue";var S=b.getLinkedRecord("node");if(!S)return"continue";var R=S.getDataID(),A=(0,Vt.default)(i),I;try{for(A.s();!(I=A.n()).done;){var T=I.value,C=r.get(T);if(C!=null){var w=(p=C.getLinkedRecords(c))===null||p===void 0?void 0:p.some(function(H){var K;return(H==null||(K=H.getLinkedRecord(u))===null||K===void 0?void 0:K.getDataID())===R});if(!w){var P=Ze.buildConnectionEdge(r,C,b);P==null&&ft(!1),t(C,P)}}}}catch(H){A.e(H)}finally{A.f()}};for(f.s();!(h=f.n()).done;)var p,v=g()}catch(y){f.e(y)}finally{f.f()}}}}}function _l(t){return function(r,a){var e,n=r.get(a.dataID);if(n!=null){var i=a.handleArgs,s=i.connections,o=i.edgeTypeName;s==null&&ft(!1),o==null&&ft(!1);var l,u;try{l=n.getLinkedRecord(a.fieldKey)}catch{}if(!l)try{u=n.getLinkedRecords(a.fieldKey)}catch{}if(!(l==null&&u==null)){var c=pl.get(),d=c.NODE,f=c.EDGES,h=(e=u)!==null&&e!==void 0?e:[l],g=(0,Vt.default)(h),p;try{var v=function(){var R=p.value;if(R==null)return"continue";var A=R.getDataID(),I=(0,Vt.default)(s),T;try{for(I.s();!(T=I.n()).done;){var C=T.value,w=r.get(C);if(w!=null){var P=(y=w.getLinkedRecords(f))===null||y===void 0?void 0:y.some(function(K){var re;return(K==null||(re=K.getLinkedRecord(d))===null||re===void 0?void 0:re.getDataID())===A});if(!P){var H=Ze.createEdge(r,w,R,o);H==null&&ft(!1),t(w,H)}}}}catch(K){I.e(K)}finally{I.f()}};for(g.s();!(p=g.n()).done;)var y,b=v()}catch(S){g.e(S)}finally{g.f()}}}}}var ml={AppendEdgeHandler:Bh,DeleteRecordHandler:Vh,PrependEdgeHandler:jh,AppendNodeHandler:Kh,PrependNodeHandler:Wh,DeleteEdgeHandler:Hh},Gh=$r,it=ml,zh=D;function Yh(t){switch(t){case"connection":return Gh;case"deleteRecord":return it.DeleteRecordHandler;case"deleteEdge":return it.DeleteEdgeHandler;case"appendEdge":return it.AppendEdgeHandler;case"prependEdge":return it.PrependEdgeHandler;case"appendNode":return it.AppendNodeHandler;case"prependNode":return it.PrependNodeHandler}zh(!1)}var yl=Yh;function Qh(t){return!!(t&&t["@@RelayModernEnvironment"])}var qa=Qh;function El(t){return Xh(t)&&(Object.freeze(t),Object.getOwnPropertyNames(t).forEach(function(r){var a=t[r];a&&typeof a=="object"&&!Object.isFrozen(a)&&El(a)})),t}function Xh(t){return t!=null&&(Array.isArray(t)||typeof t=="object"&&t.constructor===Object)}var bl=El,Jh=Xe,Zh=Jh.stableCopy,eg=D;function tg(t,r){var a=t.cacheID!=null?t.cacheID:t.id;return a==null&&eg(!1),a+JSON.stringify(Zh(r))}var Rl=tg,rg=Rl,ng=De,ag=Xe,ig=ag.hasCycle,sg=Ve,og=sg.getOperationVariables,Sl=Ee,lg=Sl.createNormalizationSelector,ug=Sl.createReaderSelector,cg=W,dg=cg.ROOT_ID,fg=D;function hg(t,r,a){var e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:dg,n=t.operation,i=og(n,t.params.providedVariables,r);ng.ENABLE_CYLE_DETECTION_IN_VARIABLES&&ig(i)&&fg(!1);var s=Tl(t,i,a),o={fragment:ug(t.fragment,e,i,s),request:s,root:lg(n,e,i)};return o}function Tl(t,r,a){var e={identifier:rg(t.params,r),node:t,variables:r,cacheConfig:a};return e}var et={createOperationDescriptor:hg,createRequestDescriptor:Tl},gg=V.default,Ua=gg(ie),ct=$r;var pg=Object.freeze({RANGE_ADD:"RANGE_ADD",RANGE_DELETE:"RANGE_DELETE",NODE_DELETE:"NODE_DELETE"}),vg=Object.freeze({APPEND:"append",PREPEND:"prepend"});function _g(t,r,a,e){var n=a?[a]:[],i=e?[e]:[];return t.forEach(function(s){switch(s.type){case"NODE_DELETE":var o=mg(s,r);o&&(n.push(o),i.push(o));break;case"RANGE_ADD":var l=yg(s,r);l&&(n.push(l),i.push(l));break;case"RANGE_DELETE":var u=Eg(s,r);u&&(n.push(u),i.push(u));break}}),{optimisticUpdater:function(o,l){n.forEach(function(u){u(o,l)})},updater:function(o,l){i.forEach(function(u){u(o,l)})}}}function mg(t,r){var a=t.deletedIDFieldName,e=Va(r);return e?function(n,i){var s=n.getRootField(e);if(s){var o=s.getValue(a),l=Array.isArray(o)?o:[o];l.forEach(function(u){u&&typeof u=="string"&&n.delete(u)})}}:null}function yg(t,r){var a=t.parentID,e=t.connectionInfo,n=t.edgeName;if(!a)return null;var i=Va(r);return!e||!i?null:function(s,o){var l=s.get(a);if(l){var u=s.getRootField(i);if(u){var c=u.getLinkedRecord(n),d=(0,Ua.default)(e),f;try{for(d.s();!(f=d.n()).done;){var h=f.value;if(c){var g=ct.getConnection(l,h.key,h.filters);if(g){var p=ct.buildConnectionEdge(s,g,c);if(p)switch(h.rangeBehavior){case"append":ct.insertEdgeAfter(g,p);break;case"prepend":ct.insertEdgeBefore(g,p);break;default:break}}}}}catch(v){d.e(v)}finally{d.f()}}}}}function Eg(t,r){var a=t.parentID,e=t.connectionKeys,n=t.pathToConnection,i=t.deletedIDFieldName;if(!a)return null;var s=Va(r);return s?function(o,l){if(l){var u=[],c=l[s];if(c&&Array.isArray(i)){var d=(0,Ua.default)(i),f;try{for(d.s();!(f=d.n()).done;){var h=f.value;c&&typeof c=="object"&&(c=c[h])}}catch(g){d.e(g)}finally{d.f()}Array.isArray(c)?c.forEach(function(g){g&&g.id&&typeof g=="object"&&typeof g.id=="string"&&u.push(g.id)}):c&&c.id&&typeof c.id=="string"&&u.push(c.id)}else c&&typeof i=="string"&&typeof c=="object"&&(c=c[i],typeof c=="string"?u.push(c):Array.isArray(c)&&c.forEach(function(g){typeof g=="string"&&u.push(g)}));bg(a,e,n,o,u)}}:null}function bg(t,r,a,e,n){var i=e.get(t);if(i&&!(a.length<2)){for(var s=i,o=1;o<a.length-1;o++)s&&(s=s.getLinkedRecord(a[o]));if(!(!r||!s)){var l=(0,Ua.default)(r),u;try{var c=function(){var f=u.value,h=ct.getConnection(s,f.key,f.filters);h&&n.forEach(function(g){ct.deleteNode(h,g)})};for(l.s();!(u=l.n()).done;)c()}catch(d){l.e(d)}finally{l.f()}}}}function Va(t){return t.fragment.selections&&t.fragment.selections.length>0&&t.fragment.selections[0].kind==="LinkedField"?t.fragment.selections[0].name:null}var Pr={MutationTypes:pg,RangeOperations:vg,convert:_g},Rg=ye,Sg=Rg.getRequest,Tg=qa,Ig=et,Ag=Ig.createOperationDescriptor,Cg=Pr,wg=D;function kg(t,r){Tg(t)||wg(!1);var a=Sg(r.mutation);if(a.params.operationKind!=="mutation")throw new Error("commitMutation: Expected mutation operation");var e=r.optimisticUpdater,n=r.configs,i=r.optimisticResponse,s=r.variables,o=Ag(a,s);if(n){var l=Cg.convert(n,a,e);e=l.optimisticUpdater}return t.applyMutation({operation:o,response:i,updater:e})}var Dg=kg;function Fg(t,r){t.commitUpdate(r)}var Ng=Fg,Og=V.default;Og(ge);var xg=V.default,Mi=xg(yt),$g=ye,Pg=$g.getRequest,Lg=Te,Mg=Lg.generateUniqueClientID,qg=qa,Ug=et,Vg=Ug.createOperationDescriptor,Hg=Pr,Bg=D;function jg(t,r){qg(t)||Bg(!1);var a=Pg(r.mutation);if(a.params.operationKind!=="mutation")throw new Error("commitMutation: Expected mutation operation");if(a.kind!=="Request")throw new Error("commitMutation: Expected mutation to be of type request");var e=r.optimisticResponse,n=r.optimisticUpdater,i=r.updater,s=r.configs,o=r.cacheConfig,l=r.onError,u=r.onUnsubscribe,c=r.variables,d=r.uploadables,f=Vg(a,c,o,Mg());if(typeof e=="function"&&(e=e()),s){var h=Hg.convert(s,a,n,i);n=h.optimisticUpdater,i=h.updater}var g=[],p=t.executeMutation({operation:f,optimisticResponse:e,optimisticUpdater:n,updater:i,uploadables:d}).subscribe({next:function(y){var b;Array.isArray(y)?y.forEach(function(S){S.errors&&g.push.apply(g,(0,Mi.default)(S.errors))}):y.errors&&g.push.apply(g,(0,Mi.default)(y.errors)),(b=r.onNext)===null||b===void 0||b.call(r)},complete:function(){var y=r.onCompleted;if(y){var b=t.lookup(f.fragment);y(b.data,g.length!==0?g:null)}},error:l,unsubscribe:u});return{dispose:p.unsubscribe}}var Kg=jg,Wg=typeof WeakMap=="function",ln=Wg?new WeakMap:new Map;function Il(t,r){if(r!=null){var a={};return Object.assign(a,t),Object.keys(r).forEach(function(e){var n=r[e].get,i=n();if(!ln.has(n))ln.set(n,i),a[e]=i;else{var s=ln.get(n);a[e]=s}}),a}else return t}Il.tests_only_resetDebugCache=void 0;var Al=Il,qi=He;function Gg(t){return function(a,e,n,i,s){var o=t(a,e,n,i,s);return o instanceof Error?qi.create(function(l){return l.error(o)}):qi.from(o)}}var zg={convertFetch:Gg},Yg=Al,Qg=zg,Xg=Qg.convertFetch,un=D;function Jg(t,r){var a=Xg(t);function e(n,i,s,o,l){var u=Yg(i,n.providedVariables);if(n.operationKind==="subscription")return r||un(!1),o&&un(!1),r(n,u,s);var c=s.poll;return c!=null?(o&&un(!1),a(n,u,{force:!0}).poll(c)):a(n,u,s,o,l)}return{execute:e}}var Zg={create:Jg},ep=V.default,Oe=ep(ge),tp=Xe,rp=tp.stableCopy,Ui=D,np=function(){function t(a){var e=a.size,n=a.ttl;e>0||Ui(!1),n>0||Ui(!1),this._responses=new Map,this._size=e,this._ttl=n}var r=t.prototype;return r.clear=function(){this._responses.clear()},r.get=function(e,n){var i=this,s=Vi(e,n);this._responses.forEach(function(l,u){ap(l.fetchTime,i._ttl)||i._responses.delete(u)});var o=this._responses.get(s);return o==null?null:Array.isArray(o.payload)?o.payload.map(function(l){return(0,Oe.default)((0,Oe.default)({},l),{},{extensions:(0,Oe.default)((0,Oe.default)({},l.extensions),{},{cacheTimestamp:o.fetchTime})})}):(0,Oe.default)((0,Oe.default)({},o.payload),{},{extensions:(0,Oe.default)((0,Oe.default)({},o.payload.extensions),{},{cacheTimestamp:o.fetchTime})})},r.set=function(e,n,i){var s=Date.now(),o=Vi(e,n);if(this._responses.delete(o),this._responses.set(o,{fetchTime:s,payload:i}),this._responses.size>this._size){var l=this._responses.keys().next();l.done||this._responses.delete(l.value)}},t}();function Vi(t,r){return JSON.stringify(rp({queryID:t,variables:r}))}function ap(t,r){return t+r>=Date.now()}var ip=np,sp=V.default,op=sp(ge),lp=He,up=et,cp=up.createOperationDescriptor,dp=jt,fp=dp.handlePotentialSnapshotErrors,hp=Pa,gp=ye,pp=gp.getRequest,vp=D;function _p(t,r,a,e){var n,i=pp(r);i.params.operationKind!=="query"&&vp(!1);var s=(0,op.default)({force:!0},e==null?void 0:e.networkCacheConfig),o=cp(i,a,s),l=(n=e==null?void 0:e.fetchPolicy)!==null&&n!==void 0?n:"network-only";function u(c){return fp(t,c.errorResponseFields),c.data}switch(l){case"network-only":return Hi(t,o).map(u);case"store-or-network":return t.check(o).status==="available"?lp.from(t.lookup(o.fragment)).map(u):Hi(t,o).map(u);default:throw new Error("fetchQuery: Invalid fetchPolicy "+l)}}function Hi(t,r){return hp.fetchQuery(t,r).map(function(){return t.lookup(r.fragment)})}var mp=_p,yp=et,Ep=yp.createOperationDescriptor,bp=ye,Rp=bp.getRequest;function Sp(t,r,a,e){var n=Rp(r);if(n.params.operationKind!=="query")throw new Error("fetchQuery: Expected query operation");var i=Ep(n,a,e);return t.execute({operation:i}).map(function(){return t.lookup(i.fragment).data}).toPromise()}var Tp=Sp,Ip=function(){function t(){this._preloadableQueries=new Map,this._callbacks=new Map}var r=t.prototype;return r.set=function(e,n){this._preloadableQueries.set(e,n);var i=this._callbacks.get(e);i!=null&&i.forEach(function(s){try{s(n)}catch(o){setTimeout(function(){throw o},0)}})},r.get=function(e){return this._preloadableQueries.get(e)},r.onLoad=function(e,n){var i,s=(i=this._callbacks.get(e))!==null&&i!==void 0?i:new Set;s.add(n);var o=function(){s.delete(n)};return this._callbacks.set(e,s),{dispose:o}},r.clear=function(){this._preloadableQueries.clear()},t}(),Ap=new Ip,Cp=Ap;function wp(t,r){return t===r&&(t===null||typeof t!="object")}var Cl=wp;function kp(t,r){return da(t,r,!0)}function da(t,r,a){if(t===r||typeof t!="object"||!t||t.constructor!==Object&&!Array.isArray(t)||typeof r!="object"||!r||r.constructor!==Object&&!Array.isArray(r))return r;var e=!1,n=Array.isArray(t)?t:null,i=Array.isArray(r)?r:null;if(n&&i){var s=a&&!Object.isFrozen(i);e=i.reduce(function(f,h,g){var p=n[g],v=da(p,h,s);return v!==i[g]&&s&&(i[g]=v),f&&v===n[g]},!0)&&n.length===i.length}else if(!n&&!i){var o=t,l=r,u=Object.keys(o),c=Object.keys(l),d=a&&!Object.isFrozen(l);e=c.reduce(function(f,h){var g=o[h],p=da(g,l[h],d);return p!==l[h]&&d&&(l[h]=p),f&&p===o[h]},!0)&&u.length===c.length}return e?t:r}var Lr=kp,wl=V.default,Bi=wl(ge),Ha=wl(Qe),Dp=La,Fp=jt,Np=Fp.handlePotentialSnapshotErrors,Op=Cl,xp=Lr,kl=De,$p=et,Pp=$p.createRequestDescriptor,Ba=Ee,Lp=Ba.areEqualSelectors,Mp=Ba.createReaderSelector,qp=Ba.getSelectorsFromObject,Up=Kt,ji=D,Vp=function(){function t(a,e,n,i,s){var o=this;(0,Ha.default)(this,"_onChange",function(){o._stale=!0,typeof o._callback=="function"&&o._callback()}),this._callback=i,this._context=a,this._data={},this._fragments=e,this._props={},this._resolvers={},this._stale=!1,this._rootIsQueryRenderer=s,this.setProps(n)}var r=t.prototype;return r.dispose=function(){for(var e in this._resolvers)this._resolvers.hasOwnProperty(e)&&Dl(this._resolvers[e])},r.resolve=function(){if(this._stale){var e=this._data,n;for(var i in this._resolvers)if(this._resolvers.hasOwnProperty(i)){var s=this._resolvers[i],o=e[i];if(s){var l=s.resolve();(n||l!==o)&&(n=n||(0,Bi.default)({},e),n[i]=l)}else{var u=this._props[i],c=u!==void 0?u:null;(n||!Op(c,o))&&(n=n||(0,Bi.default)({},e),n[i]=c)}}this._data=n||e,this._stale=!1}return this._data},r.setCallback=function(e,n){this._callback=n,kl.ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT===!0&&this.setProps(e)},r.setProps=function(e){this._props={};var n=qp(this._fragments,e);for(var i in n)if(n.hasOwnProperty(i)){var s=n[i],o=this._resolvers[i];s==null?(o!=null&&o.dispose(),o=null):s.kind==="PluralReaderSelector"?o==null?o=new Ki(this._context.environment,this._rootIsQueryRenderer,s,this._callback!=null,this._onChange):(o instanceof Ki||ji(!1),o.setSelector(s)):o==null?o=new fa(this._context.environment,this._rootIsQueryRenderer,s,this._callback!=null,this._onChange):(o instanceof fa||ji(!1),o.setSelector(s)),this._props[i]=e[i],this._resolvers[i]=o}this._stale=!0},r.setVariables=function(e,n){for(var i in this._resolvers)if(this._resolvers.hasOwnProperty(i)){var s=this._resolvers[i];s&&s.setVariables(e,n)}this._stale=!0},t}(),fa=function(){function t(a,e,n,i,s){var o=this;(0,Ha.default)(this,"_onChange",function(u){o._data=u.data,o._isMissingData=u.isMissingData,o._errorResponseFields=u.errorResponseFields,o._callback()});var l=a.lookup(n);this._callback=s,this._data=l.data,this._isMissingData=l.isMissingData,this._errorResponseFields=l.errorResponseFields,this._environment=a,this._rootIsQueryRenderer=e,this._selector=n,kl.ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT===!0?i&&(this._subscription=a.subscribe(l,this._onChange)):this._subscription=a.subscribe(l,this._onChange)}var r=t.prototype;return r.dispose=function(){this._subscription&&(this._subscription.dispose(),this._subscription=null)},r.resolve=function(){if(this._isMissingData===!0){var e=Dp(this._environment,this._selector.node,this._selector.owner),n=e==null?void 0:e.promise;if(n!=null&&!this._rootIsQueryRenderer){var i,s=(i=e==null?void 0:e.pendingOperations)!==null&&i!==void 0?i:[];throw this._environment.__log({name:"suspense.fragment",data:this._data,fragment:this._selector.node,isRelayHooks:!1,isMissingData:this._isMissingData,isPromiseCached:!1,pendingOperations:s}),n}}return Np(this._environment,this._errorResponseFields),this._data},r.setSelector=function(e){if(!(this._subscription!=null&&Lp(e,this._selector))){this.dispose();var n=this._environment.lookup(e);this._data=xp(this._data,n.data),this._isMissingData=n.isMissingData,this._errorResponseFields=n.errorResponseFields,this._selector=e,this._subscription=this._environment.subscribe(n,this._onChange)}},r.setVariables=function(e,n){if(!Up(e,this._selector.variables)){var i=Pp(n,e),s=Mp(this._selector.node,this._selector.dataID,e,i);this.setSelector(s)}},t}(),Ki=function(){function t(a,e,n,i,s){var o=this;(0,Ha.default)(this,"_onChange",function(l){o._stale=!0,o._callback()}),this._callback=s,this._data=[],this._environment=a,this._resolvers=[],this._stale=!0,this._rootIsQueryRenderer=e,this._subscribeOnConstruction=i,this.setSelector(n)}var r=t.prototype;return r.dispose=function(){this._resolvers.forEach(Dl)},r.resolve=function(){if(this._stale){for(var e=this._data,n,i=0;i<this._resolvers.length;i++){var s=e[i],o=this._resolvers[i].resolve();(n||o!==s)&&(n=n||e.slice(0,i),n.push(o))}!n&&this._resolvers.length!==e.length&&(n=e.slice(0,this._resolvers.length)),this._data=n||e,this._stale=!1}return this._data},r.setSelector=function(e){for(var n=e.selectors;this._resolvers.length>n.length;){var i=this._resolvers.pop();i.dispose()}for(var s=0;s<n.length;s++)s<this._resolvers.length?this._resolvers[s].setSelector(n[s]):this._resolvers[s]=new fa(this._environment,this._rootIsQueryRenderer,n[s],this._subscribeOnConstruction,this._onChange);this._stale=!0},r.setVariables=function(e,n){this._resolvers.forEach(function(i){return i.setVariables(e,n)}),this._stale=!0},t}();function Dl(t){t&&t.dispose()}var Hp=Vp,Bp=Hp;function jp(t,r,a,e,n,i){return new Bp(t,a,e,i,n)}var Kp=jp,Wp=D,cn,Wi;function Gp(t){return cn||(cn=t.createContext(null),Wi=t),t!==Wi&&Wp(!1),cn}var zp=Gp,Fl=Object.freeze({__LIVE_RESOLVER_SUSPENSE_SENTINEL:!0});function Yp(){return Fl}function Qp(t){return t===Fl}var Mr={isSuspenseSentinel:Qp,suspenseSentinel:Yp},Nl={exports:{}};(function(t){function r(a,e){if(a==null)return{};var n={};for(var i in a)if({}.hasOwnProperty.call(a,i)){if(e.indexOf(i)!==-1)continue;n[i]=a[i]}return n}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(Nl);var ja=Nl.exports,qr=V.default,Xp=qr(Qe),Gi=qr(ja),zi=qr(Po),$e=qr(ge),Jp=bl,Ol=Te,xl=Ol.generateClientObjectClientID;Ol.isClientID;var Zp=Mr,$l=Zp.isSuspenseSentinel,Fe=W,ha=Fe.ACTOR_IDENTIFIER_KEY,ne=Fe.ERRORS_KEY,Ka=Fe.ID_KEY,ev=Fe.INVALIDATED_AT_KEY,qe=Fe.REF_KEY,ht=Fe.REFS_KEY,Pl=Fe.RELAY_RESOLVER_VALUE_KEY;Fe.ROOT_ID;var Wa=Fe.TYPENAME_KEY,dn=Kt,ze=D;function tv(t){return(0,$e.default)({},t)}function rv(t,r){for(var a in t)t.hasOwnProperty(a)&&a!==Ka&&a!==Wa&&(r[a]=t[a])}function nv(t,r){var a={};return a[Ka]=t,a[Wa]=r,a}function av(t){return t}function iv(t){return t[Ka]}function sv(t){return ne in t?Object.keys(t).filter(function(r){return r!==ne}):Object.keys(t)}function ov(t){return t[Wa]}function lv(t,r){var a;return(a=t[ne])===null||a===void 0?void 0:a[r]}function Ga(t,r){var a=t[r];return a&&typeof a=="object"&&(!a.hasOwnProperty(qe)&&!a.hasOwnProperty(ht)||ze(!1)),a}function uv(t,r){return r in t}function cv(t,r){var a=t[r];if(a==null)return a;var e=a;return typeof e=="object"&&e&&typeof e[qe]=="string"||ze(!1),e[qe]}function dv(t,r){var a=t[r];if(a==null)return!1;var e=a;return typeof e=="object"&&e&&typeof e[qe]=="string"}function fv(t,r){var a=t[r];return a==null?a:(typeof a=="object"&&Array.isArray(a[ht])||ze(!1),a[ht])}function hv(t,r){var a=t[r];return a==null?!1:typeof a=="object"&&Array.isArray(a[ht])&&a[ht].every(function(e){return typeof e=="string"})}function gv(t){if(t==null)return null;var r=t[ev];return typeof r!="number"?null:r}function pv(t,r){var a,e=t[ne],n=r[ne],i=null;if(e==null&&n==null){var s;for(var o in r)(i||!dn(t[o],r[o]))&&(i=i!==null?i:(0,$e.default)({},t),i[o]=r[o]);return(s=i)!==null&&s!==void 0?s:t}for(var l in r)if(l!==ne){var u=r[l],c=n==null?void 0:n[l];if(i==null){var d=t[l],f=e==null?void 0:e[l];if(dn(d,u)&&dn(f,c))continue;i=(0,$e.default)({},t),e!=null&&(i[ne]=(0,$e.default)({},e))}Ml(i,l,u),Ll(i,l,c)}return(a=i)!==null&&a!==void 0?a:t}function vv(t,r){if(ne in t||ne in r){var a=t[ne],e=(0,Gi.default)(t,[ne].map(zi.default)),n=r[ne],i=(0,Gi.default)(r,[ne].map(zi.default)),s=(0,$e.default)((0,$e.default)({},e),i);if(a==null&&n==null)return s;var o={};for(var l in a)i.hasOwnProperty(l)||(o[l]=a[l]);for(var u in n)o[u]=n[u];for(var c in o){s[ne]=o;break}return s}else return(0,$e.default)((0,$e.default)({},t),r)}function _v(t){Jp(t)}function Ll(t,r,a){var e=t[ne];if(a!=null&&a.length>0)e==null?t[ne]=(0,Xp.default)({},r,a):e[r]=a;else if(e!=null&&delete e[r]){for(var n in e)if(e.hasOwnProperty(n))return;delete t[ne]}}function Ml(t,r,a){t[r]=a}function mv(t,r,a){var e={};e[qe]=a,t[r]=e}function yv(t,r,a){var e={};e[ht]=a,t[r]=e}function Ev(t,r,a,e){var n={};n[qe]=e,n[ha]=a,t[r]=n}function bv(t,r){var a=t[r];return a==null?a:(typeof a=="object"&&typeof a[qe]=="string"&&a[ha]!=null||ze(!1),[a[ha],a[qe]])}function Rv(t,r){var a=Ga(t,Pl);return a==null||$l(a)?null:(typeof a=="object"&&(a=a.id),typeof a!="string"&&ze(!1),xl(r,a))}function Sv(t,r){var a=Ga(t,Pl);return a==null||$l(a)?null:(Array.isArray(a)||ze(!1),a.map(function(e){return e==null?null:(typeof e=="object"&&(e=e.id),typeof e!="string"&&ze(!1),xl(r,e))}))}function Tv(t){return t}var ue={clone:tv,copyFields:rv,create:nv,freeze:_v,fromObject:av,getDataID:iv,getErrors:lv,getFields:sv,getInvalidationEpoch:gv,getLinkedRecordID:cv,getLinkedRecordIDs:fv,getType:ov,getValue:Ga,hasValue:uv,hasLinkedRecordID:dv,hasLinkedRecordIDs:hv,merge:vv,setErrors:Ll,setValue:Ml,setLinkedRecordID:mv,setLinkedRecordIDs:yv,update:pv,getActorLinkedRecordID:bv,setActorLinkedRecordID:Ev,getResolverLinkedRecordID:Rv,getResolverLinkedRecordIDs:Sv,toJSON:Tv},Iv={EXISTENT:"EXISTENT",NONEXISTENT:"NONEXISTENT",UNKNOWN:"UNKNOWN"},Ur=Iv,Av=V.default,Cv=Av(ie),Yi=ue,za=Ur,wv=za.EXISTENT,kv=za.NONEXISTENT,Dv=za.UNKNOWN,Fv=function(){function t(a){var e=this;this._records=new Map,a!=null&&Object.keys(a).forEach(function(n){var i=a[n],s=Yi.fromObject(i);e._records.set(n,s)})}t.create=function(e){return new t(e)};var r=t.prototype;return r.clear=function(){this._records=new Map},r.delete=function(e){this._records.set(e,null)},r.get=function(e){return this._records.get(e)},r.getRecordIDs=function(){return Array.from(this._records.keys())},r.getStatus=function(e){return this._records.has(e)?this._records.get(e)==null?kv:wv:Dv},r.has=function(e){return this._records.has(e)},r.remove=function(e){this._records.delete(e)},r.set=function(e,n){this._records.set(e,n)},r.size=function(){return this._records.size},r.toJSON=function(){var e={},n=(0,Cv.default)(this._records),i;try{for(n.s();!(i=n.n()).done;){var s=i.value,o=s[0],l=s[1];e[o]=Yi.toJSON(l)}}catch(u){n.e(u)}finally{n.f()}return e},t}(),tt=Fv,Nv=D,ql="INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE";function Ov(t){t!==ql&&Nv(!1)}var Ya={assertInternalActorIdentifier:Ov,getActorIdentifier:function(r){return r},INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE:ql},ga="actor_key",xv=Ya,$v=xv.getActorIdentifier;function Pv(t){if(t!=null&&typeof t=="object"&&typeof t[ga]=="string")return $v(t[ga])}var Lv={ACTOR_IDENTIFIER_FIELD_NAME:ga,getActorIdentifierFromPayload:Pv},Vr=V.default,Qi=Vr(ge),Mv=Vr(ja),Ul=Vr(ie),qv=Vr(yt),Uv=["path","locations"],pa=Symbol("$SELF");function Vv(t){if(t==null)return null;var r=new Map,a=(0,Ul.default)(t),e;try{for(a.s();!(e=a.n()).done;){var n=e.value,i=n.path,s=n.locations,o=(0,Mv.default)(n,Uv);if(i!=null){var l=i.length;if(l!==0){for(var u=l-1,c=r,d=0;d<u;d++){var f=i[d],h=c.get(f);if(h instanceof Map){c=h;continue}var g=new Map;Array.isArray(h)&&g.set(pa,h),c.set(f,g),c=g}var p=i[u],v=c.get(p);v instanceof Map&&(c=v,v=c.get(p),p=pa),Array.isArray(v)?v.push(o):c.set(p,[o])}}}}catch(y){a.e(y)}finally{a.f()}return r}function Hv(t,r){var a=t.get(r);if(a==null)return null;if(Array.isArray(a))return a;var e=[];return Vl(a,e),e}function Vl(t,r){var a=(0,Ul.default)(t),e;try{for(a.s();!(e=a.n()).done;){var n=e.value,i=n[0],s=n[1],o=r.length;if(Array.isArray(s)?r.push.apply(r,(0,qv.default)(s)):Vl(s,r),i!==pa)for(var l=r.length,u=o;u<l;u++){var c=r[u];c.path==null?r[u]=(0,Qi.default)((0,Qi.default)({},c),{},{path:[i]}):c.path.unshift(i)}}}catch(d){a.e(d)}finally{a.f()}}function Bv(t,r){var a=t.get(r);return a instanceof Map?a:null}var jv={buildErrorTrie:Vv,getNestedErrorTrieByKey:Bv,getErrorsByKey:Hv},Kv="client:__type:",Wv="__TypeSchema";function Gv(t){return Kv+t}var Hr={generateTypeID:Gv,TYPE_SCHEMA_TYPE:Wv},Hl=V.default,zv=Hl(ie),St=Hl(yt),Bl=Lv;Bl.ACTOR_IDENTIFIER_FIELD_NAME;var Yv=Bl.getActorIdentifierFromPayload,Qv=De,jl=Te,fn=jl.generateClientID;jl.isClientID;var Xv=Ve,Jv=Xv.getLocalVariables,Qa=jv,Zv=Qa.buildErrorTrie,e_=Qa.getErrorsByKey,Xi=Qa.getNestedErrorTrieByKey,M=ue,t_=Ee,r_=t_.createNormalizationSelector,rt=W;rt.ROOT_ID;var n_=rt.TYPENAME_KEY,Ji=rt.getArgumentValues,a_=rt.getHandleStorageKey,i_=rt.getModuleComponentKey,s_=rt.getModuleOperationKey,hn=rt.getStorageKey,Kl=Hr,gn=Kl.TYPE_SCHEMA_TYPE,pn=Kl.generateTypeID,se=D;function o_(t,r,a,e,n){var i=r.dataID,s=r.node,o=r.variables,l=new l_(t,o,e);return l.normalizeResponse(s,i,a,n)}var l_=function(){function t(a,e,n){this._actorIdentifier=n.actorIdentifier,this._getDataId=n.getDataID,this._handleFieldPayloads=[],this._treatMissingFieldsAsNull=n.treatMissingFieldsAsNull,this._incrementalPlaceholders=[],this._isClientExtension=!1,this._isUnmatchedAbstractType=!1,this._followupPayloads=[],this._path=n.path?(0,St.default)(n.path):[],this._recordSource=a,this._variables=e,this._shouldProcessClientComponents=n.shouldProcessClientComponents}var r=t.prototype;return r.normalizeResponse=function(e,n,i,s){var o=this._recordSource.get(n);return o||se(!1),this._assignClientAbstractTypes(e),this._errorTrie=Zv(s),this._traverseSelections(e,o,i),{errors:s,fieldPayloads:this._handleFieldPayloads,incrementalPlaceholders:this._incrementalPlaceholders,followupPayloads:this._followupPayloads,source:this._recordSource,isFinal:!1}},r._assignClientAbstractTypes=function(e){var n=e.clientAbstractTypes;if(n!=null)for(var i=0,s=Object.keys(n);i<s.length;i++){var o=s[i],l=(0,zv.default)(n[o]),u;try{for(l.s();!(u=l.n()).done;){var c=u.value,d=pn(c),f=this._recordSource.get(d);f==null&&(f=M.create(d,gn),this._recordSource.set(d,f)),M.setValue(f,o,!0)}}catch(h){l.e(h)}finally{l.f()}}},r._getVariableValue=function(e){return this._variables.hasOwnProperty(e)||se(!1),this._variables[e]},r._getRecordType=function(e){var n=e[n_];return n==null&&se(!1),n},r._traverseSelections=function(e,n,i){for(var s=0;s<e.selections.length;s++){var o=e.selections[s];switch(o.kind){case"ScalarField":case"LinkedField":this._normalizeField(o,n,i);break;case"Condition":var l=!!this._getVariableValue(o.condition);l===o.passingValue&&this._traverseSelections(o,n,i);break;case"FragmentSpread":{var u=this._variables;this._variables=Jv(this._variables,o.fragment.argumentDefinitions,o.args),this._traverseSelections(o.fragment,n,i),this._variables=u;break}case"InlineFragment":{var c=o.abstractKey;if(c==null){var d=M.getType(n);d===o.type&&this._traverseSelections(o,n,i)}else{var f=i.hasOwnProperty(c),h=M.getType(n),g=pn(h),p=this._recordSource.get(g);p==null&&(p=M.create(g,gn),this._recordSource.set(g,p)),M.setValue(p,c,f),f&&this._traverseSelections(o,n,i)}break}case"TypeDiscriminator":{var v=o.abstractKey,y=i.hasOwnProperty(v),b=M.getType(n),S=pn(b),R=this._recordSource.get(S);R==null&&(R=M.create(S,gn),this._recordSource.set(S,R)),M.setValue(R,v,y);break}case"LinkedHandle":case"ScalarHandle":var A=o.args?Ji(o.args,this._variables):{},I=hn(o,this._variables),T=a_(o,this._variables);this._handleFieldPayloads.push({args:A,dataID:M.getDataID(n),fieldKey:I,handle:o.handle,handleKey:T,handleArgs:o.handleArgs?Ji(o.handleArgs,this._variables):{}});break;case"ModuleImport":this._normalizeModuleImport(o,n,i);break;case"Defer":this._normalizeDefer(o,n,i);break;case"Stream":this._normalizeStream(o,n,i);break;case"ClientExtension":var C=this._isClientExtension;this._isClientExtension=!0,this._traverseSelections(o,n,i),this._isClientExtension=C;break;case"ClientComponent":if(this._shouldProcessClientComponents===!1)break;this._traverseSelections(o.fragment,n,i);break;case"ActorChange":this._normalizeActorChange(o,n,i);break;case"RelayResolver":this._normalizeResolver(o,n,i);break;case"RelayLiveResolver":this._normalizeResolver(o,n,i);break;case"ClientEdgeToClientObject":this._normalizeResolver(o.backingField,n,i);break;default:se(!1)}}},r._normalizeResolver=function(e,n,i){e.fragment!=null&&this._traverseSelections(e.fragment,n,i)},r._normalizeDefer=function(e,n,i){var s=e.if===null||this._getVariableValue(e.if);s===!1?this._traverseSelections(e,n,i):this._incrementalPlaceholders.push({kind:"defer",data:i,label:e.label,path:(0,St.default)(this._path),selector:r_(e,M.getDataID(n),this._variables),typeName:M.getType(n),actorIdentifier:this._actorIdentifier})},r._normalizeStream=function(e,n,i){this._traverseSelections(e,n,i);var s=e.if===null||this._getVariableValue(e.if);s===!0&&this._incrementalPlaceholders.push({kind:"stream",label:e.label,path:(0,St.default)(this._path),parentID:M.getDataID(n),node:e,variables:this._variables,actorIdentifier:this._actorIdentifier})},r._normalizeModuleImport=function(e,n,i){typeof i=="object"&&i||se(!1);var s=M.getType(n),o=i_(e.documentName),l=e.componentModuleProvider||i[o];M.setValue(n,o,l??null);var u=s_(e.documentName),c=e.operationModuleProvider||i[u];M.setValue(n,u,c??null),c!=null&&this._followupPayloads.push({kind:"ModuleImportPayload",args:e.args,data:i,dataID:M.getDataID(n),operationReference:c,path:(0,St.default)(this._path),typeName:s,variables:this._variables,actorIdentifier:this._actorIdentifier})},r._normalizeField=function(e,n,i){typeof i=="object"&&i||se(!1);var s=e.alias||e.name,o=hn(e,this._variables),l=i[s];if(l==null||Qv.ENABLE_NONCOMPLIANT_ERROR_HANDLING_ON_LISTS&&Array.isArray(l)&&l.length===0){if(l===void 0){var u=this._isClientExtension||this._isUnmatchedAbstractType;if(u)return;if(!this._treatMissingFieldsAsNull)return}M.setValue(n,o,null);var c=this._errorTrie;if(c!=null){var d=e_(c,s);d!=null&&M.setErrors(n,o,d)}return}if(e.kind==="ScalarField")M.setValue(n,o,l);else if(e.kind==="LinkedField"){this._path.push(s);var f=this._errorTrie;this._errorTrie=f==null?null:Xi(f,s),e.plural?this._normalizePluralLink(e,n,o,l):this._normalizeLink(e,n,o,l),this._errorTrie=f,this._path.pop()}else se(!1)},r._normalizeActorChange=function(e,n,i){var s,o=e.linkedField;typeof i=="object"&&i||se(!1);var l=o.alias||o.name,u=hn(o,this._variables),c=i[l];if(c==null){if(c===void 0){var d=this._isClientExtension||this._isUnmatchedAbstractType;if(d)return;if(!this._treatMissingFieldsAsNull)return}M.setValue(n,u,null);return}var f=Yv(c);if(f==null){M.setValue(n,u,null);return}var h=(s=o.concreteType)!==null&&s!==void 0?s:this._getRecordType(c),g=this._getDataId(c,h)||M.getLinkedRecordID(n,u)||fn(M.getDataID(n),u);typeof g!="string"&&se(!1),M.setActorLinkedRecordID(n,u,f,g),this._followupPayloads.push({kind:"ActorPayload",data:c,dataID:g,path:[].concat((0,St.default)(this._path),[l]),typeName:h,variables:this._variables,node:o,actorIdentifier:f})},r._normalizeLink=function(e,n,i,s){var o;typeof s=="object"&&s||se(!1);var l=this._getDataId(s,(o=e.concreteType)!==null&&o!==void 0?o:this._getRecordType(s))||M.getLinkedRecordID(n,i)||fn(M.getDataID(n),i);typeof l!="string"&&se(!1),M.setLinkedRecordID(n,i,l);var u=this._recordSource.get(l);if(!u){var c=e.concreteType||this._getRecordType(s);u=M.create(l,c),this._recordSource.set(l,u)}this._traverseSelections(e,u,s)},r._normalizePluralLink=function(e,n,i,s){var o=this;Array.isArray(s)||se(!1);var l=M.getLinkedRecordIDs(n,i),u=[];s.forEach(function(c,d){var f;if(c==null){u.push(c);return}o._path.push(String(d));var h=o._errorTrie;o._errorTrie=h==null?null:Xi(h,d),typeof c!="object"&&se(!1);var g=o._getDataId(c,(f=e.concreteType)!==null&&f!==void 0?f:o._getRecordType(c))||l&&l[d]||fn(M.getDataID(n),i,d);typeof g!="string"&&se(!1),u.push(g);var p=o._recordSource.get(g);if(!p){var v=e.concreteType||o._getRecordType(c);p=M.create(g,v),o._recordSource.set(g,p)}o._traverseSelections(e,p,c),o._errorTrie=h,o._path.pop()}),M.setLinkedRecordIDs(n,i,u)},r._validateRecordType=function(e,n,i){var s;(s=n.concreteType)!==null&&s!==void 0||this._getRecordType(i),M.getDataID(e)},r._validateConflictingFieldsWithIdenticalId=function(e,n,i){},r._validateConflictingLinkedFieldsWithIdenticalId=function(e,n,i){},t}(),Wl={normalize:o_},Br=V.default,Zi=Br(ge),u_=Br(ue),c_=Br(tt),d_=Br(Wl);function f_(t,r,a,e){var n,i=t.data,s=t.errors,o=c_.default.create(),l=u_.default.create(r.dataID,a);o.set(r.dataID,l);var u=d_.default.normalize(o,r,i,e,s);return(0,Zi.default)((0,Zi.default)({},u),{},{isFinal:((n=t.extensions)===null||n===void 0?void 0:n.is_final)===!0})}var Gl=f_,h_=ye,g_=h_.getInlineDataFragment,p_=W,v_=p_.FRAGMENTS_KEY,es=D;function __(t,r){var a,e=g_(t);if(r==null)return r;typeof r!="object"&&es(!1);var n=(a=r[v_])===null||a===void 0?void 0:a[e.name];return n==null&&es(!1),n}var m_=__,y_=1e5;function E_(){return y_++}var zl=E_,b_=zl;function R_(t,r){return{execute:function(e,n,i,s){var o=b_(),l={start:function(d){t.__log({name:"network.start",networkRequestId:o,params:e,variables:n,cacheConfig:i})},next:function(d){t.__log({name:"network.next",networkRequestId:o,response:d})},error:function(d){t.__log({name:"network.error",networkRequestId:o,error:d})},complete:function(){t.__log({name:"network.complete",networkRequestId:o})},unsubscribe:function(){t.__log({name:"network.unsubscribe",networkRequestId:o})}},u=function(d){t.__log({name:"network.info",networkRequestId:o,info:d})};return r.execute(e,n,i,s,u).do(l)}}}var S_=R_,T_=V.default,Tt=T_(ie),I_=D,A_=function(){function t(){this._ownersToPendingOperations=new Map,this._pendingOperationsToOwners=new Map,this._ownersToPendingPromise=new Map}var r=t.prototype;return r.update=function(e,n){if(n.size!==0){var i=e.identifier,s=new Set,o=(0,Tt.default)(n),l;try{for(o.s();!(l=o.n()).done;){var u=l.value,c=u.identifier,d=this._ownersToPendingOperations.get(c);d!=null?d.has(i)||(d.set(i,e),s.add(c)):(this._ownersToPendingOperations.set(c,new Map([[i,e]])),s.add(c))}}catch(v){o.e(v)}finally{o.f()}if(s.size!==0){var f=this._pendingOperationsToOwners.get(i)||new Set,h=(0,Tt.default)(s),g;try{for(h.s();!(g=h.n()).done;){var p=g.value;this._resolveOwnerResolvers(p),f.add(p)}}catch(v){h.e(v)}finally{h.f()}this._pendingOperationsToOwners.set(i,f)}}},r.complete=function(e){var n=e.identifier,i=this._pendingOperationsToOwners.get(n);if(i!=null){var s=new Set,o=new Set,l=(0,Tt.default)(i),u;try{for(l.s();!(u=l.n()).done;){var c=u.value,d=this._ownersToPendingOperations.get(c);d&&(d.delete(n),d.size>0?o.add(c):s.add(c))}}catch(b){l.e(b)}finally{l.f()}var f=(0,Tt.default)(s),h;try{for(f.s();!(h=f.n()).done;){var g=h.value;this._resolveOwnerResolvers(g),this._ownersToPendingOperations.delete(g)}}catch(b){f.e(b)}finally{f.f()}var p=(0,Tt.default)(o),v;try{for(p.s();!(v=p.n()).done;){var y=v.value;this._resolveOwnerResolvers(y)}}catch(b){p.e(b)}finally{p.f()}this._pendingOperationsToOwners.delete(n)}},r._resolveOwnerResolvers=function(e){var n=this._ownersToPendingPromise.get(e);n!=null&&n.resolve(),this._ownersToPendingPromise.delete(e)},r.getPendingOperationsAffectingOwner=function(e){var n=e.identifier,i=this._ownersToPendingOperations.get(n);if(i==null||i.size===0)return null;var s=this._ownersToPendingPromise.get(n);if(s!=null)return{promise:s.promise,pendingOperations:s.pendingOperations};var o,l=new Promise(function(c){o=c});o==null&&I_(!1);var u=Array.from(i.values());return this._ownersToPendingPromise.set(n,{promise:l,resolve:o,pendingOperations:u}),{promise:l,pendingOperations:u}},t}(),Yl=A_;function C_(t){var r=typeof Sr<"u"?Sr:typeof window<"u"?window:void 0,a=r&&r.__RELAY_DEVTOOLS_HOOK__;a&&a.registerEnvironment(t)}var w_=C_,k_=Te,D_=k_.generateClientID,F_=W,N_=F_.ROOT_ID,O_=D_(N_,"viewer"),x_="Viewer",Xa={VIEWER_ID:O_,VIEWER_TYPE:x_},Ql=Xa,$_=Ql.VIEWER_ID,P_=Ql.VIEWER_TYPE;function L_(t,r){return r===P_&&t.id==null?$_:t.id}var Xl=L_,M_=function(r){},q_=M_,Jl=Ue,U_=Jl.REQUEST,V_=Jl.SPLIT_OPERATION;function H_(t){switch(t.kind){case U_:return t.operation;case V_:default:return t}}var Ja=H_;function ts(t,r,a){for(var e=arguments.length,n=new Array(e>3?e-3:0),i=3;i<e;i++)n[i-3]=arguments[i];var s=0,o=a.replace(/%s/g,function(){return String(n[s++])}),l=new Error(o),u=Object.assign(l,{name:r,messageFormat:a,messageParams:n,type:t,taalOpcodes:[2,2]});if(u.stack===void 0)try{throw u}catch{}return u}var Zl={create:function(r,a){for(var e=arguments.length,n=new Array(e>2?e-2:0),i=2;i<e;i++)n[i-2]=arguments[i];return ts.apply(void 0,["error",r,a].concat(n))},createWarning:function(r,a){for(var e=arguments.length,n=new Array(e>2?e-2:0),i=2;i<e;i++)n[i-2]=arguments[i];return ts.apply(void 0,["warn",r,a].concat(n))}},vn,_n,B_=typeof window<"u"&&typeof((vn=window)===null||vn===void 0||(_n=vn.performance)===null||_n===void 0?void 0:_n.now)=="function";function rs(){return B_?window.performance.now():Date.now()}function j_(t){var r=rs(),a=t();return[r,rs()-r,a]}var K_=j_,eu=V.default,It=eu(ie),At=eu(yt),mn=He,W_=zl,yn=Ja,G_=Zl,rr=De,z_=Xe,Y_=z_.stableCopy,Q_=K_,tu=Te,ns=tu.generateClientID,X_=tu.generateUniqueClientID,J_=Ve,Z_=J_.getLocalVariables,nr=ue,ru=Ee,En=ru.createNormalizationSelector,em=ru.createReaderSelector,bn=tt,Za=W,as=Za.ROOT_TYPE,tm=Za.TYPENAME_KEY,rm=Za.getStorageKey,G=D;function nm(t){return new am(t)}var am=function(){function t(a){var e=this,n=a.actorIdentifier,i=a.getDataID,s=a.getPublishQueue,o=a.getStore,l=a.isClientPayload,u=a.operation,c=a.operationExecutions,d=a.operationLoader,f=a.operationTracker,h=a.optimisticConfig,g=a.scheduler,p=a.shouldProcessClientComponents,v=a.sink,y=a.source,b=a.treatMissingFieldsAsNull,S=a.updater,R=a.log,A=a.normalizeResponse;this._actorIdentifier=n,this._getDataID=i,this._treatMissingFieldsAsNull=b,this._incrementalPayloadsPending=!1,this._incrementalResults=new Map,this._log=R,this._executeId=W_(),this._nextSubscriptionId=0,this._operation=u,this._operationExecutions=c,this._operationLoader=d,this._operationTracker=f,this._operationUpdateEpochs=new Map,this._optimisticUpdates=null,this._pendingModulePayloadsCount=0,this._getPublishQueue=s,this._scheduler=g,this._sink=v,this._source=new Map,this._state="started",this._getStore=o,this._subscriptions=new Map,this._updater=S,this._isClientPayload=l===!0,this._isSubscriptionOperation=this._operation.request.node.params.operationKind==="subscription",this._shouldProcessClientComponents=p,this._retainDisposables=new Map,this._seenActors=new Set,this._completeFns=[],this._normalizeResponse=A;var I=this._nextSubscriptionId++;rr.PROCESS_OPTIMISTIC_UPDATE_BEFORE_SUBSCRIPTION&&h!=null&&this._processOptimisticResponse(h.response!=null?{data:h.response}:null,h.updater,!1),y.subscribe({complete:function(){return e._complete(I)},error:function(C){return e._error(C)},next:function(C){try{e._next(I,C)}catch(w){v.error(w)}},start:function(C){var w;e._start(I,C),e._log({name:"execute.start",executeId:e._executeId,params:e._operation.request.node.params,variables:e._operation.request.variables,cacheConfig:(w=e._operation.request.cacheConfig)!==null&&w!==void 0?w:{}})}}),!rr.PROCESS_OPTIMISTIC_UPDATE_BEFORE_SUBSCRIPTION&&h!=null&&this._processOptimisticResponse(h.response!=null?{data:h.response}:null,h.updater,!1)}var r=t.prototype;return r.cancel=function(){var e=this;if(this._state!=="completed"){this._state="completed",this._operationExecutions.delete(this._operation.request.identifier),this._subscriptions.size!==0&&(this._subscriptions.forEach(function(i){return i.unsubscribe()}),this._subscriptions.clear());var n=this._optimisticUpdates;n!==null&&(this._optimisticUpdates=null,n.forEach(function(i){return e._getPublishQueueAndSaveActor().revertUpdate(i)}),this._runPublishQueue()),this._incrementalResults.clear(),this._asyncStoreUpdateDisposable!=null&&(this._asyncStoreUpdateDisposable.dispose(),this._asyncStoreUpdateDisposable=null),this._completeFns=[],this._completeOperationTracker(),this._disposeRetainedData()}},r._updateActiveState=function(){var e;switch(this._state){case"started":{e="active";break}case"loading_incremental":{e="active";break}case"completed":{e="inactive";break}case"loading_final":{e=this._pendingModulePayloadsCount>0?"active":"inactive";break}default:this._state,G(!1)}this._operationExecutions.set(this._operation.request.identifier,e)},r._schedule=function(e,n){var i=this,s=this._scheduler;if(s!=null){var o=this._nextSubscriptionId++;mn.create(function(l){var u=s.schedule(function(){try{e(),l.complete()}catch(c){l.error(c)}},n);return function(){return s.cancel(u)}}).subscribe({complete:function(){return i._complete(o)},error:function(u){return i._error(u)},start:function(u){return i._start(o,u)}})}else e()},r._complete=function(e){this._subscriptions.delete(e),this._subscriptions.size===0&&(this.cancel(),this._sink.complete(),this._log({name:"execute.complete",executeId:this._executeId}))},r._error=function(e){this.cancel(),this._sink.error(e),this._log({name:"execute.error",executeId:this._executeId,error:e})},r._start=function(e,n){this._subscriptions.set(e,n),this._updateActiveState()},r._next=function(e,n){var i=this,s=this._state==="loading_incremental"?"low":"default";this._schedule(function(){i._log({name:"execute.next.start",executeId:i._executeId,response:n,operation:i._operation}),i._handleNext(n),i._maybeCompleteSubscriptionOperationTracking(),i._log({name:"execute.next.end",executeId:i._executeId,response:n,operation:i._operation})},s)},r._handleErrorResponse=function(e){var n=this,i=[];return e.forEach(function(s){if(!(s.data===null&&s.extensions!=null&&!s.hasOwnProperty("errors")))if(s.data==null){var o=s.hasOwnProperty("errors")&&s.errors!=null?s.errors:null,l=o?o.map(function(d){var f=d.message;return f}).join(`
`):"(No errors)",u=G_.create("RelayNetwork","No data returned for operation `"+n._operation.request.node.params.name+"`, got error(s):\n"+l+"\n\nSee the error `source` property for more information.");throw u.source={errors:o,operation:n._operation.request.node,variables:n._operation.request.variables},u.stack,u}else{var c=s;i.push(c)}}),i},r._handleOptimisticResponses=function(e){var n;if(e.length>1)return e.some(function(o){var l;return((l=o.extensions)===null||l===void 0?void 0:l.isOptimistic)===!0})&&G(!1),!1;var i=e[0],s=((n=i.extensions)===null||n===void 0?void 0:n.isOptimistic)===!0;return s&&this._state!=="started"&&G(!1),s?(this._processOptimisticResponse(i,null,this._treatMissingFieldsAsNull),this._sink.next(i),!0):!1},r._handleNext=function(e){if(this._state!=="completed"){this._seenActors.clear();var n=Array.isArray(e)?e:[e],i=this._handleErrorResponse(n);if(i.length===0){var s=n.some(function(v){var y;return((y=v.extensions)===null||y===void 0?void 0:y.is_final)===!0});s&&(this._state="loading_final",this._updateActiveState(),this._incrementalPayloadsPending=!1),this._sink.next(e);return}var o=this._handleOptimisticResponses(i);if(!o){var l=im(i),u=l[0],c=l[1],d=u.length>0;if(d){if(this._isSubscriptionOperation){var f=X_();this._operation={request:this._operation.request,fragment:em(this._operation.fragment.node,f,this._operation.fragment.variables,this._operation.fragment.owner),root:En(this._operation.root.node,f,this._operation.root.variables)}}var h=this._processResponses(u);this._processPayloadFollowups(h)}if(c.length>0){var g=this._processIncrementalResponses(c);this._processPayloadFollowups(g)}this._isSubscriptionOperation&&(i[0].extensions==null?i[0].extensions={__relay_subscription_root_id:this._operation.fragment.dataID}:i[0].extensions.__relay_subscription_root_id=this._operation.fragment.dataID);var p=this._runPublishQueue(d?this._operation:void 0);d&&this._incrementalPayloadsPending&&this._retainData(),this._updateOperationTracker(p),this._sink.next(e)}}},r._processOptimisticResponse=function(e,n,i){var s=this;if(this._optimisticUpdates!==null&&G(!1),!(e==null&&n==null)){var o=[];if(e){var l=this._normalizeResponse(e,this._operation.root,as,{actorIdentifier:this._actorIdentifier,getDataID:this._getDataID,path:[],shouldProcessClientComponents:this._shouldProcessClientComponents,treatMissingFieldsAsNull:i});is(l),o.push({operation:this._operation,payload:l,updater:n}),this._processOptimisticFollowups(l,o)}else n&&o.push({operation:this._operation,payload:{errors:null,fieldPayloads:null,incrementalPlaceholders:null,followupPayloads:null,source:bn.create(),isFinal:!1},updater:n});this._optimisticUpdates=o,o.forEach(function(c){return s._getPublishQueueAndSaveActor().applyUpdate(c)});var u=this._runPublishQueue();rr.ENABLE_OPERATION_TRACKER_OPTIMISTIC_UPDATES&&this._updateOperationTracker(u)}},r._processOptimisticFollowups=function(e,n){if(e.followupPayloads&&e.followupPayloads.length){var i=e.followupPayloads,s=(0,It.default)(i),o;try{for(s.s();!(o=s.n()).done;){var l=o.value;switch(l.kind){case"ModuleImportPayload":var u=this._expectOperationLoader(),c=u.get(l.operationReference);if(c==null)this._processAsyncOptimisticModuleImport(l);else{var d=this._processOptimisticModuleImport(c,l);n.push.apply(n,(0,At.default)(d))}break;case"ActorPayload":break;default:G(!1)}}}catch(f){s.e(f)}finally{s.f()}}},r._normalizeFollowupPayload=function(e,n){var i;n.kind==="SplitOperation"&&e.kind==="ModuleImportPayload"?i=Z_(e.variables,n.argumentDefinitions,e.args):i=e.variables;var s=En(n,e.dataID,i);return this._normalizeResponse({data:e.data},s,e.typeName,{actorIdentifier:this._actorIdentifier,getDataID:this._getDataID,path:e.path,treatMissingFieldsAsNull:this._treatMissingFieldsAsNull,shouldProcessClientComponents:this._shouldProcessClientComponents})},r._processOptimisticModuleImport=function(e,n){var i=yn(e),s=[],o=this._normalizeFollowupPayload(n,i);return is(o),s.push({operation:this._operation,payload:o,updater:null}),this._processOptimisticFollowups(o,s),s},r._processAsyncOptimisticModuleImport=function(e){var n=this;this._expectOperationLoader().load(e.operationReference).then(function(i){if(!(i==null||n._state!=="started")){var s=n._processOptimisticModuleImport(i,e);if(s.forEach(function(l){return n._getPublishQueueAndSaveActor().applyUpdate(l)}),n._optimisticUpdates!=null){var o;(o=n._optimisticUpdates).push.apply(o,(0,At.default)(s)),n._runPublishQueue()}}})},r._processResponses=function(e){var n=this;return this._log({name:"execute.normalize.start",operation:this._operation}),this._optimisticUpdates!==null&&(this._optimisticUpdates.forEach(function(i){n._getPublishQueueAndSaveActor().revertUpdate(i)}),this._optimisticUpdates=null),this._incrementalPayloadsPending=!1,this._incrementalResults.clear(),this._source.clear(),e.map(function(i){var s=n._normalizeResponse(i,n._operation.root,as,{actorIdentifier:n._actorIdentifier,getDataID:n._getDataID,path:[],treatMissingFieldsAsNull:n._treatMissingFieldsAsNull,shouldProcessClientComponents:n._shouldProcessClientComponents});return n._getPublishQueueAndSaveActor().commitPayload(n._operation,s,n._updater),n._log({name:"execute.normalize.end",operation:n._operation}),s})},r._processPayloadFollowups=function(e){var n=this;this._state!=="completed"&&e.forEach(function(i){var s=i.incrementalPlaceholders,o=i.followupPayloads,l=i.isFinal;if(n._state=l?"loading_final":"loading_incremental",n._updateActiveState(),l&&(n._incrementalPayloadsPending=!1),o&&o.length!==0&&o.forEach(function(c){var d,f=n._actorIdentifier;n._actorIdentifier=(d=c.actorIdentifier)!==null&&d!==void 0?d:n._actorIdentifier,n._processFollowupPayload(c),n._actorIdentifier=f}),s&&s.length!==0&&(n._incrementalPayloadsPending=n._state!=="loading_final",s.forEach(function(c){var d,f=n._actorIdentifier;n._actorIdentifier=(d=c.actorIdentifier)!==null&&d!==void 0?d:n._actorIdentifier,n._processIncrementalPlaceholder(i,c),n._actorIdentifier=f}),n._isClientPayload||n._state==="loading_final")){var u=[];s.forEach(function(c){c.kind==="defer"&&u.push(n._processDeferResponse(c.label,c.path,c,{data:c.data}))}),u.length>0&&n._processPayloadFollowups(u)}})},r._maybeCompleteSubscriptionOperationTracking=function(){this._isSubscriptionOperation&&this._pendingModulePayloadsCount===0&&this._incrementalPayloadsPending===!1&&this._completeOperationTracker()},r._processFollowupPayload=function(e){var n=this;switch(e.kind){case"ModuleImportPayload":var i=this._expectOperationLoader(),s=i.get(e.operationReference);if(s!=null)this._processFollowupPayloadWithNormalizationNode(e,yn(s));else{var o=this._nextSubscriptionId++;this._pendingModulePayloadsCount++;var l=function(){n._pendingModulePayloadsCount--,n._maybeCompleteSubscriptionOperationTracking()},u=mn.from(new Promise(function(c,d){i.load(e.operationReference).then(c,d)}));mn.create(function(c){var d,f=u.subscribe({next:function(g){if(g!=null){var p=function(){try{var b=yn(g),S=rr.BATCH_ASYNC_MODULE_UPDATES_FN,R=S!=null&&n._pendingModulePayloadsCount>1,A=Q_(function(){if(n._handleFollowupPayload(e,b),R)n._scheduleAsyncStoreUpdate(S,c.complete);else{var C=n._runPublishQueue();n._updateOperationTracker(C)}}),I=A[0],T=A[1];n._log({name:"execute.async.module",executeId:n._executeId,operationName:b.name,duration:T}),R||c.complete()}catch(C){c.error(C)}},v=n._scheduler;v==null?p():d=v.schedule(p)}else c.complete()},error:c.error});return function(){f.unsubscribe(),n._scheduler!=null&&d!=null&&n._scheduler.cancel(d)}}).subscribe({complete:function(){n._complete(o),l()},error:function(d){n._error(d),l()},start:function(d){return n._start(o,d)}})}break;case"ActorPayload":this._processFollowupPayloadWithNormalizationNode(e,e.node);break;default:G(!1)}},r._processFollowupPayloadWithNormalizationNode=function(e,n){this._handleFollowupPayload(e,n),this._maybeCompleteSubscriptionOperationTracking()},r._handleFollowupPayload=function(e,n){var i=this._normalizeFollowupPayload(e,n);this._getPublishQueueAndSaveActor().commitPayload(this._operation,i),this._processPayloadFollowups([i])},r._processIncrementalPlaceholder=function(e,n){var i,s=n.label,o=n.path,l=o.map(String).join("."),u=this._incrementalResults.get(s);u==null&&(u=new Map,this._incrementalResults.set(s,u));var c=u.get(l),d=c!=null&&c.kind==="response"?c.responses:null;u.set(l,{kind:"placeholder",placeholder:n});var f;n.kind==="stream"?f=n.parentID:n.kind==="defer"?f=n.selector.dataID:G(!1);var h=e.source.get(f),g=((i=e.fieldPayloads)!==null&&i!==void 0?i:[]).filter(function(A){var I=ns(A.dataID,A.fieldKey);return A.dataID===f||I===f});h==null&&G(!1);var p,v,y=this._source.get(f);if(y!=null){p=nr.update(y.record,h);var b=new Map,S=function(I){var T=sm(I);b.set(T,I)};y.fieldPayloads.forEach(S),g.forEach(S),v=Array.from(b.values())}else p=h,v=g;if(this._source.set(f,{record:p,fieldPayloads:v}),d!=null){var R=this._processIncrementalResponses(d);this._processPayloadFollowups(R)}},r._processIncrementalResponses=function(e){var n=this,i=[];return e.forEach(function(s){var o=s.label,l=s.path,u=s.response,c=n._incrementalResults.get(o);if(c==null&&(c=new Map,n._incrementalResults.set(o,c)),o.indexOf("$defer$")!==-1){var d=l.map(String).join("."),f=c.get(d);if(f==null){f={kind:"response",responses:[s]},c.set(d,f);return}else if(f.kind==="response"){f.responses.push(s);return}var h=f.placeholder;h.kind!=="defer"&&G(!1),i.push(n._processDeferResponse(o,l,h,u))}else{var g=l.slice(0,-2).map(String).join("."),p=c.get(g);if(p==null){p={kind:"response",responses:[s]},c.set(g,p);return}else if(p.kind==="response"){p.responses.push(s);return}var v=p.placeholder;v.kind!=="stream"&&G(!1),i.push(n._processStreamResponse(o,l,v,u))}}),i},r._processDeferResponse=function(e,n,i,s){var o,l=i.selector.dataID,u=this._actorIdentifier;this._actorIdentifier=(o=i.actorIdentifier)!==null&&o!==void 0?o:this._actorIdentifier;var c=this._normalizeResponse(s,i.selector,i.typeName,{actorIdentifier:this._actorIdentifier,getDataID:this._getDataID,path:i.path,treatMissingFieldsAsNull:this._treatMissingFieldsAsNull,shouldProcessClientComponents:this._shouldProcessClientComponents});this._getPublishQueueAndSaveActor().commitPayload(this._operation,c);var d=this._source.get(l);d==null&&G(!1);var f=d.fieldPayloads;if(f.length!==0){var h,g={errors:null,fieldPayloads:f,incrementalPlaceholders:null,followupPayloads:null,source:bn.create(),isFinal:((h=s.extensions)===null||h===void 0?void 0:h.is_final)===!0};this._getPublishQueueAndSaveActor().commitPayload(this._operation,g)}return this._actorIdentifier=u,c},r._processStreamResponse=function(e,n,i,s){var o=i.parentID,l=i.node,u=i.variables,c=i.actorIdentifier,d=this._actorIdentifier;this._actorIdentifier=c??this._actorIdentifier;var f=l.selections[0];f!=null&&f.kind==="LinkedField"&&f.plural===!0||G(!1);var h=this._normalizeStreamItem(s,o,f,u,n,i.path),g=h.fieldPayloads,p=h.itemID,v=h.itemIndex,y=h.prevIDs,b=h.relayPayload,S=h.storageKey;if(this._getPublishQueueAndSaveActor().commitPayload(this._operation,b,function(A){var I=A.get(o);if(I!=null){var T=I.getLinkedRecords(S);if(T!=null&&!(T.length!==y.length||T.some(function(w,P){return y[P]!==(w&&w.getDataID())}))){var C=(0,At.default)(T);C[v]=A.get(p),I.setLinkedRecords(C,S)}}}),g.length!==0){var R={errors:null,fieldPayloads:g,incrementalPlaceholders:null,followupPayloads:null,source:bn.create(),isFinal:!1};this._getPublishQueueAndSaveActor().commitPayload(this._operation,R)}return this._actorIdentifier=d,b},r._normalizeStreamItem=function(e,n,i,s,o,l){var u,c,d,f,h=e.data;typeof h!="object"&&G(!1);var g=(u=i.alias)!==null&&u!==void 0?u:i.name,p=rm(i,s),v=this._source.get(n);v==null&&G(!1);var y=v.record,b=v.fieldPayloads,S=nr.getLinkedRecordIDs(y,p);S==null&&G(!1);var R=o[o.length-1],A=parseInt(R,10);A===R&&A>=0||G(!1);var I=(c=i.concreteType)!==null&&c!==void 0?c:h[tm];typeof I!="string"&&G(!1);var T=(d=(f=this._getDataID(h,I))!==null&&f!==void 0?f:S==null?void 0:S[A])!==null&&d!==void 0?d:ns(n,p,A);typeof T!="string"&&G(!1);var C=En(i,T,s),w=nr.clone(y),P=(0,At.default)(S);P[A]=T,nr.setLinkedRecordIDs(w,p,P),this._source.set(n,{record:w,fieldPayloads:b});var H=this._normalizeResponse(e,C,I,{actorIdentifier:this._actorIdentifier,getDataID:this._getDataID,path:[].concat((0,At.default)(l),[g,String(A)]),treatMissingFieldsAsNull:this._treatMissingFieldsAsNull,shouldProcessClientComponents:this._shouldProcessClientComponents});return{fieldPayloads:b,itemID:T,itemIndex:A,prevIDs:S,relayPayload:H,storageKey:p}},r._scheduleAsyncStoreUpdate=function(e,n){var i=this;this._completeFns.push(n),this._asyncStoreUpdateDisposable==null&&(this._asyncStoreUpdateDisposable=e(function(){i._asyncStoreUpdateDisposable=null;var s=i._runPublishQueue();i._updateOperationTracker(s);var o=(0,It.default)(i._completeFns),l;try{for(o.s();!(l=o.n()).done;){var u=l.value;u()}}catch(c){o.e(c)}finally{o.f()}i._completeFns=[]}))},r._updateOperationTracker=function(e){e!=null&&e.length>0&&this._operationTracker.update(this._operation.request,new Set(e))},r._completeOperationTracker=function(){this._operationTracker.complete(this._operation.request)},r._getPublishQueueAndSaveActor=function(){return this._seenActors.add(this._actorIdentifier),this._getPublishQueue(this._actorIdentifier)},r._getActorsToVisit=function(){return this._seenActors.size===0?new Set([this._actorIdentifier]):this._seenActors},r._runPublishQueue=function(e){var n=new Set,i=(0,It.default)(this._getActorsToVisit()),s;try{for(i.s();!(s=i.n()).done;){var o=s.value,l=this._getPublishQueue(o).run(e);l.forEach(function(u){return n.add(u)})}}catch(u){i.e(u)}finally{i.f()}return Array.from(n)},r._retainData=function(){var e=(0,It.default)(this._getActorsToVisit()),n;try{for(e.s();!(n=e.n()).done;){var i=n.value;this._retainDisposables.has(i)||this._retainDisposables.set(i,this._getStore(i).retain(this._operation))}}catch(s){e.e(s)}finally{e.f()}},r._disposeRetainedData=function(){var e=(0,It.default)(this._retainDisposables.values()),n;try{for(e.s();!(n=e.n()).done;){var i=n.value;i.dispose()}}catch(s){e.e(s)}finally{e.f()}this._retainDisposables.clear()},r._expectOperationLoader=function(){var e=this._operationLoader;return e||G(!1),e},t}();function im(t){var r=[],a=[];return t.forEach(function(e){if(e.path!=null||e.label!=null){var n=e.label,i=e.path;(n==null||i==null)&&G(!1),a.push({label:n,path:i,response:e})}else r.push(e)}),[r,a]}function sm(t){var r;return(r=JSON.stringify(Y_(t)))!==null&&r!==void 0?r:""}function is(t){var r=t.incrementalPlaceholders;r!=null&&r.length!==0&&G(!1)}var om={execute:nm},ee=ue,lm=Ur,ss=lm.EXISTENT,Rn=D,um=function(){function t(a,e){this.__sources=[e,a],this._base=a,this._sink=e}var r=t.prototype;return r.unstable_getRawRecordWithChanges=function(e){var n=this._base.get(e),i=this._sink.get(e);if(i===void 0){if(n==null)return n;var s=ee.clone(n);return s}else{if(i===null)return null;if(n!=null){var o=ee.update(n,i);return o}else{var l=ee.clone(i);return l}}},r._getSinkRecord=function(e){var n=this._sink.get(e);if(!n){var i=this._base.get(e);i||Rn(!1),n=ee.create(e,ee.getType(i)),this._sink.set(e,n)}return n},r.copyFields=function(e,n){var i=this._sink.get(e),s=this._base.get(e);i||s||Rn(!1);var o=this._getSinkRecord(n);s&&ee.copyFields(s,o),i&&ee.copyFields(i,o)},r.copyFieldsFromRecord=function(e,n){var i=this._getSinkRecord(n);ee.copyFields(e,i)},r.create=function(e,n){this._base.getStatus(e)!==ss&&this._sink.getStatus(e)!==ss||Rn(!1);var i=ee.create(e,n);this._sink.set(e,i)},r.delete=function(e){this._sink.delete(e)},r.getStatus=function(e){return this._sink.has(e)?this._sink.getStatus(e):this._base.getStatus(e)},r.getType=function(e){for(var n=0;n<this.__sources.length;n++){var i=this.__sources[n].get(e);if(i)return ee.getType(i);if(i===null)return null}},r.getValue=function(e,n){for(var i=0;i<this.__sources.length;i++){var s=this.__sources[i].get(e);if(s){var o=ee.getValue(s,n);if(o!==void 0)return o}else if(s===null)return null}},r.setValue=function(e,n,i){var s=this._getSinkRecord(e);ee.setValue(s,n,i)},r.getErrors=function(e,n){for(var i=0;i<this.__sources.length;i++){var s=this.__sources[i].get(e);if(s){var o=ee.getErrors(s,n);if(o!==void 0)return o}else if(s===null)return null}},r.setErrors=function(e,n,i){var s=this._getSinkRecord(e);ee.setErrors(s,n,i)},r.getLinkedRecordID=function(e,n){for(var i=0;i<this.__sources.length;i++){var s=this.__sources[i].get(e);if(s){var o=ee.getLinkedRecordID(s,n);if(o!==void 0)return o}else if(s===null)return null}},r.setLinkedRecordID=function(e,n,i){var s=this._getSinkRecord(e);ee.setLinkedRecordID(s,n,i)},r.getLinkedRecordIDs=function(e,n){for(var i=0;i<this.__sources.length;i++){var s=this.__sources[i].get(e);if(s){var o=ee.getLinkedRecordIDs(s,n);if(o!==void 0)return o}else if(s===null)return null}},r.setLinkedRecordIDs=function(e,n,i){var s=this._getSinkRecord(e);ee.setLinkedRecordIDs(s,n,i)},t}(),nu=um,cm=V.default,jr=cm(ie),dm=W,gt=dm.getArgumentValues,fm=["id","__id","__typename","js"];function hm(t,r,a,e,n){var i={};return Ht(i,t,r,a,e,n),i}function Ht(t,r,a,e,n,i){var s,o=(0,jr.default)(e),l;try{var u=function(){var h=l.value;switch(h.kind){case"LinkedField":h.plural?Object.defineProperty(t,(c=h.alias)!==null&&c!==void 0?c:h.name,{get:vm(h,a,r,n,i),set:gm(h,a,r,n)}):Object.defineProperty(t,(d=h.alias)!==null&&d!==void 0?d:h.name,{get:_m(h,a,r,n,i),set:pm(h,a,r,n)});break;case"ScalarField":var g=(s=h.alias)!==null&&s!==void 0?s:h.name;Object.defineProperty(t,g,{get:function(){var v,y=gt((v=h.args)!==null&&v!==void 0?v:[],a),b=r.getValue(h.name,y);return b==null&&(b=Em(h,y,r,n,i)),b},set:fm.includes(h.name)?void 0:function(p){var v,y=gt((v=h.args)!==null&&v!==void 0?v:[],a);r.setValue__UNSAFE(p,h.name,y)}});break;case"InlineFragment":r.getType()===h.type&&Ht(t,r,a,h.selections,n,i);break;case"ClientExtension":Ht(t,r,a,h.selections,n,i);break;case"FragmentSpread":break;case"Condition":case"ActorChange":case"InlineDataFragmentSpread":case"AliasedInlineFragmentSpread":case"ClientEdgeToClientObject":case"ClientEdgeToServerObject":case"Defer":case"ModuleImport":case"RelayLiveResolver":case"RequiredField":case"CatchField":case"Stream":case"RelayResolver":throw new Error("Encountered an unexpected ReaderSelection variant in RelayRecordSourceProxy. This indicates a bug in Relay.");default:throw h.kind,new Error("Encountered an unexpected ReaderSelection variant in RelayRecordSourceProxy. This indicates a bug in Relay.")}};for(o.s();!(l=o.n()).done;){var c,d;u()}}catch(f){o.e(f)}finally{o.f()}}function gm(t,r,a,e){return function(i){var s,o=gt((s=t.args)!==null&&s!==void 0?s:[],r);if(i==null)throw new Error("Do not assign null to plural linked fields; assign an empty array instead.");var l=i.map(function(u){if(u==null)throw new Error("When assigning an array of items, none of the items should be null or undefined.");var c=u.__id;if(c==null)throw new Error("The __id field must be present on each item passed to the setter. This indicates a bug in Relay.");var d=e.get(c);if(d==null)throw new Error("Did not find item with data id ".concat(c," in the store."));return d});a.setLinkedRecords(l,t.name,o)}}function pm(t,r,a,e){return function(i){var s,o=gt((s=t.args)!==null&&s!==void 0?s:[],r);if(i==null)a.setValue(i,t.name,o);else{var l=i.__id;if(l==null)throw new Error("The __id field must be present on the argument. This indicates a bug in Relay.");var u=e.get(l);if(u==null)throw new Error("Did not find item with data id ".concat(l," in the store."));a.setLinkedRecord(u,t.name,o)}}}function vm(t,r,a,e,n){return function(){var i,s=gt((i=t.args)!==null&&i!==void 0?i:[],r),o=a.getLinkedRecords(t.name,s);return o===void 0&&(o=ym(t,s,a,e,n)),o!=null?o.map(function(l){if(l!=null){var u={};return Ht(u,l,r,t.selections,e,n),u}else return l}):o}}function _m(t,r,a,e,n){return function(){var i,s=gt((i=t.args)!==null&&i!==void 0?i:[],r),o=a.getLinkedRecord(t.name,s);if(o===void 0&&(o=mm(t,s,a,e,n)),o!=null){var l={};return Ht(l,o,r,t.selections,e,n),l}else return o}}function mm(t,r,a,e,n){var i=(0,jr.default)(n),s;try{for(i.s();!(s=i.n()).done;){var o=s.value;if(o.kind==="linked"){var l=o.handle(t,a,r,e);if(l!=null)return e.get(l)}}}catch(u){i.e(u)}finally{i.f()}}function ym(t,r,a,e,n){var i=(0,jr.default)(n),s;try{for(i.s();!(s=i.n()).done;){var o=s.value;if(o.kind==="pluralLinked"){var l=o.handle(t,a,r,e);if(l!=null)return l.map(function(u){if(u!=null)return e.get(u)})}}}catch(u){i.e(u)}finally{i.f()}}function Em(t,r,a,e,n){var i=(0,jr.default)(n),s;try{for(i.s();!(s=i.n()).done;){var o=s.value;if(o.kind==="scalar"){var l=o.handle(t,a,r,e);if(l!==void 0)return l}}}catch(u){i.e(u)}finally{i.f()}}var au={createUpdatableProxy:hm},bm=ye,Rm=bm.getFragment,Sm=Ee,Tm=Sm.getVariablesFromFragment,Im=W,Am=Im.ID_KEY,Cm=au,wm=Cm.createUpdatableProxy,km=D;function Dm(t,r,a,e){var n=Rm(t),i=Tm(n,r),s=r[Am],o=a.get(s);return o==null&&km(!1),{updatableData:wm(o,i,n.selections,a,e)}}var iu={readUpdatableFragment:Dm},Fm=ye,Nm=Fm.getUpdatableQuery,Om=au,xm=Om.createUpdatableProxy;function $m(t,r,a,e){var n=Nm(t);return{updatableData:xm(a.getRoot(),r,n.fragment.selections,a,e)}}var su={readUpdatableQuery:$m},Pm=Te,Lm=Pm.generateClientID,Mm=W,xe=Mm.getStableStorageKey,ar=D,qm=function(){function t(a,e,n){this._dataID=n,this._mutator=e,this._source=a}var r=t.prototype;return r.copyFieldsFrom=function(e){this._mutator.copyFields(e.getDataID(),this._dataID)},r.getDataID=function(){return this._dataID},r.getType=function(){var e=this._mutator.getType(this._dataID);return e==null&&ar(!1),e},r.getValue=function(e,n){var i=xe(e,n);return this._mutator.getValue(this._dataID,i)},r.setValue=function(e,n,i,s){return ou(e)||ar(!1),this.setValue__UNSAFE(e,n,i,s)},r.getErrors=function(e,n){var i=xe(e,n);return this._mutator.getErrors(this._dataID,i)},r.setValue__UNSAFE=function(e,n,i,s){var o=xe(n,i);return this._mutator.setValue(this._dataID,o,e),s!=null&&(s.length===0?this._mutator.setErrors(this._dataID,o):this._mutator.setErrors(this._dataID,o,s)),this},r.getLinkedRecord=function(e,n){var i=xe(e,n),s=this._mutator.getLinkedRecordID(this._dataID,i);return s!=null?this._source.get(s):s},r.setLinkedRecord=function(e,n,i){e instanceof t||ar(!1);var s=xe(n,i),o=e.getDataID();return this._mutator.setLinkedRecordID(this._dataID,s,o),this},r.getOrCreateLinkedRecord=function(e,n,i){var s=this.getLinkedRecord(e,i);if(!s){var o,l=xe(e,i),u=Lm(this.getDataID(),l);s=(o=this._source.get(u))!==null&&o!==void 0?o:this._source.create(u,n),this.setLinkedRecord(s,e,i)}return s},r.getLinkedRecords=function(e,n){var i=this,s=xe(e,n),o=this._mutator.getLinkedRecordIDs(this._dataID,s);return o==null?o:o.map(function(l){return l!=null?i._source.get(l):l})},r.setLinkedRecords=function(e,n,i){Array.isArray(e)||ar(!1);var s=xe(n,i),o=e.map(function(l){return l&&l.getDataID()});return this._mutator.setLinkedRecordIDs(this._dataID,s,o),this},r.invalidateRecord=function(){this._source.markIDForInvalidation(this._dataID)},t}();function ou(t){return t==null||typeof t!="object"||Array.isArray(t)&&t.every(ou)}var Um=qm,Vm=ue,lu=Ur,Sn=lu.EXISTENT,os=lu.NONEXISTENT,uu=W,Tn=uu.ROOT_ID,ls=uu.ROOT_TYPE,Hm=iu,Bm=Hm.readUpdatableFragment,jm=su,Km=jm.readUpdatableQuery,Wm=Um,ir=D,Gm=function(){function t(a,e,n,i){this.__mutator=a,this._handlerProvider=n||null,this._proxies={},this._getDataID=e,this._invalidatedStore=!1,this._idsMarkedForInvalidation=new Set,this._missingFieldHandlers=i}var r=t.prototype;return r.publishSource=function(e,n){var i=this,s=e.getRecordIDs();s.forEach(function(o){var l=e.getStatus(o);if(l===Sn){var u=e.get(o);u&&(i.__mutator.getStatus(o)!==Sn&&i.create(o,Vm.getType(u)),i.__mutator.copyFieldsFromRecord(u,o))}else l===os&&i.delete(o)}),n&&n.length&&n.forEach(function(o){var l=i._handlerProvider&&i._handlerProvider(o.handle);l||ir(!1),l.update(i,o)})},r.create=function(e,n){this.__mutator.create(e,n),delete this._proxies[e];var i=this.get(e);return i||ir(!1),i},r.delete=function(e){e===Tn&&ir(!1),delete this._proxies[e],this.__mutator.delete(e)},r.get=function(e){if(!this._proxies.hasOwnProperty(e)){var n=this.__mutator.getStatus(e);n===Sn?this._proxies[e]=new Wm(this,this.__mutator,e):this._proxies[e]=n===os?null:void 0}return this._proxies[e]},r.getRoot=function(){var e=this.get(Tn);return e||(e=this.create(Tn,ls)),e&&e.getType()===ls||ir(!1),e},r.invalidateStore=function(){this._invalidatedStore=!0},r.isStoreMarkedForInvalidation=function(){return this._invalidatedStore},r.markIDForInvalidation=function(e){this._idsMarkedForInvalidation.add(e)},r.getIDsMarkedForInvalidation=function(){return this._idsMarkedForInvalidation},r.readUpdatableQuery=function(e,n){return Km(e,n,this,this._missingFieldHandlers)},r.readUpdatableFragment=function(e,n){return Bm(e,n,this,this._missingFieldHandlers)},t}(),cu=Gm,du=W,zm=du.ROOT_TYPE,us=du.getStorageKey,Ym=iu,Qm=Ym.readUpdatableFragment,Xm=su,Jm=Xm.readUpdatableQuery,cs=D,Zm=function(){function t(a,e,n,i){this.__mutator=a,this.__recordSource=e,this._readSelector=n,this._missingFieldHandlers=i}var r=t.prototype;return r.create=function(e,n){return this.__recordSource.create(e,n)},r.delete=function(e){this.__recordSource.delete(e)},r.get=function(e){return this.__recordSource.get(e)},r.getRoot=function(){return this.__recordSource.getRoot()},r.getOperationRoot=function(){var e=this.__recordSource.get(this._readSelector.dataID);return e||(e=this.__recordSource.create(this._readSelector.dataID,zm)),e},r._getRootField=function(e,n,i){var s=e.node.selections.find(function(o){return o.kind==="LinkedField"&&o.name===n||o.kind==="RequiredField"&&o.field.name===n});return s&&s.kind==="RequiredField"&&(s=s.field),s&&s.kind==="LinkedField"||cs(!1),s.plural!==i&&cs(!1),s},r.getRootField=function(e){var n=this._getRootField(this._readSelector,e,!1),i=us(n,this._readSelector.variables);return this.getOperationRoot().getLinkedRecord(i)},r.getPluralRootField=function(e){var n=this._getRootField(this._readSelector,e,!0),i=us(n,this._readSelector.variables);return this.getOperationRoot().getLinkedRecords(i)},r.invalidateStore=function(){this.__recordSource.invalidateStore()},r.readUpdatableQuery=function(e,n){return Jm(e,n,this,this._missingFieldHandlers)},r.readUpdatableFragment=function(e,n){return Qm(e,n,this,this._missingFieldHandlers)},t}(),ey=Zm,ty=Ue,ry=ty.RELAY_LIVE_RESOLVER,ds=D,ny=function(){function t(){}var r=t.prototype;return r.readFromCacheOrEvaluate=function(e,n,i,s,o){n.kind===ry&&ds(!1);var l=s(),u=l.resolverResult,c=l.snapshot,d=l.error;return[u,void 0,d,c,void 0,void 0]},r.invalidateDataIDs=function(e){},r.ensureClientRecord=function(e,n){ds(!1)},r.notifyUpdatedSubscribers=function(e){},t}(),ay={NoopResolverCache:ny},Gt=V.default,fs=Gt(ge),iy=Gt(Qe),sy=Gt(ja),Ct=Gt(ie),hs=Gt(yt),oy=["message"],ly=Mr,uy=ly.isSuspenseSentinel,cy=Ve,oe=ue,Ie=W,dy=Ie.CLIENT_EDGE_TRAVERSAL_PATH,fy=Ie.FRAGMENT_OWNER_KEY,hy=Ie.FRAGMENT_PROP_NAME_KEY,sr=Ie.FRAGMENTS_KEY,or=Ie.ID_KEY,gy=Ie.MODULE_COMPONENT_KEY,py=Ie.ROOT_ID,br=Ie.getArgumentValues,vy=Ie.getModuleComponentKey,lr=Ie.getStorageKey,_y=ay,my=_y.NoopResolverCache,fu=Oa,yy=fu.RESOLVER_FRAGMENT_ERRORED_SENTINEL,Ey=fu.withResolverContext,by=Hr,Ry=by.generateTypeID,z=D;function hu(t,r,a,e){var n=new Sy(t,r,a??new my,e);return n.read()}var Sy=function(){function t(a,e,n,i){var s,o;this._clientEdgeTraversalPath=(s=e.clientEdgeTraversalPath)!==null&&s!==void 0&&s.length?(0,hs.default)(e.clientEdgeTraversalPath):[],this._missingClientEdges=[],this._missingLiveResolverFields=[],this._isMissingData=!1,this._isWithinUnmatchedTypeRefinement=!1,this._errorResponseFields=null,this._owner=e.owner,this._useExecTimeResolvers=(o=this._owner.node.operation.use_exec_time_resolvers)!==null&&o!==void 0?o:!1,this._recordSource=a,this._seenRecords=new Set,this._selector=e,this._variables=e.variables,this._resolverCache=n,this._fragmentName=e.node.name,this._updatedDataIDs=new Set,this._resolverContext=i}var r=t.prototype;return r.read=function(){var e,n=this._selector,i=n.node,s=n.dataID,o=n.isWithinUnmatchedTypeRefinement,l=i.abstractKey,u=this._recordSource.get(s),c=!o;if(c&&l==null&&u!=null&&(this._recordMatchesTypeCondition(u,i.type)||(c=!1)),c&&l!=null&&u!=null){var d=this._implementsInterface(u,l);d===!1&&(c=!1)}this._isWithinUnmatchedTypeRefinement=!c;var f=this._traverse(i,s,null),h=(e=this._selector.node.metadata)===null||e===void 0?void 0:e.catchTo;return h!=null&&(f=this._catchErrors(f,h,null)),this._updatedDataIDs.size>0&&(this._resolverCache.notifyUpdatedSubscribers(this._updatedDataIDs),this._updatedDataIDs.clear()),{data:f,isMissingData:this._isMissingData&&c,missingClientEdges:this._missingClientEdges.length?this._missingClientEdges:null,missingLiveResolverFields:this._missingLiveResolverFields,seenRecords:this._seenRecords,selector:this._selector,errorResponseFields:this._errorResponseFields}},r._maybeAddErrorResponseFields=function(e,n){var i=oe.getErrors(e,n);if(i!=null){var s=this._fragmentName;this._errorResponseFields==null&&(this._errorResponseFields=[]);var o=(0,Ct.default)(i),l;try{for(o.s();!(l=o.n()).done;){var u,c,d,f=l.value;this._errorResponseFields.push({kind:"relay_field_payload.error",owner:s,fieldPath:((u=f.path)!==null&&u!==void 0?u:[]).join("."),error:f,shouldThrow:(c=(d=this._selector.node.metadata)===null||d===void 0?void 0:d.throwOnFieldError)!==null&&c!==void 0?c:!1,handled:!1})}}catch(h){o.e(h)}finally{o.f()}}},r._markDataAsMissing=function(e){var n,i;if(!this._isWithinUnmatchedTypeRefinement){this._errorResponseFields==null&&(this._errorResponseFields=[]);var s=this._fragmentName;if(this._errorResponseFields.push((n=(i=this._selector.node.metadata)===null||i===void 0?void 0:i.throwOnFieldError)!==null&&n!==void 0&&n?{kind:"missing_expected_data.throw",owner:s,fieldPath:e,handled:!1}:{kind:"missing_expected_data.log",owner:s,fieldPath:e}),this._isMissingData=!0,this._clientEdgeTraversalPath.length){var o=this._clientEdgeTraversalPath[this._clientEdgeTraversalPath.length-1];o!==null&&this._missingClientEdges.push({request:o.readerClientEdge.operation,clientEdgeDestinationID:o.clientEdgeDestinationID})}}},r._traverse=function(e,n,i){var s=this._recordSource.get(n);if(this._seenRecords.add(n),s==null)return s===void 0&&this._markDataAsMissing("<record>"),s;var o=i||{},l=this._traverseSelections(e.selections,s,o);return l?o:null},r._getVariableValue=function(e){return this._variables.hasOwnProperty(e)||z(!1),this._variables[e]},r._maybeReportUnexpectedNull=function(e){if(e.action!=="NONE"){var n=this._fragmentName;this._errorResponseFields==null&&(this._errorResponseFields=[]);var i;if(e.field.linkedField!=null){var s;i=(s=e.field.linkedField.alias)!==null&&s!==void 0?s:e.field.linkedField.name}else{var o;i=(o=e.field.alias)!==null&&o!==void 0?o:e.field.name}switch(e.action){case"THROW":this._errorResponseFields.push({kind:"missing_required_field.throw",fieldPath:i,owner:n,handled:!1});return;case"LOG":this._errorResponseFields.push({kind:"missing_required_field.log",fieldPath:i,owner:n});return;default:e.action}}},r._handleRequiredFieldValue=function(e,n){return n==null?(this._maybeReportUnexpectedNull(e),!1):!0},r._catchErrors=function(e,n,i){var s=e;switch(n){case"RESULT":s=this._asResult(e);break;case"NULL":this._errorResponseFields!=null&&this._errorResponseFields.length>0&&(s=null);break}var o=this._errorResponseFields;if(this._errorResponseFields=i,o!=null){this._errorResponseFields==null&&(this._errorResponseFields=[]);for(var l=0;l<o.length;l++)this._errorResponseFields.push(gs(o[l]))}return s},r._asResult=function(e){if(this._errorResponseFields==null||this._errorResponseFields.length===0)return{ok:!0,value:e};var n=this._errorResponseFields.map(function(i){switch(i.kind){case"relay_field_payload.error":var s=i.error;s.message;var o=(0,sy.default)(s,oy);return o;case"missing_expected_data.throw":case"missing_expected_data.log":return{path:i.fieldPath.split(".")};case"relay_resolver.error":return{message:"Relay: Error in resolver for field at ".concat(i.fieldPath," in ").concat(i.owner)};case"missing_required_field.throw":return{message:"Relay: Missing @required value at path '".concat(i.fieldPath,"' in '").concat(i.owner,"'.")};case"missing_required_field.log":return null;default:i.kind,z(!1)}}).filter(Boolean);return{ok:!1,errors:n}},r._traverseSelections=function(e,n,i){for(var s=0;s<e.length;s++){var o=e[s];switch(o.kind){case"RequiredField":var l=this._readClientSideDirectiveField(o,n,i);if(!this._handleRequiredFieldValue(o,l))return!1;break;case"CatchField":{var u,c,d,f=this._errorResponseFields;this._errorResponseFields=null;var h=this._readClientSideDirectiveField(o,n,i),g=(u=(c=o.field)===null||c===void 0?void 0:c.backingField)!==null&&u!==void 0?u:o.field,p=(d=g==null?void 0:g.alias)!==null&&d!==void 0?d:g==null?void 0:g.name;p==null&&z(!1),i[p]=this._catchErrors(h,o.to,f);break}case"ScalarField":this._readScalar(o,n,i);break;case"LinkedField":o.plural?this._readPluralLink(o,n,i):this._readLink(o,n,i);break;case"Condition":var v=!!this._getVariableValue(o.condition);if(v===o.passingValue){var y=this._traverseSelections(o.selections,n,i);if(!y)return!1}break;case"InlineFragment":{var b=this._readInlineFragment(o,n,i,!1);if(b===!1)return!1;break}case"RelayLiveResolver":case"RelayResolver":{this._useExecTimeResolvers?this._readScalar(o,n,i):this._readResolverField(o,n,i);break}case"FragmentSpread":this._createFragmentPointer(o,n,i);break;case"AliasedInlineFragmentSpread":{this._readAliasedInlineFragment(o,n,i);break}case"ModuleImport":this._readModuleImport(o,n,i);break;case"InlineDataFragmentSpread":this._createInlineDataOrResolverFragmentPointer(o,n,i);break;case"Defer":case"ClientExtension":{var S=this._isMissingData,R=this._missingClientEdges.length;this._clientEdgeTraversalPath.push(null);var A=this._traverseSelections(o.selections,n,i);if(this._isMissingData=S||this._missingClientEdges.length>R||this._missingLiveResolverFields.length>0,this._clientEdgeTraversalPath.pop(),!A)return!1;break}case"Stream":{var I=this._traverseSelections(o.selections,n,i);if(!I)return!1;break}case"ActorChange":this._readActorChange(o,n,i);break;case"ClientEdgeToClientObject":case"ClientEdgeToServerObject":if(this._useExecTimeResolvers&&(o.backingField.kind==="RelayResolver"||o.backingField.kind==="RelayLiveResolver")){var T=o.linkedField;T.plural?this._readPluralLink(T,n,i):this._readLink(T,n,i)}else this._readClientEdge(o,n,i);break;default:z(!1)}}return!0},r._readClientSideDirectiveField=function(e,n,i){switch(e.field.kind){case"ScalarField":return this._readScalar(e.field,n,i);case"LinkedField":return e.field.plural?this._readPluralLink(e.field,n,i):this._readLink(e.field,n,i);case"RelayResolver":return this._readResolverField(e.field,n,i);case"RelayLiveResolver":return this._readResolverField(e.field,n,i);case"ClientEdgeToClientObject":case"ClientEdgeToServerObject":return this._readClientEdge(e.field,n,i);case"AliasedInlineFragmentSpread":return this._readAliasedInlineFragment(e.field,n,i);default:e.field.kind,z(!1)}},r._readResolverField=function(e,n,i){var s,o=oe.getDataID(n),l=this._errorResponseFields;this._errorResponseFields=null;var u=this._readResolverFieldImpl(e,o),c=(s=e.alias)!==null&&s!==void 0?s:e.name;return this._prependPreviousErrors(l,c),i[c]=u,u},r._readResolverFieldImpl=function(e,n){var i=this,s=e.fragment,o,l=function(b){return o!=null?{data:o.data,isMissingData:o.isMissingData,errorResponseFields:o.errorResponseFields}:(o=hu(i._recordSource,b,i._resolverCache),{data:o.data,isMissingData:o.isMissingData,errorResponseFields:o.errorResponseFields})},u=function(){if(s!=null){var b={__id:n,__fragmentOwner:i._owner,__fragments:(0,iy.default)({},s.name,s.args?br(s.args,i._variables):{})},S={getDataForResolverFragment:l};return Ey(S,function(){var T=ps(e,i._variables,b,i._resolverContext),C=T[0],w=T[1];return{resolverResult:C,snapshot:o,error:w}})}else{var R=ps(e,i._variables,null,i._resolverContext),A=R[0],I=R[1];return{resolverResult:A,snapshot:void 0,error:I}}},c=this._resolverCache.readFromCacheOrEvaluate(n,e,this._variables,u,l),d=c[0],f=c[1],h=c[2],g=c[3],p=c[4],v=c[5];return this._propagateResolverMetadata(e.path,g,h,f,p,v),d},r._propagateResolverMetadata=function(e,n,i,s,o,l){if(n!=null){if(n.missingClientEdges!=null){var u=(0,Ct.default)(n.missingClientEdges),c;try{for(u.s();!(c=u.n()).done;){var d=c.value;this._missingClientEdges.push(d)}}catch(w){u.e(w)}finally{u.f()}}if(n.missingLiveResolverFields!=null){this._isMissingData=this._isMissingData||n.missingLiveResolverFields.length>0;var f=(0,Ct.default)(n.missingLiveResolverFields),h;try{for(f.s();!(h=f.n()).done;){var g=h.value;this._missingLiveResolverFields.push(g)}}catch(w){f.e(w)}finally{f.f()}}if(n.errorResponseFields!=null){this._errorResponseFields==null&&(this._errorResponseFields=[]);var p=(0,Ct.default)(n.errorResponseFields),v;try{for(p.s();!(v=p.n()).done;){var y,b=v.value;((y=this._selector.node.metadata)===null||y===void 0?void 0:y.throwOnFieldError)===!0?this._errorResponseFields.push(b):this._errorResponseFields.push(gs(b))}}catch(w){p.e(w)}finally{p.f()}}this._isMissingData=this._isMissingData||n.isMissingData}if(i){var S,R,A={kind:"relay_resolver.error",fieldPath:e,owner:this._fragmentName,error:i,shouldThrow:(S=(R=this._selector.node.metadata)===null||R===void 0?void 0:R.throwOnFieldError)!==null&&S!==void 0?S:!1,handled:!1};this._errorResponseFields==null?this._errorResponseFields=[A]:this._errorResponseFields.push(A)}if(s!=null&&this._seenRecords.add(s),o!=null&&(this._isMissingData=!0,this._missingLiveResolverFields.push(o)),l!=null){var I=(0,Ct.default)(l),T;try{for(I.s();!(T=I.n()).done;){var C=T.value;this._updatedDataIDs.add(C)}}catch(w){I.e(w)}finally{I.f()}}},r._readClientEdge=function(e,n,i){var s=this,o,l=e.backingField;l.kind==="ClientExtension"&&z(!1);var u=(o=l.alias)!==null&&o!==void 0?o:l.name,c={};this._traverseSelections([l],n,c);var d=c[u];if(d==null||uy(d))return i[u]=d,d;if(e.linkedField.plural){Array.isArray(d)||z(!1);var f;e.kind!=="ClientEdgeToClientObject"&&z(!1),e.backingField.normalizationInfo==null?f=d.map(function(w){var P,H=(P=e.concreteType)!==null&&P!==void 0?P:w.__typename;typeof H!="string"&&z(!1);var K=In(w,l.path,s._owner.identifier),re=s._resolverCache.ensureClientRecord(K,H),ce=e.modelResolvers;if(ce!=null){var F=ce[H];F===void 0&&z(!1);var L=s._readResolverFieldImpl(F,re);return L!=null?re:null}return re}):f=d.map(function(w){return In(w,l.path,s._owner.identifier)}),this._clientEdgeTraversalPath.push(null);var h=this._readLinkedIds(e.linkedField,f,n,i);return this._clientEdgeTraversalPath.pop(),i[u]=h,h}else{var g,p=In(d,l.path,this._owner.identifier),v,y=(g=e.concreteType)!==null&&g!==void 0?g:d.__typename,b;e.kind==="ClientEdgeToClientObject"?e.backingField.normalizationInfo==null?(typeof y!="string"&&z(!1),v=this._resolverCache.ensureClientRecord(p,y),b=null):(v=p,b=null):(v=p,b={readerClientEdge:e,clientEdgeDestinationID:p});var S=e.modelResolvers;if(S!=null){typeof y!="string"&&z(!1);var R=S[y];R===void 0&&z(!1);var A=this._readResolverFieldImpl(R,v);if(A==null)return i[u]=null,null}this._clientEdgeTraversalPath.push(b);var I=i[u];I==null||typeof I=="object"||z(!1);var T=this._errorResponseFields;this._errorResponseFields=null;var C=this._traverse(e.linkedField,v,I);return this._prependPreviousErrors(T,u),this._clientEdgeTraversalPath.pop(),i[u]=C,C}},r._readScalar=function(e,n,i){var s,o=(s=e.alias)!==null&&s!==void 0?s:e.name,l=lr(e,this._variables),u=oe.getValue(n,l);return u===null?this._maybeAddErrorResponseFields(n,l):u===void 0&&this._markDataAsMissing(o),i[o]=u,u},r._readLink=function(e,n,i){var s,o=(s=e.alias)!==null&&s!==void 0?s:e.name,l=lr(e,this._variables),u=oe.getLinkedRecordID(n,l);if(u==null)return i[o]=u,u===null?this._maybeAddErrorResponseFields(n,l):u===void 0&&this._markDataAsMissing(o),u;var c=i[o];c==null||typeof c=="object"||z(!1);var d=this._errorResponseFields;this._errorResponseFields=null;var f=this._traverse(e,u,c);return this._prependPreviousErrors(d,o),i[o]=f,f},r._prependPreviousErrors=function(e,n){if(this._errorResponseFields!=null){for(var i=0;i<this._errorResponseFields.length;i++){var s=this._errorResponseFields[i];s.owner===this._fragmentName&&(s.kind==="missing_expected_data.throw"||s.kind==="missing_expected_data.log"||s.kind==="missing_required_field.throw"||s.kind==="missing_required_field.log")&&(s.fieldPath="".concat(n,".").concat(s.fieldPath))}if(e!=null){for(var o=this._errorResponseFields.length-1;o>=0;o--)e.push(this._errorResponseFields[o]);this._errorResponseFields=e}}else this._errorResponseFields=e},r._readActorChange=function(e,n,i){var s,o=(s=e.alias)!==null&&s!==void 0?s:e.name,l=lr(e,this._variables),u=oe.getActorLinkedRecordID(n,l);if(u==null)return i[o]=u,u===void 0?this._markDataAsMissing(o):u===null&&this._maybeAddErrorResponseFields(n,l),i[o];var c=u[0],d=u[1],f={};return this._createFragmentPointer(e.fragmentSpread,oe.fromObject({__id:d}),f),i[o]={__fragmentRef:f,__viewer:c},i[o]},r._readPluralLink=function(e,n,i){var s=lr(e,this._variables),o=oe.getLinkedRecordIDs(n,s);return o===null&&this._maybeAddErrorResponseFields(n,s),this._readLinkedIds(e,o,n,i)},r._readLinkedIds=function(e,n,i,s){var o=this,l,u=(l=e.alias)!==null&&l!==void 0?l:e.name;if(n==null)return s[u]=n,n===void 0&&this._markDataAsMissing(u),n;var c=s[u];c==null||Array.isArray(c)||z(!1);var d=this._errorResponseFields;this._errorResponseFields=null;var f=c||[];return n.forEach(function(h,g){if(h==null){h===void 0&&o._markDataAsMissing(String(g)),f[g]=h;return}var p=f[g];p==null||typeof p=="object"||z(!1);var v=o._errorResponseFields;o._errorResponseFields=null,f[g]=o._traverse(e,h,p),o._prependPreviousErrors(v,g)}),this._prependPreviousErrors(d,u),s[u]=f,f},r._readModuleImport=function(e,n,i){var s,o=vy(e.documentName),l=(s=e.componentModuleProvider)!==null&&s!==void 0?s:oe.getValue(n,o);if(l==null){l===void 0&&this._markDataAsMissing("<module-import>");return}this._createFragmentPointer({kind:"FragmentSpread",name:e.fragmentName,args:e.args},n,i),i[hy]=e.fragmentPropName,i[gy]=l},r._readAliasedInlineFragment=function(e,n,i){var s=this._errorResponseFields;this._errorResponseFields=null;var o=this._readInlineFragment(e.fragment,n,{},!0);this._prependPreviousErrors(s,e.name),o===!1&&(o=null),i[e.name]=o},r._readInlineFragment=function(e,n,i,s){if(e.type==null){var o=this._traverseSelections(e.selections,n,i);return o===!1?!1:i}var l=e.abstractKey;if(l==null)if(this._recordMatchesTypeCondition(n,e.type)){var o=this._traverseSelections(e.selections,n,i);if(!o)return!1}else return null;else{var u=this._implementsInterface(n,l);if(u===!1&&s)return null;var c=this._isMissingData,d=this._isWithinUnmatchedTypeRefinement;this._isWithinUnmatchedTypeRefinement=d||u===!1;var f=this._traverseSelections(e.selections,n,i);if(this._isWithinUnmatchedTypeRefinement=d,u===!1)return this._isMissingData=c,null;if(u==null)return;if(f===!1)return!1}return i},r._recordMatchesTypeCondition=function(e,n){var i=oe.getType(e);return i!=null&&i===n||oe.getDataID(e)===py},r._createFragmentPointer=function(e,n,i){var s=i[sr];s==null&&(s=i[sr]={}),typeof s=="object"&&s!=null||z(!1),i[or]==null&&(i[or]=oe.getDataID(n)),s[e.name]=br(e.args,this._variables,this._isWithinUnmatchedTypeRefinement),i[fy]=this._owner,this._clientEdgeTraversalPath.length>0&&this._clientEdgeTraversalPath[this._clientEdgeTraversalPath.length-1]!==null&&(i[dy]=(0,hs.default)(this._clientEdgeTraversalPath))},r._createInlineDataOrResolverFragmentPointer=function(e,n,i){var s=i[sr];s==null&&(s=i[sr]={}),typeof s=="object"&&s!=null||z(!1),i[or]==null&&(i[or]=oe.getDataID(n));var o={},l=this._fragmentName;this._fragmentName=e.name;var u=this._variables,c=e.args?br(e.args,this._variables):{};this._variables=cy.getFragmentVariables(e,this._owner.variables,c),this._traverseSelections(e.selections,n,o),this._variables=u,this._fragmentName=l,s[e.name]=o},r._implementsInterface=function(e,n){var i=oe.getType(e),s=this._recordSource.get(Ry(i)),o=s!=null?oe.getValue(s,n):null;return o==null&&this._markDataAsMissing("<abstract-type-hint>"),o},t}();function gs(t){switch(t.kind){case"missing_expected_data.throw":case"missing_required_field.throw":case"relay_field_payload.error":case"relay_resolver.error":return(0,fs.default)((0,fs.default)({},t),{},{handled:!0});case"missing_expected_data.log":case"missing_required_field.log":return t;default:t.kind,z(!1)}}function ps(t,r,a,e){var n=typeof t.resolverModule=="function"?t.resolverModule:t.resolverModule.default,i=null,s=null;try{var o=[];t.fragment!=null&&o.push(a);var l=t.args?br(t.args,r):void 0;o.push(l),o.push(e),i=n.apply(null,o)}catch(u){i=null,u!==yy&&(s=u)}return[i,s]}function In(t,r,a){if(typeof t=="string")return t;if(typeof t=="object"&&t!=null&&typeof t.id=="string")return t.id;z(!1)}var ei={read:hu},An,Cn,wn=nu,kn=cu,vs=ey,Ty=ei,_s=tt,Dn=D,Fn=typeof Sr<"u"?Sr:typeof window<"u"?window:void 0,Nn=(An=Fn==null||(Cn=Fn.ErrorUtils)===null||Cn===void 0?void 0:Cn.applyWithGuard)!==null&&An!==void 0?An:function(t,r,a,e,n){return t.apply(r,a)},Iy=function(){function t(a,e,n,i){this._hasStoreSnapshot=!1,this._handlerProvider=e||null,this._pendingBackupRebase=!1,this._pendingData=new Set,this._pendingOptimisticUpdates=new Set,this._store=a,this._appliedOptimisticUpdates=new Set,this._gcHold=null,this._getDataID=n,this._missingFieldHandlers=i}var r=t.prototype;return r.applyUpdate=function(e){!this._appliedOptimisticUpdates.has(e)&&!this._pendingOptimisticUpdates.has(e)||Dn(!1),this._pendingOptimisticUpdates.add(e)},r.revertUpdate=function(e){this._pendingOptimisticUpdates.has(e)?this._pendingOptimisticUpdates.delete(e):this._appliedOptimisticUpdates.has(e)&&(this._pendingBackupRebase=!0,this._appliedOptimisticUpdates.delete(e))},r.revertAll=function(){this._pendingBackupRebase=!0,this._pendingOptimisticUpdates.clear(),this._appliedOptimisticUpdates.clear()},r.commitPayload=function(e,n,i){this._pendingBackupRebase=!0,this._pendingData.add({kind:"payload",operation:e,payload:n,updater:i})},r.commitUpdate=function(e){this._pendingBackupRebase=!0,this._pendingData.add({kind:"updater",updater:e})},r.commitSource=function(e){this._pendingBackupRebase=!0,this._pendingData.add({kind:"source",source:e})},r.run=function(e){var n=this._appliedOptimisticUpdates===0&&!!this._gcHold,i=!this._pendingBackupRebase&&this._pendingOptimisticUpdates.size===0&&!n;if(i)return[];this._pendingBackupRebase&&this._hasStoreSnapshot&&(this._store.restore(),this._hasStoreSnapshot=!1);var s=this._commitData();return(this._pendingOptimisticUpdates.size||this._pendingBackupRebase&&this._appliedOptimisticUpdates.size)&&(this._hasStoreSnapshot||(this._store.snapshot(),this._hasStoreSnapshot=!0),this._applyUpdates()),this._pendingBackupRebase=!1,this._appliedOptimisticUpdates.size>0?this._gcHold||(this._gcHold=this._store.holdGC()):this._gcHold&&(this._gcHold.dispose(),this._gcHold=null),this._store.notify(e,s)},r._publishSourceFromPayload=function(e){var n=this,i=e.payload,s=e.operation,o=e.updater,l=i.source,u=i.fieldPayloads,c=new wn(this._store.getSource(),l),d=new kn(c,this._getDataID,this._handlerProvider,this._missingFieldHandlers);if(u&&u.length&&u.forEach(function(v){var y=n._handlerProvider&&n._handlerProvider(v.handle);y||Dn(!1),y.update(d,v)}),o){var f=s.fragment;f==null&&Dn(!1);var h=new vs(c,d,f,this._missingFieldHandlers),g=ms(l,f);o(h,g)}var p=d.getIDsMarkedForInvalidation();return this._store.publish(l,p),d.isStoreMarkedForInvalidation()},r._commitData=function(){var e=this;if(!this._pendingData.size)return!1;var n=!1;return this._pendingData.forEach(function(i){if(i.kind==="payload"){var s=e._publishSourceFromPayload(i);n=n||s}else if(i.kind==="source"){var o=i.source;e._store.publish(o)}else{var l=i.updater,u=_s.create(),c=new wn(e._store.getSource(),u),d=new kn(c,e._getDataID,e._handlerProvider,e._missingFieldHandlers);Nn(l,null,[d],null,"RelayPublishQueue:commitData"),n=n||d.isStoreMarkedForInvalidation();var f=d.getIDsMarkedForInvalidation();e._store.publish(u,f)}}),this._pendingData.clear(),n},r._applyUpdates=function(){var e=this,n=_s.create(),i=new wn(this._store.getSource(),n),s=new kn(i,this._getDataID,this._handlerProvider,this._missingFieldHandlers),o=function(u){if(u.storeUpdater){var c=u.storeUpdater;Nn(c,null,[s],null,"RelayPublishQueue:applyUpdates")}else{var d=u.operation,f=u.payload,h=u.updater,g=f.source,p=f.fieldPayloads;if(g&&s.publishSource(g,p),h){var v;g&&(v=ms(g,d.fragment));var y=new vs(i,s,d.fragment,e._missingFieldHandlers);Nn(h,null,[y,v],null,"RelayPublishQueue:applyUpdates")}}};this._pendingBackupRebase&&this._appliedOptimisticUpdates.size&&this._appliedOptimisticUpdates.forEach(o),this._pendingOptimisticUpdates.size&&(this._pendingOptimisticUpdates.forEach(function(l){o(l),e._appliedOptimisticUpdates.add(l)}),this._pendingOptimisticUpdates.clear()),this._store.publish(n)},t}();function ms(t,r){var a=Ty.read(t,r).data;return a}var Ay=Iy,Cy=V.default,ys=Cy(ge),wy=yl,gu=Ya,Es=gu.INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE,ur=gu.assertInternalActorIdentifier,On=He,bs=S_,ky=Yl,Dy=w_,Fy=Xl,Ny=q_,Oy=Gl,xy=om,$y=Ay,Py=tt,pu=function(){function t(a){var e=this,n,i,s,o,l,u,c,d,f,h;this.configName=a.configName,this._treatMissingFieldsAsNull=a.treatMissingFieldsAsNull===!0;var g=a.operationLoader;this.__log=(n=a.log)!==null&&n!==void 0?n:My,this.relayFieldLogger=(i=a.relayFieldLogger)!==null&&i!==void 0?i:Ny,this._defaultRenderPolicy=(s=a.UNSTABLE_defaultRenderPolicy)!==null&&s!==void 0?s:"partial",this._operationLoader=g,this._operationExecutions=new Map,this._network=bs(this,a.network),this._getDataID=(o=a.getDataID)!==null&&o!==void 0?o:Fy,this._missingFieldHandlers=(l=a.missingFieldHandlers)!==null&&l!==void 0?l:[],this._publishQueue=new $y(a.store,(u=a.handlerProvider)!==null&&u!==void 0?u:wy,this._getDataID,this._missingFieldHandlers),this._scheduler=(c=a.scheduler)!==null&&c!==void 0?c:null,this._store=a.store,this.options=a.options,this._isServer=(d=a.isServer)!==null&&d!==void 0?d:!1,this._normalizeResponse=(f=a.normalizeResponse)!==null&&f!==void 0?f:Oy,this.__setNet=function(p){return e._network=bs(e,p)},this._operationTracker=(h=a.operationTracker)!==null&&h!==void 0?h:new ky,this._shouldProcessClientComponents=a.shouldProcessClientComponents,Dy(this)}var r=t.prototype;return r.getStore=function(){return this._store},r.getNetwork=function(){return this._network},r.getOperationTracker=function(){return this._operationTracker},r.getScheduler=function(){return this._scheduler},r.isRequestActive=function(e){var n=this._operationExecutions.get(e);return n==="active"},r.UNSTABLE_getDefaultRenderPolicy=function(){return this._defaultRenderPolicy},r.applyUpdate=function(e){var n=this,i=function(){n._scheduleUpdates(function(){n._publishQueue.revertUpdate(e),n._publishQueue.run()})};return this._scheduleUpdates(function(){n._publishQueue.applyUpdate(e),n._publishQueue.run()}),{dispose:i}},r.revertUpdate=function(e){var n=this;this._scheduleUpdates(function(){n._publishQueue.revertUpdate(e),n._publishQueue.run()})},r.replaceUpdate=function(e,n){var i=this;this._scheduleUpdates(function(){i._publishQueue.revertUpdate(e),i._publishQueue.applyUpdate(n),i._publishQueue.run()})},r.applyMutation=function(e){var n=this._execute({createSource:function(){return On.create(function(s){})},isClientPayload:!1,operation:e.operation,optimisticConfig:e,updater:null}).subscribe({});return{dispose:function(){return n.unsubscribe()}}},r.check=function(e){return this._missingFieldHandlers.length===0&&!Ly(e)?this._store.check(e):this._checkSelectorAndHandleMissingFields(e,this._missingFieldHandlers)},r.commitPayload=function(e,n){this._execute({createSource:function(){return On.from({data:n})},isClientPayload:!0,operation:e,optimisticConfig:null,updater:null}).subscribe({})},r.commitUpdate=function(e){var n=this;this._scheduleUpdates(function(){n._publishQueue.commitUpdate(e),n._publishQueue.run()})},r.lookup=function(e){return this._store.lookup(e)},r.subscribe=function(e,n){return this._store.subscribe(e,n)},r.retain=function(e){return this._store.retain(e)},r.isServer=function(){return this._isServer},r._checkSelectorAndHandleMissingFields=function(e,n){var i=this,s=Py.create(),o=this._store.getSource(),l=this._store.check(e,{handlers:n,defaultActorIdentifier:Es,getSourceForActor:function(c){return ur(c),o},getTargetForActor:function(c){return ur(c),s}});return s.size()>0&&this._scheduleUpdates(function(){i._publishQueue.commitSource(s),i._publishQueue.run()}),l},r._scheduleUpdates=function(e){var n=this._scheduler;n!=null?n.schedule(e):e()},r.execute=function(e){var n=this,i=e.operation;return this._execute({createSource:function(){return n.getNetwork().execute(i.request.node.params,i.request.variables,i.request.cacheConfig||{},null)},isClientPayload:!1,operation:i,optimisticConfig:null,updater:null})},r.executeSubscription=function(e){var n=this,i=e.operation,s=e.updater;return this._execute({createSource:function(){return n.getNetwork().execute(i.request.node.params,i.request.variables,i.request.cacheConfig||{},null)},isClientPayload:!1,operation:i,optimisticConfig:null,updater:s})},r.executeMutation=function(e){var n=this,i=e.operation,s=e.optimisticResponse,o=e.optimisticUpdater,l=e.updater,u=e.uploadables,c;return(s||o)&&(c={operation:i,response:s,updater:o}),this._execute({createSource:function(){return n.getNetwork().execute(i.request.node.params,i.request.variables,(0,ys.default)((0,ys.default)({},i.request.cacheConfig),{},{force:!0}),u)},isClientPayload:!1,operation:i,optimisticConfig:c,updater:l})},r.executeWithSource=function(e){var n=e.operation,i=e.source;return this._execute({createSource:function(){return i},isClientPayload:!1,operation:n,optimisticConfig:null,updater:null})},r.toJSON=function(){var e;return"RelayModernEnvironment(".concat((e=this.configName)!==null&&e!==void 0?e:"",")")},r._execute=function(e){var n=this,i=e.createSource,s=e.isClientPayload,o=e.operation,l=e.optimisticConfig,u=e.updater,c=this._publishQueue,d=this._store;return On.create(function(f){var h=xy.execute({actorIdentifier:Es,getDataID:n._getDataID,isClientPayload:s,log:n.__log,operation:o,operationExecutions:n._operationExecutions,operationLoader:n._operationLoader,operationTracker:n._operationTracker,optimisticConfig:l,getPublishQueue:function(p){return ur(p),c},scheduler:n._scheduler,shouldProcessClientComponents:n._shouldProcessClientComponents,sink:f,source:i(),getStore:function(p){return ur(p),d},treatMissingFieldsAsNull:n._treatMissingFieldsAsNull,updater:u,normalizeResponse:n._normalizeResponse});return function(){return h.cancel()}})},t}();function Ly(t){return t.root.node.kind==="Operation"&&t.root.node.clientAbstractTypes!=null}pu.prototype["@@RelayModernEnvironment"]=!0;function My(){}var qy=pu,Uy=Promise.resolve();function Vy(t){Uy.then(t).catch(Hy)}function Hy(t){setTimeout(function(){throw t},0)}var By=Vy,jy=Ue,Rs=jy.LINKED_FIELD,Ky=W,Wy=Ky.getHandleStorageKey,Gy=Kt,zy=D;function Yy(t,r,a){var e=r.find(function(i){return i.kind===Rs&&i.name===t.name&&i.alias===t.alias&&Gy(i.args,t.args)});e&&e.kind===Rs||zy(!1);var n=Wy(t,a);return{kind:"LinkedField",alias:e.alias,name:n,storageKey:n,args:null,concreteType:e.concreteType,plural:e.plural,selections:e.selections}}var vu=Yy,Qy=Ue,Ss=Qy.SCALAR_FIELD,Xy=W,Jy=Xy.getHandleStorageKey,Zy=Kt,eE=D;function tE(t,r,a){var e=r.find(function(i){return i.kind===Ss&&i.name===t.name&&i.alias===t.alias&&Zy(i.args,t.args)});e&&e.kind===Ss||eE(!1);var n=Jy(t,a);return{kind:"ScalarField",alias:e.alias,name:n,storageKey:n,args:null}}var rE=tE,nE=V.default,cr=nE(ie),aE=nu,iE=cu,sE=Ja,oE=Te,lE=oE.isClientID,uE=vu,cE=rE,dE=Ve,Ts=dE.getLocalVariables,Is=ue,_u=Ur,xn=_u.EXISTENT,fE=_u.UNKNOWN,ti=W,mu=Hr,hE=mu.TYPE_SCHEMA_TYPE,$n=mu.generateTypeID,wt=D,gE=ti.getModuleOperationKey,dr=ti.getStorageKey,Pn=ti.getArgumentValues;function pE(t,r,a,e,n,i,s,o,l){l!=null&&l({name:"store.datachecker.start",selector:e});var u=e.dataID,c=e.node,d=e.variables,f=new vE(t,r,a,d,n,i,s,o),h=f.check(c,u);return l!=null&&l({name:"store.datachecker.end",selector:e}),h}var vE=function(){function t(a,e,n,i,s,o,l,u){this._getSourceForActor=a,this._getTargetForActor=e,this._getDataID=l,this._source=a(n),this._mutatorRecordSourceProxyCache=new Map;var c=this._getMutatorAndRecordProxyForActor(n),d=c[0],f=c[1];this._mostRecentlyInvalidatedAt=null,this._handlers=s,this._mutator=d,this._operationLoader=o??null,this._recordSourceProxy=f,this._recordWasMissing=!1,this._variables=i,this._shouldProcessClientComponents=u}var r=t.prototype;return r._getMutatorAndRecordProxyForActor=function(e){var n=this._mutatorRecordSourceProxyCache.get(e);if(n==null){var i=this._getTargetForActor(e),s=new aE(this._getSourceForActor(e),i),o=new iE(s,this._getDataID,void 0,this._handlers);n=[s,o],this._mutatorRecordSourceProxyCache.set(e,n)}return n},r.check=function(e,n){return this._assignClientAbstractTypes(e),this._traverse(e,n),this._recordWasMissing===!0?{status:"missing",mostRecentlyInvalidatedAt:this._mostRecentlyInvalidatedAt}:{status:"available",mostRecentlyInvalidatedAt:this._mostRecentlyInvalidatedAt}},r._getVariableValue=function(e){return this._variables.hasOwnProperty(e)||wt(!1),this._variables[e]},r._handleMissing=function(){this._recordWasMissing=!0},r._handleMissingScalarField=function(e,n){if(!(e.name==="id"&&e.alias==null&&lE(n))){var i=e.args!=null?Pn(e.args,this._variables):{},s=(0,cr.default)(this._handlers),o;try{for(s.s();!(o=s.n()).done;){var l=o.value;if(l.kind==="scalar"){var u=l.handle(e,this._recordSourceProxy.get(n),i,this._recordSourceProxy);if(u!==void 0)return u}}}catch(c){s.e(c)}finally{s.f()}this._handleMissing()}},r._handleMissingLinkField=function(e,n){var i=e.args!=null?Pn(e.args,this._variables):{},s=(0,cr.default)(this._handlers),o;try{for(s.s();!(o=s.n()).done;){var l=o.value;if(l.kind==="linked"){var u=l.handle(e,this._recordSourceProxy.get(n),i,this._recordSourceProxy);if(u!==void 0&&(u===null||this._mutator.getStatus(u)===xn))return u}}}catch(c){s.e(c)}finally{s.f()}this._handleMissing()},r._handleMissingPluralLinkField=function(e,n){var i=this,s=e.args!=null?Pn(e.args,this._variables):{},o=(0,cr.default)(this._handlers),l;try{for(o.s();!(l=o.n()).done;){var u=l.value;if(u.kind==="pluralLinked"){var c=u.handle(e,this._recordSourceProxy.get(n),s,this._recordSourceProxy);if(c!=null){var d=c.every(function(f){return f!=null&&i._mutator.getStatus(f)===xn});if(d)return c}else if(c===null)return null}}}catch(f){o.e(f)}finally{o.f()}this._handleMissing()},r._traverse=function(e,n){var i=this._mutator.getStatus(n);if(i===fE&&this._handleMissing(),i===xn){var s=this._source.get(n),o=Is.getInvalidationEpoch(s);o!=null&&(this._mostRecentlyInvalidatedAt=this._mostRecentlyInvalidatedAt!=null?Math.max(this._mostRecentlyInvalidatedAt,o):o),this._traverseSelections(e.selections,n)}},r._traverseSelections=function(e,n){var i=this;e.forEach(function(s){switch(s.kind){case"ScalarField":i._checkScalar(s,n);break;case"LinkedField":s.plural?i._checkPluralLink(s,n):i._checkLink(s,n);break;case"ActorChange":i._checkActorChange(s.linkedField,n);break;case"Condition":var o=!!i._getVariableValue(s.condition);o===s.passingValue&&i._traverseSelections(s.selections,n);break;case"InlineFragment":{var l=s.abstractKey;if(l==null){var u=i._mutator.getType(n);u===s.type&&i._traverseSelections(s.selections,n)}else{var c=i._mutator.getType(n);c==null&&wt(!1);var d=$n(c),f=i._mutator.getValue(d,l);f===!0?i._traverseSelections(s.selections,n):f==null&&i._handleMissing()}break}case"LinkedHandle":{var h=uE(s,e,i._variables);h.plural?i._checkPluralLink(h,n):i._checkLink(h,n);break}case"ScalarHandle":{var g=cE(s,e,i._variables);i._checkScalar(g,n);break}case"ModuleImport":i._checkModuleImport(s,n);break;case"Defer":case"Stream":i._traverseSelections(s.selections,n);break;case"FragmentSpread":var p=i._variables;i._variables=Ts(i._variables,s.fragment.argumentDefinitions,s.args),i._traverseSelections(s.fragment.selections,n),i._variables=p;break;case"ClientExtension":var v=i._recordWasMissing;i._traverseSelections(s.selections,n),i._recordWasMissing=v;break;case"TypeDiscriminator":var y=s.abstractKey,b=i._mutator.getType(n);b==null&&wt(!1);var S=$n(b),R=i._mutator.getValue(S,y);R==null&&i._handleMissing();break;case"ClientComponent":if(i._shouldProcessClientComponents===!1)break;i._traverseSelections(s.fragment.selections,n);break;case"RelayResolver":i._checkResolver(s,n);break;case"RelayLiveResolver":i._checkResolver(s,n);break;case"ClientEdgeToClientObject":i._checkResolver(s.backingField,n);break;default:wt(!1)}})},r._checkResolver=function(e,n){e.fragment&&this._traverseSelections([e.fragment],n)},r._checkModuleImport=function(e,n){var i=this._operationLoader;i===null&&wt(!1);var s=gE(e.documentName),o=this._mutator.getValue(n,s);if(o==null){o===void 0&&this._handleMissing();return}var l=i.get(o);if(l!=null){var u=sE(l),c=this._variables;this._variables=Ts(this._variables,u.argumentDefinitions,e.args),this._traverse(u,n),this._variables=c}else this._handleMissing()},r._checkScalar=function(e,n){var i=dr(e,this._variables),s=this._mutator.getValue(n,i);s===void 0&&(s=this._handleMissingScalarField(e,n),s!==void 0&&this._mutator.setValue(n,i,s))},r._checkLink=function(e,n){var i=dr(e,this._variables),s=this._mutator.getLinkedRecordID(n,i);s===void 0&&(s=this._handleMissingLinkField(e,n),s!=null?this._mutator.setLinkedRecordID(n,i,s):s===null&&this._mutator.setValue(n,i,null)),s!=null&&this._traverse(e,s)},r._checkPluralLink=function(e,n){var i=this,s=dr(e,this._variables),o=this._mutator.getLinkedRecordIDs(n,s);o===void 0&&(o=this._handleMissingPluralLinkField(e,n),o!=null?this._mutator.setLinkedRecordIDs(n,s,o):o===null&&this._mutator.setValue(n,s,null)),o&&o.forEach(function(l){l!=null&&i._traverse(e,l)})},r._checkActorChange=function(e,n){var i=dr(e,this._variables),s=this._source.get(n),o=s!=null?Is.getActorLinkedRecordID(s,i):s;if(o==null)o===void 0&&this._handleMissing();else{var l=o[0],u=o[1],c=this._source,d=this._mutator,f=this._recordSourceProxy,h=this._getMutatorAndRecordProxyForActor(l),g=h[0],p=h[1];this._source=this._getSourceForActor(l),this._mutator=g,this._recordSourceProxy=p,this._assignClientAbstractTypes(e),this._traverse(e,u),this._source=c,this._mutator=d,this._recordSourceProxy=f}},r._assignClientAbstractTypes=function(e){var n=e.clientAbstractTypes;if(n!=null)for(var i=0,s=Object.keys(n);i<s.length;i++){var o=s[i],l=(0,cr.default)(n[o]),u;try{for(l.s();!(u=l.n()).done;){var c=u.value,d=$n(c);this._source.get(d)==null&&this._mutator.create(d,hE),this._mutator.getValue(d,o)==null&&this._mutator.setValue(d,o,!0)}}catch(f){l.e(f)}finally{l.f()}}},t}(),_E={check:pE},mE=function(r){typeof r=="object"&&r!=null&&(Array.isArray(r)||r.constructor===Object)&&Object.freeze(r)},yE=ue,EE=W,bE=EE.RELAY_RESOLVER_OUTPUT_TYPE_RECORD_IDS,RE=D;function SE(t){var r=yE.getValue(t,bE);return r==null?null:(r instanceof Set||RE(!1),r)}var yu=SE;function TE(t){return t!=null&&typeof t=="object"&&typeof t.read=="function"&&typeof t.subscribe=="function"}var IE=TE,AE=V.default,Se=AE(ie),CE=Lr,wE=Ue,As=wE.RELAY_LIVE_RESOLVER,kE=De,Cs=mE,Eu=Te,fr=Eu.generateClientID,Ln=Eu.generateClientObjectClientID,O=ue,DE=Ee,FE=DE.createNormalizationSelector,hr=tt,NE=Wl,OE=NE.normalize,Et=W,Mn=Et.RELAY_RESOLVER_ERROR_KEY,va=Et.RELAY_RESOLVER_INVALIDATION_KEY,xE=Et.RELAY_RESOLVER_OUTPUT_TYPE_RECORD_IDS,qn=Et.RELAY_RESOLVER_SNAPSHOT_KEY,Un=Et.RELAY_RESOLVER_VALUE_KEY,ws=Et.getStorageKey,$E=yu,PE=IE,LE=Mr,ks=LE.isSuspenseSentinel,Re=D,ri="__resolverLiveStateSubscription",gr="__resolverLiveStateValue",pr="__resolverLiveStateDirty",bu="__RELAY_RESOLVER__",ME="__relay_model_instance";function Vn(t,r,a){var e=t.get(r);e||(e=new Set,t.set(r,e)),e.add(a)}var qE=function(){function t(a,e){this._resolverIDToRecordIDs=new Map,this._recordIDToResolverIDs=new Map,this._getRecordSource=a,this._store=e,this._handlingBatch=!1,this._liveResolverBatchRecordSource=null}var r=t.prototype;return r.readFromCacheOrEvaluate=function(e,n,i,s,o){var l=this._getRecordSource(),u=$t(l,e),c=ws(n,i),d=O.getLinkedRecordID(u,c),f=d==null?null:l.get(d),h;if(f==null||this._isInvalid(f,o)){var g;f!=null&&Su(f),d=(g=d)!==null&&g!==void 0?g:fr(e,c),f=O.create(d,bu);var p=s();if(O.setValue(f,qn,p.snapshot),O.setValue(f,Mn,p.error),n.kind===As){if(p.resolverResult!=null){p.error!=null&&Re(!1);var v=p.resolverResult;h=this._setLiveStateValue(f,d,v,n,i)}}else h=this._setResolverValue(f,p.resolverResult,n,i);l.set(d,f);var y=$t(l,e),b=O.clone(y);if(O.setLinkedRecordID(b,c,d),l.set(e,b),n.fragment!=null){var S,R=ws(n.fragment,i),A=fr(e,R);Vn(this._resolverIDToRecordIDs,A,d),Vn(this._recordIDToResolverIDs,e,A);var I=(S=p.snapshot)===null||S===void 0?void 0:S.seenRecords;if(I!=null){var T=(0,Se.default)(I),C;try{for(T.s();!(C=T.n()).done;){var w=C.value;Vn(this._recordIDToResolverIDs,w,A)}}catch(k){T.e(k)}finally{T.f()}}}}else if(n.kind===As&&O.getValue(f,pr)){var P;d=(P=d)!==null&&P!==void 0?P:fr(e,c),f=O.clone(f);var H=O.getValue(f,gr);PE(H)||Re(!1),h=this._setLiveResolverValue(f,H,n,i),O.setValue(f,pr,!1),l.set(d,f)}var K=this._getResolverValue(f),re=O.getValue(f,qn),ce=O.getValue(f,Mn),F=null;if(ks(K)){var L;F=(L=d)!==null&&L!==void 0?L:fr(e,c)}return[K,d,ce,re,F,h]},r.getLiveResolverPromise=function(e){var n=this._getRecordSource(),i=n.get(e);i==null&&Re(!1);var s=O.getValue(i,gr);return new Promise(function(o){var l=s.subscribe(function(){l(),o()})})},r._setLiveStateValue=function(e,n,i,s,o){var l=this._makeLiveStateHandler(n),u=i.subscribe(l);O.setValue(e,gr,i);var c=this._setLiveResolverValue(e,i,s,o);return O.setValue(e,pr,!1),O.setValue(e,ri,u),c},r._makeLiveStateHandler=function(e){var n=this;return function(){var i=n._getRecordSource(),s=i.get(e);if(s&&O.hasValue(s,gr)){var o=O.clone(s);O.setValue(o,pr,!0),n._setLiveResolverUpdate(e,o)}}},r._setLiveResolverUpdate=function(e,n){if(this._handlingBatch)this._liveResolverBatchRecordSource==null&&(this._liveResolverBatchRecordSource=hr.create()),this._liveResolverBatchRecordSource.set(e,n);else{var i=hr.create();i.set(e,n),this._store.publish(i),this._store.notify()}},r.batchLiveStateUpdates=function(e){this._handlingBatch&&Re(!1),this._handlingBatch=!0;try{e()}finally{this._liveResolverBatchRecordSource!=null&&(this._store.publish(this._liveResolverBatchRecordSource),this._store.notify()),this._liveResolverBatchRecordSource=null,this._handlingBatch=!1}},r._setLiveResolverValue=function(e,n,i,s){var o=null,l=null;try{o=n.read()}catch(u){l=u}return O.setValue(e,Mn,l),this._setResolverValue(e,o,i,s)},r._setResolverValue=function(e,n,i,s){var o=i.normalizationInfo,l=null;if(n!=null&&o!=null&&!ks(n)){var u,c=$E(e),d=new Set,f=this._getRecordSource();if(o.plural){Array.isArray(n)||Re(!1),u=[];for(var h=hr.create(),g=0;g<n.length;g++){var p=n[g];if(p!=null){typeof p!="object"&&Re(!1);var v=Fs(o,p),y=Ln(v,O.getDataID(e),g),b=this._normalizeOutputTypeValue(y,p,s,o,[i.path,String(g)],v),S=(0,Se.default)(b.getRecordIDs()),R;try{for(S.s();!(R=S.n()).done;){var A=R.value;h.set(A,$t(b,A)),d.add(A)}}catch(K){S.e(K)}finally{S.f()}u.push(y)}}l=Ds(f,h,c)}else{typeof n!="object"&&Re(!1);var I=Fs(o,n),T=Ln(I,O.getDataID(e)),C=this._normalizeOutputTypeValue(T,n,s,o,[i.path],I),w=(0,Se.default)(C.getRecordIDs()),P;try{for(w.s();!(P=w.n()).done;){var H=P.value;d.add(H)}}catch(K){w.e(K)}finally{w.f()}u=T,l=Ds(f,C,c)}O.setValue(e,xE,d),Cs(u),O.setValue(e,Un,u)}else Cs(n),O.setValue(e,Un,n);return l},r.notifyUpdatedSubscribers=function(e){this._store.__notifyUpdatedSubscribers(e)},r._getResolverValue=function(e){return O.getValue(e,Un)},r.invalidateDataIDs=function(e){for(var n=this._getRecordSource(),i=new Set,s=Array.from(e);s.length;){var o=s.pop();i.add(o),e.add(o);var l=this._recordIDToResolverIDs.get(o);if(l!=null){var u=(0,Se.default)(l),c;try{for(u.s();!(c=u.n()).done;){var d=c.value;if(!i.has(d)){i.add(d);var f=this._resolverIDToRecordIDs.get(d);if(f==null)continue;var h=(0,Se.default)(f),g;try{for(h.s();!(g=h.n()).done;){var p=g.value;Ru(p,n),i.has(p)||(i.add(p),s.push(p))}}catch(v){h.e(v)}finally{h.f()}}}}catch(v){u.e(v)}finally{u.f()}}}},r._isInvalid=function(e,n){if(!O.getValue(e,va))return!1;var i=O.getValue(e,qn),s=i==null?void 0:i.data,o=i==null?void 0:i.selector;if(s==null||o==null)return!0;var l=n(o),u=l.data,c=CE(s,u);if(c!==s)return!0;if(kE.MARK_RESOLVER_VALUES_AS_CLEAN_AFTER_FRAGMENT_REREAD){var d=O.clone(e);O.setValue(d,va,!1);var f=this._getRecordSource();f.set(O.getDataID(e),d)}return!1},r._normalizeOutputTypeValue=function(e,n,i,s,o,l){var u=hr.create();switch(s.kind){case"OutputType":{var c=O.create(e,l);u.set(e,c);var d=FE(s.normalizationNode,e,i),f=this._store.__getNormalizationOptions(o);return OE(u,d,n,f).source}case"WeakModel":{var h=O.create(e,l);return O.setValue(h,ME,n),u.set(e,h),u}default:s.kind,Re(!1)}},r.ensureClientRecord=function(e,n){var i=Ln(n,e),s=this._getRecordSource();if(!s.has(i)){var o=O.create(i,n);O.setValue(o,"id",e),s.set(i,o)}return i},r.unsubscribeFromLiveResolverRecords=function(e){return HE(this._getRecordSource(),e)},r.invalidateResolverRecords=function(e){if(e.size!==0){var n=(0,Se.default)(e),i;try{for(n.s();!(i=n.n()).done;){var s=i.value,o=this._getRecordSource().get(s);o!=null&&ni(o)&&this._getRecordSource().delete(s)}}catch(l){n.e(l)}finally{n.f()}}},t}();function Ds(t,r,a){var e=new Set;if(a!=null){var n=(0,Se.default)(a),i;try{for(n.s();!(i=n.n()).done;){var s=i.value;r.has(s)||(e.add(s),t.remove(s))}}catch(h){n.e(h)}finally{n.f()}}var o=(0,Se.default)(r.getRecordIDs()),l;try{for(o.s();!(l=o.n()).done;){var u=l.value,c=$t(r,u);if(t.has(u)){var d=$t(t,u),f=O.update(d,c);f!==d&&(e.add(u),t.set(u,f),VE(d,t))}else t.set(u,c)}}catch(h){o.e(h)}finally{o.f()}return e}function UE(t){var r=new Set;return O.getFields(t).forEach(function(a){if(O.hasLinkedRecordID(t,a)){var e=O.getLinkedRecordID(t,a);e!=null&&r.add(e)}else if(O.hasLinkedRecordIDs(t,a)){var n;(n=O.getLinkedRecordIDs(t,a))===null||n===void 0||n.forEach(function(i){i!=null&&r.add(i)})}}),r}function Ru(t,r){var a=r.get(t);if(a){var e=O.clone(a);O.setValue(e,va,!0),r.set(t,e)}}function VE(t,r){var a=UE(t),e=(0,Se.default)(a),n;try{for(e.s();!(n=e.n()).done;){var i=n.value,s=r.get(i);s!=null&&ni(s)&&Ru(i,r)}}catch(o){e.e(o)}finally{e.f()}}function HE(t,r){if(r.size!==0){var a=(0,Se.default)(r),e;try{for(a.s();!(e=a.n()).done;){var n=e.value,i=t.get(n);i!=null&&ni(i)&&Su(i)}}catch(s){a.e(s)}finally{a.f()}}}function ni(t){return O.getType(t)===bu}function Su(t){var r=O.getValue(t,ri);r!=null&&r()}function $t(t,r){var a=t.get(r);return a==null&&Re(!1),a}function BE(t){return t}function Fs(t,r){var a,e=(a=t.concreteType)!==null&&a!==void 0?a:r.__typename;return e==null&&Re(!1),e}var jE={LiveResolverCache:qE,getUpdatedDataIDs:BE,RELAY_RESOLVER_LIVE_STATE_SUBSCRIPTION_KEY:ri},KE=V.default,WE=KE(ge),Tu=ue,Ns=tt,GE=D,Hn=Tu.fromObject(Object.freeze({__UNPUBLISH_RECORD_SENTINEL:!0})),Iu=function(){function t(a){this._base=a,this._sink=Ns.create()}var r=t.prototype;return r.has=function(e){if(this._sink.has(e)){var n=this._sink.get(e);return n!==Hn}else return this._base.has(e)},r.get=function(e){if(this._sink.has(e)){var n=this._sink.get(e);return n===Hn?void 0:n}else return this._base.get(e)},r.getStatus=function(e){var n=this.get(e);return n===void 0?"UNKNOWN":n===null?"NONEXISTENT":"EXISTENT"},r.clear=function(){this._base=Ns.create(),this._sink.clear()},r.delete=function(e){this._sink.delete(e)},r.remove=function(e){this._sink.set(e,Hn)},r.set=function(e,n){this._sink.set(e,n)},r.getRecordIDs=function(){return Object.keys(this.toJSON())},r.size=function(){return Object.keys(this.toJSON()).length},r.toJSON=function(){var e=this,n=(0,WE.default)({},this._base.toJSON());return this._sink.getRecordIDs().forEach(function(i){var s=e.get(i);s===void 0?delete n[i]:n[i]=Tu.toJSON(s)}),n},r.getOptimisticRecordIDs=function(){return new Set(this._sink.getRecordIDs())},t}();function zE(t){return new Iu(t)}function YE(t){return t instanceof Iu||GE(!1),t.getOptimisticRecordIDs()}var QE={create:zE,getOptimisticRecordIDs:YE},XE=V.default,Os=XE(ie),JE=Ja,ZE=vu,eb=yu,tb=Ve,xs=tb.getLocalVariables,Ae=ue,ai=W,rb=Hr,$s=rb.generateTypeID,Bn=D,jn=ai.getStorageKey,nb=ai.getModuleOperationKey;function ab(t,r,a,e,n){var i=r.dataID,s=r.node,o=r.variables,l=new ib(t,o,a,e,n);l.mark(s,i)}var ib=function(){function t(a,e,n,i,s){this._operationLoader=i??null,this._operationName=null,this._recordSource=a,this._references=n,this._variables=e,this._shouldProcessClientComponents=s}var r=t.prototype;return r.mark=function(e,n){(e.kind==="Operation"||e.kind==="SplitOperation")&&(this._operationName=e.name),this._traverse(e,n)},r._traverse=function(e,n){this._references.add(n);var i=this._recordSource.get(n);i!=null&&this._traverseSelections(e.selections,i)},r._getVariableValue=function(e){return this._variables.hasOwnProperty(e)||Bn(!1),this._variables[e]},r._traverseSelections=function(e,n){var i=this;e.forEach(function(s){switch(s.kind){case"ActorChange":i._traverseLink(s.linkedField,n);break;case"LinkedField":s.plural?i._traversePluralLink(s,n):i._traverseLink(s,n);break;case"Condition":var o=!!i._getVariableValue(s.condition);o===s.passingValue&&i._traverseSelections(s.selections,n);break;case"InlineFragment":if(s.abstractKey==null){var l=Ae.getType(n);(l!=null&&l===s.type||l===ai.ROOT_TYPE)&&i._traverseSelections(s.selections,n)}else{var u=Ae.getType(n),c=$s(u);i._references.add(c),i._traverseSelections(s.selections,n)}break;case"FragmentSpread":var d=i._variables;i._variables=xs(i._variables,s.fragment.argumentDefinitions,s.args),i._traverseSelections(s.fragment.selections,n),i._variables=d;break;case"LinkedHandle":var f=ZE(s,e,i._variables);f.plural?i._traversePluralLink(f,n):i._traverseLink(f,n);break;case"Defer":case"Stream":i._traverseSelections(s.selections,n);break;case"ScalarField":case"ScalarHandle":break;case"TypeDiscriminator":{var h=Ae.getType(n),g=$s(h);i._references.add(g);break}case"ModuleImport":i._traverseModuleImport(s,n);break;case"ClientExtension":i._traverseSelections(s.selections,n);break;case"ClientComponent":if(i._shouldProcessClientComponents===!1)break;i._traverseSelections(s.fragment.selections,n);break;case"RelayResolver":i._traverseResolverField(s,n);break;case"RelayLiveResolver":i._traverseResolverField(s,n);break;case"ClientEdgeToClientObject":i._traverseClientEdgeToClientObject(s,n);break;default:Bn(!1)}})},r._traverseClientEdgeToClientObject=function(e,n){var i=this._traverseResolverField(e.backingField,n);if(i!=null){var s=this._recordSource.get(i);if(s!=null)if(e.backingField.isOutputType){var o=eb(s);if(o!=null){var l=(0,Os.default)(o),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;this._references.add(c)}}catch(b){l.e(b)}finally{l.f()}}}else{var d=e.linkedField,f=d.concreteType;if(f==null)return;if(d.plural){var h=Ae.getResolverLinkedRecordIDs(s,f);if(h!=null){var g=(0,Os.default)(h),p;try{for(g.s();!(p=g.n()).done;){var v=p.value;v!=null&&this._traverse(d,v)}}catch(b){g.e(b)}finally{g.f()}}}else{var y=Ae.getResolverLinkedRecordID(s,f);y!=null&&this._traverse(d,y)}}}},r._traverseResolverField=function(e,n){var i=jn(e,this._variables),s=Ae.getLinkedRecordID(n,i);s!=null&&this._references.add(s);var o=e.fragment;return o!=null&&this._traverseSelections([o],n),s},r._traverseModuleImport=function(e,n){var i=this._operationLoader;i===null&&Bn(!1);var s=nb(e.documentName),o=Ae.getValue(n,s);if(o!=null){var l=i.get(o);if(l!=null){var u=JE(l),c=this._variables;this._variables=xs(this._variables,u.argumentDefinitions,e.args),this._traverseSelections(u.selections,n),this._variables=c}}},r._traverseLink=function(e,n){var i=jn(e,this._variables),s=Ae.getLinkedRecordID(n,i);s!=null&&this._traverse(e,s)},r._traversePluralLink=function(e,n){var i=this,s=jn(e,this._variables),o=Ae.getLinkedRecordIDs(n,s);o!=null&&o.forEach(function(l){l!=null&&i._traverse(e,l)})},t}(),sb={mark:ab},ob=Symbol.iterator;function lb(t,r){for(var a=t[ob](),e=a.next();!e.done;){var n=e.value;if(r.has(n))return!0;e=a.next()}return!1}var ub=lb,cb=W,db=cb.ROOT_ID,fb=Xa,hb=fb.VIEWER_ID,gb=Symbol.iterator;function pb(t,r){for(var a=t[gb](),e=a.next();!e.done;){var n=e.value;if(r.has(n)&&n!==db&&n!==hb)return!0;e=a.next()}return!1}var vb=pb,Ps=Lr,Ls=De,_b=ub,mb=vb,Ms=ei,yb=function(){function t(a,e,n){this._subscriptions=new Set,this.__log=a,this._resolverCache=e,this._resolverContext=n}var r=t.prototype;return r.subscribe=function(e,n){var i=this,s={backup:null,callback:n,snapshot:e,stale:!1},o=function(){i._subscriptions.delete(s)};return this._subscriptions.add(s),{dispose:o}},r.snapshotSubscriptions=function(e){var n=this;this._subscriptions.forEach(function(i){if(!i.stale){i.backup=i.snapshot;return}var s=i.snapshot,o=Ms.read(e,s.selector,n._resolverCache,n._resolverContext),l=Ps(s.data,o.data);o.data=l,i.backup=o})},r.restoreSubscriptions=function(){this._subscriptions.forEach(function(e){var n=e.backup;e.backup=null,n?(n.data!==e.snapshot.data&&(e.stale=!0),e.snapshot={data:e.snapshot.data,isMissingData:n.isMissingData,missingClientEdges:n.missingClientEdges,missingLiveResolverFields:n.missingLiveResolverFields,seenRecords:n.seenRecords,selector:n.selector,errorResponseFields:n.errorResponseFields}):e.stale=!0})},r.updateSubscriptions=function(e,n,i,s){var o=this,l=n.size!==0;this._subscriptions.forEach(function(u){var c=o._updateSubscription(e,u,n,l,s);c!=null&&i.push(c)})},r._updateSubscription=function(e,n,i,s,o){var l=n.backup,u=n.callback,c=n.snapshot,d=n.stale,f=s&&_b(c.seenRecords,i);if(!(!d&&!f)){var h=f||!l?Ms.read(e,c.selector,this._resolverCache,this._resolverContext):l,g=Ps(c.data,h.data);if(h={data:g,isMissingData:h.isMissingData,missingClientEdges:h.missingClientEdges,missingLiveResolverFields:h.missingLiveResolverFields,seenRecords:h.seenRecords,selector:h.selector,errorResponseFields:h.errorResponseFields},n.snapshot=h,n.stale=!1,h.data!==c.data)return this.__log&&Ls.ENABLE_NOTIFY_SUBSCRIPTION&&this.__log({name:"store.notify.subscription",sourceOperation:o,snapshot:c,nextSnapshot:h}),u(h),c.selector.owner;if(Ls.ENABLE_LOOSE_SUBSCRIPTION_ATTRIBUTION&&(d||mb(c.seenRecords,i)))return c.selector.owner}},r.size=function(){return this._subscriptions.size},t}(),Eb=yb,Au=V.default,qs=Au(ie),bb=Au(Qe),Cu=Ya,Rb=Cu.INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE,Us=Cu.assertInternalActorIdentifier,Sb=By,Tb=_E,Ib=Xl,ii=jE,Ab=ii.LiveResolverCache,Cb=ii.RELAY_RESOLVER_LIVE_STATE_SUBSCRIPTION_KEY,wb=ii.getUpdatedDataIDs,We=ue,Vs=QE,kb=ei,Db=sb,Fb=Eb,Nb=W,wu=W,Kn=wu.ROOT_ID,Ob=wu.ROOT_TYPE,Hs=D,xb=10,$b=function(){function t(a,e){var n=this,i,s,o,l,u,c,d;(0,bb.default)(this,"_gcStep",function(){n._gcRun&&(n._gcRun.next().done?n._gcRun=null:n._gcScheduler(n._gcStep))}),this._currentWriteEpoch=0,this._gcHoldCounter=0,this._gcReleaseBufferSize=(i=e==null?void 0:e.gcReleaseBufferSize)!==null&&i!==void 0?i:xb,this._gcRun=null,this._gcScheduler=(s=e==null?void 0:e.gcScheduler)!==null&&s!==void 0?s:Sb,this._getDataID=(o=e==null?void 0:e.getDataID)!==null&&o!==void 0?o:Ib,this._globalInvalidationEpoch=null,this._invalidationSubscriptions=new Set,this._invalidatedRecordIDs=new Set,this.__log=(l=e==null?void 0:e.log)!==null&&l!==void 0?l:null,this._queryCacheExpirationTime=e==null?void 0:e.queryCacheExpirationTime,this._operationLoader=(u=e==null?void 0:e.operationLoader)!==null&&u!==void 0?u:null,this._optimisticSource=null,this._recordSource=a,this._releaseBuffer=[],this._roots=new Map,this._shouldScheduleGC=!1,this._resolverCache=new Ab(function(){return n._getMutableRecordSource()},this),this._storeSubscriptions=new Fb(e==null?void 0:e.log,this._resolverCache),this._updatedRecordIDs=new Set,this._shouldProcessClientComponents=(c=e==null?void 0:e.shouldProcessClientComponents)!==null&&c!==void 0?c:!1,this._resolverContext=e==null?void 0:e.resolverContext,this._treatMissingFieldsAsNull=(d=e==null?void 0:e.treatMissingFieldsAsNull)!==null&&d!==void 0?d:!1,this._actorIdentifier=e==null?void 0:e.actorIdentifier,Pb(this._recordSource)}var r=t.prototype;return r.getSource=function(){var e;return(e=this._optimisticSource)!==null&&e!==void 0?e:this._recordSource},r.getOperationLoader=function(){return this._operationLoader},r._getMutableRecordSource=function(){var e;return(e=this._optimisticSource)!==null&&e!==void 0?e:this._recordSource},r.getLiveResolverPromise=function(e){return this._resolverCache.getLiveResolverPromise(e)},r.batchLiveStateUpdates=function(e){this.__log!=null&&this.__log({name:"liveresolver.batch.start"});try{this._resolverCache.batchLiveStateUpdates(e)}finally{this.__log!=null&&this.__log({name:"liveresolver.batch.end"})}},r.check=function(e,n){var i,s,o,l,u=e.root,c=this._getMutableRecordSource(),d=this._globalInvalidationEpoch,f=this._roots.get(e.request.identifier),h=f!=null?f.epoch:null;if(d!=null&&(h==null||h<=d))return{status:"stale"};var g=(i=n==null?void 0:n.handlers)!==null&&i!==void 0?i:[],p=(s=n==null?void 0:n.getSourceForActor)!==null&&s!==void 0?s:function(b){return Us(b),c},v=(o=n==null?void 0:n.getTargetForActor)!==null&&o!==void 0?o:function(b){return Us(b),c},y=Tb.check(p,v,(l=n==null?void 0:n.defaultActorIdentifier)!==null&&l!==void 0?l:Rb,u,g,this._operationLoader,this._getDataID,this._shouldProcessClientComponents,this.__log);return Mb(y,h,f==null?void 0:f.fetchTime,this._queryCacheExpirationTime)},r.retain=function(e){var n=this,i=e.request.identifier,s=!1,o=function(){if(!s){s=!0;var c=n._roots.get(i);if(c!=null&&(c.refCount--,c.refCount===0)){var d=n._queryCacheExpirationTime,f=c.fetchTime!=null&&d!=null&&c.fetchTime<=Date.now()-d;if(f)n._roots.delete(i),n.scheduleGC();else if(n._releaseBuffer.push(i),n._releaseBuffer.length>n._gcReleaseBufferSize){var h=n._releaseBuffer.shift();n._roots.delete(h),n.scheduleGC()}}}},l=this._roots.get(i);return l!=null?(l.refCount===0&&(this._releaseBuffer=this._releaseBuffer.filter(function(u){return u!==i})),l.refCount+=1):this._roots.set(i,{operation:e,refCount:1,epoch:null,fetchTime:null}),{dispose:o}},r.lookup=function(e){var n=this.__log;n!=null&&n({name:"store.lookup.start",selector:e});var i=this.getSource(),s=kb.read(i,e,this._resolverCache,this._resolverContext);return n!=null&&n({name:"store.lookup.end",selector:e}),s},r.notify=function(e,n){var i=this,s=this.__log;s!=null&&s({name:"store.notify.start",sourceOperation:e}),this._currentWriteEpoch++,n===!0&&(this._globalInvalidationEpoch=this._currentWriteEpoch),this._resolverCache.invalidateDataIDs(this._updatedRecordIDs);var o=this.getSource(),l=[];if(this._storeSubscriptions.updateSubscriptions(o,this._updatedRecordIDs,l,e),this._invalidationSubscriptions.forEach(function(f){i._updateInvalidationSubscription(f,n===!0)}),e!=null){var u=e.request.identifier,c=this._roots.get(u);if(c!=null)c.epoch=this._currentWriteEpoch,c.fetchTime=Date.now();else if(e.request.node.params.operationKind==="query"&&this._gcReleaseBufferSize>0&&this._releaseBuffer.length<this._gcReleaseBufferSize){var d={operation:e,refCount:0,epoch:this._currentWriteEpoch,fetchTime:Date.now()};this._releaseBuffer.push(u),this._roots.set(u,d)}}return s!=null&&s({name:"store.notify.complete",sourceOperation:e,updatedRecordIDs:this._updatedRecordIDs,invalidatedRecordIDs:this._invalidatedRecordIDs,subscriptionsSize:this._storeSubscriptions.size(),updatedOwners:l}),this._updatedRecordIDs.clear(),this._invalidatedRecordIDs.clear(),l},r.publish=function(e,n){var i=this._getMutableRecordSource();Lb(i,e,this._currentWriteEpoch+1,n,this._updatedRecordIDs,this._invalidatedRecordIDs);var s=this.__log;s!=null&&s({name:"store.publish",source:e,optimistic:i===this._optimisticSource})},r.subscribe=function(e,n){return this._storeSubscriptions.subscribe(e,n)},r.holdGC=function(){var e=this;this._gcRun&&(this._gcRun=null,this._shouldScheduleGC=!0),this._gcHoldCounter++;var n=function(){e._gcHoldCounter>0&&(e._gcHoldCounter--,e._gcHoldCounter===0&&e._shouldScheduleGC&&(e.scheduleGC(),e._shouldScheduleGC=!1))};return{dispose:n}},r.toJSON=function(){return"RelayModernStore()"},r.getEpoch=function(){return this._currentWriteEpoch},r.__getUpdatedRecordIDs=function(){return this._updatedRecordIDs},r.lookupInvalidationState=function(e){var n=this,i=new Map;return e.forEach(function(s){var o,l=n.getSource().get(s);i.set(s,(o=We.getInvalidationEpoch(l))!==null&&o!==void 0?o:null)}),i.set("global",this._globalInvalidationEpoch),{dataIDs:e,invalidations:i}},r.checkInvalidationState=function(e){var n=this.lookupInvalidationState(e.dataIDs),i=n.invalidations,s=e.invalidations;if(i.get("global")!==s.get("global"))return!0;var o=(0,qs.default)(e.dataIDs),l;try{for(o.s();!(l=o.n()).done;){var u=l.value;if(i.get(u)!==s.get(u))return!0}}catch(c){o.e(c)}finally{o.f()}return!1},r.subscribeToInvalidationState=function(e,n){var i=this,s={callback:n,invalidationState:e},o=function(){i._invalidationSubscriptions.delete(s)};return this._invalidationSubscriptions.add(s),{dispose:o}},r._updateInvalidationSubscription=function(e,n){var i=this,s=e.callback,o=e.invalidationState,l=o.dataIDs,u=n||l.some(function(c){return i._invalidatedRecordIDs.has(c)});u&&s()},r.snapshot=function(){this._optimisticSource!=null&&Hs(!1);var e=this.__log;e!=null&&e({name:"store.snapshot"}),this._storeSubscriptions.snapshotSubscriptions(this.getSource()),this._gcRun&&(this._gcRun=null,this._shouldScheduleGC=!0),this._optimisticSource=Vs.create(this.getSource())},r.restore=function(){var e=this._optimisticSource;e||Hs(!1);var n=this.__log;n!=null&&n({name:"store.restore"});var i=Vs.getOptimisticRecordIDs(e);this._resolverCache.unsubscribeFromLiveResolverRecords(i),this._optimisticSource=null,this._shouldScheduleGC&&this.scheduleGC(),this._storeSubscriptions.restoreSubscriptions(),this._resolverCache.invalidateResolverRecords(i)},r.scheduleGC=function(){if(this._gcHoldCounter>0){this._shouldScheduleGC=!0;return}this._gcRun||(this._gcRun=this._collect(),this._gcScheduler(this._gcStep))},r.__gc=function(){if(this._optimisticSource==null)for(var e=this._collect();!e.next().done;);},r._collect=function*(){var e=this.__log;e:for(;;){e!=null&&e({name:"store.gc.start"});var n=this._currentWriteEpoch,i=new Set,s=(0,qs.default)(this._roots.values()),o;try{for(s.s();!(o=s.n()).done;){var l=o.value.operation,u=l.root;if(Db.mark(this._recordSource,u,i,this._operationLoader,this._shouldProcessClientComponents),yield,n!==this._currentWriteEpoch){e!=null&&e({name:"store.gc.interrupted"});continue e}}}catch(p){s.e(p)}finally{s.f()}if(i.size===0)this._recordSource.clear();else for(var c=this._recordSource.getRecordIDs(),d=0;d<c.length;d++){var f=c[d];if(!i.has(f)){var h=this._recordSource.get(f);if(h!=null){var g=We.getValue(h,Cb);g!=null&&g()}this._recordSource.remove(f)}}e!=null&&e({name:"store.gc.end",references:i});return}},r.__getNormalizationOptions=function(e){return{path:e,getDataID:this._getDataID,treatMissingFieldsAsNull:this._treatMissingFieldsAsNull,shouldProcessClientComponents:this._shouldProcessClientComponents,actorIdentifier:this._actorIdentifier}},r.__notifyUpdatedSubscribers=function(e){var n=wb(e),i=this._updatedRecordIDs;this._updatedRecordIDs=n,this.notify(),this._updatedRecordIDs=i},t}();function Pb(t){if(!t.has(Kn)){var r=We.create(Kn,Ob);t.set(Kn,r)}}function Lb(t,r,a,e,n,i){e&&e.forEach(function(f){var h=t.get(f),g=r.get(f);if(g!==null){var p;h!=null?p=We.clone(h):p=g!=null?We.clone(g):null,p&&(We.setValue(p,Nb.INVALIDATED_AT_KEY,a),i.add(f),t.set(f,p))}});for(var s=r.getRecordIDs(),o=0;o<s.length;o++){var l=s[o],u=r.get(l),c=t.get(l);if(u&&c){var d=We.update(c,u);d!==c&&(n.add(l),t.set(l,d))}else u===null?(t.delete(l),c!==null&&n.add(l)):u&&(t.set(l,u),n.add(l))}}function Mb(t,r,a,e){var n=t.mostRecentlyInvalidatedAt,i=t.status;if(typeof n=="number"&&(r==null||n>r))return{status:"stale"};if(i==="missing")return{status:"missing"};if(a!=null&&e!=null){var s=a<=Date.now()-e;if(s)return{status:"stale"}}return{status:"available",fetchTime:a??null}}var qb=$b,Ub=Pr,Vb=ye,Hb=Vb.getRequest,Bb=et,jb=Bb.createOperationDescriptor,Kb=Ee,Wb=Kb.createReaderSelector;function Gb(t,r){var a=Hb(r.subscription);if(a.params.operationKind!=="subscription")throw new Error("requestSubscription: Must use Subscription operation");var e=r.configs,n=r.onCompleted,i=r.onError,s=r.onNext,o=r.variables,l=r.cacheConfig,u=jb(a,o,l),c=e?Ub.convert(e,a,null,r.updater):r,d=c.updater,f=t.executeSubscription({operation:u,updater:d}).subscribe({next:function(g){if(s!=null){var p=u.fragment,v;if(Array.isArray(g)){var y,b;v=(y=g[0])===null||y===void 0||(b=y.extensions)===null||b===void 0?void 0:b.__relay_subscription_root_id}else{var S;v=(S=g.extensions)===null||S===void 0?void 0:S.__relay_subscription_root_id}typeof v=="string"&&(p=Wb(p.node,v,p.variables,p.owner));var R=t.lookup(p).data;s(R)}},error:i,complete:n});return{dispose:f.unsubscribe}}var zb=Gb,Yb=V.default,Qb=Yb(ge),ku=W,Xb=ku.getModuleComponentKey,Jb=ku.getModuleOperationKey;function Zb(t,r,a,e){var n=(0,Qb.default)({},e);return n[Xb(t)]=a,n[Jb(t)]=r,n}var eR=Zb,tR=Object.prototype.hasOwnProperty;function rR(t){for(var r in t)if(tR.call(t,r))return!1;return!0}var nR=rR,si=Ee,aR=si.getDataIDsFromFragment,iR=si.getSelector,sR=si.getVariablesFromFragment,oR=nR,kt=De,lR=Xe,Bs=lR.stableCopy,uR=fl,js=uR.intern;function cR(t,r){var a=iR(t,r),e=a==null?"null":a.kind==="SingularReaderSelector"?a.owner.identifier:"["+a.selectors.map(function(u){return u.owner.identifier}).join(",")+"]",n=sR(t,r),i=aR(t,r);if(kt.ENABLE_GETFRAGMENTIDENTIFIER_OPTIMIZATION){var s=typeof i>"u"?"missing":i==null?"null":Array.isArray(i)?"["+i.join(",")+"]":i;return s=kt.STRING_INTERN_LEVEL<=1?s:js(s,kt.MAX_DATA_ID_LENGTH),e+"/"+t.name+"/"+(n==null||oR(n)?"{}":JSON.stringify(Bs(n)))+"/"+s}else{var o,l=(o=JSON.stringify(i))!==null&&o!==void 0?o:"missing";return l=kt.STRING_INTERN_LEVEL<=1?l:js(l,kt.MAX_DATA_ID_LENGTH),e+"/"+t.name+"/"+JSON.stringify(Bs(n))+"/"+l}}var dR=cR,Dt=D;function fR(t,r){var a,e;((a=t.metadata)===null||a===void 0?void 0:a.plural)===!0&&Dt(!1);var n=(e=t.metadata)===null||e===void 0?void 0:e.refetch;n==null&&Dt(!1);var i=n.operation.default?n.operation.default:n.operation,s=n.fragmentPathInResult;typeof i=="string"&&Dt(!1);var o=n.identifierInfo;return o!=null&&(o.identifierField==null||typeof o.identifierField=="string"||Dt(!1),o.identifierQueryVariableName==null||typeof o.identifierQueryVariableName=="string"||Dt(!1)),{fragmentRefPathInResponse:s,identifierInfo:o,refetchableRequest:i,refetchMetadata:n}}var Du=fR,hR=Du,Wn=D;function gR(t,r){var a,e,n=hR(t),i=n.refetchableRequest,s=n.refetchMetadata,o=s.connection;o==null&&Wn(!1);var l=o.path,u=((a=(e=t.metadata)===null||e===void 0?void 0:e.connection)!==null&&a!==void 0?a:[])[0];u==null&&Wn(!1);var c=s.identifierInfo;return(c==null?void 0:c.identifierField)==null||typeof c.identifierField=="string"||Wn(!1),{connectionPathInFragmentData:l,identifierField:c==null?void 0:c.identifierField,paginationRequest:i,paginationMetadata:o,stream:u.stream===!0}}var pR=gR,Fu=V.default,vr=Fu(Qe),st=Fu(ge),Ks=D;function vR(t,r,a,e,n,i){var s,o=i.backward,l=i.forward;if(t==="backward"){var u;o!=null&&o.count!=null&&o.cursor!=null||Ks(!1);var c=(0,st.default)((0,st.default)((0,st.default)({},e),n),{},(u={},(0,vr.default)(u,o.cursor,a),(0,vr.default)(u,o.count,r),u));return l&&l.cursor&&(c[l.cursor]=null),l&&l.count&&(c[l.count]=null),c}l!=null&&l.count!=null&&l.cursor!=null||Ks(!1);var d=(0,st.default)((0,st.default)((0,st.default)({},e),n),{},(s={},(0,vr.default)(s,l.cursor,a),(0,vr.default)(s,l.count,r),s));return o&&o.cursor&&(d[o.cursor]=null),o&&o.count&&(d[o.count]=null),d}var _R=vR,mR=V.default,yR=mR(ie),Ws=D;function ER(t,r){var a=t,e=(0,yR.default)(r),n;try{for(e.s();!(n=e.n()).done;){var i=n.value;if(a==null)return null;typeof i=="number"?(Array.isArray(a)||Ws(!1),a=a[i]):(typeof a=="object"&&!Array.isArray(a)||Ws(!1),a=a[i])}}catch(s){e.e(s)}finally{e.f()}return a}var bR=ER,ot={},RR={stop:function(){}},SR={profile:function(r,a){var e=ot[r];if(e&&e.length>0){for(var n=[],i=e.length-1;i>=0;i--){var s=e[i](r,a);n.unshift(s)}return{stop:function(l){n.forEach(function(u){return u(l)})}}}return RR},attachProfileHandler:function(r,a){ot.hasOwnProperty(r)||(ot[r]=[]),ot[r].push(a)},detachProfileHandler:function(r,a){ot.hasOwnProperty(r)&&TR(ot[r],a)}};function TR(t,r){var a=t.indexOf(r);a!==-1&&t.splice(a,1)}var IR=SR,Nu=hh,AR=Nu.isErrorResult,CR=Nu.isValueResult,wR=$r,kR=Ma,DR=ml,FR=yl,NR=Dg,OR=Ng,xR=Kg,Gs=Pr,$R=Zg,PR=He,LR=ip,MR=mp,qR=Tp,_r=Pa,be=ye,UR=Cp,oi=Te,VR=oi.generateClientID,HR=oi.generateUniqueClientID,BR=oi.isClientID,jR=Kp,KR=zp,WR=qa,Ou=Mr,GR=Ou.isSuspenseSentinel,zR=Ou.suspenseSentinel,YR=Gl,QR=m_,zs=Ve,XR=qy,Ys=et,JR=ue,de=Ee,ZR=qb,eS=Yl,tS=tt,ve=W,rS=Oa,Qs=Xa,nS=zb,aS=eR,iS=bl,sS=dR,oS=pR,lS=_R,uS=La,cS=Du,dS=ka,fS=Rl,hS=bR,gS=jt,pS=gS.handlePotentialSnapshotErrors,vS=al,_S=Cl,mS=Lr,yS=Ue,ES=Vo,bS=Zl,RS=De,SS=IR,TS=sl,xu=Xe,IS=xu.hasCycle,AS=xu.stableCopy,CS=Al,wS={Environment:XR,Network:$R,Observable:PR,QueryResponseCache:LR,RecordSource:tS,Record:JR,ReplaySubject:TS,Store:ZR,areEqualSelectors:de.areEqualSelectors,createFragmentSpecResolver:jR,createNormalizationSelector:de.createNormalizationSelector,createOperationDescriptor:Ys.createOperationDescriptor,createReaderSelector:de.createReaderSelector,createRequestDescriptor:Ys.createRequestDescriptor,getArgumentValues:ve.getArgumentValues,getDataIDsFromFragment:de.getDataIDsFromFragment,getDataIDsFromObject:de.getDataIDsFromObject,getNode:be.getNode,getFragment:be.getFragment,getInlineDataFragment:be.getInlineDataFragment,getModuleComponentKey:ve.getModuleComponentKey,getModuleOperationKey:ve.getModuleOperationKey,getPaginationFragment:be.getPaginationFragment,getPluralSelector:de.getPluralSelector,getRefetchableFragment:be.getRefetchableFragment,getRequest:be.getRequest,getRequestIdentifier:fS,getSelector:de.getSelector,getSelectorsFromObject:de.getSelectorsFromObject,getSingularSelector:de.getSingularSelector,getStorageKey:ve.getStorageKey,getVariablesFromFragment:de.getVariablesFromFragment,getVariablesFromObject:de.getVariablesFromObject,getVariablesFromPluralFragment:de.getVariablesFromPluralFragment,getVariablesFromSingularFragment:de.getVariablesFromSingularFragment,handlePotentialSnapshotErrors:pS,graphql:be.graphql,isErrorResult:AR,isValueResult:CR,isFragment:be.isFragment,isInlineDataFragment:be.isInlineDataFragment,isSuspenseSentinel:GR,suspenseSentinel:zR,isRequest:be.isRequest,readInlineData:QR,MutationTypes:Gs.MutationTypes,RangeOperations:Gs.RangeOperations,DefaultHandlerProvider:FR,ConnectionHandler:wR,MutationHandlers:DR,VIEWER_ID:Qs.VIEWER_ID,VIEWER_TYPE:Qs.VIEWER_TYPE,applyOptimisticMutation:NR,commitLocalUpdate:OR,commitMutation:xR,fetchQuery:MR,fetchQuery_DEPRECATED:qR,isRelayModernEnvironment:WR,requestSubscription:nS,ConnectionInterface:kR,PreloadableQueryRegistry:UR,RelayProfiler:SS,createPayloadFor3DField:aS,RelayConcreteNode:yS,RelayError:bS,RelayFeatureFlags:RS,DEFAULT_HANDLE_KEY:ES.DEFAULT_HANDLE_KEY,FRAGMENTS_KEY:ve.FRAGMENTS_KEY,FRAGMENT_OWNER_KEY:ve.FRAGMENT_OWNER_KEY,ID_KEY:ve.ID_KEY,REF_KEY:ve.REF_KEY,REFS_KEY:ve.REFS_KEY,ROOT_ID:ve.ROOT_ID,ROOT_TYPE:ve.ROOT_TYPE,TYPENAME_KEY:ve.TYPENAME_KEY,deepFreeze:iS,generateClientID:VR,generateUniqueClientID:HR,getRelayHandleKey:dS,isClientID:BR,isPromise:vS,isScalarAndEqual:_S,recycleNodesInto:mS,stableCopy:AS,hasCycle:IS,getFragmentIdentifier:sS,getRefetchMetadata:cS,getPaginationMetadata:oS,getPaginationVariables:lS,getPendingOperationsForFragment:uS,getValueAtPath:hS,__internal:{ResolverFragments:rS,OperationTracker:eS,createRelayContext:KR,getOperationVariables:zs.getOperationVariables,getLocalVariables:zs.getLocalVariables,fetchQuery:_r.fetchQuery,fetchQueryDeduped:_r.fetchQueryDeduped,getPromiseForActiveRequest:_r.getPromiseForActiveRequest,getObservableForActiveRequest:_r.getObservableForActiveRequest,normalizeResponse:YR,withProvidedVariables:CS}},kS=wS;const li=JSON,DS=t=>t.toUpperCase(),FS=t=>{const r={};return t.forEach((a,e)=>{r[e]=a}),r},NS=(t,r,a)=>t.document?t:{document:t,variables:r,requestHeaders:a,signal:void 0},OS=(t,r,a)=>t.query?t:{query:t,variables:r,requestHeaders:a,signal:void 0},xS=(t,r)=>t.documents?t:{documents:t,requestHeaders:r,signal:void 0},Xs=t=>{var e,n;let r;const a=t.definitions.filter(i=>i.kind==="OperationDefinition");return a.length===1&&(r=(n=(e=a[0])==null?void 0:e.name)==null?void 0:n.value),r},Gn=t=>{if(typeof t=="string"){let a;try{const e=Eo(t);a=Xs(e)}catch{}return{query:t,operationName:a}}const r=Xs(t);return{query:Ic(t),operationName:r}};class Pt extends Error{constructor(r,a){const e=`${Pt.extractMessage(r)}: ${JSON.stringify({response:r,request:a})}`;super(e),Object.setPrototypeOf(this,Pt.prototype),this.response=r,this.request=a,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Pt)}static extractMessage(r){var a,e;return((e=(a=r.errors)==null?void 0:a[0])==null?void 0:e.message)??`GraphQL Error (Code: ${r.status})`}}const lt=t=>{let r={};return t&&(typeof Headers<"u"&&t instanceof Headers||Ac&&Ri.Headers&&t instanceof Ri.Headers?r=FS(t):Array.isArray(t)?t.forEach(([a,e])=>{a&&e!==void 0&&(r[a]=e)}):r=t),r},Js=t=>t.replace(/([\s,]|#[^\n\r]+)+/g," ").trim(),$S=t=>{if(!Array.isArray(t.query)){const e=t,n=[`query=${encodeURIComponent(Js(e.query))}`];return t.variables&&n.push(`variables=${encodeURIComponent(e.jsonSerializer.stringify(e.variables))}`),e.operationName&&n.push(`operationName=${encodeURIComponent(e.operationName)}`),n.join("&")}if(typeof t.variables<"u"&&!Array.isArray(t.variables))throw new Error("Cannot create query with given variable type, array expected");const r=t,a=t.query.reduce((e,n,i)=>(e.push({query:Js(n),variables:r.variables?r.jsonSerializer.stringify(r.variables[i]):void 0}),e),[]);return`query=${encodeURIComponent(r.jsonSerializer.stringify(a))}`},PS=t=>async r=>{const{url:a,query:e,variables:n,operationName:i,fetch:s,fetchOptions:o,middleware:l}=r,u={...r.headers};let c="",d;t==="POST"?(d=MS(e,n,i,o.jsonSerializer),typeof d=="string"&&(u["Content-Type"]="application/json")):c=$S({query:e,variables:n,operationName:i,jsonSerializer:o.jsonSerializer??li});const f={method:t,headers:u,body:d,...o};let h=a,g=f;if(l){const p=await Promise.resolve(l({...f,url:a,operationName:i,variables:n})),{url:v,...y}=p;h=v,g=y}return c&&(h=`${h}?${c}`),await s(h,g)};class LS{constructor(r,a={}){this.url=r,this.requestConfig=a,this.rawRequest=async(...e)=>{const[n,i,s]=e,o=OS(n,i,s),{headers:l,fetch:u=rn,method:c="POST",requestMiddleware:d,responseMiddleware:f,...h}=this.requestConfig,{url:g}=this;o.signal!==void 0&&(h.signal=o.signal);const{operationName:p}=Gn(o.query);return zn({url:g,query:o.query,variables:o.variables,headers:{...lt(Yn(l)),...lt(o.requestHeaders)},operationName:p,fetch:u,method:c,fetchOptions:h,middleware:d}).then(v=>(f&&f(v),v)).catch(v=>{throw f&&f(v),v})}}async request(r,...a){const[e,n]=a,i=NS(r,e,n),{headers:s,fetch:o=rn,method:l="POST",requestMiddleware:u,responseMiddleware:c,...d}=this.requestConfig,{url:f}=this;i.signal!==void 0&&(d.signal=i.signal);const{query:h,operationName:g}=Gn(i.document);return zn({url:f,query:h,variables:i.variables,headers:{...lt(Yn(s)),...lt(i.requestHeaders)},operationName:g,fetch:o,method:l,fetchOptions:d,middleware:u}).then(p=>(c&&c(p),p.data)).catch(p=>{throw c&&c(p),p})}batchRequests(r,a){const e=xS(r,a),{headers:n,...i}=this.requestConfig;e.signal!==void 0&&(i.signal=e.signal);const s=e.documents.map(({document:l})=>Gn(l).query),o=e.documents.map(({variables:l})=>l);return zn({url:this.url,query:s,variables:o,headers:{...lt(Yn(n)),...lt(e.requestHeaders)},operationName:void 0,fetch:this.requestConfig.fetch??rn,method:this.requestConfig.method||"POST",fetchOptions:i,middleware:this.requestConfig.requestMiddleware}).then(l=>(this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(l),l.data)).catch(l=>{throw this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(l),l})}setHeaders(r){return this.requestConfig.headers=r,this}setHeader(r,a){const{headers:e}=this.requestConfig;return e?e[r]=a:this.requestConfig.headers={[r]:a},this}setEndpoint(r){return this.url=r,this}}const zn=async t=>{const{query:r,variables:a,fetchOptions:e}=t,n=PS(DS(t.method??"post")),i=Array.isArray(t.query),s=await n(t),o=await qS(s,e.jsonSerializer??li),l=Array.isArray(o)?!o.some(({data:c})=>!c):!!o.data,u=Array.isArray(o)||!o.errors||Array.isArray(o.errors)&&!o.errors.length||e.errorPolicy==="all"||e.errorPolicy==="ignore";if(s.ok&&u&&l){const{errors:c,...d}=(Array.isArray(o),o),f=e.errorPolicy==="ignore"?d:o;return{...i?{data:f}:f,headers:s.headers,status:s.status}}else{const c=typeof o=="string"?{error:o}:o;throw new Pt({...c,status:s.status,headers:s.headers},{query:r,variables:a})}},MS=(t,r,a,e)=>{const n=e??li;if(!Array.isArray(t))return n.stringify({query:t,variables:r,operationName:a});if(typeof r<"u"&&!Array.isArray(r))throw new Error("Cannot create request body with given variable type, array expected");const i=t.reduce((s,o,l)=>(s.push({query:o,variables:r?r[l]:void 0}),s),[]);return n.stringify(i)},qS=async(t,r)=>{let a;return t.headers.forEach((e,n)=>{n.toLowerCase()==="content-type"&&(a=e)}),a&&(a.toLowerCase().startsWith("application/json")||a.toLowerCase().startsWith("application/graphql+json")||a.toLowerCase().startsWith("application/graphql-response+json"))?r.parse(await t.text()):t.text()},Yn=t=>typeof t=="function"?t():t,ui=(t,...r)=>t.reduce((a,e,n)=>`${a}${e}${n in r?String(r[n]):""}`,"");var US="7.5.0",wr=function(){return wr=Object.assign||function(r){for(var a,e=1,n=arguments.length;e<n;e++){a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])}return r},wr.apply(this,arguments)},Rr=new Map,_a=new Map,$u=!0,kr=!1;function Pu(t){return t.replace(/[\s,]+/g," ").trim()}function VS(t){return Pu(t.source.body.substring(t.start,t.end))}function HS(t){var r=new Set,a=[];return t.definitions.forEach(function(e){if(e.kind==="FragmentDefinition"){var n=e.name.value,i=VS(e.loc),s=_a.get(n);s&&!s.has(i)?$u&&console.warn("Warning: fragment with name "+n+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):s||_a.set(n,s=new Set),s.add(i),r.has(i)||(r.add(i),a.push(e))}else a.push(e)}),wr(wr({},t),{definitions:a})}function BS(t){var r=new Set(t.definitions);r.forEach(function(e){e.loc&&delete e.loc,Object.keys(e).forEach(function(n){var i=e[n];i&&typeof i=="object"&&r.add(i)})});var a=t.loc;return a&&(delete a.startToken,delete a.endToken),t}function jS(t){var r=Pu(t);if(!Rr.has(r)){var a=Eo(t,{experimentalFragmentVariables:kr,allowLegacyFragmentVariables:kr});if(!a||a.kind!=="Document")throw new Error("Not a valid GraphQL document.");Rr.set(r,BS(HS(a)))}return Rr.get(r)}function pt(t){for(var r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];typeof t=="string"&&(t=[t]);var e=t[0];return r.forEach(function(n,i){n&&n.kind==="Document"?e+=n.loc.source.body:e+=n,e+=t[i+1]}),jS(e)}function KS(){Rr.clear(),_a.clear()}function WS(){$u=!1}function GS(){kr=!0}function zS(){kr=!1}var Ft={gql:pt,resetCaches:KS,disableFragmentWarnings:WS,enableExperimentalFragmentVariables:GS,disableExperimentalFragmentVariables:zS};(function(t){t.gql=Ft.gql,t.resetCaches=Ft.resetCaches,t.disableFragmentWarnings=Ft.disableFragmentWarnings,t.enableExperimentalFragmentVariables=Ft.enableExperimentalFragmentVariables,t.disableExperimentalFragmentVariables=Ft.disableExperimentalFragmentVariables})(pt||(pt={}));pt.default=pt;var E=pt,YS=E`
    fragment ActiveAlertFragment on ActiveAlert {
  __typename
  id
  filterOptionsJson
  fusionEventId
  subscriptionValue
  user {
    __typename
    id
    connectedWallets {
      address
      walletBlockchain
    }
  }
}
    `,zt=E`
    fragment EmailTargetFragment on EmailTarget {
  emailAddress
  id
  isConfirmed
  name
}
    `,Kr=E`
    fragment SmsTargetFragment on SmsTarget {
  id
  isConfirmed
  name
  phoneNumber
}
    `,Wr=E`
    fragment TelegramTargetFragment on TelegramTarget {
  id
  isConfirmed
  name
  telegramId
  confirmationUrl
}
    `,Gr=E`
    fragment DiscordTargetFragment on DiscordTarget {
  id
  discordAccountId
  discriminator
  isConfirmed
  username
  name
  userStatus
  verificationLink
  discordServerInviteLink
}
    `,Lu=E`
    fragment SlackChannelTargetFragment on SlackChannelTarget {
  id
  name
  slackChannelName
  slackWorkspaceName
  verificationLink
  webhookVerificationLink
  verificationStatus
}
    `,ci=E`
    fragment Web3TargetFragment on Web3Target {
  id
  name
  accountId
  walletBlockchain
  targetProtocol
  isConfirmed
  senderAddress
}
    `,Yt=E`
    fragment TargetGroupFragment on TargetGroup {
  id
  name
  emailTargets {
    ...EmailTargetFragment
  }
  smsTargets {
    ...SmsTargetFragment
  }
  telegramTargets {
    ...TelegramTargetFragment
  }
  discordTargets {
    ...DiscordTargetFragment
  }
  slackChannelTargets {
    ...SlackChannelTargetFragment
  }
  web3Targets {
    ...Web3TargetFragment
  }
}
    ${zt}
${Kr}
${Wr}
${Gr}
${Lu}
${ci}`,zr=E`
    fragment AlertFragment on Alert {
  id
  groupName
  name
  filterOptions
  targetGroup {
    ...TargetGroupFragment
  }
  subscriptionValue
  fusionEventId
}
    ${Yt}`,di=E`
    fragment ConnectedWalletFragment on ConnectedWallet {
  address
  walletBlockchain
}
    `,Mu=E`
    fragment ArgumentErrorFragment on ArgumentError {
  __typename
  message
  paramName
}
    `,qu=E`
    fragment ArgumentNullErrorFragment on ArgumentNullError {
  __typename
  message
  paramName
}
    `,Uu=E`
    fragment ArgumentOutOfRangeErrorFragment on ArgumentOutOfRangeError {
  __typename
  message
  paramName
}
    `,Vu=E`
    fragment TargetDoesNotExistErrorFragment on TargetDoesNotExistError {
  __typename
  message
}
    `,Yr=E`
    fragment UnexpectedErrorFragment on UnexpectedError {
  __typename
  message
}
    `,QS=E`
    fragment TargetLimitExceededErrorFragment on TargetLimitExceededError {
  __typename
  message
}
    `,XS=E`
    fragment TargetAssignedToExistingTargetGroupErrorFragment on TargetAssignedToExistingTargetGroupError {
  __typename
  message
}
    `,JS=E`
    fragment FusionNotificationHistoryEntryFragment on FusionNotificationHistoryEntry {
  __typename
  id
  createdDate
  read
  fusionEventVariables
  detail {
    __typename
    ... on AccountBalanceChangedEventDetails {
      walletBlockchain
      direction
      newValue
      previousValue
      tokenSymbol
      isWhaleWatch
    }
    ... on BroadcastMessageEventDetails {
      messageType: type
      subject
      message
      messageHtml
    }
    ... on DirectTenantMessageEventDetails {
      tenantName
      targetTemplatesJson
      templateVariablesJson
    }
    ... on NftCollectionsReportEventDetails {
      type
      providerName
      sourceLink
      collections {
        collectionId
        name
        imgUrl
        volume1Day
        volume1DayChange
      }
    }
    ... on DAOProposalChangedEventDetails {
      tenantName
      proposalTitle: title
      description
      state
      daoUrl
      proposalUrl
    }
    ... on NftAuctionChangedEventDetails {
      auctionTitle: title
      auctionUrl
      walletBlockchain
      highBidAmount
      highBidSymbol
      imageUrl
    }
    ... on WalletsActivityReportEventDetails {
      providerName
      sourceLink
      walletActivityType: type
      wallets {
        address
        volume1Day
        maxPurchase1Day
        maxPurchaseName
        maxPurchaseImgUrl
        maxPurchaseTokenAddress
      }
    }
    ... on HealthValueOverThresholdEventDetails {
      name
      value
      threshold
      url
    }
    ... on GenericEventDetails {
      sourceName
      notificationTypeName
      genericMessage: message
      genericMessageHtml: messageHtml
      eventDetailsJson
      action {
        name
        url
      }
      icon
      customIconUrl
    }
  }
}
    `;E`
    fragment NotificationHistoryEntryFragment on NotificationHistoryEntry {
  __typename
  id
  createdDate
  eventId
  read
  sourceAddress
  category
  transactionSignature
  targets {
    type
    name
  }
  detail {
    __typename
    ... on AccountBalanceChangedEventDetails {
      walletBlockchain
      direction
      newValue
      previousValue
      tokenSymbol
      isWhaleWatch
    }
    ... on BroadcastMessageEventDetails {
      messageType: type
      subject
      message
      messageHtml
    }
    ... on DirectTenantMessageEventDetails {
      tenantName
      targetTemplatesJson
      templateVariablesJson
    }
    ... on NftCollectionsReportEventDetails {
      type
      providerName
      sourceLink
      collections {
        collectionId
        name
        imgUrl
        volume1Day
        volume1DayChange
      }
    }
    ... on DAOProposalChangedEventDetails {
      tenantName
      proposalTitle: title
      description
      state
      daoUrl
      proposalUrl
    }
    ... on NftAuctionChangedEventDetails {
      auctionTitle: title
      auctionUrl
      walletBlockchain
      highBidAmount
      highBidSymbol
      imageUrl
    }
    ... on WalletsActivityReportEventDetails {
      providerName
      sourceLink
      walletActivityType: type
      wallets {
        address
        volume1Day
        maxPurchase1Day
        maxPurchaseName
        maxPurchaseImgUrl
        maxPurchaseTokenAddress
      }
    }
    ... on HealthValueOverThresholdEventDetails {
      name
      value
      threshold
      url
    }
    ... on GenericEventDetails {
      sourceName
      notificationTypeName
      genericMessage: message
      genericMessageHtml: messageHtml
      eventDetailsJson
      action {
        name
        url
      }
      icon
    }
  }
}
    `;var fi=E`
    fragment PageInfoFragment on PageInfo {
  hasNextPage
  endCursor
}
    `,ZS=E`
    fragment CreateSlackChannelTargetResponseFragment on CreateSlackChannelTargetResponse {
  slackChannelTarget {
    id
    name
    slackChannelName
    slackWorkspaceName
    verificationLink
    webhookVerificationLink
    verificationStatus
  }
}
    `,eT=E`
    fragment GetSlackChannelTargetsResponseFragment on SlackChannelTargetsConnection {
  edges {
    cursor
  }
  pageInfo {
    endCursor
    hasNextPage
    hasPreviousPage
    startCursor
  }
  nodes {
    id
    name
    slackChannelName
    slackWorkspaceName
    verificationLink
    webhookVerificationLink
    verificationStatus
  }
}
    `,tT=E`
    fragment TenantConfigFragment on TenantConfig {
  id
  type
  dataJson
  fusionEvents {
    id
    metadata
    name
  }
}
    `,hi=E`
    fragment FilterFragment on Filter {
  id
  name
  filterType
}
    `,rT=E`
    fragment SourceFragment on Source {
  id
  name
  type
  blockchainAddress
  fusionEventTypeId
  applicableFilters {
    ...FilterFragment
  }
}
    ${hi}`,nT=E`
    fragment SourceGroupFragment on SourceGroup {
  id
  name
  sources {
    ...SourceFragment
  }
}
    ${rT}`,aT=E`
    fragment TenantUserAlertFragment on TenantUserAlert {
  id
  name
  groupName
  filterOptions
  filter {
    ...FilterFragment
  }
  sourceGroup {
    ...SourceGroupFragment
  }
  targetGroup {
    hasVerifiedFcm
    hasVerifiedSms
    hasVerifiedWeb3
    hasVerifiedEmails
    hasVerifiedDiscord
    hasVerifiedTelegram
  }
}
    ${hi}
${nT}`,iT=E`
    fragment TenantConnectedWalletFragment on TenantConnectedWallet {
  address
  walletBlockchain
}
    `;E`
    fragment TenantUserFragment on TenantUser {
  id
  alerts {
    ...TenantUserAlertFragment
  }
  connectedWallets {
    ...TenantConnectedWalletFragment
  }
}
    ${aT}
${iT}`;var gi=E`
    fragment AuthorizationFragment on Authorization {
  token
  expiry
}
    `,Qr=E`
    fragment UserFragment on User {
  email
  emailConfirmed
  authorization {
    ...AuthorizationFragment
  }
  roles
}
    ${gi}`,sT=E`
    fragment UserTopicFragment on UserTopic {
  name
  topicName
  targetCollections
  targetTemplate
}
    `,oT=E`
    fragment GetWeb3TargetResponseFragment on Web3TargetsConnection {
  edges {
    cursor
  }
  pageInfo {
    endCursor
    hasNextPage
    hasPreviousPage
    startCursor
  }
  nodes {
    id
    name
    accountId
    walletBlockchain
    targetProtocol
    isConfirmed
    senderAddress
  }
}
    `;E`
    fragment VerifyXmtpTargetResponseFragment on VerifyXmtpTargetResponse {
  web3Target {
    id
    name
    accountId
    walletBlockchain
    targetProtocol
    isConfirmed
    senderAddress
  }
}
    `;var lT=E`
    fragment VerifyCbwTargetResponseFragment on VerifyCbwTargetResponse {
  web3Target {
    id
    name
    accountId
    walletBlockchain
    targetProtocol
    isConfirmed
    senderAddress
  }
}
    `,uT=E`
    fragment VerifyXmtpTargetViaXip42ResponseFragment on VerifyXmtpTargetViaXip42Response {
  web3Target {
    id
    name
    accountId
    walletBlockchain
    targetProtocol
    isConfirmed
    senderAddress
  }
}
    `,pi=E`
    fragment WebPushTargetFragment on WebPushTarget {
  id
  createdDate
  name
}
    `,cT=E`
    mutation beginLogInByTransaction($walletAddress: String!, $walletBlockchain: WalletBlockchain!, $dappAddress: String!) {
  beginLogInByTransaction(
    beginLogInByTransactionInput: {walletAddress: $walletAddress, walletBlockchain: $walletBlockchain, dappAddress: $dappAddress}
  ) {
    nonce
  }
}
    `,dT=E`
    mutation beginLogInWithWeb3($authAddress: String!, $blockchainType: WalletBlockchain!, $dappAddress: String!, $authType: Web3AuthType!, $walletPubkey: String) {
  beginLogInWithWeb3(
    beginLogInWithWeb3Input: {authAddress: $authAddress, blockchainType: $blockchainType, dappAddress: $dappAddress, authType: $authType, walletPubkey: $walletPubkey}
  ) {
    beginLogInWithWeb3Response {
      nonce
    }
  }
}
    `,fT=E`
    mutation broadcastMessage($idempotencyKey: String, $topicName: String!, $targetTemplates: [KeyValuePairOfTargetTypeAndStringInput!], $variables: [KeyValuePairOfStringAndStringInput!], $timestamp: Long!, $walletBlockchain: WalletBlockchain!, $signature: String!) {
  broadcastMessage(
    broadcastMessageInput: {idempotencyKey: $idempotencyKey, sourceAddress: $topicName, targetTemplates: $targetTemplates, variables: $variables, timestamp: $timestamp, walletBlockchain: $walletBlockchain}
    signature: $signature
  ) {
    id
  }
}
    `,hT=E`
    mutation completeLogInByTransaction($walletAddress: String!, $walletBlockchain: WalletBlockchain!, $dappAddress: String!, $randomUuid: String!, $transactionSignature: String!) {
  completeLogInByTransaction(
    completeLogInByTransactionInput: {walletAddress: $walletAddress, walletBlockchain: $walletBlockchain, dappAddress: $dappAddress, randomUuid: $randomUuid, transactionSignature: $transactionSignature}
  ) {
    ...UserFragment
  }
}
    ${Qr}`,gT=E`
    mutation completeLogInWithWeb3($nonce: String!, $signature: String!, $signedMessage: String!, $signingAddress: String!, $signingPubkey: String!) {
  completeLogInWithWeb3(
    completeLogInWithWeb3Input: {nonce: $nonce, signature: $signature, signedMessage: $signedMessage, signingAddress: $signingAddress, signingPubkey: $signingPubkey}
  ) {
    user {
      ...UserFragment
    }
  }
}
    ${Qr}`,pT=E`
    mutation connectWallet($walletPublicKey: String!, $timestamp: Long!, $signature: String!, $walletBlockchain: WalletBlockchain!, $accountId: String, $connectWalletConflictResolutionTechnique: ConnectWalletConflictResolutionTechnique) {
  connectWallet(
    connectWalletInput: {walletPublicKey: $walletPublicKey, timestamp: $timestamp, walletBlockchain: $walletBlockchain, accountId: $accountId, connectWalletConflictResolutionTechnique: $connectWalletConflictResolutionTechnique}
    signature: $signature
  ) {
    ...ConnectedWalletFragment
  }
}
    ${di}`,vT=E`
    mutation createAlert($name: String!, $sourceGroupId: String!, $filterId: String!, $targetGroupId: String!, $filterOptions: String!, $groupName: String!) {
  createAlert(
    alertInput: {name: $name, sourceGroupId: $sourceGroupId, filterId: $filterId, targetGroupId: $targetGroupId, filterOptions: $filterOptions, groupName: $groupName}
  ) {
    ...AlertFragment
  }
}
    ${zr}`,_T=E`
    mutation createDirectPushAlert($input: CreateDirectPushAlertInput!) {
  createDirectPushAlert(createDirectPushAlertInput: $input) {
    ...AlertFragment
  }
}
    ${zr}`,mT=E`
    mutation createDiscordTarget($name: String!, $value: String!) {
  createDiscordTarget(createTargetInput: {name: $name, value: $value}) {
    ...DiscordTargetFragment
  }
}
    ${Gr}`,yT=E`
    mutation createEmailTarget($name: String!, $value: String!) {
  createEmailTarget(createTargetInput: {name: $name, value: $value}) {
    ...EmailTargetFragment
  }
}
    ${zt}`,ET=E`
    mutation createFusionAlerts($input: CreateFusionAlertsInput!) {
  createFusionAlerts(input: $input) {
    alerts {
      groupName
      id
      name
      filterOptions
      subscriptionValue
      fusionEventId
    }
    errors {
      ...ArgumentErrorFragment
      ...ArgumentNullErrorFragment
      ...ArgumentOutOfRangeErrorFragment
    }
  }
}
    ${Mu}
${qu}
${Uu}`,bT=E`
    mutation createSlackChannelTarget($name: String!, $value: String!) {
  createSlackChannelTarget(input: {name: $name, value: $value}) {
    ...CreateSlackChannelTargetResponseFragment
  }
}
    ${ZS}`,RT=E`
    mutation createSmsTarget($name: String!, $value: String!) {
  createSmsTarget(createTargetInput: {name: $name, value: $value}) {
    ...SmsTargetFragment
  }
}
    ${Kr}`,ST=E`
    mutation createTargetGroup($name: String!, $emailTargetIds: [String!]!, $smsTargetIds: [String!]!, $telegramTargetIds: [String!]!, $discordTargetIds: [String!]!, $slackChannelTargetIds: [String!]!, $web3TargetIds: [String!]!) {
  createTargetGroup(
    targetGroupInput: {name: $name, emailTargetIds: $emailTargetIds, smsTargetIds: $smsTargetIds, telegramTargetIds: $telegramTargetIds, discordTargetIds: $discordTargetIds, slackChannelTargetIds: $slackChannelTargetIds, web3TargetIds: $web3TargetIds}
  ) {
    ...TargetGroupFragment
  }
}
    ${Yt}`,TT=E`
    mutation createTelegramTarget($name: String!, $value: String!) {
  createTelegramTarget(createTargetInput: {name: $name, value: $value}) {
    ...TelegramTargetFragment
  }
}
    ${Wr}`,IT=E`
    mutation createWeb3Target($name: String!, $accountId: String!, $walletBlockchain: WalletBlockchain!, $web3TargetProtocol: Web3TargetProtocol!) {
  createWeb3Target(
    createWeb3TargetInput: {name: $name, accountId: $accountId, walletBlockchain: $walletBlockchain, protocol: $web3TargetProtocol}
  ) {
    ...Web3TargetFragment
  }
}
    ${ci}`,AT=E`
    mutation createWebPushTarget($vapidPublicKey: String!, $endpoint: String!, $auth: String!, $p256dh: String!) {
  createWebPushTarget(
    input: {vapidPublicKey: $vapidPublicKey, endpoint: $endpoint, auth: $auth, p256dh: $p256dh}
  ) {
    webPushTarget {
      ...WebPushTargetFragment
    }
    errors {
      ...TargetLimitExceededErrorFragment
      ...UnexpectedErrorFragment
    }
  }
}
    ${pi}
${QS}
${Yr}`,CT=E`
    mutation deleteAlert($id: String!) {
  deleteAlert(alertId: $id) {
    id
  }
}
    `,wT=E`
    mutation deleteAlerts($input: DeleteAlertsInput!) {
  deleteAlerts(input: $input) {
    deleteAlertsResponse {
      alertsIds
    }
    errors {
      ...ArgumentErrorFragment
      ...ArgumentNullErrorFragment
      ...ArgumentOutOfRangeErrorFragment
    }
  }
}
    ${Mu}
${qu}
${Uu}`,kT=E`
    mutation deleteDirectPushAlert($input: DeleteDirectPushAlertInput!) {
  deleteDirectPushAlert(deleteDirectPushAlertInput: $input) {
    id
  }
}
    `,DT=E`
    mutation deleteDiscordTarget($id: String!) {
  deleteDiscordTarget(deleteTargetInput: {id: $id}) {
    ...DiscordTargetFragment
  }
}
    ${Gr}`,FT=E`
    mutation deleteEmailTarget($id: String!) {
  deleteEmailTarget(deleteTargetInput: {id: $id}) {
    ...EmailTargetFragment
  }
}
    ${zt}`,NT=E`
    mutation deleteSlackChannelTarget($id: String!) {
  deleteSlackChannelTarget(input: {id: $id}) {
    slackChannelTarget {
      ...SlackChannelTargetFragment
    }
    errors {
      ...TargetAssignedToExistingTargetGroupErrorFragment
      ...UnexpectedErrorFragment
    }
  }
}
    ${Lu}
${XS}
${Yr}`,OT=E`
    mutation deleteSmsTarget($id: String!) {
  deleteSmsTarget(deleteTargetInput: {id: $id}) {
    ...SmsTargetFragment
  }
}
    ${Kr}`,xT=E`
    mutation deleteTargetGroup($id: String!) {
  deleteTargetGroup(targetGroupInput: {id: $id}) {
    id
  }
}
    `,$T=E`
    mutation deleteTelegramTarget($id: String!) {
  deleteTelegramTarget(deleteTargetInput: {id: $id}) {
    ...TelegramTargetFragment
  }
}
    ${Wr}`,PT=E`
    mutation deleteUserAlert($alertId: String!) {
  deleteUserAlert(alertId: $alertId) {
    id
  }
}
    `,LT=E`
    mutation deleteWeb3Target($id: String!) {
  deleteWeb3Target(deleteTargetInput: {id: $id}) {
    ...Web3TargetFragment
  }
}
    ${ci}`,MT=E`
    mutation deleteWebPushTarget($id: String!) {
  deleteWebPushTarget(input: {id: $id}) {
    success
    errors {
      ...TargetDoesNotExistErrorFragment
      ...UnexpectedErrorFragment
    }
  }
}
    ${Vu}
${Yr}`,qT=E`
    mutation logInByOidc($dappId: String!, $oidcProvider: OidcProvider!, $idToken: String!) {
  logInByOidc(
    input: {dappId: $dappId, oidcProvider: $oidcProvider, idToken: $idToken}
  ) {
    user {
      ...UserFragment
    }
  }
}
    ${Qr}`,UT=E`
    mutation logInFromDapp($walletBlockchain: WalletBlockchain!, $walletPublicKey: String!, $dappAddress: String!, $timestamp: Long!, $signature: String!, $accountId: String) {
  logInFromDapp(
    dappLogInInput: {walletBlockchain: $walletBlockchain, walletPublicKey: $walletPublicKey, dappAddress: $dappAddress, timestamp: $timestamp, accountId: $accountId}
    signature: $signature
  ) {
    ...UserFragment
  }
}
    ${Qr}`,VT=E`
    mutation logInFromService($input: ServiceLogInInput!) {
  logInFromService(serviceLogInInput: $input) {
    ...AuthorizationFragment
  }
}
    ${gi}`,HT=E`
    mutation markFusionNotificationHistoryAsRead($ids: [String!]!, $beforeId: String, $readState: NotificationHistoryReadState) {
  markFusionNotificationHistoryAsRead(
    input: {ids: $ids, beforeId: $beforeId, readState: $readState}
  )
}
    `,BT=E`
    mutation publishFusionMessage($eventTypeId: String!, $variablesJson: String!, $specificWallets: [KeyValuePairOfStringAndWalletBlockchainInput!]) {
  publishFusionMessage(
    publishFusionMessageInput: {eventTypeId: $eventTypeId, variablesJson: $variablesJson, specificWallets: $specificWallets}
  ) {
    eventUuid
  }
}
    `,jT=E`
    mutation refreshAuthorization {
  refreshAuthorization {
    ...AuthorizationFragment
  }
}
    ${gi}`,KT=E`
    mutation sendEmailTargetVerificationRequest($targetId: String!) {
  sendEmailTargetVerificationRequest(
    sendTargetConfirmationRequestInput: {targetId: $targetId}
  ) {
    ...EmailTargetFragment
  }
}
    ${zt}`,WT=E`
    mutation sendMessage($input: SendMessageInput!) {
  sendMessage(sendMessageInput: $input)
}
    `,GT=E`
    mutation updateTargetGroup($id: String!, $name: String!, $emailTargetIds: [String!]!, $smsTargetIds: [String!]!, $telegramTargetIds: [String!]!, $discordTargetIds: [String!]!, $slackChannelTargetIds: [String!]!, $web3TargetIds: [String!]!) {
  updateTargetGroup: createTargetGroup(
    targetGroupInput: {id: $id, name: $name, emailTargetIds: $emailTargetIds, smsTargetIds: $smsTargetIds, telegramTargetIds: $telegramTargetIds, discordTargetIds: $discordTargetIds, slackChannelTargetIds: $slackChannelTargetIds, web3TargetIds: $web3TargetIds}
  ) {
    ...TargetGroupFragment
  }
}
    ${Yt}`,zT=E`
    mutation updateUserSettings($input: UserSettingsInput!) {
  updateUserSettings(userSettings: $input) {
    detailedAlertHistoryEnabled
    userHasChatEnabled
    ftuStage
  }
}
    `,YT=E`
    mutation updateWebPushTarget($id: String!, $endpoint: String!, $auth: String!, $p256dh: String!) {
  updateWebPushTarget(
    input: {id: $id, endpoint: $endpoint, auth: $auth, p256dh: $p256dh}
  ) {
    webPushTarget {
      ...WebPushTargetFragment
    }
    errors {
      ...TargetDoesNotExistErrorFragment
      ...UnexpectedErrorFragment
    }
  }
}
    ${pi}
${Vu}
${Yr}`,QT=E`
    mutation verifyCbwTarget($input: VerifyCbwTargetInput!) {
  verifyCbwTarget(input: $input) {
    ...VerifyCbwTargetResponseFragment
  }
}
    ${lT}`,XT=E`
    mutation verifyXmtpTargetViaXip42($input: VerifyXmtpTargetViaXip42Input!) {
  verifyXmtpTargetViaXip42(input: $input) {
    ...VerifyXmtpTargetViaXip42ResponseFragment
  }
}
    ${uT}`,JT=E`
    query fetchFusionData {
  alert {
    ...AlertFragment
  }
  connectedWallet {
    ...ConnectedWalletFragment
  }
  targetGroup {
    ...TargetGroupFragment
  }
}
    ${zr}
${di}
${Yt}`,ZT=E`
    query findTenantConfig($input: FindTenantConfigInput!) {
  findTenantConfig(findTenantConfigInput: $input) {
    ...TenantConfigFragment
  }
}
    ${tT}`,eI=E`
    query getActiveAlerts($first: Int, $after: String, $fusionEventId: String!) {
  activeAlerts(
    after: $after
    first: $first
    activeAlertsInput: {fusionEventId: $fusionEventId}
  ) {
    nodes {
      ...ActiveAlertFragment
    }
    pageInfo {
      ...PageInfoFragment
    }
  }
}
    ${YS}
${fi}`,tI=E`
    query getAlerts {
  alert {
    ...AlertFragment
  }
}
    ${zr}`,rI=E`
    query getConfigurationForDapp($dappAddress: String!) {
  configurationForDapp(getConfigurationForDappInput: {dappAddress: $dappAddress}) {
    supportedSmsCountryCodes
    supportedTargetTypes
  }
}
    `,nI=E`
    query getConnectedWallets {
  connectedWallet {
    ...ConnectedWalletFragment
  }
}
    ${di}`,aI=E`
    query getDiscordTargets {
  discordTarget {
    ...DiscordTargetFragment
  }
}
    ${Gr}`,iI=E`
    query getEmailTargets {
  emailTarget {
    ...EmailTargetFragment
  }
}
    ${zt}`,sI=E`
    query getFilters {
  filter {
    ...FilterFragment
  }
}
    ${hi}`,oI=E`
    query getFusionNotificationHistory($after: String, $first: Int, $includeHidden: Boolean, $includeRead: Boolean) {
  fusionNotificationHistory(
    after: $after
    first: $first
    includeHidden: $includeHidden
    includeRead: $includeRead
  ) {
    nodes {
      ...FusionNotificationHistoryEntryFragment
    }
    pageInfo {
      ...PageInfoFragment
    }
  }
}
    ${JS}
${fi}`,lI=E`
    query getSlackChannelTargets($after: String, $first: Int, $ids: [String!]) {
  slackChannelTargets(input: {after: $after, first: $first, ids: $ids}) {
    ...GetSlackChannelTargetsResponseFragment
  }
}
    ${eT}`,uI=E`
    query getSmartLinkConfig($input: GetSmartLinkConfigInput!) {
  smartLinkConfig(input: $input) {
    isActive
    smartLinkConfig
  }
}
    `,cI=E`
    query getSmsTargets {
  smsTarget {
    ...SmsTargetFragment
  }
}
    ${Kr}`,dI=E`
    query getTargetGroups {
  targetGroup {
    ...TargetGroupFragment
  }
}
    ${Yt}`,fI=E`
    query getTelegramTargets {
  telegramTarget {
    ...TelegramTargetFragment
  }
}
    ${Wr}`,hI=E`
    query getTopics {
  topics {
    nodes {
      ...UserTopicFragment
    }
  }
}
    ${sT}`,gI=E`
    query getUnreadNotificationHistoryCount($cardId: String) {
  unreadNotificationHistoryCount(input: {cardId: $cardId}) {
    count
  }
}
    `,pI=E`
    query getUserSettings {
  userSettings {
    detailedAlertHistoryEnabled
    userHasChatEnabled
    ftuStage
  }
}
    `,vI=E`
    query getWeb3Targets {
  web3Targets {
    ...GetWeb3TargetResponseFragment
  }
}
    ${oT}`,_I=E`
    query getWebPushTargets($ids: [String!], $first: Int, $after: String) {
  webPushTargets(
    input: {ids: $ids, first: $first, after: $after}
    first: $first
    after: $after
  ) {
    pageInfo {
      ...PageInfoFragment
    }
    nodes {
      ...WebPushTargetFragment
    }
    edges {
      cursor
      node {
        ...WebPushTargetFragment
      }
    }
  }
}
    ${fi}
${pi}`,mI=(t,r,a,e)=>t();function yI(t,r=mI){return{beginLogInByTransaction(a,e,n){return r(i=>t.request({document:cT,variables:a,requestHeaders:{...e,...i},signal:n}),"beginLogInByTransaction","mutation",a)},beginLogInWithWeb3(a,e,n){return r(i=>t.request({document:dT,variables:a,requestHeaders:{...e,...i},signal:n}),"beginLogInWithWeb3","mutation",a)},broadcastMessage(a,e,n){return r(i=>t.request({document:fT,variables:a,requestHeaders:{...e,...i},signal:n}),"broadcastMessage","mutation",a)},completeLogInByTransaction(a,e,n){return r(i=>t.request({document:hT,variables:a,requestHeaders:{...e,...i},signal:n}),"completeLogInByTransaction","mutation",a)},completeLogInWithWeb3(a,e,n){return r(i=>t.request({document:gT,variables:a,requestHeaders:{...e,...i},signal:n}),"completeLogInWithWeb3","mutation",a)},connectWallet(a,e,n){return r(i=>t.request({document:pT,variables:a,requestHeaders:{...e,...i},signal:n}),"connectWallet","mutation",a)},createAlert(a,e,n){return r(i=>t.request({document:vT,variables:a,requestHeaders:{...e,...i},signal:n}),"createAlert","mutation",a)},createDirectPushAlert(a,e,n){return r(i=>t.request({document:_T,variables:a,requestHeaders:{...e,...i},signal:n}),"createDirectPushAlert","mutation",a)},createDiscordTarget(a,e,n){return r(i=>t.request({document:mT,variables:a,requestHeaders:{...e,...i},signal:n}),"createDiscordTarget","mutation",a)},createEmailTarget(a,e,n){return r(i=>t.request({document:yT,variables:a,requestHeaders:{...e,...i},signal:n}),"createEmailTarget","mutation",a)},createFusionAlerts(a,e,n){return r(i=>t.request({document:ET,variables:a,requestHeaders:{...e,...i},signal:n}),"createFusionAlerts","mutation",a)},createSlackChannelTarget(a,e,n){return r(i=>t.request({document:bT,variables:a,requestHeaders:{...e,...i},signal:n}),"createSlackChannelTarget","mutation",a)},createSmsTarget(a,e,n){return r(i=>t.request({document:RT,variables:a,requestHeaders:{...e,...i},signal:n}),"createSmsTarget","mutation",a)},createTargetGroup(a,e,n){return r(i=>t.request({document:ST,variables:a,requestHeaders:{...e,...i},signal:n}),"createTargetGroup","mutation",a)},createTelegramTarget(a,e,n){return r(i=>t.request({document:TT,variables:a,requestHeaders:{...e,...i},signal:n}),"createTelegramTarget","mutation",a)},createWeb3Target(a,e,n){return r(i=>t.request({document:IT,variables:a,requestHeaders:{...e,...i},signal:n}),"createWeb3Target","mutation",a)},createWebPushTarget(a,e,n){return r(i=>t.request({document:AT,variables:a,requestHeaders:{...e,...i},signal:n}),"createWebPushTarget","mutation",a)},deleteAlert(a,e,n){return r(i=>t.request({document:CT,variables:a,requestHeaders:{...e,...i},signal:n}),"deleteAlert","mutation",a)},deleteAlerts(a,e,n){return r(i=>t.request({document:wT,variables:a,requestHeaders:{...e,...i},signal:n}),"deleteAlerts","mutation",a)},deleteDirectPushAlert(a,e,n){return r(i=>t.request({document:kT,variables:a,requestHeaders:{...e,...i},signal:n}),"deleteDirectPushAlert","mutation",a)},deleteDiscordTarget(a,e,n){return r(i=>t.request({document:DT,variables:a,requestHeaders:{...e,...i},signal:n}),"deleteDiscordTarget","mutation",a)},deleteEmailTarget(a,e,n){return r(i=>t.request({document:FT,variables:a,requestHeaders:{...e,...i},signal:n}),"deleteEmailTarget","mutation",a)},deleteSlackChannelTarget(a,e,n){return r(i=>t.request({document:NT,variables:a,requestHeaders:{...e,...i},signal:n}),"deleteSlackChannelTarget","mutation",a)},deleteSmsTarget(a,e,n){return r(i=>t.request({document:OT,variables:a,requestHeaders:{...e,...i},signal:n}),"deleteSmsTarget","mutation",a)},deleteTargetGroup(a,e,n){return r(i=>t.request({document:xT,variables:a,requestHeaders:{...e,...i},signal:n}),"deleteTargetGroup","mutation",a)},deleteTelegramTarget(a,e,n){return r(i=>t.request({document:$T,variables:a,requestHeaders:{...e,...i},signal:n}),"deleteTelegramTarget","mutation",a)},deleteUserAlert(a,e,n){return r(i=>t.request({document:PT,variables:a,requestHeaders:{...e,...i},signal:n}),"deleteUserAlert","mutation",a)},deleteWeb3Target(a,e,n){return r(i=>t.request({document:LT,variables:a,requestHeaders:{...e,...i},signal:n}),"deleteWeb3Target","mutation",a)},deleteWebPushTarget(a,e,n){return r(i=>t.request({document:MT,variables:a,requestHeaders:{...e,...i},signal:n}),"deleteWebPushTarget","mutation",a)},logInByOidc(a,e,n){return r(i=>t.request({document:qT,variables:a,requestHeaders:{...e,...i},signal:n}),"logInByOidc","mutation",a)},logInFromDapp(a,e,n){return r(i=>t.request({document:UT,variables:a,requestHeaders:{...e,...i},signal:n}),"logInFromDapp","mutation",a)},logInFromService(a,e,n){return r(i=>t.request({document:VT,variables:a,requestHeaders:{...e,...i},signal:n}),"logInFromService","mutation",a)},markFusionNotificationHistoryAsRead(a,e,n){return r(i=>t.request({document:HT,variables:a,requestHeaders:{...e,...i},signal:n}),"markFusionNotificationHistoryAsRead","mutation",a)},publishFusionMessage(a,e,n){return r(i=>t.request({document:BT,variables:a,requestHeaders:{...e,...i},signal:n}),"publishFusionMessage","mutation",a)},refreshAuthorization(a,e,n){return r(i=>t.request({document:jT,variables:a,requestHeaders:{...e,...i},signal:n}),"refreshAuthorization","mutation",a)},sendEmailTargetVerificationRequest(a,e,n){return r(i=>t.request({document:KT,variables:a,requestHeaders:{...e,...i},signal:n}),"sendEmailTargetVerificationRequest","mutation",a)},sendMessage(a,e,n){return r(i=>t.request({document:WT,variables:a,requestHeaders:{...e,...i},signal:n}),"sendMessage","mutation",a)},updateTargetGroup(a,e,n){return r(i=>t.request({document:GT,variables:a,requestHeaders:{...e,...i},signal:n}),"updateTargetGroup","mutation",a)},updateUserSettings(a,e,n){return r(i=>t.request({document:zT,variables:a,requestHeaders:{...e,...i},signal:n}),"updateUserSettings","mutation",a)},updateWebPushTarget(a,e,n){return r(i=>t.request({document:YT,variables:a,requestHeaders:{...e,...i},signal:n}),"updateWebPushTarget","mutation",a)},verifyCbwTarget(a,e,n){return r(i=>t.request({document:QT,variables:a,requestHeaders:{...e,...i},signal:n}),"verifyCbwTarget","mutation",a)},verifyXmtpTargetViaXip42(a,e,n){return r(i=>t.request({document:XT,variables:a,requestHeaders:{...e,...i},signal:n}),"verifyXmtpTargetViaXip42","mutation",a)},fetchFusionData(a,e,n){return r(i=>t.request({document:JT,variables:a,requestHeaders:{...e,...i},signal:n}),"fetchFusionData","query",a)},findTenantConfig(a,e,n){return r(i=>t.request({document:ZT,variables:a,requestHeaders:{...e,...i},signal:n}),"findTenantConfig","query",a)},getActiveAlerts(a,e,n){return r(i=>t.request({document:eI,variables:a,requestHeaders:{...e,...i},signal:n}),"getActiveAlerts","query",a)},getAlerts(a,e,n){return r(i=>t.request({document:tI,variables:a,requestHeaders:{...e,...i},signal:n}),"getAlerts","query",a)},getConfigurationForDapp(a,e,n){return r(i=>t.request({document:rI,variables:a,requestHeaders:{...e,...i},signal:n}),"getConfigurationForDapp","query",a)},getConnectedWallets(a,e,n){return r(i=>t.request({document:nI,variables:a,requestHeaders:{...e,...i},signal:n}),"getConnectedWallets","query",a)},getDiscordTargets(a,e,n){return r(i=>t.request({document:aI,variables:a,requestHeaders:{...e,...i},signal:n}),"getDiscordTargets","query",a)},getEmailTargets(a,e,n){return r(i=>t.request({document:iI,variables:a,requestHeaders:{...e,...i},signal:n}),"getEmailTargets","query",a)},getFilters(a,e,n){return r(i=>t.request({document:sI,variables:a,requestHeaders:{...e,...i},signal:n}),"getFilters","query",a)},getFusionNotificationHistory(a,e,n){return r(i=>t.request({document:oI,variables:a,requestHeaders:{...e,...i},signal:n}),"getFusionNotificationHistory","query",a)},getSlackChannelTargets(a,e,n){return r(i=>t.request({document:lI,variables:a,requestHeaders:{...e,...i},signal:n}),"getSlackChannelTargets","query",a)},getSmartLinkConfig(a,e,n){return r(i=>t.request({document:uI,variables:a,requestHeaders:{...e,...i},signal:n}),"getSmartLinkConfig","query",a)},getSmsTargets(a,e,n){return r(i=>t.request({document:cI,variables:a,requestHeaders:{...e,...i},signal:n}),"getSmsTargets","query",a)},getTargetGroups(a,e,n){return r(i=>t.request({document:dI,variables:a,requestHeaders:{...e,...i},signal:n}),"getTargetGroups","query",a)},getTelegramTargets(a,e,n){return r(i=>t.request({document:fI,variables:a,requestHeaders:{...e,...i},signal:n}),"getTelegramTargets","query",a)},getTopics(a,e,n){return r(i=>t.request({document:hI,variables:a,requestHeaders:{...e,...i},signal:n}),"getTopics","query",a)},getUnreadNotificationHistoryCount(a,e,n){return r(i=>t.request({document:gI,variables:a,requestHeaders:{...e,...i},signal:n}),"getUnreadNotificationHistoryCount","query",a)},getUserSettings(a,e,n){return r(i=>t.request({document:pI,variables:a,requestHeaders:{...e,...i},signal:n}),"getUserSettings","query",a)},getWeb3Targets(a,e,n){return r(i=>t.request({document:vI,variables:a,requestHeaders:{...e,...i},signal:n}),"getWeb3Targets","query",a)},getWebPushTargets(a,e,n){return r(i=>t.request({document:_I,variables:a,requestHeaders:{...e,...i},signal:n}),"getWebPushTargets","query",a)}}}var EI=class{constructor(t,r,a){this._notifiSubService=r,this._optionHeaders=a,this._typedClient=yI(t)}setJwt(t){this._jwt=t,this._notifiSubService.setJwt(t)}async logOut(){this._jwt=void 0,this._notifiSubService.setJwt(void 0)}async beginLogInByTransaction(t){const r=this._requestHeaders();return this._typedClient.beginLogInByTransaction(t,r)}async broadcastMessage(t){const r=this._requestHeaders();return this._typedClient.broadcastMessage(t,r)}async completeLogInByTransaction(t){var n,i;const r=this._requestHeaders(),a=await this._typedClient.completeLogInByTransaction(t,r),e=(i=(n=a.completeLogInByTransaction)==null?void 0:n.authorization)==null?void 0:i.token;return e!==void 0&&this._onAuthComplete(e),a}async connectWallet(t){const r=this._requestHeaders();return await this._typedClient.connectWallet(t,r)}async createAlert(t){const r=this._requestHeaders();return this._typedClient.createAlert(t,r)}async createFusionAlerts(t){const r=this._requestHeaders();return this._typedClient.createFusionAlerts(t,r)}async createDirectPushAlert(t){const r=this._requestHeaders();return this._typedClient.createDirectPushAlert(t,r)}async createEmailTarget(t){const r=this._requestHeaders();return this._typedClient.createEmailTarget(t,r)}async deleteEmailTarget(t){const r=this._requestHeaders();return this._typedClient.deleteEmailTarget(t,r)}async createDiscordTarget(t){const r=this._requestHeaders();return this._typedClient.createDiscordTarget(t,r)}async deleteDiscordTarget(t){const r=this._requestHeaders();return this._typedClient.deleteDiscordTarget(t,r)}async createSlackChannelTarget(t){const r=this._requestHeaders();return this._typedClient.createSlackChannelTarget(t,r)}async deleteSlackChannelTarget(t){const r=this._requestHeaders();return this._typedClient.deleteSlackChannelTarget(t,r)}async createWeb3Target(t){const r=this._requestHeaders();return this._typedClient.createWeb3Target(t,r)}async deleteWeb3Target(t){const r=this._requestHeaders();return this._typedClient.deleteWeb3Target(t,r)}async createSmsTarget(t){const r=this._requestHeaders();return this._typedClient.createSmsTarget(t,r)}async deleteSmsTarget(t){const r=this._requestHeaders();return this._typedClient.deleteSmsTarget(t,r)}async createTargetGroup(t){const r=this._requestHeaders();return this._typedClient.createTargetGroup(t,r)}async deleteTelegramTarget(t){const r=this._requestHeaders();return this._typedClient.deleteTelegramTarget(t,r)}async createTelegramTarget(t){const r=this._requestHeaders();return this._typedClient.createTelegramTarget(t,r)}async deleteAlert(t){const r=this._requestHeaders();return this._typedClient.deleteAlert(t,r)}async deleteAlerts(t){const r=this._requestHeaders();return this._typedClient.deleteAlerts(t,r)}async DeleteDirectPushAlert(t){const r=this._requestHeaders();return this._typedClient.deleteDirectPushAlert(t,r)}async deleteUserAlert(t){const r=this._requestHeaders();return this._typedClient.deleteUserAlert(t,r)}async deleteTargetGroup(t){const r=this._requestHeaders();return this._typedClient.deleteTargetGroup(t,r)}async fetchFusionData(t){const r=this._requestHeaders();return this._typedClient.fetchFusionData(t,r)}async findTenantConfig(t){const r=this._requestHeaders();return this._typedClient.findTenantConfig(t,r)}async getAlerts(t){const r=this._requestHeaders();return this._typedClient.getAlerts(t,r)}async getActiveAlerts(t){const r=this._requestHeaders();return this._typedClient.getActiveAlerts(t,r)}async getConfigurationForDapp(t){const r=this._requestHeaders();return this._typedClient.getConfigurationForDapp(t,r)}async getConnectedWallets(t){const r=this._requestHeaders();return this._typedClient.getConnectedWallets(t,r)}async getEmailTargets(t){const r=this._requestHeaders();return this._typedClient.getEmailTargets(t,r)}async getDiscordTargets(t){const r=this._requestHeaders();return this._typedClient.getDiscordTargets(t,r)}async getSlackChannelTargets(t){const r=this._requestHeaders();return this._typedClient.getSlackChannelTargets(t,r)}async getWeb3Targets(t){const r=this._requestHeaders();return this._typedClient.getWeb3Targets(t,r)}async getFilters(t){const r=this._requestHeaders();return this._typedClient.getFilters(t,r)}async getFusionNotificationHistory(t){const r=this._requestHeaders();return this._typedClient.getFusionNotificationHistory(t,r)}async getSmsTargets(t){const r=this._requestHeaders();return this._typedClient.getSmsTargets(t,r)}async getTargetGroups(t){const r=this._requestHeaders();return this._typedClient.getTargetGroups(t,r)}async getTelegramTargets(t){const r=this._requestHeaders();return this._typedClient.getTelegramTargets(t,r)}async getTopics(t){const r=this._requestHeaders();return this._typedClient.getTopics(t,r)}async getUnreadNotificationHistoryCount(t){const r=this._requestHeaders();return this._typedClient.getUnreadNotificationHistoryCount(t,r)}async wsDispose(){this._notifiSubService.disposeClient()}addEventListener(t,r,a,e){return this._notifiSubService.addEventListener(t,r,a,e)}removeEventListener(t,r){return this._notifiSubService.removeEventListener(t,r)}async getUserSettings(t){const r=this._requestHeaders();return this._typedClient.getUserSettings(t,r)}async logInFromDapp(t){var n,i;const r=this._requestHeaders(),a=await this._typedClient.logInFromDapp(t,r),e=(i=(n=a.logInFromDapp)==null?void 0:n.authorization)==null?void 0:i.token;return e!==void 0&&this._onAuthComplete(e),a}async logInFromService(t){var n;const r=this._requestHeaders(),a=await this._typedClient.logInFromService(t,r),e=(n=a.logInFromService)==null?void 0:n.token;return e!==void 0&&this._onAuthComplete(e),a}async logInByOidc(t){var n,i,s;const r=this._requestHeaders(),a=await this._typedClient.logInByOidc(t,r),e=(s=(i=(n=a.logInByOidc)==null?void 0:n.user)==null?void 0:i.authorization)==null?void 0:s.token;return e!==void 0&&this._onAuthComplete(e),a}async markFusionNotificationHistoryAsRead(t){const r=this._requestHeaders();return this._typedClient.markFusionNotificationHistoryAsRead(t,r)}async updateUserSettings(t){const r=this._requestHeaders();return this._typedClient.updateUserSettings(t,r)}async refreshAuthorization(t){var n;const r=this._requestHeaders(),a=await this._typedClient.refreshAuthorization(t,r),e=(n=a.refreshAuthorization)==null?void 0:n.token;return e!==void 0&&this._onAuthComplete(e),a}async sendEmailTargetVerificationRequest(t){const r=this._requestHeaders();return this._typedClient.sendEmailTargetVerificationRequest(t,r)}async sendMessage(t){const r=this._requestHeaders();return this._typedClient.sendMessage(t,r)}async updateTargetGroup(t){const r=this._requestHeaders();return this._typedClient.updateTargetGroup(t,r)}async beginLogInWithWeb3(t){const r=this._requestHeaders();return this._typedClient.beginLogInWithWeb3(t,r)}async completeLogInWithWeb3(t){var n,i,s;const r=this._requestHeaders(),a=await this._typedClient.completeLogInWithWeb3(t,r),e=(s=(i=(n=a==null?void 0:a.completeLogInWithWeb3)==null?void 0:n.user)==null?void 0:i.authorization)==null?void 0:s.token;return e!==void 0&&this._onAuthComplete(e),a}async verifyCbwTarget(t){const r=this._requestHeaders();return this._typedClient.verifyCbwTarget(t,r)}async verifyXmtpTargetViaXip42(t){const r=this._requestHeaders();return this._typedClient.verifyXmtpTargetViaXip42(t,r)}async createWebPushTarget(t){const r=this._requestHeaders();return this._typedClient.createWebPushTarget(t,r)}async updateWebPushTarget(t){const r=this._requestHeaders();return this._typedClient.updateWebPushTarget(t,r)}async deleteWebPushTarget(t){const r=this._requestHeaders();return this._typedClient.deleteWebPushTarget(t,r)}async getWebPushTargets(t){const r=this._requestHeaders();return this._typedClient.getWebPushTargets(t,r)}async getSmartLinkConfig(t){const r=this._requestHeaders();return this._typedClient.getSmartLinkConfig(t,r)}_onAuthComplete(t){this._jwt=t,this._notifiSubService.setJwt(t)}_requestHeaders(){const r={"X-Request-Id":Fc(),"X-Notifi-Client-Version":US};return this._jwt!==void 0&&(r.Authorization=`Bearer ${this._jwt}`),this._optionHeaders&&Object.entries(this._optionHeaders).forEach(([a,e])=>{a!=="X-Request-Id"&&(r[a]=e)}),r}},bI=class{constructor(){this.listeners={}}on(t,r,a){this.listeners[t]||(this.listeners[t]={}),this.listeners[t][a]=r}off(t,r){var a;(a=this.listeners[t])!=null&&a[r]&&(this.listeners[t][r].subscription.unsubscribe(),delete this.listeners[t][r])}emit(t,r,...a){var e,n;(e=this.listeners[t])!=null&&e[r]&&(n=this.listeners[t])!=null&&n[r]&&this.listeners[t][r].callback(...a)}},ma=`
  subscription stateChanged {
    stateChanged {
      ... on TargetStateChangedEvent {
        __typename
        targetId
        targetType
        timestamp
      }
      ... on NotificationHistoryStateChangedEvent {
        __typename
        timestamp
      }
    }
  }
`;ui`
  ${ma}
`;var RI=ui`
  fragment ActiveAlertFragment on ActiveAlert {
    __typename
    id
    filterOptionsJson
    fusionEventId
    subscriptionValue
    user {
      __typename
      id
      connectedWallets {
        address
        walletBlockchain
      }
    }
  }
`,ya=`
  subscription tenantActiveAlertChanged {
    tenantActiveAlertChanged {
      __typename
      ... on ActiveAlertCreatedEvent {
        __typename
        activeAlert {
          ...ActiveAlertFragment
        }
      }
      ... on ActiveAlertDeletedEvent {
        alertId
        timestamp
        userId
      }
    }
  }
  ${RI}
`;ui`
  ${ya}
`;var SI=class{constructor(t,r){this.wsurl=t,this.webSocketImpl=r,this.eventEmitter=new bI,this.setJwt=a=>{this._jwt=a},this.addEventListener=(a,e,n,i)=>{const s=Math.random().toString(36).slice(2,11),o={subscriptionQuery:"",id:s,onError:n,onComplete:i};switch(a){case"stateChanged":o.subscriptionQuery=ma;break;case"tenantActiveAlertChanged":o.subscriptionQuery=ya;break;default:throw new Error("Unknown event")}const l=this._subscribe(o);if(!l)throw new Error("NotifiSubscriptionService.addEventListener: Subscription failed");return this.eventEmitter.on(a,{callback:e,subscription:l},s),s},this.removeEventListener=(a,e)=>this.eventEmitter.off(a,e),this._subscribe=({subscriptionQuery:a,id:e,onError:n,onComplete:i})=>(this._wsClient||this._initializeClient(),!this._wsClient||!this._jwt?null:this._toObservable(this._wsClient,{query:a,extensions:{type:"start"}}).subscribe({next:l=>{switch(a){case ma:{const u=Zs("stateChanged",l);if(!u)throw new Error("Invalid stateChanged event data");this.eventEmitter.emit("stateChanged",e,u);break}case ya:{const u=Zs("tenantActiveAlertChanged",l);if(!u)throw new Error("Invalid tenantActiveAlertChanged event data");this.eventEmitter.emit("tenantActiveAlertChanged",e,u);break}default:console.warn("Unknown subscription query:",a)}},error:n,complete:i})),this._initializeClient=()=>{if(!this._jwt)throw new Error("NotifiSubscriptionService._initializeClient: Missing JWT");this._wsClient=od({url:this.wsurl,connectionParams:{Authorization:`Bearer ${this._jwt}`},webSocketImpl:this.webSocketImpl})},this.disposeClient=()=>{this._wsClient&&(this._jwt=void 0,this._wsClient.terminate(),this._wsClient.dispose())},this.subscribe=(a,e,n,i,s)=>(this._jwt=a,this._wsClient||this._initializeClient(),this._wsClient?this._toObservable(this._wsClient,{query:e,extensions:{type:"start"}}).subscribe({next:u=>{n&&n(u)},error:u=>{i&&u instanceof Error&&i(u)},complete:()=>{s&&s()}}):null)}_toObservable(t,r){return kS.Observable.create(a=>t.subscribe(r,{next:e=>a.next(e),error:e=>{e instanceof Error&&a.error(e)},complete:()=>a.complete()}))}},Zs=(t,r)=>{if(typeof r!="object"||r===null||!("data"in r))return null;const{data:a}=r;return typeof a=="object"&&a!==null&&t in a?a[t]:null},TI=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")};const II=lc(TI);var Qt=t=>"accountAddress"in t,Hu=t=>"walletPublicKey"in t&&!("accountAddress"in t),vi=t=>"delegatedAddress"in t,Bu=t=>t.walletBlockchain==="OFF_CHAIN",eo=(t,r,a)=>{t||(t="Production");let e="";switch(t){case"Development":e="://api.dev.notifi.network/gql";break;case"Local":e="://localhost:5001/gql";break;case"Production":e="://api.notifi.network/gql";break;case"Staging":e="://api.stg.notifi.network/gql"}return`${r==="websocket"?"wss":t==="Local"?"http":"https"}${e}`},ju=["COSMOS","OSMOSIS","NEUTRON","ELYS","ARCHWAY","AXELAR","AGORIC","ORAI","KAVA","CELESTIA","NIBIRU","DYMENSION","PERSISTENCE","DYDX","XION"],Ku=["ETHEREUM","POLYGON","ARBITRUM","AVALANCHE","BINANCE","BOTANIX","BOB","MONAD","BASE","BLAST","CELO","MANTLE","SCROLL","LINEA","MANTA","BERACHAIN","HYPEREVM","UNICHAIN","OPTIMISM","THE_ROOT_NETWORK","SEI","SONIC","INK","SWELLCHAIN","HEMI","CORE_BLOCKCHAIN_MAINNET","GOAT_NETWORK","NIBURU_CATACLYSM1","ROME","ZKSYNC"],Wu=["APTOS","MOVEMENT"],Gu=["SOLANA"],zu=["SUI"],AI=["BITCOIN","ARCH"],CI=["ACALA","EVMOS","ABSTRACT"];function wI(t){return CI.includes(t)}function Yu(t){return ju.includes(t)}function kI(t){return Yu(t.walletBlockchain)}function _i(t){return Ku.includes(t)}function DI(t){return _i(t.walletBlockchain)}function Qu(t){return Wu.includes(t)}function FI(t){return Qu(t.walletBlockchain)}function NI(t){return AI.includes(t)}function OI(t){return NI(t.walletBlockchain)}function Xu(t){return Gu.includes(t)}function xI(t){return Xu(t.walletBlockchain)}function Ju(t){return zu.includes(t)}function $I(t){return Ju(t.walletBlockchain)}var Ea=t=>t!=null,PI=t=>(r,a,e)=>{if(a.type==="value")return a.value;{if(a.ref===null)throw new Error(`Invalid configuration: Ref ${r} is null`);const n=e[a.ref];if(t(n))return n;throw new Error(`Invalid value provided for ${r}: ${n}`)}},LI=PI(t=>typeof t=="string"),MI=t=>{let r=t;return t!==""&&(r=t.toLowerCase(),r.startsWith("0x")||(r="0x"+r)),r},qI=t=>{try{const r=JSON.parse(t);if("version"in r){switch(r.version){case"v1":return r;case"v2":return r}throw new Error(`Unsupported tenant config version: ${r.version}`)}throw new Error(`Unsupported tenant config payload - expect 'version' field: ${t}`)}catch(r){throw new Error(`Failed to parse tenant config: ${r}`)}},_e=(t,r)=>{const a=new Set(t);return r.length===a.size&&r.every(e=>e!==void 0&&e.id!==void 0&&a.has(e.id))},to=async t=>{var a,e,n,i,s,o;const r=t.service;if(t.type==="create")switch(t.target){case"email":return(a=(await r.createEmailTarget({name:t.value,value:t.value})).createEmailTarget)==null?void 0:a.id;case"phoneNumber":return(e=(await r.createSmsTarget({name:t.value,value:t.value})).createSmsTarget)==null?void 0:e.id;case"telegram":return(n=(await r.createTelegramTarget({name:t.value,value:t.value})).createTelegramTarget)==null?void 0:n.id;case"discord":return(i=(await r.createDiscordTarget({name:t.value,value:t.value})).createDiscordTarget)==null?void 0:i.id;case"slack":return(s=(await r.createSlackChannelTarget({name:t.value,value:t.value})).createSlackChannelTarget.slackChannelTarget)==null?void 0:s.id;case"wallet":return(o=(await r.createWeb3Target({name:t.value,accountId:"",walletBlockchain:"OFF_CHAIN",web3TargetProtocol:"XMTP"})).createWeb3Target)==null?void 0:o.id}if(t.type==="delete")switch(t.target){case"email":await r.deleteEmailTarget({id:t.id});return;case"phoneNumber":await r.deleteSmsTarget({id:t.id});return;case"telegram":await r.deleteTelegramTarget({id:t.id});return;case"discord":await r.deleteDiscordTarget({id:t.id});return;case"slack":await r.deleteSlackChannelTarget({id:t.id});return;case"wallet":await r.deleteWeb3Target({id:t.id});return}},UI=async(t,r)=>{const a=(await r.getTargetGroups({})).targetGroup,e=a==null?void 0:a.find(h=>(h==null?void 0:h.name)===t.name);if(!e)throw new Error("Target group not found");const n={type:"remove"},[i,s,o,l,u,c]=await Promise.all([ut("email",t.email??n,r),ut("phoneNumber",t.phoneNumber??n,r),ut("telegram",t.telegram??n,r),ut("discord",t.discord??n,r),ut("slack",t.slack??n,r),ut("wallet",t.wallet??n,r)]);if(_e(i,e.emailTargets??[])&&_e(s,e.smsTargets??[])&&_e(o,e.telegramTargets??[])&&_e(l,e.discordTargets??[])&&_e(u,e.slackChannelTargets??[])&&_e(c,e.web3Targets??[]))return e;const f=(await r.updateTargetGroup({id:e.id,name:e.name??e.id,emailTargetIds:i,smsTargetIds:s,telegramTargetIds:o,discordTargetIds:l,slackChannelTargetIds:u,web3TargetIds:c})).updateTargetGroup;if(f===void 0)throw new Error("Failed to update target group");return f},ut=async(t,r,a)=>{var n,i;if(r.type==="remove")return[];let e;switch(t){case"email":e=(await a.getEmailTargets({})).emailTarget;break;case"phoneNumber":e=(await a.getSmsTargets({})).smsTarget;break;case"telegram":e=(await a.getTelegramTargets({})).telegramTarget;break;case"discord":e=(await a.getDiscordTargets({})).discordTarget;break;case"slack":e=(n=(await a.getSlackChannelTargets({})).slackChannelTargets)==null?void 0:n.nodes;break;case"wallet":e=(i=(await a.getWeb3Targets({})).web3Targets)==null?void 0:i.nodes;break}if(r.type==="delete"&&(e!=null&&e.find(s=>(s==null?void 0:s.id)===r.id)))return await to({type:r.type,id:r.id,target:t,service:a}),[];if(r.type==="ensure"){const s=e==null?void 0:e.find(l=>(l==null?void 0:l.name)===r.name);if(s)return[s.id];const o=await to({type:"create",value:r.name,target:t,service:a});if(!o)throw new Error("Failed to create target");return[o]}return[]},VI=class{constructor(t,r){this.service=t,this.config=r}async authenticate(t){const{signatureHex:r,signedMessage:a}=await t.signMessage(Zu,t.nonce);return{signature:r,signedMessage:a}}async prepareLoginWithWeb3(t){if(!FI(t)||!Qt(this.config))throw new Error("AptosAuthStrategy: Invalid Aptos login parameters");const{nonce:r}=await Ye({service:this.service,config:this.config,authAddress:this.config.accountAddress,authType:"APTOS_SIGNED_MESSAGE",walletPubkey:this.config.walletPublicKey});return{signMessageParams:{walletBlockchain:t.walletBlockchain,nonce:r,signMessage:t.signMessage},signingAddress:this.config.accountAddress,signingPubkey:this.config.walletPublicKey,nonce:r}}},HI=class{constructor(t,r){this.service=t,this.config=r}async authenticate(t){const{signatureBase64:r,signedMessage:a}=await t.signMessage(t.message);return{signature:r,signedMessage:a}}async prepareLoginWithWeb3(t){if(!kI(t))throw new Error("CosmosAuthStrategy: Invalid Cosmos login parameters");if(vi(this.config)){const{delegatedAddress:r,delegatedPublicKey:a,delegatorAddress:e}=this.config,{nonce:n}=await Ye({service:this.service,config:this.config,authAddress:e,authType:"COSMOS_AUTHZ_GRANT"}),i=`${vt}${n}`;return{signMessageParams:{walletBlockchain:t.walletBlockchain,message:i,signMessage:t.signMessage},signingAddress:r,signingPubkey:a,nonce:n}}if(Qt(this.config)){const{walletPublicKey:r,accountAddress:a}=this.config,{nonce:e}=await Ye({service:this.service,config:this.config,authAddress:a,authType:"COSMOS_ADR36"}),n=`${vt}${e}`;return{signMessageParams:{walletBlockchain:t.walletBlockchain,message:n,signMessage:t.signMessage},signingAddress:a,signingPubkey:r,nonce:e}}throw new Error("CosmosAuthStrategy: Invalid Configuration")}},BI=class{constructor(t,r){this.service=t,this.config=r}async authenticate(t){const r=`${vt}${t.nonce}`,a=new TextEncoder().encode(r),e=await t.signMessage(a);return{signature:MI(Cr.from(e).toString("hex")),signedMessage:r}}async prepareLoginWithWeb3(t){if(!DI(t)||!Hu(this.config))throw new Error("EvmAuthStrategy: Invalid EVM login parameters");const{nonce:r}=await Ye({service:this.service,config:this.config,authAddress:this.config.walletPublicKey,authType:"ETHEREUM_PERSONAL_SIGN"});return{signMessageParams:{walletBlockchain:t.walletBlockchain,nonce:r,signMessage:t.signMessage},signingAddress:this.config.walletPublicKey,signingPubkey:this.config.walletPublicKey,nonce:r}}},jI=class{constructor(t,r){this.service=t,this.config=r}async authenticate(t){const r=`${vt}${t.nonce}`,a=new TextEncoder().encode(r),e=t.isUsingHardwareWallet&&t.hardwareLoginPlugin?await t.hardwareLoginPlugin.signTransaction(t.nonce):await t.signMessage(a);return typeof e=="string"?{signature:e,signedMessage:r}:{signature:Cr.from(e).toString("base64"),signedMessage:r}}async prepareLoginWithWeb3(t){if(!xI(t)||!Hu(this.config))throw new Error("SolanaAuthStrategy: Invalid Solana login parameters");const{isUsingHardwareWallet:r,hardwareLoginPlugin:a}=t,{nonce:e}=r&&a?await Ye({service:this.service,config:this.config,walletPubkey:this.config.walletPublicKey,authType:"SOLANA_HARDWARE_SIGN_MESSAGE",authAddress:this.config.walletPublicKey}):await Ye({service:this.service,config:this.config,walletPubkey:this.config.walletPublicKey,authType:"SOLANA_SIGN_MESSAGE",authAddress:this.config.walletPublicKey});return{signMessageParams:{walletBlockchain:t.walletBlockchain,nonce:e,isUsingHardwareWallet:r,hardwareLoginPlugin:a,signMessage:t.signMessage},signingAddress:this.config.walletPublicKey,signingPubkey:this.config.walletPublicKey,nonce:e}}},KI=class{constructor(t,r){this.service=t,this.config=r}async authenticate(t){const r=`${vt}${t.nonce}`,a=new TextEncoder().encode(r);return{signature:(await t.signMessage(a)).toString(),signedMessage:r}}async prepareLoginWithWeb3(t){if(!$I(t)||!Qt(this.config))throw new Error("SuiAuthStrategy: Invalid SUI login parameters");const{nonce:r}=await Ye({service:this.service,config:this.config,authAddress:this.config.walletPublicKey,authType:"SUI_SIGNED_MESSAGE"});return{signMessageParams:{walletBlockchain:t.walletBlockchain,nonce:r,signMessage:t.signMessage},signingAddress:this.config.accountAddress,signingPubkey:this.config.walletPublicKey,nonce:r}}},WI=class{constructor(t,r,a){this._service=t,this._storage=r,this._configuration=a,this._userState=null,this._clientRandomUuid=null}get userState(){return this._userState}async initialize(){const[t,r]=await Promise.all([this._storage.getAuthorization(),this._storage.getRoles()]);let a=t;if(a===null){this._service.setJwt(void 0);const o={status:"loggedOut"};return this._userState=o,o}const e=new Date(a.expiry),n=new Date;if(e<=n){this._service.setJwt(void 0);const o={status:"expired",authorization:a};return this._userState=o,o}const i=new Date;if(i.setDate(n.getDate()+7),e<i)try{const l=(await this._service.refreshAuthorization({})).refreshAuthorization;l!==void 0&&(this._storage.setAuthorization(l),a=l)}catch(o){return console.error("Failed to refresh Notifi token:",o),await this.logOut()}this._service.setJwt(a.token);const s={status:"authenticated",authorization:a,roles:r??[]};return this._userState=s,s}async logOut(){await Promise.all([this._storage.setAuthorization(null),this._storage.setRoles(null),this._service.logOut()]),this._service.setJwt(void 0);const t={status:"loggedOut"};return this._userState=t,t}async logIn(t){const{tenantId:r,walletBlockchain:a}=this._configuration;if(a!==t.walletBlockchain)throw new Error(`.logIn - blockchain mismatch: ${a} !== ${t.walletBlockchain}`);if(wI(t.walletBlockchain))throw new Error(`Unsupported blockchain: ${t.walletBlockchain}. Please contact us if you believe this is an error or if you need support for a new blockchain.`);let e;if(GI(t))e=await this._logInWithWeb3(t);else if(["NEAR","ARCH","INJECTIVE","BITCOIN"].includes(t.walletBlockchain))e=await this._logInLegacy({signMessageParams:t,timestamp:Math.round(Date.now()/1e3)});else if(t.walletBlockchain==="OFF_CHAIN"){const n=await t.signIn();if(!("oidcProvider"in n))throw new Error("logIn - Invalid signature - expected OidcCredentials");const{oidcProvider:i,jwt:s}=n;e=(await this._service.logInByOidc({dappId:r,oidcProvider:i,idToken:s})).logInByOidc.user}else throw new Error(`Unsupported wallet blockchain: ${a}`);return e?(await this._handleLogInResult(e),e):Promise.reject(".logIn: Failed to login")}async beginLoginViaTransaction({walletBlockchain:t,walletAddress:r}){const{tenantId:a}=this._configuration,n=(await this._service.beginLogInByTransaction({walletAddress:r,walletBlockchain:t,dappAddress:a})).beginLogInByTransaction.nonce;if(n===null)throw new Error("Failed to begin login process");const i=crypto.randomUUID();this._clientRandomUuid=i;const o=new TextEncoder().encode(n+i),l=await crypto.subtle.digest("SHA-256",o),u=Array.from(new Uint8Array(l));let c="0x";return(t==="SOLANA"||t==="OSMOSIS")&&(c="Notifi Auth: 0x"),{nonce:c+u.map(f=>f.toString(16).padStart(2,"0")).join("")}}async completeLoginViaTransaction({walletBlockchain:t,walletAddress:r,transactionSignature:a}){const{tenantId:e}=this._configuration,n=this._clientRandomUuid;if(this._clientRandomUuid=null,n===null)throw new Error("BeginLoginViaTransaction is required to be called first");const i=await this._service.completeLogInByTransaction({walletAddress:r,walletBlockchain:t,dappAddress:e,randomUuid:n,transactionSignature:a});return await this._handleLogInResult(i.completeLogInByTransaction),i}async _logInWithWeb3(t){if(!ba.includes(t.walletBlockchain)||t.walletBlockchain!==t.walletBlockchain)throw new Error(`Wallet blockchain must be one of ${ba.join(", ")} for loginWithWeb3`);const r=zI(t.walletBlockchain,this._service,this._configuration),{signMessageParams:a,signingAddress:e,signingPubkey:n,nonce:i}=await r.prepareLoginWithWeb3(t),s=await r.authenticate(a);if(!("signature"in s)||!s.signature)throw new Error("Web3loginAuth - Signature required. Please sign the transaction to confirm your notifications.");const{completeLogInWithWeb3:o}=await this._service.completeLogInWithWeb3({nonce:i,signature:s.signature,signedMessage:s.signedMessage,signingAddress:e,signingPubkey:n});return o.user}async _logInLegacy({signMessageParams:t,timestamp:r}){if(this._configuration.walletBlockchain!==t.walletBlockchain)throw new Error("Sign message params and configuration must have the same blockchain");let a,e,n,i;if(OI(t)||t.walletBlockchain==="INJECTIVE"){const{walletPublicKey:o,tenantId:l,accountAddress:u}=this._configuration;a=`${vt}${o}${l}${r.toString()}`;const c=new TextEncoder().encode(a),d=await t.signMessage(c);e=Cr.from(d).toString("base64"),n=o,i=u}else if(t.walletBlockchain==="NEAR"){const{walletPublicKey:o,accountAddress:l,tenantId:u}=this._configuration;a=`${"ed25519:"+o}${u}${l}${r.toString()}`;const c=new TextEncoder().encode(a),d=await window.crypto.subtle.digest("SHA-256",c),f=new Uint8Array(d),h=await t.signMessage(f);e=Cr.from(h).toString("base64"),i=l,n=o}else throw new Error(`.authenticate(Legacy): Unsupported wallet blockchain: ${t.walletBlockchain}`);const s=await this._service.logInFromDapp({walletBlockchain:t.walletBlockchain,walletPublicKey:n,accountId:i,dappAddress:this._configuration.tenantId,timestamp:r,signature:e});return s==null?void 0:s.logInFromDapp}async _handleLogInResult(t){const r=t==null?void 0:t.authorization,a=r!==void 0?this._storage.setAuthorization(r):Promise.resolve(),e=t==null?void 0:t.roles,n=e!==void 0?this._storage.setRoles(e.filter(Ea)):Promise.resolve();if(r&&e){const i={status:"authenticated",authorization:r,roles:e.filter(s=>!!s)};this._userState=i}await Promise.all([a,n])}},Zu=`Sign in with Notifi 

    No password needed or gas is needed. 

    Clicking “Approve” only means you have proved this wallet is owned by you! 

    This request will not trigger any transaction or cost any gas fees. 

    Use of our website and service is subject to our terms of service and privacy policy.`,vt=`${Zu} 
 
 'Nonce:' `,ba=[...Wu,...ju,...Gu,...Ku,...zu],GI=t=>ba.includes(t.walletBlockchain),Ye=async t=>{const{service:r,config:a,authType:e,authAddress:n,walletPubkey:i}=t,{tenantId:s,walletBlockchain:o}=a,l=await r.beginLogInWithWeb3({dappAddress:s,authAddress:n,blockchainType:o,authType:e,walletPubkey:i});if(!l.beginLogInWithWeb3.beginLogInWithWeb3Response)throw new Error("Failed to begin login process");return l.beginLogInWithWeb3.beginLogInWithWeb3Response},zI=(t,r,a)=>{if(Yu(t))return new HI(r,a);if(Qu(t))return new VI(r,a);if(Xu(t))return new jI(r,a);if(_i(t))return new BI(r,a);if(Ju(t))return new KI(r,a);throw new Error(`ERROR - getStrategyForBlockchain: Unsupported blockchain: ${t}`)},YI="7.5.0",QI=t=>{switch(t){case"Production":return"notifi-jwt";case"Development":return"notifi-jwt:dev";case"Staging":return"notifi-jwt:stg";case"Local":return"notifi-jwt:local"}},XI=t=>{let r=`${QI(t.env||"Production")}:${t.tenantId}:${t.walletBlockchain}`;Bu(t)?r+=`:${t.userAccount}`:Qt(t)?r+=`:${t.accountAddress}:${t.walletPublicKey}`:vi(t)?r+=`:${t.delegatorAddress}`:r+=`:${t.walletPublicKey}`;const a={};return{get:n=>{const i=`${r}:${n}`;let s=null;if(i in a){const o=a[i];s=JSON.parse(o)}return Promise.resolve(s)},set:(n,i)=>{const s=`${r}:${n}`;return i===null?delete a[s]:a[s]=JSON.stringify(i),Promise.resolve()},has:n=>{const i=`${r}:${n}`;return Promise.resolve(i in a)}}},Qn="authorization",Xn="roles",JI=class{constructor(t){this._driver=t}getAuthorization(){return this._driver.get(Qn)}setAuthorization(t){return this._driver.set(Qn,t)}hasAuthorization(){return this._driver.has(Qn)}getRoles(){return this._driver.get(Xn)}setRoles(t){return this._driver.set(Xn,t)}hasRoles(){return this._driver.has(Xn)}};Er.config({name:"notifi"});var ZI=t=>{switch(t||(t="Production"),t){case"Production":return"notifi-jwt";case"Development":return"notifi-jwt:dev";case"Staging":return"notifi-jwt:stg";case"Local":return"notifi-jwt:local"}},eA=t=>{let r=`${ZI(t.env)}:${t.tenantId}:${t.walletBlockchain}`;return Bu(t)?r+=`:${t.userAccount}`:Qt(t)?r+=`:${t.accountAddress}:${t.walletPublicKey}`:vi(t)?r+=`:${t.delegatorAddress}`:r+=`:${t.walletPublicKey}`,{get:async e=>await Er.getItem(`${r}:${e}`),set:async(e,n)=>{await Er.setItem(`${r}:${e}`,n)},has:async e=>(await Er.keys()).indexOf(`${r}:${e}`)>=0}},tA=t=>{var a;const r=((a=t.storageOption)==null?void 0:a.driverType)==="InMemory"?XI(t):eA(t);return new JI(r)},rA=(t,r,a)=>{const e=eo(t.env,"http"),n=eo(t.env,"websocket"),i=new LS(e,r),s=new SI(n,typeof window<"u"?void 0:II);return a||(a={}),"X-Notifi-Client-Version"in a||(a["X-Notifi-Client-Version"]=YI),new EI(i,s,a)},nA=(t,r,a,e,n,i)=>{let s=null;if("accountAddress"in r?s={tenantId:t,env:a,walletBlockchain:r.walletBlockchain,walletPublicKey:r.walletPublicKey,accountAddress:r.accountAddress,storageOption:e}:"signingPubkey"in r?s={tenantId:t,env:a,walletBlockchain:r.walletBlockchain,delegatedAddress:r.signingAddress,delegatedPublicKey:r.walletPublicKey,delegatorAddress:r.signingPubkey,storageOption:e}:"userAccount"in r?s={tenantId:t,env:a,userAccount:r.userAccount,storageOption:e,walletBlockchain:r.walletBlockchain}:s={tenantId:t,env:a,walletBlockchain:r.walletBlockchain,walletPublicKey:_i(r.walletBlockchain)?r.walletPublicKey.toLowerCase():r.walletPublicKey,storageOption:e},!s)throw new Error("ERROR - instantiateFrontendClient: Invalid UserParams");const o=rA(s,n,i),l=tA(s);return new sA(s,o,l)},nt=(t,r,a,e)=>async(n,i)=>{if(i===void 0)return;const s=await r(n),o=e!==void 0?e(i):i,l=s==null?void 0:s.find(c=>a(c)===o);return l!==void 0?l.id:(await t(n,o)).id},ro=nt(async(t,r)=>{const e=(await t.createEmailTarget({name:r.toLowerCase(),value:r.toLowerCase()})).createEmailTarget;if(e===void 0)throw new Error("Failed to create email target");return e},async t=>(await t.getEmailTargets({})).emailTarget,t=>{var r;return(r=t==null?void 0:t.emailAddress)==null?void 0:r.toLowerCase()},t=>t.toLowerCase()),no=nt(async(t,r)=>{const e=(await t.createSmsTarget({name:r,value:r})).createSmsTarget;if(e===void 0)throw new Error("Failed to create sms target");return e},async t=>(await t.getSmsTargets({})).smsTarget,t=>t==null?void 0:t.phoneNumber),aA=nt(async(t,r)=>{const e=(await t.createTelegramTarget({name:r,value:r})).createTelegramTarget;if(e===void 0)throw new Error("Failed to create telegramTarget");return e},async t=>(await t.getTelegramTargets({})).telegramTarget,t=>t==null?void 0:t.name,()=>"Default"),ao=nt(async(t,r)=>{const e=(await t.createDiscordTarget({name:r,value:r})).createDiscordTarget;if(e===void 0)throw new Error("Failed to create discordTarget");return e},async t=>(await t.getDiscordTargets({})).discordTarget,t=>t==null?void 0:t.name,()=>"Default"),io=nt(async(t,r)=>{const e=(await t.createSlackChannelTarget({name:r,value:r})).createSlackChannelTarget.slackChannelTarget;if(e===void 0)throw new Error("Failed to create slackTarget");return e},async t=>{var a;return(a=(await t.getSlackChannelTargets({})).slackChannelTargets)==null?void 0:a.nodes},t=>t==null?void 0:t.name,()=>"Default"),so=nt(async(t,r)=>{const e=(await t.createWeb3Target({name:r,accountId:"",walletBlockchain:"OFF_CHAIN",web3TargetProtocol:"XMTP"})).createWeb3Target;if(e===void 0||e.id===void 0)throw new Error("Failed to create web3Target");return e},async t=>{var a;return(a=(await t.getWeb3Targets({})).web3Targets)==null?void 0:a.nodes},t=>t==null?void 0:t.name,()=>"Default"),iA=nt(async(t,r)=>{const e=(await t.createTelegramTarget({name:r.toLowerCase(),value:r.toLowerCase()})).createTelegramTarget;if(e===void 0)throw new Error("Failed to create telegramTarget");return e},async t=>(await t.getTelegramTargets({})).telegramTarget,t=>{var r;return(r=t==null?void 0:t.telegramId)==null?void 0:r.toLowerCase()},t=>t.toLowerCase()),sA=class{constructor(t,r,a){this._configuration=t,this._service=r,this._storage=a,this._authManager=new WI(this._service,this._storage,this._configuration)}get auth(){return this._authManager}async fetchFusionData(){return this._service.fetchFusionData({})}async getTargetGroups(){var a;return((a=(await this._service.getTargetGroups({})).targetGroup)==null?void 0:a.filter(Ea))??[]}async getAlerts(){var r;return((r=(await this._service.getAlerts({})).alert)==null?void 0:r.filter(Ea))??[]}async ensureFusionAlerts(t){const r=new Set(t.alerts.map(l=>l.name)),a=await this._service.getAlerts({}),s=[...new Set(a.alert)].filter(l=>r.has(l==null?void 0:l.name)).map(l=>l==null?void 0:l.id).filter(l=>!!l).map(l=>l);return await this.deleteAlerts({ids:s}),(await this._service.createFusionAlerts({input:t})).createFusionAlerts}async deleteAlerts({ids:t}){const a=(await this._service.deleteAlerts({input:{alertIds:t}})).deleteAlerts;if(a===void 0)throw new Error("Failed to delete alerts");return a}async getUnreadNotificationHistoryCount(t){const a=(await this._service.getUnreadNotificationHistoryCount({cardId:t})).unreadNotificationHistoryCount;if(!a)throw new Error("Failed to fetch unread notification history count");return a}addEventListener(t,r,a,e){return this._service.addEventListener(t,r,a,e)}removeEventListener(t,r){return this._service.removeEventListener(t,r)}async getUserSettings(){const r=(await this._service.getUserSettings({})).userSettings;if(!r)throw new Error("Failed to fetch user settings");return r}async getFusionNotificationHistory(t){var n,i;const r=await this._service.getFusionNotificationHistory(t),a=(n=r.fusionNotificationHistory)==null?void 0:n.nodes,e=(i=r.fusionNotificationHistory)==null?void 0:i.pageInfo;if(a===void 0||e===void 0)throw new Error("Failed to fetch notification history");return{pageInfo:e,nodes:a}}async fetchTenantConfig(t){const a=(await this._service.findTenantConfig({input:{...t,tenant:this._configuration.tenantId}})).findTenantConfig;if(a===void 0||!a.dataJson||!a.fusionEvents)throw new Error("Failed to find tenant config");const e=a.dataJson;if(e===void 0)throw new Error("Invalid config data");const n=qI(e),i=a.fusionEvents;if(!i)throw new Error("fusionEventDescriptors not found");const s=new Map(i.map(u=>[(u==null?void 0:u.id)??"",u??{}]));s.delete("");const o=n.eventTypes.map(u=>{if(u.type==="fusion"){const c=s.get(typeof u.fusionEventId=="string"?u.fusionEventId:LI("fetchTenantConfig: Lagacy event - CardConfigItemV1",u.fusionEventId,{}));return{uiConfig:u,fusionEventDescriptor:c}}});if(n.version==="v1"){const u=o.filter(c=>!!c);return{cardConfig:n,fusionEventTopics:u}}const l=o.filter(u=>!!u);return{cardConfig:n,fusionEventTopics:l}}async sendEmailTargetVerification({targetId:t}){var e;const a=(e=(await this._service.sendEmailTargetVerificationRequest({targetId:t})).sendEmailTargetVerificationRequest)==null?void 0:e.id;if(a===void 0)throw new Error("Unknown error requesting verification");return a}async createDiscordTarget(t){return(await this._service.createDiscordTarget({name:t,value:t})).createDiscordTarget}async markFusionNotificationHistoryAsRead(t){return await this._service.markFusionNotificationHistoryAsRead(t)}async updateUserSettings(t){return await this._service.updateUserSettings(t)}async verifyCbwTarget(t){return await this._service.verifyCbwTarget(t)}async verifyXmtpTargetViaXip42(t){return await this._service.verifyXmtpTargetViaXip42(t)}async createWebPushTarget(t){return await this._service.createWebPushTarget(t)}async updateWebPushTarget(t){return await this._service.updateWebPushTarget(t)}async deleteWebPushTarget(t){return await this._service.deleteWebPushTarget(t)}async getWebPushTargets(t){const a=(await this._service.getWebPushTargets(t)).webPushTargets;if(!a)throw new Error("Failed to fetch webpush targets");return a}async alterTargetGroup(t){return await UI(t,this._service)}async ensureTargetGroup({name:t,emailAddress:r,phoneNumber:a,telegramId:e,discordId:n,slackId:i,walletId:s}){var I;const[o,l,u,c,d,f,h]=await Promise.all([this._service.getTargetGroups({}),ro(this._service,r),no(this._service,a),iA(this._service,e),ao(this._service,n),io(this._service,i),so(this._service,s)]),g=l===void 0?[]:[l],p=u===void 0?[]:[u],v=c===void 0?[]:[c],y=d===void 0?[]:[d],b=f===void 0?[]:[f],S=h===void 0?[]:[h],R=(I=o.targetGroup)==null?void 0:I.find(T=>(T==null?void 0:T.name)===t);if(R!==void 0)return this._updateTargetGroup({existing:R,emailTargetIds:g,smsTargetIds:p,telegramTargetIds:v,discordTargetIds:y,slackChannelTargetIds:b,web3TargetIds:S});const A=await this._service.createTargetGroup({name:t,emailTargetIds:g,smsTargetIds:p,telegramTargetIds:v,discordTargetIds:y,slackChannelTargetIds:b,web3TargetIds:S});if(A.createTargetGroup===void 0)throw new Error("Failed to create target group");return A.createTargetGroup}async renewTargetGroup({name:t,emailAddress:r,phoneNumber:a,telegramId:e,discordId:n,slackId:i,walletId:s}){var I;const[o,l,u,c,d,f,h]=await Promise.all([this._service.getTargetGroups({}),ro(this._service,r),no(this._service,a),aA(this._service,e),ao(this._service,n),io(this._service,i),so(this._service,s)]),g=l===void 0?[]:[l],p=u===void 0?[]:[u],v=c===void 0?[]:[c],y=d===void 0?[]:[d],b=f===void 0?[]:[f],S=h===void 0?[]:[h],R=(I=o.targetGroup)==null?void 0:I.find(T=>(T==null?void 0:T.name)===t);if(R!==void 0)return this._updateTargetGroup({existing:R,emailTargetIds:g,smsTargetIds:p,telegramTargetIds:v,discordTargetIds:y,slackChannelTargetIds:b,web3TargetIds:S});const A=await this._service.createTargetGroup({name:t,emailTargetIds:g,smsTargetIds:p,telegramTargetIds:v,discordTargetIds:y,slackChannelTargetIds:b,web3TargetIds:S});if(A.createTargetGroup===void 0)throw new Error("Failed to create target group");return A.createTargetGroup}async _updateTargetGroup({existing:t,emailTargetIds:r,smsTargetIds:a,telegramTargetIds:e,discordTargetIds:n,slackChannelTargetIds:i,web3TargetIds:s}){if(_e(r,t.emailTargets??[])&&_e(a,t.smsTargets??[])&&_e(e,t.telegramTargets??[])&&_e(n,t.discordTargets??[])&&_e(i,t.slackChannelTargets??[])&&_e(s,t.web3Targets??[]))return t;const l=(await this._service.updateTargetGroup({id:t.id,name:t.name??t.id,emailTargetIds:r,smsTargetIds:a,telegramTargetIds:e,discordTargetIds:n,slackChannelTargetIds:i,web3TargetIds:s})).updateTargetGroup;if(l===void 0)throw new Error("Failed to update target group");return l}async deleteAlert({id:t}){var e;if(((e=(await this._service.deleteAlert({id:t})).deleteAlert)==null?void 0:e.id)===void 0)throw new Error("Failed to delete alert")}get userState(){return this._authManager.userState}async initialize(){return await this._authManager.initialize()}async logOut(){return await this._authManager.logOut()}async logIn(t){return await this._authManager.logIn(t)}async beginLoginViaTransaction(t){return this._authManager.beginLoginViaTransaction(t)}async completeLoginViaTransaction(t){return this._authManager.completeLoginViaTransaction(t)}};function oA(){const t="cetus",r="Production",a="SUI",{setNotifiClient:e,notifiClient:n,setNotifiStatus:i,setNotifiAccountAddress:s,setDefaultTargetGroup:o,setNotifiSourceGroups:l,setNotifiSources:u,setNotifiLoginLoading:c,setTelegramTarget:d,setEmailTarget:f,setSmsTarget:h}=ta(),{signUserMessage:g}=Oc(),{currentAccount:p}=Ia(),{ensureTargetGroup:v,getNotifiTargetGroups:y}=go(),{getNotifiAlerts:b}=Nc(),S=async I=>{const T=nA(t,{walletBlockchain:a,walletPublicKey:I,accountAddress:I},r),C=await T.initialize();e(T),i(C.status),(C==null?void 0:C.status)==="authenticated"?(y(T),b(T),s(I)):A()},R=async I=>{try{c(!0),console.log("🚀🚀🚀 ~ useInitNotifi.ts:63 ~ notifiLogin ~ notifiClient:",n);const T=await n.logIn({walletBlockchain:a,signMessage:async w=>{console.log("🚀🚀🚀 ~ useInitNotifi.ts:63 ~ signMessage: ~ message:",w);try{return(await g(w)).signature}catch(P){console.log("🚀🚀🚀 ~ useInitNotifi.ts:67 ~ signMessage: ~ error:",P)}}});console.log("🚀🚀🚀 ~ useInitNotifi.ts:67 ~ notifiLogin ~ notifiClient:",n);const{status:C}=n.userState;i(C),C==="authenticated"&&(p!=null&&p.address)&&(b(),y(),s(p.address)),console.log("🚀🚀🚀 ~ useInitNotifi.ts:75 ~ notifiLogin ~ loginResult:",T),T&&(await v(I),c(!1))}catch(T){console.log("🚀🚀🚀 ~ useInitNotifi.ts:91 ~ notifiLogin ~ error:",T),c(!1)}},A=()=>{o([]),l([]),u([]),f({}),d({}),h({})};return{initNotifi:S,notifiLogin:R}}const lA=["+1","+32","+33","+34","+351","+354","+358","+36","+41","+43","+44","+45","+46","+47","+48","+49","+60","+61","+63","+65","+82","+852","+886"],Jn=({label:t,children:r})=>_.jsxs(oo,{h:"42px",borderRadius:"8px",p:"10px 12px",bg:"#141414",border:"1px solid",borderColor:"border",children:[_.jsx(gc,{fontSize:"14px",h:"20px",lineHeight:"20px",w:"106px",children:t}),_.jsx(Pe,{borderColor:"border",pr:"16px",children:_.jsx(pc,{orientation:"vertical"})}),r]});function ec(){const[t,r]=$.useState(""),[a,e]=$.useState(""),[n,i]=$.useState(""),[s,o]=$.useState(""),[l,u]=$.useState(""),[c,d]=$.useState(""),[f,h]=$.useState(""),[g,p]=$.useState(""),{isShowNotifi:v,setIsShowNotifi:y,notifiLoginLoading:b,notifiStatus:S,emailTarget:R,telegramTarget:A,smsTarget:I}=ta(),[T,C]=$.useState(""),[w,P]=$.useState(""),[H,K]=$.useState(!0),[re,ce]=$.useState(!1),{currentAccount:F,onWalletModal:L}=Ia(),[k,x]=$.useState(!1),{notifiLogin:B}=oA(),{ensureTargetGroup:ae}=go(),[U,me]=$.useState(!0),[pe,Be]=$.useState(!1),Ne=q=>{if(q){const Z=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;console.log("🚀🚀🚀 ~ Notifications.tsx:99 ~ verifyEmail ~ verifyEmail:"),me(Z.test(t))}},J=()=>{const q={};n&&s&&(q.phoneNumber=n+" "+s),t&&(q.emailAddress=t),a&&(q.telegramId=a),S=="authenticated"?ae(q):B(q)};$.useEffect(()=>{if(!R){C(""),ce(!1),r(""),u("");return}const q=(R==null?void 0:R.emailAddress)||"",Z=(R==null?void 0:R.isConfirmed)||!1,je=(R==null?void 0:R.id)||"";C(je),ce(Z),r(q),u(q)},[R]),$.useEffect(()=>{if(!A){K(!1),P(""),e(""),d("");return}const q=(A==null?void 0:A.telegramId)||"",Z=(A==null?void 0:A.isConfirmed)||!1,je=A.confirmationUrl||"";K(Z),P(je),e(q),d(q)},[A]),$.useEffect(()=>{I||(i("+1"),o(""),h("+1"),p(""));const q=(I==null?void 0:I.name)||"",Z=q.split(" ")[0]||"+1",je=q.split(" ")[1]||"";i(Z),o(je),h(Z),p(je)},[I]);const X=$.useMemo(()=>!s&&!t&&!a||n==f&&s==g&&t==l&&a==c?!0:!U,[t,l,n,f,s,g,a,c]),{notifiClient:mi}=ta(),[bt,nc]=$.useState(60),[Xr,ac]=$.useState(60),ic=async()=>{mi.sendEmailTargetVerification({targetId:T}),Be(!0)},sc=()=>{yi(!0),window.open(w,"_blank")},[at,yi]=$.useState(!1);$.useEffect(()=>{if(!pe||bt===0){Be(!1);return}const q=setInterval(()=>{nc(Z=>Z-1)},1e3);return()=>clearInterval(q)},[pe,bt]),$.useEffect(()=>{if(!at||Xr===0){yi(!1);return}const q=setInterval(()=>{ac(Z=>Z-1)},1e3);return()=>clearInterval(q)},[at,Xr]);const[Jr,oc]=$.useState("pawtato"),{windowWidth:Ei}=Aa();$.useEffect(()=>{v&&oc("pawtato")},[v]);const bi=()=>{console.log("🚀🚀🚀 ~ Notifications.tsx:264 ~ popoverClose ~ popoverClose:",bi),k?console.log("isMenuOpen###"):y(!1)},Zr=$.useRef(null);return $.useEffect(()=>{const q=Z=>{v&&Zr.current&&!Zr.current.contains(Z.target)&&y(!1)};return document.addEventListener("mousedown",q),()=>document.removeEventListener("mousedown",q)},[v]),_.jsxs(Ra,{isLazy:!0,isOpen:v,placement:"bottom-end",offset:[44,10],onClose:()=>bi(),children:[_.jsx(Sa,{children:_.jsx(Pe,{w:"36px",h:"36px",p:"7px",borderRadius:"8px",border:"1px solid",borderColor:"border",cursor:"pointer",bg:"block_color_opacity.50",backdropFilter:"blur(20px)",_hover:{bg:"button_outline_hov_bg",svg:{fill:"text_caption"}},onClick:()=>y(!v),children:_.jsx(Le,{xlinkHref:"#icon-icon_notification",variant:"gray"})})}),_.jsx(Zn,{children:_.jsx(Ta,{p:"0px",border:"1px solid",borderRadius:"12px",borderColor:"border",minW:{base:"320px",lg:"320px"},ref:Zr,children:_.jsxs(he,{flexDirection:{base:"column",lg:"row"},gap:"0",bg:"bg_seven",borderRadius:"12px",align:"flex-start",children:[Jr=="notifi"&&_.jsxs(we,{p:"16px",bg:"bg_secondary",borderRadius:"12px",minW:Ei<=355?"100%":"350px",children:[_.jsx(Tr,{p:"0",borderRadius:"12px",children:_.jsxs(we,{gap:"12px",children:[_.jsx(j,{fontWeight:"500",color:"text_caption",textAlign:"left",w:"100%",mb:"4px",children:"Notifications Setting"}),_.jsx(Jn,{label:"Email address",children:_.jsx(mr,{type:"email",placeholder:"Email address",fontSize:"14px",h:"20px",lineHeight:"20px",value:t,onFocus:()=>me(!0),onBlur:q=>Ne(q.target.value),onChange:q=>r(q.target.value)})}),!U&&_.jsx(j,{w:"100%",color:"primary_red",lineHeight:"20px",textAlign:"left",children:"Please enter a valid email address"}),S=="authenticated"&&l&&(pe||!pe&&!re)&&_.jsxs(Ir,{width:"100%",children:[pe&&_.jsxs(j,{width:"100%",textAlign:"right",children:["Verification email sent! (",bt,"s)"]}),!re&&!pe&&_.jsxs(j,{fontSize:"12px",width:"100%",textAlign:"right",children:["Waiting for email verification."," ",_.jsx(j,{color:"primary",as:"span",fontSize:"12px",cursor:"pointer",onClick:()=>ic(),children:"Retry"})]})]}),_.jsxs(Jn,{label:"Phone number",children:[_.jsx(uc,{isLazy:!0,onClose:()=>x(!1),children:({isOpen:q})=>_.jsxs(_.Fragment,{children:[_.jsx(cc,{isActive:q,as:yr,rightIcon:_.jsx(Le,{xlinkHref:"#icon-icon_arrow",fontSize:"12px"}),variant:"unstyled",h:"100%",fontSize:"14px",lineHeight:"20px",color:"text_caption",onClick:()=>x(!k),children:n}),_.jsx(Zn,{children:_.jsx(dc,{h:"220px",overflow:"auto",zIndex:"99999",children:lA.map(Z=>_.jsx(fc,{onClick:je=>{i(Z)},children:Z},Z))})})]})}),_.jsx(mr,{type:"tel",placeholder:"Phone number",pl:"16px",fontSize:"14px",h:"20px",lineHeight:"20px",value:s,onChange:q=>o(q.target.value)})]}),_.jsx(Jn,{label:"Telegram ID",children:_.jsx(mr,{placeholder:"Telegram ID",fontSize:"14px",h:"20px",lineHeight:"20px",value:a,onChange:q=>e(q.target.value)})}),S=="authenticated"&&c&&(at||!at&&!H)&&_.jsxs(Ir,{width:"100%",children:[at&&_.jsxs(j,{width:"100%",textAlign:"right",children:["Verification telegram sent! (",Xr,"s)"]}),!H&&!at&&_.jsxs(j,{fontSize:"12px",width:"100%",textAlign:"right",children:["Waiting for telegram verification."," ",_.jsx(j,{color:"primary",as:"span",fontSize:"12px",cursor:"pointer",onClick:()=>sc(),children:"Retry"})]})]})]})}),_.jsx(hc,{border:"none",p:"0",mt:"16px",children:_.jsxs(we,{w:"100%",gap:"12px",children:[_.jsx(yr,{w:"100%",h:"42px",borderRadius:"8px",fontWeight:"500",fontSize:"14px",onClick:J,isLoading:b,isDisabled:X||b||!U,children:S=="authenticated"?"Update":"Subscribe"}),_.jsxs(Pe,{children:[_.jsxs(j,{fontSize:"12px",color:"text_paragraph",lineHeight:"20px",children:["Notifications are provided by Notifi. By subscribing, you agree that info you provide to Notifi will be governed by its"," ",_.jsx(j,{fontSize:"12px",textDecoration:"underline",as:"span",cursor:"pointer",onClick:()=>{window.open("https://notifi.network/privacy","_blank")},children:"Privacy Policy"})," ","and"," ",_.jsx(j,{fontSize:"12px",textDecoration:"underline",as:"span",cursor:"pointer",onClick:()=>{window.open("https://notifi.network/term","_blank")},children:"Terms of Use."})]}),_.jsxs(he,{justify:"center",mt:"16px",children:[_.jsx(j,{fontSize:"14px",color:"text_paragraph",children:"Powered by"}),_.jsx(ea,{src:"/images/notifi@2x.png",h:"20px"})]})]})]})})]}),Jr=="pawtato"&&_.jsx(Tr,{p:"16px",bg:"bg_secondary",borderRadius:"12px",minW:(Ei<=355,"100%"),h:"234px",w:"100%",children:_.jsxs(we,{h:"100%",gap:"28px",justify:"center",align:"center",children:[_.jsx(ea,{src:Jr=="pawtato"?"/images/logo_paw_sel@2x.png":"/images/logo_paw_nor@2x.png",h:"11px",w:"66px",minW:"66px"}),_.jsxs(j,{color:"text_caption",lineHeight:"20px",textAlign:"center",children:["Visit Pawtato to manage notification settings for LP Range Alert"," "]}),_.jsx(yr,{w:"160px",h:"40px",fontWeight:"500",fontSize:"14px",onClick:()=>window.open("https://pawtato.app/board"),children:"Subscribe"})]})})]})})})]})}function tc(){const{isApp:t}=Aa(),r=vc(),{currentAccount:a,onWalletModal:e,setConnectCallback:n}=Ia();return _.jsxs(Ra,{isLazy:!0,trigger:t?"click":"hover",autoFocus:!1,returnFocusOnClose:!1,children:[_.jsx(Sa,{children:_.jsx(he,{gap:"0",as:"button",w:"36px",h:"36px",borderRadius:"8px",alignItems:"center",justify:"center",border:"1px solid",borderColor:"border",cursor:"pointer",_hover:{bg:{base:"block_color_opacity.50",lg:"button_outline_hov_bg"},svg:{fill:"text_caption"}},bg:"block_color_opacity.50",backdropFilter:"blur(20px)",onClick:i=>{Cc(i),a!=null&&a.address?r("/portfolio?tab=wallet"):(e(!0),n(()=>r("/portfolio?tab=wallet")))},children:_.jsx(Le,{xlinkHref:"#icon-profile"})})}),!t&&_.jsx(Zn,{children:_.jsx(Ta,{w:"fit-content",maxW:{base:"300px",lg:"unset"},children:_.jsx(Tr,{w:"fit-content",children:_.jsx(j,{fontSize:"12px",children:"Portfolio"})})})})]})}const uA=$.lazy(()=>ho(()=>import("./H5Menus-BMb4rNxV.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]))),cA=$.lazy(()=>ho(()=>import("./ConnectButton-wNvgWjMi.js"),__vite__mapDeps([9,1,10,2,3,4,11,12,13,14]))),dA=({menus:t,logo:r,setting:a,notifications:e,jump:n,isCetusPump:i,children:s})=>{const[o,l]=$.useState(!1);return _.jsxs(_.Fragment,{children:[_.jsxs(Ir,{align:"center",gap:"8px",children:[_.jsx(tc,{}),_.jsx($.Suspense,{fallback:_.jsx("div",{}),children:_.jsx(cA,{isCetusPump:i})}),e&&_.jsx(ec,{}),_.jsx(Pe,{w:"36px",h:"36px",p:"7px",borderRadius:"8px",border:"1px solid",borderColor:"border",cursor:"pointer",_hover:{bg:"button_outline_hov_bg"},alignItems:"center",bg:"block_color_opacity.50",backdropFilter:"blur(20px)",children:_.jsx(Le,{xlinkHref:"#icon-icon_menu",onClick:()=>l(!o)})})]}),_.jsx(uA,{menus:t,logo:r,setting:a,jump:n,isCetusPump:i,isOpen:o,onClose:()=>l(!1),children:s})]})};function fA(t){const{h:r,icon:a,borderRadius:e="12px",color:n="text_caption"}=t,{isSwapWidgetDisplay:i,setIsSwapWidgetDisplay:s}=wc();return _.jsxs(he,{w:"100%",pl:"16px",pr:"16px",h:r,border:"1px solid",borderColor:"border",bg:"menu_item_bg",justifyContent:"center",gap:"24px",borderRadius:e,children:[_.jsxs(he,{w:"100%",gap:"8px",children:[_.jsx(ea,{draggable:"false",src:a,fallbackSrc:"/images/placeholder-token@2x.png",w:"24px",h:"24px",pointerEvents:"none"}),_.jsx(j,{color:n,fontSize:"14px",children:"Display swap widget"})]}),_.jsx(_c,{isChecked:i,onChange:()=>s(!i)})]})}const hA=({label:t,value:r,onClick:a,isActive:e})=>_.jsx(Pe,{w:"100%",onClick:a,cursor:"pointer",h:"48px",lineHeight:"48px",p:"0px 16px",borderRadius:"12px",border:"1px solid",borderColor:e?"primary_hover":"transparent",_hover:{bg:"menu_item_hover_bg"},children:_.jsx(j,{fontSize:"14px",color:"text_caption",children:t})}),gA=({closeModal:t,isH5:r})=>{const{explorerList:a,currentExplorer:e,switchExplorer:n}=Lt(),i=$.useMemo(()=>(console.log("🚀 ~ list ~ explorerList:",a),a),[a]),{successTsToast:s}=fo(),o=l=>{n(l),t(),s({linkLabel:"",getShowInfo:c=>({toastTitleText:"Explorer update",toastDescriptionContent:()=>_.jsxs(j,{fontSize:"14px",color:"primary_gray",children:["Explorer is currently set to ",_.jsx(j,{as:"span",fontSize:"14px",color:"primary_gray",wordBreak:"break-all",children:l.name})]})})})};return _.jsx(_.Fragment,{children:r?_.jsx(we,{gap:"16px",mb:"16px",children:i.map(l=>_.jsxs(he,{w:"100%",children:[_.jsx(ra,{checked:l.link===e.link,onClick:()=>o(l)}),_.jsx(j,{fontSize:{base:"16px",lg:"14px"},children:l.name})]},l.link))}):_.jsx(we,{w:"100%",children:i.map(l=>_.jsx(hA,{label:l.name,value:l.link,isActive:l.link===e.link,onClick:()=>o(l)},l.link))})})},rc=({icon:t,label:r,...a})=>_.jsxs(we,{w:"100%",p:"16px",borderRadius:"12px",border:"1px solid",borderColor:"border",bg:"menu_item_bg",justify:"flex-start",gap:"24px",children:[_.jsxs(he,{w:"100%",gap:"8px",children:[_.jsx(Le,{xlinkHref:t,fontSize:"20px"}),_.jsx(j,{fontSize:"14px",children:r})]}),"children"in a?a==null?void 0:a.children:_.jsxs(he,{w:"100%",justify:"space-between",cursor:"pointer",onClick:a.onClick,children:[_.jsx(j,{color:"text_caption",fontSize:"14px",children:a.value}),_.jsx(Le,{transform:"rotate(270deg)",xlinkHref:"#icon-icon_arrow",fontSize:"12px",variant:"gray"})]})]}),pA=({onShowOptions:t,showOptions:r,showMainSetting:a,closeModal:e})=>{const{currentExplorer:n}=Lt();return r?_.jsx(gA,{closeModal:e}):a&&_.jsx(rc,{icon:"#icon-icon_preferredexplorer",label:"Preferred Explorer",value:n==null?void 0:n.name,onClick:t})};function vA(){let t=null;const{setRpcSpeed:r}=Lt();Pc({interval:5*1e3,callback:()=>{a()}});const a=()=>{t===null&&(t=new Worker("/worker/rpc.worker.js")),t.postMessage({rpcList:kc.filter(e=>e.link.length>0).map(e=>e.link)}),t.onmessage=e=>{e.data.error?(console.log("🚀 ~ file: useRpcWorker.ts:15 ~ useEffect ~ event.data.error:",e.data.error),r({})):(console.log("🚀 ~ file: useRpcWorker.ts:15 ~ useEffect ~ event.data:",e.data),e.data?r(e.data):r({}))}};$.useEffect(()=>(a(),()=>{t&&t.terminate()}),[])}const _A=({closeModal:t})=>{vA();const{rpcSpeed:r}=Lt(),a=g=>!/^(http|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&:/~\+#]*[\w\-\@?^=%&/~\+#])?/.test(g),{nodes:e,currentNode:n,switchNode:i}=Lt(),[s,o]=$.useState((n==null?void 0:n.name)=="Custom"),[l,u]=$.useState((n==null?void 0:n.name)=="Custom"?n==null?void 0:n.link:""),c=$.useMemo(()=>e,[e]),{successTsToast:d}=fo(),f=g=>{console.log("🚀 ~ handleChangeNode ~ item:",g),g.name!=="Custom"&&(u(""),o(!1)),i(g),d({linkLabel:"",getShowInfo:v=>({toastTitleText:"RPC update",toastDescriptionContent:()=>_.jsxs(j,{fontSize:"14px",color:"primary_gray",children:["RPC is currently set to ",_.jsx(j,{as:"span",fontSize:"14px",color:"primary_gray",wordBreak:"break-all",children:g.name!=="Custom"?g.name:g.link})]})})})},h=$.useCallback(g=>g===0?"text_paragraph":g<100?"primary_green":g>200?"primary_red":"primary_yellow",[]);return _.jsxs(Pe,{w:"100%",mt:"-16px",children:[c.map(g=>{const p=Number(r[g==null?void 0:g.link]||0);return _.jsx(we,{mt:"16px",align:"flex-start",children:(g==null?void 0:g.name)!=="Custom"&&_.jsxs(he,{w:"100%",justifyContent:"space-between",children:[_.jsxs(he,{w:"100%",onClick:()=>f(g),_hover:{p:{color:"primary"}},children:[_.jsx(ra,{checked:n.name===(g==null?void 0:g.name),onClick:()=>{}}),_.jsx(j,{cursor:"pointer",fontSize:{base:"16px",lg:"14px"},color:n.name===(g==null?void 0:g.name)?"primary":"text_paragraph",children:g==null?void 0:g.name})]}),_.jsxs(he,{gap:"5px",children:[p>0&&_.jsx(Pe,{w:"6px",h:"6px",bg:h(p),borderRadius:"50%"}),_.jsxs(j,{fontSize:"12px",fontWeight:"500",color:h(p),children:[r[g.link],Dc(r)?"ms":""]})]})]})},g==null?void 0:g.link)}),_.jsxs(he,{w:"100%",mt:"16px",_hover:{p:{color:"primary"}},onClick:()=>o(!s),children:[_.jsx(ra,{checked:n.name==="Custom",onClick:()=>{}}),_.jsx(j,{cursor:"pointer",fontSize:{base:"16px",lg:"14px"},color:n.name==="Custom"?"primary":"text_paragraph",children:"Custom RPC URL"})]}),(n.name==="Custom"||s)&&_.jsxs(oo,{mt:"16px",h:"40px",borderRadius:"12px",border:"1px solid",borderColor:"border",children:[_.jsx(mr,{p:"13px 16px",fontSize:{base:"16px",lg:"14px"},placeholder:"Custom RPC URL",value:l,onChange:g=>u(g.target.value)}),_.jsx(mc,{pr:"4px",children:_.jsx(yr,{isDisabled:a(l),fontSize:"14px",fontWeight:"500",h:"32px",w:"78px",borderRadius:"8px",onClick:()=>{f({name:"Custom",link:l})},children:"Save"})})]})]})},mA=({showMainSetting:t,closeModal:r})=>t&&_.jsx(rc,{icon:"#icon-icon_rpc",label:"RPC Node",children:_.jsx(_A,{closeModal:r})}),yA=({swapWidgetDisplay:t,preferred:r,rpc:a})=>{const{isOpen:e,onOpen:n,onClose:i}=yc(),[s,o]=$.useState("Settings"),l=$.useMemo(()=>s==="Settings",[s]),u=d=>{o(d)},c=()=>{o("Settings")};return _.jsxs(Ra,{isLazy:!0,isOpen:e,onOpen:n,placement:"bottom-end",onClose:i,children:[_.jsx(Sa,{children:_.jsx(Pe,{w:"36px",h:"36px",p:"7px",border:"1px solid",borderColor:"border",borderRadius:"8px",cursor:"pointer",bg:"block_color_opacity.50",backdropFilter:"blur(20px)",_hover:{bg:"button_outline_hov_bg",svg:{fill:"text_caption"}},children:_.jsx(Le,{xlinkHref:"#icon-icon_settings1",variant:"gray"})})}),_.jsxs(Ta,{minW:"360px",p:"0px 16px 16px",bg:"bg_secondary",borderRadius:"12px",maxH:"calc(100vh - 80px)",overflowY:"auto",children:[_.jsx(Ec,{p:"0px",fontWeight:"500",h:"56px",lineHeight:"56px",border:"none",children:_.jsxs(he,{children:[!l&&_.jsx(Le,{xlinkHref:"#icon-icon_descending_nor",transform:"rotate(90deg)",svgFill:"text_caption",fontSize:"16px",onClick:c}),_.jsx(j,{color:"text_caption",fontSize:"16px",children:s})]})}),!l&&_.jsx(bc,{h:"50px",onClick:c}),_.jsx(Tr,{p:"0px",children:_.jsxs(we,{children:[l&&t&&_.jsx(fA,{icon:t.icon,h:"42px"}),r&&_.jsx(pA,{onShowOptions:()=>u("Preferred"),showOptions:s==="Preferred",showMainSetting:l,closeModal:c}),a&&_.jsx(mA,{showMainSetting:l,closeModal:i})]})})]})]})},EA=({setting:t,notifications:r,isCetusPump:a,children:e})=>{const{hasAccessPermission:n}=$c();return _.jsxs(Ir,{align:"center",gap:"8px",children:[e,n&&_.jsx(tc,{}),n&&_.jsx(xc,{isCetusPump:a}),r&&_.jsx(ec,{}),_.jsx(yA,{...t,isCetusPump:a})]})};function bA(t){const{isApp:r}=Aa();return r?_.jsx(dA,{...t}):_.jsx(EA,{...t})}const NA=Object.freeze(Object.defineProperty({__proto__:null,default:bA},Symbol.toStringTag,{value:"Module"}));export{gA as E,_A as R,fA as S,NA as i};
//# sourceMappingURL=index-DktAC3Kg.js.map
