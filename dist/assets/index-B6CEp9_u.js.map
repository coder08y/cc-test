{"version":3,"file":"index-B6CEp9_u.js","sources":["../../../cetus-design/src/components/common/feeSelect/index.tsx"],"sourcesContent":["import { Divider, HStack, Text, VStack } from '@chakra-ui/react'\nimport { useDeepCompareEffect } from 'ahooks'\nimport { cloneElement, useState } from 'react'\nimport CetusMenu from '../CetusMenu'\nimport { feeConfigs } from './config'\nimport { PoolType, SelectFeeProps, SelectFeeType } from './type'\n\nexport const displayFeeKey: Record<PoolType, string> = {\n  clmm: 'feeDisplay',\n  dlmm: 'baseFeeDisplay'\n}\n\nfunction FeeSelect<T extends 'clmm' | 'dlmm'>({\n  poolType = 'clmm',\n  value,\n  options,\n  children,\n  onChange,\n  wrapStyle = {},\n  placement = 'bottom'\n}: SelectFeeProps<T>) {\n  const { color, activeBorderColor, hoverBorderColor, defaultOptions } = feeConfigs[poolType]\n  const [list, setList] = useState<SelectFeeType<T>[]>(defaultOptions as SelectFeeType<T>[])\n  const [open, setOpen] = useState(false)\n\n  useDeepCompareEffect(() => {\n    if (options) {\n      const index = options.findIndex(ele => ele.feeDisplay === '0.001%' && !ele.poolAddress)\n      if (index !== -1) {\n        options.splice(index, 1)\n      }\n      setList(options)\n    }\n  }, [options])\n  return (\n    <CetusMenu\n      isLazy\n      isOpen={open}\n      onClose={() => setOpen(false)}\n      placement={placement}\n      defaultMaxH=\"315px\"\n      listProps={{\n        p: '8px',\n        borderRadius: '12px',\n        w: { base: 'calc(100vw - 24px)', lg: '260px' },\n        overflowY: 'auto',\n        ...wrapStyle\n      }}\n    >\n      {typeof children === 'function'\n        ? children({\n            isOpen: open,\n            onClick: () => setOpen(!open)\n          })\n        : cloneElement(children, {\n            isOpen: open,\n            onClick: () => setOpen(!open)\n          })}\n      <VStack w=\"100%\" gap=\"8px\" p=\"0\">\n        {list?.map(item => (\n          <HStack\n            as=\"button\"\n            w=\"100%\"\n            p=\"0 12px\"\n            h=\"40px\"\n            key={item?.feeDisplay}\n            justify=\"space-between\"\n            disabled={item?.disabled}\n            onClick={() => {\n              onChange?.(item)\n              setOpen(false)\n            }}\n            borderRadius=\"8px\"\n            border=\"1px solid\"\n            bg=\"bg_six\"\n            cursor={item?.disabled ? 'not-allowed' : 'pointer'}\n            borderColor={value?.fee === item?.fee ? 'primary' : 'border'}\n            sx={{\n              _hover: {\n                borderColor: 'primary_opacity.60'\n              }\n            }}\n          >\n            <HStack gap=\"8px\">\n              <Text color=\"text_caption\" fontWeight=\"500\">\n                {item?.feeDisplay}\n              </Text>\n              {poolType === 'dlmm' && (\n                <>\n                  <Divider orientation=\"vertical\" h=\"12px\" />\n                  <Text color=\"text_caption\" fontWeight=\"500\">\n                    {item?.binStep} bps\n                  </Text>\n                </>\n              )}\n            </HStack>\n\n            <VStack align=\"flex-end\" gap=\"4px\">\n              <Text fontSize=\"12px\" color=\"text_caption\">\n                {item?.title}\n              </Text>\n            </VStack>\n          </HStack>\n        ))}\n      </VStack>\n    </CetusMenu>\n  )\n}\n\nexport default FeeSelect\n"],"names":["FeeSelect","poolType","value","options","children","onChange","wrapStyle","placement","color","activeBorderColor","hoverBorderColor","defaultOptions","feeConfigs","list","setList","useState","open","setOpen","useDeepCompareEffect","index","ele","jsxs","CetusMenu","cloneElement","jsx","VStack","item","HStack","Text","Fragment","Divider"],"mappings":"0MAYA,SAASA,EAAqC,CAC5C,SAAAC,EAAW,OACX,MAAAC,EACA,QAAAC,EACA,SAAAC,EACA,SAAAC,EACA,UAAAC,EAAY,CAAA,EACZ,UAAAC,EAAY,QACd,EAAsB,CACpB,KAAM,CAAE,MAAAC,EAAO,kBAAAC,EAAmB,iBAAAC,EAAkB,eAAAC,CAAA,EAAmBC,EAAWX,CAAQ,EACpF,CAACY,EAAMC,CAAO,EAAIC,EAAAA,SAA6BJ,CAAoC,EACnF,CAACK,EAAMC,CAAO,EAAIF,EAAAA,SAAS,EAAK,EAEtC,OAAAG,EAAqB,IAAM,CACzB,GAAIf,EAAS,CACX,MAAMgB,EAAQhB,EAAQ,UAAUiB,GAAOA,EAAI,aAAe,UAAY,CAACA,EAAI,WAAW,EAClFD,IAAU,IACZhB,EAAQ,OAAOgB,EAAO,CAAC,EAEzBL,EAAQX,CAAO,CACjB,CACF,EAAG,CAACA,CAAO,CAAC,EAEVkB,EAAAA,KAACC,EAAA,CACC,OAAM,GACN,OAAQN,EACR,QAAS,IAAMC,EAAQ,EAAK,EAC5B,UAAAV,EACA,YAAY,QACZ,UAAW,CACT,EAAG,MACH,aAAc,OACd,EAAG,CAAE,KAAM,qBAAsB,GAAI,OAAA,EACrC,UAAW,OACX,GAAGD,CAAA,EAGJ,SAAA,CAAA,OAAOF,GAAa,WACjBA,EAAS,CACP,OAAQY,EACR,QAAS,IAAMC,EAAQ,CAACD,CAAI,CAAA,CAC7B,EACDO,EAAAA,aAAanB,EAAU,CACrB,OAAQY,EACR,QAAS,IAAMC,EAAQ,CAACD,CAAI,CAAA,CAC7B,EACLQ,EAAAA,IAACC,EAAA,CAAO,EAAE,OAAO,IAAI,MAAM,EAAE,IAC1B,SAAAZ,GAAA,YAAAA,EAAM,IAAIa,GACTL,EAAAA,KAACM,EAAA,CACC,GAAG,SACH,EAAE,OACF,EAAE,SACF,EAAE,OAEF,QAAQ,gBACR,SAAUD,GAAA,YAAAA,EAAM,SAChB,QAAS,IAAM,CACbrB,GAAA,MAAAA,EAAWqB,GACXT,EAAQ,EAAK,CACf,EACA,aAAa,MACb,OAAO,YACP,GAAG,SACH,OAAQS,GAAA,MAAAA,EAAM,SAAW,cAAgB,UACzC,aAAaxB,GAAA,YAAAA,EAAO,QAAQwB,GAAA,YAAAA,EAAM,KAAM,UAAY,SACpD,GAAI,CACF,OAAQ,CACN,YAAa,oBAAA,CACf,EAGF,SAAA,CAAAL,EAAAA,KAACM,EAAA,CAAO,IAAI,MACV,SAAA,CAAAH,MAACI,GAAK,MAAM,eAAe,WAAW,MACnC,0BAAM,WACT,EACC3B,IAAa,QACZoB,EAAAA,KAAAQ,EAAAA,SAAA,CACE,SAAA,CAAAL,EAAAA,IAACM,EAAA,CAAQ,YAAY,WAAW,EAAE,OAAO,EACzCT,EAAAA,KAACO,EAAA,CAAK,MAAM,eAAe,WAAW,MACnC,SAAA,CAAAF,GAAA,YAAAA,EAAM,QAAQ,MAAA,CAAA,CACjB,CAAA,CAAA,CACF,CAAA,EAEJ,EAEAF,EAAAA,IAACC,EAAA,CAAO,MAAM,WAAW,IAAI,MAC3B,SAAAD,EAAAA,IAACI,EAAA,CAAK,SAAS,OAAO,MAAM,eACzB,SAAAF,GAAA,YAAAA,EAAM,MACT,CAAA,CACF,CAAA,CAAA,EApCKA,GAAA,YAAAA,EAAM,UAAA,EAsCd,CACH,CAAA,CAAA,CAAA,CAGN"}