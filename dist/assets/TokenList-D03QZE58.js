import{r as b,j as e,F as U,T as w,a1 as k,B as D,M as ee,p as se,$ as oe,H as ne,q as re,t as ie,w as Q,C as E}from"./vendor-CBmAETR3.js";import{x as q,I as P,as as Y,A as v,M as ae,a6 as te,u as J,d as pe,C as V,D as le,c as ce,y as xe,a2 as de,Q as he,l as fe,V as ge}from"./index-ihcskjKt.js";import{L as ue}from"./Loading-DOvYGudd.js";import"./cross-CbhIs7DK.js";import{N as me}from"./NoData-BFX9XpKb.js";import{u as ye}from"./useTokenBalance-EOIPKTy-.js";import{B as je}from"./BackButton-B9dAauAl.js";import{a as be}from"./TokenGoplusCard-DIaV65ZO.js";import{u as Te}from"./index-CLgd2W9i.js";import"./useAccountBalance-D7pkS3C9.js";import"./HTextLabelBox-Cv1F2u1A.js";const Se=({keyword:s,currentTab:t,isHaveImg:p})=>{const{filterTokenLoading:n}=q(),u=b.useMemo(()=>{if(s)return"No tokens found";if(!s&&t==="Imported")return"No Imported Tokens";if(!s&&t==="Watchlist")return"No date avalaible"},[s,t]),r=b.useMemo(()=>s?e.jsxs(U,{alignItems:"center",children:[e.jsx(w,{height:"20px",lineHeight:"20px",children:"Or you can enter Coin Type"}),e.jsx(k,{label:"The unique id of coin",placement:"bottom",children:e.jsx("button",{children:e.jsx(P,{marginLeft:"4px",xlinkHref:"#icon-icon_tips",svgW:"20px",svgH:"20px"})})})]}):null,[s]);return n?null:e.jsx(me,{type:"nodata",text:u,children:r,background:"none",noBorder:!0,noImg:!p})};function _e(s){const{balanceInfo:t}=ye(s.tokenInfo);return e.jsx(D,{fontSize:"14px",children:Y(t==null?void 0:t.balanceFormat,"",s.tokenInfo.decimals)})}function Ie({tokenInfo:s,onClose:t,onBack:p,isOpen:n}){return e.jsx(ee,{autoFocus:!1,returnFocusOnClose:!1,isOpen:n,onClose:t,isCentered:!0,children:e.jsxs(se,{overflow:"hidden",children:[e.jsx(oe,{children:e.jsxs(ne,{gap:"12px",children:[e.jsx(je,{onClick:p}),e.jsx(v,{portal:!1,token:s,imgBoxStyle:{w:"28px",h:"28px"}})]})}),e.jsx(re,{onClick:()=>t()}),e.jsx(ie,{p:"0",children:e.jsx(be,{tokenInfo:s})})]})})}const K=({token:s,onSelectToken:t,isDisableSelectTokenItem:p,currentTab:n,delImportTokenList:u,addUserCollectToken:r,delUserCollectToken:C,userCollectObj:o,userCollectList:h,isShowCollectListBox:T,isShowOperate:A=!0,isShowCoinInfo:S=!0,isShowTokenListTab:N,onGoplusTokenClick:B,onClose:M,isNotAllowClick:H=!1,isHideDelIcon:z=!1,isDisabled:l=!1,isShowTokenName:m=!0,isChecked:f=!1})=>{const{isShowImportBtn:_,setTokenModalOpacity:y}=q(),{currentAccount:g}=ae(),{getTokenSource:a}=te(),[c,I]=b.useState(!1);b.useEffect(()=>{if(s){const d=a([s]);d&&d.length>0&&I(!0)}},[s]);const[F,O]=b.useState(!1),{isApp:j}=J();return e.jsxs(Q,{variant:"unstyled",display:"flex",w:"100%",minH:"64px",justifyContent:"space-between",alignItems:"center",cursor:f&&p||H||l?"not-allowed":"pointer",userSelect:"none",p:"0 16px",marginTop:"8px",bg:f?"primary_opacity.10":"none",border:"1px solid",borderColor:f?"primary_opacity.50":"transparent",borderRadius:"14px",_hover:l?{}:{bg:"primary_opacity.10",borderRadius:"14px"},opacity:f&&p||l?"0.5":"1",onClick:()=>{l||H||t(s)},children:[e.jsx(v,{symbolFontWeight:"600",token:s,haveAddress:!0,imgBoxStyle:{w:"32px",h:"32px"},symbolFontSize:"14px",symbolEllipsesDecimals:20,nameEllipsesDecimals:28,haveName:m,warningIcon:{isNeedShow:n!=="Imported"&&c}}),e.jsxs(U,{alignItems:"center",children:[(g==null?void 0:g.address)&&e.jsxs(D,{textAlign:"right",mr:"4px",children:[e.jsx(_e,{tokenInfo:s}),(s==null?void 0:s.balanceUSD)!==void 0&&pe(s==null?void 0:s.balanceUSD).gt(0)&&e.jsx(w,{mt:"6px",fontSize:"12px",children:Y(s==null?void 0:s.balanceUSD)})]}),A&&e.jsxs(e.Fragment,{children:[!z&&!((s==null?void 0:s.is_verified)===void 0?s!=null&&s.is_trusted:s!=null&&s.is_verified)?e.jsx(V,{showTooltip:!j,placement:"top",tooltip:e.jsx(w,{fontSize:"12px",children:"Remove"}),children:e.jsx(E,{children:e.jsx(P,{marginLeft:"2px",xlinkHref:"#icon-icon_del",svgHover:"primary",onClick:d=>{d.stopPropagation(),u([s])}})})}):null,o[le(s.coin_type)]&&T?e.jsx(V,{showTooltip:!j,placement:"top",tooltip:e.jsx(w,{fontSize:"12px",children:"Remove to Watchlist"}),children:e.jsx(E,{children:e.jsx(P,{marginLeft:"4px",xlinkHref:"#icon-icon_star_sel",svgFill:"primary",svgHover:"primary",onClick:d=>{d.stopPropagation(),C(s)}})})}):!_&&T?e.jsx(V,{showTooltip:!j,placement:"top",tooltip:e.jsx(w,{fontSize:"12px",children:"Add to Watchlist"}),children:e.jsx(E,{children:e.jsx(P,{marginLeft:"4px",xlinkHref:"#icon-icon_star",variant:"primary",cursor:(h==null?void 0:h.length)>=100?"not-allowed":"pointer",onClick:d=>{d.stopPropagation(),(h==null?void 0:h.length)<100&&r(s)}})})}):null,S&&e.jsx(V,{placement:"top",tooltip:e.jsx(w,{fontSize:"12px",color:"text_caption",children:"Coin Info"}),children:e.jsx(E,{as:"button",ml:"4px",onClick:d=>{ce(d),B?B(s):(d.target.blur(),O(!0),y(0))},children:e.jsx(P,{xlinkHref:"#icon-icon_tips"})})})]})]}),F&&e.jsx(Ie,{tokenInfo:s,isOpen:F,onBack:()=>{O(!1),y(1)},onClose:M})]})},we=({list:s,onSelectToken:t,isDisableSelectTokenItem:p,value:n,currentTab:u,delImportTokenList:r,addUserCollectToken:C,delUserCollectToken:o,userCollectObj:h,userCollectList:T,width:A,height:S,isShowCollectListBox:N,isShowOperate:B=!0,isShowTokenListTab:M,onClose:H,onGoplusTokenClick:z,isShowTokenName:l=!0,notAllowedSelect:m,isShowCoinInfo:f})=>{const _=b.useRef(null),y=Te({count:s.length,getScrollElement:()=>_.current,estimateSize:()=>Array.isArray(n)?72:64,overscan:10});return e.jsx("div",{ref:_,style:{minHeight:"100px",height:S||"400px",overflowY:"auto"},children:e.jsx("div",{style:{height:`${y.getTotalSize()}px`,position:"relative"},children:y.getVirtualItems().map(g=>{var c;const a=s[g.index];return e.jsx("div",{style:{position:"absolute",top:g.start,left:0,width:"100%",height:g.size,marginBottom:Array.isArray(n)?"8px":"0px"},children:e.jsx(K,{onGoplusTokenClick:z,onClose:H,token:a,onSelectToken:t,isNotAllowClick:m==null?void 0:m(a),isDisableSelectTokenItem:p,isChecked:typeof n=="string"?n===(a==null?void 0:a.coin_type):Array.isArray(n)?typeof(n==null?void 0:n[0])=="string"?n==null?void 0:n.includes(a==null?void 0:a.coin_type):n==null?void 0:n.some(I=>(I==null?void 0:I.coin_type)===(a==null?void 0:a.coin_type)):(n==null?void 0:n.coin_type)===(a==null?void 0:a.coin_type),currentTab:u,delImportTokenList:r,addUserCollectToken:C,delUserCollectToken:o,isShowCollectListBox:N,isShowCoinInfo:f,isShowTokenListTab:M,userCollectObj:h,isDisabled:(c=s[g.index])==null?void 0:c.isDisabled,userCollectList:T,isShowOperate:B,isShowTokenName:l})},a.coin_type)})})})};function Ee(s){const{onSelectToken:t,keyword:p,currentLabel:n,currentTab:u,value:r,isDisableSelectTokenItem:C,tokenList:o,isShowCollectListBox:h,isShowOperate:T=!0,isShowTokenListTab:A,onGoplusTokenClick:S,onClose:N,noDataHaveImg:B=!0,noClickImportItem:M=!1,bg:H,isShowCoinInfo:z,tokenListMaxHeight:l,isShowTokenName:m=!0,notAllowedSelect:f}=s,{delUserCollectToken:_,addUserCollectToken:y,addImportTokenList:g,delImportTokenList:a}=xe(),{filterTokenList:c,filterTokenLoading:I,userCollectObj:F,userCollectList:O,isShowImportBtn:j}=q(),{isApp:d}=J(),X=(o==null?void 0:o.length)*72>Number(l==null?void 0:l.replace("px","")),Z=(o==null?void 0:o.length)>6,W=b.useMemo(()=>p&&l?Number(l==null?void 0:l.replace("px",""))+80+"px":l,[l,p]),{tokenBalanceObj:G}=de(),{fetchTokenPrices:L}=he();return b.useEffect(()=>{if(console.log("tokenBalanceObj",G),fe(G)){const i=(o==null?void 0:o.filter(x=>{var $;return(x==null?void 0:x.coin_type)&&G[($=ge(x==null?void 0:x.coin_type))==null?void 0:$.full_address]}))||[],R=i.map(x=>x==null?void 0:x.coin_type);console.log("ðŸš€ ~ useEffect ~ uniqueTokens:",i,R),L(R)}},[o==null?void 0:o.length]),e.jsxs(D,{maxHeight:W||"400px",pl:Z?"4px":"0px",overflow:"auto",minH:(o==null?void 0:o.length)===1?"80px":"100px",children:[j&&p&&(c==null?void 0:c.length)>0&&e.jsx(U,{padding:"0 16px 12px",marginTop:"10px",children:e.jsx(D,{p:"16px",bg:"primary_yellow_opacity.10",borderRadius:"12px",children:e.jsx(w,{color:"primary_yellow",align:"left",fontSize:"12px",lineHeight:"20px",children:"The token is not on the Frequently Traded List. Please note that anyone can create a token on Sui blockchain with any name, including creating fake versions of existing tokens or tokens that claim to represent projects that do not have a token. Always conduct your own research before trading."})})}),I?e.jsx(D,{height:"400px",position:"relative",borderRadius:"16px",overflow:"hidden",children:e.jsx(ue,{positionStyle:"absolute",bg:H})}):(o==null?void 0:o.length)>0?X?e.jsx(we,{onGoplusTokenClick:S,list:o,isShowTokenName:m,onSelectToken:t,isDisableSelectTokenItem:C,value:r,currentTab:u,isShowCollectListBox:h,isShowTokenListTab:A,delImportTokenList:a,addUserCollectToken:y,delUserCollectToken:_,userCollectObj:F,userCollectList:O,width:d?360:482,height:W,isShowOperate:T,onClose:N,isShowCoinInfo:z,notAllowedSelect:f}):e.jsx(D,{maxHeight:W||"400px",overflow:"auto",minH:(o==null?void 0:o.length)===1?"80px":"100px",pl:"4px",pr:"4px",children:o==null?void 0:o.map((i,R)=>e.jsx(K,{onGoplusTokenClick:S,token:i,isShowCoinInfo:z,onSelectToken:x=>{t(x)},isNotAllowClick:!!(M&&j&&p&&(c==null?void 0:c.length)>0)||(f==null?void 0:f(i)),isShowCollectListBox:h,isShowTokenName:m,isShowTokenListTab:A,isDisableSelectTokenItem:C,isHideDelIcon:!!(j&&p&&(c==null?void 0:c.length)>0),isChecked:typeof r=="string"?r===(i==null?void 0:i.coin_type):Array.isArray(r)?typeof(r==null?void 0:r[0])=="string"?r==null?void 0:r.includes(i==null?void 0:i.coin_type):r==null?void 0:r.some(x=>(x==null?void 0:x.coin_type)===(i==null?void 0:i.coin_type)):(r==null?void 0:r.coin_type)===(i==null?void 0:i.coin_type),currentTab:u,delImportTokenList:a,addUserCollectToken:y,delUserCollectToken:_,userCollectObj:F,userCollectList:O,onClose:N,isShowOperate:T,isDisabled:i==null?void 0:i.isDisabled},i.coin_type))}):e.jsx(Se,{currentTab:u,keyword:p,isHaveImg:B}),j&&p&&e.jsx(E,{p:"16px 0",children:e.jsx(Q,{w:"120px",h:"36px",fontSize:"14px",onClick:()=>{g([c[0]]),t(c[0])},children:"Import"})})]})}export{Ee as default};
//# sourceMappingURL=TokenList-D03QZE58.js.map
