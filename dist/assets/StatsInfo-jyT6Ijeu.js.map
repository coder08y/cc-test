{"version":3,"file":"StatsInfo-jyT6Ijeu.js","sources":["../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/transform/decompose.js","../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/transform/parse.js","../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/transform/index.js","../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/zoom.js","../../src/store/clmm/priceRange.ts","../../src/hooks/clmm/usePriceRange.ts","../../src/store/clmm/chart.ts","../../src/utils/compute-surrounding-ticks.ts","../../src/hooks/clmm/useGetTicksChartData.ts","../../src/assets/images/no_chart_data@2x.png","../../src/components/liquidity/clmm/RangeChart/NoLiquidityData.tsx","../../../../node_modules/.pnpm/d3-axis@3.0.0/node_modules/d3-axis/src/identity.js","../../../../node_modules/.pnpm/d3-axis@3.0.0/node_modules/d3-axis/src/axis.js","../../../../node_modules/.pnpm/d3-dispatch@3.0.1/node_modules/d3-dispatch/src/dispatch.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/namespaces.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/namespace.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/creator.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selector.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/select.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/array.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selectorAll.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/selectAll.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/matcher.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/selectChild.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/selectChildren.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/filter.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/sparse.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/enter.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/constant.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/data.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/exit.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/join.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/merge.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/order.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/sort.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/call.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/nodes.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/node.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/size.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/empty.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/each.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/attr.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/window.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/style.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/property.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/classed.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/text.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/html.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/raise.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/lower.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/append.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/insert.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/remove.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/clone.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/datum.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/on.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/dispatch.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/iterator.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/index.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/select.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/sourceEvent.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/pointer.js","../../../../node_modules/.pnpm/d3-drag@3.0.0/node_modules/d3-drag/src/noevent.js","../../../../node_modules/.pnpm/d3-drag@3.0.0/node_modules/d3-drag/src/nodrag.js","../../../../node_modules/.pnpm/d3-timer@3.0.1/node_modules/d3-timer/src/timer.js","../../../../node_modules/.pnpm/d3-timer@3.0.1/node_modules/d3-timer/src/timeout.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/schedule.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/interrupt.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/selection/interrupt.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/tween.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/interpolate.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/attr.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/attrTween.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/delay.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/duration.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/ease.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/easeVarying.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/filter.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/merge.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/on.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/remove.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/select.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/selectAll.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/selection.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/style.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/styleTween.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/text.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/textTween.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/transition.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/end.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/index.js","../../../../node_modules/.pnpm/d3-ease@3.0.1/node_modules/d3-ease/src/cubic.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/selection/transition.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/selection/index.js","../../../../node_modules/.pnpm/d3-brush@3.0.0/node_modules/d3-brush/src/constant.js","../../../../node_modules/.pnpm/d3-brush@3.0.0/node_modules/d3-brush/src/event.js","../../../../node_modules/.pnpm/d3-brush@3.0.0/node_modules/d3-brush/src/noevent.js","../../../../node_modules/.pnpm/d3-brush@3.0.0/node_modules/d3-brush/src/brush.js","../../../../node_modules/.pnpm/d3-zoom@3.0.0/node_modules/d3-zoom/src/constant.js","../../../../node_modules/.pnpm/d3-zoom@3.0.0/node_modules/d3-zoom/src/event.js","../../../../node_modules/.pnpm/d3-zoom@3.0.0/node_modules/d3-zoom/src/transform.js","../../../../node_modules/.pnpm/d3-zoom@3.0.0/node_modules/d3-zoom/src/noevent.js","../../../../node_modules/.pnpm/d3-zoom@3.0.0/node_modules/d3-zoom/src/zoom.js","../../../../node_modules/.pnpm/tslib@2.6.2/node_modules/tslib/tslib.es6.mjs","../../../../node_modules/.pnpm/stylis@4.3.2/node_modules/stylis/src/Enum.js","../../../../node_modules/.pnpm/stylis@4.3.2/node_modules/stylis/src/Utility.js","../../../../node_modules/.pnpm/stylis@4.3.2/node_modules/stylis/src/Tokenizer.js","../../../../node_modules/.pnpm/stylis@4.3.2/node_modules/stylis/src/Parser.js","../../../../node_modules/.pnpm/stylis@4.3.2/node_modules/stylis/src/Prefixer.js","../../../../node_modules/.pnpm/stylis@4.3.2/node_modules/stylis/src/Serializer.js","../../../../node_modules/.pnpm/stylis@4.3.2/node_modules/stylis/src/Middleware.js","../../../../node_modules/.pnpm/@emotion+unitless@0.8.1/node_modules/@emotion/unitless/dist/emotion-unitless.esm.js","../../../../node_modules/.pnpm/styled-components@6.1.19_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/styled-components/dist/styled-components.browser.esm.js","../../src/components/liquidity/PriceChart/ActiveLiquidityChart/Area.tsx","../../src/components/liquidity/PriceChart/ActiveLiquidityChart/AxisRight.tsx","../../src/components/liquidity/PriceChart/svg.tsx","../../src/components/liquidity/PriceChart/ActiveLiquidityChart/Brush.tsx","../../src/components/liquidity/PriceChart/ActiveLiquidityChart/HorizontalLine.tsx","../../src/components/liquidity/PriceChart/ActiveLiquidityChart/TickTooltip.tsx","../../src/components/liquidity/PriceChart/ActiveLiquidityChart/ActiveLiquidityChart.tsx","../../src/components/liquidity/PriceChart/constants.ts","../../src/components/liquidity/PriceChart/usePriceChartData.ts","../../src/components/liquidity/PriceChart/LiquidityRangeInput.tsx","../../src/components/liquidity/clmm/RangeChart/types.ts","../../src/components/liquidity/clmm/RangeChart/Area3.tsx","../../src/components/liquidity/clmm/RangeChart/AxisBottom.tsx","../../src/components/liquidity/clmm/RangeChart/svg.tsx","../../src/components/liquidity/clmm/RangeChart/Brush.tsx","../../src/components/liquidity/clmm/RangeChart/DashedLine.tsx","../../src/components/liquidity/clmm/RangeChart/Line.tsx","../../src/components/liquidity/clmm/RangeChart/Zoom.tsx","../../src/components/liquidity/clmm/RangeChart/Chart.tsx","../../src/components/liquidity/clmm/RangeChart/index.tsx","../../src/components/liquidity/clmm/LiquidityRangeChart.tsx","../../src/components/liquidity/clmm/StatsInfo.tsx"],"sourcesContent":["var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import decompose, {identity} from \"./decompose.js\";\n\nvar svgNode;\n\n/* eslint-disable no-undef */\nexport function parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","var epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\nexport default (function zoomRho(rho, rho2, rho4) {\n\n  // p0 = [ux0, uy0, w0]\n  // p1 = [ux1, uy1, w1]\n  function zoom(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n        ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n        dx = ux1 - ux0,\n        dy = uy1 - uy0,\n        d2 = dx * dx + dy * dy,\n        i,\n        S;\n\n    // Special case for u0 ≅ u1.\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      }\n    }\n\n    // General case.\n    else {\n      var d1 = Math.sqrt(d2),\n          b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n          b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n          r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n          r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s = t * S,\n            coshr0 = cosh(r0),\n            u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s + r0)\n        ];\n      }\n    }\n\n    i.duration = S * 1000 * rho / Math.SQRT2;\n\n    return i;\n  }\n\n  zoom.rho = function(_) {\n    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n\n  return zoom;\n})(Math.SQRT2, 2, 4);\n","import { TickData } from '@/types'\nimport { create, StateCreator } from 'zustand'\n\ninterface PriceRangeState {\n  lowerTickData: Partial<TickData>\n  setLowerTickData: (data: Partial<TickData>) => void\n  upperTickData: Partial<TickData>\n  setUpperTickData: (data: Partial<TickData>) => void\n  tickDataLoading: boolean\n  setTickDataLoading: (value: boolean) => void\n}\n\nconst store: StateCreator<PriceRangeState> = (set, get) => ({\n  lowerTickData: {},\n  setLowerTickData: (data: Partial<TickData>) => {\n    set(() => ({\n      lowerTickData: data\n    }))\n  },\n  upperTickData: {},\n  setUpperTickData: (data: Partial<TickData>) => {\n    set(() => ({\n      upperTickData: data\n    }))\n  },\n  tickDataLoading: true,\n  setTickDataLoading: (value: boolean) => {\n    set(() => ({\n      tickDataLoading: value\n    }))\n  }\n})\n\nconst usePriceRangeStore = create(store)\nexport default usePriceRangeStore\n","import useLiquidityStore from '@/store/clmm'\nimport usePriceRangeStore from '@/store/clmm/priceRange'\nimport { PoolApiInfo, TickData } from '@/types'\nimport { getReversePrice } from '@/utils/pool'\nimport { d, formatTickPrice } from '@cetus/utils'\nimport { TickMath, TickUtil } from '@cetusprotocol/common-sdk'\n\nexport function getNearestTickByTick(tickIndex: number, tickSpacing: number, rounding?: boolean): number {\n  const mod = Math.abs(tickIndex) % tickSpacing\n  if (!mod) {\n    if (rounding) {\n      return tickIndex + tickSpacing\n    }\n    return tickIndex\n  }\n  if (tickIndex > 0) {\n    if (mod > tickSpacing / 2) {\n      return tickIndex + tickSpacing - mod\n    }\n    if (rounding && tickSpacing <= 2) {\n      return tickIndex + tickSpacing - mod\n    }\n    return tickIndex - mod\n  }\n  if (mod > tickSpacing / 2) {\n    return tickIndex - tickSpacing + mod\n  }\n  return tickIndex + mod\n}\n\nexport default function usePriceRange() {\n  const { lowerTickData, setLowerTickData, upperTickData, setUpperTickData } = usePriceRangeStore()\n  const { contractPoolInfo } = useLiquidityStore()\n\n  // 设置Tick data\n  const handleSetTickData = (tick: number, type: 'lower' | 'upper', poolApiInfo: PoolApiInfo) => {\n    const decimalsA = poolApiInfo.tokenA.decimals\n    const decimalsB = poolApiInfo.tokenB.decimals\n    let price\n\n    if (Math.abs(tick) == Math.abs(TickUtil.getMinIndex(Number(poolApiInfo.tickSpacing)))) {\n      price = type === 'lower' ? '0' : '∞'\n    } else {\n      price = TickMath.tickIndexToPrice(tick, decimalsA, decimalsB).toString()\n      console.log('🚀 ~ handleSetTickData ~ price:', price)\n    }\n\n    const displayPrice = price === '∞' ? '∞' : formatTickPrice(price, 6)\n    console.log('🚀 ~ handleSetTickData ~ displayPrice:', displayPrice)\n\n    const reversePrice = getReversePrice(price)\n\n    const displayReversePrice = reversePrice === '∞' ? '∞' : formatTickPrice(reversePrice, 6)\n    const data = {\n      id: type,\n      tokenA: poolApiInfo.tokenA,\n      tokenB: poolApiInfo.tokenB,\n      tick,\n      price,\n      displayPrice,\n      reversePrice,\n      displayReversePrice,\n      tickSpacing: poolApiInfo.tickSpacing || (contractPoolInfo && contractPoolInfo.tickSpacing),\n      pool: poolApiInfo.poolAddress\n    }\n\n    if (type === 'lower') {\n      setLowerTickData({ ...data })\n    } else {\n      setUpperTickData({ ...data })\n    }\n  }\n\n  // 初始化Tick Data（第一次进页面时候可用）\n  const handleInitTickData = (lower: number, upper: number, poolApiInfo: PoolApiInfo) => {\n    handleSetTickData(lower, 'lower', poolApiInfo)\n    handleSetTickData(upper, 'upper', poolApiInfo)\n  }\n\n  // 加或减操作\n  const handleActionPrice = (tickData: Partial<TickData>, action: 'Add' | 'Sub') => {\n    console.log('🚀 ~ file: usePriceRange.ts:55 ~ handleActionPrice ~ tickData:', tickData)\n    console.log('🚀 ~ file: usePriceRange.ts:55 ~ handleActionPrice ~ action:', action)\n    const tokenA = tickData?.tokenA\n    const tokenB = tickData?.tokenB\n    const currentTick = tickData.tick\n    const tickSpacing = tickData.tickSpacing\n\n    if (!tokenA || !tokenB || !tickSpacing) return\n    const newTick = action === 'Add' ? d(currentTick).add(tickSpacing).toNumber() : d(currentTick).sub(tickSpacing).toNumber()\n\n    if (d(newTick).gt(TickUtil.getMaxIndex(Number(tickData.tickSpacing))) || d(newTick).lt(TickUtil.getMinIndex(Number(tickData.tickSpacing)))) return\n\n    const price = TickMath.tickIndexToPrice(newTick, tokenA.decimals, tokenB.decimals).toString()\n    console.log(price, '🚀 ~ file: usePriceRange.ts:69 ~ handleActionPrice ~ price:')\n    const displayPrice = price === '∞' ? '∞' : formatTickPrice(price, 6)\n    console.log('🚀 ~ file: usePriceRange.ts:71 ~ handleActionPrice ~ displayPrice:', tickData, displayPrice)\n\n    if (displayPrice === tickData.displayPrice) {\n      handleActionPrice(\n        {\n          ...tickData,\n          tick: newTick\n        },\n        action\n      )\n    } else {\n      const reversePrice = getReversePrice(price)\n      const displayReversePrice = reversePrice === '∞' ? '∞' : formatTickPrice(reversePrice, 6)\n      const newData = {\n        ...tickData,\n        tick: newTick,\n        price,\n        displayPrice,\n        reversePrice,\n        displayReversePrice\n      }\n\n      if (tickData.id === 'lower') {\n        console.log('🚀 ~ file: usePriceRange.ts:55 ~ handleActionPrice ~ lower newData:', newData)\n        setLowerTickData({ ...newData })\n      } else {\n        console.log('🚀 ~ file: usePriceRange.ts:55 ~ handleActionPrice ~ upper newData:', newData)\n        setUpperTickData({ ...newData })\n      }\n    }\n  }\n\n  // 加\n  const handleAddPrice = (tickData: Partial<TickData>) => {\n    handleActionPrice(tickData, 'Add')\n  }\n\n  // 减\n  const handleSubPrice = (tickData: Partial<TickData>) => {\n    handleActionPrice(tickData, 'Sub')\n  }\n\n  // 设置Full range\n  const handleSetFullRange = (poolApiInfo: Partial<PoolApiInfo>) => {\n    const lowerData = {\n      ...lowerTickData,\n      tick: TickUtil.getMinIndex(Number(poolApiInfo.tickSpacing)),\n      price: '0',\n      displayPrice: '0',\n      reversePrice: '∞',\n      displayReversePrice: '∞'\n    }\n\n    console.log('🚀 ~ file: usePriceRange.ts:115 ~ handleSetFullRange ~ lowerData:', lowerData)\n    setLowerTickData(lowerData)\n\n    const upperData = {\n      ...upperTickData,\n      tick: TickUtil.getMaxIndex(Number(poolApiInfo.tickSpacing)),\n      price: '∞',\n      displayPrice: '∞',\n      reversePrice: '0',\n      displayReversePrice: '0'\n    }\n    console.log('🚀 ~ file: usePriceRange.ts:115 ~ handleSetFullRange ~ upperData:', upperData)\n    setUpperTickData(upperData)\n  }\n\n  // 失去焦点操作\n  const setTickDataBasedOnPrice = (data: Partial<TickData>, value: string, direct?: boolean) => {\n    console.log('🚀🚀🚀 ~ usePriceRange.ts:206 ~ setTickDataBasedOnPrice ~ setTickDataBasedOnPrice:', setTickDataBasedOnPrice)\n    const tokenA = data.tokenA\n    const tokenB = data.tokenB\n\n    if (!tokenA || !tokenB) return\n    let tick\n    let price = ''\n\n    if (value === '∞' || value === 'Infinity') {\n      tick = TickUtil.getMaxIndex(Number(data.tickSpacing))\n      price = '∞'\n    } else if (d(value).equals(0)) {\n      tick = TickUtil.getMinIndex(Number(data.tickSpacing))\n      price = '0'\n    } else if (d(value).gt(0)) {\n      const t = TickMath.priceToTickIndex(d(value), tokenA.decimals, tokenB.decimals)\n      const nearTikRounding = (direct && data.id === 'lower') || (!direct && data.id === 'upper') ? false : true\n      tick = getNearestTickByTick(Number(t), Number(data.tickSpacing), typeof direct === 'boolean' ? nearTikRounding : undefined)\n      price = TickMath.tickIndexToPrice(Number(tick), tokenA.decimals, tokenB.decimals).toString()\n    }\n\n    const displayPrice = price === '∞' ? '∞' : formatTickPrice(price, 6)\n    console.log('🚀 ~ setTickDataBasedOnPrice ~ displayPrice:', displayPrice)\n\n    const reversePrice = getReversePrice(price)\n\n    const displayReversePrice = reversePrice === '∞' ? '∞' : formatTickPrice(reversePrice, 6)\n\n    const newData = {\n      ...data,\n      tick,\n      price,\n      displayPrice,\n      reversePrice,\n      displayReversePrice\n    }\n    if (data.id === 'lower') {\n      setLowerTickData({ ...newData })\n    } else {\n      setUpperTickData({ ...newData })\n    }\n  }\n\n  // 重置\n  const handleResetRange = () => {\n    setLowerTickData({})\n    setUpperTickData({})\n  }\n\n  return {\n    handleSetTickData,\n    handleAddPrice,\n    handleSubPrice,\n    handleSetFullRange,\n    handleInitTickData,\n    setTickDataBasedOnPrice,\n    handleResetRange\n  }\n}\n","import { create, StateCreator } from 'zustand'\n\ninterface DepthChartState {\n  formatPriceData: any\n  setFormatPriceData: (data: any) => void\n  formatPriceDataIsLoading: boolean\n  setFormatPriceDataIsLoading: (value: boolean) => void\n  ticksPool: any\n  setTicksPool: (data: any) => void\n}\n\nconst store: StateCreator<DepthChartState> = (set, get) => ({\n  formatPriceData: [],\n  setFormatPriceData: (data: any) => {\n    set(() => ({\n      formatPriceData: data,\n      formatPriceDataIsLoading: false\n    }))\n  },\n  formatPriceDataIsLoading: true,\n  setFormatPriceDataIsLoading: (value: boolean) => {\n    set(() => ({\n      formatPriceDataIsLoading: value\n    }))\n  },\n  ticksPool: {},\n  setTicksPool: (data: any) => {\n    set(() => ({\n      ticksPool: data\n    }))\n  }\n})\n\nconst useDepthChartStore = create(store)\nexport default useDepthChartStore\n","import { Ticks } from '@/hooks/clmm/usePoolTickData'\nimport { Token } from '@cetus/types'\nimport { d } from '@cetus/utils'\nimport { TickMath } from '@cetusprotocol/common-sdk'\n\nconst PRICE_FIXED_DIGITS = 8\n\n// Tick with fields parsed to JSBIs, and active liquidity computed.\nexport interface TickProcessed {\n  tick: number\n  liquidityActive: bigint\n  liquidityNet: bigint\n  price0: string\n}\n\n// Computes the numSurroundingTicks above or below the active tick.\nexport default function computeSurroundingTicks(\n  token0: Token,\n  token1: Token,\n  activeTickProcessed: TickProcessed,\n  sortedTickData: Ticks,\n  pivot: number,\n  ascending: boolean\n): TickProcessed[] {\n  let previousTickProcessed: TickProcessed = {\n    ...activeTickProcessed\n  }\n  // Iterate outwards (either up or down depending on direction) from the active tick,\n  // building active liquidity for every tick.\n  let processedTicks: TickProcessed[] = []\n  for (let i = pivot + (ascending ? 1 : -1); ascending ? i < sortedTickData.length : i >= 0; ascending ? i++ : i--) {\n    const tick = Number(sortedTickData[i]?.tick)\n    // const sdkPrice = tickToPrice(token0, token1, tick)\n    const sdkPrice = TickMath.tickIndexToPrice(tick, token0.decimals, token1.decimals)\n    const currentTickProcessed: TickProcessed = {\n      liquidityActive: previousTickProcessed.liquidityActive,\n      tick,\n      liquidityNet: BigInt(sortedTickData[i]?.liquidityNet ?? ''),\n      // price0: sdkPrice.toFixed(PRICE_FIXED_DIGITS)\n      price0: sdkPrice.toString()\n    }\n\n    // Update the active liquidity.\n    // If we are iterating ascending and we found an initialized tick we immediately apply\n    // it to the current processed tick we are building.\n    // If we are iterating descending, we don't want to apply the net liquidity until the following tick.\n    if (ascending) {\n      // currentTickProcessed.liquidityActive = JSBI.add(\n      //   previousTickProcessed.liquidityActive,\n      //   JSBI.BigInt(sortedTickData[i]?.liquidityNet ?? 0),\n      // )\n      currentTickProcessed.liquidityActive = BigInt(\n        d(previousTickProcessed.liquidityActive.toString())\n          .add(sortedTickData[i]?.liquidityNet ?? 0)\n          .toString()\n      )\n    } else if (!ascending && !d(previousTickProcessed.liquidityNet.toString()).eq('0')) {\n      // We are iterating descending, so look at the previous tick and apply any net liquidity.\n      // currentTickProcessed.liquidityActive = JSBI.subtract(\n      //   previousTickProcessed.liquidityActive,\n      //   previousTickProcessed.liquidityNet,\n      // )\n      currentTickProcessed.liquidityActive = BigInt(\n        d(previousTickProcessed.liquidityActive.toString()).sub(previousTickProcessed.liquidityNet.toString()).toString()\n      )\n    }\n\n    processedTicks.push(currentTickProcessed)\n    previousTickProcessed = currentTickProcessed\n  }\n\n  if (!ascending) {\n    processedTicks = processedTicks.reverse()\n  }\n\n  return processedTicks\n}\n\nexport function computeSurroundingTicksNew(list: any, token0: Token, token1: Token) {\n  let d1 = 0\n  return list?.map((item: any, index: number) => {\n    d1 = d(item?.liquidityNet)?.plus(d1).toNumber()\n    const sdkPrice = TickMath.tickIndexToPrice(item?.tick, token0.decimals, token1.decimals)\n    const newItem = {\n      liquidityActive: d1,\n      liquidityNet: item?.liquidityNet,\n      tick: item?.tick,\n      price0: sdkPrice.toString()\n    }\n    return newItem\n  })\n}\n","// import { TicksPath } from '@/apis/path'\nimport { TICK_SPACINGS } from '@/constant/pool'\nimport useDepthChartStore from '@/store/clmm/chart'\nimport { FeeRate, GetTickParams } from '@/types/clmm'\nimport computeSurroundingTicks, { computeSurroundingTicksNew } from '@/utils/compute-surrounding-ticks'\nimport { getTickDataFromUrlData } from '@/utils/contract-helper'\nimport { useFetch } from '@cetus/hooks'\nimport { useSdk } from '@cetus/sdk-factory'\nimport { d } from '@cetus/utils'\nimport { TickMath } from '@cetusprotocol/common-sdk'\nimport { useEffect } from 'react'\n\ninterface ChartEntry {\n  price: number\n  depth: number\n}\n\ninterface TickProcessed {\n  tick: number\n  liquidityActive: bigint\n  liquidityNet: bigint\n  price0: string\n}\n\nconst PRICE_FIXED_DIGITS = 8\n\nconst MAX_TICK_INDEX = 443636\n\nconst MIN_TICK_INDEX = -443636\n\nconst getActiveTick = (tickCurrent: number | undefined, feeAmount: FeeRate | undefined) => {\n  // return tickCurrent !== undefined && feeAmount ? Math.floor(tickCurrent / TICK_SPACINGS[feeAmount]) * TICK_SPACINGS[feeAmount] : undefined\n  return (tickCurrent || tickCurrent === 0) && feeAmount && TICK_SPACINGS[feeAmount]\n    ? Math.floor(tickCurrent / TICK_SPACINGS[feeAmount]) * TICK_SPACINGS[feeAmount]\n    : undefined\n}\n\n// toDo: Filter out abnormal data\nconst filterTicksData = (list: any) => {\n  const suspicious_tickIndexs = [300200, 300060]\n  const filterData = list.filter((item: any) => {\n    if (item?.tick === 300000 && d(item?.liquidityNet).abs().gt('14673429775904769391107872693404')) {\n      return false\n    }\n    if (suspicious_tickIndexs.includes(item?.tick) && d(item?.liquidityNet).abs().gt('14673429775904769391107872693404')) {\n      return false\n    }\n    return true\n  })\n\n  return filterData\n}\n\nexport default function useGetTicksChartData() {\n  const { fetchByApi } = useFetch()\n  const clmmSdk = useSdk('clmm')\n  const { setFormatPriceData, setFormatPriceDataIsLoading, setTicksPool } = useDepthChartStore()\n\n  // 获取ticks接口数据\n  const getTicks = async (params: GetTickParams) => {\n    console.log('🚀 ~ getTicks ~ params:', params)\n\n    const { poolAddress, tokenA, tokenB, tickSpacing } = params\n    try {\n      const fetchParams = {\n        address: poolAddress,\n        orderBy: 'index',\n        limit: 1000\n      }\n      // const res = await fetchByApi(TicksPath, 'GET', fetchParams)\n      const res = await fetchByApi('/router_v3/ticks', 'GET', fetchParams)\n      console.log('🚀 ~ getTicks11111 ~ res:', res)\n      const list = res?.list?.sort((a: any, b: any) => a.index - b.index)\n      console.log('🚀 ~ getTicks11111 ~ list:', list)\n\n      const tickList = list.map((tickItem: any) => {\n        return {\n          // objectId: tickItem.object_id,\n          tick: tickItem.index,\n          sqrtPrice: tickItem.sqrt_price,\n          liquidityNet: tickItem.liquidity_net,\n          liquidityGross: tickItem.liquidity_gross\n          // feeGrowthOutsideA: new BN(tickItem.fee_growth_outside_a),\n          // feeGrowthOutsideB: new BN(tickItem.fee_growth_outside_b),\n          // rewardersGrowthOutside: tickItem.rewards_growth_outside\n        }\n      })\n      console.log('🚀 ~ getTicks11111 ~ tickList:', tickList)\n\n      // throw Error('error')\n\n      const filterData = filterTicksData(tickList)\n      console.log('🚀 ~ getTicks ~ filterData:', filterData)\n\n      return {\n        // ticks: tickList,\n        ticks: filterData,\n        address: res?.address,\n        ticksPoolInfo: res?.pool\n      }\n    } catch (error) {\n      console.log('🚀 ~ getTicks ~ error:', error)\n      const list = await clmmSdk!.Pool.fetchTicks({\n        pool_id: poolAddress,\n        coin_type_a: tokenA.coin_type,\n        coin_type_b: tokenB.coin_type\n      })\n      console.log('🚀 ~ getTicks ~ error list:', list)\n\n      const result: any = []\n      if (list && list?.length > 0) {\n        const formateList = getTickDataFromUrlData(list)\n\n        formateList?.forEach((item: any) => {\n          result.push({\n            tick: Number(item.index),\n            liquidityNet: d(item.liquidityNet.toString()).toString(),\n            liquidityGross: item.liquidityGross.toString(),\n            id: item.objectId\n          })\n        })\n      }\n\n      console.log('🚀 ~ getTicks ~ error result:', result)\n      const filterData = filterTicksData(result)\n      console.log('🚀 ~ getTicks ~ error filterData:', filterData)\n      return {\n        // ticks: result,\n        ticks: filterData,\n        address: poolAddress\n      }\n    }\n  }\n\n  // api接口返回的ticks列表和合约拿到的当前tick和liquidity做了计算后可能由于数据同步差异，算出来都为负数\n  // 为了避免以上情况, 根据当前tick和ticks列表自己计算出对应的liquidity再画图\n  const getLiquidity = (pivot: number, ticks: any, currentIndexIsEqualWithTicksItem?: boolean) => {\n    console.log('🚀 ~ getLiquidity ~ currentIndexIsEqualWithTicksItem:', currentIndexIsEqualWithTicksItem)\n    console.log('🚀 ~ getLiquidity ~ ticks:', ticks)\n    console.log('🚀 ~ getLiquidity ~ pivot:', pivot)\n    const sum = ticks\n      .slice(0, currentIndexIsEqualWithTicksItem ? pivot : pivot + 1) // 取出下标小于 current 的部分\n      .reduce((acc: any, tick: any) => d(acc).add(tick.liquidityNet.toString()).toString(), 0)\n\n    console.log('🚀 ~ getLiquidity ~ ticks.slice(0, pivot):', ticks.slice(0, currentIndexIsEqualWithTicksItem ? pivot : pivot + 1))\n    console.log('🚀 ~ getLiquidity ~ sum:', sum)\n\n    return sum\n  }\n\n  const getProcessedAsPriceOrigin = (params: GetTickParams & { ticks: any; ticksPool?: any }) => {\n    const { poolAddress, tokenA, tokenB, tickSpacing, currentTickIndex, feeRate, ticks, ticksPool } = params\n    if (!feeRate || !tickSpacing) return\n    const currTick = ticksPool?.current_tick_index || currentTickIndex\n    const activeTick = getActiveTick(currTick, feeRate as FeeRate)\n    if (activeTick === undefined) return\n\n    const newTicks = JSON.parse(JSON.stringify(ticks)).sort((a: any, b: any) => a - b)\n    console.log('🚀 ~ getProcessedAsPrice ~ newTicks:', newTicks)\n\n    let d1 = 0\n    const test = newTicks?.map((item: any, index: number) => {\n      d1 = d(item?.liquidityNet)?.plus(d1).toNumber()\n      const newItem = {\n        ...item,\n        newDepth: d1\n      }\n      return newItem\n    })\n\n    console.log('🚀 ~ test ~ test0619:', test)\n\n    const liquidity = ticksPool?.liquidity || params.liquidity\n\n    if (newTicks.length === 0) {\n      return {\n        activeTick,\n        data: [\n          {\n            liquidityActive: BigInt(liquidity ?? 0),\n            tick: activeTick,\n            liquidityNet: 0n,\n            price0: TickMath.tickIndexToPrice(activeTick, tokenA.decimals, tokenB.decimals).toString()\n          }\n        ]\n      }\n    }\n\n    // 只有一个区间\n    if (newTicks.length === 2 && currTick > newTicks[0]?.tick && currTick < newTicks[1].tick) {\n      console.log('🚀 ~ getProcessedAsPrice ~ is full range:')\n      return {\n        activeTick,\n        data: [\n          {\n            ...newTicks[0],\n            liquidityActive: newTicks[0].liquidityNet,\n            price0: TickMath.tickIndexToPrice(newTicks[0].tick, tokenA.decimals, tokenB.decimals).toString()\n          },\n          {\n            liquidityActive: BigInt(liquidity ?? 0),\n            // liquidityActive: 0,\n            tick: activeTick,\n            liquidityNet: 0n,\n            // price0: TickMath.tickIndexToPrice(activeTick, tokenA.decimals, tokenB.decimals).toFixed(PRICE_FIXED_DIGITS)\n            price0: TickMath.tickIndexToPrice(activeTick, tokenA.decimals, tokenB.decimals).toString()\n          },\n          {\n            ...newTicks[1],\n            liquidityActive: newTicks[0].liquidityNet,\n            price0: TickMath.tickIndexToPrice(newTicks[1].tick, tokenA.decimals, tokenB.decimals).toString()\n          }\n        ]\n      }\n    }\n\n    const pivot = ticks.findIndex(({ tick }: any) => tick && tick > activeTick) - 1\n    const currentIndexPos = ticks.findIndex(({ tick }: any) => tick && tick >= activeTick)\n\n    if (pivot < 0) {\n      const subsequentTicks = computeSurroundingTicks(\n        tokenA,\n        tokenB,\n        {\n          liquidityActive: BigInt(liquidity ?? 0),\n          tick: activeTick,\n          liquidityNet: 0n,\n          // price0: TickMath.tickIndexToPrice(activeTick, tokenA.decimals, tokenB.decimals).toFixed(PRICE_FIXED_DIGITS)\n          price0: TickMath.tickIndexToPrice(activeTick, tokenA.decimals, tokenB.decimals).toString()\n        },\n        newTicks,\n        -1,\n        true\n      )\n\n      return {\n        activeTick,\n        data: [\n          ...subsequentTicks\n          // {\n          //   liquidityActive: BigInt(liquidity ?? 0),\n          //   tick: activeTick,\n          //   liquidityNet: 0n,\n          //   price0: TickMath.tickIndexToPrice(activeTick, tokenA.decimals, tokenB.decimals).toFixed(PRICE_FIXED_DIGITS)\n          // }\n        ]\n      }\n    }\n\n    const sdkPrice = TickMath.tickIndexToPrice(activeTick, tokenA.decimals, tokenB.decimals)\n    const activeTickProcessed: any = {\n      liquidityActive: BigInt(liquidity ?? 0),\n      tick: activeTick,\n      // tick: currentTickIndex,\n      liquidityNet: Number(ticks[pivot]?.tick) === activeTick ? BigInt(ticks[pivot]?.liquidityNet ?? 0) : BigInt(0),\n      // price0: sdkPrice.toFixed(PRICE_FIXED_DIGITS)\n      price0: sdkPrice.toString()\n    }\n\n    console.log('Test Depth Data###🚀 ~ getProcessedAsPrice ~ activeTickProcessed:', activeTickProcessed)\n\n    // 当前tick 之后\n    const subsequentTicks = computeSurroundingTicks(tokenA, tokenB, activeTickProcessed, newTicks, pivot, true)\n\n    console.log('Test Depth Data###🚀 ~ getProcessedAsPrice ~ subsequentTicks:', subsequentTicks)\n\n    // 当前tick 之前\n    const previousTicks = computeSurroundingTicks(tokenA, tokenB, activeTickProcessed, newTicks, pivot, false)\n\n    // const previousTicks = []\n\n    console.log('Test Depth Data###🚀 ~ getProcessedAsPrice ~ previousTicks:', previousTicks)\n    // const ticksProcessed = previousTicks.concat(activeTickProcessed).concat(subsequentTicks)\n\n    const activeTickProcessed2: any = {\n      liquidityActive: BigInt(liquidity ?? 0),\n      tick: currentTickIndex,\n      liquidityNet: Number(ticks[pivot]?.tick) === activeTick ? BigInt(ticks[pivot]?.liquidityNet ?? 0) : BigInt(0),\n      // price0: sdkPrice.toFixed(PRICE_FIXED_DIGITS)\n      price0: TickMath.tickIndexToPrice(currentTickIndex, tokenA.decimals, tokenB.decimals).toString()\n    }\n    const ticksProcessed =\n      Number(currentTickIndex) < Number(activeTick)\n        ? previousTicks.concat(activeTickProcessed2).concat(activeTickProcessed).concat(subsequentTicks)\n        : previousTicks.concat(activeTickProcessed).concat(activeTickProcessed2).concat(subsequentTicks)\n\n    console.log('Test Depth Data###🚀 ~ getProcessedAsPrice ~ ticksProcessed:', ticksProcessed)\n\n    return {\n      activeTick,\n      data: ticksProcessed\n    }\n  }\n\n  const getProcessedAsPrice = (params: GetTickParams & { ticks: any; ticksPool?: any }) => {\n    const { poolAddress, tokenA, tokenB, tickSpacing, currentTickIndex, feeRate, ticks, ticksPool } = params\n    if (!feeRate || !tickSpacing) return\n    const currTick = ticksPool?.current_tick_index || currentTickIndex\n    const activeTick = getActiveTick(currTick, feeRate as FeeRate)\n    const newTicks = JSON.parse(JSON.stringify(ticks)).sort((a: any, b: any) => a - b)\n    const ticksProcessed = computeSurroundingTicksNew(newTicks, tokenA, tokenB)\n    console.log('🚀 ~ getProcessedAsPrice ~ ticksProcessed:', ticksProcessed)\n    return {\n      activeTick,\n      data: ticksProcessed\n    }\n  }\n\n  const getFormattedPriceData = (data: any) => {\n    if (!data || !data?.length) {\n      return []\n    }\n\n    const newData: ChartEntry[] = []\n\n    for (let i = 0; i < data.length; i++) {\n      const t: TickProcessed = data[i]\n\n      const chartEntry = {\n        depth: parseFloat(t.liquidityActive.toString()),\n        price: parseFloat(t.price0)\n      }\n\n      if (chartEntry.depth >= 0) {\n        newData.push(chartEntry)\n      }\n    }\n\n    return newData\n  }\n\n  const getFormattedData = async (params: GetTickParams) => {\n    const { tokenA, tokenB } = params\n    setFormatPriceDataIsLoading(true)\n    try {\n      console.log('Test Depth Data###🚀 ~ getFormattedData ~ params:', params)\n      const ticks = await getTicks(params)\n\n      console.log('Test Depth Data###🚀 ~ getFormattedData ~ ticks:', ticks)\n\n      // const result: any = []\n\n      // if (ticks && ticks?.list) {\n      //   console.log('Test Depth Data###🚀 ~ getFormattedData ~ ticks?.list:', ticks?.list)\n      //   const formateList = getTickDataFromUrlData(ticks?.list)\n\n      //   formateList?.forEach((item: any) => {\n      //     result.push({\n      //       tick: Number(item.index),\n      //       liquidityNet: d(item.liquidityNet.toString()).toString(),\n      //       liquidityGross: item.liquidityGross.toString(),\n      //       id: item.objectId\n      //     })\n      //   })\n      // }\n      // console.log('Test Depth Data###🚀 ~ getFormattedData ~ result:', result)\n\n      const priceData = getProcessedAsPrice({\n        ...params,\n        ticks: ticks?.ticks || [],\n        ticksPool: ticks?.ticksPoolInfo\n      })\n\n      console.log('Test Depth Data###🚀 ~ getFormattedData ~ priceData:', priceData)\n\n      const formatPriceData = getFormattedPriceData(priceData?.data)\n\n      console.log('Test Depth Data###🚀 ~ getFormattedData ~ formatPriceData:', formatPriceData)\n      const tiksPoolData = ticks?.ticksPoolInfo\n        ? ticks?.ticksPoolInfo\n        : {\n            current_sqrt_price: '',\n            current_tick_index: params.currentTickIndex,\n            id: params.poolAddress,\n            liquidity: params.liquidity\n          }\n\n      const ticksPoolPrice = TickMath.tickIndexToPrice(tiksPoolData.current_tick_index, tokenA.decimals, tokenB.decimals).toString()\n      tiksPoolData['price'] = ticksPoolPrice\n      tiksPoolData['reversePrice'] = d(1).div(ticksPoolPrice).toString()\n\n      setTicksPool({ ...tiksPoolData })\n      setFormatPriceData(formatPriceData)\n\n      // getFormattedData2(params)\n    } catch (error) {\n      console.log('Test Depth Data###🚀 ~ getFormattedData ~ error:', error)\n      setTicksPool({})\n      setFormatPriceData([])\n    }\n  }\n\n  useEffect(() => {\n    return () => {\n      setFormatPriceDataIsLoading(true)\n      setFormatPriceData([])\n    }\n  }, [])\n\n  return {\n    getFormattedData,\n     \n  }\n}\n","export default \"__VITE_ASSET__Bp8y_Zkk__\"","import NoChartDataImg from '@/assets/images/no_chart_data@2x.png'\nimport { Flex, Image, Text } from '@chakra-ui/react'\n\nexport default function NoLiquidityData({ isFrom, text }: { isFrom?: string; text?: string }) {\n  return (\n    <Flex\n      bg=\"bg_secondary\"\n      w=\"100%\"\n      h={isFrom == 'position' ? 'unset' : '100%'}\n      direction=\"column\"\n      justify=\"center\"\n      align=\"center\"\n      borderRadius=\"12px\"\n    >\n      <Image src={NoChartDataImg} w=\"100px\" h=\"100px\" />\n      <Text mt=\"20px\" textAlign=\"center\">\n        {text || 'There is no liquidity data.'}\n      </Text>\n    </Flex>\n  )\n}\n","export default function(x) {\n  return x;\n}\n","import identity from \"./identity.js\";\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + x + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + y + \")\";\n}\n\nfunction number(scale) {\n  return d => +scale(d);\n}\n\nfunction center(scale, offset) {\n  offset = Math.max(0, scale.bandwidth() - offset * 2) / 2;\n  if (scale.round()) offset = Math.round(offset);\n  return d => +scale(d) + offset;\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      offset = typeof window !== \"undefined\" && window.devicePixelRatio > 1 ? 0 : 0.5,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + offset,\n        range1 = +range[range.length - 1] + offset,\n        position = (scale.bandwidth ? center : number)(scale.copy(), offset),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"currentColor\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"currentColor\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"currentColor\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d + offset) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform((p && isFinite(p = p(d)) ? p : position(d)) + offset); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient === right\n            ? (tickSizeOuter ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H\" + offset + \"V\" + range1 + \"H\" + k * tickSizeOuter : \"M\" + offset + \",\" + range0 + \"V\" + range1)\n            : (tickSizeOuter ? \"M\" + range0 + \",\" + k * tickSizeOuter + \"V\" + offset + \"H\" + range1 + \"V\" + k * tickSizeOuter : \"M\" + range0 + \",\" + offset + \"H\" + range1));\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d) + offset); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = Array.from(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : Array.from(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : Array.from(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  axis.offset = function(_) {\n    return arguments.length ? (offset = +_, axis) : offset;\n  };\n\n  return axis;\n}\n\nexport function axisTop(scale) {\n  return axis(top, scale);\n}\n\nexport function axisRight(scale) {\n  return axis(right, scale);\n}\n\nexport function axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nexport function axisLeft(scale) {\n  return axis(left, scale);\n}\n","var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces.js\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name; // eslint-disable-line no-prototype-builtins\n}\n","import namespace from \"./namespace.js\";\nimport {xhtml} from \"./namespaces.js\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","import {Selection} from \"./index.js\";\nimport selector from \"../selector.js\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","// Given something array like (or null), returns something that is strictly an\n// array. This is used to ensure that array-like objects passed to d3.selectAll\n// or selection.selectAll are converted into proper arrays when creating a\n// selection; we don’t ever want to create a selection backed by a live\n// HTMLCollection or NodeList. However, note that selection.selectAll will use a\n// static NodeList as a group, since it safely derived from querySelectorAll.\nexport default function array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {Selection} from \"./index.js\";\nimport array from \"../array.js\";\nimport selectorAll from \"../selectorAll.js\";\n\nfunction arrayAll(select) {\n  return function() {\n    return array(select.apply(this, arguments));\n  };\n}\n\nexport default function(select) {\n  if (typeof select === \"function\") select = arrayAll(select);\n  else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n\nexport function childMatcher(selector) {\n  return function(node) {\n    return node.matches(selector);\n  };\n}\n\n","import {childMatcher} from \"../matcher.js\";\n\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nexport default function(match) {\n  return this.select(match == null ? childFirst\n      : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {childMatcher} from \"../matcher.js\";\n\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return Array.from(this.children);\n}\n\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\n\nexport default function(match) {\n  return this.selectAll(match == null ? children\n      : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {Selection} from \"./index.js\";\nimport matcher from \"../matcher.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {Selection} from \"./index.js\";\nimport {EnterNode} from \"./enter.js\";\nimport constant from \"../constant.js\";\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map,\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue.get(keyValues[i]) === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nexport default function(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = arraylike(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n\n// Given some data, this returns an array-like view of it: an object that\n// exposes a length property and allows numeric indexing. Note that unlike\n// selectAll, this isn’t worried about “live” collections because the resulting\n// array will only be used briefly while data is being bound. (It is possible to\n// cause the data to change while iterating by using a key function, but please\n// don’t; we’d rather avoid a gratuitous copy.)\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data\n    ? data // Array, TypedArray, NodeList, array-like\n    : Array.from(data); // Map, Set, iterable, string, or anything else\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter) enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update) update = update.selection();\n  }\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(context) {\n  var selection = context.selection ? context.selection() : context;\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import namespace from \"../namespace.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window.js\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator.js\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","import creator from \"../creator.js\";\nimport selector from \"../selector.js\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","function contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, options: options};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\n","import defaultView from \"../window.js\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","export default function*() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\n","import selection_select from \"./select.js\";\nimport selection_selectAll from \"./selectAll.js\";\nimport selection_selectChild from \"./selectChild.js\";\nimport selection_selectChildren from \"./selectChildren.js\";\nimport selection_filter from \"./filter.js\";\nimport selection_data from \"./data.js\";\nimport selection_enter from \"./enter.js\";\nimport selection_exit from \"./exit.js\";\nimport selection_join from \"./join.js\";\nimport selection_merge from \"./merge.js\";\nimport selection_order from \"./order.js\";\nimport selection_sort from \"./sort.js\";\nimport selection_call from \"./call.js\";\nimport selection_nodes from \"./nodes.js\";\nimport selection_node from \"./node.js\";\nimport selection_size from \"./size.js\";\nimport selection_empty from \"./empty.js\";\nimport selection_each from \"./each.js\";\nimport selection_attr from \"./attr.js\";\nimport selection_style from \"./style.js\";\nimport selection_property from \"./property.js\";\nimport selection_classed from \"./classed.js\";\nimport selection_text from \"./text.js\";\nimport selection_html from \"./html.js\";\nimport selection_raise from \"./raise.js\";\nimport selection_lower from \"./lower.js\";\nimport selection_append from \"./append.js\";\nimport selection_insert from \"./insert.js\";\nimport selection_remove from \"./remove.js\";\nimport selection_clone from \"./clone.js\";\nimport selection_datum from \"./datum.js\";\nimport selection_on from \"./on.js\";\nimport selection_dispatch from \"./dispatch.js\";\nimport selection_iterator from \"./iterator.js\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\n\nexport default selection;\n","import {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n","import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n","// These are typically used in conjunction with noevent to ensure that we can\n// preventDefault on the event.\nexport const nonpassive = {passive: false};\nexport const nonpassivecapture = {capture: true, passive: false};\n\nexport function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent, {nonpassivecapture} from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, nonpassivecapture);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, nonpassivecapture);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, nonpassivecapture);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(undefined, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(elapsed => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {set} from \"./schedule.js\";\n\nfunction easeVarying(id, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\") throw new Error;\n    set(this, id).ease = v;\n  };\n}\n\nexport default function(value) {\n  if (typeof value !== \"function\") throw new Error;\n  return this.each(easeVarying(this._id, value));\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n","import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and we’re done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n\n    // The selection was empty, resolve end immediately\n    if (size === 0) resolve();\n  });\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_easeVarying from \"./easeVarying.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  selectChild: selection_prototype.selectChild,\n  selectChildren: selection_prototype.selectChildren,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id} not found`);\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","export default x => () => x;\n","export default function BrushEvent(type, {\n  sourceEvent,\n  target,\n  selection,\n  mode,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    selection: {value: selection, enumerable: true, configurable: true},\n    mode: {value: mode, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolate} from \"d3-interpolate\";\nimport {pointer, select} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport BrushEvent from \"./event.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\nvar MODE_DRAG = {name: \"drag\"},\n    MODE_SPACE = {name: \"space\"},\n    MODE_HANDLE = {name: \"handle\"},\n    MODE_CENTER = {name: \"center\"};\n\nconst {abs, max, min} = Math;\n\nfunction number1(e) {\n  return [+e[0], +e[1]];\n}\n\nfunction number2(e) {\n  return [number1(e[0]), number1(e[1])];\n}\n\nvar X = {\n  name: \"x\",\n  handles: [\"w\", \"e\"].map(type),\n  input: function(x, e) { return x == null ? null : [[+x[0], e[0][1]], [+x[1], e[1][1]]]; },\n  output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\n\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function(y, e) { return y == null ? null : [[e[0][0], +y[0]], [e[1][0], +y[1]]]; },\n  output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\n\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"w\", \"e\", \"s\", \"nw\", \"ne\", \"sw\", \"se\"].map(type),\n  input: function(xy) { return xy == null ? null : number2(xy); },\n  output: function(xy) { return xy; }\n};\n\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\n\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\n\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\n\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {type: t};\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  if (svg.hasAttribute(\"viewBox\")) {\n    svg = svg.viewBox.baseVal;\n    return [[svg.x, svg.y], [svg.x + svg.width, svg.y + svg.height]];\n  }\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\n// Like d3.local, but with the name “__brush” rather than auto-generated.\nfunction local(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0]\n      || extent[0][1] === extent[1][1];\n}\n\nexport function brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\n\nexport function brushX() {\n  return brush(X);\n}\n\nexport function brushY() {\n  return brush(Y);\n}\n\nexport default function() {\n  return brush(XY);\n}\n\nfunction brush(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      touchable = defaultTouchable,\n      keys = true,\n      listeners = dispatch(\"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group\n        .property(\"__brush\", initialize)\n      .selectAll(\".overlay\")\n      .data([type(\"overlay\")]);\n\n    overlay.enter().append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"pointer-events\", \"all\")\n        .attr(\"cursor\", cursors.overlay)\n      .merge(overlay)\n        .each(function() {\n          var extent = local(this).extent;\n          select(this)\n              .attr(\"x\", extent[0][0])\n              .attr(\"y\", extent[0][1])\n              .attr(\"width\", extent[1][0] - extent[0][0])\n              .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n\n    group.selectAll(\".selection\")\n      .data([type(\"selection\")])\n      .enter().append(\"rect\")\n        .attr(\"class\", \"selection\")\n        .attr(\"cursor\", cursors.selection)\n        .attr(\"fill\", \"#777\")\n        .attr(\"fill-opacity\", 0.3)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"shape-rendering\", \"crispEdges\");\n\n    var handle = group.selectAll(\".handle\")\n      .data(dim.handles, function(d) { return d.type; });\n\n    handle.exit().remove();\n\n    handle.enter().append(\"rect\")\n        .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n        .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n    group\n        .each(redraw)\n        .attr(\"fill\", \"none\")\n        .attr(\"pointer-events\", \"all\")\n        .on(\"mousedown.brush\", started)\n      .filter(touchable)\n        .on(\"touchstart.brush\", started)\n        .on(\"touchmove.brush\", touchmoved)\n        .on(\"touchend.brush touchcancel.brush\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  brush.move = function(group, selection, event) {\n    if (group.tween) {\n      group\n          .on(\"start.brush\", function(event) { emitter(this, arguments).beforestart().start(event); })\n          .on(\"interrupt.brush end.brush\", function(event) { emitter(this, arguments).end(event); })\n          .tween(\"brush\", function() {\n            var that = this,\n                state = that.__brush,\n                emit = emitter(that, arguments),\n                selection0 = state.selection,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                i = interpolate(selection0, selection1);\n\n            function tween(t) {\n              state.selection = t === 1 && selection1 === null ? null : i(t);\n              redraw.call(that);\n              emit.brush();\n            }\n\n            return selection0 !== null && selection1 !== null ? tween : tween(1);\n          });\n    } else {\n      group\n          .each(function() {\n            var that = this,\n                args = arguments,\n                state = that.__brush,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                emit = emitter(that, args).beforestart();\n\n            interrupt(that);\n            state.selection = selection1 === null ? null : selection1;\n            redraw.call(that);\n            emit.start(event).brush(event).end(event);\n          });\n    }\n  };\n\n  brush.clear = function(group, event) {\n    brush.move(group, null, event);\n  };\n\n  function redraw() {\n    var group = select(this),\n        selection = local(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\")\n          .style(\"display\", null)\n          .attr(\"x\", selection[0][0])\n          .attr(\"y\", selection[0][1])\n          .attr(\"width\", selection[1][0] - selection[0][0])\n          .attr(\"height\", selection[1][1] - selection[0][1]);\n\n      group.selectAll(\".handle\")\n          .style(\"display\", null)\n          .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n          .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n          .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n          .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n    }\n\n    else {\n      group.selectAll(\".selection,.handle\")\n          .style(\"display\", \"none\")\n          .attr(\"x\", null)\n          .attr(\"y\", null)\n          .attr(\"width\", null)\n          .attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args, clean) {\n    var emit = that.__brush.emitter;\n    return emit && (!clean || !emit.clean) ? emit : new Emitter(that, args, clean);\n  }\n\n  function Emitter(that, args, clean) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n    this.clean = clean;\n  }\n\n  Emitter.prototype = {\n    beforestart: function() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function(event, mode) {\n      if (this.starting) this.starting = false, this.emit(\"start\", event, mode);\n      else this.emit(\"brush\", event);\n      return this;\n    },\n    brush: function(event, mode) {\n      this.emit(\"brush\", event, mode);\n      return this;\n    },\n    end: function(event, mode) {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\", event, mode);\n      return this;\n    },\n    emit: function(type, event, mode) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new BrushEvent(type, {\n          sourceEvent: event,\n          target: brush,\n          selection: dim.output(this.state.selection),\n          mode,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function started(event) {\n    if (touchending && !event.touches) return;\n    if (!filter.apply(this, arguments)) return;\n\n    var that = this,\n        type = event.target.__data__.type,\n        mode = (keys && event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (keys && event.altKey ? MODE_CENTER : MODE_HANDLE),\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0], w0, w1,\n        N = extent[0][1], n0, n1,\n        E = extent[1][0], e0, e1,\n        S = extent[1][1], s0, s1,\n        dx = 0,\n        dy = 0,\n        moving,\n        shifting = signX && signY && keys && event.shiftKey,\n        lockX,\n        lockY,\n        points = Array.from(event.touches || [event], t => {\n          const i = t.identifier;\n          t = pointer(t, that);\n          t.point0 = t.slice();\n          t.identifier = i;\n          return t;\n        });\n\n    interrupt(that);\n    var emit = emitter(that, arguments, true).beforestart();\n\n    if (type === \"overlay\") {\n      if (selection) moving = true;\n      const pts = [points[0], points[1] || points[0]];\n      state.selection = selection = [[\n          w0 = dim === Y ? W : min(pts[0][0], pts[1][0]),\n          n0 = dim === X ? N : min(pts[0][1], pts[1][1])\n        ], [\n          e0 = dim === Y ? E : max(pts[0][0], pts[1][0]),\n          s0 = dim === X ? S : max(pts[0][1], pts[1][1])\n        ]];\n      if (points.length > 1) move(event);\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n\n    var group = select(that)\n        .attr(\"pointer-events\", \"none\");\n\n    var overlay = group.selectAll(\".overlay\")\n        .attr(\"cursor\", cursors[type]);\n\n    if (event.touches) {\n      emit.moved = moved;\n      emit.ended = ended;\n    } else {\n      var view = select(event.view)\n          .on(\"mousemove.brush\", moved, true)\n          .on(\"mouseup.brush\", ended, true);\n      if (keys) view\n          .on(\"keydown.brush\", keydowned, true)\n          .on(\"keyup.brush\", keyupped, true)\n\n      dragDisable(event.view);\n    }\n\n    redraw.call(that);\n    emit.start(event, mode.name);\n\n    function moved(event) {\n      for (const p of event.changedTouches || [event]) {\n        for (const d of points)\n          if (d.identifier === p.identifier) d.cur = pointer(p, that);\n      }\n      if (shifting && !lockX && !lockY && points.length === 1) {\n        const point = points[0];\n        if (abs(point.cur[0] - point[0]) > abs(point.cur[1] - point[1]))\n          lockY = true;\n        else\n          lockX = true;\n      }\n      for (const point of points)\n        if (point.cur) point[0] = point.cur[0], point[1] = point.cur[1];\n      moving = true;\n      noevent(event);\n      move(event);\n    }\n\n    function move(event) {\n      const point = points[0], point0 = point.point0;\n      var t;\n\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG: {\n          if (signX) dx = max(W - w0, min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n          if (signY) dy = max(N - n0, min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n          break;\n        }\n        case MODE_HANDLE: {\n          if (points[1]) {\n            if (signX) w1 = max(W, min(E, points[0][0])), e1 = max(W, min(E, points[1][0])), signX = 1;\n            if (signY) n1 = max(N, min(S, points[0][1])), s1 = max(N, min(S, points[1][1])), signY = 1;\n          } else {\n            if (signX < 0) dx = max(W - w0, min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n            else if (signX > 0) dx = max(W - e0, min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n            if (signY < 0) dy = max(N - n0, min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n            else if (signY > 0) dy = max(N - s0, min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n          }\n          break;\n        }\n        case MODE_CENTER: {\n          if (signX) w1 = max(W, min(E, w0 - dx * signX)), e1 = max(W, min(E, e0 + dx * signX));\n          if (signY) n1 = max(N, min(S, n0 - dy * signY)), s1 = max(N, min(S, s0 + dy * signY));\n          break;\n        }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1\n          || selection[0][1] !== n1\n          || selection[1][0] !== e1\n          || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush(event, mode.name);\n      }\n    }\n\n    function ended(event) {\n      nopropagation(event);\n      if (event.touches) {\n        if (event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n      } else {\n        dragEnable(event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end(event, mode.name);\n    }\n\n    function keydowned(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          shifting = signX && signY;\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_HANDLE) {\n            if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n            if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n            mode = MODE_CENTER;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE; takes priority over ALT\n          if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n            if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n            mode = MODE_SPACE;\n            overlay.attr(\"cursor\", cursors.selection);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n\n    function keyupped(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          if (shifting) {\n            lockX = lockY = shifting = false;\n            move(event);\n          }\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n            if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n            mode = MODE_HANDLE;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE\n          if (mode === MODE_SPACE) {\n            if (event.altKey) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n            } else {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n            }\n            overlay.attr(\"cursor\", cursors[type]);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n  }\n\n  function touchmoved(event) {\n    emitter(this, arguments).moved(event);\n  }\n\n  function touchended(event) {\n    emitter(this, arguments).ended(event);\n  }\n\n  function initialize() {\n    var state = this.__brush || {selection: null};\n    state.extent = number2(extent.apply(this, arguments));\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant(number2(_)), brush) : extent;\n  };\n\n  brush.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n\n  brush.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), brush) : touchable;\n  };\n\n  brush.handleSize = function(_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.keyModifiers = function(_) {\n    return arguments.length ? (keys = !!_, brush) : keys;\n  };\n\n  brush.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}\n","export default x => () => x;\n","export default function ZoomEvent(type, {\n  sourceEvent,\n  target,\n  transform,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    transform: {value: transform, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolateZoom} from \"d3-interpolate\";\nimport {select, pointer} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport ZoomEvent from \"./event.js\";\nimport {Transform, identity} from \"./transform.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\n// Ignore right-click, since that should open the context menu.\n// except for pinch-to-zoom, which is sent as a wheel+ctrlKey event\nfunction defaultFilter(event) {\n  return (!event.ctrlKey || event.type === 'wheel') && !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\n\nfunction defaultWheelDelta(event) {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * (event.ctrlKey ? 10 : 1);\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchfirst,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0,\n      tapDistance = 10;\n\n  function zoom(selection) {\n    selection\n        .property(\"__zoom\", defaultTransform)\n        .on(\"wheel.zoom\", wheeled, {passive: false})\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n      .filter(touchable)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function(collection, transform, point, event) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform, point, event);\n    } else {\n      selection.interrupt().each(function() {\n        gesture(this, arguments)\n          .event(event)\n          .start()\n          .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n          .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection, k, p, event) {\n    zoom.scaleTo(selection, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p, event);\n  };\n\n  zoom.scaleTo = function(selection, k, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p, event);\n  };\n\n  zoom.translateBy = function(selection, x, y, event) {\n    zoom.transform(selection, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    }, null, event);\n  };\n\n  zoom.translateTo = function(selection, x, y, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p, event);\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, point, event) {\n    transition\n        .on(\"start.zoom\", function() { gesture(this, arguments).event(event).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).event(event).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args).event(event),\n              e = extent.apply(that, args),\n              p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args, clean) {\n    return (!clean && that.__zooming) || new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.sourceEvent = null;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n\n  Gesture.prototype = {\n    event: function(event) {\n      if (event) this.sourceEvent = event;\n      return this;\n    },\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new ZoomEvent(type, {\n          sourceEvent: this.sourceEvent,\n          target: zoom,\n          type,\n          transform: this.that.__zoom,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function wheeled(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, args).event(event),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = pointer(event);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event won’t trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent(event);\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned(event, ...args) {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var currentTarget = event.currentTarget,\n        g = gesture(this, args, true).event(event),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = pointer(event, currentTarget),\n        x0 = event.clientX,\n        y0 = event.clientY;\n\n    dragDisable(event.view);\n    nopropagation(event);\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved(event) {\n      noevent(event);\n      if (!g.moved) {\n        var dx = event.clientX - x0, dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.event(event)\n       .zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = pointer(event, currentTarget), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped(event) {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      dragEnable(event.view, g.moved);\n      noevent(event);\n      g.event(event).end();\n    }\n  }\n\n  function dblclicked(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = pointer(event.changedTouches ? event.changedTouches[0] : event, this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);\n\n    noevent(event);\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0, event);\n    else select(this).call(zoom.transform, t1, p0, event);\n  }\n\n  function touchstarted(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.touches,\n        n = touches.length,\n        g = gesture(this, args, event.changedTouches.length === n).event(event),\n        started, i, t, p;\n\n    nopropagation(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n\n    if (started) {\n      if (g.taps < 2) touchfirst = p[0], touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t, p, l;\n\n    noevent(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t;\n\n    nopropagation(event);\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n      if (g.taps === 2) {\n        t = pointer(t, this);\n        if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {\n          var p = select(this).on(\"dblclick.zoom\");\n          if (p) p.apply(this, arguments);\n        }\n      }\n    }\n  }\n\n  zoom.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  zoom.tapDistance = function(_) {\n    return arguments.length ? (tapDistance = +_, zoom) : tapDistance;\n  };\n\n  return zoom;\n}\n","/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n  return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose;\n    if (async) {\n        if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n        dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n        if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n        dispose = value[Symbol.dispose];\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  function next() {\n    while (env.stack.length) {\n      var rec = env.stack.pop();\n      try {\n        var result = rec.dispose && rec.dispose.call(rec.value);\n        if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n      }\n      catch (e) {\n          fail(e);\n      }\n    }\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n};\n","export var MS = '-ms-'\nexport var MOZ = '-moz-'\nexport var WEBKIT = '-webkit-'\n\nexport var COMMENT = 'comm'\nexport var RULESET = 'rule'\nexport var DECLARATION = 'decl'\n\nexport var PAGE = '@page'\nexport var MEDIA = '@media'\nexport var IMPORT = '@import'\nexport var CHARSET = '@charset'\nexport var VIEWPORT = '@viewport'\nexport var SUPPORTS = '@supports'\nexport var DOCUMENT = '@document'\nexport var NAMESPACE = '@namespace'\nexport var KEYFRAMES = '@keyframes'\nexport var FONT_FACE = '@font-face'\nexport var COUNTER_STYLE = '@counter-style'\nexport var FONT_FEATURE_VALUES = '@font-feature-values'\nexport var LAYER = '@layer'\nexport var SCOPE = '@scope'\n","/**\n * @param {number}\n * @return {number}\n */\nexport var abs = Math.abs\n\n/**\n * @param {number}\n * @return {string}\n */\nexport var from = String.fromCharCode\n\n/**\n * @param {object}\n * @return {object}\n */\nexport var assign = Object.assign\n\n/**\n * @param {string} value\n * @param {number} length\n * @return {number}\n */\nexport function hash (value, length) {\n\treturn charat(value, 0) ^ 45 ? (((((((length << 2) ^ charat(value, 0)) << 2) ^ charat(value, 1)) << 2) ^ charat(value, 2)) << 2) ^ charat(value, 3) : 0\n}\n\n/**\n * @param {string} value\n * @return {string}\n */\nexport function trim (value) {\n\treturn value.trim()\n}\n\n/**\n * @param {string} value\n * @param {RegExp} pattern\n * @return {string?}\n */\nexport function match (value, pattern) {\n\treturn (value = pattern.exec(value)) ? value[0] : value\n}\n\n/**\n * @param {string} value\n * @param {(string|RegExp)} pattern\n * @param {string} replacement\n * @return {string}\n */\nexport function replace (value, pattern, replacement) {\n\treturn value.replace(pattern, replacement)\n}\n\n/**\n * @param {string} value\n * @param {string} search\n * @param {number} position\n * @return {number}\n */\nexport function indexof (value, search, position) {\n\treturn value.indexOf(search, position)\n}\n\n/**\n * @param {string} value\n * @param {number} index\n * @return {number}\n */\nexport function charat (value, index) {\n\treturn value.charCodeAt(index) | 0\n}\n\n/**\n * @param {string} value\n * @param {number} begin\n * @param {number} end\n * @return {string}\n */\nexport function substr (value, begin, end) {\n\treturn value.slice(begin, end)\n}\n\n/**\n * @param {string} value\n * @return {number}\n */\nexport function strlen (value) {\n\treturn value.length\n}\n\n/**\n * @param {any[]} value\n * @return {number}\n */\nexport function sizeof (value) {\n\treturn value.length\n}\n\n/**\n * @param {any} value\n * @param {any[]} array\n * @return {any}\n */\nexport function append (value, array) {\n\treturn array.push(value), value\n}\n\n/**\n * @param {string[]} array\n * @param {function} callback\n * @return {string}\n */\nexport function combine (array, callback) {\n\treturn array.map(callback).join('')\n}\n\n/**\n * @param {string[]} array\n * @param {RegExp} pattern\n * @return {string[]}\n */\nexport function filter (array, pattern) {\n\treturn array.filter(function (value) { return !match(value, pattern) })\n}\n","import {from, trim, charat, strlen, substr, append, assign} from './Utility.js'\n\nexport var line = 1\nexport var column = 1\nexport var length = 0\nexport var position = 0\nexport var character = 0\nexport var characters = ''\n\n/**\n * @param {string} value\n * @param {object | null} root\n * @param {object | null} parent\n * @param {string} type\n * @param {string[] | string} props\n * @param {object[] | string} children\n * @param {object[]} siblings\n * @param {number} length\n */\nexport function node (value, root, parent, type, props, children, length, siblings) {\n\treturn {value: value, root: root, parent: parent, type: type, props: props, children: children, line: line, column: column, length: length, return: '', siblings: siblings}\n}\n\n/**\n * @param {object} root\n * @param {object} props\n * @return {object}\n */\nexport function copy (root, props) {\n\treturn assign(node('', null, null, '', null, null, 0, root.siblings), root, {length: -root.length}, props)\n}\n\n/**\n * @param {object} root\n */\nexport function lift (root) {\n\twhile (root.root)\n\t\troot = copy(root.root, {children: [root]})\n\n\tappend(root, root.siblings)\n}\n\n/**\n * @return {number}\n */\nexport function char () {\n\treturn character\n}\n\n/**\n * @return {number}\n */\nexport function prev () {\n\tcharacter = position > 0 ? charat(characters, --position) : 0\n\n\tif (column--, character === 10)\n\t\tcolumn = 1, line--\n\n\treturn character\n}\n\n/**\n * @return {number}\n */\nexport function next () {\n\tcharacter = position < length ? charat(characters, position++) : 0\n\n\tif (column++, character === 10)\n\t\tcolumn = 1, line++\n\n\treturn character\n}\n\n/**\n * @return {number}\n */\nexport function peek () {\n\treturn charat(characters, position)\n}\n\n/**\n * @return {number}\n */\nexport function caret () {\n\treturn position\n}\n\n/**\n * @param {number} begin\n * @param {number} end\n * @return {string}\n */\nexport function slice (begin, end) {\n\treturn substr(characters, begin, end)\n}\n\n/**\n * @param {number} type\n * @return {number}\n */\nexport function token (type) {\n\tswitch (type) {\n\t\t// \\0 \\t \\n \\r \\s whitespace token\n\t\tcase 0: case 9: case 10: case 13: case 32:\n\t\t\treturn 5\n\t\t// ! + , / > @ ~ isolate token\n\t\tcase 33: case 43: case 44: case 47: case 62: case 64: case 126:\n\t\t// ; { } breakpoint token\n\t\tcase 59: case 123: case 125:\n\t\t\treturn 4\n\t\t// : accompanied token\n\t\tcase 58:\n\t\t\treturn 3\n\t\t// \" ' ( [ opening delimit token\n\t\tcase 34: case 39: case 40: case 91:\n\t\t\treturn 2\n\t\t// ) ] closing delimit token\n\t\tcase 41: case 93:\n\t\t\treturn 1\n\t}\n\n\treturn 0\n}\n\n/**\n * @param {string} value\n * @return {any[]}\n */\nexport function alloc (value) {\n\treturn line = column = 1, length = strlen(characters = value), position = 0, []\n}\n\n/**\n * @param {any} value\n * @return {any}\n */\nexport function dealloc (value) {\n\treturn characters = '', value\n}\n\n/**\n * @param {number} type\n * @return {string}\n */\nexport function delimit (type) {\n\treturn trim(slice(position - 1, delimiter(type === 91 ? type + 2 : type === 40 ? type + 1 : type)))\n}\n\n/**\n * @param {string} value\n * @return {string[]}\n */\nexport function tokenize (value) {\n\treturn dealloc(tokenizer(alloc(value)))\n}\n\n/**\n * @param {number} type\n * @return {string}\n */\nexport function whitespace (type) {\n\twhile (character = peek())\n\t\tif (character < 33)\n\t\t\tnext()\n\t\telse\n\t\t\tbreak\n\n\treturn token(type) > 2 || token(character) > 3 ? '' : ' '\n}\n\n/**\n * @param {string[]} children\n * @return {string[]}\n */\nexport function tokenizer (children) {\n\twhile (next())\n\t\tswitch (token(character)) {\n\t\t\tcase 0: append(identifier(position - 1), children)\n\t\t\t\tbreak\n\t\t\tcase 2: append(delimit(character), children)\n\t\t\t\tbreak\n\t\t\tdefault: append(from(character), children)\n\t\t}\n\n\treturn children\n}\n\n/**\n * @param {number} index\n * @param {number} count\n * @return {string}\n */\nexport function escaping (index, count) {\n\twhile (--count && next())\n\t\t// not 0-9 A-F a-f\n\t\tif (character < 48 || character > 102 || (character > 57 && character < 65) || (character > 70 && character < 97))\n\t\t\tbreak\n\n\treturn slice(index, caret() + (count < 6 && peek() == 32 && next() == 32))\n}\n\n/**\n * @param {number} type\n * @return {number}\n */\nexport function delimiter (type) {\n\twhile (next())\n\t\tswitch (character) {\n\t\t\t// ] ) \" '\n\t\t\tcase type:\n\t\t\t\treturn position\n\t\t\t// \" '\n\t\t\tcase 34: case 39:\n\t\t\t\tif (type !== 34 && type !== 39)\n\t\t\t\t\tdelimiter(character)\n\t\t\t\tbreak\n\t\t\t// (\n\t\t\tcase 40:\n\t\t\t\tif (type === 41)\n\t\t\t\t\tdelimiter(type)\n\t\t\t\tbreak\n\t\t\t// \\\n\t\t\tcase 92:\n\t\t\t\tnext()\n\t\t\t\tbreak\n\t\t}\n\n\treturn position\n}\n\n/**\n * @param {number} type\n * @param {number} index\n * @return {number}\n */\nexport function commenter (type, index) {\n\twhile (next())\n\t\t// //\n\t\tif (type + character === 47 + 10)\n\t\t\tbreak\n\t\t// /*\n\t\telse if (type + character === 42 + 42 && peek() === 47)\n\t\t\tbreak\n\n\treturn '/*' + slice(index, position - 1) + '*' + from(type === 47 ? type : next())\n}\n\n/**\n * @param {number} index\n * @return {string}\n */\nexport function identifier (index) {\n\twhile (!token(peek()))\n\t\tnext()\n\n\treturn slice(index, position)\n}\n","import {COMMENT, RULESET, DECLARATION} from './Enum.js'\nimport {abs, charat, trim, from, sizeof, strlen, substr, append, replace, indexof} from './Utility.js'\nimport {node, char, prev, next, peek, caret, alloc, dealloc, delimit, whitespace, escaping, identifier, commenter} from './Tokenizer.js'\n\n/**\n * @param {string} value\n * @return {object[]}\n */\nexport function compile (value) {\n\treturn dealloc(parse('', null, null, null, [''], value = alloc(value), 0, [0], value))\n}\n\n/**\n * @param {string} value\n * @param {object} root\n * @param {object?} parent\n * @param {string[]} rule\n * @param {string[]} rules\n * @param {string[]} rulesets\n * @param {number[]} pseudo\n * @param {number[]} points\n * @param {string[]} declarations\n * @return {object}\n */\nexport function parse (value, root, parent, rule, rules, rulesets, pseudo, points, declarations) {\n\tvar index = 0\n\tvar offset = 0\n\tvar length = pseudo\n\tvar atrule = 0\n\tvar property = 0\n\tvar previous = 0\n\tvar variable = 1\n\tvar scanning = 1\n\tvar ampersand = 1\n\tvar character = 0\n\tvar type = ''\n\tvar props = rules\n\tvar children = rulesets\n\tvar reference = rule\n\tvar characters = type\n\n\twhile (scanning)\n\t\tswitch (previous = character, character = next()) {\n\t\t\t// (\n\t\t\tcase 40:\n\t\t\t\tif (previous != 108 && charat(characters, length - 1) == 58) {\n\t\t\t\t\tif (indexof(characters += replace(delimit(character), '&', '&\\f'), '&\\f', abs(index ? points[index - 1] : 0)) != -1)\n\t\t\t\t\t\tampersand = -1\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t// \" ' [\n\t\t\tcase 34: case 39: case 91:\n\t\t\t\tcharacters += delimit(character)\n\t\t\t\tbreak\n\t\t\t// \\t \\n \\r \\s\n\t\t\tcase 9: case 10: case 13: case 32:\n\t\t\t\tcharacters += whitespace(previous)\n\t\t\t\tbreak\n\t\t\t// \\\n\t\t\tcase 92:\n\t\t\t\tcharacters += escaping(caret() - 1, 7)\n\t\t\t\tcontinue\n\t\t\t// /\n\t\t\tcase 47:\n\t\t\t\tswitch (peek()) {\n\t\t\t\t\tcase 42: case 47:\n\t\t\t\t\t\tappend(comment(commenter(next(), caret()), root, parent, declarations), declarations)\n\t\t\t\t\t\tbreak\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tcharacters += '/'\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\t// {\n\t\t\tcase 123 * variable:\n\t\t\t\tpoints[index++] = strlen(characters) * ampersand\n\t\t\t// } ; \\0\n\t\t\tcase 125 * variable: case 59: case 0:\n\t\t\t\tswitch (character) {\n\t\t\t\t\t// \\0 }\n\t\t\t\t\tcase 0: case 125: scanning = 0\n\t\t\t\t\t// ;\n\t\t\t\t\tcase 59 + offset: if (ampersand == -1) characters = replace(characters, /\\f/g, '')\n\t\t\t\t\t\tif (property > 0 && (strlen(characters) - length))\n\t\t\t\t\t\t\tappend(property > 32 ? declaration(characters + ';', rule, parent, length - 1, declarations) : declaration(replace(characters, ' ', '') + ';', rule, parent, length - 2, declarations), declarations)\n\t\t\t\t\t\tbreak\n\t\t\t\t\t// @ ;\n\t\t\t\t\tcase 59: characters += ';'\n\t\t\t\t\t// { rule/at-rule\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tappend(reference = ruleset(characters, root, parent, index, offset, rules, points, type, props = [], children = [], length, rulesets), rulesets)\n\n\t\t\t\t\t\tif (character === 123)\n\t\t\t\t\t\t\tif (offset === 0)\n\t\t\t\t\t\t\t\tparse(characters, root, reference, reference, props, rulesets, length, points, children)\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tswitch (atrule === 99 && charat(characters, 3) === 110 ? 100 : atrule) {\n\t\t\t\t\t\t\t\t\t// d l m s\n\t\t\t\t\t\t\t\t\tcase 100: case 108: case 109: case 115:\n\t\t\t\t\t\t\t\t\t\tparse(value, reference, reference, rule && append(ruleset(value, reference, reference, 0, 0, rules, points, type, rules, props = [], length, children), children), rules, children, length, points, rule ? props : children)\n\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t\tparse(characters, reference, reference, reference, [''], children, 0, points, children)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tindex = offset = property = 0, variable = ampersand = 1, type = characters = '', length = pseudo\n\t\t\t\tbreak\n\t\t\t// :\n\t\t\tcase 58:\n\t\t\t\tlength = 1 + strlen(characters), property = previous\n\t\t\tdefault:\n\t\t\t\tif (variable < 1)\n\t\t\t\t\tif (character == 123)\n\t\t\t\t\t\t--variable\n\t\t\t\t\telse if (character == 125 && variable++ == 0 && prev() == 125)\n\t\t\t\t\t\tcontinue\n\n\t\t\t\tswitch (characters += from(character), character * variable) {\n\t\t\t\t\t// &\n\t\t\t\t\tcase 38:\n\t\t\t\t\t\tampersand = offset > 0 ? 1 : (characters += '\\f', -1)\n\t\t\t\t\t\tbreak\n\t\t\t\t\t// ,\n\t\t\t\t\tcase 44:\n\t\t\t\t\t\tpoints[index++] = (strlen(characters) - 1) * ampersand, ampersand = 1\n\t\t\t\t\t\tbreak\n\t\t\t\t\t// @\n\t\t\t\t\tcase 64:\n\t\t\t\t\t\t// -\n\t\t\t\t\t\tif (peek() === 45)\n\t\t\t\t\t\t\tcharacters += delimit(next())\n\n\t\t\t\t\t\tatrule = peek(), offset = length = strlen(type = characters += identifier(caret())), character++\n\t\t\t\t\t\tbreak\n\t\t\t\t\t// -\n\t\t\t\t\tcase 45:\n\t\t\t\t\t\tif (previous === 45 && strlen(characters) == 2)\n\t\t\t\t\t\t\tvariable = 0\n\t\t\t\t}\n\t\t}\n\n\treturn rulesets\n}\n\n/**\n * @param {string} value\n * @param {object} root\n * @param {object?} parent\n * @param {number} index\n * @param {number} offset\n * @param {string[]} rules\n * @param {number[]} points\n * @param {string} type\n * @param {string[]} props\n * @param {string[]} children\n * @param {number} length\n * @param {object[]} siblings\n * @return {object}\n */\nexport function ruleset (value, root, parent, index, offset, rules, points, type, props, children, length, siblings) {\n\tvar post = offset - 1\n\tvar rule = offset === 0 ? rules : ['']\n\tvar size = sizeof(rule)\n\n\tfor (var i = 0, j = 0, k = 0; i < index; ++i)\n\t\tfor (var x = 0, y = substr(value, post + 1, post = abs(j = points[i])), z = value; x < size; ++x)\n\t\t\tif (z = trim(j > 0 ? rule[x] + ' ' + y : replace(y, /&\\f/g, rule[x])))\n\t\t\t\tprops[k++] = z\n\n\treturn node(value, root, parent, offset === 0 ? RULESET : type, props, children, length, siblings)\n}\n\n/**\n * @param {number} value\n * @param {object} root\n * @param {object?} parent\n * @param {object[]} siblings\n * @return {object}\n */\nexport function comment (value, root, parent, siblings) {\n\treturn node(value, root, parent, COMMENT, from(char()), substr(value, 2, -2), 0, siblings)\n}\n\n/**\n * @param {string} value\n * @param {object} root\n * @param {object?} parent\n * @param {number} length\n * @param {object[]} siblings\n * @return {object}\n */\nexport function declaration (value, root, parent, length, siblings) {\n\treturn node(value, root, parent, DECLARATION, substr(value, 0, length), substr(value, length + 1, -1), length, siblings)\n}\n","import {MS, MOZ, WEBKIT} from './Enum.js'\nimport {hash, charat, strlen, indexof, replace, substr, match} from './Utility.js'\n\n/**\n * @param {string} value\n * @param {number} length\n * @param {object[]} children\n * @return {string}\n */\nexport function prefix (value, length, children) {\n\tswitch (hash(value, length)) {\n\t\t// color-adjust\n\t\tcase 5103:\n\t\t\treturn WEBKIT + 'print-' + value + value\n\t\t// animation, animation-(delay|direction|duration|fill-mode|iteration-count|name|play-state|timing-function)\n\t\tcase 5737: case 4201: case 3177: case 3433: case 1641: case 4457: case 2921:\n\t\t// text-decoration, filter, clip-path, backface-visibility, column, box-decoration-break\n\t\tcase 5572: case 6356: case 5844: case 3191: case 6645: case 3005:\n\t\t// mask, mask-image, mask-(mode|clip|size), mask-(repeat|origin), mask-position, mask-composite,\n\t\tcase 6391: case 5879: case 5623: case 6135: case 4599: case 4855:\n\t\t// background-clip, columns, column-(count|fill|gap|rule|rule-color|rule-style|rule-width|span|width)\n\t\tcase 4215: case 6389: case 5109: case 5365: case 5621: case 3829:\n\t\t\treturn WEBKIT + value + value\n\t\t// tab-size\n\t\tcase 4789:\n\t\t\treturn MOZ + value + value\n\t\t// appearance, user-select, transform, hyphens, text-size-adjust\n\t\tcase 5349: case 4246: case 4810: case 6968: case 2756:\n\t\t\treturn WEBKIT + value + MOZ + value + MS + value + value\n\t\t// writing-mode\n\t\tcase 5936:\n\t\t\tswitch (charat(value, length + 11)) {\n\t\t\t\t// vertical-l(r)\n\t\t\t\tcase 114:\n\t\t\t\t\treturn WEBKIT + value + MS + replace(value, /[svh]\\w+-[tblr]{2}/, 'tb') + value\n\t\t\t\t// vertical-r(l)\n\t\t\t\tcase 108:\n\t\t\t\t\treturn WEBKIT + value + MS + replace(value, /[svh]\\w+-[tblr]{2}/, 'tb-rl') + value\n\t\t\t\t// horizontal(-)tb\n\t\t\t\tcase 45:\n\t\t\t\t\treturn WEBKIT + value + MS + replace(value, /[svh]\\w+-[tblr]{2}/, 'lr') + value\n\t\t\t\t// default: fallthrough to below\n\t\t\t}\n\t\t// flex, flex-direction, scroll-snap-type, writing-mode\n\t\tcase 6828: case 4268: case 2903:\n\t\t\treturn WEBKIT + value + MS + value + value\n\t\t// order\n\t\tcase 6165:\n\t\t\treturn WEBKIT + value + MS + 'flex-' + value + value\n\t\t// align-items\n\t\tcase 5187:\n\t\t\treturn WEBKIT + value + replace(value, /(\\w+).+(:[^]+)/, WEBKIT + 'box-$1$2' + MS + 'flex-$1$2') + value\n\t\t// align-self\n\t\tcase 5443:\n\t\t\treturn WEBKIT + value + MS + 'flex-item-' + replace(value, /flex-|-self/g, '') + (!match(value, /flex-|baseline/) ? MS + 'grid-row-' + replace(value, /flex-|-self/g, '') : '') + value\n\t\t// align-content\n\t\tcase 4675:\n\t\t\treturn WEBKIT + value + MS + 'flex-line-pack' + replace(value, /align-content|flex-|-self/g, '') + value\n\t\t// flex-shrink\n\t\tcase 5548:\n\t\t\treturn WEBKIT + value + MS + replace(value, 'shrink', 'negative') + value\n\t\t// flex-basis\n\t\tcase 5292:\n\t\t\treturn WEBKIT + value + MS + replace(value, 'basis', 'preferred-size') + value\n\t\t// flex-grow\n\t\tcase 6060:\n\t\t\treturn WEBKIT + 'box-' + replace(value, '-grow', '') + WEBKIT + value + MS + replace(value, 'grow', 'positive') + value\n\t\t// transition\n\t\tcase 4554:\n\t\t\treturn WEBKIT + replace(value, /([^-])(transform)/g, '$1' + WEBKIT + '$2') + value\n\t\t// cursor\n\t\tcase 6187:\n\t\t\treturn replace(replace(replace(value, /(zoom-|grab)/, WEBKIT + '$1'), /(image-set)/, WEBKIT + '$1'), value, '') + value\n\t\t// background, background-image\n\t\tcase 5495: case 3959:\n\t\t\treturn replace(value, /(image-set\\([^]*)/, WEBKIT + '$1' + '$`$1')\n\t\t// justify-content\n\t\tcase 4968:\n\t\t\treturn replace(replace(value, /(.+:)(flex-)?(.*)/, WEBKIT + 'box-pack:$3' + MS + 'flex-pack:$3'), /s.+-b[^;]+/, 'justify') + WEBKIT + value + value\n\t\t// justify-self\n\t\tcase 4200:\n\t\t\tif (!match(value, /flex-|baseline/)) return MS + 'grid-column-align' + substr(value, length) + value\n\t\t\tbreak\n\t\t// grid-template-(columns|rows)\n\t\tcase 2592: case 3360:\n\t\t\treturn MS + replace(value, 'template-', '') + value\n\t\t// grid-(row|column)-start\n\t\tcase 4384: case 3616:\n\t\t\tif (children && children.some(function (element, index) { return length = index, match(element.props, /grid-\\w+-end/) })) {\n\t\t\t\treturn ~indexof(value + (children = children[length].value), 'span', 0) ? value : (MS + replace(value, '-start', '') + value + MS + 'grid-row-span:' + (~indexof(children, 'span', 0) ? match(children, /\\d+/) : +match(children, /\\d+/) - +match(value, /\\d+/)) + ';')\n\t\t\t}\n\t\t\treturn MS + replace(value, '-start', '') + value\n\t\t// grid-(row|column)-end\n\t\tcase 4896: case 4128:\n\t\t\treturn (children && children.some(function (element) { return match(element.props, /grid-\\w+-start/) })) ? value : MS + replace(replace(value, '-end', '-span'), 'span ', '') + value\n\t\t// (margin|padding)-inline-(start|end)\n\t\tcase 4095: case 3583: case 4068: case 2532:\n\t\t\treturn replace(value, /(.+)-inline(.+)/, WEBKIT + '$1$2') + value\n\t\t// (min|max)?(width|height|inline-size|block-size)\n\t\tcase 8116: case 7059: case 5753: case 5535:\n\t\tcase 5445: case 5701: case 4933: case 4677:\n\t\tcase 5533: case 5789: case 5021: case 4765:\n\t\t\t// stretch, max-content, min-content, fill-available\n\t\t\tif (strlen(value) - 1 - length > 6)\n\t\t\t\tswitch (charat(value, length + 1)) {\n\t\t\t\t\t// (m)ax-content, (m)in-content\n\t\t\t\t\tcase 109:\n\t\t\t\t\t\t// -\n\t\t\t\t\t\tif (charat(value, length + 4) !== 45)\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t// (f)ill-available, (f)it-content\n\t\t\t\t\tcase 102:\n\t\t\t\t\t\treturn replace(value, /(.+:)(.+)-([^]+)/, '$1' + WEBKIT + '$2-$3' + '$1' + MOZ + (charat(value, length + 3) == 108 ? '$3' : '$2-$3')) + value\n\t\t\t\t\t// (s)tretch\n\t\t\t\t\tcase 115:\n\t\t\t\t\t\treturn ~indexof(value, 'stretch', 0) ? prefix(replace(value, 'stretch', 'fill-available'), length, children) + value : value\n\t\t\t\t}\n\t\t\tbreak\n\t\t// grid-(column|row)\n\t\tcase 5152: case 5920:\n\t\t\treturn replace(value, /(.+?):(\\d+)(\\s*\\/\\s*(span)?\\s*(\\d+))?(.*)/, function (_, a, b, c, d, e, f) { return (MS + a + ':' + b + f) + (c ? (MS + a + '-span:' + (d ? e : +e - +b)) + f : '') + value })\n\t\t// position: sticky\n\t\tcase 4949:\n\t\t\t// stick(y)?\n\t\t\tif (charat(value, length + 6) === 121)\n\t\t\t\treturn replace(value, ':', ':' + WEBKIT) + value\n\t\t\tbreak\n\t\t// display: (flex|inline-flex|grid|inline-grid)\n\t\tcase 6444:\n\t\t\tswitch (charat(value, charat(value, 14) === 45 ? 18 : 11)) {\n\t\t\t\t// (inline-)?fle(x)\n\t\t\t\tcase 120:\n\t\t\t\t\treturn replace(value, /(.+:)([^;\\s!]+)(;|(\\s+)?!.+)?/, '$1' + WEBKIT + (charat(value, 14) === 45 ? 'inline-' : '') + 'box$3' + '$1' + WEBKIT + '$2$3' + '$1' + MS + '$2box$3') + value\n\t\t\t\t// (inline-)?gri(d)\n\t\t\t\tcase 100:\n\t\t\t\t\treturn replace(value, ':', ':' + MS) + value\n\t\t\t}\n\t\t\tbreak\n\t\t// scroll-margin, scroll-margin-(top|right|bottom|left)\n\t\tcase 5719: case 2647: case 2135: case 3927: case 2391:\n\t\t\treturn replace(value, 'scroll-', 'scroll-snap-') + value\n\t}\n\n\treturn value\n}\n","import {IMPORT, LAYER, COMMENT, RULESET, DECLARATION, KEYFRAMES} from './Enum.js'\nimport {strlen} from './Utility.js'\n\n/**\n * @param {object[]} children\n * @param {function} callback\n * @return {string}\n */\nexport function serialize (children, callback) {\n\tvar output = ''\n\n\tfor (var i = 0; i < children.length; i++)\n\t\toutput += callback(children[i], i, children, callback) || ''\n\n\treturn output\n}\n\n/**\n * @param {object} element\n * @param {number} index\n * @param {object[]} children\n * @param {function} callback\n * @return {string}\n */\nexport function stringify (element, index, children, callback) {\n\tswitch (element.type) {\n\t\tcase LAYER: if (element.children.length) break\n\t\tcase IMPORT: case DECLARATION: return element.return = element.return || element.value\n\t\tcase COMMENT: return ''\n\t\tcase KEYFRAMES: return element.return = element.value + '{' + serialize(element.children, callback) + '}'\n\t\tcase RULESET: if (!strlen(element.value = element.props.join(','))) return ''\n\t}\n\n\treturn strlen(children = serialize(element.children, callback)) ? element.return = element.value + '{' + children + '}' : ''\n}\n","import {MS, MOZ, WEBKIT, RULESET, KEYFRAMES, DECLARATION} from './Enum.js'\nimport {match, charat, substr, strlen, sizeof, replace, combine, filter, assign} from './Utility.js'\nimport {copy, lift, tokenize} from './Tokenizer.js'\nimport {serialize} from './Serializer.js'\nimport {prefix} from './Prefixer.js'\n\n/**\n * @param {function[]} collection\n * @return {function}\n */\nexport function middleware (collection) {\n\tvar length = sizeof(collection)\n\n\treturn function (element, index, children, callback) {\n\t\tvar output = ''\n\n\t\tfor (var i = 0; i < length; i++)\n\t\t\toutput += collection[i](element, index, children, callback) || ''\n\n\t\treturn output\n\t}\n}\n\n/**\n * @param {function} callback\n * @return {function}\n */\nexport function rulesheet (callback) {\n\treturn function (element) {\n\t\tif (!element.root)\n\t\t\tif (element = element.return)\n\t\t\t\tcallback(element)\n\t}\n}\n\n/**\n * @param {object} element\n * @param {number} index\n * @param {object[]} children\n * @param {function} callback\n */\nexport function prefixer (element, index, children, callback) {\n\tif (element.length > -1)\n\t\tif (!element.return)\n\t\t\tswitch (element.type) {\n\t\t\t\tcase DECLARATION: element.return = prefix(element.value, element.length, children)\n\t\t\t\t\treturn\n\t\t\t\tcase KEYFRAMES:\n\t\t\t\t\treturn serialize([copy(element, {value: replace(element.value, '@', '@' + WEBKIT)})], callback)\n\t\t\t\tcase RULESET:\n\t\t\t\t\tif (element.length)\n\t\t\t\t\t\treturn combine(children = element.props, function (value) {\n\t\t\t\t\t\t\tswitch (match(value, callback = /(::plac\\w+|:read-\\w+)/)) {\n\t\t\t\t\t\t\t\t// :read-(only|write)\n\t\t\t\t\t\t\t\tcase ':read-only': case ':read-write':\n\t\t\t\t\t\t\t\t\tlift(copy(element, {props: [replace(value, /:(read-\\w+)/, ':' + MOZ + '$1')]}))\n\t\t\t\t\t\t\t\t\tlift(copy(element, {props: [value]}))\n\t\t\t\t\t\t\t\t\tassign(element, {props: filter(children, callback)})\n\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t// :placeholder\n\t\t\t\t\t\t\t\tcase '::placeholder':\n\t\t\t\t\t\t\t\t\tlift(copy(element, {props: [replace(value, /:(plac\\w+)/, ':' + WEBKIT + 'input-$1')]}))\n\t\t\t\t\t\t\t\t\tlift(copy(element, {props: [replace(value, /:(plac\\w+)/, ':' + MOZ + '$1')]}))\n\t\t\t\t\t\t\t\t\tlift(copy(element, {props: [replace(value, /:(plac\\w+)/, MS + 'input-$1')]}))\n\t\t\t\t\t\t\t\t\tlift(copy(element, {props: [value]}))\n\t\t\t\t\t\t\t\t\tassign(element, {props: filter(children, callback)})\n\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn ''\n\t\t\t\t\t\t})\n\t\t\t}\n}\n\n/**\n * @param {object} element\n * @param {number} index\n * @param {object[]} children\n */\nexport function namespace (element) {\n\tswitch (element.type) {\n\t\tcase RULESET:\n\t\t\telement.props = element.props.map(function (value) {\n\t\t\t\treturn combine(tokenize(value), function (value, index, children) {\n\t\t\t\t\tswitch (charat(value, 0)) {\n\t\t\t\t\t\t// \\f\n\t\t\t\t\t\tcase 12:\n\t\t\t\t\t\t\treturn substr(value, 1, strlen(value))\n\t\t\t\t\t\t// \\0 ( + > ~\n\t\t\t\t\t\tcase 0: case 40: case 43: case 62: case 126:\n\t\t\t\t\t\t\treturn value\n\t\t\t\t\t\t// :\n\t\t\t\t\t\tcase 58:\n\t\t\t\t\t\t\tif (children[++index] === 'global')\n\t\t\t\t\t\t\t\tchildren[index] = '', children[++index] = '\\f' + substr(children[index], index = 1, -1)\n\t\t\t\t\t\t// \\s\n\t\t\t\t\t\tcase 32:\n\t\t\t\t\t\t\treturn index === 1 ? '' : value\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tswitch (index) {\n\t\t\t\t\t\t\t\tcase 0: element = value\n\t\t\t\t\t\t\t\t\treturn sizeof(children) > 1 ? '' : value\n\t\t\t\t\t\t\t\tcase index = sizeof(children) - 1: case 2:\n\t\t\t\t\t\t\t\t\treturn index === 2 ? value + element + element : value + element\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\treturn value\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t}\n}\n","var unitlessKeys = {\n  animationIterationCount: 1,\n  aspectRatio: 1,\n  borderImageOutset: 1,\n  borderImageSlice: 1,\n  borderImageWidth: 1,\n  boxFlex: 1,\n  boxFlexGroup: 1,\n  boxOrdinalGroup: 1,\n  columnCount: 1,\n  columns: 1,\n  flex: 1,\n  flexGrow: 1,\n  flexPositive: 1,\n  flexShrink: 1,\n  flexNegative: 1,\n  flexOrder: 1,\n  gridRow: 1,\n  gridRowEnd: 1,\n  gridRowSpan: 1,\n  gridRowStart: 1,\n  gridColumn: 1,\n  gridColumnEnd: 1,\n  gridColumnSpan: 1,\n  gridColumnStart: 1,\n  msGridRow: 1,\n  msGridRowSpan: 1,\n  msGridColumn: 1,\n  msGridColumnSpan: 1,\n  fontWeight: 1,\n  lineHeight: 1,\n  opacity: 1,\n  order: 1,\n  orphans: 1,\n  tabSize: 1,\n  widows: 1,\n  zIndex: 1,\n  zoom: 1,\n  WebkitLineClamp: 1,\n  // SVG-related properties\n  fillOpacity: 1,\n  floodOpacity: 1,\n  stopOpacity: 1,\n  strokeDasharray: 1,\n  strokeDashoffset: 1,\n  strokeMiterlimit: 1,\n  strokeOpacity: 1,\n  strokeWidth: 1\n};\n\nexport { unitlessKeys as default };\n","import{__spreadArray as e,__assign as t}from\"tslib\";import n from\"@emotion/is-prop-valid\";import o,{useRef as r,useState as s,useMemo as i,useEffect as a,useContext as c,useDebugValue as l,createElement as u}from\"react\";import p from\"shallowequal\";import*as d from\"stylis\";import h from\"@emotion/unitless\";var f=\"undefined\"!=typeof process&&void 0!==process.env&&(process.env.REACT_APP_SC_ATTR||process.env.SC_ATTR)||\"data-styled\",m=\"active\",y=\"data-styled-version\",v=\"6.1.19\",g=\"/*!sc*/\\n\",S=\"undefined\"!=typeof window&&\"undefined\"!=typeof document,w=Boolean(\"boolean\"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:\"undefined\"!=typeof process&&void 0!==process.env&&void 0!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&\"\"!==process.env.REACT_APP_SC_DISABLE_SPEEDY?\"false\"!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&process.env.REACT_APP_SC_DISABLE_SPEEDY:\"undefined\"!=typeof process&&void 0!==process.env&&void 0!==process.env.SC_DISABLE_SPEEDY&&\"\"!==process.env.SC_DISABLE_SPEEDY?\"false\"!==process.env.SC_DISABLE_SPEEDY&&process.env.SC_DISABLE_SPEEDY:\"production\"!==process.env.NODE_ENV),b={},E=/invalid hook call/i,N=new Set,P=function(t,n){if(\"production\"!==process.env.NODE_ENV){var o=n?' with the id of \"'.concat(n,'\"'):\"\",s=\"The component \".concat(t).concat(o,\" has been created dynamically.\\n\")+\"You may see this warning because you've called styled inside another component.\\nTo resolve this only create new StyledComponents outside of any render method and function component.\\nSee https://styled-components.com/docs/basics#define-styled-components-outside-of-the-render-method for more info.\\n\",i=console.error;try{var a=!0;console.error=function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];E.test(t)?(a=!1,N.delete(s)):i.apply(void 0,e([t],n,!1))},r(),a&&!N.has(s)&&(console.warn(s),N.add(s))}catch(e){E.test(e.message)&&N.delete(s)}finally{console.error=i}}},_=Object.freeze([]),C=Object.freeze({});function I(e,t,n){return void 0===n&&(n=C),e.theme!==n.theme&&e.theme||t||n.theme}var A=new Set([\"a\",\"abbr\",\"address\",\"area\",\"article\",\"aside\",\"audio\",\"b\",\"base\",\"bdi\",\"bdo\",\"big\",\"blockquote\",\"body\",\"br\",\"button\",\"canvas\",\"caption\",\"cite\",\"code\",\"col\",\"colgroup\",\"data\",\"datalist\",\"dd\",\"del\",\"details\",\"dfn\",\"dialog\",\"div\",\"dl\",\"dt\",\"em\",\"embed\",\"fieldset\",\"figcaption\",\"figure\",\"footer\",\"form\",\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\",\"header\",\"hgroup\",\"hr\",\"html\",\"i\",\"iframe\",\"img\",\"input\",\"ins\",\"kbd\",\"keygen\",\"label\",\"legend\",\"li\",\"link\",\"main\",\"map\",\"mark\",\"menu\",\"menuitem\",\"meta\",\"meter\",\"nav\",\"noscript\",\"object\",\"ol\",\"optgroup\",\"option\",\"output\",\"p\",\"param\",\"picture\",\"pre\",\"progress\",\"q\",\"rp\",\"rt\",\"ruby\",\"s\",\"samp\",\"script\",\"section\",\"select\",\"small\",\"source\",\"span\",\"strong\",\"style\",\"sub\",\"summary\",\"sup\",\"table\",\"tbody\",\"td\",\"textarea\",\"tfoot\",\"th\",\"thead\",\"time\",\"tr\",\"track\",\"u\",\"ul\",\"use\",\"var\",\"video\",\"wbr\",\"circle\",\"clipPath\",\"defs\",\"ellipse\",\"foreignObject\",\"g\",\"image\",\"line\",\"linearGradient\",\"marker\",\"mask\",\"path\",\"pattern\",\"polygon\",\"polyline\",\"radialGradient\",\"rect\",\"stop\",\"svg\",\"text\",\"tspan\"]),O=/[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^`{|}~-]+/g,D=/(^-|-$)/g;function R(e){return e.replace(O,\"-\").replace(D,\"\")}var T=/(a)(d)/gi,k=52,j=function(e){return String.fromCharCode(e+(e>25?39:97))};function x(e){var t,n=\"\";for(t=Math.abs(e);t>k;t=t/k|0)n=j(t%k)+n;return(j(t%k)+n).replace(T,\"$1-$2\")}var V,F=5381,M=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},z=function(e){return M(F,e)};function $(e){return x(z(e)>>>0)}function B(e){return\"production\"!==process.env.NODE_ENV&&\"string\"==typeof e&&e||e.displayName||e.name||\"Component\"}function L(e){return\"string\"==typeof e&&(\"production\"===process.env.NODE_ENV||e.charAt(0)===e.charAt(0).toLowerCase())}var G=\"function\"==typeof Symbol&&Symbol.for,Y=G?Symbol.for(\"react.memo\"):60115,W=G?Symbol.for(\"react.forward_ref\"):60112,q={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},H={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},U={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},J=((V={})[W]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},V[Y]=U,V);function X(e){return(\"type\"in(t=e)&&t.type.$$typeof)===Y?U:\"$$typeof\"in e?J[e.$$typeof]:q;var t}var Z=Object.defineProperty,K=Object.getOwnPropertyNames,Q=Object.getOwnPropertySymbols,ee=Object.getOwnPropertyDescriptor,te=Object.getPrototypeOf,ne=Object.prototype;function oe(e,t,n){if(\"string\"!=typeof t){if(ne){var o=te(t);o&&o!==ne&&oe(e,o,n)}var r=K(t);Q&&(r=r.concat(Q(t)));for(var s=X(e),i=X(t),a=0;a<r.length;++a){var c=r[a];if(!(c in H||n&&n[c]||i&&c in i||s&&c in s)){var l=ee(t,c);try{Z(e,c,l)}catch(e){}}}}return e}function re(e){return\"function\"==typeof e}function se(e){return\"object\"==typeof e&&\"styledComponentId\"in e}function ie(e,t){return e&&t?\"\".concat(e,\" \").concat(t):e||t||\"\"}function ae(e,t){if(0===e.length)return\"\";for(var n=e[0],o=1;o<e.length;o++)n+=t?t+e[o]:e[o];return n}function ce(e){return null!==e&&\"object\"==typeof e&&e.constructor.name===Object.name&&!(\"props\"in e&&e.$$typeof)}function le(e,t,n){if(void 0===n&&(n=!1),!n&&!ce(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var o=0;o<t.length;o++)e[o]=le(e[o],t[o]);else if(ce(t))for(var o in t)e[o]=le(e[o],t[o]);return e}function ue(e,t){Object.defineProperty(e,\"toString\",{value:t})}var pe=\"production\"!==process.env.NODE_ENV?{1:\"Cannot create styled-component for component: %s.\\n\\n\",2:\"Can't collect styles once you've consumed a `ServerStyleSheet`'s styles! `ServerStyleSheet` is a one off instance for each server-side render cycle.\\n\\n- Are you trying to reuse it across renders?\\n- Are you accidentally calling collectStyles twice?\\n\\n\",3:\"Streaming SSR is only supported in a Node.js environment; Please do not try to call this method in the browser.\\n\\n\",4:\"The `StyleSheetManager` expects a valid target or sheet prop!\\n\\n- Does this error occur on the client and is your target falsy?\\n- Does this error occur on the server and is the sheet falsy?\\n\\n\",5:\"The clone method cannot be used on the client!\\n\\n- Are you running in a client-like environment on the server?\\n- Are you trying to run SSR on the client?\\n\\n\",6:\"Trying to insert a new style tag, but the given Node is unmounted!\\n\\n- Are you using a custom target that isn't mounted?\\n- Does your document not have a valid head element?\\n- Have you accidentally removed a style tag manually?\\n\\n\",7:'ThemeProvider: Please return an object from your \"theme\" prop function, e.g.\\n\\n```js\\ntheme={() => ({})}\\n```\\n\\n',8:'ThemeProvider: Please make your \"theme\" prop an object.\\n\\n',9:\"Missing document `<head>`\\n\\n\",10:\"Cannot find a StyleSheet instance. Usually this happens if there are multiple copies of styled-components loaded at once. Check out this issue for how to troubleshoot and fix the common cases where this situation can happen: https://github.com/styled-components/styled-components/issues/1941#issuecomment-417862021\\n\\n\",11:\"_This error was replaced with a dev-time warning, it will be deleted for v4 final._ [createGlobalStyle] received children which will not be rendered. Please use the component without passing children elements.\\n\\n\",12:\"It seems you are interpolating a keyframe declaration (%s) into an untagged string. This was supported in styled-components v3, but is not longer supported in v4 as keyframes are now injected on-demand. Please wrap your string in the css\\\\`\\\\` helper which ensures the styles are injected correctly. See https://www.styled-components.com/docs/api#css\\n\\n\",13:\"%s is not a styled component and cannot be referred to via component selector. See https://www.styled-components.com/docs/advanced#referring-to-other-components for more details.\\n\\n\",14:'ThemeProvider: \"theme\" prop is required.\\n\\n',15:\"A stylis plugin has been supplied that is not named. We need a name for each plugin to be able to prevent styling collisions between different stylis configurations within the same app. Before you pass your plugin to `<StyleSheetManager stylisPlugins={[]}>`, please make sure each plugin is uniquely-named, e.g.\\n\\n```js\\nObject.defineProperty(importedPlugin, 'name', { value: 'some-unique-name' });\\n```\\n\\n\",16:\"Reached the limit of how many styled components may be created at group %s.\\nYou may only create up to 1,073,741,824 components. If you're creating components dynamically,\\nas for instance in your render method then you may be running into this limitation.\\n\\n\",17:\"CSSStyleSheet could not be found on HTMLStyleElement.\\nHas styled-components' style tag been unmounted or altered by another script?\\n\",18:\"ThemeProvider: Please make sure your useTheme hook is within a `<ThemeProvider>`\"}:{};function de(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=e[0],o=[],r=1,s=e.length;r<s;r+=1)o.push(e[r]);return o.forEach(function(e){n=n.replace(/%[a-z]/,e)}),n}function he(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];return\"production\"===process.env.NODE_ENV?new Error(\"An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#\".concat(t,\" for more information.\").concat(n.length>0?\" Args: \".concat(n.join(\", \")):\"\")):new Error(de.apply(void 0,e([pe[t]],n,!1)).trim())}var fe=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,o=n.length,r=o;e>=r;)if((r<<=1)<0)throw he(16,\"\".concat(e));this.groupSizes=new Uint32Array(r),this.groupSizes.set(n),this.length=r;for(var s=o;s<r;s++)this.groupSizes[s]=0}for(var i=this.indexOfGroup(e+1),a=(s=0,t.length);s<a;s++)this.tag.insertRule(i,t[s])&&(this.groupSizes[e]++,i++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),o=n+t;this.groupSizes[e]=0;for(var r=n;r<o;r++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(e){var t=\"\";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],o=this.indexOfGroup(e),r=o+n,s=o;s<r;s++)t+=\"\".concat(this.tag.getRule(s)).concat(g);return t},e}(),me=1<<30,ye=new Map,ve=new Map,ge=1,Se=function(e){if(ye.has(e))return ye.get(e);for(;ve.has(ge);)ge++;var t=ge++;if(\"production\"!==process.env.NODE_ENV&&((0|t)<0||t>me))throw he(16,\"\".concat(t));return ye.set(e,t),ve.set(t,e),t},we=function(e,t){ge=t+1,ye.set(e,t),ve.set(t,e)},be=\"style[\".concat(f,\"][\").concat(y,'=\"').concat(v,'\"]'),Ee=new RegExp(\"^\".concat(f,'\\\\.g(\\\\d+)\\\\[id=\"([\\\\w\\\\d-]+)\"\\\\].*?\"([^\"]*)')),Ne=function(e,t,n){for(var o,r=n.split(\",\"),s=0,i=r.length;s<i;s++)(o=r[s])&&e.registerName(t,o)},Pe=function(e,t){for(var n,o=(null!==(n=t.textContent)&&void 0!==n?n:\"\").split(g),r=[],s=0,i=o.length;s<i;s++){var a=o[s].trim();if(a){var c=a.match(Ee);if(c){var l=0|parseInt(c[1],10),u=c[2];0!==l&&(we(u,l),Ne(e,u,c[3]),e.getTag().insertRules(l,r)),r.length=0}else r.push(a)}}},_e=function(e){for(var t=document.querySelectorAll(be),n=0,o=t.length;n<o;n++){var r=t[n];r&&r.getAttribute(f)!==m&&(Pe(e,r),r.parentNode&&r.parentNode.removeChild(r))}};function Ce(){return\"undefined\"!=typeof __webpack_nonce__?__webpack_nonce__:null}var Ie=function(e){var t=document.head,n=e||t,o=document.createElement(\"style\"),r=function(e){var t=Array.from(e.querySelectorAll(\"style[\".concat(f,\"]\")));return t[t.length-1]}(n),s=void 0!==r?r.nextSibling:null;o.setAttribute(f,m),o.setAttribute(y,v);var i=Ce();return i&&o.setAttribute(\"nonce\",i),n.insertBefore(o,s),o},Ae=function(){function e(e){this.element=Ie(e),this.element.appendChild(document.createTextNode(\"\")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,o=t.length;n<o;n++){var r=t[n];if(r.ownerNode===e)return r}throw he(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:\"\"},e}(),Oe=function(){function e(e){this.element=Ie(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:\"\"},e}(),De=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:\"\"},e}(),Re=S,Te={isServer:!S,useCSSOMInjection:!w},ke=function(){function e(e,n,o){void 0===e&&(e=C),void 0===n&&(n={});var r=this;this.options=t(t({},Te),e),this.gs=n,this.names=new Map(o),this.server=!!e.isServer,!this.server&&S&&Re&&(Re=!1,_e(this)),ue(this,function(){return function(e){for(var t=e.getTag(),n=t.length,o=\"\",r=function(n){var r=function(e){return ve.get(e)}(n);if(void 0===r)return\"continue\";var s=e.names.get(r),i=t.getGroup(n);if(void 0===s||!s.size||0===i.length)return\"continue\";var a=\"\".concat(f,\".g\").concat(n,'[id=\"').concat(r,'\"]'),c=\"\";void 0!==s&&s.forEach(function(e){e.length>0&&(c+=\"\".concat(e,\",\"))}),o+=\"\".concat(i).concat(a,'{content:\"').concat(c,'\"}').concat(g)},s=0;s<n;s++)r(s);return o}(r)})}return e.registerId=function(e){return Se(e)},e.prototype.rehydrate=function(){!this.server&&S&&_e(this)},e.prototype.reconstructWithOptions=function(n,o){return void 0===o&&(o=!0),new e(t(t({},this.options),n),this.gs,o&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=function(e){var t=e.useCSSOMInjection,n=e.target;return e.isServer?new De(n):t?new Ae(n):new Oe(n)}(this.options),new fe(e)));var e},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(Se(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},e.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(Se(e),n)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(Se(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),je=/&/g,xe=/^\\s*\\/\\/.*$/gm;function Ve(e,t){return e.map(function(e){return\"rule\"===e.type&&(e.value=\"\".concat(t,\" \").concat(e.value),e.value=e.value.replaceAll(\",\",\",\".concat(t,\" \")),e.props=e.props.map(function(e){return\"\".concat(t,\" \").concat(e)})),Array.isArray(e.children)&&\"@keyframes\"!==e.type&&(e.children=Ve(e.children,t)),e})}function Fe(e){var t,n,o,r=void 0===e?C:e,s=r.options,i=void 0===s?C:s,a=r.plugins,c=void 0===a?_:a,l=function(e,o,r){return r.startsWith(n)&&r.endsWith(n)&&r.replaceAll(n,\"\").length>0?\".\".concat(t):e},u=c.slice();u.push(function(e){e.type===d.RULESET&&e.value.includes(\"&\")&&(e.props[0]=e.props[0].replace(je,n).replace(o,l))}),i.prefix&&u.push(d.prefixer),u.push(d.stringify);var p=function(e,r,s,a){void 0===r&&(r=\"\"),void 0===s&&(s=\"\"),void 0===a&&(a=\"&\"),t=a,n=r,o=new RegExp(\"\\\\\".concat(n,\"\\\\b\"),\"g\");var c=e.replace(xe,\"\"),l=d.compile(s||r?\"\".concat(s,\" \").concat(r,\" { \").concat(c,\" }\"):c);i.namespace&&(l=Ve(l,i.namespace));var p=[];return d.serialize(l,d.middleware(u.concat(d.rulesheet(function(e){return p.push(e)})))),p};return p.hash=c.length?c.reduce(function(e,t){return t.name||he(15),M(e,t.name)},F).toString():\"\",p}var Me=new ke,ze=Fe(),$e=o.createContext({shouldForwardProp:void 0,styleSheet:Me,stylis:ze}),Be=$e.Consumer,Le=o.createContext(void 0);function Ge(){return c($e)}function Ye(e){var t=s(e.stylisPlugins),n=t[0],r=t[1],c=Ge().styleSheet,l=i(function(){var t=c;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t},[e.disableCSSOMInjection,e.sheet,e.target,c]),u=i(function(){return Fe({options:{namespace:e.namespace,prefix:e.enableVendorPrefixes},plugins:n})},[e.enableVendorPrefixes,e.namespace,n]);a(function(){p(n,e.stylisPlugins)||r(e.stylisPlugins)},[e.stylisPlugins]);var d=i(function(){return{shouldForwardProp:e.shouldForwardProp,styleSheet:l,stylis:u}},[e.shouldForwardProp,l,u]);return o.createElement($e.Provider,{value:d},o.createElement(Le.Provider,{value:u},e.children))}var We=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=ze);var o=n.name+t.hash;e.hasNameForId(n.id,o)||e.insertRules(n.id,o,t(n.rules,o,\"@keyframes\"))},this.name=e,this.id=\"sc-keyframes-\".concat(e),this.rules=t,ue(this,function(){throw he(12,String(n.name))})}return e.prototype.getName=function(e){return void 0===e&&(e=ze),this.name+e.hash},e}(),qe=function(e){return e>=\"A\"&&e<=\"Z\"};function He(e){for(var t=\"\",n=0;n<e.length;n++){var o=e[n];if(1===n&&\"-\"===o&&\"-\"===e[0])return e;qe(o)?t+=\"-\"+o.toLowerCase():t+=o}return t.startsWith(\"ms-\")?\"-\"+t:t}var Ue=function(e){return null==e||!1===e||\"\"===e},Je=function(t){var n,o,r=[];for(var s in t){var i=t[s];t.hasOwnProperty(s)&&!Ue(i)&&(Array.isArray(i)&&i.isCss||re(i)?r.push(\"\".concat(He(s),\":\"),i,\";\"):ce(i)?r.push.apply(r,e(e([\"\".concat(s,\" {\")],Je(i),!1),[\"}\"],!1)):r.push(\"\".concat(He(s),\": \").concat((n=s,null==(o=i)||\"boolean\"==typeof o||\"\"===o?\"\":\"number\"!=typeof o||0===o||n in h||n.startsWith(\"--\")?String(o).trim():\"\".concat(o,\"px\")),\";\")))}return r};function Xe(e,t,n,o){if(Ue(e))return[];if(se(e))return[\".\".concat(e.styledComponentId)];if(re(e)){if(!re(s=e)||s.prototype&&s.prototype.isReactComponent||!t)return[e];var r=e(t);return\"production\"===process.env.NODE_ENV||\"object\"!=typeof r||Array.isArray(r)||r instanceof We||ce(r)||null===r||console.error(\"\".concat(B(e),\" is not a styled component and cannot be referred to via component selector. See https://www.styled-components.com/docs/advanced#referring-to-other-components for more details.\")),Xe(r,t,n,o)}var s;return e instanceof We?n?(e.inject(n,o),[e.getName(o)]):[e]:ce(e)?Je(e):Array.isArray(e)?Array.prototype.concat.apply(_,e.map(function(e){return Xe(e,t,n,o)})):[e.toString()]}function Ze(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(re(n)&&!se(n))return!1}return!0}var Ke=z(v),Qe=function(){function e(e,t,n){this.rules=e,this.staticRulesId=\"\",this.isStatic=\"production\"===process.env.NODE_ENV&&(void 0===n||n.isStatic)&&Ze(e),this.componentId=t,this.baseHash=M(Ke,t),this.baseStyle=n,ke.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n):\"\";if(this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))o=ie(o,this.staticRulesId);else{var r=ae(Xe(this.rules,e,t,n)),s=x(M(this.baseHash,r)>>>0);if(!t.hasNameForId(this.componentId,s)){var i=n(r,\".\".concat(s),void 0,this.componentId);t.insertRules(this.componentId,s,i)}o=ie(o,s),this.staticRulesId=s}else{for(var a=M(this.baseHash,n.hash),c=\"\",l=0;l<this.rules.length;l++){var u=this.rules[l];if(\"string\"==typeof u)c+=u,\"production\"!==process.env.NODE_ENV&&(a=M(a,u));else if(u){var p=ae(Xe(u,e,t,n));a=M(a,p+l),c+=p}}if(c){var d=x(a>>>0);t.hasNameForId(this.componentId,d)||t.insertRules(this.componentId,d,n(c,\".\".concat(d),void 0,this.componentId)),o=ie(o,d)}}return o},e}(),et=o.createContext(void 0),tt=et.Consumer;function nt(){var e=c(et);if(!e)throw he(18);return e}function ot(e){var n=o.useContext(et),r=i(function(){return function(e,n){if(!e)throw he(14);if(re(e)){var o=e(n);if(\"production\"!==process.env.NODE_ENV&&(null===o||Array.isArray(o)||\"object\"!=typeof o))throw he(7);return o}if(Array.isArray(e)||\"object\"!=typeof e)throw he(8);return n?t(t({},n),e):e}(e.theme,n)},[e.theme,n]);return e.children?o.createElement(et.Provider,{value:r},e.children):null}var rt={},st=new Set;function it(e,r,s){var i=se(e),a=e,c=!L(e),p=r.attrs,d=void 0===p?_:p,h=r.componentId,f=void 0===h?function(e,t){var n=\"string\"!=typeof e?\"sc\":R(e);rt[n]=(rt[n]||0)+1;var o=\"\".concat(n,\"-\").concat($(v+n+rt[n]));return t?\"\".concat(t,\"-\").concat(o):o}(r.displayName,r.parentComponentId):h,m=r.displayName,y=void 0===m?function(e){return L(e)?\"styled.\".concat(e):\"Styled(\".concat(B(e),\")\")}(e):m,g=r.displayName&&r.componentId?\"\".concat(R(r.displayName),\"-\").concat(r.componentId):r.componentId||f,S=i&&a.attrs?a.attrs.concat(d).filter(Boolean):d,w=r.shouldForwardProp;if(i&&a.shouldForwardProp){var b=a.shouldForwardProp;if(r.shouldForwardProp){var E=r.shouldForwardProp;w=function(e,t){return b(e,t)&&E(e,t)}}else w=b}var N=new Qe(s,g,i?a.componentStyle:void 0);function O(e,r){return function(e,r,s){var i=e.attrs,a=e.componentStyle,c=e.defaultProps,p=e.foldedComponentIds,d=e.styledComponentId,h=e.target,f=o.useContext(et),m=Ge(),y=e.shouldForwardProp||m.shouldForwardProp;\"production\"!==process.env.NODE_ENV&&l(d);var v=I(r,f,c)||C,g=function(e,n,o){for(var r,s=t(t({},n),{className:void 0,theme:o}),i=0;i<e.length;i+=1){var a=re(r=e[i])?r(s):r;for(var c in a)s[c]=\"className\"===c?ie(s[c],a[c]):\"style\"===c?t(t({},s[c]),a[c]):a[c]}return n.className&&(s.className=ie(s.className,n.className)),s}(i,r,v),S=g.as||h,w={};for(var b in g)void 0===g[b]||\"$\"===b[0]||\"as\"===b||\"theme\"===b&&g.theme===v||(\"forwardedAs\"===b?w.as=g.forwardedAs:y&&!y(b,S)||(w[b]=g[b],y||\"development\"!==process.env.NODE_ENV||n(b)||st.has(b)||!A.has(S)||(st.add(b),console.warn('styled-components: it looks like an unknown prop \"'.concat(b,'\" is being sent through to the DOM, which will likely trigger a React console error. If you would like automatic filtering of unknown props, you can opt-into that behavior via `<StyleSheetManager shouldForwardProp={...}>` (connect an API like `@emotion/is-prop-valid`) or consider using transient props (`$` prefix for automatic filtering.)')))));var E=function(e,t){var n=Ge(),o=e.generateAndInjectStyles(t,n.styleSheet,n.stylis);return\"production\"!==process.env.NODE_ENV&&l(o),o}(a,g);\"production\"!==process.env.NODE_ENV&&e.warnTooManyClasses&&e.warnTooManyClasses(E);var N=ie(p,d);return E&&(N+=\" \"+E),g.className&&(N+=\" \"+g.className),w[L(S)&&!A.has(S)?\"class\":\"className\"]=N,s&&(w.ref=s),u(S,w)}(D,e,r)}O.displayName=y;var D=o.forwardRef(O);return D.attrs=S,D.componentStyle=N,D.displayName=y,D.shouldForwardProp=w,D.foldedComponentIds=i?ie(a.foldedComponentIds,a.styledComponentId):\"\",D.styledComponentId=g,D.target=i?a.target:e,Object.defineProperty(D,\"defaultProps\",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=i?function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var o=0,r=t;o<r.length;o++)le(e,r[o],!0);return e}({},a.defaultProps,e):e}}),\"production\"!==process.env.NODE_ENV&&(P(y,g),D.warnTooManyClasses=function(e,t){var n={},o=!1;return function(r){if(!o&&(n[r]=!0,Object.keys(n).length>=200)){var s=t?' with the id of \"'.concat(t,'\"'):\"\";console.warn(\"Over \".concat(200,\" classes were generated for component \").concat(e).concat(s,\".\\n\")+\"Consider using the attrs method, together with a style object for frequently changed styles.\\nExample:\\n  const Component = styled.div.attrs(props => ({\\n    style: {\\n      background: props.background,\\n    },\\n  }))`width: 100%;`\\n\\n  <Component />\"),o=!0,n={}}}}(y,g)),ue(D,function(){return\".\".concat(D.styledComponentId)}),c&&oe(D,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),D}function at(e,t){for(var n=[e[0]],o=0,r=t.length;o<r;o+=1)n.push(t[o],e[o+1]);return n}var ct=function(e){return Object.assign(e,{isCss:!0})};function lt(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];if(re(t)||ce(t))return ct(Xe(at(_,e([t],n,!0))));var r=t;return 0===n.length&&1===r.length&&\"string\"==typeof r[0]?Xe(r):ct(Xe(at(r,n)))}function ut(n,o,r){if(void 0===r&&(r=C),!o)throw he(1,o);var s=function(t){for(var s=[],i=1;i<arguments.length;i++)s[i-1]=arguments[i];return n(o,r,lt.apply(void 0,e([t],s,!1)))};return s.attrs=function(e){return ut(n,o,t(t({},r),{attrs:Array.prototype.concat(r.attrs,e).filter(Boolean)}))},s.withConfig=function(e){return ut(n,o,t(t({},r),e))},s}var pt=function(e){return ut(it,e)},dt=pt;A.forEach(function(e){dt[e]=pt(e)});var ht=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Ze(e),ke.registerId(this.componentId+1)}return e.prototype.createStyles=function(e,t,n,o){var r=o(ae(Xe(this.rules,t,n,o)),\"\"),s=this.componentId+e;n.insertRules(s,s,r)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,n,o){e>2&&ke.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,o)},e}();function ft(n){for(var r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];var i=lt.apply(void 0,e([n],r,!1)),a=\"sc-global-\".concat($(JSON.stringify(i))),c=new ht(i,a);\"production\"!==process.env.NODE_ENV&&P(a);var l=function(e){var t=Ge(),n=o.useContext(et),r=o.useRef(t.styleSheet.allocateGSInstance(a)).current;return\"production\"!==process.env.NODE_ENV&&o.Children.count(e.children)&&console.warn(\"The global style component \".concat(a,\" was given child JSX. createGlobalStyle does not render children.\")),\"production\"!==process.env.NODE_ENV&&i.some(function(e){return\"string\"==typeof e&&-1!==e.indexOf(\"@import\")})&&console.warn(\"Please do not use @import CSS syntax in createGlobalStyle at this time, as the CSSOM APIs we use in production do not handle it well. Instead, we recommend using a library such as react-helmet to inject a typical <link> meta tag to the stylesheet, or simply embedding it manually in your index.html <head> section for a simpler app.\"),t.styleSheet.server&&u(r,e,t.styleSheet,n,t.stylis),o.useLayoutEffect(function(){if(!t.styleSheet.server)return u(r,e,t.styleSheet,n,t.stylis),function(){return c.removeStyles(r,t.styleSheet)}},[r,e,t.styleSheet,n,t.stylis]),null};function u(e,n,o,r,s){if(c.isStatic)c.renderStyles(e,b,o,s);else{var i=t(t({},n),{theme:I(n,r,l.defaultProps)});c.renderStyles(e,i,o,s)}}return o.memo(l)}function mt(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];\"production\"!==process.env.NODE_ENV&&\"undefined\"!=typeof navigator&&\"ReactNative\"===navigator.product&&console.warn(\"`keyframes` cannot be used on ReactNative, only on the web. To do animation in ReactNative please use Animated.\");var r=ae(lt.apply(void 0,e([t],n,!1))),s=$(r);return new We(s,r)}function yt(e){var n=o.forwardRef(function(n,r){var s=I(n,o.useContext(et),e.defaultProps);return\"production\"!==process.env.NODE_ENV&&void 0===s&&console.warn('[withTheme] You are not using a ThemeProvider nor passing a theme prop or a theme in defaultProps in component class \"'.concat(B(e),'\"')),o.createElement(e,t({},n,{theme:s,ref:r}))});return n.displayName=\"WithTheme(\".concat(B(e),\")\"),oe(n,e)}var vt=function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return\"\";var n=Ce(),o=ae([n&&'nonce=\"'.concat(n,'\"'),\"\".concat(f,'=\"true\"'),\"\".concat(y,'=\"').concat(v,'\"')].filter(Boolean),\" \");return\"<style \".concat(o,\">\").concat(t,\"</style>\")},this.getStyleTags=function(){if(e.sealed)throw he(2);return e._emitSheetCSS()},this.getStyleElement=function(){var n;if(e.sealed)throw he(2);var r=e.instance.toString();if(!r)return[];var s=((n={})[f]=\"\",n[y]=v,n.dangerouslySetInnerHTML={__html:r},n),i=Ce();return i&&(s.nonce=i),[o.createElement(\"style\",t({},s,{key:\"sc-0-0\"}))]},this.seal=function(){e.sealed=!0},this.instance=new ke({isServer:!0}),this.sealed=!1}return e.prototype.collectStyles=function(e){if(this.sealed)throw he(2);return o.createElement(Ye,{sheet:this.instance},e)},e.prototype.interleaveWithNodeStream=function(e){throw he(3)},e}(),gt={StyleSheet:ke,mainSheet:Me};\"production\"!==process.env.NODE_ENV&&\"undefined\"!=typeof navigator&&\"ReactNative\"===navigator.product&&console.warn(\"It looks like you've imported 'styled-components' on React Native.\\nPerhaps you're looking to import 'styled-components/native'?\\nRead more about this at https://www.styled-components.com/docs/basics#react-native\");var St=\"__sc-\".concat(f,\"__\");\"production\"!==process.env.NODE_ENV&&\"test\"!==process.env.NODE_ENV&&\"undefined\"!=typeof window&&(window[St]||(window[St]=0),1===window[St]&&console.warn(\"It looks like there are several instances of 'styled-components' initialized in this application. This may cause dynamic styles to not render properly, errors during the rehydration process, a missing theme prop, and makes your application bigger without good reason.\\n\\nSee https://s-c.sh/2BAXzed for more info.\"),window[St]+=1);export{vt as ServerStyleSheet,Be as StyleSheetConsumer,$e as StyleSheetContext,Ye as StyleSheetManager,tt as ThemeConsumer,et as ThemeContext,ot as ThemeProvider,gt as __PRIVATE__,ft as createGlobalStyle,lt as css,dt as default,se as isStyledComponent,mt as keyframes,dt as styled,nt as useTheme,v as version,yt as withTheme};\n//# sourceMappingURL=styled-components.browser.esm.js.map\n","import { area, curveStepAfter, ScaleLinear } from 'd3'\nimport { useMemo } from 'react'\nimport styled from 'styled-components'\n\nimport { ChartEntry } from '../types'\n\nconst Path = styled.path<{ fill: string | undefined; opacity: number | undefined }>`\n  opacity: ${({ opacity }) => opacity || 1};\n  stroke: none; /* 移除stroke，避免出现线条 */\n  fill: ${({ fill }) => fill ?? '#ff0000'};\n`\n\nexport const Area = ({\n  series,\n  xScale,\n  yScale,\n  xValue,\n  yValue,\n  fill,\n  opacity\n}: {\n  series: ChartEntry[]\n  xScale: ScaleLinear<number, number>\n  yScale: ScaleLinear<number, number>\n  xValue: (d: ChartEntry) => number\n  yValue: (d: ChartEntry) => number\n  fill?: string | undefined\n  opacity?: number\n}) => {\n  const pathD = useMemo(() => {\n    const ascData = series.sort((a: any, b: any) => a.price0 - b.price0)\n\n    if (ascData?.length === 2  && (ascData[1] as any).depth == 0) {\n      (ascData[1] as any).depth = (ascData[0] as any).depth\n      ascData[1].activeLiquidity = ascData[0].activeLiquidity\n    }\n\n    const testData = ascData[0].price0 !== 1e-10 && ascData?.length > 1 ? [\n      {\n        ...ascData[0],\n        price0: ascData[0].price0 - Math.pow(10, -9),\n        price: ascData[0].price0 - Math.pow(10, -9),\n        activeLiquidity: 0,\n        depth: 0,\n      },\n      ...ascData\n    ] : ascData\n\n    \n    // if (testData?.length === 2 && testData[0].price0 === 1e-10 && testData[1].price0 === 10000000000 && (testData[1] as any).depth == 0) {\n    // if (testData?.length === 2  && (testData[1] as any).depth == 0) {\n    //   (testData[1] as any).depth = (testData[0] as any).depth\n    //   testData[1].activeLiquidity = testData[0].activeLiquidity\n    // }\n\n\n    // Safari兼容性：确保坐标在合理范围内\n    const validData = testData.filter((d: any) => {\n      const xVal = xValue(d)\n      const yVal = yValue(d)\n      return isFinite(xVal) && isFinite(yVal) && xVal >= 0\n    })\n\n    if (validData.length === 0) {\n      return undefined\n    }\n\n    return (\n      area()\n        .curve(curveStepAfter)\n        .x0(xScale(0)) // 基线：流动性为0的位置（右边）\n        .x1((d: unknown) => {\n          const xVal = xValue(d as ChartEntry)\n          const scaledX = xScale(xVal)\n          // Safari兼容性：确保X坐标在合理范围内\n          return Math.max(0, Math.min(scaledX, xScale.range()[0]))\n        })\n        .y((d: unknown) => {\n          const yVal = yValue(d as ChartEntry)\n          const scaledY = yScale(yVal)\n          // Safari兼容性：确保Y坐标在合理范围内\n          // 注意：yScale.range()[0] 是最大值，yScale.range()[1] 是最小值\n          return Math.max(yScale.range()[1], Math.min(scaledY, yScale.range()[0]))\n        })\n        (validData as any)\n    )\n  }, [series, xScale, xValue, yScale, yValue])\n\n  return useMemo(() => {\n    return <Path opacity={opacity} fill={fill || undefined} d={pathD || undefined} />\n  }, [pathD, opacity, fill])\n}\n","import { formatPriceUseInAxis } from '@cetus/utils'\nimport { ScaleLinear } from 'd3'\n\ninterface AxisRightProps {\n  yScale: ScaleLinear<number, number>\n  width: number\n  height: number\n  axisLabelPaneWidth: number\n  min: number\n  max: number\n}\n\nexport const AxisRight = ({ yScale, width, height, axisLabelPaneWidth, min, max }: AxisRightProps) => {\n  // Generate tick values - 使用更智能的刻度生成策略\n  const generateTickValues = () => {\n    const range = max - min\n    const targetTickCount = 5 // 目标刻度数量\n    const tickValues = []\n\n    // 生成刻度值\n    for (let i = 0; i < targetTickCount; i++) {\n      const ratio = i / (targetTickCount - 1)\n      tickValues.push(min + ratio * range)\n    }\n\n    // 检查可见性并过滤\n    const margin = 8\n    const visibleTicks = tickValues.filter(value => {\n      const y = yScale(value)\n      return y >= margin && y <= height - margin\n    })\n\n    // 如果可见刻度少于4个，尝试增加刻度数量\n    if (visibleTicks.length < 4) {\n      const extendedTickCount = 7\n      const extendedTicks = []\n      for (let i = 0; i < extendedTickCount; i++) {\n        const ratio = i / (extendedTickCount - 1)\n        extendedTicks.push(min + ratio * range)\n      }\n\n      const extendedVisibleTicks = extendedTicks.filter(value => {\n        const y = yScale(value)\n        return y >= margin && y <= height - margin\n      })\n\n      return extendedVisibleTicks.length >= 4 ? extendedTicks : tickValues\n    }\n\n    return tickValues\n  }\n\n  const tickValues = generateTickValues()\n\n  return (\n    <g>\n      {/* 隐藏轴线，只保留数字标签 */}\n      {/* <line\n        x1={axisLabelPaneWidth}\n        y1={0}\n        x2={axisLabelPaneWidth}\n        y2={height}\n        stroke=\"#e2e8f0\"\n        strokeWidth={1}\n      /> */}\n\n      {/* Ticks and labels */}\n      {tickValues.map((value, index) => {\n        const y = yScale(value)\n\n        // 检查标签是否在可见区域内，避免显示不完整的标签\n        const labelHeight = 12 // 字体大小\n        const margin = 8 // 增加一些边距，让标签显示更宽松\n        const isLabelVisible = y >= margin && y <= height - margin\n\n        // 如果标签不在可见区域内，不渲染\n        if (!isLabelVisible) return null\n\n        return (\n          <g key={`tick-${index}`}>\n            {/* 隐藏刻度线，只保留数字标签 */}\n            {/* <line\n              x1={axisLabelPaneWidth}\n              y1={y}\n              x2={axisLabelPaneWidth + 5}\n              y2={y}\n              stroke=\"#e2e8f0\"\n              strokeWidth={1}\n            /> */}\n\n            {/* Label */}\n            <text x={axisLabelPaneWidth + 10} y={y} fontSize=\"12px\" fill=\"#909CA4\" textAnchor=\"start\" alignmentBaseline=\"middle\">\n              {formatPriceUseInAxis(String(value))}\n              {/* {value} */}\n            </text>\n          </g>\n        )\n      })}\n    </g>\n  )\n}\n","// Handle - straight horizontal line only\nexport const brushHandlePath = (width: number) =>\n  [\n    `M 0 0`, // move to origin\n    `h ${width}`, // horizontal line with specified width\n  ].join(' ')\n\nexport const brushHandleAccentPath = (width: number) => {\n  const lineStart = width / 2 - 15\n  return [\n    'M 0 0', // move to origin\n    `m ${lineStart} 8`, // move to start of accent line\n    `h 30`, // horizontal line\n  ].join(' ')\n}\n\n/** \n  Points down by default\n*/\nexport const OffScreenHandle = ({ color, size = 6 }: { color: string; size?: number }) => {\n  const center = size / 3\n  return (\n    <polygon\n      points={`0 0, ${size} ${size}, 0 ${size}`}\n      transform={`translate(${center}, ${center}) rotate(-45) translate(-${center}, -${center})`}\n      fill={color}\n      stroke={color}\n      strokeWidth=\"4\"\n      strokeLinejoin=\"round\"\n    />\n  )\n}\n","import { d } from '@cetus/utils'\nimport { BrushBehavior, D3BrushEvent, ScaleLinear, brushY, format, select } from 'd3'\nimport { useEffect, useMemo, useRef, useState } from 'react'\nimport { OffScreenHandle } from '../svg'\n\n// flips the handles draggers when close to the container edges\nconst FLIP_HANDLE_THRESHOLD_PX = 20\n\n// margin to prevent tick snapping from putting the brush off screen\nconst BRUSH_EXTENT_MARGIN_PX = 2\n\n/**\n * Returns true if every element in `a` maps to the\n * same pixel coordinate as elements in `b`\n */\n// eslint-disable-next-line max-params\nconst compare = (a: [number, number], b: [number, number], yScale: ScaleLinear<number, number>): boolean => {\n  // normalize pixels to 1 decimals\n  const aNorm = a.map(y => yScale(y).toFixed(1))\n  const bNorm = b.map(y => yScale(y).toFixed(1))\n  return aNorm.every((v, i) => v === bNorm[i])\n}\n\n// Convert [minPrice, maxPrice] to [yMax, yMin]\nconst toYScale = (extent: [number, number], yScale: ScaleLinear<number, number>): [number, number] => {\n  return [yScale(extent[1]), yScale(extent[0])]\n}\n\n// Convert [yMax, yMin] to [minPrice, maxPrice]\nconst toPriceExtent = (selection: [number, number], yScale: ScaleLinear<number, number>): [number, number] => {\n  return [yScale.invert(selection[1]), yScale.invert(selection[0])]\n}\n\n// Calculate percentage difference between current price and target price\nconst calculatePercentageDiff = (currentPrice: number, targetPrice: number): string => {\n  if (!currentPrice || !targetPrice) return ''\n\n  const percent =\n    (d(targetPrice).lt(currentPrice) ? -1 : 1) *\n    ((Math.max(Number(targetPrice), Number(currentPrice)) - Math.min(Number(targetPrice), Number(currentPrice))) / Number(currentPrice)) *\n    100\n  // console.log('🚀 ~ percent:', percent)\n\n  return Number(currentPrice) ? `${format(Math.abs(percent) > 1 ? '.2~s' : '.2~f')(percent)}%` : ''\n\n  // 直接计算百分比差异：(目标价格 - 当前价格) / 当前价格 * 100\n  //   const percent = ((targetPrice - currentPrice) / currentPrice) * 100\n\n  // 格式化显示，保留整数\n  //   return `${percent >= 0 ? '' : ''}${percent.toFixed(0)}%`\n}\n\nconst normalizeExtent = (extent: [number, number]): [number, number] => (extent[0] < extent[1] ? extent : [extent[1], extent[0]])\n\nexport const Brush = ({\n  id,\n  yScale,\n  interactive,\n  brushExtent,\n  setBrushExtent,\n  hideHandles,\n  width,\n  height,\n  currentPrice\n}: {\n  id: string\n  yScale: ScaleLinear<number, number>\n  interactive: boolean\n  // [min, max] price values\n  brushExtent: [number, number]\n  setBrushExtent: (extent: [number, number], mode: string | undefined) => void\n  width: number\n  height: number\n  hideHandles?: boolean\n  currentPrice?: number\n}) => {\n  const brushRef = useRef<SVGGElement | null>(null)\n  const brushBehavior = useRef<BrushBehavior<SVGGElement> | null>(null)\n\n  // only used to drag the handles on brush for performance\n  const [localBrushExtent, setLocalBrushExtent] = useState<[number, number] | null>(brushExtent)\n\n  // keep local and external brush extent in sync\n  // i.e. snap to ticks on brush end\n  const brushInProgressRef = useRef(false)\n\n  useEffect(() => {\n    if (brushInProgressRef.current) {\n      return\n    }\n\n    setLocalBrushExtent(brushExtent)\n  }, [brushExtent])\n\n  // initialize the brush\n  useEffect(() => {\n    if (!brushRef.current) {\n      return\n    }\n\n    const normalizedExtent = normalizeExtent(brushExtent)\n    const scaledExtent = toYScale(normalizedExtent, yScale)\n\n    brushBehavior.current = brushY<SVGGElement>()\n      .extent([\n        // x0, y0 (top left)\n        [0, BRUSH_EXTENT_MARGIN_PX],\n        // x1, y1 (bottom right)\n        [width, height - BRUSH_EXTENT_MARGIN_PX]\n      ])\n      .handleSize(30)\n      .filter(() => interactive)\n      .filter(event => {\n        // Allow interactions only if the event target is part of the brush selection or handles\n        const target = event.target as SVGElement\n        return target.classList.contains('selection') || target.classList.contains('handle')\n      })\n      .on('brush', (event: D3BrushEvent<unknown>) => {\n        const { selection } = event\n        brushInProgressRef.current = true\n\n        if (!selection) {\n          setLocalBrushExtent(null)\n          return\n        }\n\n        // Update only the local extent during dragging\n        const priceExtent = normalizeExtent(toPriceExtent(selection as [number, number], yScale))\n        setLocalBrushExtent(priceExtent)\n      })\n      .on('end', (event: D3BrushEvent<unknown>) => {\n        const { selection, mode } = event\n        console.log('1009##🚀 ~ Brush ~ selection:', selection)\n\n        if (!selection) {\n          setLocalBrushExtent(null)\n          brushInProgressRef.current = false\n          return\n        }\n\n        // 检查selection是否包含无效值\n        if (selection?.includes(NaN) || selection?.includes(Infinity) || selection?.includes(-Infinity)) {\n          console.warn('Invalid selection values detected:', selection)\n          brushInProgressRef.current = false\n          return\n        }\n\n        // Finalize state update on end\n        const priceExtent = normalizeExtent(toPriceExtent(selection as [number, number], yScale))\n\n        // 更严格的比较：检查价格差异是否足够大才触发更新\n        const priceThreshold = localBrushExtent[0] > 0.0001 ? 0.0001 : localBrushExtent[0] * 0.01 // 价格差异阈值\n        const hasSignificantChange =\n          !localBrushExtent ||\n          Math.abs(priceExtent[0] - localBrushExtent[0]) > priceThreshold ||\n          Math.abs(priceExtent[1] - localBrushExtent[1]) > priceThreshold\n\n        if (hasSignificantChange) {\n          console.log('🚀 ~ Brush ~ significant change detected:', { old: normalizedExtent, new: priceExtent })\n          setBrushExtent(priceExtent, mode)\n        } else {\n          console.log('🚀 ~ Brush ~ no significant change, skipping update')\n        }\n\n        setLocalBrushExtent(priceExtent)\n        brushInProgressRef.current = false\n      })\n\n    brushBehavior.current(select(brushRef.current))\n\n    select(brushRef.current).selectAll('.overlay').attr('cursor', 'default')\n\n    // brush linear gradient\n    select(brushRef.current)\n      .selectAll('.selection')\n      .attr('stroke', 'none')\n      .attr('fill-opacity', '0.15')\n      .attr('fill', `url(#${id}-gradient-selection)`)\n      .attr('cursor', 'grab')\n  }, [brushExtent, id, height, interactive, yScale, width, setBrushExtent])\n\n  // respond to yScale changes only\n  useEffect(() => {\n    if (!brushRef.current || !brushBehavior.current) {\n      return\n    }\n\n    brushBehavior.current.move(select(brushRef.current) as any, normalizeExtent(toYScale(brushExtent as [number, number], yScale)))\n  }, [brushExtent, yScale])\n\n  const normalizedBrushExtent = normalizeExtent(localBrushExtent ?? brushExtent)\n  const flipNorthHandle = yScale(normalizedBrushExtent[1]) < FLIP_HANDLE_THRESHOLD_PX\n  const flipSouthHandle = yScale(normalizedBrushExtent[0]) > height - FLIP_HANDLE_THRESHOLD_PX\n\n  const showNorthArrow = yScale(normalizedBrushExtent[0]) < 0 || yScale(normalizedBrushExtent[1]) < 0\n  const showSouthArrow = yScale(normalizedBrushExtent[0]) > height || yScale(normalizedBrushExtent[1]) > height\n\n  const southHandleInView = yScale(normalizedBrushExtent[0]) >= 0 && yScale(normalizedBrushExtent[0]) <= height\n  const northHandleInView = yScale(normalizedBrushExtent[1]) >= 0 && yScale(normalizedBrushExtent[1]) <= height\n\n  return useMemo(\n    () => (\n      <>\n        <defs>\n          <linearGradient id={`${id}-gradient-selection`} x1=\"0%\" y1=\"100%\" x2=\"100%\" y2=\"100%\">\n            <stop stopColor=\"#3B82F6\" />\n            <stop stopColor=\"#3B82F6\" offset=\"1\" />\n          </linearGradient>\n\n          {/* clips at exactly the svg area */}\n          <clipPath id={`${id}-brush-clip`}>\n            <rect x={0} y=\"0\" width={width} height={height} />\n          </clipPath>\n        </defs>\n\n        {/* will host the d3 brush */}\n        <g ref={brushRef} clipPath={`url(#${id}-brush-clip)`} />\n\n        {/* custom brush handles */}\n        {!hideHandles && (\n          <>\n            {northHandleInView ? (\n              <g\n                // transform={`translate(0, ${Math.max(0, yScale(normalizedBrushExtent[1]))}), scale(1, ${\n                //   flipNorthHandle ? '1' : '-1'\n                // })`}\n\n                transform={`translate(0, ${Math.max(0, yScale(normalizedBrushExtent[1]))})`}\n                cursor={interactive ? 'ns-resize' : 'default'}\n                pointerEvents=\"none\"\n              >\n                <g>\n                  {/* 细线手柄 */}\n                  <line x1={0} y1={0} x2={width} y2={0} stroke=\"#3EC6FF\" strokeWidth={2} />\n                  {/* 百分比标签 */}\n                  {currentPrice && (\n                    <g>\n                      <rect x={0} y={-8} width={60} height={16} fill=\"#374151\" rx={8} />\n                      <text x={30} y={0} fill=\"#fff\" fontSize={10} textAnchor=\"middle\" alignmentBaseline=\"middle\">\n                        {calculatePercentageDiff(currentPrice, normalizedBrushExtent[1])}\n                      </text>\n                    </g>\n                  )}\n\n                  {/* 长方形背景 */}\n                  <rect x={width / 2 - 8} y={-4} width={16} height={8} fill=\"#3EC6FF\" rx={2} />\n                  {/* 向上尖号指示器 */}\n                  <path d={`M ${width / 2 - 3} 1.2 L ${width / 2} -1.2 L ${width / 2 + 3} 1.2`} stroke=\"#000\" strokeWidth={1} fill=\"none\" />\n                </g>\n              </g>\n            ) : null}\n\n            {southHandleInView ? (\n              <g transform={`translate(0, ${yScale(normalizedBrushExtent[0])})`} cursor={interactive ? 'ns-resize' : 'default'} pointerEvents=\"none\">\n                <g>\n                  {/* 细线手柄 */}\n                  <line x1={0} y1={0} x2={width} y2={0} stroke=\"#3EFFDD\" strokeWidth={2} />\n\n                  {/* 百分比标签 */}\n                  {currentPrice && (\n                    <g>\n                      <rect x={0} y={-8} width={60} height={16} fill=\"#374151\" rx={8} />\n                      <text x={30} y={0} fill=\"#fff\" fontSize={10} textAnchor=\"middle\" alignmentBaseline=\"middle\">\n                        {calculatePercentageDiff(currentPrice, normalizedBrushExtent[0])}\n                      </text>\n                    </g>\n                  )}\n\n                  {/* 长方形背景 */}\n                  <rect x={width / 2 - 8} y={-4} width={16} height={8} fill=\"#3EFFDD\" rx={2} />\n                  {/* 向下尖号指示器 */}\n                  <path d={`M ${width / 2 - 3} -1.2 L ${width / 2} 1.2 L ${width / 2 + 3} -1.2`} stroke=\"#000\" strokeWidth={1} fill=\"none\" />\n                </g>\n              </g>\n            ) : null}\n\n            {showNorthArrow && (\n              <g transform=\"translate(18, 16) scale(1,-1)\">\n                <OffScreenHandle color=\"rgba(59, 130, 246, 1)\" />\n                <text x={14} y={-3} fill=\"rgba(59, 130, 246, 1)\" fontSize={10} alignmentBaseline=\"middle\" transform=\"scale(1,-1)\">\n                  Out of view\n                </text>\n              </g>\n            )}\n            {showSouthArrow && (\n              <g transform={`translate(18, ${height - 16}) `}>\n                <OffScreenHandle color=\"rgba(59, 130, 246, 1)\" />\n                {!showNorthArrow && (\n                  <text x={14} y={5} fill=\"rgba(59, 130, 246, 1)\" fontSize={10} alignmentBaseline=\"middle\">\n                    Out of view\n                  </text>\n                )}\n              </g>\n            )}\n          </>\n        )}\n      </>\n    ),\n    [\n      id,\n      width,\n      height,\n      normalizedBrushExtent,\n      hideHandles,\n      northHandleInView,\n      yScale,\n      flipNorthHandle,\n      interactive,\n      southHandleInView,\n      flipSouthHandle,\n      showNorthArrow,\n      showSouthArrow,\n      currentPrice\n    ]\n  )\n}\n","import { ScaleLinear } from 'd3'\nimport { formatNumber } from '@cetus/utils'\n\ninterface HorizontalLineProps {\n  value: number\n  yScale: ScaleLinear<number, number>\n  width: number\n  height: number\n  axisLabelPaneWidth: number\n  color: string\n  strokeWidth: number\n  strokeDasharray?: string\n  showPriceLabel?: boolean\n  showTriangle?: boolean\n}\n\nexport const HorizontalLine = ({\n  value,\n  yScale,\n  width,\n  height,\n  axisLabelPaneWidth,\n  color,\n  strokeWidth,\n  strokeDasharray,\n  showPriceLabel = true,\n  showTriangle = false\n}: HorizontalLineProps) => {\n  const y = yScale(value)\n  \n  // 确保线始终在可见区域内，即使超出边界也要显示\n  const clampedY = Math.max(0, Math.min(y, height))\n\n  return (\n    <g>\n      <line\n        x1={axisLabelPaneWidth}\n        y1={clampedY}\n        x2={width - axisLabelPaneWidth}\n        y2={clampedY}\n        stroke={color}\n        strokeWidth={strokeWidth}\n        strokeDasharray={strokeDasharray}\n        pointerEvents=\"none\"\n      />\n      \n      {/* 价格标签 - 根据 showPriceLabel 属性控制显示 */}\n      {showPriceLabel && (\n        <text\n          x={width - axisLabelPaneWidth + 10}\n          y={clampedY - 5}\n          fontSize=\"12px\"\n          fill={color}\n          textAnchor=\"start\"\n        >\n          {formatNumber(value, 4)}\n        </text>\n      )}\n\n      {/* 白色三角形图标 - 位于线的左侧 */}\n      {/* {showTriangle && <path\n        d={`M ${axisLabelPaneWidth - 2} ${clampedY - 5} L ${axisLabelPaneWidth + 6} ${clampedY} L ${axisLabelPaneWidth - 2} ${clampedY + 5} Z`}\n        fill=\"white\"\n        stroke=\"none\"\n        pointerEvents=\"none\"\n      />} */}\n\n      {showTriangle && <circle cx={axisLabelPaneWidth+4} cy={clampedY} fill=\"#fff\" r=\"4\" />}\n\n        \n    </g>\n  )\n}\n","import { useState } from 'react'\nimport { ChartEntry } from '../types'\nimport { formatNumber } from '@cetus/utils'\n\ninterface TickTooltipProps {\n  data: ChartEntry[]\n  current?: number\n  quoteCurrency: any\n  baseCurrency: any\n  isMobile?: boolean\n}\n\nexport const TickTooltip = ({\n  data,\n  current,\n  quoteCurrency,\n  baseCurrency,\n  isMobile = false,\n}: TickTooltipProps) => {\n  const [hoveredEntry, setHoveredEntry] = useState<ChartEntry | null>(null)\n  const [tooltipPosition, setTooltipPosition] = useState<{ x: number; y: number } | null>(null)\n\n  const handleMouseMove = (event: React.MouseEvent) => {\n    if (!data.length) return\n\n    const rect = event.currentTarget.getBoundingClientRect()\n    const x = event.clientX - rect.left\n    const y = event.clientY - rect.top\n\n    // Find the closest data point\n    const height = rect.height\n    const priceRange = Math.max(...data.map(d => d.price0)) - Math.min(...data.map(d => d.price0))\n    const price = Math.min(...data.map(d => d.price0)) + (y / height) * priceRange\n\n    const closestEntry = data.reduce((closest, current) => {\n      const closestDiff = Math.abs(closest.price0 - price)\n      const currentDiff = Math.abs(current.price0 - price)\n      return currentDiff < closestDiff ? current : closest\n    })\n\n    setHoveredEntry(closestEntry)\n    setTooltipPosition({ x: event.clientX, y: event.clientY })\n  }\n\n  const handleMouseLeave = () => {\n    setHoveredEntry(null)\n    setTooltipPosition(null)\n  }\n\n  if (!hoveredEntry || !tooltipPosition) return null\n\n  return (\n    <div\n      style={{\n        position: 'fixed',\n        left: tooltipPosition.x + 10,\n        top: tooltipPosition.y - 10,\n        backgroundColor: 'rgba(0, 0, 0, 0.9)',\n        color: 'white',\n        padding: '8px 12px',\n        borderRadius: '6px',\n        fontSize: '12px',\n        pointerEvents: 'none',\n        zIndex: 1000,\n        maxWidth: '200px',\n      }}\n    >\n      <div style={{ fontWeight: 'bold', marginBottom: '4px' }}>\n        Price: {formatNumber(hoveredEntry.price0, 6)}\n      </div>\n      <div style={{ marginBottom: '2px' }}>\n        Liquidity: {formatNumber(hoveredEntry.activeLiquidity, 0)}\n      </div>\n      <div style={{ marginBottom: '2px' }}>\n        {baseCurrency?.symbol}: {formatNumber(hoveredEntry.amount0Locked || 0, 4)}\n      </div>\n      <div>\n        {quoteCurrency?.symbol}: {formatNumber(hoveredEntry.amount1Locked || 0, 4)}\n      </div>\n    </div>\n  )\n}\n","import { scaleLinear } from 'd3'\nimport { useEffect, useMemo, useRef, useState } from 'react'\nimport { Area } from './Area'\nimport { AxisRight } from './AxisRight'\nimport { Brush } from './Brush'\nimport { HorizontalLine } from './HorizontalLine'\nimport { TickTooltip } from './TickTooltip'\n\ninterface ActiveLiquidityChartProps {\n  id?: string\n  quoteCurrency: any\n  baseCurrency: any\n  data: any\n  dimensions: {\n    width: number\n    height: number\n    contentWidth: number\n    axisLabelPaneWidth: number\n  }\n  brushDomain?: [number, number]\n  onBrushDomainChange: (domain: [number, number], mode?: string) => void\n  disableBrush?: boolean\n  disableRightAxis?: boolean\n  disableBrushInteraction?: boolean\n  showDiffIndicators?: boolean\n  isMobile?: boolean\n  barColor?: string\n  hideLiquidityBars?: boolean\n  dashedMarkerLine?: number[]\n  currentPrice?: number\n  showTriangle?: boolean\n  isFullRange?: boolean\n  isBrushInstance?: boolean // 新增标记，用于区分brush实例\n}\n\nconst xAccessor = (d: any) => d.activeLiquidity || d.depth // x轴是流动性深度\nconst yAccessor = (d: any) => d.price0 || d.price // y轴是价格\n\nexport function ActiveLiquidityChart({\n  id = 'ActiveLiquidityChart',\n  quoteCurrency,\n  baseCurrency,\n  data: { series, current, min, max },\n  dimensions: { width, height, contentWidth, axisLabelPaneWidth },\n  brushDomain,\n  onBrushDomainChange,\n  disableBrush = false,\n  disableRightAxis = false,\n  disableBrushInteraction = false,\n  showDiffIndicators = false,\n  isMobile = false,\n  barColor = '#8884d8',\n  hideLiquidityBars = false,\n  dashedMarkerLine,\n  currentPrice,\n  showTriangle = false,\n  isFullRange = false,\n  isBrushInstance = false\n}: ActiveLiquidityChartProps) {\n  const svgRef = useRef<SVGSVGElement>(null)\n  const [brushExtent, setBrushExtent] = useState<[number, number]>(brushDomain || [min || 0, max || 1])\n  const [isDragging, setIsDragging] = useState(false)\n\n  // Filter and sort data\n  const chartData = useMemo(() => {\n    if (!series || series.length === 0) return []\n\n    // 处理数据：保留所有数据，但处理极端值\n    const processedData = series\n      .map((entry: any) => {\n        const activeLiquidity = xAccessor(entry) // x轴是流动性深度\n        const price = yAccessor(entry) // y轴是价格\n\n        // 处理极端价格值，而不是过滤掉\n        let processedPrice = price\n        if (price < 1e-10) {\n          // 如果价格极小，设置为一个很小的合理值\n          processedPrice = 1e-10\n        } else if (price > 1e10) {\n          // 如果价格极大，设置为一个很大的合理值\n          processedPrice = 1e10\n        }\n\n        return {\n          ...entry,\n          price0: processedPrice,\n          activeLiquidity: activeLiquidity > 0 ? activeLiquidity : 0\n        }\n      })\n      .filter((entry: any) => {\n        const activeLiquidity = xAccessor(entry)\n        const price = yAccessor(entry)\n\n        // 只过滤掉真正无效的数据\n        return activeLiquidity >= 0 && isFinite(price) && isFinite(activeLiquidity)\n      })\n\n    return processedData.sort((a: any, b: any) => yAccessor(a) - yAccessor(b)) // 按价格排序\n  }, [series, min, max])\n\n  // Calculate scales using D3.js scaleLinear\n  const scales = useMemo(() => {\n    // if (chartData.length === 0) return null\n\n    const maxLiquidity = Math.max(...chartData.map(xAccessor))\n    const priceRange = (max || 1) - (min || 0)\n\n    // Create D3.js scales - y轴是价格，x轴是流动性深度，从右向左画\n    const xScale = scaleLinear()\n      .domain([0, maxLiquidity]) // x轴是流动性深度\n      .range([contentWidth, 0]) // 从右向左画\n\n    const yScale = scaleLinear()\n      .domain([min || 0, max || 1]) // y轴是价格范围\n      .range([height, 0])\n\n    return { xScale, yScale, maxLiquidity, priceRange }\n  }, [chartData, min, max, height, contentWidth])\n\n  // 移除 brushDomain 的 useEffect，让 Brush 组件完全自主管理状态\n  // 避免状态循环更新导致回弹问题\n  // useEffect(() => {\n  //   if (brushDomain && !isDragging) {\n  //     setBrushExtent(brushDomain)\n  //   }\n  // }, [brushDomain, isDragging])\n\n  // 添加这个 useEffect 来监听 brushDomain 变化，更新 brush 滑杆位置\n  useEffect(() => {\n    if (brushDomain && !isDragging) {\n      setBrushExtent(brushDomain)\n    }\n  }, [brushDomain, isDragging])\n\n  // Handle brush changes\n  const handleBrushChange = (extent: [number, number], mode?: string) => {\n    if (mode === 'drag') {\n      setIsDragging(true)\n    } else {\n      setIsDragging(false)\n    }\n    setBrushExtent(extent)\n    onBrushDomainChange(extent, mode)\n  }\n\n  return (\n    <div style={{ width, height, position: 'relative' }}>\n      {isFullRange && (\n        <div\n          style={{\n            width: `${width - 53}px`,\n            height: '100%',\n            background: 'rgba(59,130,246,0.15)',\n            position: 'absolute',\n            left: '0px',\n            top: '0px'\n          }}\n        ></div>\n      )}\n      <svg\n        ref={svgRef}\n        width={width}\n        height={height}\n        style={{\n          overflow: 'hidden',\n          // Safari兼容性：确保SVG正确渲染\n          display: 'block'\n        }}\n        // Safari兼容性：添加viewBox确保正确的坐标系统\n        viewBox={`0 0 ${width} ${height}`}\n      >\n        {/* Define clipping path to prevent elements from going outside chart area */}\n        {isBrushInstance && (\n          <defs>\n            <clipPath id={`${id}-chart-clip`}>\n              <rect x=\"0\" y=\"0\" width={isBrushInstance ? width - 53 : width} height={height} />\n            </clipPath>\n          </defs>\n        )}\n\n        {/* Background */}\n        <rect width={width} height={height} fill=\"transparent\" />\n\n        {/* Liquidity area - using area chart like RangeChart */}\n        <g clipPath={`url(#${id}-chart-clip)`}>\n          {!hideLiquidityBars && scales && chartData.length > 0 && (\n            <Area series={chartData} xScale={scales.xScale} yScale={scales.yScale} xValue={xAccessor} yValue={yAccessor} fill=\"#185880\" opacity={1} />\n          )}\n        </g>\n\n        {/* Chart content with clipping - only for bars */}\n        <g clipPath={`url(#${id}-chart-clip)`}>\n          {/* Brush domain indicators */}\n          {brushDomain && showDiffIndicators && (\n            <>\n              <HorizontalLine\n                value={brushDomain[0]}\n                yScale={scales.yScale}\n                width={width}\n                height={height}\n                axisLabelPaneWidth={axisLabelPaneWidth}\n                color=\"var(--chakra-colors-text_caption)\"\n                strokeWidth={2}\n                strokeDasharray=\"4,3\"\n              />\n              <HorizontalLine\n                value={brushDomain[1]}\n                yScale={scales.yScale}\n                width={width}\n                height={height}\n                axisLabelPaneWidth={axisLabelPaneWidth}\n                color=\"var(--chakra-colors-text_caption)\"\n                strokeWidth={2}\n                strokeDasharray=\"4,3\"\n              />\n            </>\n          )}\n        </g>\n\n        {/* Current price line - outside clipping to ensure it's always visible */}\n        {current && (\n          <g clipPath={`url(#${id}-chart-clip)`}>\n            <HorizontalLine\n              value={current}\n              yScale={scales.yScale}\n              width={width}\n              height={height}\n              axisLabelPaneWidth={axisLabelPaneWidth}\n              color=\"#ccc\"\n              strokeWidth={1}\n              strokeDasharray=\"4,3\"\n              showPriceLabel={false}\n              // showTriangle={showTriangle}\n            />\n          </g>\n        )}\n\n        {/* Dashed marker lines - outside clipping to ensure they're always visible */}\n        {/* {dashedMarkerLine && Array.isArray(dashedMarkerLine) && dashedMarkerLine.map((value, index) => (\n          <HorizontalLine\n            key={`dashed-marker-${index}`}\n            value={value}\n            yScale={scales.yScale}\n            width={width}\n            height={height}\n            axisLabelPaneWidth={axisLabelPaneWidth}\n            color=\"var(--chakra-colors-text_caption)\"\n            strokeWidth={1}\n            strokeDasharray=\"4,3\"\n            showPriceLabel={false}\n          />\n        ))} */}\n\n        {/* Brush component - with clipping */}\n        {!disableBrush && scales && (\n          <g clipPath={`url(#${id}-chart-clip)`}>\n            <Brush\n              id={id}\n              yScale={scales.yScale}\n              interactive={!disableBrushInteraction}\n              brushExtent={brushExtent}\n              setBrushExtent={handleBrushChange}\n              width={width}\n              height={height}\n              currentPrice={currentPrice}\n            />\n          </g>\n        )}\n\n        {/* Right axis */}\n        {!disableRightAxis && (\n          <AxisRight yScale={scales.yScale} width={width} height={height} axisLabelPaneWidth={axisLabelPaneWidth} min={min || 0} max={max || 1} />\n        )}\n      </svg>\n\n      {/* Tooltip */}\n      <TickTooltip data={chartData} current={current} quoteCurrency={quoteCurrency} baseCurrency={baseCurrency} isMobile={isMobile} />\n    </div>\n  )\n}\n","import useWindowWidth from '@cetus/hooks/src/useWindowWidth'\n\nconst RIGHT_AXIS_WIDTH = 64\nconst CHART_CONTAINER_WIDTH = 452 + RIGHT_AXIS_WIDTH\nconst LIQUIDITY_CHART_WIDTH = 68\nconst INTER_CHART_PADDING = 12\nconst CHART_HEIGHT = 200\nconst BOTTOM_AXIS_HEIGHT = 28\nconst loadedPriceChartWidth = CHART_CONTAINER_WIDTH - LIQUIDITY_CHART_WIDTH - INTER_CHART_PADDING - RIGHT_AXIS_WIDTH\n\nconst desktopSizes = {\n  rightAxisWidth: RIGHT_AXIS_WIDTH,\n  chartContainerWidth: CHART_CONTAINER_WIDTH,\n  liquidityChartWidth: LIQUIDITY_CHART_WIDTH,\n  interChartPadding: INTER_CHART_PADDING,\n  chartHeight: CHART_HEIGHT,\n  bottomAxisHeight: BOTTOM_AXIS_HEIGHT,\n  loadedPriceChartWidth,\n}\n\nconst mobileSizes = {\n  rightAxisWidth: 64,\n  chartContainerWidth: 290,\n  liquidityChartWidth: 48,\n  interChartPadding: 0,\n  chartHeight: CHART_HEIGHT,\n  bottomAxisHeight: BOTTOM_AXIS_HEIGHT,\n  loadedPriceChartWidth: 290,\n}\n\nexport function useRangeInputSizes(parentWidth?: number) {\n  const { isApp } = useWindowWidth()\n  \n  return isApp\n    ? {\n        ...desktopSizes,\n        chartContainerWidth: parentWidth ? parentWidth - 12 : mobileSizes.chartContainerWidth,\n        loadedPriceChartWidth: parentWidth ? parentWidth - 12 :  mobileSizes.loadedPriceChartWidth,\n      }\n    : desktopSizes\n}\n","import { useEffect, useState } from \"react\"\nimport { useFetch } from '@cetus/hooks'\nimport { PoolTickKlinePath } from \"@/apis/path\"\nimport { TickMath } from '@cetusprotocol/common-sdk'\nimport { d } from '@cetus/utils'\n\nexport default function usePriceChartData() {\n    const { fetchByApi } = useFetch()\n    const [poolPriceData, setPoolPriceData] = useState<any[]>([])\n    const [poolPriceDataLoading, setPoolPriceDataLoading] = useState(false)\n\n    const getPoolPriceData = async (pool: string, period: string, direct: boolean, baseCurrency: any, quoteCurrency: any) => {\n        try {\n            setPoolPriceDataLoading(true)\n            const res = await fetchByApi(`${PoolTickKlinePath}?pool=${pool}&period=${period}`, 'GET')\n            const showReverse = res?.showReverse\n            const list = res?.list\n            \n            const formatPriceData = list?.map((item: any) => {\n                const baseDecimals = baseCurrency?.decimals\n                const quoteDecimals = quoteCurrency?.decimals\n                const open = TickMath.tickIndexToPrice(item?.open, baseDecimals, quoteDecimals).toNumber()\n                const close = TickMath.tickIndexToPrice(item?.close, baseDecimals, quoteDecimals).toNumber()\n                const high = TickMath.tickIndexToPrice(item?.high, baseDecimals, quoteDecimals).toNumber()\n                const low = TickMath.tickIndexToPrice(item?.low, baseDecimals, quoteDecimals).toNumber()\n                return {\n                    close: direct ? close : d(1).div(close).toNumber(),\n                    open: direct ? open : d(1).div(open).toNumber(),\n                    high: direct ? high : d(1).div(high).toNumber(),\n                    low: direct ? low : d(1).div(low).toNumber(),\n                    timestamp: d(item?.timestamp).mul(1000).toNumber(),\n                }\n            })\n\n            setPoolPriceData(formatPriceData)\n        } catch (error) {\n            console.log(\"🚀 ~ getPoolPriceData ~ error:\", error)\n        }\n        setPoolPriceDataLoading(false)\n    }\n\n    // useEffect(() => {\n    //     const pool = '0x51e883ba7c0b566a26cbc8a94cd33eb0abd418a77cc1e60ad22fd9b1f29cd2ab'\n    //     const period = '1H'\n    //     getPoolPriceData(pool, period)\n    // }, [])\n\n    return { poolPriceData, getPoolPriceData, poolPriceDataLoading }\n}","import useLiquidityStore from '@/store/clmm'\nimport useDepthChartStore from '@/store/clmm/chart'\nimport useDepositStore from '@/store/clmm/deposit'\nimport { Block, SelectTab } from '@cetus/design'\nimport useWindowWidth from '@cetus/hooks/src/useWindowWidth'\nimport Icon from '@cetus/ui-kit/src/components/Icon'\nimport { d, formatPoolPirceChartTime, formatSmallPrice, removeComma } from '@cetus/utils'\nimport { Box, Center, Divider, HStack, Portal, Spinner, Text, VStack } from '@chakra-ui/react'\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'react'\nimport { Area, AreaChart, ResponsiveContainer, XAxis, YAxis } from 'recharts'\nimport NoLiquidityData from '../clmm/RangeChart/NoLiquidityData'\nimport { ActiveLiquidityChart } from './ActiveLiquidityChart'\nimport { useRangeInputSizes } from './constants'\nimport usePriceChartData from './usePriceChartData'\n\nconst DurationTabList = [\n  {\n    label: '1D',\n    key: '24H'\n  },\n  {\n    label: '7D',\n    key: '7D'\n  },\n  {\n    label: '30D',\n    key: '30D'\n  }\n  // {\n  //   label: '1Y',\n  //   key: '365D'\n  // }\n]\n\ninterface LiquidityRangeInputProps {\n  quoteCurrency: any\n  baseCurrency: any\n  poolId: string\n  currentPrice?: number\n  priceLower?: any\n  priceUpper?: any\n  disableBrushInteraction?: boolean\n  setMinPrice: (value?: number) => void\n  setMaxPrice: (value?: number) => void\n  isSorted: boolean\n  setFallbackRangePrices: () => void\n  isReverse: boolean\n  dashedMarkerLine?: any\n}\n\nconst MIN_DATA_POINTS = 0\n\n// Tooltip constants\nconst TOOLTIP_WIDTH = 180\nconst TOOLTIP_HEIGHT = 80\nconst TOOLTIP_TOLERANCE = 0.15 // 15% of chart height\nconst TOOLTIP_MARGIN = 12\n\nexport function LiquidityRangeInput({\n  quoteCurrency,\n  baseCurrency,\n  poolId,\n  currentPrice,\n  priceLower,\n  priceUpper,\n  setMinPrice,\n  setMaxPrice,\n  disableBrushInteraction = false,\n  isSorted,\n  setFallbackRangePrices,\n  isReverse,\n  dashedMarkerLine\n}: LiquidityRangeInputProps) {\n  const { isApp } = useWindowWidth()\n  const containerRef = useRef<HTMLDivElement>(null)\n  const sizes = useRangeInputSizes(containerRef.current?.clientWidth)\n  const { setCurrentRange } = useLiquidityStore()\n  const { recommendRangesInfo } = useDepositStore()\n  const [selectedHistoryDuration, setSelectedHistoryDuration] = useState<string>('30D')\n  const [zoomFactor, setZoomFactor] = useState(1)\n  const [boundaryPrices, setBoundaryPrices] = useState<[number, number]>()\n  const [midPrice, setMidPrice] = useState<number | undefined>(currentPrice)\n  const [showDiffIndicators, setShowDiffIndicators] = useState(false)\n\n  // 添加 Y 轴滚动的状态\n  const [yAxisOffset, setYAxisOffset] = useState(0)\n  const [yAxisZoom, setYAxisZoom] = useState(1)\n\n  // Tooltip state management\n  const [tooltipData, setTooltipData] = useState<{\n    x: number\n    y: number\n    data: {\n      timestamp: number\n      close: number\n      high?: number\n      low?: number\n    }\n  } | null>(null)\n  const chartRef = useRef<HTMLDivElement>(null)\n  \n  // Hover marker state\n  const [hoverMarker, setHoverMarker] = useState<{\n    x: number\n    y: number\n    price: number\n  } | null>(null)\n\n  const { poolPriceData, poolPriceDataLoading, getPoolPriceData } = usePriceChartData()\n\n  // Memoize mouse move handler\n  const handleMouseMove = useCallback((e: React.MouseEvent) => {\n    if (!chartRef.current || !poolPriceData?.length || !boundaryPrices) return\n\n    const rect = chartRef.current.getBoundingClientRect()\n    const x = e.clientX - rect.left\n    const y = e.clientY - rect.top\n    const chartWidth = rect.width\n    const chartHeight = rect.height\n\n    // Account for chart margins (consistent with AreaChart margin)\n    const marginLeft = 0\n    const marginRight = sizes.rightAxisWidth + sizes.liquidityChartWidth + 20\n    const effectiveChartWidth = chartWidth - marginLeft - marginRight\n    const effectiveX = x - marginLeft\n\n    // Check if X axis is within valid range\n    if (effectiveX < 0 || effectiveX > effectiveChartWidth) {\n      setTooltipData(null)\n      return\n    }\n\n    // Calculate data index corresponding to mouse position\n    const dataIndex = Math.round((effectiveX / effectiveChartWidth) * (poolPriceData.length - 1))\n\n    if (dataIndex >= 0 && dataIndex < poolPriceData.length) {\n      // Get price at current data point\n      const currentPrice = poolPriceData[dataIndex].close\n\n      // Calculate Y coordinate position of this price on the chart\n      const priceRange = boundaryPrices[1] - boundaryPrices[0]\n      const priceRatio = (currentPrice - boundaryPrices[0]) / priceRange\n      const priceY = chartHeight * (1 - priceRatio) // Y axis is inverted\n\n      // Check if mouse is near the price line (with tolerance)\n      const tolerance = chartHeight * TOOLTIP_TOLERANCE\n      const isNearPriceLine = Math.abs(y - priceY) < tolerance\n\n      if (isNearPriceLine) {\n        // Calculate Tooltip position, smart boundary detection\n        const screenWidth = window.innerWidth\n\n        const adjustedX = e.clientX + TOOLTIP_WIDTH > screenWidth ? e.clientX - TOOLTIP_WIDTH - TOOLTIP_MARGIN : e.clientX + TOOLTIP_MARGIN\n        const adjustedY = e.clientY - TOOLTIP_HEIGHT < 0 ? e.clientY + TOOLTIP_MARGIN : e.clientY - TOOLTIP_HEIGHT - TOOLTIP_MARGIN\n\n        setTooltipData({\n          x: adjustedX,\n          y: adjustedY,\n          data: poolPriceData[dataIndex]\n        })\n        \n        // Set hover marker position\n        setHoverMarker({\n          x: x,\n          y: priceY,\n          price: currentPrice\n        })\n      } else {\n        // Mouse is too far from price line, hide Tooltip and marker\n        setTooltipData(null)\n        setHoverMarker(null)\n      }\n    } else {\n      setTooltipData(null)\n      setHoverMarker(null)\n    }\n  }, [poolPriceData, boundaryPrices, sizes.rightAxisWidth, sizes.liquidityChartWidth])\n\n  useEffect(() => {\n    getPoolPriceData(poolId, selectedHistoryDuration, isSorted, baseCurrency, quoteCurrency)\n  }, [poolId, isSorted])\n\n  useEffect(() => {\n    const handleScroll = () => {\n      setTooltipData(null)\n      setHoverMarker(null)\n    }\n\n    window.addEventListener('scroll', handleScroll, true) \n    window.addEventListener('resize', handleScroll) \n\n    return () => {\n      window.removeEventListener('scroll', handleScroll, true)\n      window.removeEventListener('resize', handleScroll)\n    }\n  }, [])\n\n  const handleChangeDuration = useCallback(\n    (tab: any) => {\n      setSelectedHistoryDuration(tab.key)\n      getPoolPriceData(poolId, tab.key, isSorted, baseCurrency, quoteCurrency)\n    },\n    [getPoolPriceData, poolId, isSorted, baseCurrency, quoteCurrency]\n  )\n\n  const { formatPriceData, ticksPool, formatPriceDataIsLoading } = useDepthChartStore()\n\n  const isLoading = useMemo(() => {\n    if (formatPriceData && !formatPriceDataIsLoading && !poolPriceDataLoading) return false\n    return true\n  }, [formatPriceData, formatPriceDataIsLoading, poolPriceDataLoading])\n\n  const seriesData = useMemo(() => {\n    let result: any\n    if (isSorted) {\n      result = formatPriceData?.map((item: any) => {\n        return {\n          ...item,\n          price: Number(item?.price)\n        }\n      })\n    } else {\n      result = formatPriceData?.map((item: any) => {\n        return {\n          ...item,\n          price: d(1).div(item?.price)?.toNumber()\n        }\n      })\n    }\n    return result\n  }, [isSorted, formatPriceData])\n\n  const isNoLiquidityData = useMemo(() => {\n    if (!formatPriceDataIsLoading && !seriesData?.length) return true\n    return false\n  }, [seriesData?.length, formatPriceDataIsLoading])\n\n  const isNoPoolPriceData = useMemo(() => {\n    if (!poolPriceData?.length) return true\n    return false\n  }, [poolPriceData?.length])\n\n  const currentMinPrice = isSorted ? removeComma(priceLower?.displayPrice) : removeComma(priceLower?.displayReversePrice)\n  const currentMaxPrice = isSorted ? removeComma(priceUpper?.displayPrice) : removeComma(priceUpper?.displayReversePrice)\n  const isFullRange = currentMinPrice === '∞' || currentMaxPrice === '∞'\n\n  // 计算共用的价格范围，确保价格图表和流动性密度使用相同的Y轴\n  const commonPriceRange = useMemo(() => {\n    // if (!seriesData || seriesData.length === 0) {\n    //   return { min: 0, max: 1 }\n    // }\n\n    if (!poolPriceData || poolPriceData.length === 0) return { min: 0, max: 1 }\n\n    // if (currentMinPrice === '∞' || currentMaxPrice==='∞') return null\n\n    // 获取流动性数据的价格范围\n    const poolPriceChartMin = Math.min(...poolPriceData.map((d: any) => d.close))\n\n    const poolPriceChartMax = Math.max(...poolPriceData.map((d: any) => d.close))\n\n    // 获取价格图表的范围（基于当前价格）\n    const currentPriceValue = currentPrice || 1\n    const priceChartRange = 0.3 // 当前价格的 ±30%\n    const priceChartMin = currentPriceValue * (1 - priceChartRange)\n    const priceChartMax = currentPriceValue * (1 + priceChartRange)\n\n    // 合并两个范围，确保覆盖所有数据\n    // const combinedMin = Math.min(poolPriceChartMin, priceChartMin, d(currentMinPrice === '∞' ? priceChartMin : currentMinPrice).mul(0.95).toNumber())\n    // const combinedMax = Math.max(poolPriceChartMax, priceChartMax, d(currentMaxPrice === '∞' ? priceChartMax : currentMaxPrice).mul(1.05).toNumber())\n\n    const minMaxPriceGap = isFullRange ? 0 : d(currentMaxPrice).minus(currentMinPrice).div(4).toNumber()\n    const combinedMin = Math.min(poolPriceChartMin, d(currentMinPrice === '∞' ? priceChartMin : d(currentMinPrice).minus(minMaxPriceGap)).toNumber())\n    const combinedMax = Math.max(poolPriceChartMax, d(currentMaxPrice === '∞' ? priceChartMax : d(currentMaxPrice).plus(minMaxPriceGap)).toNumber())\n    // 添加一些边距\n    const margin = (combinedMax - combinedMin) * 0.1\n    const baseMin = Math.max(0, combinedMin - margin)\n    const baseMax = combinedMax + margin\n\n    // 应用 Y 轴缩放和偏移\n    const range = baseMax - baseMin\n    const zoomedRange = range / yAxisZoom\n    const center = (baseMin + baseMax) / 2 + yAxisOffset\n\n    const data = {\n      min: Math.max(0, center - zoomedRange / 2),\n      max: center + zoomedRange / 2\n    }\n\n    return data\n  }, [poolPriceData, currentPrice, yAxisOffset, yAxisZoom, currentMinPrice, currentMaxPrice, isFullRange])\n\n  // 设置边界价格为共用的价格范围\n  useEffect(() => {\n    if (commonPriceRange) {\n      setBoundaryPrices([commonPriceRange.min, commonPriceRange.max])\n    }\n  }, [commonPriceRange])\n\n  const showChartErrorView =\n    !poolPriceData ||\n    poolPriceData.length < MIN_DATA_POINTS ||\n    (!isLoading && !seriesData) ||\n    (!isLoading && seriesData && seriesData.length < MIN_DATA_POINTS)\n\n  useEffect(() => {\n    if (showChartErrorView && !disableBrushInteraction && priceLower === undefined && priceUpper === undefined) {\n      setFallbackRangePrices()\n    }\n  }, [showChartErrorView, disableBrushInteraction, priceLower, priceUpper, setFallbackRangePrices])\n\n  const handleBrushChange = (brushData: any) => {\n    if (brushData && brushData.startIndex !== undefined && brushData.endIndex !== undefined) {\n      const startPrice = poolPriceData[brushData.startIndex]?.value\n      const endPrice = poolPriceData[brushData.endIndex]?.value\n\n      if (startPrice && endPrice) {\n        const min = Math.min(startPrice, endPrice)\n        const max = Math.max(startPrice, endPrice)\n        setMinPrice(min)\n        setMaxPrice(max)\n      }\n    }\n  }\n\n  const handleZoomIn = () => {\n    setZoomFactor(prev => {\n      const newZoom = prev / 1.2\n      // 将zoomFactor应用到yAxisZoom\n      setYAxisZoom(newZoom)\n      return newZoom\n    })\n  }\n\n  const handleZoomOut = () => {\n    setZoomFactor(prev => {\n      const newZoom = prev * 1.2\n      // 将zoomFactor应用到yAxisZoom\n      setYAxisZoom(newZoom)\n      return newZoom\n    })\n  }\n\n  const handleReset = () => {\n    setSelectedHistoryDuration('7D')\n    setZoomFactor(1)\n    setBoundaryPrices(undefined)\n    setMinPrice(undefined)\n    setMaxPrice(undefined)\n    setMidPrice(currentPrice)\n    // 重置 Y 轴滚动状态\n    setYAxisOffset(0)\n    setYAxisZoom(1)\n    setCurrentRange(recommendRangesInfo?.type === 'unstable' ? 'active' : 'default')\n  }\n\n  // 处理鼠标滚轮事件，控制 Y 轴滚动和缩放 (实际嵌入项目中效果不太理想，暂时注释)\n  // const handleWheel = (event: React.WheelEvent) => {\n  //   event.preventDefault()\n\n  //   const delta = event.deltaY\n\n  //   // 判断滚轮方向\n  //   if (event.ctrlKey || event.metaKey) {\n  //     // Ctrl/Cmd + 滚轮 = 缩放\n  //     const zoomFactor = delta > 0 ? 0.95 : 1.05\n  //     const newZoom = Math.max(0.2, Math.min(5, yAxisZoom * zoomFactor))\n  //     setYAxisZoom(newZoom)\n  //   } else {\n  //     // 普通滚轮 = 平移\n  //     const scrollSpeed = 0.0005 // 调整滚动灵敏度，使其更平滑\n  //     const newOffset = yAxisOffset + delta * scrollSpeed\n\n  //     // 限制偏移范围，防止过度滚动\n  //     const maxOffset = 2 // 最大偏移量\n  //     const clampedOffset = Math.max(-maxOffset, Math.min(maxOffset, newOffset))\n  //     setYAxisOffset(clampedOffset)\n  //   }\n  // }\n\n  return (\n    <div\n      ref={containerRef}\n      style={{\n        display: 'flex',\n        flexDirection: 'column',\n        gap: '16px',\n        paddingTop: !isApp ? '0px' : '16px'\n        // overflow: 'hidden'\n      }}\n      onMouseEnter={() => setShowDiffIndicators(true)}\n      onMouseLeave={() => setShowDiffIndicators(false)}\n    >\n      <div className=\"relative\" style={{ height: sizes.chartHeight + sizes.bottomAxisHeight, width: '100%', position: 'relative' }}>\n        {/* <HStack\n          as=\"button\"\n          gap=\"2px\"\n          pos=\"absolute\"\n          top={{ base: '-288px', lg: '-74px' }}\n          left={{ base: '100px', lg: '-8px' }}\n          _hover={{ p: { color: 'text_caption' }, svg: { fill: 'text_caption' } }}\n          cursor=\"pointer\"\n          onClick={handleReset}\n        >\n          <Icon xlinkHref=\"#icon-reset\" fontSize=\"14px\" />\n          <Text fontSize=\"12px\">Reset</Text>\n        </HStack> */}\n        {/* Main Price Chart - Full width but with right margin for liquidity chart */}\n        {!isNoPoolPriceData && (\n          <HStack\n            w=\"100%\"\n            justify={'flex-end'}\n            position=\"absolute\"\n            gap={{ base: '4px', lg: '8px' }}\n            {...(isApp ? { top: '-36px', right: 0 } : { bottom: '-36px', right: 'calc(50% - 90px)' })}\n          >\n            <SelectTab<any, any>\n              type=\"outlineTab\"\n              tabList={DurationTabList}\n              currentTab={selectedHistoryDuration}\n              handleChangeTab={handleChangeDuration}\n              wrapStyle={{\n                h: '28px',\n                p: '3px',\n                border: '1px solid',\n                borderColor: 'border',\n                borderRadius: '8px',\n                gap: '4px',\n                zIndex: '99'\n              }}\n              itemStyle={{\n                h: '20px',\n                p: '4px 12px',\n                fontSize: '12px',\n                borderRadius: '4px',\n                gap: '4px'\n              }}\n            />\n            <HStack\n              gap=\"0\"\n              h=\"28px\"\n              borderRadius=\"8px\"\n              border=\"1px solid\"\n              borderColor=\"border\"\n              bg=\"bg_nine\"\n              flexDir={{ base: 'row-reverse', lg: 'row' }}\n            >\n              <Center w=\"28px\" h=\"26px\">\n                <Icon xlinkHref=\"#icon-a-icon_zoomout\" onClick={handleZoomOut} />\n              </Center>\n              <Divider orientation=\"vertical\" h=\"16px\" />\n              <Center w=\"28px\" h=\"26px\">\n                <Icon xlinkHref=\"#icon-a-icon_zoomin\" onClick={handleZoomIn} />\n              </Center>\n            </HStack>\n          </HStack>\n        )}\n\n        {!poolPriceDataLoading && !isNoPoolPriceData && (\n          <Box\n            w=\"100%\"\n            h={sizes.chartHeight + sizes.bottomAxisHeight}\n            overflow=\"hidden\"\n            // onWheel={handleWheel}\n          >\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\n              <AreaChart data={poolPriceData} margin={{ top: 0, left: 0, right: sizes.rightAxisWidth + sizes.liquidityChartWidth + 20, bottom: 0 }}>\n                <XAxis\n                  dataKey=\"timestamp\"\n                  fontSize=\"12px\"\n                  axisLine={{\n                    stroke: '#2B3239',\n                    strokeWidth: 2\n                  }}\n                  tickLine={false}\n                  tick={{ fill: '#909CA4' }}\n                  minTickGap={25}\n                  tickFormatter={value => {\n                    const date = new Date(value)\n                    return formatPoolPirceChartTime(date, selectedHistoryDuration === '24H' ? 'timeOnly' : 'day')\n                  }}\n                />\n\n                <YAxis domain={boundaryPrices ? [boundaryPrices[0], boundaryPrices[1]] : undefined} hide={true} allowDataOverflow={true} />\n\n                {/* <Tooltip\n                labelFormatter={(value) => new Date(value).toLocaleDateString()}\n                formatter={(value: any) => [formatNumber(value, 4), 'Price']}\n              /> */}\n                <Area\n                  type=\"monotone\"\n                  dataKey=\"close\"\n                  stroke=\"#75C8FF\"\n                  strokeWidth={2}\n                  fill=\"url(#priceAreaGradient)\"\n                  fillOpacity={0.3}\n                  dot={false}\n                  isAnimationActive={false}\n                />\n                <defs>\n                  <linearGradient id=\"priceAreaGradient\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                    <stop offset=\"0%\" stopColor=\"#75C8FF\" stopOpacity={0.6} />\n                    <stop offset=\"100%\" stopColor=\"#68FFD8\" stopOpacity={0} />\n                  </linearGradient>\n                </defs>\n              </AreaChart>\n            </ResponsiveContainer>\n          </Box>\n        )}\n\n        {/* Active Liquidity Chart Overlay - Positioned absolutely on the right */}\n        {!poolPriceDataLoading && !isNoPoolPriceData && boundaryPrices && (\n          <div\n            style={{\n              position: 'absolute',\n              right: 0,\n              top: 0,\n              width: sizes.liquidityChartWidth + sizes.rightAxisWidth,\n              height: sizes.chartHeight + sizes.bottomAxisHeight,\n              pointerEvents: 'auto',\n              zIndex: 2\n            }}\n            // onWheel={handleWheel}\n          >\n            {/* Active Liquidity Chart */}\n\n            <ActiveLiquidityChart\n              data={{\n                series: seriesData,\n                current: currentPrice ?? poolPriceData[poolPriceData.length - 1]?.close,\n                min: boundaryPrices[0],\n                max: boundaryPrices[1]\n              }}\n              disableBrush={true}\n              disableRightAxis={false}\n              disableBrushInteraction={true}\n              showDiffIndicators={false}\n              showTriangle={false}\n              dimensions={{\n                width: sizes.liquidityChartWidth + sizes.rightAxisWidth,\n                height: sizes.chartHeight,\n                contentWidth: sizes.liquidityChartWidth,\n                axisLabelPaneWidth: sizes.rightAxisWidth\n              }}\n              onBrushDomainChange={() => {\n                // 第一个实例不处理 brush 变化，避免状态冲突\n                return\n              }}\n              quoteCurrency={quoteCurrency}\n              baseCurrency={baseCurrency}\n              isMobile={isApp}\n            />\n\n            {/* Debug info - 已隐藏，因为盖住了图表 */}\n            {/* <div\n            style={{\n              position: 'absolute',\n              top: 10,\n              right: sizes.rightAxisWidth + 10,\n              backgroundColor: 'rgba(0,0,0,0.7)',\n              color: 'white',\n              padding: '8px',\n              fontSize: '12px',\n              borderRadius: '4px',\n              zIndex: 10,\n            }}\n          >\n            <div>Data: {sortedFormattedData?.length || 0}</div>\n            <div>Boundary: {boundaryPrices ? `${boundaryPrices[0].toFixed(4)} - ${boundaryPrices[1].toFixed(4)}` : 'Not set'}</div>\n            <div>Loading: {liquidityDataLoading ? 'Yes' : 'No'}</div>\n          </div> */}\n          </div>\n        )}\n\n        {/* Hover Marker - Shows position on price line */}\n        {hoverMarker && (\n          <div\n            style={{\n              position: 'absolute',\n              left: `${hoverMarker.x}px`,\n              top: `${hoverMarker.y}px`,\n              width: '8px',\n              height: '8px',\n              backgroundColor: '#75C8FF',\n              border: '2px solid white',\n              borderRadius: '50%',\n              transform: 'translate(-50%, -50%)',\n              zIndex: 4,\n              pointerEvents: 'none',\n              boxShadow: '0 2px 8px rgba(0, 0, 0, 0.3)'\n            }}\n          />\n        )}\n\n        {/* Vertical line indicator */}\n        {hoverMarker && (\n          <div\n            style={{\n              position: 'absolute',\n              left: `${hoverMarker.x}px`,\n              top: '0px',\n              width: '1px',\n              height: `${sizes.chartHeight}px`,\n              opacity: 0.5,\n              zIndex: 3,\n              pointerEvents: 'none',\n              borderLeft: '1px dashed #75C8FF',\n              backgroundColor: 'transparent'\n            }}\n          />\n        )}\n\n        {/* Global Brush Overlay - Covers the entire chart area */}\n        {!poolPriceDataLoading && !isNoPoolPriceData && boundaryPrices && (\n          <div\n            ref={chartRef}\n            style={{\n              position: 'absolute',\n              left: 0,\n              top: 0,\n              width: '100%',\n              height: sizes.chartHeight,\n              pointerEvents: 'auto',\n              zIndex: 3,\n              overflow: 'hidden'\n              // background: 'pink'\n            }}\n            onMouseMove={handleMouseMove}\n            onMouseLeave={() => {\n              setTooltipData(null)\n              setHoverMarker(null)\n            }}\n            // onWheel={handleWheel}\n          >\n            <ActiveLiquidityChart\n              data={{\n                series: seriesData,\n                current: currentPrice ?? poolPriceData[poolPriceData.length - 1]?.close,\n                min: boundaryPrices[0],\n                max: boundaryPrices[1]\n              }}\n              disableRightAxis={true}\n              disableBrushInteraction={disableBrushInteraction}\n              showDiffIndicators={false}\n              hideLiquidityBars={true}\n              dimensions={{\n                width: sizes.chartContainerWidth,\n                height: sizes.chartHeight,\n                contentWidth: sizes.chartContainerWidth,\n                axisLabelPaneWidth: 0\n              }}\n              brushDomain={[Number(currentMinPrice), Number(currentMaxPrice)]}\n              onBrushDomainChange={(domain: [number, number], mode?: string) => {\n                // 只有全局 brush 实例处理状态更新\n                if (domain[0] < 0) {\n                  return\n                }\n                // Filter out auto range suggestions while scrolling\n                const rejectAutoRangeSuggestion =\n                  priceUpper !== undefined && priceLower !== undefined && priceLower.displayPrice >= 0 && priceUpper.displayPrice >= 0\n                if (!mode && rejectAutoRangeSuggestion) {\n                  return\n                }\n                setMinPrice(domain[0])\n                setMaxPrice(domain[1])\n              }}\n              quoteCurrency={quoteCurrency}\n              baseCurrency={baseCurrency}\n              isMobile={isApp}\n              dashedMarkerLine={dashedMarkerLine}\n              currentPrice={currentPrice}\n              showTriangle={true}\n              disableBrush={isFullRange}\n              isFullRange={isFullRange}\n              isBrushInstance={true}\n            />\n          </div>\n        )}\n\n        {/* {(isNoLiquidityData || isNoPoolPriceData) && <Box w=\"100%\" h={sizes.chartHeight + 14 + 'px'} position=\"absolute\" top=\"-1\" left=\"0\" zIndex={99999999}><NoLiquidityData isFrom=\"liquidity\" text={isNoPoolPriceData ? 'Historical price data unavailable.' : 'There is no liquidity data.'}/></Box>} */}\n        {!poolPriceDataLoading && isNoPoolPriceData && (\n          <Box w=\"100%\" h={sizes.chartHeight + 20 + 'px'} position=\"absolute\" top=\"0px\" left=\"0\" zIndex={99999999}>\n            <NoLiquidityData isFrom=\"liquidity\" text={isNoPoolPriceData ? 'Historical price data unavailable.' : 'There is no liquidity data.'} />\n          </Box>\n        )}\n\n        {isLoading && (\n          <Center w=\"100%\" h={sizes.chartHeight + sizes.bottomAxisHeight} position=\"absolute\" top=\"0\" left=\"0\" zIndex={99999999}>\n            <Spinner />\n          </Center>\n        )}\n      </div>\n\n      {/* Portal Tooltip - Not restricted by z-index layers */}\n      {tooltipData && (\n        <Portal>\n          <Block\n            position=\"fixed\"\n            left={`${tooltipData.x}px`}\n            top={`${tooltipData.y}px`}\n            zIndex={99999999}\n            fontSize=\"12px\"\n            p=\"8px 12px\"\n            borderRadius=\"12px\"\n            pointerEvents=\"none\"\n            transition=\"all 0.1s ease\"\n            w=\"auto\"\n          >\n            <VStack align=\"flex-start\" spacing=\"4px\">\n              <Text color=\"text_secondary\" fontSize=\"12px\">\n                {formatPoolPirceChartTime(new Date(tooltipData.data.timestamp), selectedHistoryDuration === '24H' ? 'second' : 'hour')}\n              </Text>\n              <Text color=\"text_secondary\" fontWeight=\"500\" fontSize=\"12px\">\n                Price: {formatSmallPrice(tooltipData.data.close)}\n              </Text>\n            </VStack>\n          </Block>\n        </Portal>\n      )}\n    </div>\n  )\n}\n","export enum FeeAmount {\n  LOWEST = '100',\n  LOW = '500',\n  MEDIUM = '2500',\n  HIGH = '10000'\n}\n\nexport enum Bound {\n  LOWER = 'LOWER',\n  UPPER = 'UPPER'\n}\n\nexport interface ChartEntry {\n  depth: number\n  price: number\n}\n\ninterface Dimensions {\n  width: number\n  height: number\n}\n\ninterface Margins {\n  top: number\n  right: number\n  bottom: number\n  left: number\n}\n\nexport interface ZoomLevels {\n  initialMin: number\n  initialMax: number\n  min: number\n  max: number\n}\n\nexport interface LiquidityChartRangeInputProps {\n  // to distringuish between multiple charts in the DOM\n  id?: string\n\n  data: {\n    series: ChartEntry[]\n    current: number\n  }\n  ticksAtLimit: { [bound in Bound]?: boolean | undefined }\n\n  styles: {\n    area: {\n      // color of the ticks in range\n      selection: string\n    }\n\n    brush: {\n      handle: {\n        west: string\n        east: string\n      }\n    }\n  }\n\n  dimensions: Dimensions\n  margins: Margins\n\n  interactive?: boolean\n\n  brushLabels: (d: 'w' | 'e', x: number) => string\n  brushDomain: [number, number] | undefined\n  onBrushDomainChange: (domain: [number, number], mode: string | undefined) => void\n\n  zoomLevels: ZoomLevels\n  readonly?: boolean\n  showZoomButtons?: boolean\n  isPosition?: boolean\n  hideBrush?: boolean\n  isReverse?: boolean\n  isSorted?: boolean\n  dashedMarkerLine?: any\n  currentRange?: any\n  constantPrice?: any\n  isApp?: boolean\n  handleClickRefresh: () => void\n}\n\nexport const ZOOM_LEVELS: Record<FeeAmount, ZoomLevels> = {\n  [FeeAmount.LOWEST]: {\n    // initialMin: 0.999,\n    // initialMax: 1.001,\n    // min: 0.00001,\n    // max: 1.5\n    initialMin: 0.99,\n    initialMax: 1.01,\n    min: 0.00001,\n    max: 1.5\n  },\n  [FeeAmount.LOW]: {\n    // initialMin: 0.999,\n    // initialMax: 1.001,\n    // min: 0.00001,\n    // max: 1.5\n    initialMin: 0.8,\n    initialMax: 1.25,\n    min: 0.00001,\n    max: 1.5\n  },\n  [FeeAmount.MEDIUM]: {\n    initialMin: 0.5,\n    initialMax: 1.5,\n    min: 0.00001,\n    max: 20\n  },\n  [FeeAmount.HIGH]: {\n    initialMin: 0.5,\n    initialMax: 1.5,\n    min: 0.00001,\n    max: 20\n  }\n}\n\nexport const Chart_QUICK_ACTION_CONFIGS: Record<FeeAmount, { [percentage: number]: ZoomLevels }> = {\n  [FeeAmount.LOWEST]: {\n    0.1: {\n      initialMin: 0.999,\n      initialMax: 1.001,\n      min: 0.00001,\n      max: 1.5\n    },\n    0.5: {\n      initialMin: 0.995,\n      initialMax: 1.005,\n      min: 0.00001,\n      max: 1.5\n    },\n    1: {\n      initialMin: 0.99,\n      initialMax: 1.01,\n      min: 0.00001,\n      max: 1.5\n    }\n  },\n  [FeeAmount.LOW]: {\n    5: {\n      initialMin: 0.95,\n      initialMax: 1.054,\n      min: 0.00001,\n      max: 1.5\n    },\n    10: {\n      initialMin: 0.9,\n      initialMax: 1.11,\n      min: 0.00001,\n      max: 1.5\n    },\n    20: {\n      initialMin: 0.8,\n      initialMax: 1.25,\n      min: 0.00001,\n      max: 1.5\n    }\n  },\n  [FeeAmount.MEDIUM]: {\n    10: {\n      initialMin: 0.9,\n      initialMax: 1.11,\n      min: 0.00001,\n      max: 20\n    },\n    20: {\n      initialMin: 0.8,\n      initialMax: 1.25,\n      min: 0.00001,\n      max: 20\n    },\n    50: ZOOM_LEVELS[FeeAmount.MEDIUM]\n  },\n  [FeeAmount.HIGH]: {\n    10: {\n      initialMin: 0.9,\n      initialMax: 1.1,\n      min: 0.00001,\n      max: 1.5\n    },\n    20: {\n      initialMin: 0.8,\n      initialMax: 1.25,\n      min: 0.00001,\n      max: 20\n    },\n    50: ZOOM_LEVELS[FeeAmount.HIGH]\n  }\n}\n","import { d } from '@cetus/utils'\nimport { area, curveStepAfter, ScaleLinear, scaleLinear } from 'd3'\nimport { useMemo } from 'react'\nimport styled from 'styled-components'\nimport { ChartEntry } from './types'\n\nconst Path = styled.path<{ fill: string | undefined; opacity: number | undefined }>`\n  opacity: ${({ opacity }) => opacity || 1}};\n  stroke: ${({ fill, theme }) => fill ?? theme.colors.failure};\n  fill: ${({ fill, theme }) => fill ?? theme.colors.failure};\n`\n\nexport const Area = ({\n  series,\n  xScale,\n  yScale,\n  xValue,\n  yValue,\n  fill,\n  opacity\n}: {\n  series: ChartEntry[]\n  xScale: ScaleLinear<number, number>\n  yScale: ScaleLinear<number, number>\n  xValue: (d: ChartEntry) => number\n  yValue: (d: ChartEntry) => number\n  fill?: string\n  opacity?: number\n}) => {\n  const pathD = useMemo(() => {\n    const currentXDomain = xScale.domain()\n    const currentYDomain = yScale.domain()\n    // console.log('🚀 ~ pathD ~ currentXDomain:', currentXDomain)\n    // console.log('🚀 ~ pathD ~ currentYDomain:', currentYDomain)\n    const isEqual = Number(series?.[0]?.price || 0) === Number(series?.[1]?.price || 0)\n    const isDesc = Number(series?.[!isEqual ? 0 : 1]?.price || 0) > Number(series?.[!isEqual ? 1 : 2]?.price || 0)\n    // console.log('🚀 ~ pathD ~ isDesc:', isDesc)\n    // console.log('🚀 ~ pathD ~ series:', series)\n\n    const newData = [...series]\n    if (newData?.length > 1) {\n      newData[series.length - 1] = {\n        ...newData[series.length - 1],\n        depth: newData[series.length - 2].depth\n      }\n    }\n\n    const dgtPrice = d(currentXDomain[1]).add(d(currentXDomain[1]).sub(currentXDomain[0]).div(100)).toNumber()\n    // console.log('🚀 ~ pathD ~ dgtPrice:', dgtPrice)\n    const gtCurrentIndex = newData.findIndex(({ price }: any) => (isDesc ? Number(price) <= dgtPrice : Number(price) >= dgtPrice))\n    const gap = d(currentXDomain[1]).sub(currentXDomain[0]).div(100)\n\n    if (isDesc) {\n      if (gtCurrentIndex >= 0 && newData[gtCurrentIndex - 1]?.depth) {\n        newData.splice(gtCurrentIndex, 0, {\n          ...newData[gtCurrentIndex - 1],\n          price: d(currentXDomain[1]).add(gap).toNumber()\n        })\n      }\n    } else {\n      if (gtCurrentIndex >= 0 && newData[gtCurrentIndex]?.depth) {\n        newData.splice(gtCurrentIndex, 0, {\n          ...newData[gtCurrentIndex],\n          price: dgtPrice\n        })\n      }\n    }\n\n    const dltPrice = d(currentXDomain[0]).add(d(currentXDomain[1]).sub(currentXDomain[0]).div(100)).toNumber()\n    // console.log('🚀 ~ pathD ~ dltPrice:', dltPrice)\n    const ltCurrentIndex = newData.findIndex(({ price }: any) => (isDesc ? Number(price) <= dltPrice : Number(price) >= dltPrice))\n    // console.log('🚀 ~ pathD ~ gtCurrentIndex:', gtCurrentIndex)\n    // console.log('🚀 ~ pathD ~ ltCurrentIndex:', ltCurrentIndex)\n\n    if (isDesc) {\n      if (ltCurrentIndex >= 0 && newData[ltCurrentIndex]?.depth) {\n        newData.splice(ltCurrentIndex, 0, {\n          ...newData[ltCurrentIndex],\n          price: dltPrice > 0 ? dltPrice : 0\n        })\n      }\n    } else {\n      if (ltCurrentIndex - 1 >= 0 && newData[ltCurrentIndex - 1]?.depth) {\n        newData.splice(ltCurrentIndex, 0, {\n          ...newData[ltCurrentIndex - 1],\n          price: dltPrice > 0 ? dltPrice : 0\n        })\n      }\n\n      if (ltCurrentIndex === gtCurrentIndex) {\n        newData.splice(ltCurrentIndex + 1, 0, {\n          ...newData[ltCurrentIndex + 1],\n          price: dltPrice > 0 ? d(dltPrice).add(d(dltPrice).div(1000000)).toNumber() : 0\n        })\n      }\n    }\n\n    // console.log('🚀 ~ pathD ~ newData:', newData)\n\n    // console.log('🚀 ~ pathD ~ isNaN(currentYDomain[1]):', isNaN(currentYDomain[1]))\n\n    const newYScale = isNaN(currentYDomain[1])\n      ? scaleLinear()\n          // .domain([0, max(series, yAccessor)] as number[])\n          .domain([0, Math.max(...newData.map(item => item.depth))] as number[])\n          .range([200, 0])\n      : yScale\n    // const newYScale = scaleLinear()\n    //   .domain([0, maxDepth] as number[])\n    //   .range([200, 0])\n    return (\n      area()\n        .curve(curveStepAfter)\n        .x((d: unknown) => xScale(xValue(d as ChartEntry)))\n        .y1((d: unknown) => newYScale(yValue(d as ChartEntry)))\n        .y0(newYScale(0))(\n        newData.filter(d => {\n          const value = xScale(xValue(d))\n          // console.log('🚀 ~ pathD ~ value:', value)\n          const valueY = newYScale(yValue(d))\n          // console.log('🚀 ~ pathD ~ valueY:', valueY)\n\n          return value >= 0 && value <= window.innerWidth\n        }) as Iterable<[number, number]>\n      ) ?? undefined\n    )\n  }, [fill, series, xScale, xValue, yScale, yValue])\n\n  return useMemo(() => <Path fill={fill} d={pathD} opacity={opacity} />, [pathD])\n}\n","import { useColorMode } from '@chakra-ui/react'\nimport { axisBottom, Axis as d3Axis, NumberValue, ScaleLinear, select } from 'd3'\nimport { useMemo } from 'react'\nimport styled from 'styled-components'\n\nconst StyledGroup = styled.g`\n  line {\n    display: none;\n  }\n  text {\n    transform: translateY(5px);\n    font-family: 'Inter';\n    font-size: 12px;\n  }\n`\n\nconst Axis = ({ axisGenerator, isPosition }: { axisGenerator: d3Axis<NumberValue>; isPosition: boolean }) => {\n  const { colorMode } = useColorMode()\n  const axisRef = (axis: SVGGElement) => {\n    // if (isPosition) {\n    //   axis &&\n    //     select(axis)\n    //       .call(axisGenerator)\n    //       .call(g => g.selectAll('.tick').remove())\n    //       .call(g => g.select('.domain').attr('d', 'M0 0 L658 0 Z').attr('stroke', 'var(--chakra-colors-border)'))\n    // } else {\n    if (isPosition) {\n      axis &&\n        select(axis)\n          .call(axisGenerator)\n          // .call(g => g.selectAll('.domain').remove())\n          .call(g => g.selectAll('.tick').remove())\n          .call(g => g.select('.domain').attr('d', 'M0 0 L658 0 Z').attr('stroke', '#2A3238'))\n    } else {\n      axis &&\n        select(axis)\n          .call(axisGenerator)\n          // .call(g => g.selectAll('.domain').remove())\n          // .call(g => g.selectAll('.tick').remove())\n          .call(g => g.select('.domain').attr('d', 'M0 0 L658 0 Z').attr('stroke', '#2A3238'))\n    }\n  }\n\n  return (\n    <g\n      ref={axisRef}\n      style={{\n        color: colorMode == 'light' ? '#000' : '#909CA4',\n        opacity: colorMode == 'light' ? '0.5' : '1'\n      }}\n    />\n  )\n}\n\nexport const AxisBottom = ({\n  xScale,\n  innerHeight,\n  offset = 0,\n  isPosition = false\n}: {\n  xScale: ScaleLinear<number, number>\n  innerHeight: number\n  offset?: number\n  isPosition?: boolean\n}) =>\n  useMemo(\n    () => (\n      <StyledGroup transform={`translate(0, ${innerHeight + offset})`}>\n        <Axis axisGenerator={axisBottom(xScale).ticks(5).tickSize(0)} isPosition={isPosition} />\n      </StyledGroup>\n    ),\n    [innerHeight, offset, xScale, isPosition]\n  )\n","/*\n * Generates an SVG path for the east brush handle.\n * Apply `scale(-1, 1)` to generate west brush handle.\n *\n *    |```````\\\n *    |  | |  |\n *    |______/\n *    |\n *    |\n *    |\n *    |\n *    |\n *\n * https://medium.com/@dennismphil/one-side-rounded-rectangle-using-svg-fb31cf318d90\n */\nexport const brushHandlePath = (height: number) =>\n  [\n    // handle\n    `M 0 0`, // move to origin\n    `v ${height}`, // vertical line\n    'm 1 0', // move 1px to the right\n    `V 0`, // second vertical line\n    `M 0 1`, // move to origin\n\n    // head\n    'h 10', // horizontal line\n    'q 2 0, 2 2', // rounded corner\n    'v 22', // vertical line\n    'q 0 2 -2 2', // rounded corner\n    'h -10', // horizontal line\n    `z` // close path\n  ].join(' ')\n\nexport const brushHandleAccentPath = () =>\n  [\n    'm 4 8', // move to first accent\n    'v 12', // vertical line\n    'M 0 0', // move to origin\n    'm 8 8', // move to second accent\n    'v 12', // vertical line\n    'z'\n  ].join(' ')\n\nexport const OffScreenHandle = ({ color, size = 10, margin = 10 }: { color: string; size?: number; margin?: number }) => (\n  <polygon\n    points={`0 0, ${size} ${size}, 0 ${size}`}\n    transform={` translate(${size + margin}, ${margin}) rotate(45) `}\n    fill={color}\n    stroke={color}\n    strokeWidth=\"4\"\n    strokeLinejoin=\"round\"\n  />\n)\n","import { usePreviousValue } from '@cetus/hooks'\nimport useWindowWidth from '@cetus/hooks/src/useWindowWidth'\nimport { BrushBehavior, brushX, D3BrushEvent, ScaleLinear, select } from 'd3'\nimport { useEffect, useMemo, useRef, useState } from 'react'\nimport styled from 'styled-components'\nimport { brushHandleAccentPath, brushHandlePath, OffScreenHandle } from './svg'\n\nconst theme = {\n  colors: {\n    background: 'var(--chakra-colors-card_bg)',\n    // secondary: 'var(--chakra-colors-primary)'\n    secondary: '#30D4B7',\n    leftHandle: '#30D4B7',\n    rightHandle: '#6297EA'\n  }\n}\n\nconst Handle = styled.path<{ color: string }>`\n  cursor: ew-resize;\n  pointer-events: none;\n\n  stroke-width: 3;\n  stroke: ${({ color }) => color};\n  fill: ${({ color }) => color};\n`\n\nconst HandleAccent = styled.path`\n  cursor: ew-resize;\n  pointer-events: none;\n\n  stroke-width: 1.5;\n  stroke: #fff;\n  opacity: ${theme.colors.background};\n  fill: ${theme.colors.background};\n`\n\nconst LabelGroup = styled.g<{ visible: boolean }>`\n  opacity: ${({ visible }) => (visible ? '1' : '0')};\n  transition: opacity 300ms;\n`\n\nconst TooltipBackground = styled.rect`\n  fill: #192128;\n`\n\nconst TooltipLeftBackground = styled.rect`\n  fill: #0f0f0f;\n  stroke: #2a3238;\n  stroke-width: 1;\n`\n\nconst TooltipRightBackground = styled.rect`\n  fill: #0f0f0f;\n  stroke: #2a3238;\n  stroke-width: 1;\n`\n\nconst Tooltip = styled.text`\n  text-anchor: middle;\n  font-size: 13px;\n  fill: #fff;\n`\n\n// flips the handles draggers when close to the container edges\n// 当靠近容器边缘时翻转手柄拖动器\nconst FLIP_HANDLE_THRESHOLD_PX = 20\n\n// margin to prevent tick snapping from putting the brush off screen\n// 边距以防止蜱虫折断使画笔离开屏幕\nconst BRUSH_EXTENT_MARGIN_PX = 2\n\n/**\n * Returns true if every element in `a` maps to the\n * same pixel coordinate as elements in `b`\n */\n/**\n * 如果 `a` 中的每个元素都映射到\n * 与“b”中元素相同的像素坐标\n */\nconst compare = (a: [number, number], b: [number, number], xScale: ScaleLinear<number, number>): boolean => {\n  // normalize pixels to 1 decimals\n  const aNorm = a.map(x => xScale(x).toFixed(11))\n  const bNorm = b.map(x => xScale(x).toFixed(11))\n  return aNorm.every((v, i) => v === bNorm[i])\n}\n\n// Normalize extent to ensure [min, max] order\nconst normalizeExtent = (extent: [number, number]): [number, number] => (extent[0] < extent[1] ? extent : [extent[1], extent[0]])\n\nexport const Brush = ({\n  id,\n  xScale,\n  interactive,\n  brushLabelValue,\n  brushExtent,\n  setBrushExtent,\n  innerWidth,\n  innerHeight,\n  westHandleColor,\n  eastHandleColor,\n  readonly,\n  isSorted,\n  isFullRange\n}: {\n  id: string\n  xScale: ScaleLinear<number, number>\n  interactive: boolean\n  brushLabelValue: (d: 'w' | 'e', x: number) => string\n  brushExtent: [number, number]\n  setBrushExtent: (extent: [number, number], mode: string | undefined) => void\n  innerWidth: number\n  innerHeight: number\n  westHandleColor: string\n  eastHandleColor: string\n  readonly?: boolean\n  isSorted: boolean\n  isFullRange?: boolean\n}) => {\n  // const { theme } = useTheme()\n  const brushRef = useRef<SVGGElement | null>(null)\n  const brushBehavior = useRef<BrushBehavior<SVGGElement> | null>(null)\n\n  // only used to drag the handles on brush for performance\n  const [localBrushExtent, setLocalBrushExtent] = useState<[number, number] | null>(brushExtent)\n  const [showLabels, setShowLabels] = useState(false)\n  const [hovering, setHovering] = useState(false)\n\n  const previousBrushExtent = usePreviousValue(brushExtent)\n\n  // keep local and external brush extent in sync\n  // i.e. snap to ticks on brush end\n  const brushInProgressRef = useRef(false)\n\n  // keep local and external brush extent in sync\n  useEffect(() => {\n    if (brushInProgressRef.current) {\n      return\n    }\n    setLocalBrushExtent(brushExtent)\n  }, [brushExtent])\n\n  // initialize the brush\n  useEffect(() => {\n    if (!brushRef.current) {\n      return\n    }\n\n    const normalizedExtent = normalizeExtent(brushExtent)\n\n    brushBehavior.current = brushX<SVGGElement>()\n      .extent([\n        [Math.max(0 + BRUSH_EXTENT_MARGIN_PX, xScale(0)), 0],\n        [innerWidth - BRUSH_EXTENT_MARGIN_PX, innerHeight]\n      ])\n      .handleSize(30)\n      .filter(() => interactive)\n      .on('brush', (event: D3BrushEvent<unknown>) => {\n        const { selection } = event\n        brushInProgressRef.current = true\n\n        if (!selection) {\n          setLocalBrushExtent(null)\n          return\n        }\n\n        // Update only the local extent during dragging\n        const scaled = normalizeExtent((selection as [number, number]).map(xScale.invert) as [number, number])\n        setLocalBrushExtent(scaled)\n      })\n      .on('end', (event: D3BrushEvent<unknown>) => {\n        const { selection, mode } = event\n\n        if (!selection) {\n          setLocalBrushExtent(null)\n          brushInProgressRef.current = false\n          return\n        }\n\n        // 检查selection是否包含无效值\n        const selectionArray = selection as [number, number]\n        if (selectionArray?.includes(NaN) || selectionArray?.includes(Infinity) || selectionArray?.includes(-Infinity)) {\n          console.warn('Invalid selection values detected:', selection)\n          brushInProgressRef.current = false\n          return\n        }\n\n        // Finalize state update on end\n        const scaled = normalizeExtent((selection as [number, number]).map(xScale.invert) as [number, number])\n\n        // 更严格的比较：检查价格差异是否足够大才触发更新\n        const priceThreshold = localBrushExtent[0] > 0.0001 ? 0.0001 : localBrushExtent[0] * 0.01 // 价格差异阈值\n        const hasSignificantChange =\n          !localBrushExtent ||\n          Math.abs(scaled[0] - localBrushExtent[0]) > priceThreshold ||\n          Math.abs(scaled[1] - localBrushExtent[1]) > priceThreshold\n\n        if (hasSignificantChange) {\n          console.log('🚀 ~ RangeChart Brush ~ significant change detected:', { old: normalizedExtent, new: scaled })\n          setBrushExtent(scaled, mode)\n        } else {\n          console.log('🚀 ~ RangeChart Brush ~ no significant change, skipping update')\n        }\n\n        setLocalBrushExtent(scaled)\n        brushInProgressRef.current = false\n      })\n\n    brushBehavior.current(select(brushRef.current))\n\n    if (previousBrushExtent && compare(brushExtent, previousBrushExtent, xScale)) {\n      select(brushRef.current)\n        .transition()\n        .call(brushBehavior.current.move as any, brushExtent.map(xScale))\n    }\n\n    // brush linear gradient\n    select(brushRef.current).selectAll('.selection').attr('stroke', 'none').attr('fill', 'rgba(118, 200, 255, 0.4)')\n  }, [brushExtent, id, innerHeight, innerWidth, interactive, previousBrushExtent, xScale, setBrushExtent])\n\n  // respond to xScale changes only\n  useEffect(() => {\n    if (!brushRef.current || !brushBehavior.current) {\n      return\n    }\n\n    brushBehavior.current.move(select(brushRef.current) as any, normalizeExtent(brushExtent as [number, number]).map(xScale) as any)\n  }, [brushExtent, xScale])\n\n  // show labels when local brush changes\n  // 局部画笔更改时显示标签\n  useEffect(() => {\n    setShowLabels(true)\n    const timeout = setTimeout(() => setShowLabels(false), 1500)\n    return () => clearTimeout(timeout)\n  }, [localBrushExtent])\n\n  // variables to help render the SVGs\n  const normalizedBrushExtent = normalizeExtent(localBrushExtent ?? brushExtent)\n  const flipWestHandle = xScale(normalizedBrushExtent[0]) > FLIP_HANDLE_THRESHOLD_PX\n  const flipEastHandle = xScale(normalizedBrushExtent[1]) > innerWidth - FLIP_HANDLE_THRESHOLD_PX\n\n  const showWestArrow = xScale(normalizedBrushExtent[0]) < 0 || xScale(normalizedBrushExtent[1]) < 0\n  const showEastArrow = xScale(normalizedBrushExtent[0]) > innerWidth || xScale(normalizedBrushExtent[1]) > innerWidth\n\n  const westHandleInView = xScale(normalizedBrushExtent[0]) >= 0 && xScale(normalizedBrushExtent[0]) <= innerWidth\n  const eastHandleInView = xScale(normalizedBrushExtent[1]) >= 0 && xScale(normalizedBrushExtent[1]) <= innerWidth\n\n  const { isApp } = useWindowWidth()\n  return useMemo(\n    () => (\n      <>\n        <defs>\n          <linearGradient id={`${id}-gradient-selection`} x1=\"0%\" y1=\"100%\" x2=\"100%\" y2=\"100%\">\n            <stop stopColor={westHandleColor} />\n            <stop stopColor={eastHandleColor} offset=\"1\" />\n          </linearGradient>\n\n          {/* clips at exactly the svg area */}\n          <clipPath id={`${id}-brush-clip`}>\n            <rect x=\"0\" y=\"0\" width={innerWidth} height={innerHeight} />\n          </clipPath>\n        </defs>\n\n        {/* will host the d3 brush */}\n        <g ref={brushRef} clipPath={`url(#${id}-brush-clip)`} onMouseEnter={() => setHovering(true)} onMouseLeave={() => setHovering(false)} />\n\n        {/* custom brush handles */}\n        {normalizedBrushExtent && (\n          <>\n            {/* west handle */}\n            {!readonly && westHandleInView ? (\n              <g transform={`translate(${Math.max(0, xScale(normalizedBrushExtent[0]))}, 0), scale(${flipWestHandle ? '-1' : '1'}, 1)`}>\n                <g>\n                  {/* <Handle color={theme.colors.secondary} d={brushHandlePath(innerHeight)} /> */}\n                  {/* <Handle color={isSorted ? theme.colors.leftHandle : theme.colors.rightHandle} d={brushHandlePath(innerHeight)} /> */}\n                  <Handle color={theme.colors.leftHandle} d={brushHandlePath(innerHeight)} />\n                  <HandleAccent d={brushHandleAccentPath()} />\n                </g>\n\n                {/* {!isFullRange && ( */}\n                <LabelGroup\n                  transform={`translate(${isApp ? '10 35' : '50,0'}), scale(${flipWestHandle ? '1' : '-1'}, 1)`}\n                  visible={showLabels || hovering}\n                >\n                  <TooltipBackground y=\"0\" x=\"-30\" height=\"28\" width=\"60\" rx=\"8\" />\n                  {isSorted ? (\n                    <TooltipLeftBackground y=\"0\" x=\"-30\" height=\"28\" width=\"60\" rx=\"8\" />\n                  ) : (\n                    <TooltipRightBackground y=\"0\" x=\"-30\" height=\"28\" width=\"60\" rx=\"8\" />\n                  )}\n                  <Tooltip transform=\"scale(-1, 1)\" y=\"15\" dominantBaseline=\"middle\">\n                    {isFullRange ? '0' : brushLabelValue('w', normalizedBrushExtent[0])}\n                  </Tooltip>\n                </LabelGroup>\n                {/* )} */}\n              </g>\n            ) : null}\n\n            {/* east handle */}\n            {!readonly && eastHandleInView ? (\n              <g transform={`translate(${xScale(normalizedBrushExtent[1])}, 0), scale(${flipEastHandle ? '-1' : '1'}, 1)`}>\n                <g>\n                  {/* <Handle color={theme.colors.secondary} d={brushHandlePath(innerHeight)} /> */}\n                  {/* <Handle color={isSorted ? theme.colors.rightHandle : theme.colors.leftHandle} d={brushHandlePath(innerHeight)} /> */}\n                  <Handle color={theme.colors.rightHandle} d={brushHandlePath(innerHeight)} />\n                  <HandleAccent d={brushHandleAccentPath()} />\n                </g>\n\n                {/* {!isFullRange && ( */}\n                <LabelGroup\n                  transform={`translate(${isApp ? '10 35' : '50,0'}), scale(${flipEastHandle ? '-1' : '1'}, 1)`}\n                  visible={showLabels || hovering}\n                >\n                  <TooltipBackground y=\"0\" x=\"-30\" height=\"28\" width=\"60\" rx=\"8\" />\n                  {isSorted ? (\n                    <TooltipRightBackground y=\"0\" x=\"-30\" height=\"28\" width=\"60\" rx=\"8\" />\n                  ) : (\n                    <TooltipLeftBackground y=\"0\" x=\"-30\" height=\"28\" width=\"60\" rx=\"8\" />\n                  )}\n                  <Tooltip y=\"15\" dominantBaseline=\"middle\">\n                    {isFullRange ? '∞' : brushLabelValue('e', normalizedBrushExtent[1])}\n                  </Tooltip>\n                </LabelGroup>\n                {/* )} */}\n              </g>\n            ) : null}\n\n            {showWestArrow && <OffScreenHandle color={westHandleColor} />}\n\n            {showEastArrow && (\n              <g transform={`translate(${innerWidth}, 0) scale(-1, 1)`}>\n                <OffScreenHandle color={eastHandleColor} />\n              </g>\n            )}\n          </>\n        )}\n      </>\n    ),\n    [\n      brushLabelValue,\n      eastHandleColor,\n      eastHandleInView,\n      flipEastHandle,\n      flipWestHandle,\n      hovering,\n      id,\n      theme,\n      innerHeight,\n      innerWidth,\n      normalizedBrushExtent,\n      showEastArrow,\n      showLabels,\n      showWestArrow,\n      westHandleColor,\n      westHandleInView,\n      xScale,\n      isApp\n    ]\n  )\n}\n","import { ScaleLinear } from 'd3'\nimport { useMemo } from 'react'\nimport styled from 'styled-components'\n\nconst theme = {\n  colors: {\n    primary: 'var(--chakra-colors-primary)'\n  }\n}\n// const StyledLine = styled.line`\n//   opacity: 0.5;\n//   stroke-width: 2;\n//   stroke: ${theme.colors.primary};\n//   fill: none;\n//   stroke-dasharray: 4;\n// `\nconst StyledLine = styled.line`\n  opacity: 0.7;\n  stroke-width: 1;\n  stroke: var(--chakra-colors-text_caption);\n  fill: none;\n`\n\nexport const DashedLine = ({ value, xScale, innerHeight }: { value: number; xScale: ScaleLinear<number, number>; innerHeight: number }) =>\n  useMemo(() => <StyledLine x1={xScale(value)} y1=\"0\" x2={xScale(value)} y2={innerHeight} strokeDasharray=\"4,3\" />, [value, xScale, innerHeight])\n","import { ScaleLinear } from 'd3'\nimport { useMemo } from 'react'\nimport styled from 'styled-components'\n\nconst theme = {\n  colors: {\n    primary: 'var(--chakra-colors-primary)'\n  }\n}\n// const StyledLine = styled.line`\n//   opacity: 0.5;\n//   stroke-width: 2;\n//   stroke: ${theme.colors.primary};\n//   fill: none;\n//   stroke-dasharray: 4;\n// `\nconst StyledLine = styled.line`\n  opacity: 1;\n  stroke-width: 2;\n  stroke: #fff;\n  fill: none;\n`\n\nexport const Line = ({ value, xScale, innerHeight }: { value: number; xScale: ScaleLinear<number, number>; innerHeight: number }) =>\n  useMemo(() => {\n    return (\n      <g>\n        <circle cx={xScale(Number(value))} cy=\"4\" fill=\"#fff\" r=\"4\" />\n        {/* <StyledLine x1={xScale(value)} y1=\"0\" x2={xScale(value)} y2={innerHeight} /> */}\n        <line x1={xScale(Number(value))} y1=\"0\" x2={xScale(value)} y2={innerHeight} stroke=\"#fff\" strokeWidth={2} />\n      </g>\n    )\n  }, [value, xScale, innerHeight])\n","import ActionButton from '@/components/liquidity/common/ActionButton'\nimport useLiquidityStore from '@/store/clmm'\nimport useDepositStore from '@/store/clmm/deposit'\nimport { useDebounceFunction } from '@cetus/hooks'\nimport { Icon } from '@cetus/ui-kit'\nimport { Center, Divider, Flex, HStack } from '@chakra-ui/react'\nimport { ScaleLinear, ZoomBehavior, ZoomTransform, select, zoom, zoomIdentity } from 'd3'\nimport { useEffect, useMemo, useRef } from 'react'\nimport styled from 'styled-components'\nimport { ZoomLevels } from './types'\n\ntype ActionButtonProps = {\n  type: 'Add' | 'Sub'\n  onClick: (data?: any) => void\n}\n\nconst Wrapper = styled.div<{ count: number }>`\n  display: grid;\n  grid-template-columns: repeat(${({ count }) => count.toString()}, 1fr);\n  grid-gap: 6px;\n\n  position: absolute;\n  top: -18px;\n  right: 0;\n`\n\nexport const ZoomOverlay = styled.rect`\n  fill: transparent;\n  cursor: grab;\n\n  &:active {\n    cursor: grabbing;\n  }\n`\n\nexport default function Zoom({\n  svg,\n  xScale,\n  // zoom,\n  setZoom,\n  width,\n  height,\n  resetBrush,\n  showResetButton,\n  zoomLevels,\n  isPosition,\n  handleClickRefresh,\n  currentRange,\n  isApp\n}: {\n  svg: SVGElement | null\n  xScale: ScaleLinear<number, number>\n  // setZoom: (value: number) => void\n  // zoom: number\n  setZoom: (transform: ZoomTransform) => void\n  width: number\n  height: number\n  resetBrush: () => void\n  showResetButton: boolean\n  zoomLevels: ZoomLevels\n  isPosition?: boolean\n  currentRange?: any\n  handleClickRefresh: () => void\n  isApp?: boolean\n}) {\n  const zoomBehavior = useRef<ZoomBehavior<Element, unknown>>()\n  const { setCurrentRange } = useLiquidityStore()\n  const { recommendRangesInfo } = useDepositStore()\n  const [zoomIn, zoomOut, zoomInitial, zoomReset] = useMemo(\n    () => [\n      () => {\n        svg &&\n          zoomBehavior.current &&\n          select(svg as Element)\n            .transition()\n            .call(zoomBehavior.current.scaleBy, 2)\n      },\n      () =>\n        svg &&\n        zoomBehavior.current &&\n        select(svg as Element)\n          .transition()\n          .call(zoomBehavior.current.scaleBy, 0.5),\n      () =>\n        svg &&\n        zoomBehavior.current &&\n        select(svg as Element)\n          .transition()\n          .call(zoomBehavior.current.scaleTo, 1),\n      () =>\n        svg &&\n        zoomBehavior.current &&\n        select(svg as Element)\n          .call(zoomBehavior.current.transform, zoomIdentity.translate(0, 0).scale(1))\n          .transition()\n          .call(zoomBehavior.current.scaleTo, 1)\n    ],\n    [svg]\n  )\n\n  const debouncedSetZoom = useDebounceFunction(setZoom, 300)\n\n  useEffect(() => {\n    if (!svg) return\n\n    zoomBehavior.current = zoom()\n      .scaleExtent([0, Infinity])\n      .extent([\n        [0, 0],\n        [width, height]\n      ])\n      .on('zoom', ({ transform }: { transform: ZoomTransform }) => {\n        debouncedSetZoom(transform)\n      })\n\n    select(svg as Element).call(zoomBehavior.current)\n    // }, [height, width, setZoom, svg, xScale, zoomBehavior, zoomLevels.max, zoomLevels.min])\n  }, [height, width, setZoom, svg, zoomBehavior, zoomLevels.max, zoomLevels.min])\n\n  useEffect(() => {\n    zoomInitial()\n  }, [zoomInitial, zoomLevels])\n\n  useEffect(() => {\n    zoomReset()\n  }, [currentRange])\n  const handleReset = () => {\n    if (!isPosition) {\n      setCurrentRange(recommendRangesInfo?.type === 'unstable' ? 'active' : 'default')\n      zoomReset()\n    }\n  }\n\n  return (\n    <Flex\n      w=\"100%\"\n      p=\"0px\"\n      align=\"center\"\n      opacity={isPosition ? 0 : 1}\n      sx={{\n        '@media screen and (max-width: 960px)': {\n          flexDirection: 'column',\n          w: '100%',\n          alignItems: isPosition ? 'flex-start' : 'flex-end'\n        }\n      }}\n    >\n      {/* <HStack\n        as=\"button\"\n        gap=\"2px\"\n        pos=\"absolute\"\n        top={{ base: '-256px', lg: '-78px' }}\n        left={{ base: '100px', lg: '-8px' }}\n        _hover={{ p: { color: 'text_caption' }, svg: { fill: 'text_caption' } }}\n        cursor=\"pointer\"\n        onClick={handleReset}\n      >\n        <Icon xlinkHref=\"#icon-reset\" fontSize=\"14px\" />\n        <Text fontSize=\"12px\">Reset</Text>\n      </HStack> */}\n      <HStack\n        justify={{ base: 'flex-start', lg: 'flex-end' }}\n        flex=\"1\"\n        position=\"absolute\"\n        right=\"0px\"\n        top={{ base: '-5px', lg: '-46px' }}\n        flexDir={{ base: 'row-reverse', lg: 'row' }}\n        gap=\"0\"\n        h=\"28px\"\n        borderRadius=\"8px\"\n        border=\"1px solid\"\n        borderColor=\"border\"\n        bg=\"bg_nine\"\n      >\n        {/* <RefreshIcon handleClickRefresh={handleClickRefresh} noBg isAutoRefresh={true} /> */}\n        {/* <Icon svgW=\"24px\" svgH=\"24px\" boxW=\"24px\" boxH=\"24px\" xlinkHref=\"#icon-icon_zoomin\" onClick={zoomIn} /> */}\n        {/* <Icon svgW=\"24px\" svgH=\"24px\" boxW=\"24px\" boxH=\"24px\" xlinkHref=\"#icon-icon_zoomout\" onClick={zoomOut} /> */}\n\n        <ActionButton\n          type=\"Add\"\n          onClick={() => {\n            console.log('start zoom in')\n            zoomIn()\n          }}\n        />\n        <Divider orientation=\"vertical\" h=\"16px\" />\n        <ActionButton type=\"Sub\" onClick={zoomOut} />\n      </HStack>\n    </Flex>\n  )\n}\n\nfunction ActionButton(props: ActionButtonProps) {\n  const { type, onClick } = props\n  return (\n    <Center w=\"28px\" h=\"26px\">\n      <Icon xlinkHref={type === 'Add' ? '#icon-a-icon_zoomout' : '#icon-a-icon_zoomin'} onClick={onClick} />\n    </Center>\n  )\n}\n","import { VStack } from '@chakra-ui/react'\nimport { max, scaleLinear, ZoomTransform } from 'd3'\nimport { useEffect, useMemo, useRef, useState } from 'react'\nimport { Bound } from './types'\n\nimport { getRangeChartGap } from '@/utils/clmm'\nimport { d, removeComma } from '@cetus/utils'\nimport { Area } from './Area3'\nimport { AxisBottom } from './AxisBottom'\nimport { Brush } from './Brush'\nimport { DashedLine } from './DashedLine'\nimport { Line } from './Line'\nimport { ChartEntry, LiquidityChartRangeInputProps } from './types'\nimport Zoom, { ZoomOverlay } from './Zoom'\n\nconst xAccessor = (d: ChartEntry) => d.price\nconst yAccessor = (d: ChartEntry) => d.depth\n\nfunction getSeriesWithRegion(series: any, xRange: any) {\n  return series?.filter((item: any) => d(item.price).gte(xRange[0]) && d(item.price).lte(xRange[1]))\n}\n\nexport function Chart({\n  id = 'liquidityChartRangeInput',\n  data: { series, current },\n  ticksAtLimit,\n  styles,\n  dimensions: { width, height },\n  margins,\n  interactive = true,\n  brushDomain,\n  brushLabels,\n  onBrushDomainChange,\n  handleClickRefresh,\n  zoomLevels,\n  showZoomButtons = true,\n  isPosition = false,\n  hideBrush = false,\n  isReverse = false,\n  isSorted = true,\n  readonly = false,\n  dashedMarkerLine = [],\n  currentRange = '',\n  constantPrice,\n  isApp\n}: LiquidityChartRangeInputProps) {\n  const zoomRef = useRef<SVGRectElement | null>(null)\n\n  const [zoom, setZoom] = useState<ZoomTransform | null>(null)\n  const [innerHeight, innerWidth] = useMemo(\n    () => [height - margins.top - margins.bottom, width - margins.left - margins.right],\n    [width, height, margins]\n  )\n\n  const { xScale, yScale } = useMemo(() => {\n    const xInitialRange = [constantPrice * zoomLevels.initialMin, constantPrice * zoomLevels.initialMax]\n    // const xInitialRange = [1, 10]\n    let xRange = xInitialRange\n\n    if (brushDomain && String(brushDomain?.[0]) !== '∞' && String(brushDomain?.[1]) !== '∞') {\n      if (brushDomain?.[0] === brushDomain?.[1]) {\n        xRange = [Number(brushDomain?.[0]) - brushDomain?.[0] * 0.01, Number(brushDomain?.[0]) + brushDomain?.[0] * 0.01]\n      } else {\n        const brushDomainGap = getRangeChartGap(brushDomain)\n\n        if (isPosition) {\n          if (d(constantPrice).lt(brushDomain[0])) {\n            xRange = [d(constantPrice).minus(brushDomainGap).toNumber(), d(brushDomain[1]).plus(brushDomainGap).toNumber()]\n          } else if (d(constantPrice).gt(brushDomain[1])) {\n            xRange = [d(brushDomain[0]).minus(brushDomainGap).toNumber(), d(constantPrice).plus(d(brushDomainGap).mul(1.5)).toNumber()]\n          } else {\n            xRange = [d(brushDomain[0]).minus(brushDomainGap).toNumber(), d(brushDomain[1]).plus(brushDomainGap).toNumber()]\n          }\n        } else {\n          xRange = [d(brushDomain[0]).minus(brushDomainGap).toNumber(), d(brushDomain[1]).plus(brushDomainGap).toNumber()]\n        }\n      }\n    } else {\n      // full range处理\n      if ((Number(constantPrice) / 10, Number(constantPrice) - constantPrice * 2 > 0)) {\n        xRange = [\n          Math.max(d(0).add(d(constantPrice).div(10)).toNumber(), d(constantPrice).minus(d(constantPrice).mul(2)).toNumber()),\n          d(constantPrice).add(d(constantPrice).mul(2)).toNumber()\n        ]\n      } else {\n        xRange = [0, d(constantPrice).mul(2).toNumber()]\n      }\n    }\n\n    const scales: any = {\n      xScale: scaleLinear().domain(xRange).range([0, innerWidth]),\n      yScale: scaleLinear()\n        .domain([0, max(series, yAccessor)] as number[])\n        .range([innerHeight, 0])\n    }\n\n    if (zoom) {\n      const newXscale = zoom.rescaleX(scales.xScale)\n      scales.xScale.domain(newXscale.domain())\n    }\n\n    return scales\n  }, [constantPrice, zoomLevels.initialMin, zoomLevels.initialMax, innerWidth, series, innerHeight, zoom, brushDomain])\n\n  useEffect(() => {\n    setZoom(null)\n  }, [zoomLevels, currentRange])\n\n  useEffect(() => {\n    if (!brushDomain) {\n      onBrushDomainChange(xScale.domain() as [number, number], undefined)\n    }\n  }, [brushDomain, onBrushDomainChange, xScale])\n\n  const [zoomRefValue, setZoomRefValue] = useState<any>(undefined)\n  useEffect(() => {\n    setZoomRefValue(zoomRef.current)\n  }, [zoomRef.current])\n\n  return (\n    <VStack\n      w=\"100%\"\n      h=\"100%\"\n      sx={{\n        '@media screen and (max-width: 1000px)': {\n          display: 'block'\n        }\n      }}\n    >\n      {/* {showZoomButtons && ( */}\n\n      {!isPosition && zoomRefValue && (\n        <Zoom\n          svg={zoomRefValue}\n          xScale={xScale}\n          setZoom={setZoom}\n          width={innerWidth}\n          height={\n            // allow zooming inside the x-axis\n            height\n          }\n          resetBrush={() => {\n            onBrushDomainChange([constantPrice * zoomLevels.initialMin, constantPrice * zoomLevels.initialMax] as [number, number], 'reset')\n          }}\n          showResetButton={Boolean(ticksAtLimit[Bound.LOWER] || ticksAtLimit[Bound.UPPER])}\n          zoomLevels={zoomLevels}\n          isPosition={isPosition}\n          currentRange={currentRange}\n          handleClickRefresh={handleClickRefresh}\n          isApp={isApp}\n        />\n      )}\n      {/* )} */}\n      {/* <svg width=\"100%\" height=\"100%\" viewBox={`0 0 ${width} ${height}`} style={{ overflow: 'visible' }}> */}\n      <svg width=\"100%\" height=\"245px\" style={{ overflow: 'visible' }}>\n        <defs>\n          <linearGradient id=\"green-gradient\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n            {/* <stop offset=\"5%\" stopColor={theme.colors.success} stopOpacity={1} />\n            <stop offset=\"100%\" stopColor={theme.colors.success} stopOpacity={0.2} /> */}\n            <stop offset=\"5%\" stopColor=\"var(--chakra-colors-range_chart_bg)\" stopOpacity={1} />\n            <stop offset=\"100%\" stopColor=\"var(--chakra-colors-range_chart_bg)\" stopOpacity={1} />\n          </linearGradient>\n          <linearGradient id=\"red-gradient\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n            {/* <stop offset=\"5%\" stopColor={theme.colors.failure} stopOpacity={1} />\n            <stop offset=\"100%\" stopColor={theme.colors.failure} stopOpacity={0.2} /> */}\n            <stop offset=\"5%\" stopColor=\"var(--chakra-colors-range_chart_bg)\" stopOpacity={1} />\n            <stop offset=\"100%\" stopColor=\"var(--chakra-colors-range_chart_bg)\" stopOpacity={1} />\n          </linearGradient>\n        </defs>\n        <defs>\n          <clipPath id={`${id}-chart-clip`}>\n            <rect x=\"0\" y=\"0\" width={innerWidth} height={height} />\n          </clipPath>\n\n          {brushDomain && (\n            // mask to highlight selected area\n            <mask id={`${id}-chart-area-mask`}>\n              <rect\n                // fill=\"white\"\n                fill=\"red\"\n                x={xScale(brushDomain[0])}\n                y=\"0\"\n                width={xScale(brushDomain[1]) - xScale(brushDomain[0])}\n                height={innerHeight}\n              />\n            </mask>\n          )}\n        </defs>\n\n        <g transform={`translate(${margins.left},${margins.top})`}>\n          <g clipPath={`url(#${id}-chart-clip)`}>\n            <Area series={series} xScale={xScale} yScale={yScale} xValue={xAccessor} yValue={yAccessor} opacity={1} fill=\"#195780\" />\n            {/* <Area series={leftSeries} xScale={xScale} yScale={yScale} xValue={xAccessor} yValue={yAccessor} opacity={1} fill=\"#195780\" />\n            <Area series={rightSeries} xScale={xScale} yScale={yScale} xValue={xAccessor} yValue={yAccessor} opacity={1} fill=\"#195780\" /> */}\n\n            {/* <Area\n              series={series}\n              xScale={xScale}\n              yScale={yScale}\n              xValue={xAccessor}\n              yValue={yAccessor}\n              opacity={1}\n              fill=\"var(--chakra-colors-range_chart_bg)\"\n              isSorted={isSorted}\n            /> */}\n\n            {/* {brushDomain && (\n              // duplicate area chart with mask for selected area\n              <g mask={`url(#${id}-chart-area-mask)`}>\n                <Area opacity={0.1} series={series} xScale={xScale} yScale={yScale} xValue={xAccessor} yValue={yAccessor} fill=\"white\" />\n              </g>\n            )} */}\n\n            <Line value={current} xScale={xScale} innerHeight={innerHeight} />\n\n            {dashedMarkerLine?.map((item: any, index: number) => {\n              return <DashedLine key={item + index} value={Number(removeComma(item))} xScale={xScale} innerHeight={innerHeight} />\n            })}\n\n            <AxisBottom xScale={xScale} innerHeight={innerHeight} isPosition={isPosition} />\n          </g>\n\n          <ZoomOverlay className=\"zoom-overlay\" width={innerWidth} height={height} ref={zoomRef} />\n          {/* {!hideBrush ? ( */}\n          <Brush\n            id={id}\n            xScale={xScale}\n            interactive={interactive}\n            brushLabelValue={brushLabels}\n            brushExtent={brushDomain ?? (xScale.domain() as [number, number])}\n            innerWidth={innerWidth}\n            innerHeight={innerHeight}\n            setBrushExtent={onBrushDomainChange}\n            westHandleColor={styles.brush.handle.west}\n            eastHandleColor={styles.brush.handle.east}\n            readonly={readonly}\n            isSorted={isSorted}\n            isFullRange={!brushDomain}\n          />\n          {/* ) : null} */}\n        </g>\n      </svg>\n    </VStack>\n  )\n}\n","import { Box, Flex, Spinner, Text, VStack } from '@chakra-ui/react'\nimport { forwardRef, useCallback, useMemo, useRef } from 'react'\nimport { Chart } from './Chart'\nimport { FeeAmount } from './types'\n// import { saturate } from 'polished'\nimport { Bound, ZOOM_LEVELS, ZoomLevels } from './types'\n// import StatusImage from '../StatusImge'\n// import { isDirect } from 'kk-v3-sdk'\n// import useDepthChartData from '@/hooks/liquidity/useDepthChartData'\nimport useDepthChartStore from '@/store/clmm/chart'\n\nimport useWindowWidth from '@cetus/hooks/src/useWindowWidth'\nimport { Token } from '@cetus/types'\nimport { d, removeComma } from '@cetus/utils'\nimport { format } from 'd3'\n\ninterface ChartRangeInputParams {\n  isSorted: boolean\n  contractPoolInfo: any\n  currencyA: Token | undefined\n  currencyB: Token | undefined\n  feeAmount: FeeAmount\n  ticksAtLimit: { [bound in Bound]?: boolean | undefined }\n  price: number | undefined\n  priceLower?: any // 待定\n  priceUpper?: any // 待定\n  onLeftRangeInput: (typedValue: string) => void\n  onRightRangeInput: (typedValue: string) => void\n  onBothRangeInput: ({ leftTypedValue, rightTypedValue }: { leftTypedValue: string; rightTypedValue: string }) => void\n  handleClickRefresh: () => void\n  interactive: boolean\n  readonly?: boolean\n  zoomLevel?: ZoomLevels\n  isPosition?: boolean\n  hideBrush?: boolean\n  isReverse?: boolean\n  isFrom?: string\n  dashedMarkerLine?: any\n  currentRange?: any\n}\nconst LiquidityChartRangeInput = forwardRef(function LiquidityChartRangeInput(\n  {\n    isFrom,\n    isSorted,\n    contractPoolInfo,\n    currencyA,\n    currencyB,\n    feeAmount,\n    ticksAtLimit,\n    price,\n    priceLower,\n    priceUpper,\n    onLeftRangeInput,\n    onRightRangeInput,\n    onBothRangeInput,\n    handleClickRefresh,\n    interactive,\n    readonly,\n    zoomLevel,\n    isPosition,\n    hideBrush,\n    isReverse,\n    dashedMarkerLine,\n    currentRange\n  }: ChartRangeInputParams,\n  ref: any\n) {\n  // const { isLoading, error, formattedData, handleRefresh } = useDepthChartData({\n  //   contractPoolInfo,\n  //   currencyA,\n  //   currencyB,\n  //   feeAmount\n  // })\n  const { formatPriceData, ticksPool, formatPriceDataIsLoading } = useDepthChartStore()\n  const error = false\n  const isLoading = useMemo(() => {\n    if (formatPriceData && !formatPriceDataIsLoading) return false\n    return true\n  }, [formatPriceData])\n\n  const seriesData = useMemo(() => {\n    let result: any\n    if (isSorted) {\n      result = formatPriceData\n    } else {\n      result = formatPriceData?.map((item: any) => {\n        return {\n          ...item,\n          price: d(1).div(item?.price)?.toString()\n        }\n      })\n    }\n    return result\n  }, [isSorted, formatPriceData])\n\n  const constantPrice = useMemo(() => {\n    if (isSorted) {\n      return ticksPool?.price\n    } else {\n      return ticksPool?.reversePrice\n    }\n  }, [ticksPool?.id, isSorted])\n\n  const onBrushDomainChangeEnded = useCallback(\n    (domain: [number, number], mode: string | undefined) => {\n      if (!mode) return\n      const leftRangeValue = Number(domain[0])\n      const rightRangeValue = Number(domain[1])\n\n      // if (leftRangeValue <= 0) {\n      //   leftRangeValue = 1 / 10 ** 6\n      // }\n\n      const updateLeft = (!ticksAtLimit[isSorted ? Bound.LOWER : Bound.UPPER] || mode === 'handle' || mode === 'reset') && leftRangeValue >= 0\n      const updateRight = (!ticksAtLimit[isSorted ? Bound.UPPER : Bound.LOWER] || mode === 'reset') && rightRangeValue > 0 && rightRangeValue < 1e35\n\n      if (updateLeft && updateRight) {\n        const parsedLeftRangeValue = parseFloat(leftRangeValue.toFixed(20))\n        const parsedRightRangeValue = parseFloat(rightRangeValue.toFixed(20))\n\n        if (parsedLeftRangeValue >= 0 && parsedRightRangeValue > 0 && parsedLeftRangeValue < parsedRightRangeValue) {\n          onBothRangeInput({\n            leftTypedValue: d(leftRangeValue).toString(),\n            rightTypedValue: d(rightRangeValue).toString()\n          })\n        }\n      } else if (updateLeft) {\n        onLeftRangeInput(d(leftRangeValue).toString())\n      } else if (updateRight) {\n        onRightRangeInput(d(rightRangeValue).toString())\n      }\n    },\n    [isSorted, onBothRangeInput, onLeftRangeInput, onRightRangeInput, ticksAtLimit]\n  )\n\n  const brushDomain: [number, number] | undefined = useMemo(() => {\n    const leftPrice = isSorted ? removeComma(priceLower?.price) : removeComma(priceLower?.reversePrice)\n    const rightPrice = isSorted ? removeComma(priceUpper?.price) : removeComma(priceUpper?.reversePrice)\n\n    if (rightPrice !== '∞') {\n      return leftPrice && rightPrice ? [Number(leftPrice), Number(rightPrice)] : undefined\n    }\n    return undefined\n  }, [isSorted, priceLower?.displayPrice, priceUpper?.displayPrice, price])\n\n  const brushLabelValue = useCallback(\n    (dd: 'w' | 'e', x: number) => {\n      if (!price) return ''\n\n      if (dd === 'w' && (ticksAtLimit[isSorted ? Bound.LOWER : Bound.UPPER] || !brushDomain)) return '0'\n      if (dd === 'e' && (ticksAtLimit[isSorted ? Bound.UPPER : Bound.LOWER] || !brushDomain)) return '∞'\n\n      const percent = (d(x).lt(price) ? -1 : 1) * ((Math.max(Number(x), Number(price)) - Math.min(Number(x), Number(price))) / Number(price)) * 100\n\n      // console.log('🚀 ~ percent:', percent)\n\n      return Number(price) ? `${format(Math.abs(percent) > 1 ? '.2~s' : '.2~f')(percent)}%` : ''\n      // return `${formatNumberWithDown(percent, 1)}%`\n    },\n    [isSorted, price, ticksAtLimit, brushDomain]\n  )\n\n  const isUninitialized = !currencyA || !currencyB || (seriesData === undefined && !isLoading)\n\n  const testWidthRef = useRef<HTMLDivElement | null>(null)\n\n  // useImperativeHandle(ref, () => ({\n  //   depthChartRefreshData: handleRefresh\n  // }))\n\n  const { isApp, windowWidth } = useWindowWidth()\n\n  return (\n    // <VStack gap=\"14px\" minHeight=\"200px\" width=\"100%\" marginBottom=\"16px\">\n    <VStack w=\"100%\" h=\"100%\" flex={1} gap=\"14px\" position=\"relative\" ref={testWidthRef}>\n      {/* {isUninitialized ? (\n        <Flex direction=\"column\" h={isFrom == 'position' ? '60px' : '150px'} justify=\"flex-end\">\n          <Text textAlign=\"center\">Your position will appear here.</Text>\n        </Flex>\n      ) :  */}\n      {isUninitialized || isLoading || !seriesData || !price ? (\n        <Box h=\"100%\" pt={isFrom == 'position' ? '30px' : '150px'}>\n          <Spinner />\n        </Box>\n      ) : error && (!seriesData || seriesData.length === 0) ? (\n        <Flex direction=\"column\" h={isFrom == 'position' ? '50px' : '150px'} justify=\"flex-end\">\n          <Text textAlign=\"center\">Liquidity data not available.</Text>\n        </Flex>\n      ) : (\n        // : seriesData.length === 0 ? (\n        //   // 无数据站位\n        //   <Box  w=\"100%\" h=\"100%\" pt=\"16px\">\n        //     <NoLiquidityData isFrom={isFrom} />\n        //   </Box>\n\n        // )\n        <Flex w=\"100%\" h=\"100%\" position=\"relative\" justify=\"center\" align=\"center\" pt={isApp && isFrom !== 'position' ? '40px' : '0px'}>\n          {/* {testWidthRef?.current?.clientWidth ? ( */}\n          <Chart\n            key={`${feeAmount ?? FeeAmount.MEDIUM}`}\n            data={{ series: seriesData, current: price }}\n            dimensions={{\n              // width: 660,\n              // width: isFrom == 'position' && !isApp ? 200 : testWidthRef?.current?.clientWidth,\n              // 为了使图表在下划线显示居中，微调了position 模式下的宽度\n              // width: isFrom == 'position' ? (!isApp ? 270 : 300) : testWidthRef?.current?.clientWidth || 498,\n              width: isFrom == 'position' ? (!isApp ? 270 : 300) : isApp ? windowWidth - 40 : 498,\n              // height: 180\n              height: isFrom == 'position' ? 146 : !isApp ? 230 : 200\n            }}\n            margins={{ top: 10, right: 20, bottom: isFrom == 'position' ? 50 : 20, left: 10 }}\n            styles={{\n              area: {\n                // selection: theme.colors.text\n                selection: 'var(--chakra-colors-text_caption)'\n              },\n              brush: {\n                handle: {\n                  // west: saturate(0.1, tokenAColor) ?? theme.colors.text,\n                  // east: saturate(0.1, tokenBColor) ?? theme.colors.text\n                  // west: 'var(--chakra-colors-primary)',\n                  // east: 'var(--chakra-colors-primary)'\n                  west: '#30D4B7',\n                  east: '#6297EA'\n                }\n              }\n            }}\n            interactive={interactive && Boolean(seriesData?.length)}\n            brushLabels={brushLabelValue}\n            brushDomain={brushDomain}\n            onBrushDomainChange={onBrushDomainChangeEnded}\n            zoomLevels={zoomLevel ?? ZOOM_LEVELS[feeAmount ?? FeeAmount.MEDIUM]}\n            ticksAtLimit={ticksAtLimit}\n            isPosition={isFrom === 'position'}\n            hideBrush={hideBrush}\n            isReverse={isReverse}\n            isSorted={isSorted}\n            readonly={readonly}\n            dashedMarkerLine={dashedMarkerLine}\n            handleClickRefresh={handleClickRefresh}\n            currentRange={currentRange}\n            constantPrice={constantPrice}\n            isApp={isApp}\n          />\n          {/* ) : (\n            <Box h=\"100%\" pt={isFrom == 'position' ? '30px' : '150px'}>\n              <Spinner />\n            </Box>\n          )} */}\n        </Flex>\n      )}\n    </VStack>\n  )\n})\n\nexport default LiquidityChartRangeInput\n","import useGetTicksChartData from '@/hooks/clmm/useGetTicksChartData'\nimport usePriceRange from '@/hooks/clmm/usePriceRange'\nimport useLiquidityStore from '@/store/clmm'\nimport useDepthChartStore from '@/store/clmm/chart'\nimport usePriceRangeStore from '@/store/clmm/priceRange'\nimport { d, formatNumberWithDown } from '@cetus/utils'\nimport { TickMath } from '@cetusprotocol/common-sdk'\nimport { Box, Center, Spinner, VStack } from '@chakra-ui/react'\nimport { forwardRef, useEffect, useImperativeHandle, useMemo, useRef, useState } from 'react'\nimport { LiquidityRangeInput } from '../PriceChart'\nimport RangeChart from './RangeChart'\nimport { Bound, FeeAmount } from './RangeChart/types'\n\nconst MAX_TICK_INDEX = 443636\n\nconst MIN_TICK_INDEX = -443636\n\nconst LiquidityRangeChart = forwardRef(function LiquidityRangeChart(\n  props: {\n    handleClickRefresh: any\n    minPriceData: any\n    maxPriceData: any\n    direct: boolean\n    readonly?: boolean\n    isFrom?: string\n    dashedMarkerLine?: any\n    currentRange?: any\n    isRefresh?: boolean\n    liquidityChartTab?: string\n  },\n  ref: any\n) {\n  const { handleClickRefresh, minPriceData, maxPriceData, direct, readonly, isFrom, dashedMarkerLine, currentRange, liquidityChartTab } = props\n  const { contractPoolInfo, apiPoolInfo, currentPriceData } = useLiquidityStore()\n\n  const { lowerTickData, upperTickData } = usePriceRangeStore()\n  const { setTickDataBasedOnPrice } = usePriceRange()\n  const { formatPriceDataIsLoading, ticksPool, formatPriceData } = useDepthChartStore()\n\n  const tickSpacing = useMemo(() => {\n    return contractPoolInfo?.tickSpacing\n  }, [contractPoolInfo?.tickSpacing])\n\n  const currentFeeTier = '100'\n\n  const tickSpaceLimits: {\n    [bound in Bound]: number | undefined\n  } = useMemo(() => {\n    if (currentFeeTier && Number(currentFeeTier) && contractPoolInfo?.tickSpacing) {\n      const fee = currentFeeTier as FeeAmount\n      return {\n        [Bound.LOWER]: currentFeeTier ? TickMath.getInitializeTickIndex(MAX_TICK_INDEX, Number(contractPoolInfo?.tickSpacing)) : undefined,\n        [Bound.UPPER]: currentFeeTier ? TickMath.getInitializeTickIndex(MIN_TICK_INDEX, Number(contractPoolInfo?.tickSpacing)) : undefined\n      }\n    }\n    return {\n      [Bound.LOWER]: undefined,\n      [Bound.UPPER]: undefined\n    }\n  }, [currentFeeTier])\n\n  const ticksAtLimit: any = useMemo(() => {\n    return {\n      [Bound.LOWER]: currentFeeTier && lowerTickData.tick === tickSpaceLimits.LOWER,\n      [Bound.UPPER]: currentFeeTier && upperTickData?.tick === tickSpaceLimits.UPPER\n    }\n  }, [tickSpaceLimits, lowerTickData, upperTickData, currentFeeTier])\n\n  const interactive = true\n\n  const zoomLevel = undefined\n\n  const onChangeMinPrice = (value: string) => {\n    console.log('🚀 ~ file: LiquidityRangeChart.tsx:67 ~ onChangeMinPrice ~ value:', value)\n  }\n\n  const onChangeMaxPrice = (value: string) => {\n    console.log('🚀 ~ file: LiquidityRangeChart.tsx:71 ~ onChangeMaxPrice ~ value:', value)\n  }\n\n  const onBothRangeInput = ({ leftTypedValue, rightTypedValue }: { leftTypedValue: string; rightTypedValue: string }) => {\n    if (formatNumberWithDown(leftTypedValue, 6) !== (direct ? lowerTickData?.displayPrice : upperTickData?.displayReversePrice)) {\n      // setIsShowMinMaxDist(true)\n      setTickDataBasedOnPrice(direct ? lowerTickData : upperTickData, direct ? leftTypedValue : d(1).div(leftTypedValue).toString())\n    }\n    if (formatNumberWithDown(rightTypedValue, 6) !== (direct ? upperTickData?.displayPrice : lowerTickData.displayReversePrice)) {\n      // setIsShowMinMaxDist(true)\n      setTickDataBasedOnPrice(direct ? upperTickData : lowerTickData, direct ? rightTypedValue : d(1).div(rightTypedValue).toString())\n    }\n  }\n\n  const onLeftRangeInput = (typedValue: string) => {\n    console.log('🚀 ~ file: LiquidityRangeChart.tsx:88 ~ onLeftRangeInput ~ typedValue:', typedValue)\n    // if (typedValue !== minPriceData?.fixsUiPrice) {\n    //   setIsShowMinMaxDist(true)\n    //   onChangeMinPrice(typedValue)\n    // }\n  }\n\n  const onRightRangeInput = (typedValue: string) => {\n    console.log('🚀 ~ file: LiquidityRangeChart.tsx:96 ~ onRightRangeInput ~ typedValue:', typedValue)\n    // if (typedValue !== maxPriceData?.fixsUiPrice) {\n    //   setIsShowMinMaxDist(true)\n    //   onChangeMaxPrice(typedValue)\n    // }\n  }\n\n  const innerRef = useRef<any>(null)\n\n  useImperativeHandle(ref, () => ({\n    depthChartRefreshData: innerRef.current?.depthChartRefreshData\n  }))\n\n  // 测试新的图表数据获取 0207\n  const { getFormattedData } = useGetTicksChartData()\n  const [positionLoading, setPositionLoading] = useState<boolean>(true)\n  useEffect(() => {\n    if (contractPoolInfo?.poolAddress && contractPoolInfo?.poolAddress === apiPoolInfo?.poolAddress) {\n      getFormattedData({\n        poolAddress: contractPoolInfo?.poolAddress,\n        tokenA: apiPoolInfo?.tokenA,\n        tokenB: apiPoolInfo?.tokenB,\n        tickSpacing: contractPoolInfo?.tickSpacing,\n        currentTickIndex: contractPoolInfo?.current_tick_index,\n        liquidity: contractPoolInfo?.liquidity,\n        // feeRate: contractPoolInfo?.fee_rate\n        feeRate: d(apiPoolInfo?.feeRate).mul(100).toString() || contractPoolInfo?.fee_rate\n      })\n    }\n  }, [contractPoolInfo?.poolAddress, apiPoolInfo?.poolAddress])\n\n  useEffect(() => {\n    if (isFrom === 'position' && !formatPriceDataIsLoading && formatPriceData?.length > 0) {\n      setPositionLoading(false)\n    }\n  }, [isFrom, formatPriceDataIsLoading, formatPriceData?.length])\n  const onPoolPriceChangeMin = (value?: number) => {\n    if (value !== undefined && formatNumberWithDown(value, 6) !== (direct ? lowerTickData?.displayPrice : upperTickData?.displayReversePrice)) {\n      // setIsShowMinMaxDist(true)\n      setTickDataBasedOnPrice(direct ? lowerTickData : upperTickData, direct ? value : d(1).div(value).toString())\n    }\n  }\n\n  const onPoolPriceChangeMax = (value?: number) => {\n    if (value !== undefined && formatNumberWithDown(value, 6) !== (direct ? upperTickData?.displayPrice : lowerTickData.displayReversePrice)) {\n      // setIsShowMinMaxDist(true)\n      setTickDataBasedOnPrice(direct ? upperTickData : lowerTickData, direct ? value : d(1).div(value).toString())\n    }\n  }\n  return (\n    <VStack w=\"100%\" h=\"100%\" position=\"relative\">\n      {readonly && <Box w=\"100%\" h=\"100%\" position=\"absolute\" left=\"0px\" top=\"0px\" bg=\"rgba(0,0,0,0)\" zIndex=\"99999\" />}\n      {((!positionLoading && isFrom === 'position') || (!formatPriceDataIsLoading && isFrom !== 'position')) &&\n      minPriceData?.id &&\n      maxPriceData?.id ? (\n        <VStack w=\"100%\" h=\"100%\" gap=\"0px\">\n          {liquidityChartTab === 'prices' ? (\n            <Box position=\"relative\" zIndex={1000} w=\"100%\" h=\"100%\" pt=\"16px\">\n              <LiquidityRangeInput\n                isSorted={direct}\n                isReverse={!!apiPoolInfo?.isReverse}\n                quoteCurrency={apiPoolInfo?.tokenB}\n                baseCurrency={apiPoolInfo?.tokenA}\n                poolId={apiPoolInfo?.poolAddress || ''}\n                currentPrice={direct ? currentPriceData.currentPrice : currentPriceData.reverseCurrentPrice}\n                priceLower={minPriceData}\n                priceUpper={maxPriceData}\n                setMinPrice={onPoolPriceChangeMin}\n                setMaxPrice={onPoolPriceChangeMax}\n                setFallbackRangePrices={() => {}}\n                dashedMarkerLine={dashedMarkerLine?.filter((line: string) => line !== '-')}\n              />\n            </Box>\n          ) : (\n            <RangeChart\n              isFrom={isFrom}\n              ref={innerRef}\n              isSorted={direct}\n              contractPoolInfo={contractPoolInfo}\n              currencyA={apiPoolInfo?.tokenA}\n              currencyB={apiPoolInfo?.tokenB}\n              feeAmount={currentFeeTier as FeeAmount}\n              ticksAtLimit={ticksAtLimit}\n              price={direct ? currentPriceData.currentPrice : currentPriceData.reverseCurrentPrice}\n              priceLower={minPriceData}\n              priceUpper={maxPriceData}\n              interactive={interactive}\n              zoomLevel={zoomLevel}\n              isReverse={apiPoolInfo?.isReverse}\n              readonly={readonly}\n              dashedMarkerLine={dashedMarkerLine?.filter((line: string) => line !== '-')}\n              onBothRangeInput={onBothRangeInput}\n              onLeftRangeInput={onLeftRangeInput}\n              onRightRangeInput={onRightRangeInput}\n              handleClickRefresh={handleClickRefresh}\n              currentRange={currentRange}\n            />\n          )}\n        </VStack>\n      ) : (\n        <Center w=\"100%\" h=\"100%\" mt=\"20px\">\n          <Spinner />\n        </Center>\n      )}\n    </VStack>\n  )\n})\n\nexport default LiquidityRangeChart\n","import useWindowWidth from '@cetus/hooks/src/useWindowWidth'\nimport { HTextLabelBox, VTextLabelBox } from '@cetus/ui-kit'\n\ninterface StatsInfoProps {\n  label: string\n  value: string | JSX.Element\n  loading?: boolean\n}\n\nfunction StatsInfo({ label, value, loading }: StatsInfoProps) {\n  const { isApp } = useWindowWidth()\n  return isApp ? (\n    <HTextLabelBox\n      label={label}\n      value={value}\n      labelStyle={{ fontSize: '12px' }}\n      valueStyle={{ fontSize: '14px', h: '14px', fontWeight: '500' }}\n      isLoading={loading}\n      skeletonStyle={{ valueW: '60px' }}\n    />\n  ) : (\n    <VTextLabelBox\n      wrapStyle={{\n        gap: '8px',\n        alignItems: 'flex-end'\n      }}\n      titleStyle={{\n        fontSize: '12px'\n      }}\n      valueStyle={{\n        fontSize: '14px',\n        fontWeight: '500'\n      }}\n      title={label}\n      value={value}\n      isLoading={loading}\n      skeletonStyle={{ valueW: '60px', valueH: '14px' }}\n    />\n  )\n}\n\nexport default StatsInfo\n"],"names":["degrees","identity","decompose","a","b","c","d","e","f","scaleX","scaleY","skewX","svgNode","parseCss","value","m","parseSvg","interpolateTransform","parse","pxComma","pxParen","degParen","pop","s","translate","xa","ya","xb","yb","q","i","number","rotate","scale","t","n","o","interpolateTransformCss","interpolateTransformSvg","epsilon2","cosh","x","sinh","tanh","interpolateZoom","zoomRho","rho","rho2","rho4","zoom","p0","p1","ux0","uy0","w0","ux1","uy1","w1","dx","dy","d2","S","d1","b0","b1","r0","r1","coshr0","u","_","_1","_2","_4","store","set","get","data","usePriceRangeStore","create","getNearestTickByTick","tickIndex","tickSpacing","rounding","mod","usePriceRange","lowerTickData","setLowerTickData","upperTickData","setUpperTickData","contractPoolInfo","useLiquidityStore","handleSetTickData","tick","type","poolApiInfo","decimalsA","decimalsB","price","TickUtil","TickMath","displayPrice","formatTickPrice","reversePrice","getReversePrice","displayReversePrice","handleInitTickData","lower","upper","handleActionPrice","tickData","action","tokenA","tokenB","currentTick","newTick","newData","handleAddPrice","handleSubPrice","handleSetFullRange","lowerData","upperData","setTickDataBasedOnPrice","direct","nearTikRounding","useDepthChartStore","computeSurroundingTicksNew","list","token0","token1","item","index","_a","sdkPrice","getActiveTick","tickCurrent","feeAmount","TICK_SPACINGS","filterTicksData","suspicious_tickIndexs","useGetTicksChartData","fetchByApi","useFetch","clmmSdk","useSdk","setFormatPriceData","setFormatPriceDataIsLoading","setTicksPool","getTicks","params","poolAddress","res","tickList","tickItem","filterData","error","result","formateList","getTickDataFromUrlData","getProcessedAsPrice","currentTickIndex","feeRate","ticks","ticksPool","currTick","activeTick","newTicks","ticksProcessed","getFormattedPriceData","chartEntry","getFormattedData","priceData","formatPriceData","tiksPoolData","ticksPoolPrice","useEffect","NoChartDataImg","NoLiquidityData","isFrom","text","jsxs","Flex","jsx","Image","Text","identity$1","bottom","epsilon","translateX","center","offset","entering","axis","orient","tickArguments","tickValues","tickFormat","tickSizeInner","tickSizeOuter","tickPadding","k","transform","context","values","format","spacing","range","range0","range1","position","selection","path","tickExit","tickEnter","line","p","axisBottom","noop","dispatch","Dispatch","parseTypenames","typenames","types","name","typename","callback","T","copy","that","args","xhtml","namespaces","namespace","prefix","creatorInherit","document","uri","creatorFixed","fullname","creator","none","selector","selection_select","select","groups","subgroups","j","group","subgroup","node","subnode","Selection","array","empty","selectorAll","arrayAll","selection_selectAll","parents","matcher","childMatcher","find","childFind","match","childFirst","selection_selectChild","filter","children","childrenFilter","selection_selectChildren","selection_filter","sparse","update","selection_enter","EnterNode","parent","datum","child","next","constant$2","bindIndex","enter","exit","groupLength","dataLength","bindKey","key","nodeByKeyValue","keyValues","keyValue","selection_data","bind","constant","arraylike","enterGroup","updateGroup","exitGroup","i0","i1","previous","selection_exit","selection_join","onenter","onupdate","onexit","selection_merge","groups0","groups1","m0","m1","merges","group0","group1","merge","selection_order","selection_sort","compare","ascending","compareNode","sortgroups","sortgroup","selection_call","selection_nodes","selection_node","selection_size","size","selection_empty","selection_each","attrRemove","attrRemoveNS","attrConstant","attrConstantNS","attrFunction","v","attrFunctionNS","selection_attr","defaultView","styleRemove","styleConstant","priority","styleFunction","selection_style","styleValue","propertyRemove","propertyConstant","propertyFunction","selection_property","classArray","string","classList","ClassList","classedAdd","names","classedRemove","classedTrue","classedFalse","classedFunction","selection_classed","textRemove","textConstant","textFunction","selection_text","htmlRemove","htmlConstant","htmlFunction","selection_html","raise","selection_raise","selection_lower","selection_append","constantNull","selection_insert","before","remove","selection_remove","selection_cloneShallow","clone","selection_cloneDeep","selection_clone","deep","selection_datum","contextListener","listener","event","onRemove","on","onAdd","options","selection_on","dispatchEvent","window","dispatchConstant","dispatchFunction","selection_dispatch","selection_iterator","root","selection_selection","sourceEvent","pointer","svg","point","rect","nonpassivecapture","noevent$2","dragDisable","view","noevent","yesdrag","noclick","frame","timeout","interval","pokeDelay","taskHead","taskTail","clockLast","clockNow","clockSkew","clock","setFrame","now","clearNow","Timer","timer","delay","time","sleep","timerFlush","wake","nap","poke","t0","t1","t2","elapsed","emptyOn","emptyTween","CREATED","SCHEDULED","STARTING","STARTED","RUNNING","ENDING","ENDED","schedule","id","timing","schedules","init","self","tween","start","stop","interrupt","active","selection_interrupt","tweenRemove","tween0","tween1","tweenFunction","transition_tween","tweenValue","transition","interpolate","interpolateNumber","color","interpolateRgb","interpolateString","value1","string00","string1","interpolate0","string0","string10","transition_attr","attrInterpolate","attrInterpolateNS","attrTweenNS","attrTween","transition_attrTween","delayFunction","delayConstant","transition_delay","durationFunction","durationConstant","transition_duration","easeConstant","transition_ease","easeVarying","transition_easeVarying","transition_filter","Transition","transition_merge","onFunction","on0","on1","sit","transition_on","removeFunction","transition_remove","transition_select","transition_selectAll","inherit","l","transition_selection","styleNull","style","styleMaybeRemove","listener0","transition_style","styleInterpolate","styleTween","transition_styleTween","transition_text","textInterpolate","textTween","transition_textTween","transition_transition","id0","id1","newId","transition_end","resolve","reject","cancel","end","selection_prototype","cubicInOut","defaultTiming","easeCubicInOut","selection_transition","constant$1","BrushEvent","target","mode","nopropagation","noevent$1","MODE_DRAG","MODE_SPACE","MODE_HANDLE","MODE_CENTER","abs","max","min","number1","number2","X","xy","Y","y","cursors","flipX","flipY","signsX","signsY","defaultFilter","defaultExtent","defaultTouchable","local","extent","brushX","brush","brushY","dim","touchable","keys","listeners","handleSize","touchending","overlay","initialize","handle","redraw","started","touchmoved","touchended","emitter","state","emit","selection0","selection1","clean","Emitter","signX","signY","W","N","n0","n1","E","e0","e1","s0","s1","moving","shifting","lockX","lockY","points","pts","move","moved","ended","keydowned","keyupped","point0","dragEnable","ZoomEvent","Transform","location","defaultTransform","defaultWheelDelta","defaultConstrain","translateExtent","dx0","dx1","dy0","dy1","constrain","wheelDelta","scaleExtent","duration","touchstarting","touchfirst","touchDelay","wheelDelay","clickDistance2","tapDistance","wheeled","mousedowned","dblclicked","touchstarted","collection","gesture","k0","k1","centroid","g","w","Gesture","wheelidled","currentTarget","mousemoved","mouseupped","x0","y0","touches","l0","l1","dp","dl","__assign","__spreadArray","to","from","pack","ar","MS","MOZ","WEBKIT","COMMENT","RULESET","DECLARATION","IMPORT","KEYFRAMES","LAYER","assign","hash","length","charat","trim","pattern","replace","replacement","indexof","search","substr","begin","strlen","sizeof","append","combine","column","character","characters","props","siblings","lift","char","prev","peek","caret","slice","token","alloc","dealloc","delimit","delimiter","whitespace","escaping","count","commenter","identifier","compile","rule","rules","rulesets","pseudo","declarations","atrule","property","variable","scanning","ampersand","reference","comment","declaration","ruleset","post","z","element","serialize","output","stringify","middleware","rulesheet","prefixer","unitlessKeys","process","define_process_env_default","C","I","A","O","D","R","V","F","M","$","B","L","G","H","U","J","Z","K","Q","ee","te","ne","oe","r","re","se","ie","ae","ce","le","ue","he","fe","ye","ve","ge","Se","we","be","Ee","Ne","Pe","_e","Ce","Ie","Ae","Oe","De","Re","Te","ke","je","xe","Ve","Fe","d.RULESET","d.prefixer","d.stringify","d.compile","d.serialize","d.middleware","d.rulesheet","Me","ze","$e","Ge","We","qe","He","Ue","Je","h","Xe","Ze","Ke","Qe","et","rt","it","at","ct","lt","ut","pt","dt","Path","styled","opacity","fill","Area","series","xScale","yScale","xValue","yValue","pathD","useMemo","ascData","validData","xVal","yVal","area","curveStepAfter","scaledX","scaledY","AxisRight","width","height","axisLabelPaneWidth","targetTickCount","ratio","margin","extendedTicks","formatPriceUseInAxis","OffScreenHandle","FLIP_HANDLE_THRESHOLD_PX","BRUSH_EXTENT_MARGIN_PX","toYScale","toPriceExtent","calculatePercentageDiff","currentPrice","targetPrice","percent","normalizeExtent","Brush","interactive","brushExtent","setBrushExtent","hideHandles","brushRef","useRef","brushBehavior","localBrushExtent","setLocalBrushExtent","useState","brushInProgressRef","normalizedExtent","priceExtent","priceThreshold","normalizedBrushExtent","flipNorthHandle","flipSouthHandle","showNorthArrow","showSouthArrow","southHandleInView","northHandleInView","Fragment","HorizontalLine","strokeWidth","strokeDasharray","showPriceLabel","showTriangle","clampedY","formatNumber","TickTooltip","current","quoteCurrency","baseCurrency","isMobile","hoveredEntry","setHoveredEntry","tooltipPosition","setTooltipPosition","xAccessor","yAccessor","ActiveLiquidityChart","contentWidth","brushDomain","onBrushDomainChange","disableBrush","disableRightAxis","disableBrushInteraction","showDiffIndicators","barColor","hideLiquidityBars","dashedMarkerLine","isFullRange","isBrushInstance","svgRef","isDragging","setIsDragging","chartData","entry","activeLiquidity","processedPrice","scales","maxLiquidity","priceRange","scaleLinear","handleBrushChange","RIGHT_AXIS_WIDTH","CHART_CONTAINER_WIDTH","LIQUIDITY_CHART_WIDTH","INTER_CHART_PADDING","CHART_HEIGHT","BOTTOM_AXIS_HEIGHT","loadedPriceChartWidth","desktopSizes","mobileSizes","useRangeInputSizes","parentWidth","isApp","useWindowWidth","usePriceChartData","poolPriceData","setPoolPriceData","poolPriceDataLoading","setPoolPriceDataLoading","pool","period","PoolTickKlinePath","showReverse","baseDecimals","quoteDecimals","open","close","high","low","DurationTabList","MIN_DATA_POINTS","TOOLTIP_WIDTH","TOOLTIP_HEIGHT","TOOLTIP_TOLERANCE","TOOLTIP_MARGIN","LiquidityRangeInput","poolId","priceLower","priceUpper","setMinPrice","setMaxPrice","isSorted","setFallbackRangePrices","isReverse","containerRef","sizes","setCurrentRange","recommendRangesInfo","useDepositStore","selectedHistoryDuration","setSelectedHistoryDuration","zoomFactor","setZoomFactor","boundaryPrices","setBoundaryPrices","midPrice","setMidPrice","setShowDiffIndicators","yAxisOffset","setYAxisOffset","yAxisZoom","setYAxisZoom","tooltipData","setTooltipData","chartRef","hoverMarker","setHoverMarker","getPoolPriceData","handleMouseMove","useCallback","chartWidth","chartHeight","marginLeft","marginRight","effectiveChartWidth","effectiveX","dataIndex","priceRatio","priceY","tolerance","screenWidth","adjustedX","adjustedY","handleScroll","handleChangeDuration","tab","formatPriceDataIsLoading","isLoading","seriesData","isNoPoolPriceData","currentMinPrice","removeComma","currentMaxPrice","commonPriceRange","poolPriceChartMin","poolPriceChartMax","currentPriceValue","priceChartRange","priceChartMin","priceChartMax","minMaxPriceGap","combinedMin","combinedMax","baseMin","baseMax","zoomedRange","showChartErrorView","handleZoomIn","newZoom","handleZoomOut","HStack","SelectTab","Center","Icon","Divider","Box","ResponsiveContainer","AreaChart","XAxis","date","formatPoolPirceChartTime","YAxis","_b","_c","domain","rejectAutoRangeSuggestion","Spinner","Portal","Block","VStack","formatSmallPrice","FeeAmount","Bound","ZOOM_LEVELS","theme","currentXDomain","currentYDomain","isEqual","isDesc","_d","dgtPrice","gtCurrentIndex","gap","_f","dltPrice","ltCurrentIndex","_g","_h","newYScale","StyledGroup","Axis","axisGenerator","isPosition","colorMode","useColorMode","axisRef","AxisBottom","innerHeight","brushHandlePath","brushHandleAccentPath","Handle","HandleAccent","LabelGroup","visible","TooltipBackground","TooltipLeftBackground","TooltipRightBackground","Tooltip","aNorm","bNorm","brushLabelValue","innerWidth","westHandleColor","eastHandleColor","readonly","showLabels","setShowLabels","hovering","setHovering","previousBrushExtent","usePreviousValue","scaled","selectionArray","flipWestHandle","flipEastHandle","showWestArrow","showEastArrow","westHandleInView","eastHandleInView","StyledLine","DashedLine","Line","ZoomOverlay","Zoom","setZoom","resetBrush","showResetButton","zoomLevels","handleClickRefresh","currentRange","zoomBehavior","zoomIn","zoomOut","zoomInitial","zoomReset","zoomIdentity","debouncedSetZoom","useDebounceFunction","ActionButton","onClick","Chart","ticksAtLimit","styles","margins","brushLabels","showZoomButtons","hideBrush","constantPrice","zoomRef","xRange","brushDomainGap","getRangeChartGap","newXscale","zoomRefValue","setZoomRefValue","LiquidityChartRangeInput","forwardRef","currencyA","currencyB","onLeftRangeInput","onRightRangeInput","onBothRangeInput","zoomLevel","ref","onBrushDomainChangeEnded","leftRangeValue","rightRangeValue","updateLeft","updateRight","parsedLeftRangeValue","parsedRightRangeValue","leftPrice","rightPrice","dd","isUninitialized","testWidthRef","windowWidth","MAX_TICK_INDEX","MIN_TICK_INDEX","LiquidityRangeChart","minPriceData","maxPriceData","liquidityChartTab","apiPoolInfo","currentPriceData","currentFeeTier","tickSpaceLimits","leftTypedValue","rightTypedValue","formatNumberWithDown","typedValue","innerRef","useImperativeHandle","positionLoading","setPositionLoading","onPoolPriceChangeMin","onPoolPriceChangeMax","RangeChart","StatsInfo","label","loading","HTextLabelBox","VTextLabelBox"],"mappings":"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","x_google_ignoreList":[0,1,2,3,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112]}