import{ap as U,j as o,ac as G,r as b,aq as R,H as l,T as i,n as m,O as k,Q as X,C as q,U as W,V as N,B as J,ar as D}from"./vendor-CBmAETR3.js";import{N as Y,a as K}from"./AggregatorModal-BBTaBCXS.js";import{A as P}from"./useSwapHelper-RreJ3kMc.js";import{d as Z,S as I,I as V,c as E}from"./index-BpSfzecM.js";import{C as $}from"./CheckBox-eomO844M.js";import{a as M,u as rr,g as or}from"./index-CPyR2bLz.js";import{a as sr}from"./index-D8UqOC8m.js";import"./cross-DJ28FxNa.js";import"./aggregator-CyPcoC3_.js";import"./TooltipIcon-DVhxXZmh.js";import"./index-CgYRIMgB.js";import"./index-Dq_SzPY7.js";import"./index-FuOBGqkF.js";import"./useGetPoolList-4kFQ2tyG.js";import"./utils-CMHkC_9A.js";import"./useWrapPoolData-CMGMCXwG.js";import"./en_US-KAK2ZBDO-C1Pw6Q2s.js";import"./isBrowser-DgCPUZ4c.js";function nr(r,n){n===void 0&&(n=function(){return!0});var a=U(M(),2),e=a[0],t=a[1],x=sr(n);return rr(function(){var u=or(r,document);if(u){var g=function(){var p;u===document?document.scrollingElement?p={left:document.scrollingElement.scrollLeft,top:document.scrollingElement.scrollTop}:p={left:Math.max(window.pageXOffset,document.documentElement.scrollLeft,document.body.scrollLeft),top:Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop)}:p={left:u.scrollLeft,top:u.scrollTop},x.current(p)&&t(p)};return g(),u.addEventListener("scroll",g),function(){u.removeEventListener("scroll",g)}}},[],r),e}const L="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAkZJREFUWEftkz1oU1Ecxc9JYsEOQqtFWsTFRbAq1JD3cNFRoQ4FQXTVRRwUlHxRsWJJ8h4KOogIuiqC6GBBR10kL8SCHwWXLiIpfrXgoKDJO/JChA5p7ssHZMmdLvzvPed3z/9/iT4v9tkfA4BBAh0nkH2v7fqN3cEQczM+5vbySycD3TZAqqydquIOiKNQY4gJQXjOGM46cX5qB6QtgHRJRyQ8krClmQmJnyROFBJ8ERYiNEBmUWP+XyxJGKvHTjyjsBDsRUxLONYw/RodwmR+it/CQIQGSHm6J+F0IBqJ4FIhwRvrDdIlXfR9XG/A3XcsnuktQFGrAkYALLo2DzQTTxb1BsAUgTXH5mjPANLvNOL/wmr9dcAtx+aFZuKpom4KOF9PaRijhX1cM0GEakG2rPFqFZW6MHG1YHGumXDa05wvXAlqsRgmcnGu9AQg42lrTfjeEMu6NvMbtCADIBfUosS2vMUfPQEIRJJF3QZxcCiK4/NxLjcTni1r158aHkN47do8ZzJvtNR8LFnUDhAugcMSxlvdILEi4CWEpGvzs0ndOAN1c+AtgFBTvc4wGNr9JggzgKcHEE6aXtK0Tjx0LZ5qmZhJOOWpYop9I42gHY7Fia4AkkXJBNmq7tpsmbK5Bf0GSHmqSYh0kgIJ37EY7aoFKU8fJOzpEGDJsTjZHUBJs/JxrSOACC47Cc53BXC3rE3LNTyBMN0WBLEwnMDMHFntCuD/5bSnGQmHQLT8VhAqJF4VLD4NA2z8BWFEujkzABgk8A/y6sYhQWslfQAAAABJRU5ErkJggg==",H=5,O=2e3,er=r=>{var a;const{item:n}=r;return n!=null&&n.subItems?o.jsx(tr,{...r}):(n==null?void 0:n.id)===((a=P)==null?void 0:a.CETUS)?o.jsx(ar,{...r}):o.jsx(ur,{...r})},tr=({item:r,checkedMap:n,onSelect:a})=>{var v,y,h,T;const e=s=>!!(n!=null&&n[s]),t=(v=r==null?void 0:r.subItems)==null?void 0:v.every(s=>e(s==null?void 0:s.id)),x=s=>{var d,w,B;f||((d=r==null?void 0:r.subItems)!=null&&d.every(c=>e(c==null?void 0:c.id))?(w=r==null?void 0:r.subItems)==null||w.forEach(c=>a(c==null?void 0:c.id,!1)):(B=r==null?void 0:r.subItems)==null||B.forEach(c=>a(c==null?void 0:c.id,!0)))},{isOpen:u,onClose:g,onOpen:p,onToggle:Q}=G(),z=b.useMemo(()=>{var s;return(s=r==null?void 0:r.subItems)==null?void 0:s.reduce((d,w)=>Z(d).plus(e(w==null?void 0:w.id)?1:0).toNumber(),0)},[JSON.stringify(r==null?void 0:r.subItems),n]),j=b.useRef(null),f=(r==null?void 0:r.groupId)==="CETUS",A=b.useRef(0),_=b.useRef(null),S=()=>{_.current&&(clearTimeout(_.current),A.current=0)},F=s=>{f&&(A.current=A.current+1,A.current===1&&(_.current=setTimeout(S,O)),A.current===H&&(s&&a(s==null?void 0:s.id,!e(s==null?void 0:s.id)),S()))},C=nr(document.querySelector(".source-grid"));return b.useEffect(()=>{u&&C&&g()},[C==null?void 0:C.top]),o.jsx(R,{children:o.jsxs(l,{ref:j,justifyContent:"space-between",alignItems:"center",w:"100%",gap:{base:"0px",lg:"8px"},bg:t?"checked_bg":"bg_primary",boxShadow:t?"aggregator_shadow":"unset",border:"1px solid",borderColor:t?"position_status_bg":"border",borderRadius:"8px",p:"0 0 0 12px",cursor:f?"not-allowed":"pointer",onClick:x,sx:{_hover:{".source_name":{color:"primary"}}},children:[o.jsxs(l,{gap:"8px",children:[o.jsx(I,{imageUrl:r==null?void 0:r.logo,w:"24px",h:"24px"}),o.jsx(i,{className:"source_name",color:t?"primary":"text_paragraph",whiteSpace:"nowrap",fontSize:"13px",h:"20px",lineHeight:"20px",children:r==null?void 0:r.name}),f&&o.jsx(m,{src:L,w:"16px",h:"16px"})]}),o.jsxs(k,{gutter:4,placement:"bottom-end",isLazy:!0,isOpen:u,onOpen:()=>{},onClose:g,children:[o.jsx(X,{margin:"-1px",bg:t?"checked_bg":"bg_primary",boxShadow:t?"aggregator_shadow":"unset",border:"1px solid",borderColor:t?"position_status_bg":"border",flex:"0 0 58px",h:"50px",borderRadius:"8px",className:"arrow_box",onClick:s=>{E(s),Q()},_hover:{svg:{fill:"primary"}},children:o.jsxs(q,{gap:"4px",children:[o.jsx(i,{fontSize:"10px",color:"primary",children:z}),o.jsxs(i,{fontSize:"10px",children:["/ ",((y=r==null?void 0:r.subItems)==null?void 0:y.length)||0]}),o.jsx(V,{xlinkHref:"#icon-icon_arrow",fontSize:"12px",variant:"gray",transition:"transform 0.5s",transform:u?"rotate(180deg)":"rotate(0deg)"})]})}),o.jsx(W,{minW:"unset",w:(h=j==null?void 0:j.current)==null?void 0:h.offsetWidth,borderRadius:"8px",p:"12px 8px 12px 12px",bg:"checked_bg",boxShadow:"aggregator_shadow",borderColor:"position_status_bg",onClick:s=>{E(s)},children:o.jsx(N,{w:"100%",gap:"20px",children:(T=r==null?void 0:r.subItems)==null?void 0:T.map(s=>o.jsxs(l,{justifyContent:"space-between",w:"100%",h:"20px",cursor:f?"not-allowed":"pointer",onClick:d=>{if(E(d),f){F(s);return}a(s==null?void 0:s.id,!e(s==null?void 0:s.id))},children:[o.jsx(i,{color:"text_caption",fontSize:"12px",children:s==null?void 0:s.name}),o.jsx($,{isDisabled:f,checked:e(s==null?void 0:s.id),onClick:()=>{}})]},s.name))})})]})]})})},ar=({item:r,checkedMap:n,onSelect:a})=>{const e=b.useRef(0),t=b.useRef(null),x=!!(n!=null&&n[r==null?void 0:r.id]),u=()=>{t.current&&(clearTimeout(t.current),e.current=0)},g=()=>{e.current=e.current+1,e.current===1&&(t.current=setTimeout(u,O)),e.current===H&&(a(r==null?void 0:r.id,!(n!=null&&n[r==null?void 0:r.id])),u())};return o.jsx(R,{children:o.jsxs(l,{justifyContent:"space-between",alignItems:"center",w:"100%",onClick:g,cursor:"not-allowed",bg:x?"checked_bg":"bg_primary",boxShadow:x?"aggregator_shadow":"unset",border:"1px solid",borderColor:x?"position_status_bg":"border",borderRadius:"8px",p:"12px",_hover:{p:{color:"primary"}},children:[o.jsxs(l,{gap:"8px",children:[o.jsx(I,{imageUrl:r==null?void 0:r.logo,w:"24px",h:"24px"}),o.jsx(i,{color:x?"primary":"text_paragraph",whiteSpace:"nowrap",fontSize:"13px",h:"20px",lineHeight:"20px",children:r==null?void 0:r.name})]}),x&&o.jsx(m,{src:L,w:"16px",h:"16px"})]})})},ur=({item:r,checkedMap:n,onSelect:a})=>{const e=!!(n!=null&&n[r==null?void 0:r.id]);return o.jsx(R,{children:o.jsxs(l,{w:"100%",gap:"8px",cursor:"pointer",p:"12px",onClick:()=>a(r==null?void 0:r.id,!(n!=null&&n[r==null?void 0:r.id])),border:"1px solid",borderRadius:"8px",borderColor:e?"position_status_bg":"border",bg:e?"checked_bg":"bg_primary",boxShadow:e?"aggregator_shadow":"unset",_hover:{p:{color:"primary"}},children:[o.jsx(I,{imageUrl:r==null?void 0:r.logo,w:"24px",h:"24px"}),o.jsx(i,{color:e?"primary":"text_paragraph",whiteSpace:"nowrap",fontSize:"13px",h:"20px",lineHeight:"20px",children:r==null?void 0:r.name})]})})},vr=({title:r,isAllChecked:n,onAllSelect:a,onItemSelect:e,list:t=[],checkedMap:x={},checkedNum:u,totalNum:g})=>o.jsxs(N,{w:"100%",justify:"flex-start",gap:"12px",maxH:{base:"max(200px, min(calc(50vh - 120px), 238px))",lg:"238px"},children:[o.jsxs(l,{justifyContent:"space-between",alignItems:"center",w:"100%",h:"16px",children:[o.jsx(i,{fontSize:"14px",h:"16px",margin:"0px",lineHeight:"16px",color:"text_caption",fontWeight:"500",children:r}),o.jsxs(l,{children:[o.jsx(Y,{num:u,total:g}),o.jsx(K,{id:r,onChange:a,isChecked:n})]})]}),o.jsxs(J,{w:"100%",children:[o.jsx(D,{templateColumns:{base:"repeat(2, 1fr)",lg:"repeat(3, 1fr)"},gap:"8px",maxH:{base:"max(140px, min(200px, calc(50vh - 200px)))",lg:"200px"},overflowY:"scroll",pb:"8px",className:"source-grid",children:t==null?void 0:t.map(p=>o.jsx(er,{item:p,checkedMap:x,onSelect:e},p==null?void 0:p.name))}),o.jsx(J,{w:"100%",pos:"relative",h:"1px",_after:{content:'""',position:"absolute",left:0,bottom:0,width:"100%",height:"8px",background:"aggregator_box_shadow"}})]})]});export{vr as default};
