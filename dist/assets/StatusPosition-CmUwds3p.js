import{a as H,f as W,g as E,h as M,i as z}from"./usePositionList-5SlPZsY2.js";import{u as L}from"./useAccountBalance-D7pkS3C9.js";import{M as O,Z as C,C as Z,c as q}from"./index-ihcskjKt.js";import{r as J,j as r,F as K,C as N,m as Q,H as U,n as V,T as j}from"./vendor-CBmAETR3.js";import"./cross-CbhIs7DK.js";import{u as X}from"./useTransaction-BEUdFaaa.js";import{a as Y}from"./usePosClaimFeeAndReward-R-HkZji1.js";import{i as $}from"./icon_active_new@2x-Bekkt6Xc.js";function le(){const{fetchAccountBalance:s}=L(),{posRewardsData:l,farmsPosRewardsData:t}=H(),{getPosFeeData:d}=W(),{getPosRewardsData:u}=E(),{getFarmsRewardsData:x}=M(),{signAndExecuteTransaction:g}=X(),{getPosClaimFeeAndRewardAndFarmsTxPayload:A}=Y(),{currentAccount:y}=O(),[R,T]=J.useState(!1),{getPosPoolsOriginalObj:S}=z();return{toClaimPosition:async(e,F,h)=>{T(!0);try{const P=e==null?void 0:e.posId,w=e==null?void 0:e.id,b=t[w]||[],B=l[P]||[],p=b.map(c=>C(c.token.coin_type)),D=B.map(c=>C(c.token.coin_type)),a=Array.from(new Set(D)),m={posType:e==null?void 0:e.posType,id:w,clmmPool:e==null?void 0:e.clmmPool,coinTypeA:e==null?void 0:e.coinTypeA,coinTypeB:e==null?void 0:e.coinTypeB,rewarderCoinTypes:a,account:y==null?void 0:y.address,dlmmPool:e==null?void 0:e.dlmmPool};console.log("ðŸš€ ~ toClaimPosition ~ params:",m),h&&(m.farmsPool=e==null?void 0:e.farmsPool),console.log("ðŸš€ ~ toClaim ~ params:",a,m);const{tx:k,msafeParams:_}=await A(m),G={posType:e==null?void 0:e.posType,posId:(e==null?void 0:e.posType)=="farms"?e==null?void 0:e.id:e==null?void 0:e.posId,poolAddress:e==null?void 0:e.clmmPool,coinTypeA:e==null?void 0:e.coinTypeA,coinTypeB:e==null?void 0:e.coinTypeB,rewarderCoinType1:a==null?void 0:a[0],rewarderCoinType2:a==null?void 0:a[1],rewarderCoinType3:a==null?void 0:a[2],txAction:"claimFeeAndReward"};if(await g(k,{getShowInfo:c=>({modalDescriptionText:"",toastTitleText:c==="success"?"Claim Successful":""})},{msafeParams:_,trackData:G})){const c=F||await S([e]);console.log("ðŸš€ ~ toClaim ~ poolInfo:",c),setTimeout(()=>{s(),h&&x([e]),d([e]),u([e],{[c.poolAddress]:c})},2e3)}}catch(P){console.error("ðŸš€ ~ toClaim ~ error:",P)}finally{T(!1)}},isClaimLoading:R}}function me({isActive:s,isLoading:l,imgStyle:t={},...d}){const{imgW:u="16px",imgH:x="12px"}=t;return r.jsx(r.Fragment,{children:!l&&r.jsx(Z,{placement:"top",tooltip:r.jsx(j,{fontSize:"12px",lineHeight:"20px",maxW:"240px",textAlign:"left",children:s?"The price of this pool is currently within your position price range.":"The price of this pool is currently out of your position price range."}),children:r.jsx(K,{minW:s?"76px":"62px",borderRadius:"8px",align:"center",justifyContent:"center",bg:"bg_secondary",h:"18px",p:"0px 8px",...d,children:r.jsx(N,{onClick:g=>q(g),children:r.jsx(Q,{w:"100%",isLoaded:!l,children:r.jsxs(U,{align:"center",children:[s&&r.jsx(V,{w:u,h:x,src:$}),r.jsx(j,{fontSize:"12px",color:s?"primary":"primary_gray",fontWeight:"500",children:s?"Active":"Inactive"})]})})})})})})}export{me as S,le as u};
//# sourceMappingURL=StatusPosition-CmUwds3p.js.map
